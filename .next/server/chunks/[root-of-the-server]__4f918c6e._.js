module.exports=[224361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},254799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},324725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},697908,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{INTERCEPTION_ROUTE_MARKERS:function(){return a},extractInterceptionRouteInformation:function(){return i},isInterceptionRouteAppPath:function(){return o}});let n=e.r(5847),a=["(..)(..)","(.)","(..)","(...)"];function o(e){return void 0!==e.split("/").find(e=>a.find(t=>e.startsWith(t)))}function i(e){let t,r,o;for(let n of e.split("/"))if(r=a.find(e=>n.startsWith(e))){[t,o]=e.split(r,2);break}if(!t||!r||!o)throw Object.defineProperty(Error("Invalid interception route: "+e+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":o="/"===t?"/"+o:t+"/"+o;break;case"(..)":if("/"===t)throw Object.defineProperty(Error("Invalid interception route: "+e+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});o=t.split("/").slice(0,-1).concat(o).join("/");break;case"(...)":o="/"+o;break;case"(..)(..)":let i=t.split("/");if(i.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+e+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});o=i.slice(0,-2).concat(o).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:t,interceptedRoute:o}}},193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},587127,e=>{"use strict";function t(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}e.s(["C",()=>o,"isRecord",()=>t,"stegaClean",()=>l]);var r={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},n={0:8203,1:8204,2:8205,3:65279},a=[,,,,].fill(String.fromCodePoint(n[0])).join("");function o(e,t,r="auto"){let i;return!0===r||"auto"===r&&(!(!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e))&&Date.parse(e)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(e))?e:`${e}${i=JSON.stringify(t),`${a}${Array.from(i).map(e=>{let t=e.charCodeAt(0);if(t>255)throw Error(`Only ASCII edit info can be encoded. Error attempting to encode ${i} on character ${e} (${t})`);return Array.from(t.toString(4).padStart(4,"0")).map(e=>String.fromCodePoint(n[e])).join("")}).join("")}`}`}Object.fromEntries(Object.entries(n).map(e=>e.reverse())),Object.fromEntries(Object.entries(r).map(e=>e.reverse()));var i=`${Object.values(r).map(e=>`\\u{${e.toString(16)}}`).join("")}`,s=RegExp(`[${i}]{4,}`,"gu");function l(e){var t,r;return e&&JSON.parse({cleaned:(t=JSON.stringify(e)).replace(s,""),encoded:(null==(r=t.match(s))?void 0:r[0])||""}.cleaned)}},137936,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"registerServerReference",{enumerable:!0,get:function(){return n.registerServerReference}});let n=e.r(211857)},713095,(e,t,r)=>{"use strict";function n(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureServerEntryExports",{enumerable:!0,get:function(){return n}})},292603,(e,t,r)=>{"use strict";function n(e,t,r){if(e)for(let o of(r&&(r=r.toLowerCase()),e)){var n,a;if(t===(null==(n=o.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===o.defaultLocale.toLowerCase()||(null==(a=o.locales)?void 0:a.some(e=>e.toLowerCase()===r)))return o}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return n}})},971442,(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n}})},791150,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return a}});let n=e.r(971442);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:o}=(0,n.parsePath)(e);return""+t+r+a+o}},347074,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return a}});let n=e.r(971442);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:o}=(0,n.parsePath)(e);return""+r+t+a+o}},139481,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return a}});let n=e.r(971442);function a(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},507700,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return o}});let n=e.r(791150),a=e.r(139481);function o(e,t,r,o){if(!t||t===r)return e;let i=e.toLowerCase();return!o&&((0,a.pathHasPrefix)(i,"/api")||(0,a.pathHasPrefix)(i,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},97642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=e.r(374993),a=e.r(791150),o=e.r(347074),i=e.r(507700);function s(e){let t=(0,i.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,o.addPathSuffix)((0,a.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,a.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,o.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},64239,(e,t,r)=>{"use strict";function n(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return n}})},361601,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return a}});let n=e.r(139481);function a(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},294971,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return i}});let n=e.r(603885),a=e.r(361601),o=e.r(139481);function i(e,t){var r,i;let{basePath:s,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};s&&(0,o.pathHasPrefix)(c.pathname,s)&&(c.pathname=(0,a.removePathPrefix)(c.pathname,s),c.basePath=s);let d=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");c.buildId=e[0],d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(i=e.pathname)?i:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},522670,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return c}});let n=e.r(292603),a=e.r(97642),o=e.r(64239),i=e.r(294971),s=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(s,"localhost"),t&&String(t).replace(s,"localhost"))}let u=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,a;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,a=r||{}):a=r||t||{},this[u]={url:l(e,n??a.base),options:a,basePath:""},this.analyze()}analyze(){var e,t,r,a,s;let l=(0,i.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=(0,o.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,c);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(s=this[u].options.nextConfig)||null==(a=s.i18n)?void 0:a.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=d,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??d,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,a.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[u].options)}}},989753,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{PageSignatureError:function(){return n},RemovedPageError:function(){return a},RemovedUAError:function(){return o}});class n extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class o extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},488491,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{INTERNALS:function(){return s},NextRequest:function(){return l}});let n=e.r(522670),a=e.r(392273),o=e.r(989753),i=e.r(563681),s=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let o=new n.NextURL(r,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[s]={cookies:new i.RequestCookies(this.headers),nextUrl:o,url:o.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[s].cookies}get nextUrl(){return this[s].nextUrl}get page(){throw new o.RemovedPageError}get ua(){throw new o.RemovedUAError}get url(){return this[s].url}}},961724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},450841,e=>{"use strict";function t(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}e.s(["C",()=>o,"isRecord",()=>t,"stegaClean",()=>l]);var r={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},n={0:8203,1:8204,2:8205,3:65279},a=[,,,,].fill(String.fromCodePoint(n[0])).join("");function o(e,t,r="auto"){let i;return!0===r||"auto"===r&&(!(!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e))&&Date.parse(e)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(e))?e:`${e}${i=JSON.stringify(t),`${a}${Array.from(i).map(e=>{let t=e.charCodeAt(0);if(t>255)throw Error(`Only ASCII edit info can be encoded. Error attempting to encode ${i} on character ${e} (${t})`);return Array.from(t.toString(4).padStart(4,"0")).map(e=>String.fromCodePoint(n[e])).join("")}).join("")}`}`}Object.fromEntries(Object.entries(n).map(e=>e.reverse())),Object.fromEntries(Object.entries(r).map(e=>e.reverse()));var i=`${Object.values(r).map(e=>`\\u{${e.toString(16)}}`).join("")}`,s=RegExp(`[${i}]{4,}`,"gu");function l(e){var t,r;return e&&JSON.parse({cleaned:(t=JSON.stringify(e)).replace(s,""),encoded:(null==(r=t.match(s))?void 0:r[0])||""}.cleaned)}},925011,e=>{"use strict";e.s(["7f4e69546af491e7d5def87ff4ed0f585fc7ea9b22",()=>r.revalidateSyncTags,"7fdea29212f5ad326be9bb71926138a9a318e9bdf2",()=>r.setPerspectiveCookie],925011),e.s([],828993);var t=e.i(783132);e.i(828993);var r=t},423502,(e,t,r)=>{},222260,(e,t,r)=>{"use strict";t.exports=e.r(442315).vendored["react-rsc"].ReactJsxRuntime},149579,(e,t,r)=>{"use strict";t.exports=e.r(442315).vendored["react-rsc"].ReactDOM},837090,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(997953).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/@sanity/next-loader/dist/client-components/live.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@sanity/next-loader/dist/client-components/live.js <module evaluation>","default")},414145,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(997953).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/@sanity/next-loader/dist/client-components/live.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@sanity/next-loader/dist/client-components/live.js","default")},374113,e=>{"use strict";e.i(837090);var t=e.i(414145);e.n(t)},774201,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(997953).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/@sanity/next-loader/dist/client-components/live-stream.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@sanity/next-loader/dist/client-components/live-stream.js <module evaluation>","default")},557521,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(997953).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/@sanity/next-loader/dist/client-components/live-stream.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/@sanity/next-loader/dist/client-components/live-stream.js","default")},134661,e=>{"use strict";e.i(774201);var t=e.i(557521);e.n(t)},141015,e=>{"use strict";e.s(["handler",()=>D,"patchFetch",()=>q,"routeModule",()=>T,"serverHooks",()=>U,"workAsyncStorage",()=>M,"workUnitAsyncStorage",()=>$],141015);var t=e.i(747909),r=e.i(174017),n=e.i(996250),a=e.i(759756),o=e.i(561916),i=e.i(869741),s=e.i(316795),l=e.i(487718),u=e.i(995169),c=e.i(47587),d=e.i(666012),p=e.i(570101),h=e.i(626937),f=e.i(10372),m=e.i(193695);e.i(52474);var v=e.i(600220);e.s(["GET",()=>k],831833);var g=e.i(89171);e.i(423502);var b=e.i(222260),y=e.i(149579),x=e.i(374113),P=e.i(134661),R=e.i(493458),E=e.i(561886);let _="sanity-preview-perspective";async function j(){return(await (0,R.draftMode)()).isEnabled?(await (0,R.cookies)()).has(_)?function(e,t){let r="string"==typeof e&&e.includes(",")?e.split(","):e;try{return(0,E.validateApiPerspective)(r),"raw"===r?t:r}catch(n){return console.warn("Invalid perspective:",e,r,n),t}}((await (0,R.cookies)()).get(_)?.value,"drafts"):"drafts":"published"}var w=e.i(792825);let O=(0,E.createClient)({projectId:w.projectId,dataset:w.dataset,apiVersion:w.apiVersion,useCdn:!0,stega:{studioUrl:`https://${process.env.VERCEL_URL}/studio`}}),C=process.env.SANITY_API_READ_TOKEN;if(!C)throw Error("Missing SANITY_API_READ_TOKEN");let{sanityFetch:S,SanityLive:A}=function(e){let{client:t,serverToken:r,browserToken:n,fetchOptions:a,stega:o=!0}=e;if(!t)throw Error("`client` is required for `defineLive` to function");let i=t.withConfig({allowReconfigure:!1,useCdn:!1}),{token:s}=i.config(),l="u">typeof i.config().stega.studioUrl,u=async function({query:e,params:t={},stega:n,tags:u=["sanity"],perspective:c,tag:d,requestTag:p=d??"next-loader.fetch"}){let h=n??(o&&l&&(await (0,R.draftMode)()).isEnabled),f=c??await j(),m="published"===f,v=a?.revalidate!==void 0&&a.revalidate,{syncTags:g}=await i.fetch(e,await t,{filterResponse:!1,perspective:f,stega:!1,returnQuery:!1,next:{revalidate:v,tags:[...u,"sanity:fetch-sync-tags"]},useCdn:m,cacheMode:m?"noStale":void 0,tag:[p,"fetch-sync-tags"].filter(Boolean).join(".")}),b=[...u,...g?.map(e=>`sanity:${e}`)||[]],{result:y,resultSourceMap:x}=await i.fetch(e,await t,{filterResponse:!1,perspective:f,stega:h,token:"published"!==f&&r?r:s,next:{revalidate:v,tags:b},useCdn:m,cacheMode:m?"noStale":void 0,tag:p});return{data:y,sourceMap:x||null,tags:b}};return{sanityFetch:u,SanityLive:async function(e){let{refreshOnMount:t,refreshOnFocus:r,refreshOnReconnect:a,tag:o,requestTag:s=o,onError:l,onGoAway:u,intervalOnGoAway:c,revalidateSyncTags:d}=e,{projectId:p,dataset:h,apiHost:f,apiVersion:m,useProjectHostname:v,requestTagPrefix:g}=i.config(),{isEnabled:P}=await (0,R.draftMode)(),{origin:E}=new URL(i.getUrl("",!1));return(0,y.preconnect)(E),(0,y.prefetchDNS)(E),(0,b.jsx)(x.default,{projectId:p,dataset:h,apiHost:f,apiVersion:m,useProjectHostname:v,requestTagPrefix:g,requestTag:s,token:"string"==typeof n&&P?n:void 0,draftModeEnabled:P,draftModePerspective:await j(),refreshOnMount:t,refreshOnFocus:r,refreshOnReconnect:a,onError:l,onGoAway:u,intervalOnGoAway:c,revalidateSyncTags:d})},SanityLiveStream:async function(e){let{query:t,params:r,perspective:n,stega:a,tags:s,children:c,tag:d,requestTag:p=d??"next-loader.live-stream.fetch"}=e,{data:h,sourceMap:f,tags:m}=await u({query:t,params:r,tags:s,perspective:n,stega:a,requestTag:p}),{isEnabled:v}=await (0,R.draftMode)();if(v){let e=a??(o&&l&&(await (0,R.draftMode)()).isEnabled),s=n??await j(),{projectId:u,dataset:d}=i.config();return(0,b.jsx)(P.default,{projectId:u,dataset:d,query:t,params:await r,perspective:s,stega:e,initial:c({data:h,sourceMap:f,tags:m}),children:c})}return c({data:h,sourceMap:f,tags:m})}}}({client:O,serverToken:C,browserToken:C,fetchOptions:{revalidate:0}}),N=async e=>{let t=`
    *[_type == "sale" && isActive == true && couponCode == $couponCode]
    | order(validFrom desc) [0]
  `;try{let r=await S({query:t,params:{couponCode:e}});return r?r.data:null}catch(e){return console.error("Error fetching active sale by coupon code:",e),null}},I={BFRIDAY:"BFRIDAY"};async function k(){try{let e=await N(I.BFRIDAY);if(console.log("ðŸ” API Route - Sale result:",e),!e)return console.log("ðŸ“­ API Route - No sale found"),new g.NextResponse(null,{status:404});return console.log("âœ… API Route - Returning sale:",e),g.NextResponse.json({title:e.title,description:e.description,couponCode:e.couponCode,discountAmount:e.discountAmount,isActive:e.isActive})}catch(e){return console.error("ðŸ’¥ API Route - Error:",e),new g.NextResponse(null,{status:500})}}var L=e.i(831833);let T=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/sale/black-friday/route",pathname:"/api/sale/black-friday",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/sale/black-friday/route.ts",nextConfigOutput:"",userland:L}),{workAsyncStorage:M,workUnitAsyncStorage:$,serverHooks:U}=T;function q(){return(0,n.patchFetch)({workAsyncStorage:M,workUnitAsyncStorage:$})}async function D(e,t,n){var g;let b="/api/sale/black-friday/route";b=b.replace(/\/index$/,"")||"/";let y=await T.prepare(e,t,{srcPage:b,multiZoneDraftMode:!1});if(!y)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:x,params:P,nextConfig:R,isDraftMode:E,prerenderManifest:_,routerServerContext:j,isOnDemandRevalidate:w,revalidateOnlyGenerated:O,resolvedPathname:C}=y,S=(0,i.normalizeAppPath)(b),A=!!(_.dynamicRoutes[S]||_.routes[C]);if(A&&!E){let e=!!_.routes[C],t=_.dynamicRoutes[S];if(t&&!1===t.fallback&&!e)throw new m.NoFallbackError}let N=null;!A||T.isDev||E||(N="/index"===(N=C)?"/":N);let I=!0===T.isDev||!A,k=A&&!I,L=e.method||"GET",M=(0,o.getTracer)(),$=M.getActiveScopeSpan(),U={params:P,prerenderManifest:_,renderOpts:{experimental:{cacheComponents:!!R.experimental.cacheComponents,authInterrupts:!!R.experimental.authInterrupts},supportsDynamicResponse:I,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(g=R.experimental)?void 0:g.cacheLife,isRevalidate:k,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n)=>T.onRequestError(e,t,n,j)},sharedContext:{buildId:x}},q=new s.NodeNextRequest(e),D=new s.NodeNextResponse(t),H=l.NextRequestAdapter.fromNodeNextRequest(q,(0,l.signalFromNodeResponse)(t));try{let i=async r=>T.handle(H,U).finally(()=>{if(!r)return;r.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let n=M.getRootSpanAttributes();if(!n)return;if(n.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${n.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=n.get("next.route");if(a){let e=`${L} ${a}`;r.setAttributes({"next.route":a,"http.route":a,"next.span_name":e}),r.updateName(e)}else r.updateName(`${L} ${e.url}`)}),s=async o=>{var s,l;let u=async({previousCacheEntry:r})=>{try{if(!(0,a.getRequestMeta)(e,"minimalMode")&&w&&O&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await i(o);e.fetchMetrics=U.renderOpts.fetchMetrics;let l=U.renderOpts.pendingWaitUntil;l&&n.waitUntil&&(n.waitUntil(l),l=void 0);let u=U.renderOpts.collectedTags;if(!A)return await (0,d.sendResponse)(q,D,s,U.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,p.toNodeOutgoingHttpHeaders)(s.headers);u&&(t[f.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==U.renderOpts.collectedRevalidate&&!(U.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&U.renderOpts.collectedRevalidate,n=void 0===U.renderOpts.collectedExpire||U.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:U.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await T.onRequestError(e,t,{routerKind:"App Router",routePath:b,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isRevalidate:k,isOnDemandRevalidate:w})},j),t}},m=await T.handleResponse({req:e,nextConfig:R,cacheKey:N,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:_,isRoutePPREnabled:!1,isOnDemandRevalidate:w,revalidateOnlyGenerated:O,responseGenerator:u,waitUntil:n.waitUntil});if(!A)return null;if((null==m||null==(s=m.value)?void 0:s.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==m||null==(l=m.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,a.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",w?"REVALIDATED":m.isMiss?"MISS":m.isStale?"STALE":"HIT"),E&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let g=(0,p.fromNodeOutgoingHttpHeaders)(m.value.headers);return(0,a.getRequestMeta)(e,"minimalMode")&&A||g.delete(f.NEXT_CACHE_TAGS_HEADER),!m.cacheControl||t.getHeader("Cache-Control")||g.get("Cache-Control")||g.set("Cache-Control",(0,h.getCacheControlHeader)(m.cacheControl)),await (0,d.sendResponse)(q,D,new Response(m.value.body,{headers:g,status:m.value.status||200})),null};$?await s($):await M.withPropagatedContext(e.headers,()=>M.trace(u.BaseServerSpan.handleRequest,{spanName:`${L} ${e.url}`,kind:o.SpanKind.SERVER,attributes:{"http.method":L,"http.target":e.url}},s))}catch(t){if($||t instanceof m.NoFallbackError||await T.onRequestError(e,t,{routerKind:"App Router",routePath:S,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isRevalidate:k,isOnDemandRevalidate:w})}),A)throw t;return await (0,d.sendResponse)(q,D,new Response(null,{status:500})),null}}},609489,e=>{e.v(t=>Promise.all(["server/chunks/node_modules_@sanity_client_dist__chunks-es_stegaEncodeSourceMap_e91a1003.js"].map(t=>e.l(t))).then(()=>t(614025)))},276016,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__67ed145b._.js"].map(t=>e.l(t))).then(()=>t(312374)))},11279,e=>{e.v(t=>Promise.all(["server/chunks/node_modules_@sanity_client_dist__chunks-es_stegaEncodeSourceMap_0e5ad43c.js"].map(t=>e.l(t))).then(()=>t(720191)))},552815,e=>{e.v(t=>Promise.all(["server/chunks/[root-of-the-server]__1124ac15._.js"].map(t=>e.l(t))).then(()=>t(264441)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4f918c6e._.js.map