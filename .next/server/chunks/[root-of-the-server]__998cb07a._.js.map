{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/env.ts"],"sourcesContent":["export const apiVersion =\n  process.env.NEXT_PUBLIC_SANITY_API_VERSION || '2025-09-16'\n\nexport const dataset = assertValue(\n  process.env.NEXT_PUBLIC_SANITY_DATASET,\n  'Missing environment variable: NEXT_PUBLIC_SANITY_DATASET'\n)\n\nexport const projectId = assertValue(\n  process.env.NEXT_PUBLIC_SANITY_PROJECT_ID,\n  'Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID'\n)\n\nfunction assertValue<T>(v: T | undefined, errorMessage: string): T {\n  if (v === undefined) {\n    throw new Error(errorMessage)\n  }\n\n  return v\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,aACX,QAAQ,GAAG,CAAC,8BAA8B,IAAI;AAEzC,MAAM,UAAU,4DAErB;AAGK,MAAM,YAAY,0DAEvB;AAGF,SAAS,YAAe,CAAgB,EAAE,YAAoB;IAC5D,IAAI,MAAM,WAAW;QACnB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/lib/client.ts"],"sourcesContent":["import { createClient } from 'next-sanity'\n\nimport { apiVersion, dataset, projectId } from '../env'\n\nexport const client = createClient({\n  projectId,\n  dataset,\n  apiVersion,\n  useCdn: true, // Set to false if statically generating pages, using ISR or tag-based revalidation\n  stega: {\n    studioUrl: process.env.NODE_ENV === \"production\"\n      ? `https://${process.env.VERCEL_URL}/studio`\n      : `${process.env.NEXT_PUBLIC_BASE_URL}/studio`,\n  },\n});\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,SAAS,IAAA,gMAAY,EAAC;IACjC,WAAA,4HAAS;IACT,SAAA,0HAAO;IACP,YAAA,6HAAU;IACV,QAAQ;IACR,OAAO;QACL,WAAW,sCACP,0BACA,2DAAoC,OAAO,CAAC;IAClD;AACF","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/lib/live.ts"],"sourcesContent":["import \"server-only\";\n\nimport { defineLive } from \"next-sanity/live\";\nimport { client } from \"@/sanity/lib/client\";\n\n// Set your viewer token\nconst token = process.env.SANITY_API_READ_TOKEN;\nif(!token){\n  throw new Error(\"Missing SANITY_API_READ_TOKEN\");\n}\n\nexport const { sanityFetch, SanityLive } = defineLive({\n  client,\n  serverToken: token,\n  browserToken: token,\n  fetchOptions:{\n    revalidate: 0,\n  },\n})"],"names":[],"mappings":";;;;;;AAAA;AAEA;AACA;;;;AAEA,wBAAwB;AACxB,MAAM,QAAQ,QAAQ,GAAG,CAAC,qBAAqB;AAC/C,IAAG,CAAC,OAAM;IACR,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,EAAE,WAAW,EAAE,UAAU,EAAE,GAAG,IAAA,2LAAU,EAAC;IACpD,QAAA,mIAAM;IACN,aAAa;IACb,cAAc;IACd,cAAa;QACX,YAAY;IACd;AACF","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/lib/sales/getActiveSaleByCouponCode.ts"],"sourcesContent":["import { defineQuery } from \"next-sanity\";\nimport { CouponCode } from \"./couponCodes\";\nimport { sanityFetch } from \"../live\";\n\nexport const getActiveSaleByCouponCode = async (couponCode: CouponCode) => {\n  const ACTIVE_SALE_BY_COUPON_QUERY = defineQuery(`\n    *[_type == \"sale\" && isActive == true && couponCode == $couponCode]\n    | order(validFrom desc) [0]\n  `);\n\n  try {\n    const activeSale = await sanityFetch({\n      query: ACTIVE_SALE_BY_COUPON_QUERY,\n      params: {\n        couponCode,\n      },\n    });\n    return activeSale ? activeSale.data : null;\n  } catch (error) {\n    console.error(\"Error fetching active sale by coupon code:\", error);\n    return null;\n  }\n};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,4BAA4B,OAAO;IAC9C,MAAM,8BAA8B,IAAA,oJAAW,EAAC,CAAC;;;EAGjD,CAAC;IAED,IAAI;QACF,MAAM,aAAa,MAAM,IAAA,sIAAW,EAAC;YACnC,OAAO;YACP,QAAQ;gBACN;YACF;QACF;QACA,OAAO,aAAa,WAAW,IAAI,GAAG;IACxC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8CAA8C;QAC5D,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/lib/sales/couponCodes.ts"],"sourcesContent":["// sanity/lib/sales/couponCodes.ts\nexport const COUPON_CODES = {\n  BFRIDAY: \"BFRIDAY\",\n  XMAS2021: \"XMAS2021\",\n  NY2022: \"NY2022\",\n} as const;\n\n// Fix: Use the value type, not the key type\nexport type CouponCode = (typeof COUPON_CODES)[keyof typeof COUPON_CODES];\n// This will be: \"BFRIDAY\" | \"XMAS2021\" | \"NY2022\"\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAC3B,MAAM,eAAe;IAC1B,SAAS;IACT,UAAU;IACV,QAAQ;AACV;CAIA,kDAAkD","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/app/api/sale/black-friday/route.ts"],"sourcesContent":["// app/api/sale/black-friday/route.ts\nimport { NextResponse } from \"next/server\";\nimport { getActiveSaleByCouponCode } from \"@/sanity/lib/sales/getActiveSaleByCouponCode\";\nimport { COUPON_CODES } from \"@/sanity/lib/sales/couponCodes\";\n\nexport async function GET() {\n  try {\n    // This should pass the VALUE \"BFRIDAY\", not the key\n    const sale = await getActiveSaleByCouponCode(COUPON_CODES.BFRIDAY);\n\n    console.log(\"üîç API Route - Sale result:\", sale);\n\n    if (!sale) {\n      console.log(\"üì≠ API Route - No sale found\");\n      return new NextResponse(null, { status: 404 });\n    }\n\n    console.log(\"‚úÖ API Route - Returning sale:\", sale);\n    return NextResponse.json({\n      title: sale.title,\n      description: sale.description,\n      couponCode: sale.couponCode,\n      discountAmount: sale.discountAmount,\n      isActive: sale.isActive,\n    });\n  } catch (error) {\n    console.error(\"üí• API Route - Error:\", error);\n    return new NextResponse(null, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;AACrC;AACA;AACA;;;;AAEO,eAAe;IACpB,IAAI;QACF,oDAAoD;QACpD,MAAM,OAAO,MAAM,IAAA,kLAAyB,EAAC,uJAAY,CAAC,OAAO;QAEjE,QAAQ,GAAG,CAAC,+BAA+B;QAE3C,IAAI,CAAC,MAAM;YACT,QAAQ,GAAG,CAAC;YACZ,OAAO,IAAI,gJAAY,CAAC,MAAM;gBAAE,QAAQ;YAAI;QAC9C;QAEA,QAAQ,GAAG,CAAC,iCAAiC;QAC7C,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO,KAAK,KAAK;YACjB,aAAa,KAAK,WAAW;YAC7B,YAAY,KAAK,UAAU;YAC3B,gBAAgB,KAAK,cAAc;YACnC,UAAU,KAAK,QAAQ;QACzB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,IAAI,gJAAY,CAAC,MAAM;YAAE,QAAQ;QAAI;IAC9C;AACF","debugId":null}}]
}