{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/components/addToBasketButton.tsx"],"sourcesContent":["\"use client\";\n\nimport useBasketStore from \"@/app/(store)/store/store\";\nimport { Product } from \"@/sanity.types\";\nimport { useState, useEffect } from \"react\";\nimport { Plus, Minus, ShoppingCart, Sparkles } from \"lucide-react\";\n\ninterface AddToBasketButtonProps {\n  product: Product;\n  disabled?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nfunction AddToBasketButton({\n  product,\n  disabled,\n  className,\n  children,\n}: AddToBasketButtonProps) {\n  const { addItem, removeItem, getItemCount } = useBasketStore();\n  const itemCount = getItemCount(product._id);\n  const [isClient, setIsClient] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  const handleAdd = () => {\n    addItem(product);\n    setIsAnimating(true);\n    setTimeout(() => setIsAnimating(false), 600);\n  };\n\n  const handleRemove = () => {\n    removeItem(product._id);\n  };\n\n  if (!isClient) {\n    return (\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-12 h-12 bg-gray-200 animate-pulse rounded-2xl\"></div>\n      </div>\n    );\n  }\n\n  // If it's disabled and no items in cart, show simple disabled button\n  if (disabled && itemCount === 0) {\n    return (\n      <button\n        disabled\n        className={`w-full py-4 px-8 text-lg font-semibold rounded-2xl bg-gray-300 text-gray-500 cursor-not-allowed transition-all duration-300 ${className}`}\n      >\n        <span className=\"flex items-center justify-center space-x-2\">\n          <ShoppingCart className=\"w-5 h-5\" />\n          <span>Out of Stock</span>\n        </span>\n      </button>\n    );\n  }\n\n  // If there are items in cart, show the quantity selector\n  if (itemCount > 0) {\n    return (\n      <div className=\"flex items-center justify-center space-x-4 bg-white/80 backdrop-blur-sm rounded-2xl p-2 border border-orange-200 shadow-lg\">\n        <button\n          onClick={handleRemove}\n          className={`w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-300 transform hover:scale-110 ${\n            itemCount === 0\n              ? \"bg-gray-100 cursor-not-allowed\"\n              : \"bg-gradient-to-br from-red-100 to-red-200 hover:from-red-200 hover:to-red-300 shadow-md\"\n          }`}\n          disabled={itemCount === 0 || disabled}\n          aria-label={`Remove ${product.name || \"item\"} from basket`}\n        >\n          <Minus\n            className={`w-5 h-5 ${itemCount === 0 ? \"text-gray-400\" : \"text-red-600\"}`}\n          />\n        </button>\n\n        <div className=\"flex flex-col items-center space-y-1\">\n          <span className=\"text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent\">\n            {itemCount}\n          </span>\n          <span className=\"text-xs text-gray-500 font-medium\">in basket</span>\n        </div>\n\n        <button\n          onClick={handleAdd}\n          className=\"w-12 h-12 rounded-2xl flex items-center justify-center bg-gradient-to-br from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300\"\n          disabled={disabled}\n          aria-label={`Add ${product.name || \"item\"} to basket`}\n        >\n          <Plus className=\"w-5 h-5\" />\n        </button>\n      </div>\n    );\n  }\n\n  // If no items in cart and not disabled, show add to basket button\n  return (\n    <button\n      onClick={handleAdd}\n      disabled={disabled}\n      className={`relative overflow-hidden py-4 px-8 text-lg font-semibold rounded-2xl bg-gradient-to-r from-orange-400 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${className}`}\n      aria-label={`Add ${product.name || \"item\"} to basket`}\n    >\n      {/* Animated sparkle effect */}\n      {isAnimating && (\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          {[...Array(3)].map((_, i) => (\n            <Sparkles\n              key={i}\n              className=\"absolute w-4 h-4 text-yellow-300 animate-ping\"\n              style={{\n                left: `${20 + i * 30}%`,\n                animationDelay: `${i * 0.1}s`,\n              }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Button content */}\n      <span className=\"flex items-center justify-center space-x-2 relative z-10\">\n        <ShoppingCart className=\"w-5 h-5\" />\n        {children || <span>Add to Basket</span>}\n        <Sparkles className=\"w-4 h-4\" />\n      </span>\n\n      {/* Ripple effect */}\n      <span className=\"absolute inset-0 overflow-hidden rounded-2xl\">\n        <span className=\"absolute inset-0 bg-gradient-to-r from-white/20 to-white/10 translate-y-full hover:translate-y-0 transition-transform duration-300\" />\n      </span>\n    </button>\n  );\n}\n\nexport default AddToBasketButton;"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AALA;;;;;AAcA,SAAS,kBAAkB,EACzB,OAAO,EACP,QAAQ,EACR,SAAS,EACT,QAAQ,EACe;IACvB,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,IAAA,8IAAc;IAC5D,MAAM,YAAY,aAAa,QAAQ,GAAG;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,QAAQ;QACR,eAAe;QACf,WAAW,IAAM,eAAe,QAAQ;IAC1C;IAEA,MAAM,eAAe;QACnB,WAAW,QAAQ,GAAG;IACxB;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qEAAqE;IACrE,IAAI,YAAY,cAAc,GAAG;QAC/B,qBACE,8OAAC;YACC,QAAQ;YACR,WAAW,CAAC,4HAA4H,EAAE,WAAW;sBAErJ,cAAA,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,sOAAY;wBAAC,WAAU;;;;;;kCACxB,8OAAC;kCAAK;;;;;;;;;;;;;;;;;IAId;IAEA,yDAAyD;IACzD,IAAI,YAAY,GAAG;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS;oBACT,WAAW,CAAC,6GAA6G,EACvH,cAAc,IACV,mCACA,2FACJ;oBACF,UAAU,cAAc,KAAK;oBAC7B,cAAY,CAAC,OAAO,EAAE,QAAQ,IAAI,IAAI,OAAO,YAAY,CAAC;8BAE1D,cAAA,8OAAC,6MAAK;wBACJ,WAAW,CAAC,QAAQ,EAAE,cAAc,IAAI,kBAAkB,gBAAgB;;;;;;;;;;;8BAI9E,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCACb;;;;;;sCAEH,8OAAC;4BAAK,WAAU;sCAAoC;;;;;;;;;;;;8BAGtD,8OAAC;oBACC,SAAS;oBACT,WAAU;oBACV,UAAU;oBACV,cAAY,CAAC,IAAI,EAAE,QAAQ,IAAI,IAAI,OAAO,UAAU,CAAC;8BAErD,cAAA,8OAAC,0MAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;;IAIxB;IAEA,kEAAkE;IAClE,qBACE,8OAAC;QACC,SAAS;QACT,UAAU;QACV,WAAW,CAAC,2UAA2U,EAAE,WAAW;QACpW,cAAY,CAAC,IAAI,EAAE,QAAQ,IAAI,IAAI,OAAO,UAAU,CAAC;;YAGpD,6BACC,8OAAC;gBAAI,WAAU;0BACZ;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,8OAAC,sNAAQ;wBAEP,WAAU;wBACV,OAAO;4BACL,MAAM,GAAG,KAAK,IAAI,GAAG,CAAC,CAAC;4BACvB,gBAAgB,GAAG,IAAI,IAAI,CAAC,CAAC;wBAC/B;uBALK;;;;;;;;;;0BAYb,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,sOAAY;wBAAC,WAAU;;;;;;oBACvB,0BAAY,8OAAC;kCAAK;;;;;;kCACnB,8OAAC,sNAAQ;wBAAC,WAAU;;;;;;;;;;;;0BAItB,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAK,WAAU;;;;;;;;;;;;;;;;;AAIxB;uCAEe","debugId":null}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/env.ts"],"sourcesContent":["export const apiVersion =\n  process.env.NEXT_PUBLIC_SANITY_API_VERSION || '2025-09-16'\n\nexport const dataset = assertValue(\n  process.env.NEXT_PUBLIC_SANITY_DATASET,\n  'Missing environment variable: NEXT_PUBLIC_SANITY_DATASET'\n)\n\nexport const projectId = assertValue(\n  process.env.NEXT_PUBLIC_SANITY_PROJECT_ID,\n  'Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID'\n)\n\nfunction assertValue<T>(v: T | undefined, errorMessage: string): T {\n  if (v === undefined) {\n    throw new Error(errorMessage)\n  }\n\n  return v\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,aACX,QAAQ,GAAG,CAAC,8BAA8B,IAAI;AAEzC,MAAM,UAAU,4DAErB;AAGK,MAAM,YAAY,0DAEvB;AAGF,SAAS,YAAe,CAAgB,EAAE,YAAoB;IAC5D,IAAI,MAAM,WAAW;QACnB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/sanity/lib/client.ts"],"sourcesContent":["import { createClient } from 'next-sanity'\n\nimport { apiVersion, dataset, projectId } from '../env'\n\nexport const client = createClient({\n  projectId,\n  dataset,\n  apiVersion,\n  useCdn: true, // Set to false if statically generating pages, using ISR or tag-based revalidation\n  stega: {\n    studioUrl: process.env.NODE_ENV === \"production\"\n      ? `https://${process.env.VERCEL_URL}/studio`\n      : `${process.env.NEXT_PUBLIC_BASE_URL}/studio`,\n  },\n});\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,SAAS,IAAA,mLAAY,EAAC;IACjC,WAAA,0HAAS;IACT,SAAA,wHAAO;IACP,YAAA,2HAAU;IACV,QAAQ;IACR,OAAO;QACL,WAAW,sCACP,0BACA,2DAAoC,OAAO,CAAC;IAClD;AACF","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/lib/imageUrl.ts"],"sourcesContent":["import { client } from \"@/sanity/lib/client\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport { SanityImageSource } from \"@sanity/image-url/lib/types/types\";\n\nconst builder = imageUrlBuilder(client);\n\nexport function imageUrl(source: SanityImageSource){\n  return builder.image(source);\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGA,MAAM,UAAU,IAAA,2KAAe,EAAC,iIAAM;AAE/B,SAAS,SAAS,MAAyB;IAChD,OAAO,QAAQ,KAAK,CAAC;AACvB","debugId":null}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/components/Loader.tsx"],"sourcesContent":["\nfunction Loader(){\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\n    </div>\n  )\n}\n\nexport default Loader"],"names":[],"mappings":";;;;;;AACA,SAAS;IACP,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;uCAEe","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/actions/createCheckoutSession.ts"],"sourcesContent":["\"use server\";\nimport { BasketItem } from \"@/app/(store)/store/store\";\nimport { imageUrl } from \"@/lib/imageUrl\";\nimport stripe from \"@/lib/stripe\";\nimport { toPlainText } from \"@portabletext/toolkit\";\n\nexport type Metadata = {\n  orderNumber: string;\n  customerName: string;\n  customerEmail: string;\n  clerkUserId: string;\n};\n\nexport type GroupedBasketItem = {\n  product: BasketItem[\"product\"];\n  quantity: number;\n};\n\nexport async function createCheckoutSession(\n  items: GroupedBasketItem[],\n  metadata: Metadata\n) {\n  try {\n    // Check if any grouped items don't have a price\n    const itemsWithoutPrice = items.filter((item) => !item.product.price);\n    if (itemsWithoutPrice.length > 0) {\n      throw new Error(\"Some items do not have a price\");\n    }\n\n    // Log items for debugging\n    console.log(\"Items:\", JSON.stringify(items, null, 2));\n\n    // Search for existing customers by email\n    const customers = await stripe.customers.list({\n      email: metadata.customerEmail,\n      limit: 1,\n    });\n\n    let customerId: string | undefined;\n    if (customers.data.length > 0) {\n      customerId = customers.data[0].id;\n    }\n    const baseUrl =\n      process.env.NODE_ENV === \"production\"\n        ? `https://${process.env.VERCEL_URL}`\n        : `${process.env.NEXT_PUBLIC_BASE_URL}`;\n    const successUrl = `${baseUrl}/success?session_id={CHECKOUT_SESSION_ID}&orderNumber=${metadata.orderNumber}`;\n    const cancelUrl = `${baseUrl}/basket`;\n    // Debugging\n    console.log(\"SUCCESS URL <<<<<<\", successUrl);\n    console.log(\"CANCEL URL <<<<<<\", cancelUrl);\n\n    const session = await stripe.checkout.sessions.create({\n      customer: customerId,\n      customer_creation: customerId ? undefined : \"always\",\n      customer_email: !customerId ? metadata.customerEmail : undefined,\n      metadata,\n      mode: \"payment\",\n      allow_promotion_codes: true,\n      success_url: successUrl,\n      cancel_url: cancelUrl,\n      line_items: items.map((item) => ({\n        price_data: {\n          currency: \"usd\",\n          unit_amount: Math.round(item.product.price! * 100),\n          product_data: {\n            name: item.product.name || \"Unnamed Product\",\n            description: item.product.description\n              ? toPlainText(item.product.description)\n              : undefined,\n            metadata: {\n              id: item.product._id,\n            },\n            images: item.product.image\n              ? [imageUrl(item.product.image).url()]\n              : undefined,\n          },\n        },\n        quantity: item.quantity,\n      })),\n    });\n\n    console.log(\"Stripe session:\", JSON.stringify(session, null, 2));\n    return session.url;\n  } catch (error) {\n    console.error(\"Error creating checkout session:\", error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAkBsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/KatyushaWeb/Websites/Katyusha-ecommerce/ecommerce-build/app/%28store%29/basket/page.tsx"],"sourcesContent":["\"use client\";\n\nimport useBasketStore from \"@/app/(store)/store/store\";\nimport { SignInButton, useAuth, useUser } from \"@clerk/nextjs\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\nimport AddToBasketButton from \"@/components/addToBasketButton\";\nimport Image from \"next/image\";\nimport { imageUrl } from \"@/lib/imageUrl\";\nimport Loader from \"@/components/Loader\";\nimport {\n  ShoppingCart,\n  ArrowRight,\n  Sparkles,\n  Truck,\n  Shield,\n} from \"lucide-react\";\nimport {\n  createCheckoutSession,\n  Metadata,\n} from \"@/actions/createCheckoutSession\";\n\nfunction BasketPage() {\n  const groupedItems = useBasketStore((state) => state.getGroupedItems());\n  const { isSignedIn } = useAuth();\n  const { user } = useUser();\n  const router = useRouter();\n  const [isClient, setIsClient] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  if (!isClient) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (groupedItems.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center px-4\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"w-24 h-24 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-6 border border-gray-200\">\n            <ShoppingCart className=\"w-12 h-12 text-gray-400\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Your Basket</h1>\n          <p className=\"text-gray-600 text-lg mb-8\">\n            Your shopping basket is waiting to be filled with amazing products!\n          </p>\n          <button\n            onClick={() => router.push(\"/categories\")}\n            className=\"inline-flex items-center gap-2 bg-gray-900 text-white px-6 py-3 rounded-xl hover:bg-gray-800 transition-colors font-medium\"\n          >\n            <Sparkles className=\"w-4 h-4\" />\n            Start Shopping\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const totalItems = groupedItems.reduce(\n    (total, item) => total + item.quantity,\n    0\n  );\n  const totalPrice = useBasketStore.getState().getTotalPrice();\n\n  const handleCheckout = async () => {\n    if (!isSignedIn) return;\n    setIsLoading(true);\n\n    try {\n      const metadata: Metadata = {\n        orderNumber: crypto.randomUUID(),\n        customerName: user?.fullName ?? \"Unknown\",\n        customerEmail: user?.emailAddresses[0].emailAddress ?? \"Unknown\",\n        clerkUserId: user!.id,\n      };\n      const checkoutUrl = await createCheckoutSession(groupedItems, metadata);\n      if (checkoutUrl) {\n        window.location.href = checkoutUrl;\n      }\n    } catch (error) {\n      console.error(\"Error creating checkout session:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8\">\n      {/* Animated Background */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-orange-200/10 to-red-200/10 rounded-full blur-3xl\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-amber-200/10 to-yellow-200/10 rounded-full blur-3xl\"></div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto relative z-10\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-gray-900 via-orange-600 to-amber-600 bg-clip-text text-transparent mb-3\">\n            Your Basket\n          </h1>\n          <p className=\"text-gray-600 text-lg\">\n            {totalItems} item{totalItems !== 1 ? \"s\" : \"\"} • Total: $\n            {totalPrice.toFixed(2)}\n          </p>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          {/* Basket Items */}\n          <div className=\"flex-grow space-y-4\">\n            {groupedItems.map((item, index) => (\n              <div\n                key={item.product._id}\n                className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 overflow-hidden group\"\n                style={{\n                  animationDelay: `${index * 100}ms`,\n                  animation: \"fadeInUp 0.6s ease-out forwards\",\n                }}\n              >\n                <div className=\"p-6\">\n                  <div className=\"flex items-center gap-6\">\n                    {/* Product Image */}\n                    <div\n                      className=\"relative w-20 h-20 sm:w-24 sm:h-24 flex-shrink-0 rounded-xl overflow-hidden cursor-pointer group-hover:shadow-md transition-shadow\"\n                      onClick={() =>\n                        router.push(`/product/${item.product.slug?.current}`)\n                      }\n                    >\n                      {item.product.image && (\n                        <Image\n                          src={imageUrl(item.product.image).url()}\n                          alt={item.product.name ?? \"Product image\"}\n                          className=\"object-cover group-hover:scale-110 transition-transform duration-300\"\n                          fill\n                        />\n                      )}\n                      <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors\" />\n                    </div>\n\n                    {/* Product Info */}\n                    <div\n                      className=\"flex-grow min-w-0 cursor-pointer\"\n                      onClick={() =>\n                        router.push(`/product/${item.product.slug?.current}`)\n                      }\n                    >\n                      <h2 className=\"text-xl font-semibold text-gray-900 truncate mb-2 group-hover:text-orange-600 transition-colors\">\n                        {item.product.name}\n                      </h2>\n                      <div className=\"flex items-center gap-4 text-sm text-gray-600\">\n                        <span>\n                          ${(item.product.price ?? 0).toFixed(2)} each\n                        </span>\n                        <span>•</span>\n                        <span className=\"font-medium text-gray-900\">\n                          $\n                          {((item.product.price ?? 0) * item.quantity).toFixed(\n                            2\n                          )}{\" \"}\n                          total\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Quantity Controls */}\n                    <div className=\"flex-shrink-0\">\n                      <AddToBasketButton product={item.product} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Order Summary - Sticky on desktop, fixed on mobile */}\n          <div className=\"w-full lg:w-96\">\n            <div className=\"lg:sticky lg:top-8 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 overflow-hidden\">\n              <div className=\"p-6 border-b border-gray-100\">\n                <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                  <ShoppingCart className=\"w-6 h-6\" />\n                  Order Summary\n                </h3>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div className=\"flex justify-between items-center text-lg\">\n                  <span className=\"text-gray-600\">Items:</span>\n                  <span className=\"font-semibold text-gray-900\">\n                    {totalItems}\n                  </span>\n                </div>\n\n                <div className=\"flex justify-between items-center text-2xl font-bold border-t border-gray-200 pt-4\">\n                  <span className=\"text-gray-900\">Total:</span>\n                  <span className=\"bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent\">\n                    ${totalPrice.toFixed(2)}\n                  </span>\n                </div>\n\n                {/* Trust Badges */}\n                <div className=\"flex items-center justify-between text-xs text-gray-500 pt-2\">\n                  <div className=\"flex items-center gap-1\">\n                    <Truck className=\"w-3 h-3\" />\n                    <span>Free Shipping</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Shield className=\"w-3 h-3\" />\n                    <span>Secure Checkout</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-gray-100\">\n                {isSignedIn ? (\n                  <button\n                    onClick={handleCheckout}\n                    disabled={isLoading}\n                    className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-xl hover:from-orange-600 hover:to-red-600 disabled:from-gray-400 disabled:to-gray-400 transition-all duration-300 font-semibold text-lg flex items-center justify-center gap-2\"\n                  >\n                    {isLoading ? (\n                      <>\n                        <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <span>Proceed to Checkout</span>\n                        <ArrowRight className=\"w-5 h-5\" />\n                      </>\n                    )}\n                  </button>\n                ) : (\n                  <SignInButton mode=\"modal\">\n                    <button className=\"w-full bg-gray-900 text-white py-4 rounded-xl hover:bg-gray-800 transition-colors font-semibold text-lg flex items-center justify-center gap-2\">\n                      <Sparkles className=\"w-5 h-5\" />\n                      Sign in to Checkout\n                    </button>\n                  </SignInButton>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile spacer */}\n      <div className=\"h-32 lg:h-0\" />\n    </div>\n  );\n}\n\nexport default BasketPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}