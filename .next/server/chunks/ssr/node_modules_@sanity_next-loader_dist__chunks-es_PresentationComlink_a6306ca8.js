module.exports=[998829,a=>{"use strict";a.s(["default",()=>j],998829);var b=a.i(57430),c=a.i(405050),d=(0,c.createServerReference)("7fdb9730c0dc8d5b63135028e2e413023c2657a6cf",c.callServer,void 0,c.findSourceMapURL,"setPerspectiveCookie"),e=a.i(319958),f=a.i(50944),g=a.i(572131),h=a.i(678465),i=a.i(267633);function j(a){let{projectId:c,dataset:j,draftModeEnabled:k,draftModePerspective:l}=a,m=(0,f.useRouter)();(0,g.useEffect)(()=>{(0,i.setComlinkClientConfig)(c,j)},[j,c]);let n=(0,h.useEffectEvent)((a,b)=>{k&&a!==l&&d(a).then(()=>{b.aborted||m.refresh()}).catch(a=>console.error("Failed to set the preview perspective cookie",a))});return(0,g.useEffect)(()=>{let a,c=(0,b.createNode)({name:"loaders",connectTo:"presentation"},(0,b.createNodeMachine)().provide({actors:(0,e.createCompatibilityActors)()}));c.on("loader/perspective",b=>{a?.abort(),a=new AbortController,n(b.perspective,a.signal)});let d=c.start();return(0,i.setComlink)(c),()=>{d()}},[]),null}j.displayName="PresentationComlink"}];

//# sourceMappingURL=node_modules_%40sanity_next-loader_dist__chunks-es_PresentationComlink_a6306ca8.js.map