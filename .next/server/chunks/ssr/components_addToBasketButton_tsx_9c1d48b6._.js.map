{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/Katyusha-ecommerce/ecommerce-build/components/addToBasketButton.tsx"],"sourcesContent":["\"use client\";\n\nimport useBasketStore from \"@/app/(store)/store/store\";\nimport { Product } from \"@/sanity.types\";\nimport { useState, useEffect } from \"react\";\nimport { Plus, Minus, ShoppingCart, Sparkles } from \"lucide-react\";\n\ninterface AddToBasketButtonProps {\n  product: Product;\n  disabled?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nfunction AddToBasketButton({\n  product,\n  disabled,\n  className,\n  children,\n}: AddToBasketButtonProps) {\n  const { addItem, removeItem, getItemCount } = useBasketStore();\n  const itemCount = getItemCount(product._id);\n  const [isClient, setIsClient] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  const handleAdd = () => {\n    addItem(product);\n    setIsAnimating(true);\n    setTimeout(() => setIsAnimating(false), 600);\n  };\n\n  const handleRemove = () => {\n    removeItem(product._id);\n  };\n\n  if (!isClient) {\n    return (\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-12 h-12 bg-gray-200 animate-pulse rounded-2xl\"></div>\n      </div>\n    );\n  }\n\n  // If it's disabled and no items in cart, show simple disabled button\n  if (disabled && itemCount === 0) {\n    return (\n      <button\n        disabled\n        className={`w-full py-4 px-8 text-lg font-semibold rounded-2xl bg-gray-300 text-gray-500 cursor-not-allowed transition-all duration-300 ${className}`}\n      >\n        <span className=\"flex items-center justify-center space-x-2\">\n          <ShoppingCart className=\"w-5 h-5\" />\n          <span>Out of Stock</span>\n        </span>\n      </button>\n    );\n  }\n\n  // If there are items in cart, show the quantity selector\n  if (itemCount > 0) {\n    return (\n      <div className=\"flex items-center justify-center space-x-4 bg-white/80 backdrop-blur-sm rounded-2xl p-2 border border-orange-200 shadow-lg\">\n        <button\n          onClick={handleRemove}\n          className={`w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-300 transform hover:scale-110 ${\n            itemCount === 0\n              ? \"bg-gray-100 cursor-not-allowed\"\n              : \"bg-gradient-to-br from-red-100 to-red-200 hover:from-red-200 hover:to-red-300 shadow-md\"\n          }`}\n          disabled={itemCount === 0 || disabled}\n          aria-label={`Remove ${product.name || \"item\"} from basket`}\n        >\n          <Minus\n            className={`w-5 h-5 ${itemCount === 0 ? \"text-gray-400\" : \"text-red-600\"}`}\n          />\n        </button>\n\n        <div className=\"flex flex-col items-center space-y-1\">\n          <span className=\"text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent\">\n            {itemCount}\n          </span>\n          <span className=\"text-xs text-gray-500 font-medium\">in basket</span>\n        </div>\n\n        <button\n          onClick={handleAdd}\n          className=\"w-12 h-12 rounded-2xl flex items-center justify-center bg-gradient-to-br from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300\"\n          disabled={disabled}\n          aria-label={`Add ${product.name || \"item\"} to basket`}\n        >\n          <Plus className=\"w-5 h-5\" />\n        </button>\n      </div>\n    );\n  }\n\n  // If no items in cart and not disabled, show add to basket button\n  return (\n    <button\n      onClick={handleAdd}\n      disabled={disabled}\n      className={`relative overflow-hidden py-4 px-8 text-lg font-semibold rounded-2xl bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${className}`}\n      aria-label={`Add ${product.name || \"item\"} to basket`}\n    >\n      {/* Animated sparkle effect */}\n      {isAnimating && (\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          {[...Array(3)].map((_, i) => (\n            <Sparkles\n              key={i}\n              className=\"absolute w-4 h-4 text-yellow-300 animate-ping\"\n              style={{\n                left: `${20 + i * 30}%`,\n                animationDelay: `${i * 0.1}s`,\n              }}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Button content */}\n      <span className=\"flex items-center justify-center space-x-2 relative z-10\">\n        <ShoppingCart className=\"w-5 h-5\" />\n        {children || <span>Add to Basket</span>}\n        <Sparkles className=\"w-4 h-4\" />\n      </span>\n\n      {/* Ripple effect */}\n      <span className=\"absolute inset-0 overflow-hidden rounded-2xl\">\n        <span className=\"absolute inset-0 bg-gradient-to-r from-white/20 to-white/10 translate-y-full hover:translate-y-0 transition-transform duration-300\" />\n      </span>\n    </button>\n  );\n}\n\nexport default AddToBasketButton;\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AALA;;;;;AAcA,SAAS,kBAAkB,EACzB,OAAO,EACP,QAAQ,EACR,SAAS,EACT,QAAQ,EACe;IACvB,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,IAAA,8IAAc;IAC5D,MAAM,YAAY,aAAa,QAAQ,GAAG;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,QAAQ;QACR,eAAe;QACf,WAAW,IAAM,eAAe,QAAQ;IAC1C;IAEA,MAAM,eAAe;QACnB,WAAW,QAAQ,GAAG;IACxB;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qEAAqE;IACrE,IAAI,YAAY,cAAc,GAAG;QAC/B,qBACE,8OAAC;YACC,QAAQ;YACR,WAAW,CAAC,4HAA4H,EAAE,WAAW;sBAErJ,cAAA,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,sOAAY;wBAAC,WAAU;;;;;;kCACxB,8OAAC;kCAAK;;;;;;;;;;;;;;;;;IAId;IAEA,yDAAyD;IACzD,IAAI,YAAY,GAAG;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,SAAS;oBACT,WAAW,CAAC,6GAA6G,EACvH,cAAc,IACV,mCACA,2FACJ;oBACF,UAAU,cAAc,KAAK;oBAC7B,cAAY,CAAC,OAAO,EAAE,QAAQ,IAAI,IAAI,OAAO,YAAY,CAAC;8BAE1D,cAAA,8OAAC,6MAAK;wBACJ,WAAW,CAAC,QAAQ,EAAE,cAAc,IAAI,kBAAkB,gBAAgB;;;;;;;;;;;8BAI9E,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCACb;;;;;;sCAEH,8OAAC;4BAAK,WAAU;sCAAoC;;;;;;;;;;;;8BAGtD,8OAAC;oBACC,SAAS;oBACT,WAAU;oBACV,UAAU;oBACV,cAAY,CAAC,IAAI,EAAE,QAAQ,IAAI,IAAI,OAAO,UAAU,CAAC;8BAErD,cAAA,8OAAC,0MAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;;IAIxB;IAEA,kEAAkE;IAClE,qBACE,8OAAC;QACC,SAAS;QACT,UAAU;QACV,WAAW,CAAC,2UAA2U,EAAE,WAAW;QACpW,cAAY,CAAC,IAAI,EAAE,QAAQ,IAAI,IAAI,OAAO,UAAU,CAAC;;YAGpD,6BACC,8OAAC;gBAAI,WAAU;0BACZ;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,8OAAC,sNAAQ;wBAEP,WAAU;wBACV,OAAO;4BACL,MAAM,GAAG,KAAK,IAAI,GAAG,CAAC,CAAC;4BACvB,gBAAgB,GAAG,IAAI,IAAI,CAAC,CAAC;wBAC/B;uBALK;;;;;;;;;;0BAYb,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,sOAAY;wBAAC,WAAU;;;;;;oBACvB,0BAAY,8OAAC;kCAAK;;;;;;kCACnB,8OAAC,sNAAQ;wBAAC,WAAU;;;;;;;;;;;;0BAItB,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAK,WAAU;;;;;;;;;;;;;;;;;AAIxB;uCAEe","debugId":null}}]
}