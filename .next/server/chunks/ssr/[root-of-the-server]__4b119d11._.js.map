{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/navigation.js","turbopack:///[project]/node_modules/next-sanity/src/studio/NextStudioLayout.tsx","turbopack:///[project]/node_modules/next-sanity/src/studio/client-component/createHashHistoryForStudio.ts","turbopack:///[project]/node_modules/next-sanity/src/studio/NextStudioNoScript.tsx","turbopack:///[project]/node_modules/next-sanity/src/studio/client-component/registry.tsx","turbopack:///[project]/node_modules/next-sanity/src/studio/client-component/useIsMounted.ts","turbopack:///[project]/node_modules/next-sanity/src/studio/client-component/NextStudio.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = require('./dist/client/components/navigation')\n","import {memo} from 'react'\n\n/** @public */\nexport interface NextStudioLayoutProps {\n  children: React.ReactNode\n}\n\nconst style = {\n  height: '100vh',\n  maxHeight: '100dvh',\n  overscrollBehavior: 'none',\n  WebkitFontSmoothing: 'antialiased',\n  overflow: 'auto',\n} satisfies React.CSSProperties\n\nconst NextStudioLayoutComponent = ({children}: NextStudioLayoutProps) => {\n  return (\n    <div id=\"sanity\" data-ui=\"NextStudioLayout\" style={style}>\n      {children}\n    </div>\n  )\n}\n\n/** @public */\nexport const NextStudioLayout = memo(NextStudioLayoutComponent)\n","import {createHashHistory, type History, type Listener} from 'history'\n\n/** @internal */\nexport function createHashHistoryForStudio(): History {\n  const history = createHashHistory()\n  return {\n    get action() {\n      return history.action\n    },\n    get location() {\n      return history.location\n    },\n    get createHref() {\n      return history.createHref\n    },\n    get push() {\n      return history.push\n    },\n    get replace() {\n      return history.replace\n    },\n    get go() {\n      return history.go\n    },\n    get back() {\n      return history.back\n    },\n    get forward() {\n      return history.forward\n    },\n    get block() {\n      return history.block\n    },\n    // Overriding listen to workaround a problem where native history provides history.listen(location => void), but the npm package is history.listen(({action, location}) => void)\n    listen(listener: Listener) {\n      // return history.listen(({ action, location }) => {\n      return history.listen(({location}) => {\n        // console.debug('history.listen', action, location)\n        // @ts-expect-error -- working around a bug? in studio\n        listener(location)\n      })\n    },\n  }\n}\n","const styles: Record<'outer' | 'inner', React.CSSProperties> = {\n  outer: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    background: '#fff',\n    zIndex: 1,\n  },\n  inner: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    textAlign: 'center',\n    fontFamily: 'helvetica, arial, sans-serif',\n  },\n}\n\n/** @internal */\nexport const NextStudioNoScript = (): React.JSX.Element => (\n  <noscript>\n    <div style={styles.outer}>\n      <div style={styles.inner}>\n        <h1>JavaScript disabled</h1>\n        <p>\n          Please <a href=\"https://www.enable-javascript.com/\">enable JavaScript</a> in your browser\n          and reload the page to proceed.\n        </p>\n      </div>\n    </div>\n  </noscript>\n)\n","// https://nextjs.org/docs/app/building-your-application/styling/css-in-js#styled-components\nimport {useServerInsertedHTML} from 'next/navigation.js'\nimport {useState} from 'react'\nimport {ServerStyleSheet, StyleSheetManager} from 'styled-components'\n\nexport function StyledComponentsRegistry({\n  children,\n  isMounted,\n}: {\n  children: React.ReactNode\n  isMounted: boolean\n}): React.JSX.Element {\n  // Only create stylesheet once with lazy initial state\n  // x-ref: https://reactjs.org/docs/hooks-reference.html#lazy-initial-state\n  const [styledComponentsStyleSheet] = useState(() => new ServerStyleSheet())\n\n  useServerInsertedHTML(() => {\n    const styles = styledComponentsStyleSheet.getStyleElement()\n    styledComponentsStyleSheet.instance.clearTag()\n    return <>{styles}</>\n  })\n\n  if (isMounted) return <>{children}</>\n\n  return (\n    <StyleSheetManager sheet={styledComponentsStyleSheet.instance}>{children}</StyleSheetManager>\n  )\n}\n","import {useSyncExternalStore} from 'react'\n\n/** @internal */\nexport function useIsMounted(): boolean {\n  return useSyncExternalStore(\n    emptySubscribe,\n    () => true,\n    () => false,\n  )\n}\n// eslint-disable-next-line no-empty-function\nconst emptySubscribe = () => () => {}\n","import {useMemo} from 'react'\nimport {Studio, type StudioProps} from 'sanity'\n\nimport {NextStudioLayout} from '../NextStudioLayout'\nimport {NextStudioNoScript} from '../NextStudioNoScript'\nimport {createHashHistoryForStudio} from './createHashHistoryForStudio'\nimport {StyledComponentsRegistry} from './registry'\nimport {useIsMounted} from './useIsMounted'\n\n/** @public */\nexport interface NextStudioProps extends StudioProps {\n  children?: React.ReactNode\n  /**\n   * Render the <noscript> tag\n   * @defaultValue true\n   * @alpha\n   */\n  unstable__noScript?: boolean\n  /**\n   * The 'hash' option is new feature that is not yet stable for production, but is available for testing and its API won't change in a breaking way.\n   * If 'hash' doesn't work for you, or if you want to use a memory based history, you can use the `unstable_history` prop instead.\n   * @alpha\n   * @defaultValue 'browser'\n   */\n  history?: 'browser' | 'hash'\n}\n/**\n * Override how the Studio renders by passing children.\n * This is useful for advanced use cases where you're using StudioProvider and StudioLayout instead of Studio:\n * ```\n * import {StudioProvider, StudioLayout} from 'sanity'\n * import {NextStudio} from 'next-sanity/studio'\n * <NextStudio config={config}>\n *   <StudioProvider config={config}>\n *     <CustomComponentThatUsesContextFromStudioProvider />\n *     <StudioLayout />\n *   </StudioProvider>\n * </NextStudio>\n * ```\n * @public\n */\nexport default function NextStudioComponent({\n  children,\n  config,\n  unstable__noScript = true,\n  scheme,\n  history,\n  ...props\n}: NextStudioProps): React.JSX.Element {\n  const isMounted = useIsMounted()\n  const unstableHistory = useMemo<typeof props.unstable_history>(() => {\n    if (props.unstable_history && history) {\n      throw new Error('Cannot use both `unstable_history` and `history` props at the same time')\n    }\n\n    if (isMounted && history === 'hash') {\n      return createHashHistoryForStudio()\n    }\n    return props.unstable_history\n  }, [history, isMounted, props.unstable_history])\n\n  return (\n    <>\n      {unstable__noScript && <NextStudioNoScript />}\n      <StyledComponentsRegistry isMounted={isMounted}>\n        <NextStudioLayout>\n          {history === 'hash' && !isMounted\n            ? null\n            : children || (\n                <Studio\n                  config={config}\n                  scheme={scheme}\n                  unstable_globalStyles\n                  {...props}\n                  unstable_history={unstableHistory}\n                />\n              )}\n        </NextStudioLayout>\n      </StyledComponentsRegistry>\n    </>\n  )\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9]}