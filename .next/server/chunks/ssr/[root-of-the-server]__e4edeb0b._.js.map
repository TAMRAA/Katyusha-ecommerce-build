{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/Katyusha-ecommerce/ecommerce-build/sanity/lib/products/getProductBySlug.ts"],"sourcesContent":["import { defineQuery } from \"next-sanity\";\nimport { sanityFetch } from \"../live\";\n\nexport const getProductBySlug = async (slug: string) => {\n  const PRODUCT_BY_ID_QUERY = defineQuery(`\n    *[_type == \"product\" && slug.current == $slug] | order(name asc)[0]\n  `);\n\n  try {\n    // Use sanityFetch to send the query with the slug as a parameter\n    const product = await sanityFetch({\n      query: PRODUCT_BY_ID_QUERY,\n      params: { slug },\n    });\n    // Return the product data or null if not found\n    return product?.data || null;\n  } catch (error) {\n    console.error(\"Error fetching product by ID:\", error);\n    return null;\n  }\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,mBAAmB,OAAO;IACrC,MAAM,sBAAsB,IAAA,kJAAW,EAAC,CAAC;;EAEzC,CAAC;IAED,IAAI;QACF,iEAAiE;QACjE,MAAM,UAAU,MAAM,IAAA,oIAAW,EAAC;YAChC,OAAO;YACP,QAAQ;gBAAE;YAAK;QACjB;QACA,+CAA+C;QAC/C,OAAO,SAAS,QAAQ;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/Katyusha-ecommerce/ecommerce-build/components/addToBasketButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/addToBasketButton.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/addToBasketButton.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/Katyusha-ecommerce/ecommerce-build/components/addToBasketButton.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/addToBasketButton.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/addToBasketButton.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/Katyusha-ecommerce/ecommerce-build/lib/imageUrl.ts"],"sourcesContent":["import { client } from \"@/sanity/lib/client\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport { SanityImageSource } from \"@sanity/image-url/lib/types/types\";\n\nconst builder = imageUrlBuilder(client);\n\nexport function imageUrl(source: SanityImageSource){\n  return builder.image(source);\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGA,MAAM,UAAU,IAAA,2KAAe,EAAC,iIAAM;AAE/B,SAAS,SAAS,MAAyB;IAChD,OAAO,QAAQ,KAAK,CAAC;AACvB","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///Users/tamra/Desktop/Katyusha-ecommerce/ecommerce-build/app/%28store%29/product/%5Bslug%5D/page.tsx"],"sourcesContent":["import { getProductBySlug } from \"@/sanity/lib/products/getProductBySlug\";\nimport AddToBasketButton from \"@/components/addToBasketButton\";\nimport { PortableText } from \"next-sanity\";\nimport { notFound } from \"next/navigation\";\nimport { imageUrl } from \"@/lib/imageUrl\";\nimport Image from \"next/image\";\n\nexport const dynamic = \"force-static\";\nexport const revalidate = 3600;\n\n\nasync function ProductPage({ params }: { params: { slug: string } }) {\n  \n  const { slug } = await params;\n  const product = await getProductBySlug(slug);\n\n  console.log(crypto.randomUUID().slice(0, 5) + `>>> Rendered the product page cache for ${slug}`);\n\n  if (!product) {\n    return notFound();\n  }\n  const isOutOfStock = product.stock != null && product.stock <= 0;\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n        <div\n          className={`relative aspect-square overflow-hidden rounded-lg shadow-lg ${isOutOfStock ? \"opacity-50\" : \"\"}`}\n        >\n          {product.image && (\n            <Image\n              src={imageUrl(product.image).url()}\n              alt={product.name ?? \"Product image\"}\n              fill\n              className=\"object-contain transition-transform duration-300 hover:scale-105\"\n            />\n          )}\n          {isOutOfStock && (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n              <span className=\"text-white font-bold text-lg\">Out of Stock</span>\n            </div>\n          )}\n        </div>\n        <div className=\"flex flex-col justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-4\">{product.name}</h1>\n            <div className=\"text-xl font-semibold mb-4\">\n              ${product.price?.toFixed(2)}\n            </div>\n            <div className=\"prose max-w-none mb-6\">\n              {Array.isArray(product.description) && (\n                <PortableText value={product.description} />\n              )}\n            </div>\n          </div>\n          <div className=\"mt-6\">\n            <AddToBasketButton product={product} disabled={isOutOfStock}></AddToBasketButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductPage;\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;AAEO,MAAM,UAAU;AAChB,MAAM,aAAa;AAG1B,eAAe,YAAY,EAAE,MAAM,EAAgC;IAEjE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,UAAU,MAAM,IAAA,iKAAgB,EAAC;IAEvC,QAAQ,GAAG,CAAC,OAAO,UAAU,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,wCAAwC,EAAE,MAAM;IAE/F,IAAI,CAAC,SAAS;QACZ,OAAO,IAAA,iMAAQ;IACjB;IACA,MAAM,eAAe,QAAQ,KAAK,IAAI,QAAQ,QAAQ,KAAK,IAAI;IAE/D,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,WAAW,CAAC,4DAA4D,EAAE,eAAe,eAAe,IAAI;;wBAE3G,QAAQ,KAAK,kBACZ,8OAAC,wIAAK;4BACJ,KAAK,IAAA,2HAAQ,EAAC,QAAQ,KAAK,EAAE,GAAG;4BAChC,KAAK,QAAQ,IAAI,IAAI;4BACrB,IAAI;4BACJ,WAAU;;;;;;wBAGb,8BACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CAA+B;;;;;;;;;;;;;;;;;8BAIrD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA2B,QAAQ,IAAI;;;;;;8CACrD,8OAAC;oCAAI,WAAU;;wCAA6B;wCACxC,QAAQ,KAAK,EAAE,QAAQ;;;;;;;8CAE3B,8OAAC;oCAAI,WAAU;8CACZ,MAAM,OAAO,CAAC,QAAQ,WAAW,mBAChC,8OAAC,wLAAY;wCAAC,OAAO,QAAQ,WAAW;;;;;;;;;;;;;;;;;sCAI9C,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,2IAAiB;gCAAC,SAAS;gCAAS,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM3D;uCAEe","debugId":null}}]
}