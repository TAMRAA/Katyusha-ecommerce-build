(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,597560,e=>{"use strict";e.s(["default",()=>v]);var t=e.i(843476),n=e.i(881933),l=e.i(271645),u=e.i(216024),r=e.i(537152);function i(e){let t,u,r=(0,n.c)(18),{comlink:i,draft:v,published:s,livePreviewEnabled:d,version:c}=e,[a,_]=(0,l.useState)(v),[f,m]=(0,l.useState)(s),[p,h]=(0,l.useState)(c);r[0]!==i||r[1]!==v||r[2]!==d||r[3]!==(null==a?void 0:a._rev)||r[4]!==(null==f?void 0:f._rev)||r[5]!==(null==p?void 0:p._rev)||r[6]!==s||r[7]!==c?(t=()=>{(null==p?void 0:p._rev)!==(null==c?void 0:c._rev)&&((0,l.startTransition)(()=>h(c)),c&&(null==i||i.post("presentation/refresh",{source:"mutation",livePreviewEnabled:d,document:o(c)}))),(null==a?void 0:a._rev)!==(null==v?void 0:v._rev)&&((0,l.startTransition)(()=>_(v)),v&&(null==i||i.post("presentation/refresh",{source:"mutation",livePreviewEnabled:d,document:o(v)}))),(null==f?void 0:f._rev)!==(null==s?void 0:s._rev)&&((0,l.startTransition)(()=>m(s)),s&&(null==i||i.post("presentation/refresh",{source:"mutation",livePreviewEnabled:d,document:o(s)})))},r[0]=i,r[1]=v,r[2]=d,r[3]=null==a?void 0:a._rev,r[4]=null==f?void 0:f._rev,r[5]=null==p?void 0:p._rev,r[6]=s,r[7]=c,r[8]=t):t=r[8];let T=null==a?void 0:a._rev,S=null==f?void 0:f._rev,b=null==p?void 0:p._rev;return r[9]!==i||r[10]!==v||r[11]!==d||r[12]!==s||r[13]!==T||r[14]!==S||r[15]!==b||r[16]!==c?(u=[i,v,d,T,S,s,b,c],r[9]=i,r[10]=v,r[11]=d,r[12]=s,r[13]=T,r[14]=S,r[15]=b,r[16]=c,r[17]=u):u=r[17],(0,l.useEffect)(t,u),null}function o(e){let{_id:t,_type:n,_rev:l,slug:u}=e;return{_id:t,_type:n,_rev:l,slug:u}}var v=(0,l.memo)(function(e){let l,o=(0,n.c)(9),{comlink:v,type:s,previewKitConnection:d,loadersConnection:c}=e;o[0]!==e.id?(l=(0,u.getPublishedId)(e.id),o[0]=e.id,o[1]=l):l=o[1];let a=l,{selectedReleaseId:_}=(0,r.usePerspective)(),{draft:f,published:m,ready:p,version:h}=(0,r.useEditState)(a,s,"low",_),T="connected"===d||"connected"===c;if(p&&f||m){let e;return o[2]!==v||o[3]!==f||o[4]!==a||o[5]!==T||o[6]!==m||o[7]!==h?(e=(0,t.jsx)(i,{comlink:v,draft:f,livePreviewEnabled:T,published:m,version:h},a),o[2]=v,o[3]=f,o[4]=a,o[5]=T,o[6]=m,o[7]=h,o[8]=e):e=o[8],e}return null})}]);