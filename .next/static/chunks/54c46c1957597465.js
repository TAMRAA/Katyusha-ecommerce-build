(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,713529,e=>{"use strict";e.s(["default",()=>ex],713529);var t=e.i(892510),n=e.i(843476),r=e.i(881933),i=e.i(271645),a=e.i(537152),l=e.i(312669),o=e.i(923064),s=e.i(738465),u=e.i(201226),d=e.i(835870),c=e.i(330823),p=e.i(245281),f=e.i(245912),h=e.i(839338),m=e.i(789196),x=e.i(602400),g=e.i(740144),y=e.i(148077),v=e.i(134352),I=e.i(142722),w=e.i(602014),b=e.i(94059),P=e.i(58832),j=e.i(902965),_=e.i(627608),S=e.i(711308),T=e.i(374e3),E=e.i(815321),N=e.i(447912),C=e.i(725917),R=e.i(678491),k=e.i(997053),A=e.i(224019),O=e.i(898892);function z(){let e=(0,t._)(["\n  &:not(:last-child)::after {\n    content: ' ➝ ';\n    opacity: 0.5;\n  }\n"]);return z=function(){return e},e}function L(){let e=(0,t._)(["\n  min-height: 100%;\n  min-width: 320px;\n"]);return L=function(){return e},e}class D extends Error{constructor({message:e,context:t,helpId:n,cause:r}){super(e),this.name="PaneResolutionError",this.context=t,this.helpId=n,this.cause=r}}let M=new WeakMap;function B(e){let t=M.get(e);if(t)return t;let n=(0,y.nanoid)();return M.set(e,n),n}function W(e){let t,n,r=(t=e((e,t,n)=>{if(!e)throw new D({message:"Pane returned no child",context:t,helpId:"structure-item-returned-no-child"});return e&&"function"==typeof(null==e?void 0:e.then)||(0,f.isObservable)(e)?(0,c.from)(e).pipe((0,v.switchMap)(e=>r(e,t,n))):(0,a.isRecord)(e)&&"function"==typeof e.serialize?r(e.serialize(t),t,n):"function"==typeof e?r(e(t.id,t),t,n):(0,p.of)(e)}),n=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t(...n).pipe((0,I.publishReplay)(1),(0,w.refCount)())},(e,t,r)=>{try{return n(e,t,r)}catch(e){throw e instanceof D?e:new D({message:"string"==typeof(null==e?void 0:e.message)?e.message:"",context:t,cause:e})}});return r}let F=new WeakMap;function H(e,t){let n=F.get(e)||new Map;if(n){let e=n.get(t);if(e)return e}let r=e[t];if("function"!=typeof r)throw Error("Expected property `".concat(t,"` to be a function but got ").concat(typeof r," instead."));let i=r.bind(e);return n.set(t,i),F.set(e,n),i}async function U(e){let t=new Map,n=W(e=>(n,r,i)=>{let a=n&&"".concat(B(n),"-").concat(r.path.join("__")),l=a&&t.get(a);if(l)return l;let o=e(n,r,i);return a&&t.set(a,o),o}),r=[[{id:"__edit__".concat(e.params.id),params:{...(0,d.default)(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function i(e){var t;let{currentId:r,flatIndex:a,intent:l,params:o,parent:s,path:u,payload:d,unresolvedPane:c,levelIndex:p,structureContext:f}=e;if(!c)return[];let{id:m,type:x,...g}=o,y=await (0,h.firstValueFrom)(n(c,{id:r,splitIndex:0,parent:s,path:u,index:a,params:{},payload:void 0,structureContext:f},a));return"document"===y.type&&y.id===m?[{panes:[...u.slice(0,u.length-1).map(e=>[{id:e}]),[{id:m,params:g,payload:d}]],depthIndex:u.length,levelIndex:p}]:(null==(t=y.canHandleIntent)?void 0:t.call(y,l,o,{pane:y,index:a}))||"documentList"===y.type&&y.schemaTypeName===x&&"_type == $type"===y.options.filter?[{panes:[...u.map(e=>[{id:e}]),[{id:o.id,params:g,payload:d}]],depthIndex:u.length,levelIndex:p}]:"list"===y.type&&y.child&&y.items?(await Promise.all(y.items.map((e,t)=>"divider"===e.type?Promise.resolve([]):i({currentId:e._id||e.id,flatIndex:a+1,intent:l,params:o,parent:y,path:[...u,e.id],payload:d,unresolvedPane:"function"==typeof y.child?H(y,"child"):y.child,levelIndex:t,structureContext:f})))).flat():[]}let a=(await i({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((e,t)=>e.depthIndex===t.depthIndex?e.levelIndex-t.levelIndex:e.depthIndex-t.depthIndex)[0];return a?a.panes:r}let G=(e,t)=>{let n=e.replace(/^__edit__/,""),{params:r,payload:i,structureContext:{resolveDocumentNode:a}}=t,{type:l,template:o}=r;if(!l)throw Error("Document type for document with ID ".concat(n," was not provided in the router params."));let s=a({schemaType:l,documentId:n}).id("editor");return o&&(s=s.initialValueTemplate(o,i)),s.serialize()},K=e=>{let t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:"resolvedMeta"===e.type?B(e.paneNode):null};return"metaHash(".concat(JSON.stringify(t),")")};function V(e){return(null==e?void 0:e.panes)||[]}function J(){return new g.ReplaySubject(1)}function Y(e){let t=e.reduce(q,[]),n=t.length,r=e.map(r=>{var i;let{groupIndex:a,flatIndex:l,siblingIndex:s,routerPaneSibling:u,path:d}=r,c=u.id,p=t[a+1];return{active:a===n-2,childItemId:null!=(i=null==p?void 0:p[0].id)?i:null,index:l,itemId:u.id,groupIndex:a,key:"".concat("loading"===r.type?"unknown":r.paneNode.id,"-").concat(c,"-").concat(s),pane:"loading"===r.type?o.LOADING_PANE:r.paneNode,params:u.params||{},path:d.join(";"),payload:u.payload,selected:l===e.length-1,siblingIndex:s}});return{paneDataItems:r,routerPanes:t,resolvedPanes:r.map($)}}function $(e){return e.pane}function q(e,t){let n=e[t.groupIndex]||[];return n[t.siblingIndex]=t.routerPaneSibling,e[t.groupIndex]=n,e}async function Q(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:(0,E.uuid)(),type:n};if(t&&!n){let n=await (0,h.firstValueFrom)(e.resolveTypeForDocument(t));return{id:t,type:n}}throw new D({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}let X={},Z=(0,i.memo)(function(){let e,t,n=(0,r.c)(7),{navigate:l}=(0,u.useRouter)(),s=(0,u.useRouterState)(ee),{rootPaneNode:d,structureContext:c}=(0,o.useStructureTool)(),p=(0,a.useDocumentStore)(),[f,h]=(0,i.useState)(null);if(f)throw f;return n[0]!==p||n[1]!==s||n[2]!==l||n[3]!==d||n[4]!==c?(e=()=>{if(s){let{intent:e,params:t,payload:n}=s,r=!1;return(async function(){let{id:i,type:a}=await Q(p,"string"==typeof t.id?t.id:void 0,"string"==typeof t.type?t.type:void 0);if(r)return;let o=await U({intent:e,params:{...t,id:i,type:a},payload:n,rootPaneNode:d,structureContext:c});r||l({panes:o},{replace:!0})})().catch(h),()=>{r=!0}}},t=[p,s,l,d,c],n[0]=p,n[1]=s,n[2]=l,n[3]=d,n[4]=c,n[5]=e,n[6]=t):(e=n[5],t=n[6]),(0,i.useEffect)(e,t),null});function ee(e){let t="string"==typeof e.intent?e.intent:void 0;return t?{intent:t,params:(0,a.isRecord)(e.params)?e.params:X,payload:e.payload}:void 0}let et=k.styled.span(z());function en(e){let t,i,o,u,d,c,p,f,h,m,x,g,y,v,I,w,b,P,j,_,S,T,E,R,k,A,O,z,L,M,B=(0,r.c)(74),{error:W}=e;if(!(W instanceof D))throw W;let{cause:F}=W,{t:H}=(0,a.useTranslation)(s.structureLocaleNamespace),U=(null==F?void 0:F.stack)||W.stack;B[0]!==F||B[1]!==W.message||B[2]!==U?(t=U&&!(F instanceof s.SerializeError)&&!W.message.includes("Module build failed:"),B[0]=F,B[1]=W.message,B[2]=U,B[3]=t):t=B[3];let G=t;if(B[4]!==F||B[5]!==W.helpId||B[6]!==H){let e,t=F instanceof s.SerializeError?F.path:[];c=F instanceof s.SerializeError&&F.helpId||W.helpId,d=ei,u=C.Card,p="fill",f="auto",h=4,m="border",x="critical",o=C.Container,B[25]!==H?(e=H("structure-error.header.text"),B[25]=H,B[26]=e):e=B[26],B[27]!==e?(j=(0,n.jsx)(C.Heading,{as:"h2",children:e}),B[27]=e,B[28]=j):j=B[28],i=C.Card,g=4,y=4,v=2,I="auto",w=1,b="inherit",P=t.length>0&&(0,n.jsxs)(C.Stack,{space:2,children:[(0,n.jsx)(C.Text,{size:1,weight:"medium",children:H("structure-error.structure-path.label")}),(0,n.jsx)(C.Code,{children:t.slice(1).map(er)})]}),B[4]=F,B[5]=W.helpId,B[6]=H,B[7]=i,B[8]=o,B[9]=u,B[10]=d,B[11]=c,B[12]=p,B[13]=f,B[14]=h,B[15]=m,B[16]=x,B[17]=g,B[18]=y,B[19]=v,B[20]=I,B[21]=w,B[22]=b,B[23]=P,B[24]=j}else i=B[7],o=B[8],u=B[9],d=B[10],c=B[11],p=B[12],f=B[13],h=B[14],m=B[15],x=B[16],g=B[17],y=B[18],v=B[19],I=B[20],w=B[21],b=B[22],P=B[23],j=B[24];return B[29]!==H?(_=H("structure-error.error.label"),B[29]=H,B[30]=_):_=B[30],B[31]!==_?(S=(0,n.jsx)(C.Text,{size:1,weight:"medium",children:_}),B[31]=_,B[32]=S):S=B[32],B[33]!==W.message||B[34]!==G||B[35]!==U?(T=G?U.replace(/\(\.\.\.\)\./g,"(...)\n  .").replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," ("):W.message,B[33]=W.message,B[34]=G,B[35]=U,B[36]=T):T=B[36],B[37]!==T?(E=(0,n.jsx)(C.Code,{children:T}),B[37]=T,B[38]=E):E=B[38],B[39]!==S||B[40]!==E?(R=(0,n.jsxs)(C.Stack,{marginTop:4,space:2,children:[S,E]}),B[39]=S,B[40]=E,B[41]=R):R=B[41],B[42]!==c||B[43]!==H?(k=c&&(0,n.jsx)(C.Box,{marginTop:4,children:(0,n.jsx)(C.Text,{children:(0,n.jsx)("a",{href:(0,l.generateHelpUrl)(c),rel:"noopener noreferrer",target:"_blank",children:H("structure-error.docs-link.text")})})}),B[42]=c,B[43]=H,B[44]=k):k=B[44],B[45]!==H?(A=H("structure-error.reload-button.text"),B[45]=H,B[46]=A):A=B[46],B[47]!==d||B[48]!==A?(O=(0,n.jsx)(C.Box,{marginTop:4,children:(0,n.jsx)(l.Button,{text:A,icon:N.SyncIcon,tone:"primary",onClick:d})}),B[47]=d,B[48]=A,B[49]=O):O=B[49],B[50]!==i||B[51]!==R||B[52]!==g||B[53]!==k||B[54]!==O||B[55]!==y||B[56]!==v||B[57]!==I||B[58]!==w||B[59]!==b||B[60]!==P?(z=(0,n.jsxs)(i,{marginTop:g,padding:y,radius:v,overflow:I,shadow:w,tone:b,children:[P,R,k,O]}),B[50]=i,B[51]=R,B[52]=g,B[53]=k,B[54]=O,B[55]=y,B[56]=v,B[57]=I,B[58]=w,B[59]=b,B[60]=P,B[61]=z):z=B[61],B[62]!==o||B[63]!==z||B[64]!==j?(L=(0,n.jsxs)(o,{children:[j,z]}),B[62]=o,B[63]=z,B[64]=j,B[65]=L):L=B[65],B[66]!==u||B[67]!==p||B[68]!==f||B[69]!==h||B[70]!==m||B[71]!==x||B[72]!==L?(M=(0,n.jsx)(u,{height:p,overflow:f,padding:h,sizing:m,tone:x,children:L}),B[66]=u,B[67]=p,B[68]=f,B[69]=h,B[70]=m,B[71]=x,B[72]=L,B[73]=M):M=B[73],M}function er(e,t){return(0,n.jsx)(et,{children:e},"".concat(e,"-").concat(t))}function ei(){window.location.reload()}function ea(){let e,t,i,l,o,u,d,c,p=(0,r.c)(17),{t:f}=(0,a.useTranslation)(s.structureLocaleNamespace);return p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(C.Box,{children:(0,n.jsx)(C.Text,{size:1,children:(0,n.jsx)(N.WarningOutlineIcon,{})})}),p[0]=e):e=p[0],p[1]!==f?(t=f("no-document-types-screen.title"),p[1]=f,p[2]=t):t=p[2],p[3]!==t?(i=(0,n.jsx)(C.Text,{as:"h1",size:1,weight:"medium",children:t}),p[3]=t,p[4]=i):i=p[4],p[5]!==f?(l=f("no-document-types-screen.subtitle"),p[5]=f,p[6]=l):l=p[6],p[7]!==l?(o=(0,n.jsx)(C.Text,{as:"p",muted:!0,size:1,children:l}),p[7]=l,p[8]=o):o=p[8],p[9]!==f?(u=f("no-document-types-screen.link-text"),p[9]=f,p[10]=u):u=p[10],p[11]!==u?(d=(0,n.jsx)(C.Text,{as:"p",muted:!0,size:1,children:(0,n.jsx)("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:u})}),p[11]=u,p[12]=d):d=p[12],p[13]!==i||p[14]!==o||p[15]!==d?(c=(0,n.jsx)(C.Card,{height:"fill",children:(0,n.jsx)(C.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,n.jsx)(C.Container,{width:0,children:(0,n.jsx)(C.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,n.jsxs)(C.Flex,{children:[e,(0,n.jsxs)(C.Stack,{flex:1,marginLeft:3,space:3,children:[i,o,d]})]})})})})}),p[13]=i,p[14]=o,p[15]=d,p[16]=c):c=p[16],c}let el=e=>{let t,n,l=(0,r.c)(7),{documentId:u,documentType:d}=e,{selectedReleaseId:c}=(0,a.usePerspective)(),p=(0,a.useEditState)(u,d,"default",c),f=(0,a.useSchema)(),{t:h}=(0,a.useTranslation)(s.structureLocaleNamespace),m=!(null==p?void 0:p.published)&&!(null==p?void 0:p.draft),x=(null==p?void 0:p.version)||(null==p?void 0:p.draft)||(null==p?void 0:p.published),g=f.get(d),{value:y,isLoading:v}=(0,a.unstable_useValuePreview)({enabled:!!x,schemaType:g,value:x}),{lastRevisionDocument:I}=(0,o.useDocumentLastRev)(u,d),w=I&&!x?"":m?h("browser-document-title.new-document",{schemaType:(null==g?void 0:g.title)||(null==g?void 0:g.name)}):(null==y?void 0:y.title)||h("browser-document-title.untitled-document"),b=p.ready&&!v,P=eu(w);return l[0]!==P||l[1]!==b?(t=()=>{b&&(document.title=P)},l[0]=P,l[1]=b,l[2]=t):t=l[2],l[3]!==w||l[4]!==P||l[5]!==b?(n=[w,b,P],l[3]=w,l[4]=P,l[5]=b,l[6]=n):n=l[6],(0,i.useEffect)(t,n),null},eo=e=>{let t,n,a=(0,r.c)(5),{title:l}=e,o=eu(l);return a[0]!==o?(t=()=>{document.title=o},a[0]=o,a[1]=t):t=a[1],a[2]!==o||a[3]!==l?(n=[o,l],a[2]=o,a[3]=l,a[4]=n):n=a[4],(0,i.useEffect)(t,n),null},es=e=>{let t,i=(0,r.c)(8),{resolvedPanes:a}=e;if(!(null==a?void 0:a.length))return null;let l=a[a.length-1];if(l===o.LOADING_PANE){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(eo,{}),i[0]=e):e=i[0],e}if(function(e){return e!==o.LOADING_PANE&&"document"===e.type}(l)){let e;if(null==l?void 0:l.title){let e;return i[1]!==l.title?(e=(0,n.jsx)(eo,{title:l.title}),i[1]=l.title,i[2]=e):e=i[2],e}return i[3]!==l.options.id||i[4]!==l.options.type?(e=(0,n.jsx)(el,{documentId:l.options.id,documentType:l.options.type}),i[3]=l.options.id,i[4]=l.options.type,i[5]=e):e=i[5],e}let s=null==l?void 0:l.title;return i[6]!==s?(t=(0,n.jsx)(eo,{title:s}),i[6]=s,i[7]=t):t=i[7],t};function eu(e){let t,n=(0,r.c)(3),i=(0,o.useStructureTool)().structureContext.title;return n[0]!==e||n[1]!==i?(t=[e,i].filter(ed),n[0]=e,n[1]=i,n[2]=t):t=n[2],t.join(" | ")}function ed(e){return e}let ec=(0,k.styled)(o.PaneLayout)(L()),ep=(0,A.isHotkey)("mod+s"),ef=(0,i.memo)(function(e){var t;let s,d,c,f,h,g,y,I,w,E,N,k,A=(0,r.c)(31),{onPaneChange:z}=e,{push:L}=(0,R.useToast)(),M=(0,a.useSchema)(),{layoutCollapsed:F,setLayoutCollapsed:U}=(0,o.useStructureTool)(),{paneDataItems:$,resolvedPanes:q}=function(){let e,t,n,a=(0,r.c)(6),[s,d]=(0,i.useState)();if(s)throw s;let{structureContext:c,rootPaneNode:f}=(0,o.useStructureTool)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={paneDataItems:[],resolvedPanes:[],routerPanes:[]},a[0]=e):e=a[0];let[h,g]=(0,i.useState)(e),y=function(){let e,t,n,a=(0,r.c)(6),[l]=(0,i.useState)(J);a[0]!==l?(e=l.asObservable().pipe((0,b.map)(V)),a[0]=l,a[1]=e):e=a[1];let o=e,{state:s}=(0,u.useRouter)();return a[2]!==s||a[3]!==l?(t=()=>{l.next(s)},n=[s,l],a[2]=s,a[3]=l,a[4]=t,a[5]=n):(t=a[4],n=a[5]),(0,i.useEffect)(t,n),o}();return a[1]!==f||a[2]!==y||a[3]!==c?(t=()=>{let e=(function(e){let{routerPanesStream:t,rootPaneNode:n,initialCacheState:r={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>m.NEVER},structureContext:i}=e;return t.pipe((0,b.map)(e=>[[{id:"root"}],...e]),(0,b.map)(e=>e.flatMap((e,t)=>e.map((e,n)=>({routerPaneSibling:e,groupIndex:t,siblingIndex:n}))).map((e,t)=>({...e,flatIndex:t}))),(0,P.startWith)([]),(0,j.operate)(function(e,t){var n,r=!1;e.subscribe((0,_.createOperatorSubscriber)(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))}),(0,b.map)(e=>{let[t,n]=e;for(let e=0;e<n.length;e++){let r=t[e],i=n[e];if(!(0,O.default)(r,i))return{flattenedRouterPanes:n,diffIndex:e}}return{flattenedRouterPanes:n,diffIndex:n.length}}),(0,S.scan)((e,t)=>{let{cacheKeysByFlatIndex:n,resolvedPaneCache:r}=e,{flattenedRouterPanes:i,diffIndex:a}=t,l=n.slice(0,a+1),o=n.slice(a+1),s=new Set(l.flatMap(e=>Array.from(e)));for(let e of o.flatMap(e=>Array.from(e)).filter(e=>!s.has(e)))r.delete(e);return{flattenedRouterPanes:i,cacheKeysByFlatIndex:n,resolvedPaneCache:r,resolvePane:W(e=>(t,i,a)=>{var l,o;let s=t&&"".concat(B(t),"-").concat("contextHash(".concat(JSON.stringify({id:i.id,parentId:parent&&B(parent),path:i.path,index:i.index,splitIndex:i.splitIndex,serializeOptionsIndex:null==(l=i.serializeOptions)?void 0:l.index,serializeOptionsPath:null==(o=i.serializeOptions)?void 0:o.path}),")")),u=s&&r.get(s);if(u)return u;let d=e(t,i,a);if(!s)return d;let c=n[a]||new Set;return c.add(s),n[a]=c,r.set(s,d),d})}},r),(0,v.switchMap)(e=>{let{flattenedRouterPanes:t,resolvePane:r}=e;return function e(t){let{unresolvedPane:n,flattenedRouterPanes:r,parent:i,path:a,resolvePane:o,structureContext:s}=t,[u,...d]=r,c=d[0],f={id:u.routerPaneSibling.id,splitIndex:u.siblingIndex,parent:i,path:[...a,u.routerPaneSibling.id],index:u.flatIndex,params:u.routerPaneSibling.params||{},payload:u.routerPaneSibling.payload,structureContext:s};try{return o(n,f,u.flatIndex).pipe((0,v.switchMap)(t=>{let r,l={type:"resolvedMeta",...u,paneNode:t,path:f.path},h=d.map((e,t)=>({type:"loading",path:[...f.path,...d.slice(t).map((t,n)=>"[".concat(e.flatIndex+n,"]"))],paneNode:null,...e}));return d.length?(r=(null==c?void 0:c.routerPaneSibling.id.startsWith("__edit__"))?e({unresolvedPane:G,flattenedRouterPanes:d,parent:i,path:f.path,resolvePane:o,structureContext:s}):u.groupIndex===(null==c?void 0:c.groupIndex)?e({unresolvedPane:n,flattenedRouterPanes:d,parent:i,path:a,resolvePane:o,structureContext:s}):e({unresolvedPane:"function"==typeof t.child?H(t,"child"):t.child,flattenedRouterPanes:d,parent:t,path:f.path,resolvePane:o,structureContext:s}),(0,x.concat)((0,p.of)([l,...h]),r.pipe((0,b.map)(e=>[l,...e])))):(0,p.of)([l])}))}catch(e){if(e instanceof D&&(e.context&&console.warn("Pane resolution error at index ".concat(e.context.index).concat(e.context.splitIndex>0?" for split pane index ".concat(e.context.splitIndex):"",": ").concat(e.message).concat(e.helpId?" - see ".concat((0,l.generateHelpUrl)(e.helpId)):""),e),"structure-item-returned-no-child"===e.helpId))return(0,p.of)([]);throw e}}({unresolvedPane:n,flattenedRouterPanes:t,parent:null,path:[],resolvePane:r,structureContext:i})})).pipe((0,S.scan)((e,t)=>t.map((t,n)=>{let r=e[n];return r&&"loading"===t.type&&r.routerPaneSibling.id===t.routerPaneSibling.id?r:t}),[]),(0,T.distinctUntilChanged)((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++){let r=e[n],i=t[n];if(K(r)!==K(i))return!1}return!0}))})({rootPaneNode:f,routerPanesStream:y,structureContext:c}).pipe((0,b.map)(Y)).subscribe({next:e=>g(e),error:e=>d(e)});return()=>e.unsubscribe()},n=[f,y,c],a[1]=f,a[2]=y,a[3]=c,a[4]=t,a[5]=n):(t=a[4],n=a[5]),(0,i.useEffect)(t,n),h}(),Q=(0,u.useRouterState)(eh),{sanity:X}=(0,C.useTheme)(),{media:Z}=X,[ee,et]=(0,i.useState)(null);A[0]!==U?(s=()=>U(!0),A[0]=U,A[1]=s):s=A[1];let en=s;A[2]!==U?(d=()=>U(!1),A[2]=U,A[3]=d):d=A[3];let er=d;if(A[4]!==z||A[5]!==q?(c=()=>{q.length&&z(q)},f=[z,q],A[4]=z,A[5]=q,A[6]=c,A[7]=f):(c=A[6],f=A[7]),(0,i.useEffect)(c,f),A[8]!==L?(h=()=>{let e=e=>{ep(e)&&(e.preventDefault(),L({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},g=[L],A[8]=L,A[9]=h,A[10]=g):(h=A[9],g=A[10]),(0,i.useEffect)(h,g),!(null==(t=M._original)?void 0:t.types.some(a._isCustomDocumentTypeDefinition))){let e;return A[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(ea,{}),A[11]=e):e=A[11],e}let ei=ee||null,el=F?void 0:"fill",eo=Z[1];return A[12]!==$?(y=$.map(em),A[12]=$,A[13]=y):y=A[13],A[14]!==Q||A[15]!==$.length?(I=$.length<=1&&Q&&(0,n.jsx)(o.LoadingPane,{paneKey:"intent-resolver"}),A[14]=Q,A[15]=$.length,A[16]=I):I=A[16],A[17]!==en||A[18]!==er||A[19]!==Z[1]||A[20]!==y||A[21]!==I||A[22]!==el?(w=(0,n.jsxs)(ec,{flex:1,height:el,minWidth:eo,onCollapse:en,onExpand:er,children:[y,I]}),A[17]=en,A[18]=er,A[19]=Z[1],A[20]=y,A[21]=I,A[22]=el,A[23]=w):w=A[23],A[24]!==q?(E=(0,n.jsx)(es,{resolvedPanes:q}),A[24]=q,A[25]=E):E=A[25],A[26]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)("div",{"data-portal":"",ref:et}),A[26]=N):N=A[26],A[27]!==w||A[28]!==E||A[29]!==ei?(k=(0,n.jsxs)(C.PortalProvider,{element:ei,children:[w,E,N]}),A[27]=w,A[28]=E,A[29]=ei,A[30]=k):k=A[30],k});function eh(e){return"string"==typeof e.intent}function em(e){let{active:t,childItemId:r,groupIndex:a,itemId:l,key:s,pane:u,index:d,params:c,path:p,payload:f,siblingIndex:h,selected:m}=e;return(0,n.jsx)(i.Fragment,{children:u===o.LOADING_PANE?(0,n.jsx)(o.LoadingPane,{paneKey:s,path:p,selected:m}):(0,n.jsx)(o.StructureToolPane,{active:t,groupIndex:a,index:d,pane:u,childItemId:r,itemId:l,paneKey:s,params:c,payload:f,path:p,selected:m,siblingIndex:h})},"".concat(u===o.LOADING_PANE?"loading":u.type,"-").concat(d))}function ex(e){let t,u,d,c,p,f,h,m=(0,r.c)(14),{tool:x}=e,{options:g}=x,{unstable_sources:y}=(0,a.useWorkspace)(),[v]=y;m[0]!==g?(t=g||{},m[0]=g,m[1]=t):t=m[1];let{source:I,defaultDocumentNode:w,structure:b}=t;m[2]===Symbol.for("react.memo_cache_sentinel")?(u=[],m[2]=u):u=m[2],(0,i.useEffect)(eg,u),m[3]===Symbol.for("react.memo_cache_sentinel")?(d={error:null},m[3]=d):d=m[3];let[P,j]=(0,i.useState)(d),{error:_}=P;if(_){let e;return m[4]!==_?(e=(0,n.jsx)(en,{error:_}),m[4]=_,m[5]=e):e=m[5],e}let S=I||v.name;return m[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(ef,{onPaneChange:o.setActivePanes}),p=(0,n.jsx)(Z,{}),m[6]=c,m[7]=p):(c=m[6],p=m[7]),m[8]!==w||m[9]!==b?(f=(0,n.jsxs)(s.StructureToolProvider,{defaultDocumentNode:w,structure:b,children:[c,p]}),m[8]=w,m[9]=b,m[10]=f):f=m[10],m[11]!==S||m[12]!==f?(h=(0,n.jsx)(l.ErrorBoundary,{onCatch:j,children:(0,n.jsx)(a.SourceProvider,{name:S,children:f})}),m[11]=S,m[12]=f,m[13]=h):h=m[13],h}function eg(){return(0,o.setActivePanes)([]),ey}function ey(){return(0,o.setActivePanes)([])}}]);