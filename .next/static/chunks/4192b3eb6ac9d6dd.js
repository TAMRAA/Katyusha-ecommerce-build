(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,970725,652468,e=>{"use strict";function t(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function n(e){return t(e)&&"string"==typeof e._ref}function r(e){return t(e)&&n(e.asset)&&e.asset._ref.startsWith("image-")}function i(e){return t(e)&&"string"==typeof e._ref&&"string"==typeof e._dataset&&"string"==typeof e._projectId}function a(e){return t(e)&&"string"==typeof e._id&&"string"==typeof e._type}function o(e){return t(e)&&"string"==typeof e._type}function l(e){return t(e)&&"string"==typeof e._key}function s(e){return!!t(e)&&"string"==typeof e._ref&&3===e._ref.split(":").length}function c(e){return"error"===e.level}function u(e){return"warning"===e.level}function d(e){return"info"===e.level}e.s(["FOCUS_TERMINATOR",()=>Z,"fromString",()=>ec,"get",()=>J,"isEqual",()=>et,"numEqualSegments",()=>en,"pathFor",()=>ee,"resolveKeyedPath",()=>es,"startsWith",()=>ei,"toString",()=>el,"trimChildPath",()=>eo,"trimLeft",()=>ea],970725),e.s(["defineArrayMember",()=>V,"defineField",()=>z,"defineType",()=>L,"isArrayOfBlocksSchemaType",()=>_,"isArrayOfObjectsSchemaType",()=>j,"isArrayOfPrimitivesSchemaType",()=>S,"isArraySchemaType",()=>w,"isBlockSchemaType",()=>F,"isBooleanSchemaType",()=>E,"isCrossDatasetReference",()=>i,"isCrossDatasetReferenceSchemaType",()=>function e(t){return x(t)&&("crossDatasetReference"===t.name||e(t.type))},"isDateTimeSchemaType",()=>D,"isDeprecatedSchemaType",()=>O,"isDocumentSchemaType",()=>C,"isFileSchemaType",()=>function e(t){return x(t)&&("file"===t.name||e(t.type))},"isGlobalDocumentReference",()=>s,"isImage",()=>r,"isImageSchemaType",()=>function e(t){return x(t)&&("image"===t.name||e(t.type))},"isIndexSegment",()=>h,"isIndexTuple",()=>g,"isKeySegment",()=>m,"isKeyedObject",()=>l,"isNumberSchemaType",()=>I,"isObjectSchemaType",()=>k,"isPortableTextSpan",()=>b,"isPortableTextTextBlock",()=>v,"isPrimitiveSchemaType",()=>A,"isReference",()=>n,"isReferenceSchemaType",()=>function e(t){return x(t)&&("reference"===t.name||e(t.type))},"isSanityDocument",()=>a,"isSearchStrategy",()=>H,"isSlug",()=>q,"isStringSchemaType",()=>T,"isTitledListValue",()=>P,"isTypedObject",()=>o,"isValidationError",()=>W,"isValidationErrorMarker",()=>c,"isValidationInfoMarker",()=>d,"isValidationWarning",()=>Y,"isValidationWarningMarker",()=>u,"searchStrategies",()=>U],652468);let p=/_key\s*==\s*['"](.*)['"]/,f=/^\d*:\d*$/;function h(e){return"number"==typeof e||"string"==typeof e&&/^\[\d+\]$/.test(e)}function m(e){return"string"==typeof e?p.test(e.trim()):"object"==typeof e&&"_key"in e}function g(e){if("string"==typeof e&&f.test(e))return!0;if(!Array.isArray(e)||2!==e.length)return!1;let[t,n]=e;return("number"==typeof t||""===t)&&("number"==typeof n||""===n)}function y(e){return!!e&&("object"==typeof e||"function"==typeof e)}function v(e){return y(e)&&"string"==typeof e._type&&Array.isArray(e.children)&&e.children.every(e=>y(e))&&(!("markDefs"in e)||Array.isArray(e.markDefs)&&e.markDefs.every(e=>y(e)))&&(!("style"in e)||"string"==typeof e.style)}function b(e){return y(e)&&"span"===e._type&&"string"==typeof e.text&&(!("marks"in e)||Array.isArray(e.marks)&&e.marks.every(e=>"string"==typeof e))}function x(e){return!!e&&("object"==typeof e||"function"==typeof e)}function C(e){if(!k(e))return!1;let t=e;for(;t;){if("document"===t.name)return!0;t=t.type}return!1}function k(e){return!!x(e)&&"object"===e.jsonType}function w(e){return!!x(e)&&"array"===e.jsonType}function _(e){return w(e)&&e.of.some(e=>F(e))}function j(e){return w(e)&&e.of.every(e=>k(e))}function S(e){return w(e)&&e.of.every(e=>A(e))}function E(e){return!!x(e)&&"boolean"===e.jsonType}function T(e){return!!x(e)&&"string"===e.jsonType}function D(e){return!!T(e)&&"datetime"===e.name}function I(e){return!!x(e)&&"number"===e.jsonType}function A(e){return E(e)||T(e)||I(e)}function O(e){return!!x(e)&&"u">typeof e.deprecated}function P(e){return"object"==typeof e&&null!==e&&"title"in e&&"value"in e}function M(e){return!!x(e)&&Array.isArray(e.annotations)&&Array.isArray(e.decorators)}function F(e){if(!x(e)||!Array.isArray(e.fields))return!1;let t=e.fields.find(N),n=e.fields.find(R),r=e.fields.find(B);return N(t)&&R(n)&&B(r)}function R(e){return!!x(e)&&"style"===e.name&&x(e.type)&&"string"===e.type.jsonType}function B(e){return!!x(e)&&"listItem"===e.name&&x(e.type)&&"string"===e.type.jsonType}function N(e){return!!x(e)&&"children"===e.name&&!!w(e.type)&&e.type.of.some(M)}function L(e,t){return e}function z(e,t){return e}function V(e,t){return e}let U=["groqLegacy","groq2024"];function H(e){return U.includes(e)}function q(e){return t(e)&&"string"==typeof e.current}function W(e){return"error"===e.level}function Y(e){return"warning"===e.level}let K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/_key\s*==\s*['"](.*)['"]/,$=[],Z="$",X=["true","false","null"];function J(e,t,n){let r="string"==typeof t?ec(t):t;if(!Array.isArray(r))throw Error("Path must be an array or a string");let i=e;for(let e=0;e<r.length;e++){let t=r[e];if(h(t)){if(!Array.isArray(i))return n;i=i[t]}if(m(t)){if(!Array.isArray(i))return n;i=i.find(e=>e._key===t._key)}if("string"==typeof t&&(i="object"==typeof i&&null!==i?i[t]:void 0),typeof i>"u")return n}return i}let Q=new Map;function ee(e){if(0===e.length)return $;let t=el(e);return Q.has(t)?Q.get(t):(Q.set(t,e),Object.freeze(e),e)}function et(e,t){return e.length===t.length&&e.every((e,n)=>er(e,t[n]))}function en(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!er(e[r],t[r]))return r;return n}function er(e,t){return m(e)&&m(t)?e._key===t._key:h(e)?Number(e)===Number(t):g(e)&&g(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function ei(e,t){return e.every((e,n)=>er(e,t[n]))}function ea(e,t){if(0===e.length||0===t.length)return t;let[n,...r]=e,[i,...a]=t;return er(n,i)?ee(ea(r,a)):t}function eo(e,t){return ei(e,t)?ea(e,t):$}function el(e){if(!Array.isArray(e))throw Error("Path is not an array");return e.reduce((e,t,n)=>{if("number"==typeof t)return"".concat(e,"[").concat(t,"]");if("string"==typeof t)return 0===n?t:X.includes(t)?"".concat(e,'["').concat(t,'"]'):"".concat(e,".").concat(t);if(m(t)&&t._key)return"".concat(e,'[_key=="').concat(t._key,'"]');if(Array.isArray(t)){let[n,r]=t;return"".concat(e,"[").concat(n,":").concat(r,"]")}throw Error("Unsupported path segment `".concat(JSON.stringify(t),"`"))},"")}function es(e,t){if(!Array.isArray(t))throw Error("Path is not an array");return ee(function e(t,n){if(0===n.length)return n;let[r,...i]=n;if("number"==typeof r){if(!Array.isArray(t)||!(r in t))return[];let n=t[r];return["string"==typeof(null==n?void 0:n._key)?{_key:n._key}:r,...e(n,i)]}let a=J(t,[r]);return[r,...e(a,i)]}(e,t))}function ec(e){if("string"!=typeof e)throw Error("Path is not a string");let t=e.match(K);if(!t)throw Error("Invalid path string");return t.map(eu)}function eu(e){return h(e)?Number(e.replace(/[^\d]/g,"")):m(e)?{_key:e.match(G)[1]}:g(e)?function(e){let[t,n]=e.split(":").map(e=>""===e?e:Number(e));return[t,n]}(e):e}},432892,(e,t,n)=>{var r="undefined"!=typeof Element,i="function"==typeof Map,a="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;t.exports=function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var l,s,c,u;if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((l=t.length)!=n.length)return!1;for(s=l;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(i&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(u=t.entries();!(s=u.next()).done;)if(!n.has(s.value[0]))return!1;for(u=t.entries();!(s=u.next()).done;)if(!e(s.value[1],n.get(s.value[0])))return!1;return!0}if(a&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(u=t.entries();!(s=u.next()).done;)if(!n.has(s.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((l=t.length)!=n.length)return!1;for(s=l;0!=s--;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"==typeof t.valueOf&&"function"==typeof n.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString&&"function"==typeof t.toString&&"function"==typeof n.toString)return t.toString()===n.toString();if((l=(c=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,c[s]))return!1;if(r&&t instanceof Element)return!1;for(s=l;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!t.$$typeof)&&!e(t[c[s]],n[c[s]]))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},527108,206e3,150208,878856,e=>{"use strict";e.s(["ActiveWorkspaceMatcherContext",()=>c,"AddonDatasetContext",()=>u,"AppIdCacheContext",()=>d,"CalendarContext",()=>p,"ChangeIndicatorTrackerContextGetSnapshot",()=>h,"ChangeIndicatorTrackerContextStore",()=>f,"ColorSchemeSetValueContext",()=>m,"ColorSchemeValueContext",()=>g,"CommentInputContext",()=>y,"CommentsAuthoringPathContext",()=>v,"CommentsContext",()=>b,"CommentsEnabledContext",()=>x,"CommentsIntentContext",()=>C,"CommentsOnboardingContext",()=>k,"CommentsSelectedPathContext",()=>w,"CommentsUpsellContext",()=>_,"CopyPasteContext",()=>j,"DiffContext",()=>S,"DocumentActionPropsContext",()=>E,"DocumentChangeContext",()=>T,"DocumentFieldActionsContext",()=>D,"DocumentIdContext",()=>I,"DocumentLimitUpsellContext",()=>A,"DocumentPaneContext",()=>O,"DocumentSheetListContext",()=>P,"EventsContext",()=>M,"FieldActionsContext",()=>F,"FormBuilderContext",()=>R,"FormCallbacksContext",()=>B,"FormFieldPresenceContext",()=>N,"FormValueContext",()=>L,"FreeTrialContext",()=>z,"GetFormValueContext",()=>V,"HoveredFieldContext",()=>U,"IsLastPaneContext",()=>H,"LocaleContext",()=>q,"MediaLibraryIdsContext",()=>W,"MentionUserContext",()=>Y,"NavbarContext",()=>K,"PackageVersionInfoContext",()=>G,"PaneContext",()=>$,"PaneLayoutContext",()=>Z,"PaneRouterContext",()=>J,"PerspectiveContext",()=>Q,"PortableTextMarkersContext",()=>ee,"PortableTextMemberItemElementRefsContext",()=>et,"PortableTextMemberItemsContext",()=>en,"PresenceContext",()=>er,"PresenceTrackerContextGetSnapshot",()=>ea,"PresenceTrackerContextStore",()=>ei,"PresentationContext",()=>eo,"PresentationDisplayedDocumentContext",()=>el,"PresentationDocumentContext",()=>es,"PresentationNavigateContext",()=>ec,"PresentationPanelsContext",()=>eu,"PresentationParamsContext",()=>ed,"PresentationSharedStateContext",()=>ep,"PreviewCardContext",()=>ef,"RawPerspectiveContext",()=>eh,"ReferenceInputOptionsContext",()=>em,"ReferenceItemRefContext",()=>eg,"ReleasesMetadataContext",()=>ey,"ReleasesUpsellContext",()=>eb,"ResourceCacheContext",()=>ex,"ReviewChangesContext",()=>eC,"RouterContext",()=>ek,"RouterHistoryContext",()=>ew,"SanityCreateConfigContext",()=>e_,"SchedulePublishUpsellContext",()=>eS,"ScheduledPublishingEnabledContext",()=>ej,"ScrollContext",()=>eE,"SearchContext",()=>eT,"SortableItemIdContext",()=>eD,"SourceContext",()=>eI,"StructureToolContext",()=>eA,"StudioAnnouncementContext",()=>eO,"TableContext",()=>ev,"TasksContext",()=>eP,"TasksEnabledContext",()=>eM,"TasksNavigationContext",()=>eF,"TasksUpsellContext",()=>eR,"TreeEditingEnabledContext",()=>eB,"UserColorManagerContext",()=>eN,"ValidationContext",()=>eL,"VirtualizerScrollInstanceContext",()=>ez,"WorkspaceContext",()=>eV,"WorkspacesContext",()=>eU,"ZIndexContext",()=>eq,"zIndexContextDefaults",()=>eH],527108),e.s(["createContext",()=>i],150208);var t=e.i(271645);e.s(["SANITY_VERSION",()=>n],206e3);let n="4.9.0",r="https://www.sanity.io/help/missing-context-error";function i(e,i){let l=Symbol.for(e);if(typeof document>"u"||"u">typeof window&&"u">typeof window.navigator&&window.navigator.userAgent.includes("jsdom")){let n=(0,t.createContext)(i);return n.displayName=e,n}if(o[l]){if(o[l].version!==n)throw TypeError('Duplicate instances of context "'.concat(e,'" with incompatible versions detected: Expected ').concat(n," but got ").concat(o[l].version,".\n\nFor more information, please visit ").concat(r));a.has(n)||(console.warn('Duplicate instances of context "'.concat(e,'" detected. This is likely a mistake and may cause unexpected behavior.\n\nFor more information, please visit ').concat(r)),a.add(n))}else o[l]={context:(0,t.createContext)(i),version:n};return o[l].context}let a=new Set,o="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof self?self:e.g;e.s(["BehaviorSubject",()=>s],878856);var l=e.i(290571),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,l.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n.closed||t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(e.i(408659).Subject);let c=i("sanity/_singletons/context/active-workspace-matcher",null),u=i("sanity/_singletons/context/addon-dataset",null),d=i("sanity/_singletons/context/app-id-cache",null),p=i("sanity/_singletons/context/calendar",void 0),f=i("sanity/_singletons/context/change-indicator-tracker-store",null),h=i("sanity/_singletons/context/change-indicator-tracker-get-snapshot",null),m=i("sanity/_singletons/context/color-scheme-set-value",null),g=i("sanity/_singletons/context/color-scheme-value",null),y=i("sanity/_singletons/context/comment-input",null),v=i("sanity/_singletons/context/comments-authoring-path",null),b=i("sanity/_singletons/context/comments",null),x=i("sanity/_singletons/context/comments-enabled",{enabled:!1,mode:null}),C=i("sanity/_singletons/context/comments-intent",void 0),k=i("sanity/_singletons/context/comments-onboarding",null),w=i("sanity/_singletons/context/comments-selected-path",null),_=i("sanity/_singletons/context/comments-upsell",null),j=i("sanity/_singletons/context/copy-paste",null),S=i("sanity/_singletons/context/diff",{path:[]}),E=i("sanity/_singletons/context/document-action-props",void 0),T=i("sanity/_singletons/context/document-change",null),D=i("sanity/_singletons/context/document-field-actions",null),I=i("sanity/_singletons/context/document-id",null),A=i("sanity/_singletons/context/document-limit-upsell",null),O=i("sanity/_singletons/context/document-pane",null),P=i("sanity/_singletons/context/document-sheet-list",void 0),M=i("sanity/_singletons/context/events",null),F=i("sanity/_singletons/context/field-actions",{actions:[],focused:!1,hovered:!1,__internal_slot:void 0,__internal_comments:void 0,onMouseEnter:()=>{},onMouseLeave:()=>{}}),R=i("sanity/_singletons/context/form-builder",null),B=i("sanity/_singletons/context/form-callbacks",null),N=i("sanity/_singletons/context/form-field-presence",[]),L=i("sanity/_singletons/context/form-value",null),z=i("sanity/_singletons/context/free-trial",void 0),V=i("sanity/_singletons/context/get-form-value",null),U=i("sanity/_singletons/context/hovered-field",{store:{subscribe:()=>()=>{},getSnapshot:()=>[]},onMouseEnter:()=>{},onMouseLeave:()=>{}}),H=i("sanity/_singletons/context/is-last-pane",!1),q=i("sanity/_singletons/context/locale",void 0),W=i("sanity/_singletons/context/media-library",null),Y=i("sanity/_singletons/context/mention-user",null),K=i("sanity/_singletons/context/navbar",{onSearchFullscreenOpenChange:()=>"",onSearchOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null,searchOpen:!1}),G=i("sanity/_singletons/context/package-version-info",{isAutoUpdating:!1,checkForUpdates:()=>{},get baseVersion(){throw Error("PackageVersionInfoContext not provided")},get currentVersion(){throw Error("PackageVersionInfoContext not provided")},versionCheckStatus:{lastCheckedAt:null,checking:!1}}),$=i("sanity/_singletons/context/pane",null),Z=i("sanity/_singletons/context/pane-layout",null);function X(){throw Error("Pane is missing router context")}let J=i("sanity/_singletons/context/pane-router",{index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>X(),ChildLink:()=>X(),ReferenceChildLink:()=>X(),handleEditReference:()=>X(),ParameterizedLink:()=>X(),replaceCurrent:()=>X(),closeCurrentAndAfter:()=>X(),closeCurrent:()=>X(),duplicateCurrent:()=>X(),setView:()=>X(),setParams:()=>X(),setPayload:()=>X(),navigateIntent:()=>X(),createPathWithParams:()=>X()}),Q=i("sanity/_singletons/context/perspective-context",null),ee=i("sanity/_singletons/context/portable-text-markers",[]),et=i("sanity/_singletons/context/portable-text-member-item-element-refs",new s({})),en=i("sanity/_singletons/context/portable-text-member-items",[]),er=i("sanity/_singletons/context/presence",[]),ei=i("sanity/_singletons/context/presence-tracker-store",null),ea=i("sanity/_singletons/context/presence-tracker-get-snapshot",null),eo=i("sanity/_singletons/context/presentation",null),el=i("sanity/_singletons/context/presentation/displayed-document",null),es=i("sanity/_singletons/context/presentation/document",null),ec=i("sanity/_singletons/context/presentation/navigate",null),eu=i("sanity/_singletons/context/presentation/panels",null),ed=i("sanity/_singletons/context/presentation/params",null),ep=i("sanity/_singletons/context/presentation/shared-state",null),ef=i("sanity/_singletons/context/preview-card",{selected:!1}),eh=i("sanity/_singletons/context/RawPerspectiveContext",null),em=i("sanity/_singletons/context/reference-input-options",{}),eg=i("sanity/_singletons/context/reference-item-ref",null),ey=i("sanity/_singletons/context/releases-metadata",null),ev=i("sanity/_singletons/context/releases-table",null),eb=i("sanity/_singletons/context/releases-upsell",null),ex=i("sanity/_singletons/context/resource-cache",null),eC=i("sanity/_singletons/context/review-changes",{onOpenReviewChanges:()=>{},onSetFocus:()=>{},isReviewChangesOpen:!1,isInteractive:!0}),ek=i("sanity/_singletons/context/router",null),ew=i("sanity/_singletons/context/router-history",null),e_=i("sanity/_singletons/context/start-in-create-enabled",{startInCreateEnabled:!1}),ej=i("sanity/_singletons/context/scheduled-publishing-enabled",{enabled:!1,mode:null,hasUsedScheduledPublishing:{used:!1,loading:!1}}),eS=i("sanity/_singletons/context/schedule-publish-upsell",{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}),eE=i("sanity/_singletons/context/scroll",null),eT=i("sanity/_singletons/context/search",void 0),eD=i("sanity/_singletons/context/sortable-item-id",null),eI=i("sanity/_singletons/context/source",null),eA=i("sanity/_singletons/context/structure-tool",null),eO=i("sanity/_singletons/context/studioAnnouncements",void 0),eP=i("sanity/_singletons/context/tasks",null),eM=i("sanity/_singletons/context/tasks-enabled",{enabled:!1,mode:null}),eF=i("sanity/_singletons/context/tasks-navigation",null),eR=i("sanity/_singletons/context/tasks-upsell",null),eB=i("sanity/_singletons/context/tree-editing-enabled",{enabled:!1,legacyEditing:!1}),eN=i("sanity/_singletons/context/user-color-manager",null),eL=i("sanity/_singletons/context/validation",[]),ez=i("sanity/_singletons/context/virtualizer-scroll-instance",null),eV=i("sanity/_singletons/context/workspace",null),eU=i("sanity/_singletons/context/workspaces",null),eH={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],paneDialog:[140,5e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},eq=i("sanity/_singletons/context/z-index",eH)},12447,(e,t,n)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},100236,(e,t,n)=>{t.exports=e.g&&e.g.Object===Object&&e.g},139088,(e,t,n)=>{var r=e.r(100236),i="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||i||Function("return this")()},631926,(e,t,n)=>{var r=e.r(139088);t.exports=function(){return r.Date.now()}},748891,(e,t,n)=>{var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},830364,(e,t,n)=>{var r=e.r(748891),i=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},630353,(e,t,n)=>{t.exports=e.r(139088).Symbol},243436,(e,t,n)=>{var r=e.r(630353),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,l=r?r.toStringTag:void 0;t.exports=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[l]=n:delete e[l]),i}},223243,(e,t,n)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},377684,(e,t,n)=>{var r=e.r(630353),i=e.r(243436),a=e.r(223243),o=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},877289,(e,t,n)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},361884,(e,t,n)=>{var r=e.r(377684),i=e.r(877289);t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},773759,(e,t,n)=>{var r=e.r(830364),i=e.r(12447),a=e.r(361884),o=0/0,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):l.test(e)?o:+e}},374009,(e,t,n)=>{var r=e.r(12447),i=e.r(631926),a=e.r(773759),o=Math.max,l=Math.min;t.exports=function(e,t,n){var s,c,u,d,p,f,h=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=s,r=c;return s=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-f,r=e-h;return void 0===f||n>=t||n<0||g&&r>=u}function x(){var e,n,r,a=i();if(b(a))return C(a);p=setTimeout(x,(e=a-f,n=a-h,r=t-e,g?l(r,u-n):r))}function C(e){return(p=void 0,y&&s)?v(e):(s=c=void 0,d)}function k(){var e,n=i(),r=b(n);if(s=arguments,c=this,f=n,r){if(void 0===p)return h=e=f,p=setTimeout(x,t),m?v(e):d;if(g)return clearTimeout(p),p=setTimeout(x,t),v(f)}return void 0===p&&(p=setTimeout(x,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(a(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=f=c=p=void 0},k.flush=function(){return void 0===p?d:C(i())},k}},224283,(e,t,n)=>{var r=e.r(374009),i=e.r(12447);t.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},2008,(e,t,n)=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},678491,201968,48493,402607,322831,200071,785269,312669,847780,782154,e=>{"use strict";let t;e.s(["Autocomplete",()=>el,"Breadcrumbs",()=>ep,"Dialog",()=>ew,"DialogProvider",()=>e_,"ErrorBoundary",()=>G,"MenuButton",()=>ej,"Skeleton",()=>eA,"TabPanel",()=>eM,"TextSkeleton",()=>eP,"ToastProvider",()=>e7,"_raf2",()=>U,"focusFirstDescendant",()=>q,"focusLastDescendant",()=>W,"useArrayProp",()=>Y,"useElementRect",()=>K,"useToast",()=>e8],678491);var n=e.i(299749),r=e.i(892510),i=e.i(725917),a=e.i(843476),o=e.i(881933),l=e.i(447912),s=e.i(271645),c=e.i(997053),u=e.i(640289),d=e.i(846932),p=e.i(88653);function f(){let e=(0,r._)(["line-height:0;"]);return f=function(){return e},e}function h(){let e=(0,r._)(["& > ul{list-style:none;padding:0;margin:0;}"]);return h=function(){return e},e}function m(){let e=(0,r._)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]);return m=function(){return e},e}function g(){let e=(0,r._)(["animation:"," 500ms linear infinite;"]);return g=function(){return e},e}function y(){let e=(0,r._)(["margin:0;padding:0;display:flex;list-style:none;align-items:center;white-space:nowrap;line-height:0;"]);return y=function(){return e},e}function v(){let e=(0,r._)(["appearance:none;margin:-4px;"]);return v=function(){return e},e}function b(){let e=(0,r._)(["\n    @keyframes zoomIn {\n      from {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n\n    animation: fadeIn 200ms ease-out;\n    // Animates the dialog card.\n    & > [data-ui='DialogCard'] {\n      animation: zoomIn 200ms ease-out;\n    }\n  "]);return b=function(){return e},e}function x(){let e=(0,r._)([""]);return x=function(){return e},e}function C(){let e=(0,r._)(["&:not([hidden]){display:flex;}width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center;"]);return C=function(){return e},e}function k(){let e=(0,r._)(["&:not([hidden]){display:flex;}width:100%;min-height:0;max-height:100%;overflow:hidden;overflow:clip;"]);return k=function(){return e},e}function w(){let e=(0,r._)(["flex:1;min-height:0;width:100%;"]);return w=function(){return e},e}function _(){let e=(0,r._)(["position:relative;z-index:2;"]);return _=function(){return e},e}function j(){let e=(0,r._)(["position:relative;z-index:1;overflow:auto;outline:none;"]);return j=function(){return e},e}function S(){let e=(0,r._)(["position:relative;z-index:3;"]);return S=function(){return e},e}function E(){let e=(0,r._)(["\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n"]);return E=function(){return e},e}function T(){let e=(0,r._)(["\n  background-image: linear-gradient(\n    to right,\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-to),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from)\n  );\n  background-position: 100%;\n  background-size: 200% 100%;\n  background-attachment: fixed;\n  animation-name: ",";\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  animation-duration: 2000ms;\n"]);return T=function(){return e},e}function D(){let e=(0,r._)(["\n            background-color: var(--card-skeleton-color-from);\n          "]);return D=function(){return e},e}function I(){let e=(0,r._)(["\n  opacity: ",";\n  transition: opacity 200ms ease-in;\n\n  @media screen and (prefers-reduced-motion: no-preference) {\n    ","\n  }\n\n  @media screen and (prefers-reduced-motion: reduce) {\n    background-color: var(--card-skeleton-color-from);\n  }\n"]);return I=function(){return e},e}function A(){let e=(0,r._)(["overflow-x:auto;"]);return A=function(){return e},e}function O(){let e=(0,r._)(["pointer-events:all;width:100%;position:relative;overflow:hidden;overflow:clip;&[data-has-duration]{padding-bottom:calc(","px / 2);}"]);return O=function(){return e},e}function P(){let e=(0,r._)(["display:flex;position:absolute;bottom:0px;top:0px;left:0px;right:0px;pointer-events:none;z-index:-1;overflow:hidden;overflow:clip;background:transparent;align-items:flex-end;will-change:opacity;"]);return P=function(){return e},e}function M(){let e=(0,r._)(["position:absolute;top:0;left:-","px;right:-","px;bottom:","px;z-index:1;"]);return M=function(){return e},e}function F(){let e=(0,r._)(["display:block;height:100%;width:100%;transform-origin:0% 50%;background-color:",";"]);return F=function(){return e},e}function R(){let e=(0,r._)(["box-sizing:border-box;position:fixed;right:0;bottom:0;list-style:none;pointer-events:none;max-width:420px;width:100%;"]);return R=function(){return e},e}function B(){let e=(0,r._)(["\n    &[role='none'] > [role='treeitem'] {\n      outline: none;\n      cursor: default;\n      border-radius: 3px;\n\n      background-color: var(--card-bg-color);\n      color: var(--treeitem-fg-color);\n\n      &:focus {\n        position: relative;\n      }\n    }\n\n    &[role='treeitem'] {\n      outline: none;\n\n      & > div {\n        cursor: default;\n        border-radius: 3px;\n\n        background-color: var(--card-bg-color);\n        color: var(--treeitem-fg-color);\n      }\n\n      &:focus > div {\n        position: relative;\n      }\n    }\n  "]);return B=function(){return e},e}function N(){let e=(0,r._)(["\n    &[role='none'] {\n      & > [role='treeitem'] {\n        ","\n      }\n\n      &[data-selected] > [role='treeitem'] {\n        ","\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {\n          ","\n        }\n\n        & > [role='treeitem']:focus {\n          ","\n        }\n      }\n    }\n\n    &[role='treeitem'] {\n      & > [data-ui='TreeItem__box'] {\n        ","\n      }\n\n      &[data-selected] > [data-ui='TreeItem__box'] {\n        ","\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {\n          ","\n        }\n\n        &:focus > [data-ui='TreeItem__box'] {\n          ","\n        }\n      }\n    }\n  "]);return N=function(){return e},e}function L(){let e=(0,r._)(["\n    padding-left: ",";\n\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  "]);return L=function(){return e},e}function z(){let e=(0,r._)(["& > svg{transition:transform 100ms;}"]);return z=function(){return e},e}function V(e){let t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function U(e){let t=null,n=V(()=>{t=V(e)});return()=>{t&&t(),n()}}function H(e){if(!(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex")||((0,i.isHTMLAnchorElement)(e)?!!e.href&&"ignore"!==e.rel:(0,i.isHTMLInputElement)(e)?"hidden"!==e.type&&"file"!==e.type&&!e.disabled:!!((0,i.isHTMLButtonElement)(e)||(0,i.isHTMLSelectElement)(e)||(0,i.isHTMLTextAreaElement)(e))&&!e.disabled)))return!1;try{e.focus()}catch(e){}return document.activeElement===e}function q(e){for(let t=0;t<e.childNodes.length;t++){let n=e.childNodes[t];if((0,i.isHTMLElement)(n)&&(H(n)||q(n)))return!0}return!1}function W(e){for(let t=e.childNodes.length-1;t>=0;t--){let n=e.childNodes[t];if((0,i.isHTMLElement)(n)&&(H(n)||W(n)))return!0}return!1}function Y(e,t){let n,r=(0,o.c)(3);return r[0]!==t||r[1]!==e?(n=(0,i._getArrayProp)(e,t),r[0]=t,r[1]=e,r[2]=n):n=r[2],n}function K(e){var t;return(null==(t=(0,i.useElementSize)(e))?void 0:t._contentRect)||null}class G extends s.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){this.props.onCatch({error:e,info:t})}render(){let{error:e}=this.state;if(e){let t="string"==typeof(null==e?void 0:e.message)?e.message:"Error";return(0,a.jsx)(i.Code,{children:t})}return this.props.children}constructor(...e){super(...e),(0,n._)(this,"state",{error:null})}}let $=c.styled.div.withConfig({displayName:"StyledAutocomplete",componentId:"sc-1igauft-0"})(f()),Z=(0,c.styled)(i.Box).withConfig({displayName:"ListBox",componentId:"sc-1igauft-1"})(h()),X=(0,c.keyframes)(m()),J=(0,c.styled)(l.SpinnerIcon).withConfig({displayName:"AnimatedSpinnerIcon",componentId:"sc-1igauft-2"})(g(),X);function Q(e){let t,n,r,l=(0,o.c)(11),{children:s,id:c,onSelect:u,selected:d,value:p}=e;l[0]!==u||l[1]!==p?(t=()=>{setTimeout(()=>{u(p)},0)},l[0]=u,l[1]=p,l[2]=t):t=l[2];let f=t;l[3]!==f?(n=e=>{"Enter"!==e.key||(0,i._isEnterToClickElement)(e.currentTarget)||f()},l[3]=f,l[4]=n):n=l[4];let h=n;return l[5]!==s||l[6]!==f||l[7]!==h||l[8]!==c||l[9]!==d?(r=(0,a.jsx)("li",{"aria-selected":d,"data-ui":"AutocompleteOption",id:c,role:"option",onClick:f,onKeyDown:h,children:s}),l[5]=s,l[6]=f,l[7]=h,l[8]=c,l[9]=d,l[10]=r):r=l[10],r}function ee(e,t){return"input/change"===t.type?{...e,activeValue:null,focused:!0,query:t.query}:"input/focus"===t.type?{...e,focused:!0}:"root/blur"===t.type?{...e,focused:!1,query:null}:"root/clear"===t.type?{...e,activeValue:null,query:null,value:null}:"root/escape"===t.type?{...e,focused:!1,query:null}:"root/open"===t.type?{...e,query:e.query||t.query}:"root/setActiveValue"===t.type?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:"root/setListFocused"===t.type?{...e,listFocused:t.listFocused}:"value/change"===t.type?{...e,activeValue:t.value,query:null,value:t.value}:e}let et=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],en=["bottom-start","top-start"],er=(e,t)=>t?t.value:e,ei=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,ea=(0,s.forwardRef)(function(e,t){let n,r,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j,S,E,T,D,I,A,O,P,M,F,R,B,N,L,z,U,H,W,Y,K,G,X,ea,el,eu,ed,ep,ef,eh,em,eg,ey,ev,eb,ex,eC,ek,ew,e_,ej,eS,eE,eT,eD,eI=(0,o.c)(180);eI[0]!==e?({border:T,customValidity:n,disabled:r,filterOption:c,fontSize:D,icon:u,id:d,listBox:I,loading:p,onBlur:f,onChange:h,onFocus:m,onQueryChange:g,onSelect:y,openButton:v,openOnFocus:b,options:x,padding:A,popover:O,prefix:C,radius:P,readOnly:k,relatedElements:w,renderOption:_,renderPopover:j,renderValue:M,suffix:E,value:F,...S}=e,eI[0]=e,eI[1]=n,eI[2]=r,eI[3]=c,eI[4]=u,eI[5]=d,eI[6]=p,eI[7]=f,eI[8]=h,eI[9]=m,eI[10]=g,eI[11]=y,eI[12]=v,eI[13]=b,eI[14]=x,eI[15]=C,eI[16]=k,eI[17]=w,eI[18]=_,eI[19]=j,eI[20]=S,eI[21]=E,eI[22]=T,eI[23]=D,eI[24]=I,eI[25]=A,eI[26]=O,eI[27]=P,eI[28]=M,eI[29]=F):(n=eI[1],r=eI[2],c=eI[3],u=eI[4],d=eI[5],p=eI[6],f=eI[7],h=eI[8],m=eI[9],g=eI[10],y=eI[11],v=eI[12],b=eI[13],x=eI[14],C=eI[15],k=eI[16],w=eI[17],_=eI[18],j=eI[19],S=eI[20],E=eI[21],T=eI[22],D=eI[23],I=eI[24],A=eI[25],O=eI[26],P=eI[27],M=eI[28],F=eI[29]);let eA=void 0===T||T,eO=void 0===D?2:D,eP=void 0===I?i.EMPTY_RECORD:I,eM=void 0===A?3:A,eF=void 0===O?i.EMPTY_RECORD:O,eR=void 0===P?2:P,eB=void 0===M?er:M,eN=F||null,eL=F||null;eI[30]!==eN||eI[31]!==eL?(R={activeValue:eN,focused:!1,listFocused:!1,query:null,value:eL},eI[30]=eN,eI[31]=eL,eI[32]=R):R=eI[32];let[ez,eV]=(0,s.useReducer)(ee,R),{activeValue:eU,focused:eH,listFocused:eq,query:eW,value:eY}=ez;eI[33]!==eO||eI[34]!==eM?(B=e=>{let{value:t}=e;return(0,a.jsx)(i.Card,{"data-as":"button",padding:eM,radius:2,tone:"inherit",children:(0,a.jsx)(i.Text,{size:eO,textOverflow:"ellipsis",children:t})})},eI[33]=eO,eI[34]=eM,eI[35]=B):B=eI[35];let eK="function"==typeof _?_:B,eG="function"==typeof c?c:ei,e$=(0,s.useRef)(null),eZ=(0,s.useRef)(null),eX=(0,s.useRef)(null),eJ=(0,s.useRef)(null),[eQ,e1]=(0,s.useState)(null),e2=(0,s.useRef)(!1),e0=(0,s.useRef)(eY),e5=(0,s.useRef)(F),e7=(0,s.useRef)(!1);eI[36]!==eQ?(N=()=>eQ,L=[eQ],eI[36]=eQ,eI[37]=N,eI[38]=L):(N=eI[37],L=eI[38]),(0,s.useImperativeHandle)(eX,N,L),eI[39]!==eQ?(z=()=>eQ,U=[eQ],eI[39]=eQ,eI[40]=z,eI[41]=U):(z=eI[40],U=eI[41]),(0,s.useImperativeHandle)(t,z,U);let e3="".concat(d,"-listbox"),e8=Array.isArray(x)?x:i.EMPTY_ARRAY,e4=(0,i._getArrayProp)(eM);eI[42]!==e8||eI[43]!==eY?(H=null!==eY?e8.find(e=>e.value===eY):void 0,eI[42]=e8,eI[43]=eY,eI[44]=H):H=eI[44];let e6=H;if(eI[45]!==eG||eI[46]!==e8||eI[47]!==eW){let e;eI[49]!==eG||eI[50]!==eW?(e=e=>!eW||eG(eW,e),eI[49]=eG,eI[50]=eW,eI[51]=e):e=eI[51],W=e8.filter(e),eI[45]=eG,eI[46]=e8,eI[47]=eW,eI[48]=W}else W=eI[48];let e9=W,te=e9.length,tt=eU?"".concat(d,"-option-").concat(eU):void 0,tn=null!==eW&&p||eH&&null!==eW;eI[52]!==f||eI[53]!==g||eI[54]!==w?(Y=e=>{setTimeout(()=>{if(e7.current)return;let t=(w||[]).concat(e$.current?[e$.current]:[],eZ.current?[eZ.current]:[]),n=!1;if(document.activeElement){for(let e of t)if(e===document.activeElement||e.contains(document.activeElement)){n=!0;break}}!1===n&&(eV({type:"root/blur"}),e7.current=!1,g&&g(null),f&&f(e))},0)},eI[52]=f,eI[53]=g,eI[54]=w,eI[55]=Y):Y=eI[55];let tr=Y;eI[56]===Symbol.for("react.memo_cache_sentinel")?(K=e=>{let t=eJ.current,n=e.target instanceof HTMLElement?e.target:null,r=(null==t?void 0:t.contains(n))||!1;r!==e2.current&&(e2.current=r,eV({type:"root/setListFocused",listFocused:r}))},eI[56]=K):K=eI[56];let ti=K;eI[57]!==h||eI[58]!==g||eI[59]!==y?(G=e=>{var t;eV({type:"value/change",value:e}),e7.current=!1,y&&y(e),e0.current=e,h&&h(e),g&&g(null),null==(t=eX.current)||t.focus()},eI[57]=h,eI[58]=g,eI[59]=y,eI[60]=G):G=eI[60];let ta=G;eI[61]!==eU||eI[62]!==e9||eI[63]!==te||eI[64]!==g?(X=e=>{var t,n;if("ArrowDown"===e.key){if(e.preventDefault(),!te)return;let t=e9.find(e=>e.value===eU),n=t?e9.indexOf(t):-1,r=e9[(n+1)%te];r&&eV({type:"root/setActiveValue",value:r.value,listFocused:!0});return}if("ArrowUp"===e.key){if(e.preventDefault(),!te)return;let t=e9.find(e=>e.value===eU),n=t?e9.indexOf(t):-1,r=e9[-1===n?te-1:(te+n-1)%te];r&&eV({type:"root/setActiveValue",value:r.value,listFocused:!0});return}if("Escape"===e.key){eV({type:"root/escape"}),e7.current=!1,g&&g(null),null==(t=eX.current)||t.focus();return}let r=e.target,i=eJ.current;if((i===r||(null==i?void 0:i.contains(r)))&&!et.includes(e.key)){null==(n=eX.current)||n.focus();return}},eI[61]=eU,eI[62]=e9,eI[63]=te,eI[64]=g,eI[65]=X):X=eI[65];let to=X;eI[66]!==g?(ea=e=>{let t=e.currentTarget.value;eV({type:"input/change",query:t}),g&&g(t)},eI[66]=g,eI[67]=ea):ea=eI[67];let tl=ea;eI[68]!==e6||eI[69]!==eB||eI[70]!==eY?(el=()=>{eV({type:"root/open",query:eY?eB(eY,e6):""})},eI[68]=e6,eI[69]=eB,eI[70]=eY,eI[71]=el):el=eI[71];let ts=el;eI[72]!==ts||eI[73]!==eH||eI[74]!==m||eI[75]!==b?(eu=e=>{eH||(eV({type:"input/focus"}),m&&m(e),b&&ts())},eI[72]=ts,eI[73]=eH,eI[74]=m,eI[75]=b,eI[76]=eu):eu=eI[76];let tc=eu;eI[77]===Symbol.for("react.memo_cache_sentinel")?(ed=()=>{e7.current=!0},eI[77]=ed):ed=eI[77];let tu=ed;eI[78]===Symbol.for("react.memo_cache_sentinel")?(ep=()=>{e7.current=!1},eI[78]=ep):ep=eI[78];let td=ep;eI[79]!==h||eI[80]!==g?(ef=()=>{var e;eV({type:"root/clear"}),e0.current="",h&&h(""),g&&g(null),null==(e=eX.current)||e.focus()},eI[79]=h,eI[80]=g,eI[81]=ef):ef=eI[81];let tp=ef;eI[82]===Symbol.for("react.memo_cache_sentinel")?(eh=()=>{eV({type:"input/focus"})},eI[82]=eh):eh=eI[82];let tf=eh;eI[83]!==F?(em=()=>{if(F!==e5.current){e5.current=F,void 0!==F&&(eV({type:"value/change",value:F}),e0.current=F);return}F!==e0.current&&(e0.current=F||null,eV({type:"value/change",value:F||null}))},eg=[F],eI[83]=F,eI[84]=em,eI[85]=eg):(em=eI[84],eg=eI[85]),(0,s.useEffect)(em,eg),eI[86]!==eH?(ey=()=>{!eH&&e0.current&&eV({type:"root/setActiveValue",value:e0.current})},ev=[eH],eI[86]=eH,eI[87]=ey,eI[88]=ev):(ey=eI[87],ev=eI[88]),(0,s.useEffect)(ey,ev),eI[89]!==eU||eI[90]!==e9?(eb=()=>{let e=eJ.current;if(!e)return;let t=e9.find(e=>e.value===eU);if(t){let n=e9.indexOf(t),r=e.childNodes[n];if(r){if(document.activeElement&&r.contains(document.activeElement))return;q(r)}}},ex=[eU,e9],eI[89]=eU,eI[90]=e9,eI[91]=eb,eI[92]=ex):(eb=eI[91],ex=eI[92]),(0,s.useEffect)(eb,ex);e:{if(!p&&!r&&eY){let e;eI[93]===Symbol.for("react.memo_cache_sentinel")?(e={"aria-label":"Clear",onFocus:tf},eI[93]=e):e=eI[93],eC=e;break e}eC=void 0}let th=eC,tm=e4.map(es),tg=e4.map(ec),ty="object"==typeof v?v:i.EMPTY_RECORD;eI[94]!==ts||eI[95]!==ty?(ek=e=>{ts(),ty.onClick&&ty.onClick(e),V(()=>{var e;return null==(e=eX.current)?void 0:e.focus()})},eI[94]=ts,eI[95]=ty,eI[96]=ek):ek=eI[96];let tv=ek;eI[97]!==r||eI[98]!==tn||eI[99]!==eO||eI[100]!==tv||eI[101]!==v||eI[102]!==tm||eI[103]!==tg||eI[104]!==ty||eI[105]!==k?(ew=r||k||!v?void 0:(0,a.jsx)(i.Box,{"aria-hidden":tn,padding:tm,children:(0,a.jsx)(i.Button,{"aria-label":"Open",disabled:tn,fontSize:eO,icon:l.ChevronDownIcon,mode:"bleed",padding:tg,...ty,onClick:tv})}),eI[97]=r,eI[98]=tn,eI[99]=eO,eI[100]=tv,eI[101]=v,eI[102]=tm,eI[103]=tg,eI[104]=ty,eI[105]=k,eI[106]=ew):ew=eI[106];let tb=ew;t:{if(null===eW){if(null!==eY){let e;eI[107]!==e6||eI[108]!==eB||eI[109]!==eY?(e=eB(eY,e6),eI[107]=e6,eI[108]=eB,eI[109]=eY,eI[110]=e):e=eI[110],e_=e;break t}e_="";break t}e_=eW}let tx=e_;eI[111]!==eq?(ej=e=>{var t;"Tab"===e.key&&eq&&(null==(t=eX.current)||t.focus())},eI[111]=eq,eI[112]=ej):ej=eI[112];let tC=ej;n:{let e,t,n;if(0===e9.length){eS=null;break n}if(eI[113]!==eU||eI[114]!==e6||eI[115]!==e9||eI[116]!==ta||eI[117]!==d||eI[118]!==eq||eI[119]!==p||eI[120]!==eK){let t;eI[122]!==eU||eI[123]!==e6||eI[124]!==ta||eI[125]!==d||eI[126]!==eq||eI[127]!==p||eI[128]!==eK?(t=e=>{let t=null!==eU?e.value===eU:e6===e;return(0,a.jsx)(Q,{id:"".concat(d,"-option-").concat(e.value),onSelect:ta,selected:t,value:e.value,children:(0,s.cloneElement)(eK(e),{disabled:p,selected:t,tabIndex:eq&&t?0:-1})},e.value)},eI[122]=eU,eI[123]=e6,eI[124]=ta,eI[125]=d,eI[126]=eq,eI[127]=p,eI[128]=eK,eI[129]=t):t=eI[129],e=e9.map(t),eI[113]=eU,eI[114]=e6,eI[115]=e9,eI[116]=ta,eI[117]=d,eI[118]=eq,eI[119]=p,eI[120]=eK,eI[121]=e}else e=eI[121];eI[130]!==e3||eI[131]!==e?(t=(0,a.jsx)(i.Stack,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:e3,ref:eJ,role:"listbox",space:1,children:e}),eI[130]=e3,eI[131]=e,eI[132]=t):t=eI[132],eI[133]!==tC||eI[134]!==eP||eI[135]!==t?(n=(0,a.jsx)(Z,{"data-ui":"AutoComplete__results",onKeyDown:tC,padding:1,...eP,tabIndex:-1,children:t}),eI[133]=tC,eI[134]=eP,eI[135]=t,eI[136]=n):n=eI[136],eS=n}let tk=eS;r:{let e;if(j){let e,t=!tn;eI[137]!==tk||eI[138]!==tu||eI[139]!==td||eI[140]!==eQ||eI[141]!==j||eI[142]!==t?(e=(0,a.jsx)(eo,{content:tk,hidden:t,inputElement:eQ,onMouseEnter:tu,onMouseLeave:td,resultsPopoverElementRef:eZ,renderPopover:j}),eI[137]=tk,eI[138]=tu,eI[139]=td,eI[140]=eQ,eI[141]=j,eI[142]=t,eI[143]=e):e=eI[143],eE=e;break r}if(0===te){eE=null;break r}eI[144]!==tk||eI[145]!==tn||eI[146]!==tu||eI[147]!==td||eI[148]!==eQ||eI[149]!==eF||eI[150]!==eR?(e=(0,a.jsx)(i.Popover,{arrow:!1,constrainSize:!0,content:tk,fallbackPlacements:en,matchReferenceWidth:!0,onMouseEnter:tu,onMouseLeave:td,open:tn,overflow:"auto",placement:"bottom-start",portal:!0,radius:eR,ref:eZ,referenceElement:eQ,...eF}),eI[144]=tk,eI[145]=tn,eI[146]=tu,eI[147]=td,eI[148]=eQ,eI[149]=eF,eI[150]=eR,eI[151]=e):e=eI[151],eE=e}let tw=eE,t_=p&&J,tj=E||tb;return eI[152]!==tt||eI[153]!==eA||eI[154]!==th||eI[155]!==n||eI[156]!==r||eI[157]!==tn||eI[158]!==eO||eI[159]!==tp||eI[160]!==tl||eI[161]!==tc||eI[162]!==u||eI[163]!==d||eI[164]!==tx||eI[165]!==e3||eI[166]!==e4||eI[167]!==C||eI[168]!==eR||eI[169]!==k||eI[170]!==S||eI[171]!==t_||eI[172]!==tj?(eT=(0,a.jsx)(i.TextInput,{...S,"aria-activedescendant":tt,"aria-autocomplete":"list","aria-expanded":tn,"aria-owns":e3,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:eA,clearButton:th,customValidity:n,disabled:r,fontSize:eO,icon:u,iconRight:t_,id:d,inputMode:"search",onChange:tl,onClear:tp,onFocus:tc,padding:e4,prefix:C,radius:eR,readOnly:k,ref:e1,role:"combobox",spellCheck:!1,suffix:tj,value:tx}),eI[152]=tt,eI[153]=eA,eI[154]=th,eI[155]=n,eI[156]=r,eI[157]=tn,eI[158]=eO,eI[159]=tp,eI[160]=tl,eI[161]=tc,eI[162]=u,eI[163]=d,eI[164]=tx,eI[165]=e3,eI[166]=e4,eI[167]=C,eI[168]=eR,eI[169]=k,eI[170]=S,eI[171]=t_,eI[172]=tj,eI[173]=eT):eT=eI[173],eI[174]!==tr||eI[175]!==ti||eI[176]!==to||eI[177]!==tw||eI[178]!==eT?(eD=(0,a.jsxs)($,{"data-ui":"Autocomplete",onBlur:tr,onFocus:ti,onKeyDown:to,ref:e$,children:[eT,tw]}),eI[174]=tr,eI[175]=ti,eI[176]=to,eI[177]=tw,eI[178]=eT,eI[179]=eD):eD=eI[179],eD});function eo(e){let{renderPopover:t,content:n,hidden:r,inputElement:i,onMouseEnter:a,onMouseLeave:o,resultsPopoverElementRef:l}=e;return t({content:n,hidden:r,inputElement:i,onMouseEnter:a,onMouseLeave:o},l)}ea.displayName="ForwardRef(Autocomplete)";let el=ea;function es(e){return 0===e?0:1===e||2===e?1:e-2}function ec(e){return Math.max(e-1,0)}let eu=c.styled.ol.withConfig({displayName:"StyledBreadcrumbs",componentId:"sc-1es8h8q-0"})(y()),ed=(0,c.styled)(i.Button).withConfig({displayName:"ExpandButton",componentId:"sc-1es8h8q-1"})(v()),ep=(0,s.forwardRef)(function(e,t){let n,r,l,c,u,d,p,f,h,m,g,y,v,b=(0,o.c)(29);b[0]!==e?({children:n,maxLength:r,separator:c,space:u,...l}=e,b[0]=e,b[1]=n,b[2]=r,b[3]=l,b[4]=c,b[5]=u):(n=b[1],r=b[2],l=b[3],c=b[4],u=b[5]);let x=void 0===u?2:u;b[6]!==x?(d=(0,i._getArrayProp)(x),b[6]=x,b[7]=d):d=b[7];let C=d,[k,w]=(0,s.useState)(!1),_=(0,s.useRef)(null),j=(0,s.useRef)(null);b[8]===Symbol.for("react.memo_cache_sentinel")?(p=()=>w(!1),b[8]=p):p=b[8];let S=p;b[9]===Symbol.for("react.memo_cache_sentinel")?(f=()=>w(!0),b[9]=f):f=b[9];let E=f;b[10]===Symbol.for("react.memo_cache_sentinel")?(h=()=>[_.current,j.current],b[10]=h):h=b[10],(0,i.useClickOutsideEvent)(S,h),b[11]!==n?(m=s.Children.toArray(n).filter(s.isValidElement),b[11]=n,b[12]=m):m=b[12];let T=m;b[13]!==r||b[14]!==k||b[15]!==T||b[16]!==C?(g={collapse:S,expand:E,expandElementRef:_,maxLength:r,open:k,popoverElementRef:j,rawItems:T,space:C},b[13]=r,b[14]=k,b[15]=T,b[16]=C,b[17]=g):g=b[17];let D=function(e){let t=(0,o.c)(28),{collapse:n,expand:r,expandElementRef:l,maxLength:s,open:c,popoverElementRef:u,rawItems:d,space:p}=e,f=d.length;if(s&&f>s){let e,o=Math.ceil(s/2),h=Math.floor(s/2);if(t[0]!==h||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==l||t[5]!==f||t[6]!==c||t[7]!==u||t[8]!==d||t[9]!==p){let s,m,g,y,v=d.slice(0,o-1);t[11]!==h||t[12]!==o||t[13]!==f||t[14]!==d?(s=d.slice(o-1,f-h),t[11]=h,t[12]=o,t[13]=f,t[14]=d,t[15]=s):s=t[15],t[16]!==p||t[17]!==s?(m=(0,a.jsx)(i.Stack,{as:"ol",overflow:"auto",padding:p,space:p,children:s}),t[16]=p,t[17]=s,t[18]=m):m=t[18];let b=c?n:r;t[19]!==l||t[20]!==c||t[21]!==b?(g=(0,a.jsx)(ed,{fontSize:1,mode:"bleed",onClick:b,padding:1,ref:l,selected:c,text:"…"}),t[19]=l,t[20]=c,t[21]=b,t[22]=g):g=t[22],t[23]!==c||t[24]!==u||t[25]!==m||t[26]!==g?(y=(0,a.jsx)(i.Popover,{constrainSize:!0,content:m,open:c,placement:"top",portal:!0,ref:u,children:g},"button"),t[23]=c,t[24]=u,t[25]=m,t[26]=g,t[27]=y):y=t[27],e=[...v,y,...d.slice(f-h)],t[0]=h,t[1]=o,t[2]=n,t[3]=r,t[4]=l,t[5]=f,t[6]=c,t[7]=u,t[8]=d,t[9]=p,t[10]=e}else e=t[10];return e}return d}(g);if(b[18]!==D||b[19]!==c||b[20]!==C){let e;b[22]!==c||b[23]!==C?(e=(e,t)=>(0,a.jsxs)(s.Fragment,{children:[t>0&&(0,a.jsx)(i.Box,{"aria-hidden":!0,as:"li",paddingX:C,children:c||(0,a.jsx)(i.Text,{muted:!0,children:"/"})}),(0,a.jsx)(i.Box,{as:"li",children:e})]},t),b[22]=c,b[23]=C,b[24]=e):e=b[24],y=D.map(e),b[18]=D,b[19]=c,b[20]=C,b[21]=y}else y=b[21];return b[25]!==t||b[26]!==l||b[27]!==y?(v=(0,a.jsx)(eu,{"data-ui":"Breadcrumbs",...l,ref:t,children:y}),b[25]=t,b[26]=l,b[27]=y,b[28]=v):v=b[28],v});ep.displayName="ForwardRef(Breadcrumbs)";let ef=(0,i.createGlobalScopedContext)("@sanity/ui/context/dialog",{version:0});function eh(e,t,n){return!e||!t||(0,i.containsOrEqualsElement)(e,n)||(0,i.containsOrEqualsElement)(t,n)}let em=(0,c.styled)(i.Layer).withConfig({displayName:"StyledDialog",componentId:"sc-4n4xb3-0"})(i.responsivePaddingStyle,function(e){let{theme:t}=e,{color:n}=(0,u.getTheme_v2)(t);return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.backdrop}},function(e){let{media:t}=(0,u.getTheme_v2)(e.theme);return(0,i._responsive)(t,e.$position,e=>({"&&":{position:e}}))},function(e){return e.$animate?(0,c.css)(b()):(0,c.css)(x())}),eg=(0,c.styled)(i.Container).withConfig({displayName:"DialogContainer",componentId:"sc-4n4xb3-1"})(C()),ey=(0,c.styled)(i.Card).withConfig({displayName:"DialogCardRoot",componentId:"sc-4n4xb3-2"})(k()),ev=(0,c.styled)(i.Flex).withConfig({displayName:"DialogLayout",componentId:"sc-4n4xb3-3"})(w()),eb=(0,c.styled)(i.Box).withConfig({displayName:"DialogHeader",componentId:"sc-4n4xb3-4"})(_()),ex=(0,c.styled)(i.Box).withConfig({displayName:"DialogContent",componentId:"sc-4n4xb3-5"})(j()),eC=(0,c.styled)(i.Box).withConfig({displayName:"DialogFooter",componentId:"sc-4n4xb3-6"})(S()),ek=(0,s.forwardRef)(function(e,t){var n;let r,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_=(0,o.c)(44),{__unstable_autoFocus:j,__unstable_hideCloseButton:S,children:E,contentRef:T,footer:D,header:I,id:A,onClickOutside:O,onClose:P,portal:M,radius:F,scheme:R,shadow:B,width:N}=e,L=(0,i.usePortal)(),z=M?(null==(n=L.elements)?void 0:n[M])||null:L.element,V=(0,i.useBoundaryElement)().element;_[0]!==F?(r=(0,i._getArrayProp)(F),_[0]=F,_[1]=r):r=_[1];let U=r;_[2]!==B?(c=(0,i._getArrayProp)(B),_[2]=B,_[3]=c):c=_[3];let H=c;_[4]!==N?(u=(0,i._getArrayProp)(N),_[4]=N,_[5]=u):u=_[5];let W=u,Y=(0,s.useRef)(null),K=(0,s.useRef)(null),{isTopLayer:G}=(0,i.useLayer)(),$="".concat(A,"_label"),Z=!!P&&!1===S,X=!!I||Z;return _[6]===Symbol.for("react.memo_cache_sentinel")?(d=()=>Y.current,_[6]=d):d=_[6],(0,s.useImperativeHandle)(t,d),_[7]===Symbol.for("react.memo_cache_sentinel")?(p=()=>K.current,_[7]=p):p=_[7],(0,s.useImperativeHandle)(T,p),_[8]!==j?(f=()=>{j&&Y.current&&q(Y.current)},h=[j,Y],_[8]=j,_[9]=f,_[10]=h):(f=_[9],h=_[10]),(0,s.useEffect)(f,h),_[11]!==V||_[12]!==G||_[13]!==P||_[14]!==z?(m=e=>{if(!G||!P)return;let t=document.activeElement;t&&!eh(V,z,t)||"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),P())},_[11]=V,_[12]=G,_[13]=P,_[14]=z,_[15]=m):m=_[15],(0,i.useGlobalKeyDown)(m),_[16]!==V||_[17]!==G||_[18]!==O||_[19]!==z?(g=G&&O&&(e=>{let t=e.target;t&&!eh(V,z,t)||O()}),_[16]=V,_[17]=G,_[18]=O,_[19]=z,_[20]=g):g=_[20],_[21]===Symbol.for("react.memo_cache_sentinel")?(y=()=>[Y.current],_[21]=y):y=_[21],(0,i.useClickOutsideEvent)(g,y),_[22]!==I||_[23]!==$||_[24]!==P||_[25]!==Z||_[26]!==X?(v=X&&(0,a.jsx)(eb,{children:(0,a.jsxs)(i.Flex,{align:"flex-start",padding:3,children:[(0,a.jsx)(i.Box,{flex:1,padding:2,children:I&&(0,a.jsx)(i.Text,{id:$,size:1,weight:"semibold",children:I})}),Z&&(0,a.jsx)(i.Box,{flex:"none",children:(0,a.jsx)(i.Button,{"aria-label":"Close dialog",disabled:!P,icon:l.CloseIcon,mode:"bleed",onClick:P,padding:2})})]})}),_[22]=I,_[23]=$,_[24]=P,_[25]=Z,_[26]=X,_[27]=v):v=_[27],_[28]!==E?(b=(0,a.jsx)(ex,{flex:1,ref:K,tabIndex:-1,children:E}),_[28]=E,_[29]=b):b=_[29],_[30]!==D?(x=D&&(0,a.jsx)(eC,{children:D}),_[30]=D,_[31]=x):x=_[31],_[32]!==v||_[33]!==b||_[34]!==x?(C=(0,a.jsxs)(ev,{direction:"column",children:[v,b,x]}),_[32]=v,_[33]=b,_[34]=x,_[35]=C):C=_[35],_[36]!==U||_[37]!==R||_[38]!==H||_[39]!==C?(k=(0,a.jsx)(ey,{radius:U,ref:Y,scheme:R,shadow:H,children:C}),_[36]=U,_[37]=R,_[38]=H,_[39]=C,_[40]=k):k=_[40],_[41]!==k||_[42]!==W?(w=(0,a.jsx)(eg,{"data-ui":"DialogCard",width:W,children:k}),_[41]=k,_[42]=W,_[43]=w):w=_[43],w});ek.displayName="ForwardRef(DialogCard)";let ew=(0,s.forwardRef)(function(e,t){var n;let r,l,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j,S,E,T,D,I,A,O,P,M,F,R,B,N,L,z=(0,o.c)(70),V=(0,s.useContext)(ef),{layer:U}=(0,i.useTheme_v2)();z[0]!==e?({__unstable_autoFocus:C,__unstable_hideCloseButton:k,cardRadius:w,cardShadow:_,children:c,contentRef:u,footer:d,header:p,id:f,onActivate:h,onClickOutside:m,onClose:g,onFocus:y,padding:j,portal:v,position:r,scheme:x,width:S,zOffset:l,animate:E,...b}=e,z[0]=e,z[1]=r,z[2]=l,z[3]=c,z[4]=u,z[5]=d,z[6]=p,z[7]=f,z[8]=h,z[9]=m,z[10]=g,z[11]=y,z[12]=v,z[13]=b,z[14]=x,z[15]=C,z[16]=k,z[17]=w,z[18]=_,z[19]=j,z[20]=S,z[21]=E):(r=z[1],l=z[2],c=z[3],u=z[4],d=z[5],p=z[6],f=z[7],h=z[8],m=z[9],g=z[10],y=z[11],v=z[12],b=z[13],x=z[14],C=z[15],k=z[16],w=z[17],_=z[18],j=z[19],S=z[20],E=z[21]);let H=void 0===C||C,Y=void 0!==k&&k,K=void 0===w?4:w,G=void 0===_?3:_,$=void 0===j?3:j,Z=void 0===S?0:S,X=void 0!==E&&E,J=null!=r?r:V.position||"fixed",Q=null!=l?l:V.zOffset||U.dialog.zOffset,ee=!(0,i.usePrefersReducedMotion)()&&X,et=(0,i.usePortal)(),en=v?(null==(n=et.elements)?void 0:n[v])||null:et.element,er=(0,i.useBoundaryElement)().element;z[22]!==K?(T=(0,i._getArrayProp)(K),z[22]=K,z[23]=T):T=z[23];let ei=T;z[24]!==$?(D=(0,i._getArrayProp)($),z[24]=$,z[25]=D):D=z[25];let ea=D;z[26]!==J?(I=(0,i._getArrayProp)(J),z[26]=J,z[27]=I):I=z[27];let eo=I;z[28]!==Z?(A=(0,i._getArrayProp)(Z),z[28]=Z,z[29]=A):A=z[29];let el=A;z[30]!==Q?(O=(0,i._getArrayProp)(Q),z[30]=Q,z[31]=O):O=z[31];let es=O,ec=(0,s.useRef)(null),eu=(0,s.useRef)(null),ed=(0,s.useRef)(null),ep=(0,s.useRef)(null);z[32]!==y?(P=e=>{null==y||y(e);let t=e.target,n=ed.current;return n&&t===ec.current?void W(n):n&&t===eu.current?void q(n):void((0,i.isHTMLElement)(e.target)&&(ep.current=e.target))},z[32]=y,z[33]=P):P=z[33];let eg=P,ey="".concat(f,"_label"),ev=(0,s.useRef)(void 0);z[34]!==er||z[35]!==en?(M=()=>{ev.current&&clearTimeout(ev.current),ev.current=setTimeout(()=>{let e=document.activeElement;if(e&&!eh(er,en,e)){let e=ep.current;if(!e||!document.body.contains(e)){let e=ed.current;e&&q(e);return}e.focus()}},0)},z[34]=er,z[35]=en,z[36]=M):M=z[36];let eb=M;return z[37]===Symbol.for("react.memo_cache_sentinel")?(F=(0,a.jsx)("div",{ref:ec,tabIndex:0}),z[37]=F):F=z[37],z[38]!==H||z[39]!==ei||z[40]!==G||z[41]!==c||z[42]!==u||z[43]!==d||z[44]!==p||z[45]!==Y||z[46]!==f||z[47]!==m||z[48]!==g||z[49]!==v||z[50]!==x||z[51]!==el?(R=(0,a.jsx)(ek,{__unstable_autoFocus:H,__unstable_hideCloseButton:Y,contentRef:u,footer:d,header:p,id:f,onClickOutside:m,onClose:g,portal:v,radius:ei,ref:ed,scheme:x,shadow:G,width:el,children:c}),z[38]=H,z[39]=ei,z[40]=G,z[41]=c,z[42]=u,z[43]=d,z[44]=p,z[45]=Y,z[46]=f,z[47]=m,z[48]=g,z[49]=v,z[50]=x,z[51]=el,z[52]=R):R=z[52],z[53]===Symbol.for("react.memo_cache_sentinel")?(B=(0,a.jsx)("div",{ref:eu,tabIndex:0}),z[53]=B):B=z[53],z[54]!==ee||z[55]!==eg||z[56]!==eb||z[57]!==f||z[58]!==ey||z[59]!==h||z[60]!==ea||z[61]!==eo||z[62]!==t||z[63]!==b||z[64]!==R||z[65]!==es?(N=(0,a.jsxs)(em,{...b,$animate:ee,$padding:ea,$position:eo,"aria-labelledby":ey,"aria-modal":!0,"data-ui":"Dialog",id:f,onActivate:h,onClick:eb,onFocus:eg,ref:t,role:"dialog",zOffset:es,children:[F,R,B]}),z[54]=ee,z[55]=eg,z[56]=eb,z[57]=f,z[58]=ey,z[59]=h,z[60]=ea,z[61]=eo,z[62]=t,z[63]=b,z[64]=R,z[65]=es,z[66]=N):N=z[66],z[67]!==v||z[68]!==N?(L=(0,a.jsx)(i.Portal,{__unstable_name:v,children:N}),z[67]=v,z[68]=N,z[69]=L):L=z[69],L});function e_(e){let t,n,r=(0,o.c)(6),{children:i,position:l,zOffset:s}=e;r[0]!==l||r[1]!==s?(t={version:0,position:l,zOffset:s},r[0]=l,r[1]=s,r[2]=t):t=r[2];let c=t;return r[3]!==i||r[4]!==c?(n=(0,a.jsx)(ef.Provider,{value:c,children:i}),r[3]=i,r[4]=c,r[5]=n):n=r[5],n}ew.displayName="ForwardRef(Dialog)",e_.displayName="DialogProvider";let ej=(0,s.forwardRef)(function(e,t){var n;let r,l,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j,S,E,T,D,I=(0,o.c)(62),{__unstable_disableRestoreFocusOnClose:A,boundaryElement:O,button:P,id:M,menu:F,onClose:R,onOpen:B,placement:N,popoverScheme:L,portal:z,popover:V,popoverRadius:U,preventOverflow:H}=e,q=void 0!==A&&A,W=void 0===z||z,[Y,K]=(0,s.useState)(!1),[G,$]=(0,s.useState)(null),[Z,X]=(0,s.useState)(null);I[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],I[0]=r):r=I[0];let[J,Q]=(0,s.useState)(r),ee=(0,s.useRef)(Y);I[1]!==B||I[2]!==Y?(l=()=>{B&&Y&&!ee.current&&B()},c=[B,Y],I[1]=B,I[2]=Y,I[3]=l,I[4]=c):(l=I[3],c=I[4]),(0,s.useEffect)(l,c),I[5]!==R||I[6]!==Y?(u=()=>{R&&!Y&&ee.current&&R()},d=[R,Y],I[5]=R,I[6]=Y,I[7]=u,I[8]=d):(u=I[7],d=I[8]),(0,s.useEffect)(u,d),I[9]!==Y?(p=()=>{ee.current=Y},f=[Y],I[9]=Y,I[10]=p,I[11]=f):(p=I[10],f=I[11]),(0,s.useEffect)(p,f),I[12]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{K(eS),$(null)},I[12]=h):h=I[12];let et=h;I[13]!==Y?(m=e=>{Y&&e.preventDefault()},I[13]=Y,I[14]=m):m=I[14];let en=m;I[15]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{if("ArrowDown"===e.key||"Enter"===e.key||" "===e.key){e.preventDefault(),K(!0),$("first");return}if("ArrowUp"===e.key){e.preventDefault(),K(!0),$("last");return}},I[15]=g):g=I[15];let er=g;I[16]!==Z||I[17]!==J?(y=e=>{let t=e.target;if(t instanceof Node&&!(Z&&(t===Z||Z.contains(t)))){for(let e of J)if(t===e||e.contains(t))return;K(!1)}},I[16]=Z,I[17]=J,I[18]=y):y=I[18];let ei=y;I[19]!==Z||I[20]!==q?(v=()=>{K(!1),!q&&Z&&Z.focus()},I[19]=Z,I[20]=q,I[21]=v):v=I[21];let ea=v;I[22]!==J?(b=e=>{let t=e.relatedTarget;if(t instanceof Node){for(let e of J)if(e===t||e.contains(t))return;K(!1)}},I[22]=J,I[23]=b):b=I[23];let eo=b;I[24]!==Z||I[25]!==q?(x=()=>{K(!1),!q&&Z&&Z.focus()},I[24]=Z,I[25]=q,I[26]=x):x=I[26];let el=x;I[27]===Symbol.for("react.memo_cache_sentinel")?(C=e=>(Q(t=>t.concat([e])),()=>Q(t=>t.filter(t=>t!==e))),I[27]=C):C=I[27];let es=C;I[28]!==Z||I[29]!==eo||I[30]!==el||I[31]!==ei||I[32]!==ea||I[33]!==M||I[34]!==F||I[35]!==G?(k=F&&(0,s.cloneElement)(F,{"aria-labelledby":M,onBlurCapture:eo,onClickOutside:ei,onEscape:ea,onItemClick:el,originElement:Z,registerElement:es,shouldFocus:G}),I[28]=Z,I[29]=eo,I[30]=el,I[31]=ei,I[32]=ea,I[33]=M,I[34]=F,I[35]=G,I[36]=k):k=I[36];let ec=k;I[37]!==P||I[38]!==en||I[39]!==M||I[40]!==Y?(w=P&&(0,s.cloneElement)(P,{"data-ui":"MenuButton",id:M,onClick:et,onKeyDown:er,onMouseDown:en,"aria-haspopup":!0,"aria-expanded":Y,ref:X,selected:null!=(n=P.props.selected)?n:Y}),I[37]=P,I[38]=en,I[39]=M,I[40]=Y,I[41]=w):w=I[41];let eu=w;I[42]!==Z?(_=()=>Z,j=[Z],I[42]=Z,I[43]=_,I[44]=j):(_=I[43],j=I[44]),(0,s.useImperativeHandle)(t,_,j),I[45]!==V?(S=V||{},I[45]=V,I[46]=S):S=I[46],I[47]!==O||I[48]!==N||I[49]!==U||I[50]!==L||I[51]!==W||I[52]!==H||I[53]!==S?(E={boundaryElement:O,overflow:"auto",placement:N,portal:W,preventOverflow:H,radius:U,scheme:L,...S},I[47]=O,I[48]=N,I[49]=U,I[50]=L,I[51]=W,I[52]=H,I[53]=S,I[54]=E):E=I[54];let ed=E;return I[55]!==eu?(T=eu||(0,a.jsx)(a.Fragment,{}),I[55]=eu,I[56]=T):T=I[56],I[57]!==ec||I[58]!==Y||I[59]!==ed||I[60]!==T?(D=(0,a.jsx)(i.Popover,{"data-ui":"MenuButton__popover",...ed,content:ec,open:Y,children:T}),I[57]=ec,I[58]=Y,I[59]=ed,I[60]=T,I[61]=D):D=I[61],D});function eS(e){return!e}ej.displayName="ForwardRef(MenuButton)";let eE=(0,c.keyframes)(E()),eT=(0,c.css)(T(),eE),eD=(0,c.css)(I(),e=>{let{$visible:t}=e;return+!!t},e=>{let{$animated:t}=e;return t?eT:(0,c.css)(D())}),eI=(0,c.styled)(i.Box).withConfig({displayName:"StyledSkeleton",componentId:"sc-ebtpni-0"})(i.responsiveRadiusStyle,eD),eA=(0,s.forwardRef)(function(e,t){let n,r,l,c,u,d,p,f,h=(0,o.c)(16);h[0]!==e?({animated:c,delay:n,radius:r,...l}=e,h[0]=e,h[1]=n,h[2]=r,h[3]=l,h[4]=c):(n=h[1],r=h[2],l=h[3],c=h[4]);let m=void 0!==c&&c,[g,y]=(0,s.useState)(!n);h[5]!==n?(u=()=>{if(!n)return;let e=setTimeout(()=>{y(!0)},n);return()=>{clearTimeout(e)}},d=[n],h[5]=n,h[6]=u,h[7]=d):(u=h[6],d=h[7]),(0,s.useEffect)(u,d),h[8]!==r?(p=(0,i._getArrayProp)(r),h[8]=r,h[9]=p):p=h[9];let v=!n||g;return h[10]!==m||h[11]!==t||h[12]!==l||h[13]!==p||h[14]!==v?(f=(0,a.jsx)(eI,{...l,$animated:m,$radius:p,$visible:v,ref:t}),h[10]=m,h[11]=t,h[12]=l,h[13]=p,h[14]=v,h[15]=f):f=h[15],f});eA.displayName="ForwardRef(Skeleton)";let eO=(0,c.styled)(eA).withConfig({displayName:"StyledSkeleton",componentId:"sc-2p7a1v-0"})(e=>{let{$size:t,$style:n}=e,{font:r,media:a}=(0,u.getTheme_v2)(e.theme),o=r[n];return(0,i._responsive)(a,t,e=>{let t=o.sizes[e];return{height:t.lineHeight-t.ascenderHeight-t.descenderHeight}})}),eP=(0,s.forwardRef)(function(e,t){let n,r,l,s,c=(0,o.c)(9);c[0]!==e?({size:r,...n}=e,c[0]=e,c[1]=n,c[2]=r):(n=c[1],r=c[2]);let u=void 0===r?2:r;c[3]!==u?(l=(0,i._getArrayProp)(u),c[3]=u,c[4]=l):l=c[4];let d=l;return c[5]!==d||c[6]!==t||c[7]!==n?(s=(0,a.jsx)(eO,{...n,$size:d,ref:t,$style:"text"}),c[5]=d,c[6]=t,c[7]=n,c[8]=s):s=c[8],s});eP.displayName="ForwardRef(TextSkeleton)",(0,s.forwardRef)(function(e,t){let n,r,l,s,c=(0,o.c)(9);c[0]!==e?({size:r,...n}=e,c[0]=e,c[1]=n,c[2]=r):(n=c[1],r=c[2]);let u=void 0===r?2:r;c[3]!==u?(l=(0,i._getArrayProp)(u),c[3]=u,c[4]=l):l=c[4];let d=l;return c[5]!==d||c[6]!==t||c[7]!==n?(s=(0,a.jsx)(eO,{...n,$size:d,ref:t,$style:"label"}),c[5]=d,c[6]=t,c[7]=n,c[8]=s):s=c[8],s}).displayName="ForwardRef(LabelSkeleton)",(0,s.forwardRef)(function(e,t){let n,r,l,s,c=(0,o.c)(9);c[0]!==e?({size:r,...n}=e,c[0]=e,c[1]=n,c[2]=r):(n=c[1],r=c[2]);let u=void 0===r?2:r;c[3]!==u?(l=(0,i._getArrayProp)(u),c[3]=u,c[4]=l):l=c[4];let d=l;return c[5]!==d||c[6]!==t||c[7]!==n?(s=(0,a.jsx)(eO,{...n,$size:d,ref:t,$style:"heading"}),c[5]=d,c[6]=t,c[7]=n,c[8]=s):s=c[8],s}).displayName="ForwardRef(HeadingSkeleton)",(0,s.forwardRef)(function(e,t){let n,r,l,s,c=(0,o.c)(9);c[0]!==e?({size:r,...n}=e,c[0]=e,c[1]=n,c[2]=r):(n=c[1],r=c[2]);let u=void 0===r?2:r;c[3]!==u?(l=(0,i._getArrayProp)(u),c[3]=u,c[4]=l):l=c[4];let d=l;return c[5]!==d||c[6]!==t||c[7]!==n?(s=(0,a.jsx)(eO,{...n,$size:d,ref:t,$style:"code"}),c[5]=d,c[6]=t,c[7]=n,c[8]=s):s=c[8],s}).displayName="ForwardRef(CodeSkeleton)";let eM=(0,s.forwardRef)(function(e,t){let n,r,l,s=(0,o.c)(9);s[0]!==e?({flex:n,...r}=e,s[0]=e,s[1]=n,s[2]=r):(n=s[1],r=s[2]);let c=void 0===e.tabIndex?0:e.tabIndex;return s[3]!==n||s[4]!==e.children||s[5]!==t||s[6]!==r||s[7]!==c?(l=(0,a.jsx)(i.Box,{"data-ui":"TabPanel",...r,flex:n,ref:t,role:"tabpanel",tabIndex:c,children:e.children}),s[3]=n,s[4]=e.children,s[5]=t,s[6]=r,s[7]=c,s[8]=l):l=s[8],l});eM.displayName="ForwardRef(TabPanel)";let eF={error:"critical",warning:"caution",success:"positive",info:"neutral"},eR={error:"critical",warning:"caution",success:"positive",info:"neutral"},eB=(0,c.styled)(i.Flex).withConfig({displayName:"TextBox",componentId:"sc-1rr7rxo-0"})(A()),eN=(0,c.styled)(i.Card).withConfig({displayName:"StyledToast",componentId:"sc-1rr7rxo-1"})(O(),2),eL=c.styled.div.withConfig({displayName:"LoadingBar",componentId:"sc-1rr7rxo-2"})(P()),ez=(0,c.styled)(i.Card).withConfig({displayName:"LoadingBarMask",componentId:"sc-1rr7rxo-3"})(M(),2,2,2),eV=(0,c.styled)(i.Card).withConfig({displayName:"LoadingBarProgress",componentId:"sc-1rr7rxo-4"})(F(),e=>{let{color:t}=(0,u.getTheme_v2)(e.theme);return t.button.default[e.tone].enabled.bg}),eU={error:"alert",warning:"alert",success:"alert",info:"alert"};function eH(e){let t,n,r,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j=(0,o.c)(50);j[0]!==e?({closable:t,description:n,duration:r,onClose:s,radius:d,title:p,status:u,updatedAt:f,...c}=e,j[0]=e,j[1]=t,j[2]=n,j[3]=r,j[4]=s,j[5]=c,j[6]=u,j[7]=d,j[8]=p,j[9]=f):(t=j[1],n=j[2],r=j[3],s=j[4],c=j[5],u=j[6],d=j[7],p=j[8],f=j[9]);let S=void 0===d?3:d,E=u?eF[u]:"default",T=u?eR[u]:"default",D=u?eU[u]:"status",I=.26*!(0,i.usePrefersReducedMotion)();j[10]!==I?(h=I?{type:"spring",visualDuration:I,bounce:.25}:{duration:0},j[10]=I,j[11]=h):h=j[11];let A=h,O=r&&isFinite(r)&&r<20736e5;j[12]===Symbol.for("react.memo_cache_sentinel")?(m=["hidden","initial"],j[12]=m):m=j[12];let P=m;j[13]===Symbol.for("react.memo_cache_sentinel")?(g=["visible","slideIn"],j[13]=g):g=j[13];let M=g;j[14]===Symbol.for("react.memo_cache_sentinel")?(y=["hidden","slideOut"],j[14]=y):y=j[14];let F=y,R=O?"":void 0;return j[15]!==p?(v=p&&(0,a.jsx)(i.Text,{size:1,weight:"medium",children:p}),j[15]=p,j[16]=v):v=j[16],j[17]!==n||j[18]!==A?(b=n&&(0,a.jsx)(eG,{muted:!0,size:1,variants:eW,transition:A,children:n}),j[17]=n,j[18]=A,j[19]=b):b=j[19],j[20]!==v||j[21]!==b?(x=(0,a.jsx)(eB,{flex:1,padding:3,children:(0,a.jsxs)(i.Stack,{space:3,children:[v,b]})}),j[20]=v,j[21]=b,j[22]=x):x=j[22],j[23]!==T||j[24]!==t||j[25]!==s?(C=t&&(0,a.jsx)(i.Box,{padding:1,children:(0,a.jsx)(i.Button,{as:"button",icon:l.CloseIcon,mode:"bleed",padding:2,tone:T,onClick:s,style:{verticalAlign:"top"}})}),j[23]=T,j[24]=t,j[25]=s,j[26]=C):C=j[26],j[27]!==x||j[28]!==C||j[29]!==A?(k=(0,a.jsxs)(eK,{align:"flex-start",variants:eW,transition:A,children:[x,C]}),j[27]=x,j[28]=C,j[29]=A,j[30]=k):k=j[30],j[31]!==E||j[32]!==r||j[33]!==O||j[34]!==s||j[35]!==S||j[36]!==A||j[37]!==f||j[38]!==I?(w=O&&(0,a.jsxs)(e$,{variants:eW,transition:A,children:[(0,a.jsx)(ez,{tone:E,radius:S}),(0,a.jsx)(eZ,{tone:E,initial:{scaleX:0},animate:{scaleX:1},transition:{delay:I,duration:r/1e3,ease:"linear"},onAnimationComplete:s},"progress-".concat(f))]}),j[31]=E,j[32]=r,j[33]=O,j[34]=s,j[35]=S,j[36]=A,j[37]=f,j[38]=I,j[39]=w):w=j[39],j[40]!==E||j[41]!==S||j[42]!==c||j[43]!==D||j[44]!==k||j[45]!==w||j[46]!==R||j[47]!==A||j[48]!==I?(_=(0,a.jsxs)(eY,{"data-ui":"Toast",role:D,...c,"data-has-duration":R,custom:I,radius:S,shadow:2,tone:E,forwardedAs:"li",layout:"position",variants:eq,initial:P,animate:M,exit:F,transition:A,children:[k,w]}),j[40]=E,j[41]=S,j[42]=c,j[43]=D,j[44]=k,j[45]=w,j[46]=R,j[47]=A,j[48]=I,j[49]=_):_=j[49],_}eH.displayName="Toast";let eq={initial:{y:32,scale:.5,zIndex:1},hidden:{opacity:0},visible:e=>e?{opacity:1,transition:{when:"beforeChildren",staggerChildren:e/3,duration:e/3}}:{opacity:1},slideIn:{y:0,scale:1},slideOut:{zIndex:0,scale:.75}},eW={initial:{willChange:"transform"},hidden:{opacity:0},visible:{opacity:1}},eY=d.motion.create(eN),eK=d.motion.create(i.Flex),eG=d.motion.create(i.Text),e$=d.motion.create(eL),eZ=d.motion.create(eV);function eX(){return!1}function eJ(){return!0}let eQ=()=>()=>{},e1=(0,i.createGlobalScopedContext)("@sanity/ui/context/toast",null);function e2(e){let t,n,r=(0,o.c)(9),{children:l,padding:s,paddingX:c,paddingY:u,gap:d}=e,p=void 0===s?4:s,f=void 0===d?3:d,{zIndex:h}=(0,i.useLayer)();return r[0]!==h?(t={zIndex:h},r[0]=h,r[1]=t):t=r[1],r[2]!==l||r[3]!==f||r[4]!==p||r[5]!==c||r[6]!==u||r[7]!==t?(n=(0,a.jsx)(e0,{forwardedAs:"ul","data-ui":"ToastProvider",padding:p,paddingX:c,paddingY:u,gap:f,columns:1,style:t,children:l}),r[2]=l,r[3]=f,r[4]=p,r[5]=c,r[6]=u,r[7]=t,r[8]=n):n=r[8],n}e2.displayName="ToastLayer";let e0=(0,c.styled)(i.Grid).withConfig({displayName:"StyledLayer",componentId:"sc-1tbwn58-0"})(R()),e5=0;function e7(e){let t,n,r,l,c=(0,o.c)(13),{children:u,padding:d,paddingX:f,paddingY:h,gap:m,zOffset:g}=e,y=void 0===g?1:g;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let[v,b]=(0,s.useState)(t),x=(0,s.useSyncExternalStore)(eQ,eJ,eX);c[1]===Symbol.for("react.memo_cache_sentinel")?(n={version:0,push:e=>{let t=e.id||String(e5++),n=e.duration||5e3;return(0,s.startTransition)(()=>{b(r=>.01===n?r.filter(e=>e.id!==t):[...r.filter(e=>e.id!==t),{dismiss:()=>(0,s.startTransition)(()=>b(e=>e.filter(e=>e.id!==t))),id:t,updatedAt:Date.now(),params:{...e,duration:n}}])}),t}},c[1]=n):n=c[1];let C=n;return c[2]!==m||c[3]!==x||c[4]!==d||c[5]!==f||c[6]!==h||c[7]!==v||c[8]!==y?(r=x&&(0,a.jsx)(i.LayerProvider,{zOffset:y,children:(0,a.jsx)(e2,{padding:d,paddingX:f,paddingY:h,gap:m,children:(0,a.jsx)(p.AnimatePresence,{initial:!1,mode:"popLayout",children:v.map(e3)})})}),c[2]=m,c[3]=x,c[4]=d,c[5]=f,c[6]=h,c[7]=v,c[8]=y,c[9]=r):r=c[9],c[10]!==u||c[11]!==r?(l=(0,a.jsxs)(e1.Provider,{value:C,children:[u,r]}),c[10]=u,c[11]=r,c[12]=l):l=c[12],l}function e3(e){let{dismiss:t,id:n,params:r,updatedAt:i}=e;return(0,a.jsx)(eH,{closable:r.closable,description:r.description,onClose:t,status:r.status,title:r.title,duration:r.duration,updatedAt:i},n)}function e8(){let e=(0,s.useContext)(e1);if(!e)throw Error("useToast(): missing context value");if(!(0,i.isRecord)(e)||0!==e.version)throw Error("useToast(): the context value is not compatible");return e}function e4(e){if("treeitem"===e.getAttribute("role")&&e.focus(),"none"===e.getAttribute("role")){let t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}e7.displayName="ToastProvider";let e6=(0,i.createGlobalScopedContext)("@sanity/ui/context/tree",null);(0,s.forwardRef)(function(e,t){let n,r,l,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j,S,E=(0,o.c)(37);E[0]!==e?({children:n,space:c,onFocus:r,...l}=e,E[0]=e,E[1]=n,E[2]=r,E[3]=l,E[4]=c):(n=E[1],r=E[2],l=E[3],c=E[4]);let T=void 0===c?1:c,D=(0,s.useRef)(null),[I,A]=(0,s.useState)(null),O=(0,s.useRef)(I);E[5]===Symbol.for("react.memo_cache_sentinel")?(u=[],E[5]=u):u=E[5];let P=u;E[6]===Symbol.for("react.memo_cache_sentinel")?(d=[],E[6]=d):d=E[6];let[M,F]=(0,s.useState)(d);E[7]===Symbol.for("react.memo_cache_sentinel")?(p={},E[7]=p):p=E[7];let[R,B]=(0,s.useState)(p),N=(0,s.useRef)(R);E[8]===Symbol.for("react.memo_cache_sentinel")?(f=()=>D.current,E[8]=f):f=E[8],(0,s.useImperativeHandle)(t,f),E[9]!==I?(h=()=>{O.current=I},m=[I],E[9]=I,E[10]=h,E[11]=m):(h=E[10],m=E[11]),(0,s.useEffect)(h,m),E[12]!==R?(g=()=>{N.current=R},y=[R],E[12]=R,E[13]=g,E[14]=y):(g=E[13],y=E[14]),(0,s.useEffect)(g,y),E[15]===Symbol.for("react.memo_cache_sentinel")?(v=(e,t,n,r)=>(B(r=>({...r,[t]:{element:e,expanded:n}})),r&&A(e),()=>{B(e=>{let n={...e};return delete n[t],n})}),E[15]=v):v=E[15];let L=v;E[16]===Symbol.for("react.memo_cache_sentinel")?(b=(e,t)=>{B(n=>{let r=n[e];return r?{...n,[e]:{...r,expanded:t}}:n})},E[16]=b):b=E[16];let z=b,V=I||M[0]||null;E[17]!==T||E[18]!==R||E[19]!==V?(x={version:0,focusedElement:V,level:0,path:P,registerItem:L,setExpanded:z,setFocusedElement:A,space:T,state:R},E[17]=T,E[18]=R,E[19]=V,E[20]=x):x=E[20];let U=x;E[21]!==M?(C=e=>{if(O.current){if("ArrowDown"===e.key){e.preventDefault();let t=function(e,t,n){let r=t.indexOf(n),i=t.slice(r),a=t.length;for(let t=1;t<a;t+=1){if(!i[t])continue;let n=i[t].getAttribute("data-tree-key");if(!n)continue;let r=n.split("/");r.pop();let a=[],l=!0;for(let t=0;t<r.length;t+=1){var o;if(a.push(r[t]),!(null==(o=e[a.join("/")])?void 0:o.expanded)){l=!1;break}}if(l)return i[t]}return null}(N.current,M,O.current);t&&(e4(t),A(t));return}if("ArrowUp"===e.key){e.preventDefault();let t=function(e,t,n){let r=t.indexOf(n),i=t.slice(0,r),a=i.length;for(let t=a-1;t>=0;t-=1){let n=i[t].getAttribute("data-tree-key");if(!n)continue;let r=n.split("/");r.pop();let a=[],l=!0;for(let t=0;t<r.length;t+=1){var o;if(a.push(r[t]),!(null==(o=e[a.join("/")])?void 0:o.expanded)){l=!1;break}}if(l)return i[t]}return null}(N.current,M,O.current);t&&(e4(t),A(t));return}if("ArrowLeft"===e.key){e.preventDefault();let t=O.current.getAttribute("data-tree-key");if(!t)return;let n=N.current[t];if(!n)return;if(n.expanded)B(e=>{let n=e[t];return n?{...e,[t]:{...n,expanded:!1}}:e});else{let e=t.split("/");e.pop();let n=e.join("/"),r=n&&N.current[n];r&&(r.element.focus(),A(r.element))}return}if("ArrowRight"===e.key){var t;e.preventDefault();let n=O.current.getAttribute("data-tree-key");if(!n)return;(null==(t=N.current[n])?void 0:t.expanded)||B(e=>{let t=e[n];return t?{...e,[n]:{...t,expanded:!0}}:e});return}}},E[21]=M,E[22]=C):C=E[22];let H=C;E[23]!==r?(k=e=>{A(e.target),null==r||r(e)},E[23]=r,E[24]=k):k=E[24];let q=k;return E[25]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{D.current&&F(Array.from(D.current.querySelectorAll('[data-ui="TreeItem"]')))},E[25]=w):w=E[25],E[26]!==n?(_=[n],E[26]=n,E[27]=_):_=E[27],(0,s.useEffect)(w,_),E[28]!==n||E[29]!==q||E[30]!==H||E[31]!==l||E[32]!==T?(j=(0,a.jsx)(i.Stack,{as:"ul","data-ui":"Tree",...l,onFocus:q,onKeyDown:H,ref:D,role:"tree",space:T,children:n}),E[28]=n,E[29]=q,E[30]=H,E[31]=l,E[32]=T,E[33]=j):j=E[33],E[34]!==U||E[35]!==j?(S=(0,a.jsx)(e6.Provider,{value:U,children:j}),E[34]=U,E[35]=j,E[36]=S):S=E[36],S}).displayName="ForwardRef(Tree)";(0,c.styled)(i.Box).attrs({forwardedAs:"a"}).withConfig({displayName:"TreeItemBox",componentId:"sc-iiskig-1"})(function(e){let{$level:t}=e,{space:n}=(0,u.getTheme_v2)(e.theme);return(0,c.css)(L(),(0,i.rem)(n[2]*t))}),(0,c.styled)(i.Text).withConfig({displayName:"ToggleArrowText",componentId:"sc-iiskig-2"})(z()),e.s(["useVirtualizer",()=>tv],48493);var e9=e.i(174080);function te(e,t,n){var r;let i,a=null!=(r=n.initialDeps)?r:[];function o(){var r,o,l,s;let c,u;n.key&&(null==(r=n.debug)?void 0:r.call(n))&&(c=Date.now());let d=e();if(!(d.length!==a.length||d.some((e,t)=>a[t]!==e)))return i;if(a=d,n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(u=Date.now()),i=t(...d),n.key&&(null==(l=n.debug)?void 0:l.call(n))){let e=Math.round((Date.now()-c)*100)/100,t=Math.round((Date.now()-u)*100)/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c⏱ ".concat(i(t,5)," /").concat(i(e,5)," ms"),"\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(".concat(Math.max(0,Math.min(120-120*r,120)),"deg 100% 31%);"),null==n?void 0:n.key)}return null==(s=null==n?void 0:n.onChange)||s.call(n,i),i}return o.updateDeps=e=>{a=e},o}function tt(e,t){if(void 0!==e)return e;throw Error("Unexpected undefined".concat(t?": ".concat(t):""))}e.s(["Virtualizer",()=>tm,"defaultRangeExtractor",()=>ta,"elementScroll",()=>th,"observeElementOffset",()=>tu,"observeElementRect",()=>to,"observeWindowOffset",()=>td,"observeWindowRect",()=>ts,"windowScroll",()=>tf],201968),e.i(247167);let tn=(e,t,n)=>{let r;return function(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,a),n)}},tr=e=>{let{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},ti=e=>e,ta=e=>{let t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},to=(e,t)=>{let n=e.scrollElement;if(!n)return;let r=e.targetWindow;if(!r)return;let i=e=>{let{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(i(tr(n)),!r.ResizeObserver)return()=>{};let a=new r.ResizeObserver(t=>{let r=()=>{let e=t[0];if(null==e?void 0:e.borderBoxSize){let t=e.borderBoxSize[0];if(t)return void i({width:t.inlineSize,height:t.blockSize})}i(tr(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},tl={passive:!0},ts=(e,t)=>{let n=e.scrollElement;if(!n)return;let r=()=>{t({width:n.innerWidth,height:n.innerHeight})};return r(),n.addEventListener("resize",r,tl),()=>{n.removeEventListener("resize",r)}},tc="undefined"==typeof window||"onscrollend"in window,tu=(e,t)=>{let n=e.scrollElement;if(!n)return;let r=e.targetWindow;if(!r)return;let i=0,a=e.options.useScrollendEvent&&tc?()=>void 0:tn(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=r=>()=>{let{horizontal:o,isRtl:l}=e.options;i=o?n.scrollLeft*(l&&-1||1):n.scrollTop,a(),t(i,r)},l=o(!0),s=o(!1);s(),n.addEventListener("scroll",l,tl);let c=e.options.useScrollendEvent&&tc;return c&&n.addEventListener("scrollend",s,tl),()=>{n.removeEventListener("scroll",l),c&&n.removeEventListener("scrollend",s)}},td=(e,t)=>{let n=e.scrollElement;if(!n)return;let r=e.targetWindow;if(!r)return;let i=0,a=e.options.useScrollendEvent&&tc?()=>void 0:tn(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=r=>()=>{i=n[e.options.horizontal?"scrollX":"scrollY"],a(),t(i,r)},l=o(!0),s=o(!1);s(),n.addEventListener("scroll",l,tl);let c=e.options.useScrollendEvent&&tc;return c&&n.addEventListener("scrollend",s,tl),()=>{n.removeEventListener("scroll",l),c&&n.removeEventListener("scrollend",s)}},tp=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},tf=(e,t,n)=>{var r,i;let{adjustments:a=0,behavior:o}=t;null==(i=null==(r=n.scrollElement)?void 0:r.scrollTo)||i.call(r,{[n.options.horizontal?"left":"top"]:e+a,behavior:o})},th=(e,t,n)=>{var r,i;let{adjustments:a=0,behavior:o}=t;null==(i=null==(r=n.scrollElement)?void 0:r.scrollTo)||i.call(r,{[n.options.horizontal?"left":"top"]:e+a,behavior:o})};class tm{constructor(e){var t=this;this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(t=>{let[n,r]=t;void 0===r&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ti,rangeExtractor:ta,onChange:()=>{},measureElement:tp,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=te(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e,t;let n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n)return void this.maybeNotify();this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=null!=(t=null==(e=this.scrollElement)?void 0:e.window)?t:null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>{var e;return this.options.enabled?(this.scrollRect=null!=(e=this.scrollRect)?e:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var e;return this.options.enabled?(this.scrollOffset=null!=(e=this.scrollOffset)?e:"function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(e,t)=>{let n=new Map,r=new Map;for(let i=t-1;i>=0;i--){let t=e[i];if(n.has(t.lane))continue;let a=r.get(t.lane);if(null==a||t.end>a.end?r.set(t.lane,t):t.end<a.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=te(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:i}),{key:!1}),this.getMeasurements=te(()=>[this.getMeasurementOptions(),this.itemSizeCache],(e,t)=>{let{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:o}=e;if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let s=this.measurementsCache.slice(0,l);for(let e=l;e<n;e++){let n=a(e),o=1===this.options.lanes?s[e-1]:this.getFurthestMeasurement(s,e),l=o?o.end+this.options.gap:r+i,c=t.get(n),u="number"==typeof c?c:this.options.estimateSize(e),d=l+u,p=o?o.lane:e%this.options.lanes;s[e]={index:e,start:l,size:u,end:d,key:n,lane:p}}return this.measurementsCache=s,s},{key:!1,debug:()=>this.options.debug}),this.calculateRange=te(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?function(e){let{measurements:t,outerSize:n,scrollOffset:r,lanes:i}=e,a=t.length-1;if(t.length<=i)return{startIndex:0,endIndex:a};let o=tg(0,a,e=>t[e].start,r),l=o;if(1===i)for(;l<a&&t[l].end<r+n;)l++;else if(i>1){let e=Array(i).fill(0);for(;l<a&&e.some(e=>e<r+n);){let n=t[l];e[n.lane]=n.end,l++}let s=Array(i).fill(r+n);for(;o>=0&&s.some(e=>e>=r);){let e=t[o];s[e.lane]=e.start,o--}o=Math.max(0,o-o%i),l=Math.min(a,l+(i-1-l%i))}return{startIndex:o,endIndex:l}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=te(()=>{let e=null,t=null,n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,i)=>null===r||null===i?[]:e({startIndex:r,endIndex:i,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '".concat(t,"={index}' on measured element.")),-1)},this._measureElement=(e,t)=>{let n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;let i=r.key,a=this.elementsCache.get(i);a!==e&&(a&&this.observer.unobserve(a),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{var n;let r=this.measurementsCache[e];if(!r)return;let i=t-(null!=(n=this.itemSizeCache.get(r.key))?n:r.size);0!==i&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(r,i,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e)return void this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))});this._measureElement(e,void 0)},this.getVirtualItems=te(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=t[e[r]];n.push(i)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return tt(t[tg(0,t.length-1,e=>tt(t[e]).start,e)])},this.getOffsetForAlignment=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.getSize(),a=t.getScrollOffset();return"auto"===n&&(n=e>=a+i?"end":"start"),"center"===n?e+=(r-i)/2:"end"===n&&(e-=i),Math.max(Math.min(t.getTotalSize()+t.options.scrollMargin-i,e),0)},this.getOffsetForIndex=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";e=Math.max(0,Math.min(e,t.options.count-1));let r=t.measurementsCache[e];if(!r)return;let i=t.getSize(),a=t.getScrollOffset();if("auto"===n)if(r.end>=a+i-t.options.scrollPaddingEnd)n="end";else{if(!(r.start<=a+t.options.scrollPaddingStart))return[a,n];n="start"}let o="end"===n?r.end+t.options.scrollPaddingEnd:r.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(o,n,r.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=function(e){let{align:n="start",behavior:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:r})},this.scrollToIndex=function(e){let{align:n="auto",behavior:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,t.options.count-1));let i=0,a=n=>{if(!t.targetWindow)return;let i=t.getOffsetForIndex(e,n);if(!i)return void console.warn("Failed to get offset for index:",e);let[a,l]=i;t._scrollToOffset(a,{adjustments:void 0,behavior:r}),t.targetWindow.requestAnimationFrame(()=>{let n=t.getScrollOffset(),r=t.getOffsetForIndex(e,l);if(!r)return void console.warn("Failed to get offset for index:",e);1.01>Math.abs(r[0]-n)||o(l)})},o=n=>{t.targetWindow&&(++i<10?t.targetWindow.requestAnimationFrame(()=>a(n)):console.warn("Failed to scroll to index ".concat(e," after ").concat(10," attempts.")))};a(n)},this.scrollBy=function(e){let{behavior:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"smooth"===n&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e,t;let n,r=this.getMeasurements();if(0===r.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=null!=(t=null==(e=r[r.length-1])?void 0:e.end)?t:0;else{let e=Array(this.options.lanes).fill(null),t=r.length-1;for(;t>=0&&e.some(e=>null===e);){let n=r[t];null===e[n.lane]&&(e[n.lane]=n.end),t--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,t)=>{let{adjustments:n,behavior:r}=t;this.options.scrollToFn(e,{behavior:r,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}let tg=(e,t,n,r)=>{for(;e<=t;){let i=(e+t)/2|0,a=n(i);if(a<r)e=i+1;else{if(!(a>r))return i;t=i-1}}return e>0?e-1:0},ty="undefined"!=typeof document?s.useLayoutEffect:s.useEffect;function tv(e){return function(e){let t=s.useReducer(()=>({}),{})[1],n={...e,onChange:(n,r)=>{var i;r?(0,e9.flushSync)(t):t(),null==(i=e.onChange)||i.call(e,n,r)}},[r]=s.useState(()=>new tm(n));return r.setOptions(n),ty(()=>r._didMount(),[]),ty(()=>r._willUpdate()),r}({observeElementRect:to,observeElementOffset:tu,scrollToFn:th,...e})}e.s(["Button",()=>tY,"ConditionalWrapper",()=>tU,"Dialog",()=>tK,"ErrorBoundary",()=>tG,"Hotkeys",()=>tZ,"MenuButton",()=>t$,"MenuItem",()=>t3,"Popover",()=>t8,"Tab",()=>t4,"Tooltip",()=>t0,"TooltipDelayGroupProvider",()=>t6,"generateHelpUrl",()=>t9],312669);var tb=e.i(527108),tx=e.i(179684);e.s([],785269),e.i(2008),Object.create(null);let tC={},tk=(e,t,n,r)=>{tE(n)&&tC[n]||(tE(n)&&(tC[n]=new Date),((e,t,n,r)=>{var i,a,o,l,s;let c=[n,{code:t,...r||{}}];if(null==e||null==(a=e.services)||null==(i=a.logger)?void 0:i.forward)return e.services.logger.forward(c,"warn","react-i18next::",!0);tE(c[0])&&(c[0]="react-i18next:: ".concat(c[0])),(null==e||null==(l=e.services)||null==(o=l.logger)?void 0:o.warn)?e.services.logger.warn(...c):(null==(s=console)?void 0:s.warn)&&console.warn(...c)})(e,t,n,r))},tw=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},t_=(e,t,n)=>{e.loadNamespaces(t,tw(e,n))},tj=(e,t,n,r)=>{if(tE(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return t_(e,n,r);n.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,tw(e,r))},tS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(tk(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)},tE=e=>"string"==typeof e,tT=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,tD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},tI=e=>tD[e],tA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(tT,tI)},tO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tA={...tA,...e}};e.s(["initReactI18next",()=>tP],402607);let tP={type:"3rdParty",init(e){tO(e.options.react),t=e}},tM=(0,s.createContext)();class tF{addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}constructor(){this.usedNamespaces={}}}e.s(["useTranslation",()=>tB],322831);let tR=(e,t,n,r)=>e.getFixedT(t,n,r),tB=function(e){var n,r,i,a;let o,l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:u}=c,{i18n:d,defaultNS:p}=(0,s.useContext)(tM)||{},f=u||d||t;if(f&&!f.reportNamespaces&&(f.reportNamespaces=new tF),!f){tk(f,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>{let n;return tE(t)?t:"object"==typeof(n=t)&&null!==n&&tE(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}(null==(n=f.options.react)?void 0:n.wait)&&tk(f,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let h={...tA,...f.options.react,...c},{useSuspense:m,keyPrefix:g}=h,y=e||p||(null==(r=f.options)?void 0:r.defaultNS);y=tE(y)?[y]:y||["translation"],null==(i=(a=f.reportNamespaces).addUsedNamespaces)||i.call(a,y);let v=(f.isInitialized||f.initializedStoreOnce)&&y.every(e=>tS(e,f,h)),b=(o=c.lng||null,l="fallback"===h.nsMode?y:y[0],(0,s.useCallback)(tR(f,o,l,g),[f,o,l,g])),x=()=>b,C=()=>tR(f,c.lng||null,"fallback"===h.nsMode?y:y[0],g),[k,w]=(0,s.useState)(x),_=y.join();c.lng&&(_="".concat(c.lng).concat(_));let j=((e,t)=>{let n=(0,s.useRef)();return(0,s.useEffect)(()=>{n.current=t?n.current:e},[e,t]),n.current})(_),S=(0,s.useRef)(!0);(0,s.useEffect)(()=>{let{bindI18n:e,bindI18nStore:t}=h;S.current=!0,v||m||(c.lng?tj(f,c.lng,y,()=>{S.current&&w(C)}):t_(f,y,()=>{S.current&&w(C)})),v&&j&&j!==_&&S.current&&w(C);let n=()=>{S.current&&w(C)};return e&&(null==f||f.on(e,n)),t&&(null==f||f.store.on(t,n)),()=>{S.current=!1,f&&e&&(null==e||e.split(" ").forEach(e=>f.off(e,n))),t&&f&&t.split(" ").forEach(e=>f.store.off(e,n))}},[f,_]),(0,s.useEffect)(()=>{S.current&&v&&w(x)},[f,g,v]);let E=[k,f,v];if(E.t=k,E.i18n=f,E.ready=v,v||!v&&!m)return E;throw new Promise(e=>{c.lng?tj(f,c.lng,y,()=>e()):t_(f,y,()=>e())})};function tN(e){let{i18n:t,defaultNS:n,children:r}=e,i=(0,s.useMemo)(()=>({i18n:t,defaultNS:n}),[t,n]);return(0,s.createElement)(tM.Provider,{value:i},r)}function tL(){let e=(0,r._)(["\n  display: inline-flex;\n"]);return tL=function(){return e},e}function tz(){let e=(0,r._)(["\n  margin-top: 2px;\n"]);return tz=function(){return e},e}function tV(){let e=(0,r._)(["\n  height: 25px;\n  width: 25px;\n  overflow: hidden;\n"]);return tV=function(){return e},e}function tU(e){let{children:t,condition:n,wrapper:r}=e;return n?r(t):t}e.s(["I18nextProvider",()=>tN],200071);let tH={space:3,padding:3},tq={space:2,padding:2},tW=c.styled.span(tL()),tY=(0,s.forwardRef)(function(e,t){let n,r,l,s,c,u,d,p,f,h=(0,o.c)(20);h[0]!==e?({size:l,mode:s,paddingY:n,tone:c,tooltipProps:u,...r}=e,h[0]=e,h[1]=n,h[2]=r,h[3]=l,h[4]=s,h[5]=c,h[6]=u):(n=h[1],r=h[2],l=h[3],s=h[4],c=h[5],u=h[6]);let m=void 0===l?"default":l,g=void 0===s?"default":s,y=void 0===c?"default":c;h[7]!==u?(d=e=>(0,a.jsx)(t0,{content:null==u?void 0:u.content,portal:!0,...u,children:(0,a.jsx)(tW,{children:e})}),h[7]=u,h[8]=d):d=h[8];let v=d,b="default"===m?tq:tH,x=!!u;return h[9]!==g||h[10]!==n||h[11]!==t||h[12]!==r||h[13]!==b||h[14]!==y?(p=(0,a.jsx)(i.Button,{...r,...b,paddingY:n,ref:t,mode:g,tone:y}),h[9]=g,h[10]=n,h[11]=t,h[12]=r,h[13]=b,h[14]=y,h[15]=p):p=h[15],h[16]!==v||h[17]!==x||h[18]!==p?(f=(0,a.jsx)(tU,{condition:x,wrapper:v,children:p}),h[16]=v,h[17]=x,h[18]=p,h[19]=f):f=h[19],f}),tK=(0,s.forwardRef)(function(e,t){let n,r,l,s,c,u,d,p,f,h=(0,o.c)(21);h[0]!==e?({bodyHeight:n,children:r,footer:l,padding:c,zOffset:u,...s}=e,h[0]=e,h[1]=n,h[2]=r,h[3]=l,h[4]=s,h[5]=c,h[6]=u):(n=h[1],r=h[2],l=h[3],s=h[4],c=h[5],u=h[6]);let m=void 0===c||c,{t:g}=tB();h[7]!==l||h[8]!==s||h[9]!==g?(d=((null==l?void 0:l.confirmButton)||(null==l?void 0:l.cancelButton))&&(0,a.jsxs)(i.Flex,{width:"full",gap:3,justify:"flex-end",padding:3,align:"center",children:[(null==l?void 0:l.description)&&(0,a.jsx)(i.Box,{flex:1,paddingLeft:1,children:(0,a.jsx)(i.Text,{size:1,muted:!0,children:l.description})}),s.onClose&&(0,a.jsx)(i.Button,{mode:"bleed",padding:2,text:g("common.dialog.cancel-button.text"),tone:"default",onClick:s.onClose,"data-testid":"cancel-button",...l.cancelButton}),l.confirmButton&&(0,a.jsx)(i.Button,{mode:"default",padding:2,text:g("common.dialog.confirm-button.text"),tone:"critical","data-testid":"confirm-button",...l.confirmButton})]}),h[7]=l,h[8]=s,h[9]=g,h[10]=d):d=h[10];let y=4*!!m;return h[11]!==n||h[12]!==r||h[13]!==y?(p=(0,a.jsx)(i.Box,{height:n,padding:y,children:r}),h[11]=n,h[12]=r,h[13]=y,h[14]=p):p=h[14],h[15]!==s||h[16]!==t||h[17]!==d||h[18]!==p||h[19]!==u?(f=(0,a.jsx)(ew,{...s,animate:!0,zOffset:u,ref:t,footer:d,children:p}),h[15]=s,h[16]=t,h[17]=d,h[18]=p,h[19]=u,h[20]=f):f=h[20],f});function tG(e){let{onCatch:t,...n}=e,r=(0,s.useContext)(tb.SourceContext),i=(0,s.useCallback)(e=>{let{error:n,info:i}=e;try{var a;null==r||null==(a=r.onUncaughtError)||a.call(r,n,i)}catch(e){e.message='Encountered an additional error when calling custom "onUncaughtError()": '.concat(e.message),console.error(e)}null==t||t({error:n,info:i})},[r,t]);return(0,a.jsx)(G,{...n,onCatch:i})}let t$=(0,s.forwardRef)(function(e,t){let n,r,i=(0,o.c)(6);return i[0]!==e.popover?(n={...e.popover,animate:!0},i[0]=e.popover,i[1]=n):n=i[1],i[2]!==e||i[3]!==t||i[4]!==n?(r=(0,a.jsx)(ej,{...e,ref:t,popover:n}),i[2]=e,i[3]=t,i[4]=n,i[5]=r):r=i[5],r});function tZ(e){let t,n,r,l,s,c,u=(0,o.c)(12);u[0]!==e?({makePlatformAware:n,keys:r,...t}=e,u[0]=e,u[1]=t,u[2]=n,u[3]=r):(t=u[1],n=u[2],r=u[3]);let d=void 0===n||n;u[4]!==r?(l=void 0===r?[]:r,u[4]=r,u[5]=l):l=u[5];let p=l;u[6]!==p||u[7]!==d?(s=d?p.map(tJ):p,u[6]=p,u[7]=d,u[8]=s):s=u[8];let f=s;return u[9]!==f||u[10]!==t?(c=(0,a.jsx)(i.Hotkeys,{...t,keys:f}),u[9]=f,u[10]=t,u[11]=c):c=u[11],c}let tX=!(typeof navigator>"u")&&"string"==typeof navigator.platform&&/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function tJ(e){let t=e.toLowerCase();return"alt"===t&&tX?tQ(e,"option"):"option"!==t||tX?e:tQ(e,"alt")}function tQ(e,t){let n=e.length;return t.replace(/./g,(t,r)=>r<n&&e[r]===e[r].toUpperCase()?t.toUpperCase():t)}let t1={open:400},t2={animate:!0,arrow:!1,boundaryElement:null,delay:t1,fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"],placement:"bottom",portal:!0},t0=(0,s.forwardRef)(function(e,t){let n,r,l,s,c=(0,o.c)(19);if(c[0]!==e?({content:n,hotkeys:r,...l}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=l):(n=c[1],r=c[2],l=c[3]),"string"==typeof n){let e,o,s,u;return c[4]!==n?(e=n&&(0,a.jsx)(i.Box,{flex:1,padding:1,children:(0,a.jsx)(i.Text,{size:1,children:n})}),c[4]=n,c[5]=e):e=c[5],c[6]!==r?(o=r&&(0,a.jsx)(i.Box,{flex:"none",children:(0,a.jsx)(tZ,{keys:r})}),c[6]=r,c[7]=o):o=c[7],c[8]!==e||c[9]!==o?(s=(0,a.jsxs)(i.Flex,{align:"center",children:[e,o]}),c[8]=e,c[9]=o,c[10]=s):s=c[10],c[11]!==t||c[12]!==l||c[13]!==s?(u=(0,a.jsx)(i.Tooltip,{...t2,content:s,padding:1,ref:t,...l}),c[11]=t,c[12]=l,c[13]=s,c[14]=u):u=c[14],u}return c[15]!==n||c[16]!==t||c[17]!==l?(s=(0,a.jsx)(i.Tooltip,{...t2,content:n,ref:t,...l}),c[15]=n,c[16]=t,c[17]=l,c[18]=s):s=c[18],s}),t5=(0,c.styled)(i.Text)(tz()),t7=(0,c.styled)(i.Box)(tV()),t3=(0,s.forwardRef)(function(e,t){let n,r,l,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j,S,E,T=(0,o.c)(49);T[0]!==e?({badgeText:u,children:d,disabled:p,hotkeys:f,icon:n,iconRight:r,preview:g,renderMenuItem:h,text:y,tooltipProps:v,__unstable_subtitle:c,__unstable_space:l,...m}=e,T[0]=e,T[1]=n,T[2]=r,T[3]=l,T[4]=c,T[5]=u,T[6]=d,T[7]=p,T[8]=f,T[9]=h,T[10]=m,T[11]=g,T[12]=y,T[13]=v):(n=T[1],r=T[2],l=T[3],c=T[4],u=T[5],d=T[6],p=T[7],f=T[8],h=T[9],m=T[10],g=T[11],y=T[12],v=T[13]);let D=void 0===g?null:g;T[14]!==l||T[15]!==p||T[16]!==D?(b=D&&(0,a.jsx)(t7,{style:{opacity:p?.25:void 0},paddingRight:+!!l,children:(0,a.jsx)(i.Flex,{align:"center",height:"fill",justify:"center",children:D})}),T[14]=l,T[15]=p,T[16]=D,T[17]=b):b=T[17],T[18]!==n?(x=n&&(0,a.jsx)(i.Box,{paddingRight:1,children:(0,a.jsxs)(i.Text,{size:1,children:[(0,s.isValidElement)(n)&&n,(0,tx.isValidElementType)(n)&&(0,a.jsx)(n,{})]})}),T[18]=n,T[19]=x):x=T[19],T[20]!==c||T[21]!==y?(C=y&&(0,a.jsxs)(i.Stack,{flex:1,space:c?1:2,paddingLeft:+!!c,children:[(0,a.jsx)(i.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:y}),c&&(0,a.jsx)(t5,{size:0,textOverflow:"ellipsis",weight:"medium",muted:!0,children:c})]}),T[20]=c,T[21]=y,T[22]=C):C=T[22],T[23]!==r||T[24]!==u||T[25]!==f?(k=(u||f||r)&&(0,a.jsxs)(i.Flex,{align:"center",gap:3,marginLeft:3,children:[f&&(0,a.jsx)(tZ,{keys:f,style:{marginTop:-4,marginBottom:-4}}),u&&(0,a.jsx)(i.Badge,{fontSize:0,style:{marginTop:-4,marginBottom:-4},children:u}),r&&(0,a.jsxs)(i.Text,{size:1,children:[(0,s.isValidElement)(r)&&r,(0,tx.isValidElementType)(r)&&(0,a.jsx)(r,{})]})]}),T[23]=r,T[24]=u,T[25]=f,T[26]=k):k=T[26],T[27]!==b||T[28]!==x||T[29]!==C||T[30]!==k?(w=(0,a.jsxs)(i.Flex,{align:"center",gap:2,children:[b,x,C,k]}),T[27]=b,T[28]=x,T[29]=C,T[30]=k,T[31]=w):w=T[31];let I=w;T[32]!==v?(_=e=>(0,a.jsx)(t0,{content:null==v?void 0:v.content,portal:!0,...v,children:(0,a.jsx)("div",{children:e})}),T[32]=v,T[33]=_):_=T[33];let A=_,O=!!v,P=D?1:3,M=D?1:3;return T[34]!==d||T[35]!==I||T[36]!==h?(j=typeof d>"u"&&"function"==typeof h?h(I):I,T[34]=d,T[35]=I,T[36]=h,T[37]=j):j=T[37],T[38]!==p||T[39]!==t||T[40]!==m||T[41]!==M||T[42]!==j||T[43]!==P?(S=(0,a.jsx)(i.MenuItem,{disabled:p,paddingLeft:P,paddingRight:3,paddingY:M,ref:t,...m,children:j}),T[38]=p,T[39]=t,T[40]=m,T[41]=M,T[42]=j,T[43]=P,T[44]=S):S=T[44],T[45]!==A||T[46]!==S||T[47]!==O?(E=(0,a.jsx)(tU,{condition:O,wrapper:A,children:S}),T[45]=A,T[46]=S,T[47]=O,T[48]=E):E=T[48],E}),t8=(0,s.forwardRef)(function(e,t){let n,r=(0,o.c)(3);return r[0]!==e||r[1]!==t?(n=(0,a.jsx)(i.Popover,{...e,animate:!0,ref:t}),r[0]=e,r[1]=t,r[2]=n):n=r[2],n}),t4=(0,s.forwardRef)(function(e,t){let n,r,l,s=(0,o.c)(7);s[0]!==e?({tone:r,...n}=e,s[0]=e,s[1]=n,s[2]=r):(n=s[1],r=s[2]);let c=void 0===r?"default":r;return s[3]!==n||s[4]!==t||s[5]!==c?(l=(0,a.jsx)(i.Tab,{...n,muted:!0,padding:2,ref:t,tone:c}),s[3]=n,s[4]=t,s[5]=c,s[6]=l):l=s[6],l}),t6=e=>{let t,n=(0,o.c)(2);return n[0]!==e.children?(t=(0,a.jsx)(i.TooltipDelayGroupProvider,{delay:t1,children:e.children}),n[0]=e.children,n[1]=t):t=n[1],t};function t9(e){return"https://docs.sanity.io/help/"+e}function ne(){let e=Object.create(null),t=0;return{publish:function(t){for(let n in e)e[n](t)},subscribe:function(n){let r=t++;return e[r]=n,function(){delete e[r]}}}}function nt(e,t,n){return Math.min(Math.max(e,n),t)}e.s(["default",()=>ne],847780),e.s(["darken",()=>nh,"hasBadContrast",()=>ny,"lighten",()=>nv,"readableColor",()=>nb],782154);var nn=class extends Error{constructor(e){super('Failed to parse color: "'.concat(e,'"'))}};function nr(e){if("string"!=typeof e)throw new nn(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=nd.test(e)?function(e){let t=na[function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(e.toLowerCase().trim())];if(!t)throw new nn(e);return"#".concat(t)}(e):e;let n=nl.exec(t);if(n){let e=Array.from(n).slice(1);return[...e.slice(0,3).map(e=>parseInt(no(e,2),16)),parseInt(no(e[3]||"f",2),16)/255]}let r=ns.exec(t);if(r){let e=Array.from(r).slice(1);return[...e.slice(0,3).map(e=>parseInt(e,16)),parseInt(e[3]||"ff",16)/255]}let i=nc.exec(t);if(i){let e=Array.from(i).slice(1);return[...e.slice(0,3).map(e=>parseInt(e,10)),parseFloat(e[3]||"1")]}let a=nu.exec(t);if(a){let[t,n,r,i]=Array.from(a).slice(1).map(parseFloat);if(nt(0,100,n)!==n||nt(0,100,r)!==r)throw new nn(e);return[...nf(t,n,r),Number.isNaN(i)?1:i]}throw new nn(e)}let ni=e=>parseInt(e.replace(/_/g,""),36),na="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{let n=ni(t.substring(0,3)),r=ni(t.substring(3)).toString(16),i="";for(let e=0;e<6-r.length;e++)i+="0";return e[n]="".concat(i).concat(r),e},{}),no=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),nl=RegExp("^#".concat(no("([a-f0-9])",3),"([a-f0-9])?$"),"i"),ns=RegExp("^#".concat(no("([a-f0-9]{2})",3),"([a-f0-9]{2})?$"),"i"),nc=RegExp("^rgba?\\(\\s*(\\d+)\\s*".concat(no(",\\s*(\\d+)\\s*",2),"(?:,\\s*([\\d.]+))?\\s*\\)$"),"i"),nu=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,nd=/^[a-z]+$/i,np=e=>Math.round(255*e),nf=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map(np);let i=(e%360+360)%360/60,a=t/100*(1-Math.abs(2*r-1)),o=a*(1-Math.abs(i%2-1)),l=0,s=0,c=0;i>=0&&i<1?(l=a,s=o):i>=1&&i<2?(l=o,s=a):i>=2&&i<3?(s=a,c=o):i>=3&&i<4?(s=o,c=a):i>=4&&i<5?(l=o,c=a):i>=5&&i<6&&(l=a,c=o);let u=r-a/2;return[l+u,s+u,c+u].map(np)};function nh(e,t){var n;let[r,i,a,o]=function(e){let[t,n,r,i]=nr(e).map((e,t)=>3===t?e:e/255),a=Math.max(t,n,r),o=Math.min(t,n,r),l=(a+o)/2;if(a===o)return[0,0,l,i];let s=a-o;return[60*(t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4),l>.5?s/(2-a-o):s/(a+o),l,i]}(e);return n=a-t,"hsla(".concat((r%360).toFixed(),", ").concat(nt(0,100,100*i).toFixed(),"%, ").concat(nt(0,100,100*n).toFixed(),"%, ").concat(parseFloat(nt(0,1,o).toFixed(3)),")")}function nm(e){if("transparent"===e)return 0;function t(e){let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}let[n,r,i]=nr(e);return .2126*t(n)+.7152*t(r)+.0722*t(i)}let ng={decorative:1.5,readable:3,aa:4.5,aaa:7};function ny(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"aa",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#fff";return function(e,t){let n=nm(e),r=nm(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}(e,n)<ng[t]}function nv(e,t){return nh(e,-t)}function nb(e){return nm(e)>.179?"#000":"#fff"}},453384,e=>{"use strict";e.s(["defaultIfEmpty",()=>r]);var t=e.i(902965),n=e.i(627608);function r(e){return(0,t.operate)(function(t,r){var i=!1;t.subscribe((0,n.createOperatorSubscriber)(r,function(e){i=!0,r.next(e)},function(){i||r.next(e),r.complete()}))})}},134352,789196,e=>{"use strict";e.s(["switchMap",()=>i],134352);var t=e.i(220324),n=e.i(902965),r=e.i(627608);function i(e,i){return(0,n.operate)(function(n,a){var o=null,l=0,s=!1,c=function(){return s&&!o&&a.complete()};n.subscribe((0,r.createOperatorSubscriber)(a,function(n){null==o||o.unsubscribe();var s=0,u=l++;(0,t.innerFrom)(e(n,u)).subscribe(o=(0,r.createOperatorSubscriber)(a,function(e){return a.next(i?i(n,e,u,s++):e)},function(){o=null,c()}))},function(){s=!0,c()}))})}e.s(["NEVER",()=>l],789196);var a=e.i(394426),o=e.i(114940),l=new a.Observable(o.noop)},374e3,598319,873904,446688,494477,701655,327716,58832,394186,711308,373983,495125,1614,161435,177672,906247,424981,975143,100374,449242,938946,480546,e=>{"use strict";e.s(["distinctUntilChanged",()=>a],374e3);var t,n=e.i(979165),r=e.i(902965),i=e.i(627608);function a(e,t){return void 0===t&&(t=n.identity),e=null!=e?e:o,(0,r.operate)(function(n,r){var a,o=!0;n.subscribe((0,i.createOperatorSubscriber)(r,function(n){var i=t(n);(o||!e(a,i))&&(o=!1,a=i,r.next(n))}))})}function o(e,t){return e===t}e.s(["bufferTime",()=>f],598319);var l=e.i(290571),s=e.i(909116),c=e.i(586903),u=e.i(629437),d=e.i(673649),p=e.i(175436);function f(e){for(var t,n,a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];var f=null!=(t=(0,d.popScheduler)(a))?t:u.asyncScheduler,h=null!=(n=a[0])?n:null,m=a[1]||1/0;return(0,r.operate)(function(t,n){var r=[],a=!1,o=function(e){var t=e.buffer;e.subs.unsubscribe(),(0,c.arrRemove)(r,e),n.next(t),a&&u()},u=function(){if(r){var t=new s.Subscription;n.add(t);var i={buffer:[],subs:t};r.push(i),(0,p.executeSchedule)(t,f,function(){return o(i)},e)}};null!==h&&h>=0?(0,p.executeSchedule)(n,f,u,h,!0):a=!0,u();var d=(0,i.createOperatorSubscriber)(n,function(e){var t,n,i=r.slice();try{for(var a=(0,l.__values)(i),s=a.next();!s.done;s=a.next()){var c=s.value,u=c.buffer;u.push(e),m<=u.length&&o(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},function(){for(;null==r?void 0:r.length;)n.next(r.shift().buffer);null==d||d.unsubscribe(),n.complete(),n.unsubscribe()},void 0,function(){return r=null});t.subscribe(d)})}e.s(["partition",()=>g],873904);var h=e.i(722249),m=e.i(220324);function g(e,t,n){return[(0,h.filter)(t,n)((0,m.innerFrom)(e)),(0,h.filter)(function(e,r){return!t.call(n,e,r)})((0,m.innerFrom)(e))]}e.s(["asapScheduler",()=>S],446688);var y=e.i(329418),v=1,b={};function x(e){return e in b&&(delete b[e],!0)}var C={setImmediate:function(e){var n=v++;return b[n]=!0,t||(t=Promise.resolve()),t.then(function(){return x(n)&&e()}),n},clearImmediate:function(e){x(e)}},k=C.setImmediate,w=C.clearImmediate,_={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_.delegate;return((null==n?void 0:n.setImmediate)||k).apply(void 0,(0,l.__spreadArray)([],(0,l.__read)(e)))},clearImmediate:function(e){var t=_.delegate;return((null==t?void 0:t.clearImmediate)||w)(e)},delegate:void 0},j=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,l.__extends)(t,e),t.prototype.requestAsyncId=function(t,n,r){return(void 0===r&&(r=0),null!==r&&r>0)?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=_.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);var i,a=t.actions;null!=n&&(null==(i=a[a.length-1])?void 0:i.id)!==n&&(_.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(y.AsyncAction),S=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.__extends)(t,e),t.prototype.flush=function(e){this._active=!0;var t,n=this._scheduled;this._scheduled=void 0;var r=this.actions;e=e||r.shift();do if(t=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift())if(this._active=!1,t){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw t}},t}(e.i(796989).AsyncScheduler))(j);e.s(["using",()=>D],494477);var E=e.i(394426),T=e.i(96623);function D(e,t){return new E.Observable(function(n){var r=e(),i=t(r);return(i?(0,m.innerFrom)(i):T.EMPTY).subscribe(n),function(){r&&r.unsubscribe()}})}e.s(["repeat",()=>A],701655);var I=e.i(817312);function A(e){var t,n,a=1/0;return null!=e&&("object"==typeof e?(a=void 0===(t=e.count)?1/0:t,n=e.delay):a=e),a<=0?function(){return T.EMPTY}:(0,r.operate)(function(e,t){var r,o=0,l=function(){if(null==r||r.unsubscribe(),r=null,null!=n){var e="number"==typeof n?(0,I.timer)(n):(0,m.innerFrom)(n(o)),a=(0,i.createOperatorSubscriber)(t,function(){a.unsubscribe(),s()});e.subscribe(a)}else s()},s=function(){var n=!1;r=e.subscribe((0,i.createOperatorSubscriber)(t,void 0,function(){++o<a?r?l():n=!0:t.complete()})),n&&l()};s()})}e.s(["iif",()=>P],327716);var O=e.i(172441);function P(e,t,n){return(0,O.defer)(function(){return e()?t:n})}e.s(["startWith",()=>F],58832);var M=e.i(602400);function F(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,d.popScheduler)(e);return(0,r.operate)(function(t,r){(n?(0,M.concat)(e,t,n):(0,M.concat)(e,t)).subscribe(r)})}e.s(["concatWith",()=>L],394186);var R=e.i(761101),B=e.i(330823);function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,d.popScheduler)(e);return(0,r.operate)(function(t,r){(0,R.concatAll)()((0,B.from)((0,l.__spreadArray)([t],(0,l.__read)(e)),n)).subscribe(r)})}function L(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N.apply(void 0,(0,l.__spreadArray)([],(0,l.__read)(e)))}function z(e,t,n,r,a){return function(o,l){var s=n,c=t,u=0;o.subscribe((0,i.createOperatorSubscriber)(l,function(t){var n=u++;c=s?e(c,t,n):(s=!0,t),r&&l.next(c)},a&&function(){s&&l.next(c),l.complete()}))}}function V(e,t){return(0,r.operate)(z(e,t,arguments.length>=2,!0))}function U(e,t){return(0,r.operate)(z(e,t,arguments.length>=2,!1,!0))}function H(e){return U(function(t,n,r){return!e||e(n,r)?t+1:t},0)}function q(e){void 0===e&&(e=1/0);var t=e&&"object"==typeof e?e:{count:e},a=t.count,o=void 0===a?1/0:a,l=t.delay,s=t.resetOnSuccess,c=void 0!==s&&s;return o<=0?n.identity:(0,r.operate)(function(e,t){var n,r=0,a=function(){var s=!1;n=e.subscribe((0,i.createOperatorSubscriber)(t,function(e){c&&(r=0),t.next(e)},void 0,function(e){if(r++<o){var c=function(){n?(n.unsubscribe(),n=null,a()):s=!0};if(null!=l){var u="number"==typeof l?(0,I.timer)(l):(0,m.innerFrom)(l(e,r)),d=(0,i.createOperatorSubscriber)(t,function(){d.unsubscribe(),c()},function(){t.complete()});u.subscribe(d)}else c()}else t.error(e)})),s&&(n.unsubscribe(),n=null,a())};a()})}e.s(["scan",()=>V],711308),e.s(["count",()=>H],495125),e.s(["reduce",()=>U],373983),e.s(["retry",()=>q],1614),e.s(["expand",()=>Y],161435);var W=e.i(658474);function Y(e,t,n){return void 0===t&&(t=1/0),t=1>(t||0)?1/0:t,(0,r.operate)(function(r,i){return(0,W.mergeInternals)(r,i,e,t,void 0,!0,n)})}function K(e){return(0,h.filter)(function(t,n){return e<=n})}e.s(["skip",()=>K],177672),e.s(["forkJoin",()=>X],906247);var G=e.i(502448),$=e.i(272383),Z=e.i(718244);function X(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,d.popResultSelector)(e),r=(0,G.argsArgArrayOrObject)(e),a=r.args,o=r.keys,l=new E.Observable(function(e){var t=a.length;if(!t)return void e.complete();for(var n=Array(t),r=t,l=t,s=function(t){var s=!1;(0,m.innerFrom)(a[t]).subscribe((0,i.createOperatorSubscriber)(e,function(e){!s&&(s=!0,l--),n[t]=e},function(){return r--},void 0,function(){r&&s||(l||e.next(o?(0,Z.createObject)(o,n):n),e.complete())}))},c=0;c<t;c++)s(c)});return n?l.pipe((0,$.mapOneOrManyArgs)(n)):l}e.s(["debounce",()=>Q],424981);var J=e.i(114940);function Q(e){return(0,r.operate)(function(t,n){var r=!1,a=null,o=null,l=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var e=a;a=null,n.next(e)}};t.subscribe((0,i.createOperatorSubscriber)(n,function(t){null==o||o.unsubscribe(),r=!0,a=t,o=(0,i.createOperatorSubscriber)(n,l,J.noop),(0,m.innerFrom)(e(t)).subscribe(o)},function(){l(),n.complete()},void 0,function(){a=o=null}))})}e.s(["toArray",()=>et],975143);var ee=function(e,t){return e.push(t),e};function et(){return(0,r.operate)(function(e,t){U(ee,[])(e).subscribe(t)})}e.s(["delay",()=>eo],449242);var en=e.i(10839);e.s(["mapTo",()=>ei],100374);var er=e.i(94059);function ei(e){return(0,er.map)(function(){return e})}var ea=e.i(484973);function eo(e,t){void 0===t&&(t=u.asyncScheduler);var n=(0,I.timer)(e,t);return function e(t,n){return n?function(a){return(0,M.concat)(n.pipe((0,en.take)(1),(0,r.operate)(function(e,t){e.subscribe((0,i.createOperatorSubscriber)(t,J.noop))})),a.pipe(e(t)))}:(0,ea.mergeMap)(function(e,n){return(0,m.innerFrom)(t(e,n)).pipe((0,en.take)(1),ei(e))})}(function(){return n})}e.s(["timeout",()=>ec],938946);var el=e.i(161538),es=(0,e.i(842093).createErrorClass)(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function ec(e,t){var n=(0,el.isValidDate)(e)?{first:e}:"number"==typeof e?{each:e}:e,a=n.first,o=n.each,l=n.with,s=void 0===l?eu:l,c=n.scheduler,d=void 0===c?null!=t?t:u.asyncScheduler:c,f=n.meta,h=void 0===f?null:f;if(null==a&&null==o)throw TypeError("No timeout provided.");return(0,r.operate)(function(e,t){var n,r,l=null,c=0,u=function(e){r=(0,p.executeSchedule)(t,d,function(){try{n.unsubscribe(),(0,m.innerFrom)(s({meta:h,lastValue:l,seen:c})).subscribe(t)}catch(e){t.error(e)}},e)};n=e.subscribe((0,i.createOperatorSubscriber)(t,function(e){null==r||r.unsubscribe(),c++,t.next(l=e),o>0&&u(o)},void 0,void 0,function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),l=null})),c||u(null!=a?"number"==typeof a?a:a-d.now():o)})}function eu(e){throw new es(e)}e.s(["connect",()=>ef],480546);var ed=e.i(408659),ep={connector:function(){return new ed.Subject}};function ef(e,t){void 0===t&&(t=ep);var n=t.connector;return(0,r.operate)(function(t,r){var i=n();(0,m.innerFrom)(e(new E.Observable(function(e){return i.subscribe(e)}))).subscribe(r),r.add(t.subscribe(i))})}},827492,e=>{"use strict";e.s(["debounceTime",()=>i]);var t=e.i(629437),n=e.i(902965),r=e.i(627608);function i(e,i){return void 0===i&&(i=t.asyncScheduler),(0,n.operate)(function(t,n){var a=null,o=null,l=null,s=function(){if(a){a.unsubscribe(),a=null;var e=o;o=null,n.next(e)}};function c(){var t=l+e,r=i.now();if(r<t){a=this.schedule(void 0,t-r),n.add(a);return}s()}t.subscribe((0,r.createOperatorSubscriber)(n,function(t){o=t,l=i.now(),a||(a=i.schedule(c,e),n.add(a))},function(){s(),n.complete()},void 0,function(){o=a=null}))})}},282893,602014,142722,960739,838473,609831,55083,569233,e=>{"use strict";e.s(["mergeMapTo",()=>r],282893);var t=e.i(484973),n=e.i(603752);function r(e,r,i){return(void 0===i&&(i=1/0),(0,n.isFunction)(r))?(0,t.mergeMap)(function(){return e},r,i):("number"==typeof r&&(i=r),(0,t.mergeMap)(function(){return e},i))}e.s(["publishReplay",()=>f],142722);var i=e.i(740144),a=e.i(290571),o=e.i(394426),l=e.i(909116);e.s(["refCount",()=>u],602014);var s=e.i(902965),c=e.i(627608);function u(){return(0,s.operate)(function(e,t){var n=null;e._refCount++;var r=(0,c.createOperatorSubscriber)(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var r=e._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var d=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,(0,s.hasLift)(t)&&(r.lift=t.lift),r}return(0,a.__extends)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new l.Subscription;var n=this.getSubject();t.add(this.source.subscribe((0,c.createOperatorSubscriber)(n,void 0,function(){e._teardown(),n.complete()},function(t){e._teardown(),n.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=l.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return u()(this)},t}(o.Observable),p=e.i(480546);function f(e,t,r,a){r&&!(0,n.isFunction)(r)&&(a=r);var o=(0,n.isFunction)(r)?r:void 0;return function(r){var l,s;return(l=new i.ReplaySubject(e,t,a),s=(0,n.isFunction)(l)?l:function(){return l},(0,n.isFunction)(o)?(0,p.connect)(o,{connector:s}):function(e){return new d(e,s)})(r)}}e.s(["withLatestFrom",()=>v],960739);var h=e.i(220324),m=e.i(979165),g=e.i(114940),y=e.i(673649);function v(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,y.popResultSelector)(e);return(0,s.operate)(function(t,r){for(var i=e.length,o=Array(i),l=e.map(function(){return!1}),s=!1,u=function(t){(0,h.innerFrom)(e[t]).subscribe((0,c.createOperatorSubscriber)(r,function(e){o[t]=e,!s&&!l[t]&&(l[t]=!0,(s=l.every(m.identity))&&(l=null))},g.noop))},d=0;d<i;d++)u(d);t.subscribe((0,c.createOperatorSubscriber)(r,function(e){if(s){var t=(0,a.__spreadArray)([e],(0,a.__read)(o));r.next(n?n.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t))):t)}}))})}e.s(["groupBy",()=>x],838473);var b=e.i(408659);function x(e,t,n,r){return(0,s.operate)(function(i,a){t&&"function"!=typeof t?(n=t.duration,l=t.element,r=t.connector):l=t;var l,s=new Map,u=function(e){s.forEach(e),e(a)},d=function(e){return u(function(t){return t.error(e)})},p=0,f=!1,m=new c.OperatorSubscriber(a,function(t){try{var i=e(t),u=s.get(i);if(!u){s.set(i,u=r?r():new b.Subject);var g,y,v,x=(g=i,y=u,(v=new o.Observable(function(e){p++;var t=y.subscribe(e);return function(){t.unsubscribe(),0==--p&&f&&m.unsubscribe()}})).key=g,v);if(a.next(x),n){var C=(0,c.createOperatorSubscriber)(u,function(){u.complete(),null==C||C.unsubscribe()},void 0,void 0,function(){return s.delete(i)});m.add((0,h.innerFrom)(n(x)).subscribe(C))}}u.next(l?l(t):t)}catch(e){d(e)}},function(){return u(function(e){return e.complete()})},d,function(){return s.clear()},function(){return f=!0,0===p});i.subscribe(m)})}e.s(["throttleTime",()=>_],55083);var C=e.i(629437);function k(e,t){return(0,s.operate)(function(n,r){var i=null!=t?t:{},a=i.leading,o=void 0===a||a,l=i.trailing,s=void 0!==l&&l,u=!1,d=null,p=null,f=!1,m=function(){null==p||p.unsubscribe(),p=null,s&&(v(),f&&r.complete())},g=function(){p=null,f&&r.complete()},y=function(t){return p=(0,h.innerFrom)(e(t)).subscribe((0,c.createOperatorSubscriber)(r,m,g))},v=function(){if(u){u=!1;var e=d;d=null,r.next(e),f||y(e)}};n.subscribe((0,c.createOperatorSubscriber)(r,function(e){u=!0,d=e,p&&!p.closed||(o?v():y(e))},function(){f=!0,s&&u&&p&&!p.closed||r.complete()}))})}e.s(["throttle",()=>k],609831);var w=e.i(817312);function _(e,t,n){void 0===t&&(t=C.asyncScheduler);var r=(0,w.timer)(e,t);return k(function(){return r},n)}e.s(["takeLast",()=>S],569233);var j=e.i(96623);function S(e){return e<=0?function(){return j.EMPTY}:(0,s.operate)(function(t,n){var r=[];t.subscribe((0,c.createOperatorSubscriber)(n,function(t){r.push(t),e<r.length&&r.shift()},function(){var e,t;try{for(var i=(0,a.__values)(r),o=i.next();!o.done;o=i.next()){var l=o.value;n.next(l)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()},void 0,function(){r=null}))})}},413025,e=>{"use strict";e.s(["throwIfEmpty",()=>i]);var t=e.i(234915),n=e.i(902965),r=e.i(627608);function i(e){return void 0===e&&(e=a),(0,n.operate)(function(t,n){var i=!1;t.subscribe((0,r.createOperatorSubscriber)(n,function(e){i=!0,n.next(e)},function(){return i?n.complete():n.error(e())}))})}function a(){return new t.EmptyError}},70682,490177,e=>{"use strict";e.s(["last",()=>l],70682);var t=e.i(234915),n=e.i(722249),r=e.i(569233),i=e.i(413025),a=e.i(453384),o=e.i(979165);function l(e,l){var s=arguments.length>=2;return function(c){return c.pipe(e?(0,n.filter)(function(t,n){return e(t,n,c)}):o.identity,(0,r.takeLast)(1),s?(0,a.defaultIfEmpty)(l):(0,i.throwIfEmpty)(function(){return new t.EmptyError}))}}e.s(["distinct",()=>p],490177);var s=e.i(902965),c=e.i(627608),u=e.i(114940),d=e.i(220324);function p(e,t){return(0,s.operate)(function(n,r){var i=new Set;n.subscribe((0,c.createOperatorSubscriber)(r,function(t){var n=e?e(t):t;i.has(n)||(i.add(n),r.next(t))})),t&&(0,d.innerFrom)(t).subscribe((0,c.createOperatorSubscriber)(r,function(){return i.clear()},u.noop))})}},156363,e=>{"use strict";e.s(["first",()=>l]);var t=e.i(234915),n=e.i(722249),r=e.i(10839),i=e.i(453384),a=e.i(413025),o=e.i(979165);function l(e,l){var s=arguments.length>=2;return function(c){return c.pipe(e?(0,n.filter)(function(t,n){return e(t,n,c)}):o.identity,(0,r.take)(1),s?(0,i.defaultIfEmpty)(l):(0,a.throwIfEmpty)(function(){return new t.EmptyError}))}}},665742,(e,t,n)=>{t.exports=function(){this.__data__=[],this.size=0}},25172,(e,t,n)=>{t.exports=function(e,t){return e===t||e!=e&&t!=t}},134314,(e,t,n)=>{var r=e.r(25172);t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},419206,(e,t,n)=>{var r=e.r(134314),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},467763,(e,t,n)=>{var r=e.r(134314);t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},523407,(e,t,n)=>{var r=e.r(134314);t.exports=function(e){return r(this.__data__,e)>-1}},553833,(e,t,n)=>{var r=e.r(134314);t.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},729039,(e,t,n)=>{var r=e.r(665742),i=e.r(419206),a=e.r(467763),o=e.r(523407),l=e.r(553833);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,t.exports=s},405400,(e,t,n)=>{var r=e.r(729039);t.exports=function(){this.__data__=new r,this.size=0}},986238,(e,t,n)=>{t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},957831,(e,t,n)=>{t.exports=function(e){return this.__data__.get(e)}},977802,(e,t,n)=>{t.exports=function(e){return this.__data__.has(e)}},771223,(e,t,n)=>{var r=e.r(377684),i=e.r(12447);t.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},853789,(e,t,n)=>{t.exports=e.r(139088)["__core-js_shared__"]},269553,(e,t,n)=>{var r=e.r(853789),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=function(e){return!!i&&i in e}},776366,(e,t,n)=>{var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},54368,(e,t,n)=>{var r=e.r(771223),i=e.r(269553),a=e.r(12447),o=e.r(776366),l=/^\[object .+?Constructor\]$/,s=Object.prototype,c=Function.prototype.toString,u=s.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:l).test(o(e))}},263958,(e,t,n)=>{t.exports=function(e,t){return null==e?void 0:e[t]}},841920,(e,t,n)=>{var r=e.r(54368),i=e.r(263958);t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},687362,(e,t,n)=>{t.exports=e.r(841920)(e.r(139088),"Map")},932760,(e,t,n)=>{t.exports=e.r(841920)(Object,"create")},150514,(e,t,n)=>{var r=e.r(932760);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},197617,(e,t,n)=>{t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},757412,(e,t,n)=>{var r=e.r(932760),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},623592,(e,t,n)=>{var r=e.r(932760),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},239004,(e,t,n)=>{var r=e.r(932760);t.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},734421,(e,t,n)=>{var r=e.r(150514),i=e.r(197617),a=e.r(757412),o=e.r(623592),l=e.r(239004);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,t.exports=s},848994,(e,t,n)=>{var r=e.r(734421),i=e.r(729039),a=e.r(687362);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},224053,(e,t,n)=>{t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},487994,(e,t,n)=>{var r=e.r(224053);t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},996768,(e,t,n)=>{var r=e.r(487994);t.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},929932,(e,t,n)=>{var r=e.r(487994);t.exports=function(e){return r(this,e).get(e)}},892647,(e,t,n)=>{var r=e.r(487994);t.exports=function(e){return r(this,e).has(e)}},446644,(e,t,n)=>{var r=e.r(487994);t.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=+(n.size!=i),this}},587547,(e,t,n)=>{var r=e.r(848994),i=e.r(996768),a=e.r(929932),o=e.r(892647),l=e.r(446644);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,t.exports=s},320517,(e,t,n)=>{var r=e.r(729039),i=e.r(687362),a=e.r(587547);t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},901551,(e,t,n)=>{var r=e.r(729039),i=e.r(405400),a=e.r(986238),o=e.r(957831),l=e.r(977802),s=e.r(320517);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=l,c.prototype.set=s,t.exports=c},221274,(e,t,n)=>{t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},439805,(e,t,n)=>{t.exports=function(e){return this.__data__.has(e)}},27493,(e,t,n)=>{var r=e.r(587547),i=e.r(221274),a=e.r(439805);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},851477,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},315262,(e,t,n)=>{t.exports=function(e,t){return e.has(t)}},206856,(e,t,n)=>{var r=e.r(27493),i=e.r(851477),a=e.r(315262);t.exports=function(e,t,n,o,l,s){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var y=e[h],v=t[h];if(o)var b=c?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!a(g,t)&&(y===e||l(y,e,n,o,s)))return g.push(t)})){m=!1;break}}else if(!(y===v||l(y,v,n,o,s))){m=!1;break}}return s.delete(e),s.delete(t),m}},263750,(e,t,n)=>{t.exports=e.r(139088).Uint8Array},75331,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},899850,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},678012,(e,t,n)=>{var r=e.r(630353),i=e.r(263750),a=e.r(25172),o=e.r(206856),l=e.r(75331),s=e.r(899850),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(e,t,n,r,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=l;case"[object Set]":var h=1&r;if(f||(f=s),e.size!=t.size&&!h)break;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=o(f(e),f(t),r,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},169102,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},45350,(e,t,n)=>{t.exports=Array.isArray},823403,(e,t,n)=>{var r=e.r(169102),i=e.r(45350);t.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},536100,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},45159,(e,t,n)=>{t.exports=function(){return[]}},717332,(e,t,n)=>{var r=e.r(536100),i=e.r(45159),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(e){return null==e?[]:r(o(e=Object(e)),function(t){return a.call(e,t)})}:i},855803,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},566645,(e,t,n)=>{var r=e.r(377684),i=e.r(877289);t.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},473250,(e,t,n)=>{var r=e.r(566645),i=e.r(877289),a=Object.prototype,o=a.hasOwnProperty,l=a.propertyIsEnumerable;t.exports=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!l.call(e,"callee")}},24013,(e,t,n)=>{t.exports=function(){return!1}},356956,(e,t,n)=>{var r=e.r(139088),i=e.r(24013),a=n&&!n.nodeType&&n,o=a&&t&&!t.nodeType&&t,l=o&&o.exports===a?r.Buffer:void 0;t.exports=(l?l.isBuffer:void 0)||i},66397,(e,t,n)=>{var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},98376,(e,t,n)=>{t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},476602,(e,t,n)=>{var r=e.r(377684),i=e.r(98376),a=e.r(877289),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},233999,(e,t,n)=>{t.exports=function(e){return function(t){return e(t)}}},180156,(e,t,n)=>{var r=e.r(100236),i=n&&!n.nodeType&&n,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i&&r.process;t.exports=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}()},3023,(e,t,n)=>{var r=e.r(476602),i=e.r(233999),a=e.r(180156),o=a&&a.isTypedArray;t.exports=o?i(o):r},458877,(e,t,n)=>{var r=e.r(855803),i=e.r(473250),a=e.r(45350),o=e.r(356956),l=e.r(66397),s=e.r(3023),c=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&s(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)(t||c.call(e,g))&&!(f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m)))&&h.push(g);return h}},763996,(e,t,n)=>{var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},825717,(e,t,n)=>{t.exports=function(e,t){return function(n){return e(t(n))}}},942369,(e,t,n)=>{t.exports=e.r(825717)(Object.keys,Object)},848477,(e,t,n)=>{var r=e.r(763996),i=e.r(942369),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},351095,(e,t,n)=>{var r=e.r(771223),i=e.r(98376);t.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},33679,(e,t,n)=>{var r=e.r(458877),i=e.r(848477),a=e.r(351095);t.exports=function(e){return a(e)?r(e):i(e)}},413370,(e,t,n)=>{var r=e.r(823403),i=e.r(717332),a=e.r(33679);t.exports=function(e){return r(e,a,i)}},330698,(e,t,n)=>{var r=e.r(413370),i=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,a,o,l){var s=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!s)return!1;for(var d=u;d--;){var p=c[d];if(!(s?p in t:i.call(t,p)))return!1}var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var m=!0;l.set(e,t),l.set(t,e);for(var g=s;++d<u;){var y=e[p=c[d]],v=t[p];if(a)var b=s?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(!(void 0===b?y===v||o(y,v,n,a,l):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,C=t.constructor;x!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof C&&C instanceof C)&&(m=!1)}return l.delete(e),l.delete(t),m}},801419,(e,t,n)=>{t.exports=e.r(841920)(e.r(139088),"DataView")},717074,(e,t,n)=>{t.exports=e.r(841920)(e.r(139088),"Promise")},106966,(e,t,n)=>{t.exports=e.r(841920)(e.r(139088),"Set")},573895,(e,t,n)=>{t.exports=e.r(841920)(e.r(139088),"WeakMap")},367426,(e,t,n)=>{var r=e.r(801419),i=e.r(687362),a=e.r(717074),o=e.r(106966),l=e.r(573895),s=e.r(377684),c=e.r(776366),u="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=c(r),g=c(i),y=c(a),v=c(o),b=c(l),x=s;(r&&x(new r(new ArrayBuffer(1)))!=h||i&&x(new i)!=u||a&&x(a.resolve())!=d||o&&x(new o)!=p||l&&x(new l)!=f)&&(x=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case g:return u;case y:return d;case v:return p;case b:return f}return t}),t.exports=x},178353,(e,t,n)=>{var r=e.r(901551),i=e.r(206856),a=e.r(678012),o=e.r(330698),l=e.r(367426),s=e.r(45350),c=e.r(356956),u=e.r(3023),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,m,g,y){var v=s(e),b=s(t),x=v?p:l(e),C=b?p:l(t);x=x==d?f:x,C=C==d?f:C;var k=x==f,w=C==f,_=x==C;if(_&&c(e)){if(!c(t))return!1;v=!0,k=!1}if(_&&!k)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):a(e,t,x,n,m,g,y);if(!(1&n)){var j=k&&h.call(e,"__wrapped__"),S=w&&h.call(t,"__wrapped__");if(j||S){var E=j?e.value():e,T=S?t.value():t;return y||(y=new r),g(E,T,n,m,y)}}return!!_&&(y||(y=new r),o(e,t,n,m,g,y))}},421885,(e,t,n)=>{var r=e.r(178353),i=e.r(877289);t.exports=function e(t,n,a,o,l){return t===n||(null!=t&&null!=n&&(i(t)||i(n))?r(t,n,a,o,e,l):t!=t&&n!=n)}},898892,(e,t,n)=>{var r=e.r(421885);t.exports=function(e,t){return r(e,t)}},657588,(e,t,n)=>{var r=e.r(587547);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},676775,(e,t,n)=>{function r(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}t.exports=function(e,t){t=t||{};var n,i,a,o,l=typeof e;if("string"===l&&e.length>0){var s=e;if(!((s=String(s)).length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(c){var u=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*u;case"weeks":case"week":case"w":return 6048e5*u;case"days":case"day":case"d":return 864e5*u;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*u;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*u;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:break}}}return}if("number"===l&&isFinite(e)){return t.long?(i=Math.abs(n=e))>=864e5?r(n,i,864e5,"day"):i>=36e5?r(n,i,36e5,"hour"):i>=6e4?r(n,i,6e4,"minute"):i>=1e3?r(n,i,1e3,"second"):n+" ms":(o=Math.abs(a=e))>=864e5?Math.round(a/864e5)+"d":o>=36e5?Math.round(a/36e5)+"h":o>=6e4?Math.round(a/6e4)+"m":o>=1e3?Math.round(a/1e3)+"s":a+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},707003,(e,t,n)=>{t.exports=function(t){function n(e){let t,i,a,o=null;function l(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!l.enabled)return;let a=Number(new Date);l.diff=a-(t||a),l.prev=t,l.curr=a,t=a,r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");let o=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";o++;let i=n.formatters[t];if("function"==typeof i){let t=r[o];e=i.call(l,t),r.splice(o,1),o--}return e}),n.formatArgs.call(l,r),(l.log||n.log).apply(l,r)}return l.namespace=e,l.useColors=n.useColors(),l.color=n.selectColor(e),l.extend=r,l.destroy=n.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==n.namespaces&&(i=n.namespaces,a=n.enabled(e)),a),set:e=>{o=e}}),"function"==typeof n.init&&n.init(l),l}function r(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,a=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,a=n):n++,r++;else{if(-1===i)return!1;r=i+1,n=++a}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){let e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){for(let t of(n.save(e),n.namespaces=e,n.names=[],n.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===t[0]?n.skips.push(t.slice(1)):n.names.push(t)},n.enabled=function(e){for(let t of n.skips)if(i(e,t))return!1;for(let t of n.names)if(i(e,t))return!0;return!1},n.humanize=e.r(676775),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{n[e]=t[e]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}},148450,(e,t,n)=>{var r=e.i(247167);n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=function(){let e;try{e=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch(e){}return!e&&void 0!==r.default&&"env"in r.default&&(e=r.default.env.DEBUG),e},n.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),t.exports=e.r(707003)(n);let{formatters:i}=t.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},992427,(e,t,n)=>{t.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},231081,(e,t,n)=>{t.exports=function(e){return function(t){return null==e?void 0:e[t]}}},968252,(e,t,n)=>{t.exports=e.r(231081)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"})},892708,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},372537,(e,t,n)=>{var r=e.r(630353),i=e.r(892708),a=e.r(45350),o=e.r(361884),l=1/0,s=r?r.prototype:void 0,c=s?s.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-l?"-0":n}},702922,(e,t,n)=>{var r=e.r(372537);t.exports=function(e){return null==e?"":r(e)}},573086,(e,t,n)=>{var r=e.r(968252),i=e.r(702922),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},540253,(e,t,n)=>{var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(e){return e.match(r)||[]}},174828,(e,t,n)=>{var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(e){return r.test(e)}},81144,(e,t,n)=>{var r="\ud800-\udfff",i="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="['’]",c="["+l+"]",u="["+a+"]",d="[^"+r+l+"\\d+"+i+a+o+"]",p="(?:\ud83c[\udde6-\uddff]){2}",f="[\ud800-\udbff][\udc00-\udfff]",h="["+o+"]",m="(?:"+u+"|"+d+")",g="(?:"+h+"|"+d+")",y="(?:"+s+"(?:d|ll|m|re|s|t|ve))?",v="(?:"+s+"(?:D|LL|M|RE|S|T|VE))?",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",x="[\\ufe0e\\ufe0f]?",C="(?:\\u200d(?:"+["[^"+r+"]",p,f].join("|")+")"+x+b+")*",k="(?:"+["["+i+"]",p,f].join("|")+")"+(x+b+C),w=RegExp([h+"?"+u+"+"+y+"(?="+[c,h,"$"].join("|")+")",g+"+"+v+"(?="+[c,h+m,"$"].join("|")+")",h+"?"+m+"+"+y,h+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",k].join("|"),"g");t.exports=function(e){return e.match(w)||[]}},129548,(e,t,n)=>{var r=e.r(540253),i=e.r(174828),a=e.r(702922),o=e.r(81144);t.exports=function(e,t,n){return(e=a(e),void 0===(t=n?void 0:t))?i(e)?o(e):r(e):e.match(t)||[]}},876168,(e,t,n)=>{var r=e.r(992427),i=e.r(573086),a=e.r(129548),o=RegExp("['’]","g");t.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},795014,(e,t,n)=>{t.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},284357,(e,t,n)=>{var r=e.r(795014);t.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},979589,(e,t,n)=>{var r=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(e){return r.test(e)}},758672,(e,t,n)=>{t.exports=function(e){return e.split("")}},695365,(e,t,n)=>{var r="\ud800-\udfff",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\ud83c[\udffb-\udfff]",o="[^"+r+"]",l="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",c="(?:"+i+"|"+a+")?",u="[\\ufe0e\\ufe0f]?",d="(?:\\u200d(?:"+[o,l,s].join("|")+")"+u+c+")*",p=RegExp(a+"(?="+a+")|"+("(?:"+[o+i+"?",i,l,s,"["+r+"]"].join("|"))+")"+(u+c+d),"g");t.exports=function(e){return e.match(p)||[]}},34170,(e,t,n)=>{var r=e.r(758672),i=e.r(979589),a=e.r(695365);t.exports=function(e){return i(e)?a(e):r(e)}},229821,(e,t,n)=>{var r=e.r(284357),i=e.r(979589),a=e.r(34170),o=e.r(702922);t.exports=function(e){return function(t){var n=i(t=o(t))?a(t):void 0,l=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return l[e]()+s}}},232241,(e,t,n)=>{t.exports=e.r(229821)("toUpperCase")},797341,(e,t,n)=>{var r=e.r(876168),i=e.r(232241);t.exports=r(function(e,t,n){return e+(n?" ":"")+i(t)})},385658,(e,t,n)=>{var r=e.r(702922),i=0;t.exports=function(e){var t=++i;return r(e)+t}},733803,(e,t,n)=>{var r=e.r(630353),i=e.r(473250),a=e.r(45350),o=r?r.isConcatSpreadable:void 0;t.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},541891,(e,t,n)=>{var r=e.r(169102),i=e.r(733803);t.exports=function e(t,n,a,o,l){var s=-1,c=t.length;for(a||(a=i),l||(l=[]);++s<c;){var u=t[s];n>0&&a(u)?n>1?e(u,n-1,a,o,l):r(l,u):o||(l[l.length]=u)}return l}},272810,(e,t,n)=>{var r=e.r(541891);t.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},4879,(e,t,n)=>{t.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},287215,(e,t,n)=>{"use strict";var r,i=e.i(247167),a=function(){function e(e,t){var n;if("function"!=typeof e)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return o;if("function"!=typeof t)throw TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter(function(e){return t&&"function"!=typeof t[e]});if(0!==n.length)throw TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null,this.name=(n=t)&&n.name?n.name:null}var t=e.prototype;return t.load=function(e){if(null==e)throw TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t,n=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){!function(e,t){var n;if(t.hasDispatched=!0,0===t.keys.length)return s(t);try{n=e._batchLoadFn(t.keys)}catch(n){return l(e,t,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(n)+"."))}if(!n||"function"!=typeof n.then)return l(e,t,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then(function(e){if(!c(e))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));s(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}}).catch(function(n){l(e,t,n)})}(e,n)}),n}(this),r=this._cacheMap;if(r){t=this._cacheKeyFn(e);var i=r.get(t);if(i){var a=n.cacheHits||(n.cacheHits=[]);return new Promise(function(e){a.push(function(){e(i)})})}}n.keys.push(e);var o=new Promise(function(e,t){n.callbacks.push({resolve:e,reject:t})});return r&&r.set(t,o),o},t.loadMany=function(e){if(!c(e))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch(function(e){return e}));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(e);void 0===n.get(i)&&(t instanceof Error?(r=Promise.reject(t)).catch(function(){}):r=Promise.resolve(t),n.set(i,r))}return this},e}(),o="object"==typeof i.default&&"function"==typeof i.default.nextTick?function(e){r||(r=Promise.resolve()),r.then(function(){i.default.nextTick(e)})}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function l(e,t,n){s(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function s(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function c(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}t.exports=a},73167,(e,t,n)=>{"use strict";function r(e){return e}Object.defineProperty(n,"__esModule",{value:!0}),n.make=n.identity=void 0,n.identity=r,n.make=function(e){return e?function(t){return e(t),t}:r}},564254,(e,t,n)=>{t.exports=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}},536755,(e,t,n)=>{t.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),l=o.length;l--;){var s=o[e?l:++i];if(!1===n(a[s],s,a))break}return t}}},98728,(e,t,n)=>{t.exports=e.r(536755)()},163799,(e,t,n)=>{var r=e.r(98728),i=e.r(33679);t.exports=function(e,t){return e&&r(e,t,i)}},873554,(e,t,n)=>{var r=e.r(351095);t.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,l=Object(n);(t?o--:++o<a)&&!1!==i(l[o],o,l););return n}}},453587,(e,t,n)=>{var r=e.r(163799);t.exports=e.r(873554)(r)},105143,(e,t,n)=>{var r=e.r(453587);t.exports=function(e,t,n,i){return r(e,function(e,r,a){t(i,e,n(e),a)}),i}},748299,(e,t,n)=>{var r=e.r(901551),i=e.r(421885);t.exports=function(e,t,n,a){var o=n.length,l=o,s=!a;if(null==e)return!l;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<l;){var u=(c=n[o])[0],d=e[u],p=c[1];if(s&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(a)var h=a(d,p,u,e,t,f);if(!(void 0===h?i(p,d,3,a,f):h))return!1}}return!0}},715782,(e,t,n)=>{var r=e.r(12447);t.exports=function(e){return e==e&&!r(e)}},741903,(e,t,n)=>{var r=e.r(715782),i=e.r(33679);t.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},165570,(e,t,n)=>{t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},623426,(e,t,n)=>{var r=e.r(748299),i=e.r(741903),a=e.r(165570);t.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9903,(e,t,n)=>{var r=e.r(45350),i=e.r(361884),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||i(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},688832,(e,t,n)=>{var r=e.r(657588);t.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},902677,(e,t,n)=>{var r=e.r(688832),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;t.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t})},186287,(e,t,n)=>{var r=e.r(45350),i=e.r(9903),a=e.r(902677),o=e.r(702922);t.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},2054,(e,t,n)=>{var r=e.r(361884),i=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},333141,(e,t,n)=>{var r=e.r(186287),i=e.r(2054);t.exports=function(e,t){t=r(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},482820,(e,t,n)=>{var r=e.r(333141);t.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},240688,(e,t,n)=>{t.exports=function(e,t){return null!=e&&t in Object(e)}},215359,(e,t,n)=>{var r=e.r(186287),i=e.r(473250),a=e.r(45350),o=e.r(66397),l=e.r(98376),s=e.r(2054);t.exports=function(e,t,n){t=r(t,e);for(var c=-1,u=t.length,d=!1;++c<u;){var p=s(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&l(u)&&o(p,u)&&(a(e)||i(e))}},602816,(e,t,n)=>{var r=e.r(240688),i=e.r(215359);t.exports=function(e,t){return null!=e&&i(e,t,r)}},772298,(e,t,n)=>{var r=e.r(421885),i=e.r(482820),a=e.r(602816),o=e.r(9903),l=e.r(715782),s=e.r(165570),c=e.r(2054);t.exports=function(e,t){return o(e)&&l(t)?s(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},653336,(e,t,n)=>{t.exports=function(e){return e}},601079,(e,t,n)=>{t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},430970,(e,t,n)=>{var r=e.r(333141);t.exports=function(e){return function(t){return r(t,e)}}},433906,(e,t,n)=>{var r=e.r(601079),i=e.r(430970),a=e.r(9903),o=e.r(2054);t.exports=function(e){return a(e)?r(o(e)):i(e)}},666305,(e,t,n)=>{var r=e.r(623426),i=e.r(772298),a=e.r(653336),o=e.r(45350),l=e.r(433906);t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):l(e)}},895261,(e,t,n)=>{var r=e.r(564254),i=e.r(105143),a=e.r(666305),o=e.r(45350);t.exports=function(e,t){return function(n,l){var s=o(n)?r:i,c=t?t():{};return s(n,e,a(l,2),c)}}},668957,(e,t,n)=>{t.exports=e.r(895261)(function(e,t,n){e[+!n].push(t)},function(){return[[],[]]})},356445,(e,t,n)=>{t.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1}},104078,(e,t,n)=>{t.exports=function(e){return e!=e}},201987,(e,t,n)=>{t.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}},649719,(e,t,n)=>{var r=e.r(356445),i=e.r(104078),a=e.r(201987);t.exports=function(e,t,n){return t==t?a(e,t,n):r(e,i,n)}},146515,(e,t,n)=>{var r=e.r(649719);t.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},829584,(e,t,n)=>{t.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},504688,(e,t,n)=>{var r=e.r(27493),i=e.r(146515),a=e.r(829584),o=e.r(892708),l=e.r(233999),s=e.r(315262);t.exports=function(e,t,n,c){var u=-1,d=i,p=!0,f=e.length,h=[],m=t.length;if(!f)return h;n&&(t=o(t,l(n))),c?(d=a,p=!1):t.length>=200&&(d=s,p=!1,t=new r(t));i:for(;++u<f;){var g=e[u],y=null==n?g:n(g);if(g=c||0!==g?g:0,p&&y==y){for(var v=m;v--;)if(t[v]===y)continue i;h.push(g)}else d(t,y,c)||h.push(g)}return h}},987160,(e,t,n)=>{t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},172953,(e,t,n)=>{var r=e.r(987160),i=Math.max;t.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,l=i(a.length-t,0),s=Array(l);++o<l;)s[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(s),r(e,this,c)}}},556751,(e,t,n)=>{t.exports=function(e){return function(){return e}}},524251,(e,t,n)=>{var r=e.r(841920);t.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},801647,(e,t,n)=>{var r=e.r(556751),i=e.r(524251),a=e.r(653336);t.exports=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a},851994,(e,t,n)=>{var r=Date.now;t.exports=function(e){var t=0,n=0;return function(){var i=r(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},184665,(e,t,n)=>{var r=e.r(801647);t.exports=e.r(851994)(r)},395059,(e,t,n)=>{var r=e.r(653336),i=e.r(172953),a=e.r(184665);t.exports=function(e,t){return a(i(e,t,r),e+"")}},791072,(e,t,n)=>{var r=e.r(351095),i=e.r(877289);t.exports=function(e){return i(e)&&r(e)}},633731,(e,t,n)=>{var r=e.r(504688),i=e.r(541891),a=e.r(395059),o=e.r(791072);t.exports=a(function(e,t){return o(e)?r(e,i(t,1,o,!0)):[]})},532739,(e,t,n)=>{var r=e.r(27493),i=e.r(146515),a=e.r(829584),o=e.r(892708),l=e.r(233999),s=e.r(315262),c=Math.min;t.exports=function(e,t,n){for(var u=n?a:i,d=e[0].length,p=e.length,f=p,h=Array(p),m=1/0,g=[];f--;){var y=e[f];f&&t&&(y=o(y,l(t))),m=c(y.length,m),h[f]=!n&&(t||d>=120&&y.length>=120)?new r(f&&y):void 0}y=e[0];var v=-1,b=h[0];i:for(;++v<d&&g.length<m;){var x=y[v],C=t?t(x):x;if(x=n||0!==x?x:0,!(b?s(b,C):u(g,C,n))){for(f=p;--f;){var k=h[f];if(!(k?s(k,C):u(e[f],C,n)))continue i}b&&b.push(C),g.push(x)}}return g}},169242,(e,t,n)=>{var r=e.r(791072);t.exports=function(e){return r(e)?e:[]}},565816,(e,t,n)=>{var r=e.r(892708),i=e.r(532739),a=e.r(395059),o=e.r(169242);t.exports=a(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?i(t):[]})},962413,(e,t,n)=>{t.exports=e.r(825717)(Object.getPrototypeOf,Object)},101320,(e,t,n)=>{var r=e.r(377684),i=e.r(962413),a=e.r(877289),o=Object.prototype,l=Function.prototype.toString,s=o.hasOwnProperty,c=l.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},674548,(e,t,n)=>{var r=e.r(524251);t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},4300,(e,t,n)=>{var r=e.r(674548),i=e.r(25172),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},942173,(e,t,n)=>{var r=e.r(4300),i=e.r(186287),a=e.r(66397),o=e.r(12447),l=e.r(2054);t.exports=function(e,t,n,s){if(!o(e))return e;t=i(t,e);for(var c=-1,u=t.length,d=u-1,p=e;null!=p&&++c<u;){var f=l(t[c]),h=n;if("__proto__"===f||"constructor"===f||"prototype"===f)break;if(c!=d){var m=p[f];void 0===(h=s?s(m,f,p):void 0)&&(h=o(m)?m:a(t[c+1])?[]:{})}r(p,f,h),p=p[f]}return e}},181829,(e,t,n)=>{var r=e.r(333141),i=e.r(942173),a=e.r(186287);t.exports=function(e,t,n){for(var o=-1,l=t.length,s={};++o<l;){var c=t[o],u=r(e,c);n(u,c)&&i(s,a(c,e),u)}return s}},513879,(e,t,n)=>{var r=e.r(181829),i=e.r(602816);t.exports=function(e,t){return r(e,t,function(t,n){return i(e,n)})}},6227,(e,t,n)=>{var r=e.r(272810),i=e.r(172953),a=e.r(184665);t.exports=function(e){return a(i(e,void 0,r),e+"")}},480210,(e,t,n)=>{var r=e.r(513879);t.exports=e.r(6227)(function(e,t){return null==e?{}:r(e,t)})},348433,(e,t,n)=>{t.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}},159409,(e,t,n)=>{var r=e.r(892708);t.exports=function(e,t){return r(t,function(t){return[t,e[t]]})}},493948,(e,t,n)=>{t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}},403962,(e,t,n)=>{var r=e.r(159409),i=e.r(367426),a=e.r(75331),o=e.r(493948);t.exports=function(e){return function(t){var n=i(t);return"[object Map]"==n?a(t):"[object Set]"==n?o(t):r(t,e(t))}}},147956,(e,t,n)=>{t.exports=e.r(403962)(e.r(33679))},385845,(e,t,n)=>{var r=e.r(377684),i=e.r(45350),a=e.r(877289);t.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},907073,(e,t,n)=>{var r=e.r(453587),i=e.r(351095);t.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,function(e,r,i){a[++n]=t(e,r,i)}),a}},783629,(e,t,n)=>{t.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},104886,(e,t,n)=>{var r=e.r(361884);t.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e==e,o=r(e),l=void 0!==t,s=null===t,c=t==t,u=r(t);if(!s&&!u&&!o&&e>t||o&&l&&c&&!s&&!u||i&&l&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||s&&n&&a||!l&&a||!c)return -1}return 0}},758322,(e,t,n)=>{var r=e.r(104886);t.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,l=a.length,s=n.length;++i<l;){var c=r(a[i],o[i]);if(c){if(i>=s)return c;return c*("desc"==n[i]?-1:1)}}return e.index-t.index}},428138,(e,t,n)=>{var r=e.r(892708),i=e.r(333141),a=e.r(666305),o=e.r(907073),l=e.r(783629),s=e.r(233999),c=e.r(758322),u=e.r(653336),d=e.r(45350);t.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var p=-1;return t=r(t,s(a)),l(o(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++p,value:e}}),function(e,t){return c(e,t,n)})}},170237,(e,t,n)=>{var r=e.r(25172),i=e.r(351095),a=e.r(66397),o=e.r(12447);t.exports=function(e,t,n){if(!o(n))return!1;var l=typeof t;return("number"==l?!!(i(n)&&a(t,n.length)):"string"==l&&t in n)&&r(n[t],e)}},831195,(e,t,n)=>{var r=e.r(541891),i=e.r(428138),a=e.r(395059),o=e.r(170237);t.exports=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])})},591692,(e,t,n)=>{t.exports=function(){}},208484,(e,t,n)=>{var r=e.r(106966),i=e.r(591692),a=e.r(899850);t.exports=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i},910339,(e,t,n)=>{var r=e.r(27493),i=e.r(146515),a=e.r(829584),o=e.r(315262),l=e.r(208484),s=e.r(899850);t.exports=function(e,t,n){var c=-1,u=i,d=e.length,p=!0,f=[],h=f;if(n)p=!1,u=a;else if(d>=200){var m=t?null:l(e);if(m)return s(m);p=!1,u=o,h=new r}else h=t?[]:f;i:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var v=h.length;v--;)if(h[v]===y)continue i;t&&h.push(y),f.push(g)}else u(h,y,n)||(h!==f&&h.push(y),f.push(g))}return f}},774010,(e,t,n)=>{var r=e.r(666305),i=e.r(910339);t.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},576955,(e,t,n)=>{var r=e.r(674548),i=e.r(895261),a=Object.prototype.hasOwnProperty;t.exports=i(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])})},533940,(e,t,n)=>{var r=e.r(428138),i=e.r(45350);t.exports=function(e,t,n,a){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=a?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},343794,(e,t,n)=>{!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=i(t,a));return t}(a)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}if(t.exports)r.default=r,t.exports=r;else if("function"==typeof define&&"object"==typeof define.amd&&define.amd)void 0!==r&&e.v(r);else window.classNames=r}()},212895,(e,t,n)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},372351,(e,t,n)=>{var r=e.r(4300),i=e.r(674548);t.exports=function(e,t,n,a){var o=!n;n||(n={});for(var l=-1,s=t.length;++l<s;){var c=t[l],u=a?a(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?i(n,c,u):r(n,c,u)}return n}},860196,(e,t,n)=>{var r=e.r(372351),i=e.r(33679);t.exports=function(e,t){return e&&r(t,i(t),e)}},513730,(e,t,n)=>{t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},385689,(e,t,n)=>{var r=e.r(12447),i=e.r(763996),a=e.r(513730),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var l in e)"constructor"==l&&(t||!o.call(e,l))||n.push(l);return n}},689695,(e,t,n)=>{var r=e.r(458877),i=e.r(385689),a=e.r(351095);t.exports=function(e){return a(e)?r(e,!0):i(e)}},52624,(e,t,n)=>{var r=e.r(372351),i=e.r(689695);t.exports=function(e,t){return e&&r(t,i(t),e)}},622781,(e,t,n)=>{var r=e.r(139088),i=n&&!n.nodeType&&n,a=i&&t&&!t.nodeType&&t,o=a&&a.exports===i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}},776736,(e,t,n)=>{t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},174071,(e,t,n)=>{var r=e.r(372351),i=e.r(717332);t.exports=function(e,t){return r(e,i(e),t)}},233648,(e,t,n)=>{var r=e.r(169102),i=e.r(962413),a=e.r(717332),o=e.r(45159);t.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o},345001,(e,t,n)=>{var r=e.r(372351),i=e.r(233648);t.exports=function(e,t){return r(e,i(e),t)}},807889,(e,t,n)=>{var r=e.r(823403),i=e.r(233648),a=e.r(689695);t.exports=function(e){return r(e,a,i)}},153265,(e,t,n)=>{var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},425393,(e,t,n)=>{var r=e.r(263750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},664146,(e,t,n)=>{var r=e.r(425393);t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},984046,(e,t,n)=>{var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},298430,(e,t,n)=>{var r=e.r(630353),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;t.exports=function(e){return a?Object(a.call(e)):{}}},514712,(e,t,n)=>{var r=e.r(425393);t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},749769,(e,t,n)=>{var r=e.r(425393),i=e.r(664146),a=e.r(984046),o=e.r(298430),l=e.r(514712);t.exports=function(e,t,n){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},646352,(e,t,n)=>{var r=e.r(12447),i=Object.create;t.exports=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}()},992433,(e,t,n)=>{var r=e.r(646352),i=e.r(962413),a=e.r(763996);t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},181198,(e,t,n)=>{var r=e.r(367426),i=e.r(877289);t.exports=function(e){return i(e)&&"[object Map]"==r(e)}},954284,(e,t,n)=>{var r=e.r(181198),i=e.r(233999),a=e.r(180156),o=a&&a.isMap;t.exports=o?i(o):r},936206,(e,t,n)=>{var r=e.r(367426),i=e.r(877289);t.exports=function(e){return i(e)&&"[object Set]"==r(e)}},240158,(e,t,n)=>{var r=e.r(936206),i=e.r(233999),a=e.r(180156),o=a&&a.isSet;t.exports=o?i(o):r},64324,(e,t,n)=>{var r=e.r(901551),i=e.r(212895),a=e.r(4300),o=e.r(860196),l=e.r(52624),s=e.r(622781),c=e.r(776736),u=e.r(174071),d=e.r(345001),p=e.r(413370),f=e.r(807889),h=e.r(367426),m=e.r(153265),g=e.r(749769),y=e.r(992433),v=e.r(45350),b=e.r(356956),x=e.r(954284),C=e.r(12447),k=e.r(240158),w=e.r(33679),_=e.r(689695),j="[object Arguments]",S="[object Function]",E="[object Object]",T={};T[j]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[E]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[S]=T["[object WeakMap]"]=!1,t.exports=function e(t,n,D,I,A,O){var P,M=1&n,F=2&n,R=4&n;if(D&&(P=A?D(t,I,A,O):D(t)),void 0!==P)return P;if(!C(t))return t;var B=v(t);if(B){if(P=m(t),!M)return c(t,P)}else{var N=h(t),L=N==S||"[object GeneratorFunction]"==N;if(b(t))return s(t,M);if(N==E||N==j||L&&!A){if(P=F||L?{}:y(t),!M)return F?d(t,l(P,t)):u(t,o(P,t))}else{if(!T[N])return A?t:{};P=g(t,N,M)}}O||(O=new r);var z=O.get(t);if(z)return z;O.set(t,P),k(t)?t.forEach(function(r){P.add(e(r,n,D,r,t,O))}):x(t)&&t.forEach(function(r,i){P.set(i,e(r,n,D,i,t,O))});var V=R?F?f:p:F?_:w,U=B?void 0:V(t);return i(U||t,function(r,i){U&&(r=t[i=r]),a(P,i,e(r,n,D,i,t,O))}),P}},534888,(e,t,n)=>{var r=e.r(333141),i=e.r(795014);t.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},785834,(e,t,n)=>{var r=e.r(186287),i=e.r(4879),a=e.r(534888),o=e.r(2054);t.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},979083,(e,t,n)=>{var r=e.r(101320);t.exports=function(e){return r(e)?void 0:e}},835870,(e,t,n)=>{var r=e.r(892708),i=e.r(64324),a=e.r(785834),o=e.r(186287),l=e.r(372351),s=e.r(979083),c=e.r(6227),u=e.r(807889);t.exports=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=o(t,e),c||(c=t.length>1),t}),l(e,u(e),n),c&&(n=i(n,7,s));for(var d=t.length;d--;)a(n,t[d]);return n})},848513,(e,t,n)=>{"use strict";t.exports=e=>null==e?[]:Array.isArray(e)?e:"string"==typeof e?[e]:"function"==typeof e[Symbol.iterator]?[...e]:[e]},479393,(e,t,n)=>{t.exports=function(e){return void 0===e}},972745,(e,t,n)=>{t.exports=function(e){if("function"!=typeof e)throw TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},584262,(e,t,n)=>{var r=e.r(892708),i=e.r(666305),a=e.r(181829),o=e.r(807889);t.exports=function(e,t){if(null==e)return{};var n=r(o(e),function(e){return[e]});return t=i(t),a(e,n,function(e,n){return t(e,n[0])})}},468212,(e,t,n)=>{var r=e.r(666305),i=e.r(972745),a=e.r(584262);t.exports=function(e,t){return a(e,i(r(t)))}},220250,(e,t,n)=>{var r=e.r(702922),i=e.r(232241);t.exports=function(e){return i(r(e).toLowerCase())}},842519,(e,t,n)=>{var r=e.r(139088).isFinite;t.exports=function(e){return"number"==typeof e&&r(e)}},562407,(e,t,n)=>{var r=e.r(45350);t.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},710632,(e,t,n)=>{var r=e.r(892708),i=e.r(666305),a=e.r(907073),o=e.r(45350);t.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},633303,(e,t,n)=>{var r=e.r(541891),i=e.r(710632);t.exports=function(e,t){return r(i(e,t),1)}},357863,(e,t,n)=>{var r=e.r(892708),i=e.r(776736),a=e.r(45350),o=e.r(361884),l=e.r(902677),s=e.r(2054),c=e.r(702922);t.exports=function(e){return a(e)?r(e,s):o(e)?[e]:i(l(c(e)))}},271944,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,5)}},909817,(e,t,n)=>{var r=e.r(910339);t.exports=function(e){return e&&e.length?r(e):[]}},311354,(e,t,n)=>{"use strict";t.exports=function(e,t){if(!Array.isArray(e))throw TypeError("humanize-list expected an array");(t=t||{}).conjunction=t.conjunction||"and";var n=e.length;if(1===n)return e[0];if(t.skipConjunction)return e.join(", ");for(var r="",i=0;i<n;i++)i===n-1?(t.oxfordComma&&(r+=","),r+=" "+t.conjunction+" "):0!==i&&(r+=", "),r+=e[i];return r}},724031,(e,t,n)=>{"use strict";let r=[],i=[],a=(e,t)=>{let n,a,o,l;if(e===t)return 0;let s=e;e.length>t.length&&(e=t,t=s);let c=e.length,u=t.length;for(;c>0&&e.charCodeAt(~-c)===t.charCodeAt(~-u);)c--,u--;let d=0;for(;d<c&&e.charCodeAt(d)===t.charCodeAt(d);)d++;if(c-=d,u-=d,0===c)return u;let p=0,f=0;for(;p<c;)i[p]=e.charCodeAt(d+p),r[p]=++p;for(;f<u;)for(p=0,n=t.charCodeAt(d+f),o=f++,a=f;p<c;p++)l=n===i[p]?o:o+1,o=r[p],a=r[p]=o>a?l>a?a+1:l:l>o?o+1:l;return a};t.exports=a,t.exports.default=a},52493,(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&i&&"function"==typeof i.get?i.get:null,o=r&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&s&&"function"==typeof s.get?s.get:null,u=l&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,x=String.prototype.toUpperCase,C=String.prototype.toLowerCase,k=RegExp.prototype.test,w=Array.prototype.concat,_=Array.prototype.join,j=Array.prototype.slice,S=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I?"object":"symbol")?Symbol.toStringTag:null,O=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||k.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-S(-e):S(e);if(r!==e){var i=String(r),a=v.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var F={},R=F.custom,B=q(R)?R:null,N={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function z(e,t,n){var r=N[n.quoteStyle||t];return r+e+r}function V(e){return!A||!("object"==typeof e&&(A in e||void 0!==e[A]))}function U(e){return"[object Array]"===K(e)&&V(e)}function H(e){return"[object RegExp]"===K(e)&&V(e)}function q(e){if(I)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!D)return!1;try{return D.call(e),!0}catch(e){}return!1}t.exports=function t(n,r,i,l){var s,m,x,k,S,T=r||{};if(Y(T,"quoteStyle")&&!Y(N,T.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(Y(T,"maxStringLength")&&("number"==typeof T.maxStringLength?T.maxStringLength<0&&T.maxStringLength!==1/0:null!==T.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var R=!Y(T,"customInspect")||T.customInspect;if("boolean"!=typeof R&&"symbol"!==R)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Y(T,"indent")&&null!==T.indent&&"	"!==T.indent&&!(parseInt(T.indent,10)===T.indent&&T.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Y(T,"numericSeparator")&&"boolean"!=typeof T.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var W=T.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength;return e(v.call(t,0,n.maxStringLength),n)+("... "+r)+" more character"+(r>1?"s":"")}var i=L[n.quoteStyle||"single"];return i.lastIndex=0,z(b.call(b.call(t,i,"\\$1"),/[\x00-\x1f]/g,$),"single",n)}(n,T);if("number"==typeof n){if(0===n)return 1/0/n>0?"0":"-0";var et=String(n);return W?M(n,et):et}if("bigint"==typeof n){var en=String(n)+"n";return W?M(n,en):en}var er=void 0===T.depth?5:T.depth;if(void 0===i&&(i=0),i>=er&&er>0&&"object"==typeof n)return U(n)?"[Array]":"[Object]";var ei=function(e,t){var n;if("	"===e.indent)n="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;n=_.call(Array(e.indent+1)," ")}return{base:n,prev:_.call(Array(t+1),n)}}(T,i);if(void 0===l)l=[];else if(G(l,n)>=0)return"[Circular]";function ea(e,n,r){if(n&&(l=j.call(l)).push(n),r){var a={depth:T.depth};return Y(T,"quoteStyle")&&(a.quoteStyle=T.quoteStyle),t(e,a,i+1,l)}return t(e,T,i+1,l)}if("function"==typeof n&&!H(n)){var eo=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(n),el=ee(n,ea);return"[Function"+(eo?": "+eo:" (anonymous)")+"]"+(el.length>0?" { "+_.call(el,", ")+" }":"")}if(q(n)){var es=I?b.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(n);return"object"!=typeof n||I?es:Z(es)}if((ec=n)&&"object"==typeof ec&&("undefined"!=typeof HTMLElement&&ec instanceof HTMLElement||"string"==typeof ec.nodeName&&"function"==typeof ec.getAttribute)){for(var ec,eu,ed="<"+C.call(String(n.nodeName)),ep=n.attributes||[],ef=0;ef<ep.length;ef++){ed+=" "+ep[ef].name+"="+z((eu=ep[ef].value,b.call(String(eu),/"/g,"&quot;")),"double",T)}return ed+=">",n.childNodes&&n.childNodes.length&&(ed+="..."),ed+="</"+C.call(String(n.nodeName))+">"}if(U(n)){if(0===n.length)return"[]";var eh=ee(n,ea);return ei&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(eh)?"["+Q(eh,ei)+"]":"[ "+_.call(eh,", ")+" ]"}if("[object Error]"===K(s=n)&&V(s)){var em=ee(n,ea);return"cause"in Error.prototype||!("cause"in n)||O.call(n,"cause")?0===em.length?"["+String(n)+"]":"{ ["+String(n)+"] "+_.call(em,", ")+" }":"{ ["+String(n)+"] "+_.call(w.call("[cause]: "+ea(n.cause),em),", ")+" }"}if("object"==typeof n&&R){if(B&&"function"==typeof n[B]&&F)return F(n,{depth:er-i});else if("symbol"!==R&&"function"==typeof n.inspect)return n.inspect()}if(function(e){if(!a||!e||"object"!=typeof e)return!1;try{a.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(n)){var eg=[];return o&&o.call(n,function(e,t){eg.push(ea(t,n,!0)+" => "+ea(e,n))}),J("Map",a.call(n),eg,ei)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(n)){var ey=[];return u&&u.call(n,function(e){ey.push(ea(e,n))}),J("Set",c.call(n),ey,ei)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(n))return X("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(n))return X("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(n))return X("WeakRef");if("[object Number]"===K(m=n)&&V(m))return Z(ea(Number(n)));if(function(e){if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}(n))return Z(ea(E.call(n)));if("[object Boolean]"===K(x=n)&&V(x))return Z(h.call(n));if("[object String]"===K(k=n)&&V(k))return Z(ea(String(n)));if("undefined"!=typeof window&&n===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&n===globalThis||n===e.g)return"{ [object globalThis] }";if(!("[object Date]"===K(S=n)&&V(S))&&!H(n)){var ev=ee(n,ea),eb=P?P(n)===Object.prototype:n instanceof Object||n.constructor===Object,ex=n instanceof Object?"":"null prototype",eC=!eb&&A&&Object(n)===n&&A in n?v.call(K(n),8,-1):ex?"Object":"",ek=(eb||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(eC||ex?"["+_.call(w.call([],eC||[],ex||[]),": ")+"] ":"");return 0===ev.length?ek+"{}":ei?ek+"{"+Q(ev,ei)+"}":ek+"{ "+_.call(ev,", ")+" }"}return String(n)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function Y(e,t){return W.call(e,t)}function K(e){return m.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1}function $(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function Z(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function J(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):_.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+_.call(e,","+n)+"\n"+t.prev}function ee(e,t){var n,r=U(e),i=[];if(r){i.length=e.length;for(var a=0;a<e.length;a++)i[a]=Y(e,a)?t(e[a],e):""}var o="function"==typeof T?T(e):[];if(I){n={};for(var l=0;l<o.length;l++)n["$"+o[l]]=o[l]}for(var s in e)if(Y(e,s)&&(!r||String(Number(s))!==s||!(s<e.length)))if(I&&n["$"+s]instanceof Symbol)continue;else k.call(/[^\w$]/,s)?i.push(t(s,e)+": "+t(e[s],e)):i.push(s+": "+t(e[s],e));if("function"==typeof T)for(var c=0;c<o.length;c++)O.call(e,o[c])&&i.push("["+t(o[c])+"]: "+t(e[o[c]],e));return i}},639301,(e,t,n)=>{t.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}},758326,(e,t,n)=>{t.exports=function(){}},111168,(e,t,n)=>{function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}r.prototype=e.r(646352)(e.r(758326).prototype),r.prototype.constructor=r,t.exports=r},592432,(e,t,n)=>{var r=e.r(573895);t.exports=r&&new r},401425,(e,t,n)=>{var r=e.r(592432),i=e.r(591692);t.exports=r?function(e){return r.get(e)}:i},392768,(e,t,n)=>{t.exports={}},239125,(e,t,n)=>{var r=e.r(392768),i=Object.prototype.hasOwnProperty;t.exports=function(e){for(var t=e.name+"",n=r[t],a=i.call(r,t)?n.length:0;a--;){var o=n[a],l=o.func;if(null==l||l==e)return o.name}return t}},951266,(e,t,n)=>{function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}r.prototype=e.r(646352)(e.r(758326).prototype),r.prototype.constructor=r,t.exports=r},535657,(e,t,n)=>{var r=e.r(951266),i=e.r(111168),a=e.r(776736);t.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},939932,(e,t,n)=>{var r=e.r(951266),i=e.r(111168),a=e.r(758326),o=e.r(45350),l=e.r(877289),s=e.r(535657),c=Object.prototype.hasOwnProperty;function u(e){if(l(e)&&!o(e)&&!(e instanceof r)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return s(e)}return new i(e)}u.prototype=a.prototype,u.prototype.constructor=u,t.exports=u},406698,(e,t,n)=>{var r=e.r(951266),i=e.r(401425),a=e.r(239125),o=e.r(939932);t.exports=function(e){var t=a(e),n=o[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var l=i(n);return!!l&&e===l[0]}},242852,(e,t,n)=>{var r=e.r(111168),i=e.r(6227),a=e.r(401425),o=e.r(239125),l=e.r(45350),s=e.r(406698);t.exports=function(e){return i(function(t){var n=t.length,i=n,c=r.prototype.thru;for(e&&t.reverse();i--;){var u=t[i];if("function"!=typeof u)throw TypeError("Expected a function");if(c&&!d&&"wrapper"==o(u))var d=new r([],!0)}for(i=d?i:n;++i<n;){var p=o(u=t[i]),f="wrapper"==p?a(u):void 0;d=f&&s(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?d[o(f[0])].apply(d,f[3]):1==u.length&&s(u)?d[p]():d.thru(u)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&l(r))return d.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}},62722,(e,t,n)=>{t.exports=e.r(242852)()},775157,(e,t,n)=>{var r=e.r(702922);t.exports=function(e){return r(e).toLowerCase()}},735440,(e,t,n)=>{var r=e.r(649719);t.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},491777,(e,t,n)=>{var r=e.r(649719);t.exports=function(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}},713317,(e,t,n)=>{var r=e.r(372537),i=e.r(830364),a=e.r(284357),o=e.r(735440),l=e.r(491777),s=e.r(34170),c=e.r(702922);t.exports=function(e,t,n){if((e=c(e))&&(n||void 0===t))return i(e);if(!e||!(t=r(t)))return e;var u=s(e),d=s(t),p=l(u,d),f=o(u,d)+1;return a(u,p,f).join("")}},104366,(e,t,n)=>{var r=e.r(541891),i=e.r(395059),a=e.r(910339),o=e.r(791072);t.exports=i(function(e){return a(r(e,1,o,!0))})},946217,(e,t,n)=>{var r=e.r(848477),i=e.r(367426),a=e.r(473250),o=e.r(45350),l=e.r(351095),s=e.r(356956),c=e.r(763996),u=e.r(3023),d=Object.prototype.hasOwnProperty;t.exports=function(e){if(null==e)return!0;if(l(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||u(e)||a(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},368233,(e,t,n)=>{t.exports=function(e,t,n){if(null===e!=(null===t))return!1;var r,i=Array.isArray(e);if(i!==Array.isArray(t))return!1;var a=typeof e;return a===typeof t&&("function"!==(r=a)&&"object"!==r?n?n(e,t):e===t:i?function(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}(e,t,n):function(e,t,n){var r=0,i=0;if(n)for(var a in e){if(e.hasOwnProperty(a)&&!n(e[a],t[a]))return!1;r++}else for(var a in e){if(e.hasOwnProperty(a)&&e[a]!==t[a])return!1;r++}for(var a in t)t.hasOwnProperty(a)&&i++;return r===i}(e,t,n))}},232127,187155,991426,597083,842160,224019,915874,931067,885963,954402,706413,645456,791854,210810,645141,387675,303293,971151,487806,479671,801601,551846,835770,137916,786419,317306,747053,292251,469681,49748,123699,141135,750253,980226,175456,987790,487743,203141,977151,28484,401364,477995,794078,870263,542027,406800,728686,155419,811366,231560,660997,921306,302535,463390,402068,782463,362321,619405,335870,715546,420939,177433,815321,907270,201226,725698,490170,83107,519339,702025,617601,807311,477183,786350,76590,908035,236726,869821,e=>{"use strict";let t,n;e.s(["auditTime",()=>_],232127);var r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=e.i(629437),x=e.i(902965),C=e.i(220324),k=e.i(627608),w=e.i(817312);function _(e,t){var n;return void 0===t&&(t=b.asyncScheduler),n=function(){return(0,w.timer)(e,t)},(0,x.operate)(function(e,t){var r=!1,i=null,a=null,o=!1,l=function(){if(null==a||a.unsubscribe(),a=null,r){r=!1;var e=i;i=null,t.next(e)}o&&t.complete()},s=function(){a=null,o&&t.complete()};e.subscribe((0,k.createOperatorSubscriber)(t,function(e){r=!0,i=e,a||(0,C.innerFrom)(n(e)).subscribe(a=(0,k.createOperatorSubscriber)(t,l,s))},function(){o=!0,r&&a&&!a.closed||t.complete()}))})}e.s(["switchMapTo",()=>E],187155);var j=e.i(134352),S=e.i(603752);function E(e,t){return(0,S.isFunction)(t)?(0,j.switchMap)(function(){return e},t):(0,j.switchMap)(function(){return e})}e.s(["useObservable",()=>H,"useObservableEvent",()=>G],597083);var T=e.i(881933),D=e.i(271645),I=e.i(992481),A=e.i(128068),O=e.i(277497),P=e.i(446688),M=e.i(245281),F=e.i(94059),R=e.i(218692);e.s(["observableCallback",()=>L],991426);var B=e.i(408659),N=function(e){return e};function L(e){void 0===e&&(e=N);var t=new B.Subject;return[t.pipe(e),function(e){return t.next(e)}]}var z=e.i(462576);function V(e){return"function"==typeof e?e():e}let U=new WeakMap;function H(e,t){let n,r,i,a,o=(0,T.c)(9);if(!U.has(e)){let t={didEmit:!1},n={state:t,observable:e.pipe((0,F.map)(K),(0,I.catchError)(Y),(0,R.tap)(e=>{let{snapshot:n,error:r}=e;t.didEmit=!0,t.snapshot=n,t.error=r}),(0,F.map)(W),(0,A.finalize)(()=>U.delete(e)),(0,O.share)({resetOnRefCountZero:q})),getSnapshot:e=>{if(t.error)throw t.error;return t.didEmit?t.snapshot:V(e)}};n.observable.subscribe().unsubscribe(),U.set(e,n)}o[0]!==e?(n=U.get(e),o[0]=e,o[1]=n):n=o[1];let l=n;o[2]!==l.observable?(r=e=>{let t=l.observable.subscribe(e);return()=>{t.unsubscribe()}},o[2]=l.observable,o[3]=r):r=o[3];let s=r;return o[4]!==t||o[5]!==l?(i=()=>l.getSnapshot(t),o[4]=t,o[5]=l,o[6]=i):i=o[6],o[7]!==t?(a=typeof t>"u"?void 0:()=>V(t),o[7]=t,o[8]=a):a=o[8],(0,D.useSyncExternalStore)(s,i,a)}function q(){return(0,w.timer)(0,P.asapScheduler)}function W(e){}function Y(e){return(0,M.of)({snapshot:void 0,error:e})}function K(e){return{snapshot:e,error:void 0}}function G(e){let t,n,r,i=(0,T.c)(7),[a]=(0,D.useState)($),[o,l]=a;i[0]!==e?(t=t=>e(t),i[0]=e,i[1]=t):t=i[1];let s=(0,z.useEffectEvent)(t);return i[2]!==o||i[3]!==s?(n=()=>{let e=o.pipe(e=>s(e)).subscribe();return()=>e.unsubscribe()},i[2]=o,i[3]=s,i[4]=n):n=i[4],i[5]!==o?(r=[o],i[5]=o,i[6]=r):r=i[6],(0,D.useEffect)(n,r),l}function $(){return L()}e.s(["fromUrl",()=>ex],842160);var Z=e.i(374e3),X=e.i(722249),J=e.i(100374),Q=e.i(484973),ee=e.i(827341),et=e.i(10839),en=e.i(630330),er=e.i(172441),ei=e.i(96623),ea=e.i(807136),eo=e.i(993817),el=e.i(873904),es=e.i(148077),ec=function(){return(ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eu=(0,es.customAlphabet)("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20);function ed(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:ec(ec({},t),{apiVersion:"v1"}),id:n})}var ep=function(e,t){void 0===t&&(t={});var n=t.token$,r=t.getNextRequestId,i=void 0===r?eu:r,a=(0,el.partition)(e.pipe((0,j.switchMap)(function(e){return(0,ea.fromEvent)(e,"message")})),function(e){return"♥"===e.data}),o=a[0],l=a[1],s=l.pipe((0,Q.mergeMap)(function(e){var t=function(e){try{return[null,JSON.parse(e)]}catch(e){return e instanceof Error?[e]:[Error("".concat(e))]}}(e.data),n=t[0],r=t[1];return n?(console.warn("Unable to parse message: %s",n.message),ei.EMPTY):r&&r.jsonrpc?(0,M.of)(r):(console.warn("Received empty or non-jsonrpc message: %s",r),ei.EMPTY)}),(0,O.share)()),c=n?(0,en.combineLatest)([n,e]).pipe((0,Z.distinctUntilChanged)(function(e,t){var n=e[0],r=e[1],i=t[0],a=t[1];return n===i&&r===a}),(0,j.switchMap)(function(e){var t=e[0],n=e[1];return t?u(n,"authorization",{authorization:"Bearer ".concat(t)}).pipe((0,et.take)(1),(0,J.mapTo)(n)):(0,M.of)(n)}),(0,ee.shareReplay)({refCount:!0,bufferSize:1})):e;function u(e,t,n){void 0===n&&(n={});var r=i();return(0,eo.merge)(s.pipe((0,X.filter)(function(e){return e.id===r}),(0,F.map)(function(e){return e.result})),(0,er.defer)(function(){return e.send(ed(t,n,r)),ei.EMPTY}))}return{heartbeats:(0,eo.merge)(c,o,l).pipe((0,F.map)(function(){return new Date})),listen:function(e,t){return c.pipe((0,et.take)(1),(0,Q.mergeMap)(function(n){return u(n,"".concat(e,"_subscribe"),t).pipe((0,et.take)(1),(0,Q.mergeMap)(function(t){return s.pipe((0,X.filter)(function(n){return n.method==="".concat(e,"_subscription")&&n.params.subscription===t}),(0,F.map)(function(e){return e.params.result}),(0,A.finalize)(function(){n.readyState!==n.CLOSED&&n.readyState!==n.CLOSING&&n.send(ed("".concat(e,"_unsubscribe"),{subscriptionId:t},i()))}))}))}))},request:function(e,t){return c.pipe((0,et.take)(1),(0,Q.mergeMap)(function(n){return u(n,e,t).pipe((0,et.take)(1))}))}}},ef=e.i(394426),eh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),em=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a.type=n,a.code=r,a.reason=i,a}return eh(t,e),t}(Error),eg=e.i(545146),ey=e.i(800879),ev=e.i(254201);!function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"}(a||(a={}));var eb=function(e){return e};function ex(e,t){void 0===t&&(t={});var n,r,i=t.timeout,a=t.token$;return ep((n=function(e,t){return new window.WebSocket(e,t)},function(e){return new ef.Observable(function(t){var r=n(e),i=!1;return r.onopen=function(){t.next(r)},r.onclose=function(e){i?t.complete():t.error(new em("WebSocket connection error","CONNECTION_CLOSED",e.code,e.reason))},r.onerror=function(){t.error(new em("WebSocket connection error","CONNECTION_ERROR"))},function(){i=!0,r.close(1e3,"WebSockets connection closed by client")}})})(e).pipe(i?(r=(0,ev.throwError)(function(){return Error("Timeout after ".concat(i," while establishing WebSockets connection"))}),function(e){return function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===(t=(0,eg.argsOrArgArray)(t)).length?(0,C.innerFrom)(t[0]):new ef.Observable((e=t,function(t){for(var n=[],r=function(r){n.push((0,C.innerFrom)(e[r]).subscribe((0,k.createOperatorSubscriber)(t,function(e){if(n){for(var i=0;i<n.length;i++)i!==r&&n[i].unsubscribe();n=null}t.next(e)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}))}(e,(0,w.timer)(i).pipe((0,Q.mergeMap)(function(){return r})))}):eb,(0,ee.shareReplay)({refCount:!0}),(0,ey.takeUntil)((0,ea.fromEvent)(window,"beforeunload"))),{token$:a})}e.s(["isHotkey",()=>eS],224019);let eC="u">typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ek={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ew={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:eC?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},e_={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var ej=1;ej<20;ej++)e_["f"+ej]=111+ej;function eS(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);let r=e.map(e=>(function(e,t){let n=t&&t.byKey,r={},i=(e=e.replace("++","+add")).split("+"),{length:a}=i;for(let e in ek)r[ek[e]]=!1;for(let e of i){var o;let t=e.endsWith("?")&&e.length>1;t&&(e=e.slice(0,-1));let i=eE(e),l=ek[i];if(e.length>1&&!l&&!ew[e]&&!e_[i])throw TypeError('Unknown modifier: "'.concat(e,'"'));1!==a&&l||(n?r.key=i:r.which=e_[o=eE(o=e)]||o.toUpperCase().charCodeAt(0)),l&&(r[l]=!t||null)}return r})(e,t)),i=e=>r.some(t=>(function(e,t){for(let n in e){let r,i=e[n];if(null!=i&&(null!=(r="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===i&&93===t.which?91:t.which:t[n])||!1!==i)&&r!==i)return!1}return!0})(t,e));return null==n?i:i(n)}function eE(e){return ew[e=e.toLowerCase()]||e}function eT(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function eD(){return(eD=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>nn],706413),e.i(247167),e.s(["default",()=>eT],915874),e.s(["default",()=>eD],931067);var eI="data-focus-lock",eA="data-focus-lock-disabled",eO=e.i(232286),eP={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},eM=e.i(386252),eF=(0,eM.createMedium)({},function(e){return{target:e.target,currentTarget:e.currentTarget}}),eR=(0,eM.createMedium)(),eB=(0,eM.createMedium)(),eN=(0,eM.createSidecarMedium)({async:!0,ssr:"undefined"!=typeof document}),eL=(0,D.createContext)(void 0),ez=[],eV=(0,D.forwardRef)(function(e,t){var n,r=(0,D.useState)(),i=r[0],a=r[1],o=(0,D.useRef)(),l=(0,D.useRef)(!1),s=(0,D.useRef)(null),c=(0,D.useState)({})[1],u=e.children,d=e.disabled,p=void 0!==d&&d,f=e.noFocusGuards,h=void 0!==f&&f,m=e.persistentFocus,g=e.crossFrame,y=e.autoFocus,v=(e.allowTextSelection,e.group),b=e.className,x=e.whiteList,C=e.hasPositiveIndices,k=e.shards,w=void 0===k?ez:k,_=e.as,j=e.lockProps,S=e.sideCar,E=e.returnFocus,T=void 0!==E&&E,I=e.focusOptions,A=e.onActivation,O=e.onDeactivation,P=(0,D.useState)({})[0],M=(0,D.useCallback)(function(e){var t=e.captureFocusRestore;if(!s.current){var n,r=null==(n=document)?void 0:n.activeElement;s.current=r,r!==document.body&&(s.current=t(r))}o.current&&A&&A(o.current),l.current=!0,c()},[A]),F=(0,D.useCallback)(function(){l.current=!1,O&&O(o.current),c()},[O]),R=(0,D.useCallback)(function(e){var t=s.current;if(t){var n=("function"==typeof t?t():t)||document.body,r="function"==typeof T?T(n):T;if(r){var i="object"==typeof r?r:void 0;s.current=null,e?Promise.resolve().then(function(){return n.focus(i)}):n.focus(i)}}},[T]),B=(0,D.useCallback)(function(e){l.current&&eF.useMedium(e)},[]),N=eR.useMedium,L=(0,D.useCallback)(function(e){o.current!==e&&(o.current=e,a(e))},[]),z=eD(((n={})[eA]=p&&"disabled",n[eI]=v,n),void 0===j?{}:j),V=!0!==h,U=V&&"tail"!==h,H=(0,eO.useMergeRefs)([t,L]),q=(0,D.useMemo)(function(){return{observed:o,shards:w,enabled:!p,active:l.current}},[p,l.current,w,i]);return D.default.createElement(D.Fragment,null,V&&[D.default.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:eP}),C?D.default.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:eP}):null],!p&&D.default.createElement(S,{id:P,sideCar:eN,observed:i,disabled:p,persistentFocus:void 0!==m&&m,crossFrame:void 0===g||g,autoFocus:void 0===y||y,whiteList:x,shards:w,onActivation:M,onDeactivation:F,returnFocus:R,focusOptions:I,noFocusGuards:h}),D.default.createElement(void 0===_?"div":_,eD({ref:H},z,{className:b,onBlur:N,onFocus:B}),D.default.createElement(eL.Provider,{value:q},u)),U&&D.default.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:eP}))});function eU(e,t){return(eU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eH(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,eU(e,t)}function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e){var t=function(e,t){if("object"!=eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eq(t)?t:t+""}function eY(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eV.propTypes={},e.s(["default",()=>eH],954402),e.s(["default",()=>eU],885963);var eK=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},eG=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!!t&&!!t.getPropertyValue&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))},e$=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},eZ=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},eX=function(e,t){var n,r,i=e.get(t);if(void 0!==i)return i;var a=(n=t,r=eX.bind(void 0,e),!n||eZ(n)||!eG(n)&&!n.hasAttribute("inert")&&r(e$(n)));return e.set(t,a),a},eJ=function(e,t){var n,r=e.get(t);if(void 0!==r)return r;var i=(n=eJ.bind(void 0,e),!t||!!eZ(t)||!!e0(t)&&n(e$(t)));return e.set(t,i),i},eQ=function(e){return e.dataset},e1=function(e){return"INPUT"===e.tagName},e2=function(e){return e1(e)&&"radio"===e.type},e0=function(e){return![!0,"true",""].includes(e.getAttribute("data-no-autofocus"))},e5=function(e){var t;return!!(e&&(null==(t=eQ(e))?void 0:t.focusGuard))},e7=function(e){return!e5(e)},e3=function(e){return!!e},e8=function(e,t){if(e2(e)&&e.name)return t.filter(e2).filter(function(t){return t.name===e.name}).filter(function(e){return e.checked})[0]||e;return e},e4=function(e){var t=new Set;return e.forEach(function(n){return t.add(e8(n,e))}),e.filter(function(e){return t.has(e)})},e6=function(e){return e[0]&&e.length>1?e8(e[0],e):e[0]},e9=function(e,t){return e.indexOf(e8(t,e))},te="NEW_FOCUS",tt=function(e,t,n,r,i){var a=e.length,o=e[0],l=e[a-1],s=e5(r);if(!(r&&e.indexOf(r)>=0)){var c=void 0!==r?n.indexOf(r):-1,u=i?n.indexOf(i):c,d=i?e.indexOf(i):-1;if(-1===c)return -1!==d?d:te;if(-1===d)return te;var p=c-u,f=n.indexOf(o),h=n.indexOf(l),m=e4(n),g=void 0!==r?m.indexOf(r):-1,y=i?m.indexOf(i):g,v=m.filter(function(e){return e.tabIndex>=0}),b=void 0!==r?v.indexOf(r):-1,x=i?v.indexOf(i):b;if(!p&&d>=0||0===t.length)return d;var C=e9(e,t[0]),k=e9(e,t[t.length-1]);if(c<=f&&s&&Math.abs(p)>1)return k;if(c>=h&&s&&Math.abs(p)>1)return C;if(p&&Math.abs(b>=0&&x>=0?x-b:y-g)>1)return d;if(c<=f)return k;if(c>h)return C;if(p)return Math.abs(p)>1?d:(a+d+p)%a}},tn=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},tr=function(e){return Array.isArray(e)?e:[e]},ti=function(e){return Array.isArray(e)?e[0]:e},ta=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,a=e.index-t.index;if(i){if(!n)return 1;if(!r)return -1}return i||a},to=function(e,t,n){return tn(e).map(function(e,t){var r=e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex;return{node:e,index:t,tabIndex:n&&-1===r?(e.dataset||{}).focusGuard?0:-1:r}}).filter(function(e){return!t||e.tabIndex>=0}).sort(ta)},tl="button:enabled,select:enabled,textarea:enabled,input:enabled,a[href],area[href],summary,iframe,object,embed,audio[controls],video[controls],[tabindex],[contenteditable],[autofocus]",ts="".concat(tl,", [data-focus-guard]"),tc=function(e,t){return tn((e.shadowRoot||e).children).reduce(function(e,n){return e.concat(n.matches(t?ts:tl)?[n]:[],tc(n))},[])},tu=function(e,t){var n;return e instanceof HTMLIFrameElement&&(null==(n=e.contentDocument)?void 0:n.body)?td([e.contentDocument.body],t):[e]},td=function(e,t){return e.reduce(function(e,n){var r,i=tc(n,t),a=(r=[]).concat.apply(r,i.map(function(e){return tu(e,t)}));return e.concat(a,n.parentNode?tn(n.parentNode.querySelectorAll(tl)).filter(function(e){return e===n}):[])},[])},tp=function(e,t){return tn(e).filter(function(e){return eX(t,e)}).filter(function(e){var t;return!((e1(t=e)||"BUTTON"===t.tagName)&&("hidden"===t.type||t.disabled))})},tf=function(e,t){return void 0===t&&(t=new Map),tn(e).filter(function(e){return eJ(t,e)})},th=function(e,t,n){return to(tp(td(e,n),t),!0,n)},tm=function(e,t){return to(tp(td(e),t),!1)},tg=function(e,t){return e.shadowRoot?tg(e.shadowRoot,t):!!(void 0!==Object.getPrototypeOf(e).contains&&Object.getPrototypeOf(e).contains.call(e,t))||tn(e.children).some(function(e){var n;if(e instanceof HTMLIFrameElement){var r=null==(n=e.contentDocument)?void 0:n.body;return!!r&&tg(r,t)}return tg(e,t)})},ty=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var a=e[r].compareDocumentPosition(e[i]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(e,n){return!t.has(n)})},tv=function(e){return e.parentNode?tv(e.parentNode):e},tb=function(e){return tr(e).filter(Boolean).reduce(function(e,t){var n=t.getAttribute(eI);return e.push.apply(e,n?ty(tn(tv(t).querySelectorAll("[".concat(eI,'="').concat(n,'"]:not([').concat(eA,'="disabled"])')))):[t]),e},[])},tx=function(e,t,n){var r=tf(e.map(function(e){return e.node}).filter(function(e){var t,r=null==(t=eQ(e))?void 0:t.autofocus;return e.autofocus||void 0!==r&&"false"!==r||n.indexOf(e)>=0}));return r&&r.length?e6(r):e6(tf(t))},tC=function(e){try{return e()}catch(e){return}},tk=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?tk(t.shadowRoot):t instanceof HTMLIFrameElement&&tC(function(){return t.contentWindow.document})?tk(t.contentWindow.document):t}},tw=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&tw(e.parentNode.host||e.parentNode,t),t},t_=function(e,t){for(var n=tw(e),r=tw(t),i=0;i<n.length;i+=1){var a=n[i];if(r.indexOf(a)>=0)return a}return!1},tj=function(e,t,n){var r=tr(e),i=tr(t),a=r[0],o=!1;return i.filter(Boolean).forEach(function(e){o=t_(o||e,e)||o,n.filter(Boolean).forEach(function(e){var t=t_(a,e);t&&(o=!o||tg(t,o)?t:t_(t,o))})}),o},tS=function(e,t){return e.reduce(function(e,n){var r,i;return e.concat((r=n,i=t,tp(tn(r.querySelectorAll("[".concat("data-autofocus-inside","]"))).map(function(e){return td([e])}).reduce(function(e,t){return e.concat(t)},[]),i)))},[])},tE=function(e,t){var n=new Map;return t.forEach(function(e){return n.set(e.node,e)}),e.map(function(e){return n.get(e)}).filter(e3)},tT=function(e,t){var n=tk(tr(e).length>0?document:ti(e).ownerDocument),r=tb(e).filter(e7),i=tj(n||e,e,r),a=new Map,o=tm(r,a),l=o.filter(function(e){return e7(e.node)});if(l[0]){var s=tm([i],a).map(function(e){return e.node}),c=tE(s,l),u=c.map(function(e){return e.node}),d=c.filter(function(e){return e.tabIndex>=0}).map(function(e){return e.node}),p=tt(u,d,s,n,t);if(p===te){var f=tx(o,d,tS(r,a))||tx(o,u,tS(r,a));return f?{node:f}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===p?p:c[p]}},tD=0,tI=!1,tA=function(e,t,n){void 0===n&&(n={});var r=tT(e,t);if(!tI&&r){if(tD>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),tI=!0,setTimeout(function(){tI=!1},1);return}tD++,eK(r.node,n.focusOptions),tD--}},tO=function(e,t){return void 0===t&&(t=tk(ti(e).ownerDocument)),!!t&&(!t.dataset||!t.dataset.focusGuard)&&tb(e).some(function(e){var n;return tg(e,t)||(n=t,!!tn(e.querySelectorAll("iframe")).some(function(e){return e===n}))})},tP=function(e){void 0===e&&(e=document);var t=tk(e);return!!t&&tn(e.querySelectorAll("[".concat("data-no-focus-lock","]"))).some(function(e){return tg(e,t)})},tM=function(e){var t=tb(e).filter(e7),n=to(td([tj(e,e,t)],!0),!0,!0),r=td(t,!1);return n.map(function(e){var t=e.node;return{node:t,index:e.index,lockItem:r.indexOf(t)>=0,guard:e5(t)}})},tF=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=tr(t);if(r.every(function(t){return!tg(t,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?th(r,new Map):tm(r,new Map),a=i.findIndex(function(t){return t.node===e});if(-1!==a)return{prev:i[a-1],next:i[a+1],first:i[0],last:i[i.length-1]}},tR=function(e,t){var n=t?th(tr(e),new Map):tm(tr(e),new Map);return{first:n[0],last:n[n.length-1]}},tB=function(e,t,n){void 0===t&&(t={});var r,i=(r=t,Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},r)),a=tF(e,i.scope,i.onlyTabbable);if(a){var o=n(a,i.cycle);o&&eK(o.node,i.focusOptions)}},tN=function(e,t,n){var r,i=tR(e,null==(r=t.onlyTabbable)||r)[n];i&&eK(i.node,t.focusOptions)};function tL(e){if(!e)return null;if("undefined"==typeof WeakRef)return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(null==t?void 0:t.deref())||null}}var tz=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:tL(n),parent:tL(n.parentElement),left:tL(n.previousElementSibling),right:tL(n.nextElementSibling)}),n=n.parentElement;return{element:tL(e),stack:t,ownerDocument:e.ownerDocument}},tV=function(e){if(e)for(var t,n,r,i,a,o=e.stack,l=e.ownerDocument,s=new Map,c=0;c<o.length;c++){var u=o[c],d=null==(t=u.parent)?void 0:t.call(u);if(d&&l.contains(d)){for(var p=null==(n=u.left)?void 0:n.call(u),f=u.current(),h=d.contains(f)?f:void 0,m=null==(r=u.right)?void 0:r.call(u),g=th([d],s),y=null!=(a=null!=(i=null!=h?h:null==p?void 0:p.nextElementSibling)?i:m)?a:p;y;){for(var v=0;v<g.length;v++){var b=g[v];if(null==y?void 0:y.contains(b.node))return b.node}y=y.nextElementSibling}if(g.length)return g[0].node}}},tU=function(e){var t=tz(e);return function(){return tV(t)}};function tH(e){setTimeout(e,1)}var tq=function(e){return e&&"current"in e?e.current:e},tW=function(){return document&&document.activeElement===document.body},tY=null,tK=null,tG=function(){return null},t$=null,tZ=!1,tX=!1,tJ=function(e,t){t$={observerNode:e,portaledElement:t}};function tQ(e,t,n,r){var i=null,a=e;do{var o=r[a];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(a!==e)return;i=null}else break}while((a+=n)!==t)i&&(i.node.tabIndex=0)}var t1=function(e){return tm(e,new Map)},t2=function(){var e=!1;if(tY){var t=tY,n=t.observed,r=t.persistentFocus,i=t.autoFocus,a=t.shards,o=t.crossFrame,l=t.focusOptions,s=t.noFocusGuards,c=n||t$&&t$.portaledElement;if(tW()&&tK&&tK!==document.body&&(!document.body.contains(tK)||!t1([(p=tK).parentNode]).some(function(e){return e.node===p}))){var u=tG();u&&u.focus()}var d=document&&document.activeElement;if(c){var p,f=[c].concat(a.map(tq).filter(Boolean));if((!d||(tY.whiteList||function(){return!0})(d))&&(r||function(){if(!(o?!!tZ:"meanwhile"===tZ)||!s||!tK||tX)return!1;var e=t1(f),t=e.findIndex(function(e){return e.node===tK});return 0===t||t===e.length-1}()||!(tW()||tP())||!tK&&i)&&(c&&!(tO(f)||d&&f.some(function(e){return function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))}(d,e,e)})||t$&&t$.portaledElement===d)&&(document&&!tK&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(e=tA(f,tK,{focusOptions:l}),t$={})),(tK=document&&document.activeElement)!==document.body&&(tG=tU(tK)),tZ=!1),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var h=document&&document.activeElement,m=tM(f),g=m.map(function(e){return e.node}).indexOf(h);g>-1&&(m.filter(function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard}).forEach(function(e){return e.node.removeAttribute("tabIndex")}),tQ(g,m.length,1,m),tQ(g,-1,-1,m))}}}return e},t0=function(e){t2()&&e&&(e.stopPropagation(),e.preventDefault())},t5=function(){return tH(t2)},t7=function(){tX=!0},t3=function(){tX=!1,tZ="just",tH(function(){tZ="meanwhile"})},t8=function(){document.addEventListener("focusin",t0),document.addEventListener("focusout",t5),window.addEventListener("focus",t7),window.addEventListener("blur",t3)},t4=function(){document.removeEventListener("focusin",t0),document.removeEventListener("focusout",t5),window.removeEventListener("focus",t7),window.removeEventListener("blur",t3)},t6={moveFocusInside:tA,focusInside:tO,focusNextElement:function(e,t){void 0===t&&(t={}),tB(e,t,function(e,t){var n=e.next,r=e.first;return n||t&&r})},focusPrevElement:function(e,t){void 0===t&&(t={}),tB(e,t,function(e,t){var n=e.prev,r=e.last;return n||t&&r})},focusFirstElement:function(e,t){void 0===t&&(t={}),tN(e,t,"first")},focusLastElement:function(e,t){void 0===t&&(t={}),tN(e,t,"last")},captureFocusRestore:tU};eF.assignSyncMedium(function(e){var t=e.target,n=e.currentTarget;n.contains(t)||tJ(n,t)}),eR.assignMedium(t5),eB.assignMedium(function(e){return e(t6)});let t9=(r=function(e){return e.filter(function(e){return!e.disabled})},i=function(e){var t=e.slice(-1)[0];t&&!tY&&t8();var n=tY,r=n&&t&&t.id===n.id;tY=t,n&&!r&&(n.onDeactivation(),e.filter(function(e){return e.id===n.id}).length||n.returnFocus(!t)),t?(tK=null,r&&n.observed===t.observed||t.onActivation(t6),t2(!0),tH(t2)):(t4(),tK=null)},function(e){var t,n=[];function a(){i(t=r(n.map(function(e){return e.props})))}var o=function(r){function i(){return r.apply(this,arguments)||this}eH(i,r),i.peek=function(){return t};var o=i.prototype;return o.componentDidMount=function(){n.push(this),a()},o.componentDidUpdate=function(){a()},o.componentWillUnmount=function(){var e=n.indexOf(this);n.splice(e,1),a()},o.render=function(){return D.default.createElement(e,this.props)},i}(D.PureComponent);return eY(o,"displayName","SideEffect("+(e.displayName||e.name||"Component")+")"),o})(function(){return null});var ne=(0,D.forwardRef)(function(e,t){return D.default.createElement(eV,eD({sideCar:t9,ref:t},e))}),nt=eV.propTypes||{};nt.sideCar,eT(nt,["sideCar"]),ne.propTypes={};let nn=ne;e.s(["createBatchedStore",()=>nx,"createSessionId",()=>nb,"defineEvent",()=>nC],645456);var nr="0123456789abcdefghjkmnpqrstvwxyz",ni=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function na(e){let t=Array(26).fill("");if(16!==e.length)throw Error("Invalid length");return t[0]=nr[(224&e[0])>>5],t[1]=nr[31&e[0]],t[2]=nr[(248&e[1])>>3],t[3]=nr[(7&e[1])<<2|(192&e[2])>>6],t[4]=nr[(62&e[2])>>1],t[5]=nr[(1&e[2])<<4|(240&e[3])>>4],t[6]=nr[(15&e[3])<<1|(128&e[4])>>7],t[7]=nr[(124&e[4])>>2],t[8]=nr[(3&e[4])<<3|(224&e[5])>>5],t[9]=nr[31&e[5]],t[10]=nr[(248&e[6])>>3],t[11]=nr[(7&e[6])<<2|(192&e[7])>>6],t[12]=nr[(62&e[7])>>1],t[13]=nr[(1&e[7])<<4|(240&e[8])>>4],t[14]=nr[(15&e[8])<<1|(128&e[9])>>7],t[15]=nr[(124&e[9])>>2],t[16]=nr[(3&e[9])<<3|(224&e[10])>>5],t[17]=nr[31&e[10]],t[18]=nr[(248&e[11])>>3],t[19]=nr[(7&e[11])<<2|(192&e[12])>>6],t[20]=nr[(62&e[12])>>1],t[21]=nr[(1&e[12])<<4|(240&e[13])>>4],t[22]=nr[(15&e[13])<<1|(128&e[14])>>7],t[23]=nr[(124&e[14])>>2],t[24]=nr[(3&e[14])<<3|(224&e[15])>>5],t[25]=nr[31&e[15]],t.join("")}function no(e){if(26!==e.length)throw Error("Invalid length");let t=new TextEncoder().encode(e);if(255===ni[t[0]]||255===ni[t[1]]||255===ni[t[2]]||255===ni[t[3]]||255===ni[t[4]]||255===ni[t[5]]||255===ni[t[6]]||255===ni[t[7]]||255===ni[t[8]]||255===ni[t[9]]||255===ni[t[10]]||255===ni[t[11]]||255===ni[t[12]]||255===ni[t[13]]||255===ni[t[14]]||255===ni[t[15]]||255===ni[t[16]]||255===ni[t[17]]||255===ni[t[18]]||255===ni[t[19]]||255===ni[t[20]]||255===ni[t[21]]||255===ni[t[22]]||255===ni[t[23]]||255===ni[t[24]]||255===ni[t[25]])throw Error("Invalid base32 character");let n=new Uint8Array(16);return n[0]=ni[t[0]]<<5|ni[t[1]],n[1]=ni[t[2]]<<3|ni[t[3]]>>2,n[2]=(3&ni[t[3]])<<6|ni[t[4]]<<1|ni[t[5]]>>4,n[3]=(15&ni[t[5]])<<4|ni[t[6]]>>1,n[4]=(1&ni[t[6]])<<7|ni[t[7]]<<2|ni[t[8]]>>3,n[5]=(7&ni[t[8]])<<5|ni[t[9]],n[6]=ni[t[10]]<<3|ni[t[11]]>>2,n[7]=(3&ni[t[11]])<<6|ni[t[12]]<<1|ni[t[13]]>>4,n[8]=(15&ni[t[13]])<<4|ni[t[14]]>>1,n[9]=(1&ni[t[14]])<<7|ni[t[15]]<<2|ni[t[16]]>>3,n[10]=(7&ni[t[16]])<<5|ni[t[17]],n[11]=ni[t[18]]<<3|ni[t[19]]>>2,n[12]=(3&ni[t[19]])<<6|ni[t[20]]<<1|ni[t[21]]>>4,n[13]=(15&ni[t[21]])<<4|ni[t[22]]>>1,n[14]=(1&ni[t[22]])<<7|ni[t[23]]<<2|ni[t[24]]>>3,n[15]=(7&ni[t[24]])<<5|ni[t[25]],n}var nl=Math.pow,ns="0123456789abcdef",nc=class{static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>0x3fffffff||r>0xffffffff)throw RangeError("invalid field value");let i=new Uint8Array(16);return i[0]=e/nl(2,40),i[1]=e/nl(2,32),i[2]=e/nl(2,24),i[3]=e/nl(2,16),i[4]=e/nl(2,8),i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=r>>>24,i[13]=r>>>16,i[14]=r>>>8,i[15]=r,new nc(i)}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=ns.charAt(this.bytes[t]>>>4),e+=ns.charAt(15&this.bytes[t]),(3===t||5===t||7===t||9===t)&&(e+="-");return e}clone(){return new nc(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(let t=0;t<16;t++){let n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}constructor(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}},nu=class{generate(){let e=this.generateOrAbort();return void 0!==e?e:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){let e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>0x3ffffffffff&&(this.timestamp++,this.resetCounter())}return nc.fromFieldsV7(this.timestamp,Math.trunc(this.counter/nl(2,30)),this.counter&nl(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}constructor(){this.timestamp=0,this.counter=0,this.random=new np}},nd=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};"undefined"!=typeof crypto&&crypto.getRandomValues&&(nd=e=>crypto.getRandomValues(e));var np=class{nextUint32(){return this.cursor>=this.buffer.length&&(nd(this.buffer),this.cursor=0),this.buffer[this.cursor++]}constructor(){this.buffer=new Uint32Array(8),this.cursor=99}},nf=class{getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){if(this.prefix!==e)throw Error("Cannot convert TypeID of type ".concat(this.prefix," to type ").concat(e));return this}toUUIDBytes(){return no(this.suffix)}toUUID(){return new nc(this.toUUIDBytes()).toString()}toString(){return""===this.prefix?this.suffix:"".concat(this.prefix,"_").concat(this.suffix)}static fromString(e){let t=e.split("_");if(1===t.length)return new nf("",t[0]);if(2===t.length){if(""===t[0])throw Error("Invalid TypeID. Prefix cannot be empty when there's a separator: ".concat(e));return new nf(t[0],t[1])}throw Error("Invalid TypeID string: ".concat(e))}static fromUUIDBytes(e,t){return new nf(e,na(t))}static fromUUID(e,t){return new nf(e,na(function(e){let t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,n[11]=t/0x100000000&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}(t)))}constructor(e,t=""){if(this.prefix=e,this.suffix=t,!function(e){let t,n,r;if(e.length>63)return!1;for(n=0,r=e.length;n<r;n+=1)if(!((t=e.charCodeAt(n))>96&&t<123))return!1;return!0}(e))throw Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=e,t)this.suffix=t;else{let e=(o||(o=new nu)).generate();this.suffix=na(e.bytes)}if(26!==this.suffix.length)throw Error("Invalid length. Suffix should have 26 characters, got ".concat(t.length));if(this.suffix[0]>"7")throw Error("Invalid suffix. First character must be in the range [0-7]");no(this.suffix)}};function nh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new nf(e,t)}var nm=e.i(609831),ng=e.i(589293),ny=e.i(330823),nv=e.i(305753);function nb(){return nh("session").toString()}function nx(e,t){var n;let r=function(e){let t=new B.Subject,n=new WeakMap;function r(n,r,i,a,o){t.next({sessionId:e,type:n,traceId:r,name:i.name,version:i.version,data:a,context:o,createdAt:new Date().toISOString()})}function i(n,r,i){t.next({sessionId:e,type:n,version:r.version,name:r.name,data:i,createdAt:new Date().toISOString()})}function a(e,t){if("number"==typeof e.maxSampleRate&&e.maxSampleRate>0){let r=n.get(e),a=new Date;(!r||a.getTime()-r.getTime()>e.maxSampleRate)&&(n.set(e,a),i("log",e,t))}else i("log",e,t)}return{events$:t.asObservable(),logger:{updateUserProperties(n){t.next({sessionId:e,type:"userProperties",properties:n,createdAt:new Date().toISOString()})},trace:(n,i)=>(function n(i,o,l){return{start(){r("trace.start",i,o,void 0,l)},newContext:e=>({trace:t=>n("".concat(i,".").concat(e),t,l),updateUserProperties(){},log:a}),log(e){r("trace.log",i,o,e,l)},complete(){r("trace.complete",i,o,void 0,l)},error(n){t.next({sessionId:e,type:"trace.error",traceId:i,name:o.name,version:o.version,data:{message:function(e){let t=e.indexOf("\n"),n=-1===t?1024:Math.min(t,1024),[r,i]=n<1?[e,""]:[e.substring(0,n),e.substring(n)];return r+(i?"… (+".concat(i.length,")"):"")}(n.message)},context:l,createdAt:new Date().toISOString()})},await(e,t){return this.start(),e.then(e=>(this.log(t||e),this.complete(),e),e=>{throw this.error(e),e}),e}}})(nh("trace").toString(),n,i),log:a}}}(e),i=[];function a(){let e=i.slice();return i.length=0,e}function o(){let e=a();return 0===e.length?ei.EMPTY:(0,en.combineLatest)([(0,M.of)(e),t.resolveConsent().catch(e=>({status:"undetermined"}))]).pipe((0,Q.mergeMap)(e=>{let[n,r]=e;return 0===n.length||"granted"!==r.status?ei.EMPTY:(0,ny.from)(t.sendEvents(n)).pipe((0,I.catchError)(e=>(i.unshift(...n),ei.EMPTY)))}))}let l=null!=(n=t.flushInterval)?n:3e4;function s(){return(0,nv.lastValueFrom)(o(),{defaultValue:void 0}).then(()=>{})}let c=r.events$.pipe((0,R.tap)(e=>i.push(e)),(0,F.map)(()=>{}),(0,nm.throttle)(()=>new ef.Observable(e=>{let t=setTimeout(()=>{e.next(),e.complete()},l);return"function"==typeof t.unref&&t.unref(),()=>clearTimeout(t)}),{leading:!1,trailing:!0}),(0,ng.concatMap)(()=>o())).subscribe();function u(){return s().then(()=>{},()=>{}).finally(()=>{c.unsubscribe()})}return{end:u,endWithBeacon:function(){if(!t.sendBeacon)return u(),!0;let e=a();return c.unsubscribe(),!(e.length>0)||t.sendBeacon(e)},flush:s,logger:r.logger}}function nC(e){return{type:"log",name:e.name,version:e.version,description:e.description,maxSampleRate:e.maxSampleRate,schema:void 0}}e.i(41136),e.s(["DEFAULT_DATE_FORMAT",()=>r1,"DEFAULT_TIME_FORMAT",()=>r2,"format",()=>r5,"isValidTimeZoneString",()=>r3,"parse",()=>r7,"sanitizeLocale",()=>rq],791854),Symbol.for("constructDateFrom");let nk={},nw={};function n_(e,t){try{let n=(nk[e]||(nk[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];if(n in nw)return nw[n];return nS(n,n.split(":"))}catch(n){if(e in nw)return nw[e];let t=null==e?void 0:e.match(nj);if(t)return nS(e,t.slice(1));return NaN}}let nj=/([+-]\d\d):?(\d\d)?/;function nS(e,t){let n=+(t[0]||0),r=+(t[1]||0),i=(t[2]||0)/60;return nw[e]=60*n+r>0?60*n+r+i:60*n-r-i}class nE extends Date{static tz(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?new nE(...n,e):new nE(Date.now(),e)}withTimeZone(e){return new nE(+this,e)}getTimezoneOffset(){let e=-n_(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),nD(this),+this}[Symbol.for("constructDateFrom")](e){return new nE(+new Date(e),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(n_(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),nI(this,NaN),nD(this)):this.setTime(Date.now())}}let nT=/^(get|set)(?!UTC)/;function nD(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-(60*n_(e.timeZone,e))))}function nI(e){let t=n_(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);let i=-new Date(+e).getTimezoneOffset(),a=i- -new Date(+r).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);let l=i-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);let s=new Date(+e);s.setUTCSeconds(0);let c=i>0?s.getSeconds():(s.getSeconds()-60)%60,u=Math.round(-(60*n_(e.timeZone,e)))%60;(u||c)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+c));let d=n_(e.timeZone,e),p=d>0?Math.floor(d):Math.ceil(d),f=-new Date(+e).getTimezoneOffset()-p-l;if(p!==n&&f){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);let t=n_(e.timeZone,e),n=p-(t>0?Math.floor(t):Math.ceil(t));n&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+n),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+n))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!nT.test(e))return;let t=e.replace(nT,"$1UTC");nE.prototype[t]&&(e.startsWith("get")?nE.prototype[e]=function(){return this.internal[t]()}:(nE.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),nI(e),+this},nE.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),nD(this),+this}))});class nA extends nE{static tz(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?new nA(...n,e):new nA(Date.now(),e)}toISOString(){let[e,t,n]=this.tzComponents(),r="".concat(e).concat(t,":").concat(n);return this.internal.toISOString().slice(0,-1)+r}toString(){return"".concat(this.toDateString()," ").concat(this.toTimeString())}toDateString(){let[e,t,n,r]=this.internal.toUTCString().split(" ");return"".concat(null==e?void 0:e.slice(0,-1)," ").concat(n," ").concat(t," ").concat(r)}toTimeString(){let e=this.internal.toUTCString().split(" ")[4],[t,n,r]=this.tzComponents();return"".concat(e," GMT").concat(t).concat(n).concat(r," (").concat(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"long";return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}(this.timeZone,this),")")}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:(null==t?void 0:t.timeZone)||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:(null==t?void 0:t.timeZone)||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:(null==t?void 0:t.timeZone)||this.timeZone})}tzComponents(){let e=this.getTimezoneOffset(),t=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),n=String(Math.abs(e)%60).padStart(2,"0");return[e>0?"-":"+",t,n]}withTimeZone(e){return new nA(+this,e)}[Symbol.for("constructDateFrom")](e){return new nA(+new Date(e),this.timeZone)}}class nO extends Date{getTimezoneOffset(){return 0}constructor(){super(),this.setTime(0==arguments.length?Date.now():1==arguments.length?"string"==typeof arguments[0]?+new Date(arguments[0]):arguments[0]:Date.UTC(...arguments))}}let nP=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(nP.test(e)){let t=Date.prototype[e.replace(nP,"$1UTC")];t&&(nO.prototype[e]=t)}}),new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"UTC"}),new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),new Intl.DateTimeFormat("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"});let nM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function nF(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let nR={date:nF({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:nF({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:nF({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},nB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function nN(e){return(t,n)=>{let r;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{let t=e.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function nL(e){return function(t){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;let l=o[0],s=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(s,e=>e.test(l)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(s,e=>e.test(l));return n=e.valueCallback?e.valueCallback(c):c,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(l.length)}}}let nz={code:"en-US",formatDistance:(e,t,n)=>{let r,i=nM[e];if(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null==n?void 0:n.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:nR,formatRelative:(e,t,n,r)=>nB[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:nN({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:nN({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:nN({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:nN({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:nN({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(i.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:nL({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:nL({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:nL({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:nL({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:nL({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},nV={},nU=Symbol.for("constructDateFrom");function nH(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&nU in e?e[nU](t):e instanceof Date?new e.constructor(t):new Date(t)}function nq(e,t){return nH(t||e,e)}function nW(e){let t=nq(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function nY(e,t){let n=nq(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function nK(e,t){var n,r,i,a,o,l,s,c;let u=null!=(c=null!=(s=null!=(l=null!=(o=null==t?void 0:t.weekStartsOn)?o:null==t||null==(r=t.locale)||null==(n=r.options)?void 0:n.weekStartsOn)?l:nV.weekStartsOn)?s:null==(a=nV.locale)||null==(i=a.options)?void 0:i.weekStartsOn)?c:0,d=nq(e,null==t?void 0:t.in),p=d.getDay();return d.setDate(d.getDate()-(7*(p<u)+p-u)),d.setHours(0,0,0,0),d}function nG(e,t){return nK(e,{...t,weekStartsOn:1})}function n$(e,t){let n=nq(e,null==t?void 0:t.in),r=n.getFullYear(),i=nH(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=nG(i),o=nH(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let l=nG(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function nZ(e,t){let n=nq(e,null==t?void 0:t.in);return Math.round((nG(n)-function(e,t){let n=n$(e,void 0),r=nH(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),nG(r)}(n))/6048e5)+1}function nX(e,t){var n,r,i,a,o,l,s,c;let u=nq(e,null==t?void 0:t.in),d=u.getFullYear(),p=null!=(c=null!=(s=null!=(l=null!=(o=null==t?void 0:t.firstWeekContainsDate)?o:null==t||null==(r=t.locale)||null==(n=r.options)?void 0:n.firstWeekContainsDate)?l:nV.firstWeekContainsDate)?s:null==(a=nV.locale)||null==(i=a.options)?void 0:i.firstWeekContainsDate)?c:1,f=nH((null==t?void 0:t.in)||e,0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);let h=nK(f,t),m=nH((null==t?void 0:t.in)||e,0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);let g=nK(m,t);return+u>=+h?d+1:+u>=+g?d:d-1}function nJ(e,t){let n=nq(e,null==t?void 0:t.in);return Math.round((nK(n,t)-function(e,t){var n,r,i,a,o,l,s,c;let u=null!=(c=null!=(s=null!=(l=null!=(o=null==t?void 0:t.firstWeekContainsDate)?o:null==t||null==(r=t.locale)||null==(n=r.options)?void 0:n.firstWeekContainsDate)?l:nV.firstWeekContainsDate)?s:null==(a=nV.locale)||null==(i=a.options)?void 0:i.firstWeekContainsDate)?c:1,d=nX(e,t),p=nH((null==t?void 0:t.in)||e,0);return p.setFullYear(d,0,u),p.setHours(0,0,0,0),nK(p,t)}(n,t))/6048e5)+1}function nQ(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let n1={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return nQ("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):nQ(n+1,2)},d:(e,t)=>nQ(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>nQ(e.getHours()%12||12,t.length),H:(e,t)=>nQ(e.getHours(),t.length),m:(e,t)=>nQ(e.getMinutes(),t.length),s:(e,t)=>nQ(e.getSeconds(),t.length),S(e,t){let n=t.length;return nQ(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},n2={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n0={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return n1.y(e,t)},Y:function(e,t,n,r){let i=nX(e,r),a=i>0?i:1-i;return"YY"===t?nQ(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):nQ(a,t.length)},R:function(e,t){return nQ(n$(e),t.length)},u:function(e,t){return nQ(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return nQ(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return nQ(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return n1.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return nQ(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let i=nJ(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):nQ(i,t.length)},I:function(e,t,n){let r=nZ(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):nQ(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):n1.d(e,t)},D:function(e,t,n){let r=function(e,t){let n=nq(e,void 0);return function(e,t,n){let[r,i]=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=nH.bind(null,e||n.find(e=>"object"==typeof e));return n.map(i)}(void 0,e,t),a=nY(r),o=nY(i);return Math.round((a-nW(a)-(o-nW(o)))/864e5)}(n,function(e,t){let n=nq(e,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):nQ(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return nQ(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return nQ(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return nQ(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r,i=e.getHours();switch(r=12===i?n2.noon:0===i?n2.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r,i=e.getHours();switch(r=i>=17?n2.evening:i>=12?n2.afternoon:i>=4?n2.morning:n2.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return n1.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):n1.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):nQ(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):nQ(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):n1.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):n1.s(e,t)},S:function(e,t){return n1.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return n7(r);case"XXXX":case"XX":return n3(r);default:return n3(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return n7(r);case"xxxx":case"xx":return n3(r);default:return n3(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+n5(r,":");default:return"GMT"+n3(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+n5(r,":");default:return"GMT"+n3(r,":")}},t:function(e,t,n){return nQ(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return nQ(+e,t.length)}};function n5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+nQ(a,2)}function n7(e,t){return e%60==0?(e>0?"-":"+")+nQ(Math.abs(e)/60,2):n3(e,t)}function n3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+nQ(Math.trunc(n/60),2)+t+nQ(n%60,2)}let n8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},n4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},n6={p:n4,P:(e,t)=>{let n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return n8(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",n8(i,t)).replace("{{time}}",n4(a,t))}},n9=/^D+$/,re=/^Y+$/,rt=["D","DD","YY","YYYY"];function rn(e,t,n){let r=function(e,t,n){let r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),rt.includes(e))throw RangeError(r)}let rr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ri=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ra=/^'([^]*?)'?$/,ro=/''/g,rl=/[a-zA-Z]/;function rs(e,t,n){var r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x;let C=null!=(p=null!=(d=null==n?void 0:n.locale)?d:nV.locale)?p:nz,k=null!=(g=null!=(m=null!=(h=null!=(f=null==n?void 0:n.firstWeekContainsDate)?f:null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?h:nV.firstWeekContainsDate)?m:null==(o=nV.locale)||null==(a=o.options)?void 0:a.firstWeekContainsDate)?g:1,w=null!=(x=null!=(b=null!=(v=null!=(y=null==n?void 0:n.weekStartsOn)?y:null==n||null==(s=n.locale)||null==(l=s.options)?void 0:l.weekStartsOn)?v:nV.weekStartsOn)?b:null==(u=nV.locale)||null==(c=u.options)?void 0:c.weekStartsOn)?x:0,_=nq(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+nq(_)))throw RangeError("Invalid time value");let j=t.match(ri).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,n6[t])(e,C.formatLong):e}).join("").match(rr).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(ra);return t?t[1].replace(ro,"'"):e}(e)};if(n0[t])return{isToken:!0,value:e};if(t.match(rl))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});C.localize.preprocessor&&(j=C.localize.preprocessor(_,j));let S={firstWeekContainsDate:k,weekStartsOn:w,locale:C};return j.map(r=>{if(!r.isToken)return r.value;let i=r.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&re.test(i)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&n9.test(i))&&rn(i,t,String(e)),(0,n0[i[0]])(_,i,C.localize,S)}).join("")}var rc=e.i(299749);class ru{validate(e,t){return!0}constructor(){(0,rc._)(this,"subPriority",0)}}class rd extends ru{validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}}class rp extends ru{set(e,t){return t.timestampIsSet?e:nH(e,function(e,t){var n,r;let i="function"==typeof(n=t)&&(null==(r=n.prototype)?void 0:r.constructor)===n?new t(0):nH(t,0);return i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),i}(e,this.context))}constructor(e,t){super(),(0,rc._)(this,"priority",10),(0,rc._)(this,"subPriority",-1),this.context=e||(e=>nH(t,e))}}class rf{run(e,t,n,r){let i=this.parse(e,t,n,r);return i?{setter:new rd(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}let rh={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rm={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function rg(e,t){return e?{value:t(e.value),rest:e.rest}:e}function ry(e,t){let n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function rv(e,t){let n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};let r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0;return{value:r*(36e5*i+6e4*(n[3]?parseInt(n[3],10):0)+(n[5]?parseInt(n[5],10):0)*1e3),rest:t.slice(n[0].length)}}function rb(e){return ry(rh.anyDigitsSigned,e)}function rx(e,t){switch(e){case 1:return ry(rh.singleDigit,t);case 2:return ry(rh.twoDigits,t);case 3:return ry(rh.threeDigits,t);case 4:return ry(rh.fourDigits,t);default:return ry(RegExp("^\\d{1,"+e+"}"),t)}}function rC(e,t){switch(e){case 1:return ry(rh.singleDigitSigned,t);case 2:return ry(rh.twoDigitsSigned,t);case 3:return ry(rh.threeDigitsSigned,t);case 4:return ry(rh.fourDigitsSigned,t);default:return ry(RegExp("^-?\\d{1,"+e+"}"),t)}}function rk(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function rw(e,t){let n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{let t=i+50;n=e+100*Math.trunc(t/100)-100*(e>=t%100)}return r?n:1-n}function r_(e){return e%400==0||e%4==0&&e%100!=0}let rj=[31,28,31,30,31,30,31,31,30,31,30,31],rS=[31,29,31,30,31,30,31,31,30,31,30,31];function rE(e,t,n){let r=nq(e,null==n?void 0:n.in);return isNaN(t)?nH((null==n?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function rT(e,t,n){var r,i,a,o,l,s,c,u;let d=null!=(u=null!=(c=null!=(s=null!=(l=null==n?void 0:n.weekStartsOn)?l:null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.weekStartsOn)?s:nV.weekStartsOn)?c:null==(o=nV.locale)||null==(a=o.options)?void 0:a.weekStartsOn)?u:0,p=nq(e,null==n?void 0:n.in),f=p.getDay(),h=7-d;return rE(p,t<0||t>6?t-(f+h)%7:((t%7+7)%7+h)%7-(f+h)%7,n)}let rD={G:new class extends rf{parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",140),(0,rc._)(this,"incompatibleTokens",["R","u","t","T"])}},y:new class extends rf{parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return rg(rx(4,e),r);case"yo":return rg(n.ordinalNumber(e,{unit:"year"}),r);default:return rg(rx(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){let r=e.getFullYear();if(n.isTwoDigitYear){let t=rw(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}let i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",130),(0,rc._)(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}},Y:new class extends rf{parse(e,t,n){let r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return rg(rx(4,e),r);case"Yo":return rg(n.ordinalNumber(e,{unit:"year"}),r);default:return rg(rx(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){let i=nX(e,r);if(n.isTwoDigitYear){let t=rw(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),nK(e,r)}let a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),nK(e,r)}constructor(...e){super(...e),(0,rc._)(this,"priority",130),(0,rc._)(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}},R:new class extends rf{parse(e,t){return"R"===t?rC(4,e):rC(t.length,e)}set(e,t,n){let r=nH(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),nG(r)}constructor(...e){super(...e),(0,rc._)(this,"priority",130),(0,rc._)(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}},u:new class extends rf{parse(e,t){return"u"===t?rC(4,e):rC(t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",130),(0,rc._)(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}},Q:new class extends rf{parse(e,t,n){switch(t){case"Q":case"QQ":return rx(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",120),(0,rc._)(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}},q:new class extends rf{parse(e,t,n){switch(t){case"q":case"qq":return rx(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",120),(0,rc._)(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}},M:new class extends rf{parse(e,t,n){let r=e=>e-1;switch(t){case"M":return rg(ry(rh.month,e),r);case"MM":return rg(rx(2,e),r);case"Mo":return rg(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,rc._)(this,"priority",110)}},L:new class extends rf{parse(e,t,n){let r=e=>e-1;switch(t){case"L":return rg(ry(rh.month,e),r);case"LL":return rg(rx(2,e),r);case"Lo":return rg(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",110),(0,rc._)(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}},w:new class extends rf{parse(e,t,n){switch(t){case"w":return ry(rh.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return rx(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return nK(function(e,t,n){let r=nq(e,null==n?void 0:n.in),i=nJ(r,n)-t;return r.setDate(r.getDate()-7*i),nq(r,null==n?void 0:n.in)}(e,n,r),r)}constructor(...e){super(...e),(0,rc._)(this,"priority",100),(0,rc._)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}},I:new class extends rf{parse(e,t,n){switch(t){case"I":return ry(rh.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return rx(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return nG(function(e,t,n){let r=nq(e,void 0),i=nZ(r,void 0)-t;return r.setDate(r.getDate()-7*i),r}(e,n))}constructor(...e){super(...e),(0,rc._)(this,"priority",100),(0,rc._)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}},d:new class extends rf{parse(e,t,n){switch(t){case"d":return ry(rh.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return rx(t.length,e)}}validate(e,t){let n=r_(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=rS[r]:t>=1&&t<=rj[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",90),(0,rc._)(this,"subPriority",1),(0,rc._)(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}},D:new class extends rf{parse(e,t,n){switch(t){case"D":case"DD":return ry(rh.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return rx(t.length,e)}}validate(e,t){return r_(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",90),(0,rc._)(this,"subpriority",1),(0,rc._)(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}},E:new class extends rf{parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=rT(e,n,r)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",90),(0,rc._)(this,"incompatibleTokens",["D","i","e","c","t","T"])}},e:new class extends rf{parse(e,t,n,r){let i=e=>{let t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return rg(rx(t.length,e),i);case"eo":return rg(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=rT(e,n,r)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",90),(0,rc._)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}},c:new class extends rf{parse(e,t,n,r){let i=e=>{let t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return rg(rx(t.length,e),i);case"co":return rg(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=rT(e,n,r)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",90),(0,rc._)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}},i:new class extends rf{parse(e,t,n){let r=e=>0===e?7:e;switch(t){case"i":case"ii":return rx(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return rg(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return rg(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return rg(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return rg(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=function(e,t,n){let r=nq(e,void 0),i=function(e,t){let n=nq(e,null==t?void 0:t.in).getDay();return 0===n?7:n}(r,void 0);return rE(r,t-i,n)}(e,n)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",90),(0,rc._)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}},a:new class extends rf{parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(rk(n),0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",80),(0,rc._)(this,"incompatibleTokens",["b","B","H","k","t","T"])}},b:new class extends rf{parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(rk(n),0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",80),(0,rc._)(this,"incompatibleTokens",["a","B","H","k","t","T"])}},B:new class extends rf{parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(rk(n),0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",80),(0,rc._)(this,"incompatibleTokens",["a","b","t","T"])}},h:new class extends rf{parse(e,t,n){switch(t){case"h":return ry(rh.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return rx(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){let r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",70),(0,rc._)(this,"incompatibleTokens",["H","K","k","t","T"])}},H:new class extends rf{parse(e,t,n){switch(t){case"H":return ry(rh.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return rx(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",70),(0,rc._)(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}},K:new class extends rf{parse(e,t,n){switch(t){case"K":return ry(rh.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return rx(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",70),(0,rc._)(this,"incompatibleTokens",["h","H","k","t","T"])}},k:new class extends rf{parse(e,t,n){switch(t){case"k":return ry(rh.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return rx(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){return e.setHours(n<=24?n%24:n,0,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",70),(0,rc._)(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}},m:new class extends rf{parse(e,t,n){switch(t){case"m":return ry(rh.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return rx(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",60),(0,rc._)(this,"incompatibleTokens",["t","T"])}},s:new class extends rf{parse(e,t,n){switch(t){case"s":return ry(rh.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return rx(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}constructor(...e){super(...e),(0,rc._)(this,"priority",50),(0,rc._)(this,"incompatibleTokens",["t","T"])}},S:new class extends rf{parse(e,t){return rg(rx(t.length,e),e=>Math.trunc(e*Math.pow(10,-t.length+3)))}set(e,t,n){return e.setMilliseconds(n),e}constructor(...e){super(...e),(0,rc._)(this,"priority",30),(0,rc._)(this,"incompatibleTokens",["t","T"])}},X:new class extends rf{parse(e,t){switch(t){case"X":return rv(rm.basicOptionalMinutes,e);case"XX":return rv(rm.basic,e);case"XXXX":return rv(rm.basicOptionalSeconds,e);case"XXXXX":return rv(rm.extendedOptionalSeconds,e);default:return rv(rm.extended,e)}}set(e,t,n){return t.timestampIsSet?e:nH(e,e.getTime()-nW(e)-n)}constructor(...e){super(...e),(0,rc._)(this,"priority",10),(0,rc._)(this,"incompatibleTokens",["t","T","x"])}},x:new class extends rf{parse(e,t){switch(t){case"x":return rv(rm.basicOptionalMinutes,e);case"xx":return rv(rm.basic,e);case"xxxx":return rv(rm.basicOptionalSeconds,e);case"xxxxx":return rv(rm.extendedOptionalSeconds,e);default:return rv(rm.extended,e)}}set(e,t,n){return t.timestampIsSet?e:nH(e,e.getTime()-nW(e)-n)}constructor(...e){super(...e),(0,rc._)(this,"priority",10),(0,rc._)(this,"incompatibleTokens",["t","T","X"])}},t:new class extends rf{parse(e){return rb(e)}set(e,t,n){return[nH(e,1e3*n),{timestampIsSet:!0}]}constructor(...e){super(...e),(0,rc._)(this,"priority",40),(0,rc._)(this,"incompatibleTokens","*")}},T:new class extends rf{parse(e){return rb(e)}set(e,t,n){return[nH(e,n),{timestampIsSet:!0}]}constructor(...e){super(...e),(0,rc._)(this,"priority",20),(0,rc._)(this,"incompatibleTokens","*")}}},rI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rO=/^'([^]*?)'?$/,rP=/''/g,rM=/\S/,rF=/[a-zA-Z]/,rR={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rz(e){return e?parseInt(e):1}function rV(e){return e&&parseFloat(e.replace(",","."))||0}let rU=[31,null,31,30,31,30,31,31,30,31,30,31];function rH(e){return e%400==0||e%4==0&&e%100!=0}let rq=e=>e.replace(/@posix$/,"");function rW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",r=rq(n);return new Intl.DateTimeFormat(r,{month:t}).format(e)}function rY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",r=rq(n);return new Intl.DateTimeFormat(r,{weekday:t}).format(e)}function rK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",r=rq(n);return new Intl.DateTimeFormat(r,t).format(e)}function rG(e,t){return String(e).padStart(t,"0")}function r$(e){let t=e%10,n=e%100;return 1===t&&11!==n?"".concat(e,"st"):2===t&&12!==n?"".concat(e,"nd"):3===t&&13!==n?"".concat(e,"rd"):"".concat(e,"th")}function rZ(e){let t=e.getDay();return 0===t?7:t}function rX(e){let t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=rZ(t);return t.setUTCDate(t.getUTCDate()-n+4),t.getUTCFullYear()}function rJ(e){let t=new Date(Date.UTC(e.getFullYear(),0,1));return Math.floor((e.valueOf()-t.valueOf()+(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)+1}function rQ(e){let t=new Intl.DateTimeFormat(rq("en-US"),{timeZoneName:"short"}).formatToParts(e).find(e=>"timeZoneName"===e.type);return t?t.value:""}let r1="YYYY-MM-DD",r2="HH:mm",r0=Intl.DateTimeFormat().resolvedOptions().timeZone;function r5(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{useUTC:!1,timeZone:void 0},{useUTC:r,timeZone:i}=n;return function(e,t){let n=[],r=t.replace(/\[([^\]]+)\]/g,(e,t)=>(n.push(t),"")),i=e.getFullYear(),a=e.getMonth(),o=e.getDate(),l=e.getDay(),s=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),d=function(e){let t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=rZ(t);t.setUTCDate(t.getUTCDate()-n+4);let r=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.valueOf()-r.valueOf())/864e5+1)/7)}(e),p=rX(e),f=rX(e),h=e.getTime(),m=Math.floor(h/1e3),g=[{key:"YYYY",getValue:()=>String(i)},{key:"YY",getValue:()=>String(i).slice(-2)},{key:"Y",getValue:()=>String(i)},{key:"YYYYY",getValue:()=>rG(i,5)},{key:"GGGG",getValue:()=>String(p)},{key:"GG",getValue:()=>String(p).slice(-2)},{key:"gggg",getValue:()=>String(f)},{key:"gg",getValue:()=>String(f).slice(-2)},{key:"Q",getValue:()=>String(Math.floor(a/3)+1)},{key:"Qo",getValue:()=>r$(Math.floor(a/3)+1)},{key:"MMMM",getValue:()=>rW(e,"long")},{key:"MMM",getValue:()=>rW(e,"short")},{key:"MM",getValue:()=>rG(a+1,2)},{key:"M",getValue:()=>String(a+1)},{key:"Mo",getValue:()=>r$(a+1)},{key:"DD",getValue:()=>rG(o,2)},{key:"D",getValue:()=>String(o)},{key:"Do",getValue:()=>r$(o)},{key:"dddd",getValue:()=>rY(e,"long")},{key:"ddd",getValue:()=>rY(e,"short")},{key:"dd",getValue:()=>rY(e,"short").slice(0,2)},{key:"d",getValue:()=>String(l)},{key:"do",getValue:()=>r$(l+1)},{key:"DDDD",getValue:()=>rG(rJ(e),3)},{key:"DDD",getValue:()=>String(rJ(e))},{key:"DDDo",getValue:()=>r$(rJ(e))},{key:"E",getValue:()=>String(rZ(e))},{key:"w",getValue:()=>rG(d,2)},{key:"wo",getValue:()=>r$(d)},{key:"ww",getValue:()=>rG(d,2)},{key:"WW",getValue:()=>rG(d,2)},{key:"W",getValue:()=>String(d)},{key:"Wo",getValue:()=>r$(d)},{key:"HH",getValue:()=>rG(s,2)},{key:"H",getValue:()=>String(s)},{key:"hh",getValue:()=>rG((s+11)%12+1,2)},{key:"h",getValue:()=>String((s+11)%12+1)},{key:"k",getValue:()=>String(s||24)},{key:"kk",getValue:()=>rG(s||24,2)},{key:"mm",getValue:()=>rG(c,2)},{key:"m",getValue:()=>String(c)},{key:"ss",getValue:()=>rG(u,2)},{key:"s",getValue:()=>String(u)},{key:"A",getValue:()=>s<12?"AM":"PM"},{key:"a",getValue:()=>s<12?"am":"pm"},{key:"X",getValue:()=>String(m)},{key:"x",getValue:()=>String(h)},{key:"N",getValue:()=>i<0?"BC":"AD"},{key:"NN",getValue:()=>i<0?"BC":"AD"},{key:"NNN",getValue:()=>i<0?"BC":"AD"},{key:"NNNN",getValue:()=>i<0?"Before Christ":"Anno Domini"},{key:"NNNNN",getValue:()=>i<0?"BC":"AD"},{key:"z",getValue:()=>rQ(e)},{key:"zz",getValue:()=>rQ(e)},{key:"Z",getValue:()=>rs(e,"xxx")},{key:"ZZ",getValue:()=>rs(e,"xx")},{key:"LTS",getValue:()=>rK(e,{timeStyle:"medium"})},{key:"LT",getValue:()=>rK(e,{timeStyle:"short"})},{key:"LLLL",getValue:()=>rK(e,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},{key:"LLL",getValue:()=>rK(e,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},{key:"LL",getValue:()=>rK(e,{year:"numeric",month:"long",day:"numeric"})},{key:"L",getValue:()=>rK(e,{year:"numeric",month:"2-digit",day:"2-digit"})},{key:"llll",getValue:()=>rK(e,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},{key:"lll",getValue:()=>rK(e,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},{key:"ll",getValue:()=>rK(e,{year:"numeric",month:"short",day:"numeric"})},{key:"l",getValue:()=>rK(e,{year:"numeric",month:"numeric",day:"numeric"})}];g.sort((e,t)=>t.key.length-e.key.length);let y=RegExp("(?<!LT)S{1,4}","g"),v=r.replace(y,t=>(function(e,t){let n=rG(e.getMilliseconds(),3);return 1===t?n.slice(0,1):2===t?n.slice(0,2):3===t?n:"".concat(n,"0")})(e,t.length));for(let{key:e,getValue:t}of g){let n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp("(^|[^A-Z0-9a-z])(".concat(n,")(?![A-Z0-9a-z])"),"g");if(v.match(r)){let e=t();v=v.replace(r,"$1".concat(e))}}return v.replace(RegExp("","g"),()=>n.shift()||"")}(r?new nO(e):i?new nE(e,i||r0):new Date(e),t)}function r7(e,t,n){let r=t?function(e){let t={YYYY:"yyyy",YY:"yy",MMMM:"MMMM",MMM:"MMM",MM:"MM",M:"M",DD:"dd",D:"d",dddd:"EEEE",ddd:"EEE",HH:"HH",H:"H",hh:"hh",h:"h",mm:"mm",m:"m",ss:"ss",s:"s",A:"a",a:"a"};return Object.keys(t).reduce((e,n)=>e.replace(RegExp(n,"g"),t[n]),e)}(t):void 0,i=r?function(e,t,n,r){var i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w;let _=()=>nH(n,NaN),j=Object.assign({},nV),S=null!=(f=(p=void 0,j.locale))?f:nz,E=null!=(y=null!=(g=null!=(m=null!=(h=null==r?void 0:r.firstWeekContainsDate)?h:null==r||null==(a=r.locale)||null==(i=a.options)?void 0:i.firstWeekContainsDate)?m:j.firstWeekContainsDate)?g:null==(l=j.locale)||null==(o=l.options)?void 0:o.firstWeekContainsDate)?y:1,T=null!=(C=null!=(x=null!=(b=null!=(v=null==r?void 0:r.weekStartsOn)?v:null==r||null==(c=r.locale)||null==(s=c.options)?void 0:s.weekStartsOn)?b:j.weekStartsOn)?x:null==(d=j.locale)||null==(u=d.options)?void 0:u.weekStartsOn)?C:0;if(!t)return e?_():nq(n,null==r?void 0:r.in);let D={firstWeekContainsDate:E,weekStartsOn:T,locale:S},I=[new rp(null==r?void 0:r.in,n)],A=t.match(rA).map(e=>{let t=e[0];return t in n6?(0,n6[t])(e,S.formatLong):e}).join("").match(rI),O=[];for(let n of A){!(null==r?void 0:r.useAdditionalWeekYearTokens)&&(k=n,re.test(k))&&rn(n,t,e),!(null==r?void 0:r.useAdditionalDayOfYearTokens)&&(w=n,n9.test(w))&&rn(n,t,e);let i=n[0],a=rD[i];if(a){let{incompatibleTokens:t}=a;if(Array.isArray(t)){let e=O.find(e=>t.includes(e.token)||e.token===i);if(e)throw RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(n,"` at the same time"))}else if("*"===a.incompatibleTokens&&O.length>0)throw RangeError("The format string mustn't contain `".concat(n,"` and any other token at the same time"));O.push({token:i,fullToken:n});let r=a.run(e,n,S.match,D);if(!r)return _();I.push(r.setter),e=r.rest}else{if(i.match(rF))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===n?n="'":"'"===i&&(n=n.match(rO)[1].replace(rP,"'")),0!==e.indexOf(n))return _();e=e.slice(n.length)}}if(e.length>0&&rM.test(e))return _();let P=I.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>I.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]),M=nq(n,null==r?void 0:r.in);if(isNaN(+M))return _();let F={};for(let e of P){if(!e.validate(M,D))return _();let t=e.set(M,F,D);Array.isArray(t)?(M=t[0],Object.assign(F,t[1])):M=t}return M}(e,r,new Date):function(e,t){var n;let r,i,a=()=>nH(void 0,NaN),o=(n=void 0,2),l=function(e){let t,n={},r=e.split(rR.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],rR.timeZoneDelimiter.test(n.date)&&(n.date=e.split(rR.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=rR.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(l.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(l.date,o);r=function(e,t){var n,r,i,a,o,l,s;if(null===t)return new Date(NaN);let c=e.match(rB);if(!c)return new Date(NaN);let u=!!c[4],d=rz(c[1]),p=rz(c[2])-1,f=rz(c[3]),h=rz(c[4]),m=rz(c[5])-1;if(u){return(n=h,r=m,n>=1&&n<=53&&r>=0&&r<=6)?function(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((t-1)*7+n+1-i)),r}(t,h,m):new Date(NaN)}{let e=new Date(0);return(i=t,a=p,o=f,a>=0&&a<=11&&o>=1&&o<=(rU[a]||(rH(i)?29:28))&&(l=t,(s=d)>=1&&s<=(rH(l)?366:365)))?(e.setUTCFullYear(t,p,Math.max(d,f)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(+r))return a();let s=+r,c=0;if(l.time&&isNaN(c=function(e){var t,n,r;let i=e.match(rN);if(!i)return NaN;let a=rV(i[1]),o=rV(i[2]),l=rV(i[3]);return(t=a,n=o,r=l,24===t?0===n&&0===r:r>=0&&r<60&&n>=0&&n<60&&t>=0&&t<25)?36e5*a+6e4*o+1e3*l:NaN}(l.time)))return a();if(l.timezone){if(isNaN(i=function(e){var t;if("Z"===e)return 0;let n=e.match(rL);if(!n)return 0;let r="+"===n[1]?-1:1,i=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return(t=a)>=0&&t<=59?r*(36e5*i+6e4*a):NaN}(l.timezone)))return a()}else{let e=new Date(s+c),n=nq(0,null==t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return nq(s+c+i,null==t?void 0:t.in)}(e);return i&&!isNaN(i.getTime())?{isValid:!0,date:n&&r3(n)?new nE(i,n):i}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function r3(e){return Intl.supportedValuesOf("timeZone").includes(e)}e.s(["getImageDimensions",()=>iM,"isAssetObjectStub",()=>ib,"isDefaultCrop",()=>iS,"isDefaultHotspot",()=>iE,"isFileAssetId",()=>iv,"isFileSource",()=>iW,"isImageAssetId",()=>iy,"isImageSource",()=>iY],210810);let r8="https://cdn.sanity.io",r4=/^https:\/\/cdn\.sanity\./,r6=/^https:\/\/cdn\.[^/]+\/(images|files)\/[^/]+\/.*?[a-zA-Z0-9_]{24,40}.*$/,r9=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,ie=/^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/,it=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,ir=/^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+$/,ii=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,ia=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/,io="sanity.fileAsset",il={projectId:"a",dataset:"b"},is="upload-in-progress-placeholder",ic="upload-in-progress";class iu extends Error{constructor(e,t="Failed to resolve asset ID from source"){super(t),this.unresolvable=!0,this.input=e}}function id(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e(...n)}catch(e){if(e.unresolvable&&"input"in e)return;throw e}}}function ip(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e}function ih(e){return ip(e)&&"string"==typeof e._ref}function im(e){return ip(e)&&"string"==typeof e.path}function ig(e){return ip(e)&&"string"==typeof e.url}function iy(e){return ir.test(e)}function iv(e){return ie.test(e)}function ib(e){return ip(e)&&!!e.asset&&"object"==typeof e.asset}function ix(e){return ip(e)&&!!e._upload&&!("asset"in e)}function iC(e){return r4.test(e)||r6.test(e)}let ik=Object.freeze({left:0,top:0,bottom:0,right:0}),iw=Object.freeze({x:.5,y:.5,height:1,width:1}),i_=()=>({...ik}),ij=()=>({...iw}),iS=e=>{let{top:t,bottom:n,left:r,right:i}=e,{top:a,bottom:o,left:l,right:s}=ik;return t===a&&n===o&&r===l&&i===s},iE=e=>{let{x:t,y:n,width:r,height:i}=e,{x:a,y:o,width:l,height:s}=iw;return t===a&&n===o&&r===l&&i===s};function iT(e,t){let n=(null==t?void 0:t.projectId)||e.projectId,r=(null==t?void 0:t.dataset)||e.dataset;if(!n||!r)throw Error("Project details (projectId and dataset) required to resolve path for image");let i="metadata"in e?e.metadata.dimensions:{width:e.width,height:e.height},a="originalFilename"in e?e.originalFilename:void 0,{assetId:o,extension:l,vanityFilename:s}=e,{width:c,height:u}=i,d=iO(a,s,t);return"images/".concat(n,"/").concat(r,"/").concat(o,"-").concat(c,"x").concat(u,".").concat(l).concat(d)}function iD(e,t){let n=(null==t?void 0:t.projectId)||e.projectId,r=(null==t?void 0:t.dataset)||e.dataset;if(!n||!r)throw Error("Project details (projectId and dataset) required to resolve path for file");let i="originalFilename"in e?e.originalFilename:void 0,{assetId:a,extension:o,vanityFilename:l}=e,s=iO(i,l,t);return"files/".concat(n,"/").concat(r,"/").concat(a,".").concat(o).concat(s)}function iI(e){if(ii.test(e))return e;if(!iC(e))throw new iu('Failed to resolve path from URL "'.concat(e,'"'));return new URL(e).pathname.replace(/^\/+/,"")}let iA=id(iI);function iO(e,t,n){let r=t||e;return(null==n?void 0:n.useVanityName)!==!1&&r?"/".concat(r):""}function iP(e){let[,t,n,r]=e.split("-"),[i,a]=(n||"").split("x").map(Number);if(!t||!n||!r||!(i>0)||!(a>0))throw Error("Malformed asset ID '".concat(e,"'. Expected an id like \"").concat("image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg",'".'));return{type:"image",assetId:t,width:i,height:a,extension:r}}function iM(e){if(ix(e))return{width:0,height:0,aspectRatio:0};let{width:t,height:n}=iP(iL(e));return{width:t,height:n,aspectRatio:t/n}}function iF(e,t){if(ix(e))return{asset:{_id:is,_type:"sanity.imageAsset",assetId:ic,extension:"tmp",url:"",path:"",metadata:{dimensions:{width:1,height:1,aspectRatio:1}}},crop:i_(),hotspot:ij()};let n=t||iq(e);return{asset:iR(e,n),crop:e.crop||i_(),hotspot:e.hotspot||ij()}}function iR(e,t){let n={...t||iH(e),useVanityName:!1},r=iL(e),i=(e.asset||e).metadata||{},{assetId:a,width:o,height:l,extension:s}=iP(r),c={...ip(e)&&"sanity.imageAsset"===e._type?e:{},_id:r,_type:"sanity.imageAsset",assetId:a,extension:s,metadata:{...i,dimensions:{width:o,height:l,aspectRatio:o/l}},url:"",path:""};return{...c,path:iT(c,n),url:"".concat((null==n?void 0:n.baseUrl)||r8,"/").concat(iT(c,n))}}function iB(e,t){if(ix(e))return{asset:{_id:is,_type:io,assetId:ic,extension:"tmp",url:"",path:"",metadata:{}}};let n=t||iq(e);return{asset:iN(e,n)}}function iN(e,t){if(ix(e))return{assetId:ic,_id:is,_type:io,extension:"tmp",metadata:{},url:"",path:""};let n={...t||iH(e),useVanityName:!1},r=iL(e),i=e.asset||e,{assetId:a,extension:o}=function(e){if(!ie.test(e))throw Error("Malformed file asset ID '".concat(e,"'. Expected an id like \"").concat("file-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-pdf",'"'));let[,t,n]=e.split("-");return{type:"file",assetId:t,extension:n}}(r),l={...ip(e)&&"sanity.fileAsset"===e._type?e:{},_id:r,_type:"sanity.fileAsset",assetId:a,extension:o,metadata:i.metadata||{},url:"",path:""};return{...l,path:iD(l,n),url:"".concat((null==n?void 0:n.baseUrl)||r8,"/").concat(iD(l,n))}}function iL(e){if(ix(e))return is;let t=ib(e)?e.asset:e,n="";if("string"==typeof t?n=iV(t):ih(t)?n=t._ref:ip(t)&&"string"==typeof t._id?n=t._id:im(t)?n=iU("".concat(r8,"/").concat(t.path)):ig(t)&&(n=iU(t.url)),!(n&&ia.test(n)))throw new iu(e);return n}id(function(e){var t;let n=(iA(e)||e).replace(/^(images|files)\/[a-z0-9]+\/[a-z0-9][-\w]\/*/,"");if(t=n,!(r9.test(t)||it.test(t)))throw new iu('Failed to resolve filename from URL "'.concat(e,'"'));return n}),id(iM),id(function(e){return ix(e)?"tmp":iW(e)?iB(e,il).asset.extension:iF(e,il).asset.extension}),id(iF),id(iR),id(iB),id(iN);let iz=id(iL);function iV(e){var t,n;if(ia.test(e))return e;let r=iC(e)?new URL(e).pathname:e;if(0===r.indexOf("/images")||0===r.indexOf("/files"))return iU(e);if(ii.test(e))return iU("".concat(r8,"/").concat(e));if(t=e,r9.test(t))return iU("".concat(r8,"/files/a/b/").concat(e));if(n=e,it.test(n))return iU("".concat(r8,"/images/a/b/").concat(e));throw new iu(e)}function iU(e){let[t,,,n]=iI(e).split("/");return"".concat(t.replace(/s$/,""),"-").concat(n.replace(/\./g,"-"))}function iH(e){let t=function e(t){if(ib(t))return e(t.asset);if(!ih(t)){if("string"==typeof t)return ii.test(iA(t)||"")?iI(t):void 0;if(im(t))return t.path;if(ig(t))return iI(t.url)}}(e);if(!t)throw new iu(e,"Failed to resolve project ID and dataset from source");let[,,n,r]=t.match(ii)||[];if(!n||!r)throw new iu(e,"Failed to resolve project ID and dataset from source");return{projectId:n,dataset:r}}id(iV);let iq=id(iH);function iW(e){let t=iz(e);return!!t&&t.startsWith("file-")}function iY(e){let t=iz(e);return!!t&&t.startsWith("image-")}e.s(["createInstance",()=>aE],645141);let iK=e=>"string"==typeof e,iG=()=>{let e,t,n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},i$=e=>null==e?"":""+e,iZ=/###/g,iX=e=>e&&e.indexOf("###")>-1?e.replace(iZ,"."):e,iJ=e=>!e||iK(e),iQ=(e,t,n)=>{let r=iK(t)?t.split("."):t,i=0;for(;i<r.length-1;){if(iJ(e))return{};let t=iX(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return iJ(e)?{}:{obj:e,k:iX(r[i])}},i1=(e,t,n)=>{let{obj:r,k:i}=iQ(e,t,Object);if(void 0!==r||1===t.length){r[i]=n;return}let a=t[t.length-1],o=t.slice(0,t.length-1),l=iQ(e,o,Object);for(;void 0===l.obj&&o.length;)a="".concat(o[o.length-1],".").concat(a),(l=iQ(e,o=o.slice(0,o.length-1),Object))&&l.obj&&void 0!==l.obj["".concat(l.k,".").concat(a)]&&(l.obj=void 0);l.obj["".concat(l.k,".").concat(a)]=n},i2=(e,t)=>{let{obj:n,k:r}=iQ(e,t);if(n)return n[r]},i0=(e,t,n)=>{for(let r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?iK(e[r])||e[r]instanceof String||iK(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):i0(e[r],t[r],n):e[r]=t[r]);return e},i5=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let i3=e=>iK(e)?e.replace(/[&<>"'\/]/g,e=>i7[e]):e,i8=[" ",",","?","!",";"],i4=new class{getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}}(20),i6=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let r=t.split(n),i=e;for(let e=0;e<r.length;){let t;if(!i||"object"!=typeof i)return;let a="";for(let o=e;o<r.length;++o)if(o!==e&&(a+=n),a+=r[o],void 0!==(t=i[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&o<r.length-1)continue;e+=o-e+1;break}i=t}return i},i9=e=>e&&e.replace("_","-"),ae={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class at{init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ae,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(iK(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new at(this.logger,{...{prefix:"".concat(this.prefix,":").concat(e,":")},...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new at(this.logger,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}}var an=new at;class ar{on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[r,i]=t;for(let t=0;t<i;t++)r.apply(r,[e,...n])})}constructor(){this.observers={}}}class ai extends ar{addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?r=e.split("."):(r=[e,t],n&&(Array.isArray(n)?r.push(...n):iK(n)&&a?r.push(...n.split(a)):r.push(n)));let l=i2(this.data,r);return(!l&&!t&&!n&&e.indexOf(".")>-1&&(e=r[0],t=r[1],n=r.slice(2).join(".")),!l&&o&&iK(n))?i6(this.data&&this.data[e]&&this.data[e][t],n,a):l}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),i1(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let r in n)(iK(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=t,t=o[1]),this.addNamespaces(t);let l=i2(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?i0(l,n,i):l={...l,...n},i1(this.data,o,l),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}}var aa={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))}),t}};let ao={};class al extends ar{changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");let r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";let r=i8.filter(e=>0>t.indexOf(e)&&0>n.indexOf(e));if(0===r.length)return!0;let i=i4.getRegExp("(".concat(r.map(e=>"?"===e?"\\?":e).join("|"),")")),a=!i.test(e);if(!a){let t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(a=!0)}return a})(e,n,r);if(a&&!o){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:iK(i)?[i]:i};let a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return{key:e,namespaces:iK(i)?[i]:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],s=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return r?{res:"".concat(l).concat(e).concat(a),usedKey:a,exactUsedKey:a,usedLng:s,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:"".concat(l).concat(e).concat(a)}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:s,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}let u=this.resolve(e,t),d=u&&u.res,p=u&&u.usedKey||a,f=u&&u.exactUsedKey||a,h=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!iK(d)&&"boolean"!=typeof d&&"number"!=typeof d;if(g&&d&&y&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(h)&&!(iK(m)&&Array.isArray(d))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...t,ns:o}):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(i){let e=Array.isArray(d),n=e?[]:{},r=e?f:p;for(let e in d)if(Object.prototype.hasOwnProperty.call(d,e)){let a="".concat(r).concat(i).concat(e);n[e]=this.translate(a,{...t,joinArrays:!1,ns:o}),n[e]===a&&(n[e]=d[e])}d=n}}else if(g&&iK(m)&&Array.isArray(d))(d=d.join(m))&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,o=!1,c=void 0!==t.count&&!iK(t.count),p=al.hasDefaultValue(t),f=c?this.pluralResolver.getSuffix(s,t.count,t):"",h=t.ordinal&&c?this.pluralResolver.getSuffix(s,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]||t["defaultValue".concat(f)]||t["defaultValue".concat(h)]||t.defaultValue;!this.isValidLookup(d)&&p&&(r=!0,d=g),this.isValidLookup(d)||(o=!0,d=a);let y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:d,v=p&&g!==d&&this.options.updateMissing;if(o||r||v){if(this.logger.log(v?"updateKey":"missingKey",s,l,a,v?g:d),i){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let r=(e,n,r)=>{let i=p&&r!==d?r:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,n,i,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,l,n,i,v,t),this.emit("missingKey",e,l,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let n=this.pluralResolver.getSuffixes(e,t);m&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]&&0>n.indexOf("".concat(this.options.pluralSeparator,"zero"))&&n.push("".concat(this.options.pluralSeparator,"zero")),n.forEach(n=>{r([e],a+n,t["defaultValue".concat(n)]||g)})}):r(e,a,g))}d=this.extendTranslation(d,e,t,u,n),o&&d===a&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(a)),(o||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(a):a,r?d:void 0):this.options.parseMissingKeyHandler(d))}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){let o;n.interpolation&&this.interpolator.init({...n,...{interpolation:{...this.options.interpolation,...n.interpolation}}});let l=iK(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let s=n.replace&&!iK(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),e=this.interpolator.interpolate(e,s,n.lng||this.language||r.usedLng,n),l){let t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate(...r,t)},n)),n.interpolation&&this.interpolator.reset()}let o=n.postProcess||this.options.postProcess,l=iK(o)?[o]:o;return null!=e&&l&&l.length&&!1!==n.applyPostProcessor&&(e=aa.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return iK(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let l=this.extractFromKey(e,o),s=l.key;n=s;let c=l.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let u=void 0!==o.count&&!iK(o.count),d=u&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==o.context&&(iK(o.context)||"number"==typeof o.context)&&""!==o.context,f=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!ao["".concat(f[0],"-").concat(e)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ao["".concat(f[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(n=>{let a;if(this.isValidLookup(t))return;i=n;let l=[s];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(l,s,n,e,o);else{let e;u&&(e=this.pluralResolver.getSuffix(n,o.count,o));let t="".concat(this.options.pluralSeparator,"zero"),r="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(u&&(l.push(s+e),o.ordinal&&0===e.indexOf(r)&&l.push(s+e.replace(r,this.options.pluralSeparator)),d&&l.push(s+t)),p){let n="".concat(s).concat(this.options.contextSeparator).concat(o.context);l.push(n),u&&(l.push(n+e),o.ordinal&&0===e.indexOf(r)&&l.push(n+e.replace(r,this.options.pluralSeparator)),d&&l.push(n+t))}}for(;a=l.pop();)this.isValidLookup(t)||(r=a,t=this.getResource(n,e,a,o))}))})}),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!iK(e.replace),n=t?e.replace:e;if(t&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!t)for(let e of(n={...n},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete n[e];return n}static hasDefaultValue(e){let t="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=an.create("translator")}}let as=e=>e.charAt(0).toUpperCase()+e.slice(1);class ac{getScriptPartFromCode(e){if(!(e=i9(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=i9(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(iK(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(e){}let t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=as(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=as(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=as(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let n=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(e===n||!(0>e.indexOf("-")&&0>n.indexOf("-"))&&(e.indexOf("-")>0&&0>n.indexOf("-")&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),iK(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return iK(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):iK(e)&&i(this.formatLanguageCode(e)),n.forEach(e=>{0>r.indexOf(e)&&i(this.formatLanguageCode(e))}),r}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=an.create("languageUtils")}}let au=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ad={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(+(1!=e&&(e%10!=1||e%100==11))),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:3*(e%100==3||e%100==4)),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)},ap=["v1","v2","v3"],af=["v4"],ah={zero:0,one:1,two:2,few:3,many:4,other:5};class am{addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){let n,r=i9("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];try{n=new Intl.PluralRules(r,{type:i})}catch(i){if(!e.match(/-|_/))return;let r=this.languageUtils.getLanguagePartFromCode(e);n=this.getRule(r,t)}return this.pluralRulesCache[a]=n,n}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>ah[e]-ah[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,t){let n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));let i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!ap.includes(this.options.compatibilityJSON)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=an.create("pluralResolver"),(!this.options.compatibilityJSON||af.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{let e={};return au.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:ad[t.fc]}})}),e})(),this.pluralRulesCache={}}}let ag=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=((e,t,n)=>{let r=i2(e,n);return void 0!==r?r:i2(t,n)})(e,t,n);return!a&&i&&iK(n)&&void 0===(a=i6(e,n,r))&&(a=i6(t,n,r)),a},ay=e=>e.replace(/\$/g,"$$$$");class av{init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:s,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:i3,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?i5(i):a||"{{",this.suffix=o?i5(o):l||"}}",this.formatSeparator=s||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?i5(d):p||i5("$t("),this.nestingSuffix=f?i5(f):h||i5(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,n,r){let i,a,o,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},s=e=>{if(0>e.indexOf(this.formatSeparator)){let i=ag(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}let i=e.split(this.formatSeparator),a=i.shift().trim(),o=i.join(this.formatSeparator).trim();return this.format(ag(t,l,a,this.options.keySeparator,this.options.ignoreJSONStructure),o,n,{...r,...t,interpolationkey:a})};this.resetRegExp();let c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,u=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>ay(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?ay(this.escape(e)):ay(e)}].forEach(t=>{for(o=0;i=t.regex.exec(e);){let n=i[1].trim();if(void 0===(a=s(n)))if("function"==typeof c){let t=c(e,i,r);a=iK(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else if(u){a=i[0];continue}else this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a="";else iK(a)||this.useRawValueToEscape||(a=i$(a));let l=t.safeValue(a);if(e=e.replace(i[0],l),u?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=this.maxReplaces)break}}),e}nest(e,t){let n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(e,t)=>{let n=this.nestingOptionsSeparator;if(0>e.indexOf(n))return e;let r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0];let o=(a=this.interpolate(a,i)).match(/'/g),l=a.match(/"/g);(o&&o.length%2==0&&!l||l.length%2!=0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),t&&(i={...t,...i})}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(a)}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let l=[];(i=(i={...a}).replace&&!iK(i.replace)?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;let s=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){let e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),l=e,s=!0}if((r=t(o.call(this,n[1].trim(),i),i))&&n[0]===e&&!iK(r))return r;iK(r)||(r=i$(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),s&&(r=l.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=an.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}}let ab=e=>{let t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});let o=r+JSON.stringify(a),l=t[o];return l||(l=e(i9(r),i),t[o]=l),l(n)}};class ax{init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ab(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&0>i[0].indexOf(")")&&i.find(e=>e.indexOf(")")>-1)){let e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce((e,t)=>{let{formatName:i,formatOptions:a}=(e=>{let t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){let r=e.split("(");t=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);"currency"===t&&0>i.indexOf(":")?n.currency||(n.currency=i.trim()):"relativetime"===t&&0>i.indexOf(":")?n.range||(n.range=i.trim()):i.split(";").forEach(e=>{if(e){let[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();n[a]||(n[a]=i),"false"===i&&(n[a]=!1),"true"===i&&(n[a]=!0),isNaN(i)||(n[a]=parseInt(i,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{let o=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=o.locale||o.lng||r.locale||r.lng||n;t=this.formats[i](e,l,{...a,...r,...o})}catch(e){this.logger.warn(e)}return t}return this.logger.warn("there was no format function for ".concat(i)),e},e)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=an.create("formatter"),this.options=e,this.formats={number:ab((e,t)=>{let n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:ab((e,t)=>{let n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:ab((e,t)=>{let n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:ab((e,t)=>{let n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:ab((e,t)=>{let n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}}class aC extends ar{queueLoad(e,t,n,r){let i={},a={},o={},l={};return e.forEach(e=>{let r=!0;t.forEach(t=>{let o="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?void 0===a[o]&&(a[o]=!0):(this.state[o]=1,r=!1,void 0===a[o]&&(a[o]=!0),void 0===i[o]&&(i[o]=!0),void 0===l[t]&&(l[t]=!0)))}),r||(o[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){let r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),!t&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);let o={};this.queue.forEach(n=>{((e,t,n,r)=>{let{obj:i,k:a}=iQ(e,t,Object);i[a]=i[a]||[],i[a].push(n)})(n.loaded,[i],a),void 0!==n.pending[e]&&(delete n.pending[e],n.pendingCount--),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{o[e]||(o[e]={});let t=n.loaded[e];t.length&&t.forEach(t=>{void 0===o[e][t]&&(o[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:a});this.readingCalls++;let o=(o,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(o&&l&&r<this.maxRetries)return void setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*i,a)},i);a(o,l)},l=this.backend[n].bind(this.backend);if(2===l.length){try{let n=l(e,t);n&&"function"==typeof n.then?n.then(e=>o(null,e)).catch(o):o(null,n)}catch(e){o(e)}return}return l(e,t,o)}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();iK(e)&&(e=this.languageUtils.toResolveHierarchy(e)),iK(t)&&(t=[t]);let i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(n,a)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(i," for language ").concat(r," failed"),n),!n&&a&&this.logger.log("".concat(t,"loaded namespace ").concat(i," for language ").concat(r),a),this.loaded(e,n,a)})}saveMissing(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))return void this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=n&&""!==n){if(this.backend&&this.backend.create){let l={...a,isUpdate:i},s=this.backend.create.bind(this.backend);if(s.length<6)try{let i;(i=5===s.length?s(e,t,n,r,l):s(e,t,n,r))&&"function"==typeof i.then?i.then(e=>o(null,e)).catch(o):o(null,i)}catch(e){o(e)}else s(e,t,n,r,o,l)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=an.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}}let ak=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),iK(e[1])&&(t.defaultValue=e[1]),iK(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),aw=e=>(iK(e.ns)&&(e.ns=[e.ns]),iK(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),iK(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),a_=()=>{};class aj extends ar{init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(iK(t.ns)?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let r=ak();this.options={...r,...this.options,...aw(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?an.init(i(this.modules.logger),this.options):an.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=ax);let n=new ac(this.options);this.store=new ai(this.options.resources,this.options);let a=this.services;a.logger=an,a.resourceStore=this.store,a.languageUtils=n,a.pluralResolver=new am(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(a.formatter=i(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new av(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new aC(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)}),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new al(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=a_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let a=iG(),o=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_,n=t,r=iK(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};r?t(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,n){let r=iG();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=a_),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&aa.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;let r=iG();this.emit("languageChanging",e);let i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(i(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},o=t=>{e||t||!this.services.languageDetector||(t=[]);let n=iK(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{a(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;let i=function(e,t){let a,o;if("object"!=typeof t){for(var l=arguments.length,s=Array(l>2?l-2:0),c=2;c<l;c++)s[c-2]=arguments[c];a=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else a={...t};a.lng=a.lng||i.lng,a.lngs=a.lngs||i.lngs,a.ns=a.ns||i.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||n||i.keyPrefix);let u=r.options.keySeparator||".";return o=a.keyPrefix&&Array.isArray(e)?e.map(e=>"".concat(a.keyPrefix).concat(u).concat(e)):a.keyPrefix?"".concat(a.keyPrefix).concat(u).concat(e):e,r.t(o,a)};return iK(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;let a=(e,t)=>{let n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return -1===n||0===n||2===n};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!r||a(i,e)))}loadNamespaces(e,t){let n=iG();return this.options.ns?(iK(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){let n=iG();iK(e)&&(e=[e]);let r=this.options.preload||[],i=e.filter(e=>0>r.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=r.concat(i),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new ac(ak())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new aj(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r={...this.options,...e,isClone:!0},i=new aj(r);return(void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new ai(this.store.data,r),i.services.resourceStore=i.store),i.translator=new al(i.services,r),i.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)}),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=aw(e),this.services={},this.logger=an,this.modules={external:[]},(e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})})(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}}let aS=aj.createInstance();aS.createInstance=aj.createInstance;let aE=aS.createInstance;aS.dir,aS.init,aS.loadResources,aS.reloadResources,aS.use,aS.changeLanguage,aS.getFixedT,aS.t,aS.exists,aS.setDefaultNamespace,aS.hasLoadedNamespace,aS.loadNamespaces,aS.loadLanguages,e.s(["formatRelative",()=>os],387675);var aT={};function aD(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function aI(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function aA(e){aI(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===eq(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}function aO(e){aI(1,arguments);var t=aA(e);return t.setHours(0,0,0,0),t}function aP(e,t){aI(2,arguments);var n=aO(e),r=aO(t);return Math.round((n.getTime()-aD(n)-(r.getTime()-aD(r)))/864e5)}function aM(e){return aI(1,arguments),(!!function(e){return aI(1,arguments),e instanceof Date||"object"===eq(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)||"number"==typeof e)&&!isNaN(Number(aA(e)))}function aF(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function aR(e,t){return aI(2,arguments),new Date(aA(e).getTime()+aF(t))}function aB(e,t){return aI(2,arguments),aR(e,-aF(t))}function aN(e){aI(1,arguments);var t=aA(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(7*(n<1)+n-1)),t.setUTCHours(0,0,0,0),t}function aL(e){aI(1,arguments);var t=aA(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=aN(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=aN(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function az(e){aI(1,arguments);var t=aA(e);return Math.round((aN(t).getTime()-(function(e){aI(1,arguments);var t=aL(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),aN(n)})(t).getTime())/6048e5)+1}function aV(e,t){aI(1,arguments);var n,r,i,a,o,l,s,c,u=aF(null!=(n=null!=(r=null!=(i=null!=(a=null==t?void 0:t.weekStartsOn)?a:null==t||null==(o=t.locale)||null==(l=o.options)?void 0:l.weekStartsOn)?i:aT.weekStartsOn)?r:null==(s=aT.locale)||null==(c=s.options)?void 0:c.weekStartsOn)?n:0);if(!(u>=0&&u<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=aA(e),p=d.getUTCDay();return d.setUTCDate(d.getUTCDate()-(7*(p<u)+p-u)),d.setUTCHours(0,0,0,0),d}function aU(e,t){aI(1,arguments);var n,r,i,a,o,l,s,c,u=aA(e),d=u.getUTCFullYear(),p=aF(null!=(n=null!=(r=null!=(i=null!=(a=null==t?void 0:t.firstWeekContainsDate)?a:null==t||null==(o=t.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?i:aT.firstWeekContainsDate)?r:null==(s=aT.locale)||null==(c=s.options)?void 0:c.firstWeekContainsDate)?n:1);if(!(p>=1&&p<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var h=aV(f,t),m=new Date(0);m.setUTCFullYear(d,0,p),m.setUTCHours(0,0,0,0);var g=aV(m,t);return u.getTime()>=h.getTime()?d+1:u.getTime()>=g.getTime()?d:d-1}function aH(e,t){aI(1,arguments);var n=aA(e);return Math.round((aV(n,t).getTime()-(function(e,t){aI(1,arguments);var n,r,i,a,o,l,s,c,u=aF(null!=(n=null!=(r=null!=(i=null!=(a=null==t?void 0:t.firstWeekContainsDate)?a:null==t||null==(o=t.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?i:aT.firstWeekContainsDate)?r:null==(s=aT.locale)||null==(c=s.options)?void 0:c.firstWeekContainsDate)?n:1),d=aU(e,t),p=new Date(0);return p.setUTCFullYear(d,0,u),p.setUTCHours(0,0,0,0),aV(p,t)})(n,t).getTime())/6048e5)+1}function aq(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}let aW={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return aq("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):aq(n+1,2)},d:function(e,t){return aq(e.getUTCDate(),t.length)},h:function(e,t){return aq(e.getUTCHours()%12||12,t.length)},H:function(e,t){return aq(e.getUTCHours(),t.length)},m:function(e,t){return aq(e.getUTCMinutes(),t.length)},s:function(e,t){return aq(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length;return aq(Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3)),t.length)}};var aY={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function aK(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+(t||"")+aq(a,2)}function aG(e,t){return e%60==0?(e>0?"-":"+")+aq(Math.abs(e)/60,2):a$(e,t)}function a$(e,t){var n=Math.abs(e);return(e>0?"-":"+")+aq(Math.floor(n/60),2)+(t||"")+aq(n%60,2)}let aZ={G:function(e,t,n){var r=+(e.getUTCFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return aW.y(e,t)},Y:function(e,t,n,r){var i=aU(e,r),a=i>0?i:1-i;return"YY"===t?aq(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):aq(a,t.length)},R:function(e,t){return aq(aL(e),t.length)},u:function(e,t){return aq(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return aq(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return aq(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return aW.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return aq(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=aH(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):aq(i,t.length)},I:function(e,t,n){var r=az(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):aq(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):aW.d(e,t)},D:function(e,t,n){var r=function(e){aI(1,arguments);var t=aA(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):aq(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return aq(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return aq(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return aq(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?aY.noon:0===i?aY.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?aY.evening:i>=12?aY.afternoon:i>=4?aY.morning:aY.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return aW.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):aW.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):aq(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):aq(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):aW.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):aW.s(e,t)},S:function(e,t){return aW.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return aG(i);case"XXXX":case"XX":return a$(i);default:return a$(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return aG(i);case"xxxx":case"xx":return a$(i);default:return a$(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aK(i,":");default:return"GMT"+a$(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aK(i,":");default:return"GMT"+a$(i,":")}},t:function(e,t,n,r){return aq(Math.floor((r._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,r){return aq((r._originalDate||e).getTime(),t.length)}};var aX=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},aJ=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};let aQ={p:aJ,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return aX(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",aX(i,t)).replace("{{time}}",aJ(a,t))}};var a1=["D","DD"],a2=["YY","YYYY"];function a0(e){return -1!==a1.indexOf(e)}function a5(e){return -1!==a2.indexOf(e)}function a7(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var a3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a8(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var a4={date:a8({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a8({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a8({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a9(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!=n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,l=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function oe(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var l=o[0],s=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(s,function(e){return e.test(l)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(s,function(e){return e.test(l)});return n=e.valueCallback?e.valueCallback(c):c,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(l.length)}}}let ot={code:"en-US",formatDistance:function(e,t,n){var r,i=a3[e];if(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:a4,formatRelative:function(e,t,n,r){return a6[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:a9({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:a9({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:a9({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:a9({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:a9({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(i.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:oe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:oe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:oe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:oe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:oe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var on=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,or=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oi=/^'([^]*?)'?$/,oa=/''/g,oo=/[a-zA-Z]/;function ol(e,t,n){aI(2,arguments);var r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=String(t),k=null!=(r=null!=(i=null==n?void 0:n.locale)?i:aT.locale)?r:ot,w=aF(null!=(a=null!=(o=null!=(l=null!=(s=null==n?void 0:n.firstWeekContainsDate)?s:null==n||null==(c=n.locale)||null==(u=c.options)?void 0:u.firstWeekContainsDate)?l:aT.firstWeekContainsDate)?o:null==(d=aT.locale)||null==(p=d.options)?void 0:p.firstWeekContainsDate)?a:1);if(!(w>=1&&w<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=aF(null!=(f=null!=(h=null!=(m=null!=(g=null==n?void 0:n.weekStartsOn)?g:null==n||null==(y=n.locale)||null==(v=y.options)?void 0:v.weekStartsOn)?m:aT.weekStartsOn)?h:null==(b=aT.locale)||null==(x=b.options)?void 0:x.weekStartsOn)?f:0);if(!(_>=0&&_<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw RangeError("locale must contain localize property");if(!k.formatLong)throw RangeError("locale must contain formatLong property");var j=aA(e);if(!aM(j))throw RangeError("Invalid time value");var S=aD(j),E=aB(j,S),T={firstWeekContainsDate:w,weekStartsOn:_,locale:k,_originalDate:j};return C.match(or).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,aQ[t])(e,k.formatLong):e}).join("").match(on).map(function(r){if("''"===r)return"'";var i,a,o=r[0];if("'"===o){return(a=(i=r).match(oi))?a[1].replace(oa,"'"):i}var l=aZ[o];if(l)return!(null!=n&&n.useAdditionalWeekYearTokens)&&a5(r)&&a7(r,t,String(e)),!(null!=n&&n.useAdditionalDayOfYearTokens)&&a0(r)&&a7(r,t,String(e)),l(E,r,k.localize,T);if(o.match(oo))throw RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r}).join("")}function os(e,t,n){aI(2,arguments);var r,i,a,o,l,s,c,u,d,p,f,h=aA(e),m=aA(t),g=null!=(r=null!=(i=null==n?void 0:n.locale)?i:aT.locale)?r:ot,y=aF(null!=(a=null!=(o=null!=(l=null!=(s=null==n?void 0:n.weekStartsOn)?s:null==n||null==(c=n.locale)||null==(u=c.options)?void 0:u.weekStartsOn)?l:aT.weekStartsOn)?o:null==(d=aT.locale)||null==(p=d.options)?void 0:p.weekStartsOn)?a:0);if(!g.localize)throw RangeError("locale must contain localize property");if(!g.formatLong)throw RangeError("locale must contain formatLong property");if(!g.formatRelative)throw RangeError("locale must contain formatRelative property");var v=aP(h,m);if(isNaN(v))throw RangeError("Invalid time value");f=v<-6?"other":v<-1?"lastWeek":v<0?"yesterday":v<1?"today":v<2?"tomorrow":v<7?"nextWeek":"other";var b=aB(h,aD(h)),x=aB(m,aD(m));return ol(h,g.formatRelative(f,b,x,{locale:g,weekStartsOn:y}),{locale:g,weekStartsOn:y})}function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ou(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oc(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oc(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function od(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function op(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function of(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eU(e,t)}function oh(e){return(oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function om(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(om=function(){return!!e})()}function og(e){var t=om();return function(){var n,r=oh(e);n=t?Reflect.construct(r,arguments,oh(this).constructor):r.apply(this,arguments);if(n&&("object"==eq(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return op(this)}}function oy(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ov(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eW(r.key),r)}}function ob(e,t,n){return t&&ov(e.prototype,t),n&&ov(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}e.s(["isValid",()=>aM],303293),e.s(["parse",()=>lp],801601),e.s(["default",()=>op],971151),e.s(["default",()=>oh],487806),e.s(["default",()=>om],479671);var ox=function(){function e(){oy(this,e),eY(this,"priority",void 0),eY(this,"subPriority",0)}return ob(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),oC=function(e){of(n,e);var t=og(n);function n(e,r,i,a,o){var l;return oy(this,n),(l=t.call(this)).value=e,l.validateValue=r,l.setValue=i,l.priority=a,o&&(l.subPriority=o),l}return ob(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(ox),ok=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",10),eY(op(e),"subPriority",-1),e}return ob(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(ox),ow=function(){function e(){oy(this,e),eY(this,"incompatibleTokens",void 0),eY(this,"priority",void 0),eY(this,"subPriority",void 0)}return ob(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new oC(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),o_=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",140),eY(op(e),"incompatibleTokens",["R","u","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oj={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},oS={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function oE(e,t){return e?{value:t(e.value),rest:e.rest}:e}function oT(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function oD(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*((n[2]?parseInt(n[2],10):0)*36e5+(n[3]?parseInt(n[3],10):0)*6e4+(n[5]?parseInt(n[5],10):0)*1e3),rest:t.slice(n[0].length)}:null}function oI(e){return oT(oj.anyDigitsSigned,e)}function oA(e,t){switch(e){case 1:return oT(oj.singleDigit,t);case 2:return oT(oj.twoDigits,t);case 3:return oT(oj.threeDigits,t);case 4:return oT(oj.fourDigits,t);default:return oT(RegExp("^\\d{1,"+e+"}"),t)}}function oO(e,t){switch(e){case 1:return oT(oj.singleDigitSigned,t);case 2:return oT(oj.twoDigitsSigned,t);case 3:return oT(oj.threeDigitsSigned,t);case 4:return oT(oj.fourDigitsSigned,t);default:return oT(RegExp("^-?\\d{1,"+e+"}"),t)}}function oP(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function oM(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var a=i+50;n=e+100*Math.floor(a/100)-100*(e>=a%100)}return r?n:1-n}function oF(e){return e%400==0||e%4==0&&e%100!=0}var oR=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",130),eY(op(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return oE(oA(4,e),r);case"yo":return oE(n.ordinalNumber(e,{unit:"year"}),r);default:return oE(oA(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=oM(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oB=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",130),eY(op(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return oE(oA(4,e),r);case"Yo":return oE(n.ordinalNumber(e,{unit:"year"}),r);default:return oE(oA(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=aU(e,r);if(n.isTwoDigitYear){var a=oM(n.year,i);return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),aV(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),aV(e,r)}}]),n}(ow),oN=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",130),eY(op(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t){return"R"===t?oO(4,e):oO(t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),aN(r)}}]),n}(ow),oL=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",130),eY(op(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t){return"u"===t?oO(4,e):oO(t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oz=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",120),eY(op(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return oA(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oV=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",120),eY(op(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return oA(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oU=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),eY(op(e),"priority",110),e}return ob(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return oE(oT(oj.month,e),r);case"MM":return oE(oA(2,e),r);case"Mo":return oE(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oH=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",110),eY(op(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return oE(oT(oj.month,e),r);case"LL":return oE(oA(2,e),r);case"Lo":return oE(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(ow),oq=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",100),eY(op(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return oT(oj.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return aV(function(e,t,n){aI(2,arguments);var r=aA(e),i=aF(t),a=aH(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,n,r),r)}}]),n}(ow),oW=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",100),eY(op(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return oT(oj.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return aN(function(e,t){aI(2,arguments);var n=aA(e),r=aF(t),i=az(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(ow),oY=[31,28,31,30,31,30,31,31,30,31,30,31],oK=[31,29,31,30,31,30,31,31,30,31,30,31],oG=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",90),eY(op(e),"subPriority",1),eY(op(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return oT(oj.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){var n=oF(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=oK[r]:t>=1&&t<=oY[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(ow),o$=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",90),eY(op(e),"subpriority",1),eY(op(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return oT(oj.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return oF(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(ow);function oZ(e,t,n){aI(2,arguments);var r,i,a,o,l,s,c,u,d=aF(null!=(r=null!=(i=null!=(a=null!=(o=null==n?void 0:n.weekStartsOn)?o:null==n||null==(l=n.locale)||null==(s=l.options)?void 0:s.weekStartsOn)?a:aT.weekStartsOn)?i:null==(c=aT.locale)||null==(u=c.options)?void 0:u.weekStartsOn)?r:0);if(!(d>=0&&d<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=aA(e),f=aF(t),h=7*((f%7+7)%7<d)+f-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+h),p}var oX=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",90),eY(op(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=oZ(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(ow),oJ=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",90),eY(op(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return oE(oA(t.length,e),i);case"eo":return oE(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=oZ(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(ow),oQ=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",90),eY(op(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return oE(oA(t.length,e),i);case"co":return oE(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=oZ(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(ow),o1=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",90),eY(op(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return oA(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return oE(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return oE(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return oE(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return oE(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return(e=function(e,t){aI(2,arguments);var n=aF(t);n%7==0&&(n-=7);var r=aA(e),i=7*((n%7+7)%7<1)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n)).setUTCHours(0,0,0,0),e}}]),n}(ow),o2=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",80),eY(op(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(oP(n),0,0,0),e}}]),n}(ow),o0=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",80),eY(op(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(oP(n),0,0,0),e}}]),n}(ow),o5=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",80),eY(op(e),"incompatibleTokens",["a","b","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(oP(n),0,0,0),e}}]),n}(ow),o7=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",70),eY(op(e),"incompatibleTokens",["H","K","k","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return oT(oj.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(ow),o3=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",70),eY(op(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return oT(oj.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(ow),o8=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",70),eY(op(e),"incompatibleTokens",["h","H","k","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return oT(oj.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(ow),o4=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",70),eY(op(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return oT(oj.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){return e.setUTCHours(n<=24?n%24:n,0,0,0),e}}]),n}(ow),o6=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",60),eY(op(e),"incompatibleTokens",["t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return oT(oj.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(ow),o9=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",50),eY(op(e),"incompatibleTokens",["t","T"]),e}return ob(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return oT(oj.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return oA(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(ow),le=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",30),eY(op(e),"incompatibleTokens",["t","T"]),e}return ob(n,[{key:"parse",value:function(e,t){return oE(oA(t.length,e),function(e){return Math.floor(e*Math.pow(10,-t.length+3))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(ow),lt=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",10),eY(op(e),"incompatibleTokens",["t","T","x"]),e}return ob(n,[{key:"parse",value:function(e,t){switch(t){case"X":return oD(oS.basicOptionalMinutes,e);case"XX":return oD(oS.basic,e);case"XXXX":return oD(oS.basicOptionalSeconds,e);case"XXXXX":return oD(oS.extendedOptionalSeconds,e);default:return oD(oS.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(ow),ln=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",10),eY(op(e),"incompatibleTokens",["t","T","X"]),e}return ob(n,[{key:"parse",value:function(e,t){switch(t){case"x":return oD(oS.basicOptionalMinutes,e);case"xx":return oD(oS.basic,e);case"xxxx":return oD(oS.basicOptionalSeconds,e);case"xxxxx":return oD(oS.extendedOptionalSeconds,e);default:return oD(oS.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(ow),lr=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",40),eY(op(e),"incompatibleTokens","*"),e}return ob(n,[{key:"parse",value:function(e){return oI(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(ow),li=function(e){of(n,e);var t=og(n);function n(){var e;oy(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return eY(op(e=t.call.apply(t,[this].concat(i))),"priority",20),eY(op(e),"incompatibleTokens","*"),e}return ob(n,[{key:"parse",value:function(e){return oI(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(ow),la={G:new o_,y:new oR,Y:new oB,R:new oN,u:new oL,Q:new oz,q:new oV,M:new oU,L:new oH,w:new oq,I:new oW,d:new oG,D:new o$,E:new oX,e:new oJ,c:new oQ,i:new o1,a:new o2,b:new o0,B:new o5,h:new o7,H:new o3,K:new o8,k:new o4,m:new o6,s:new o9,S:new le,X:new lt,x:new ln,t:new lr,T:new li},lo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ll=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ls=/^'([^]*?)'?$/,lc=/''/g,lu=/\S/,ld=/[a-zA-Z]/;function lp(e,t,n,r){aI(3,arguments);var i=String(e),a=String(t),o=null!=(c=null!=(u=null==r?void 0:r.locale)?u:aT.locale)?c:ot;if(!o.match)throw RangeError("locale must contain match property");var l=aF(null!=(d=null!=(p=null!=(f=null!=(h=null==r?void 0:r.firstWeekContainsDate)?h:null==r||null==(m=r.locale)||null==(g=m.options)?void 0:g.firstWeekContainsDate)?f:aT.firstWeekContainsDate)?p:null==(y=aT.locale)||null==(v=y.options)?void 0:v.firstWeekContainsDate)?d:1);if(!(l>=1&&l<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var s=aF(null!=(b=null!=(x=null!=(C=null!=(k=null==r?void 0:r.weekStartsOn)?k:null==r||null==(w=r.locale)||null==(_=w.options)?void 0:_.weekStartsOn)?C:aT.weekStartsOn)?x:null==(j=aT.locale)||null==(S=j.options)?void 0:S.weekStartsOn)?b:0);if(!(s>=0&&s<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===a)if(""===i)return aA(n);else return new Date(NaN);var c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_,j,S,E,T={firstWeekContainsDate:l,weekStartsOn:s,locale:o},D=[new ok],I=a.match(ll).map(function(e){var t=e[0];return t in aQ?(0,aQ[t])(e,o.formatLong):e}).join("").match(lo),A=[],O=ou(I);try{for(O.s();!(E=O.n()).done;){var P=function(){var t=E.value;!(null!=r&&r.useAdditionalWeekYearTokens)&&a5(t)&&a7(t,a,e),!(null!=r&&r.useAdditionalDayOfYearTokens)&&a0(t)&&a7(t,a,e);var n=t[0],l=la[n];if(l){var s=l.incompatibleTokens;if(Array.isArray(s)){var c=A.find(function(e){return s.includes(e.token)||e.token===n});if(c)throw RangeError("The format string mustn't contain `".concat(c.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===l.incompatibleTokens&&A.length>0)throw RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));A.push({token:n,fullToken:t});var u=l.run(i,t,o.match,T);if(!u)return{v:new Date(NaN)};D.push(u.setter),i=u.rest}else{if(n.match(ld))throw RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(ls)[1].replace(lc,"'")),0!==i.indexOf(t))return{v:new Date(NaN)};i=i.slice(t.length)}}();if("object"===eq(P))return P.v}}catch(e){O.e(e)}finally{O.f()}if(i.length>0&&lu.test(i))return new Date(NaN);var M=D.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return D.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),F=aA(n);if(isNaN(F.getTime()))return new Date(NaN);var R,B=aB(F,aD(F)),N={},L=ou(M);try{for(L.s();!(R=L.n()).done;){var z=R.value;if(!z.validate(B,T))return new Date(NaN);var V=z.set(B,N,T);Array.isArray(V)?(B=V[0],od(N,V[1])):B=V}}catch(e){L.e(e)}finally{L.f()}return B}function lf(e,t){aI(2,arguments);var n=aA(e),r=aA(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function lh(e){aI(1,arguments);var t=aA(e);return t.setHours(23,59,59,999),t}function lm(e,t){aI(2,arguments);var n,r=aA(e),i=aA(t),a=lf(r,i),o=Math.abs(function(e,t){aI(2,arguments);var n=aA(e),r=aA(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(o<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);var l=lf(r,i)===-a;(function(e){aI(1,arguments);var t=aA(e);return lh(t).getTime()===(function(e){aI(1,arguments);var t=aA(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t})(t).getTime()})(aA(e))&&1===o&&1===lf(e,i)&&(l=!1),n=a*(o-Number(l))}return 0===n?0:n}function lg(e,t){aI(2,arguments);var n=aA(e),r=aA(t),i=lf(n,r),a=Math.abs(function(e,t){aI(2,arguments);var n=aA(e),r=aA(t);return n.getFullYear()-r.getFullYear()}(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=lf(n,r)===-i,l=i*(a-Number(o));return 0===l?0:l}function ly(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function lv(e,t){aI(2,arguments);var n=aA(e),r=aA(t),i=ly(n,r),a=Math.abs(aP(n,r));n.setDate(n.getDate()-i*a);var o=Number(ly(n,r)===-i),l=i*(a-o);return 0===l?0:l}e.s(["differenceInMonths",()=>lm],551846),e.s(["differenceInYears",()=>lg],835770),e.s(["differenceInWeeks",()=>lC],137916);var lb={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function lx(e){return e?lb[e]:lb.trunc}function lC(e,t,n){aI(2,arguments);var r=lv(e,t)/7;return lx(null==n?void 0:n.roundingMethod)(r)}function lk(e,t){return aI(2,arguments),aA(e).getTime()-aA(t).getTime()}function lw(e,t,n){aI(2,arguments);var r=lk(e,t)/36e5;return lx(null==n?void 0:n.roundingMethod)(r)}function l_(e,t,n){aI(2,arguments);var r=lk(e,t)/6e4;return lx(null==n?void 0:n.roundingMethod)(r)}function lj(e,t,n){aI(2,arguments);var r=lk(e,t)/1e3;return lx(null==n?void 0:n.roundingMethod)(r)}function lS(e){return aI(1,arguments),aA(e).getTime()<Date.now()}function lE(e,t){aI(2,arguments);var n=aA(e),r=aF(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function lT(e){aI(1,arguments);var t=aA(e);return t.setDate(1),t.setHours(0,0,0,0),t}function lD(e,t){return aI(2,arguments),lE(e,7*aF(t))}function lI(e,t){aI(1,arguments);var n,r,i,a,o,l,s,c,u=aF(null!=(n=null!=(r=null!=(i=null!=(a=null==t?void 0:t.weekStartsOn)?a:null==t||null==(o=t.locale)||null==(l=o.options)?void 0:l.weekStartsOn)?i:aT.weekStartsOn)?r:null==(s=aT.locale)||null==(c=s.options)?void 0:c.weekStartsOn)?n:0);if(!(u>=0&&u<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=aA(e),p=d.getDay();return d.setDate(d.getDate()-(7*(p<u)+p-u)),d.setHours(0,0,0,0),d}function lA(e,t){aI(1,arguments);var n=e||{},r=aA(n.start),i=aA(n.end),a=i.getTime();if(!(r.getTime()<=a))throw RangeError("Invalid interval");var o=lI(r,t),l=lI(i,t);o.setHours(15),l.setHours(15),a=l.getTime();for(var s=[],c=o;c.getTime()<=a;)c.setHours(0),s.push(aA(c)),(c=lD(c,1)).setHours(15);return s}function lO(e){aI(1,arguments);var t=aA(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function lP(e,t){aI(1,arguments);var n=aA(e);return Math.round((lI(n,t).getTime()-(function(e,t){aI(1,arguments);var n,r,i,a,o,l,s,c,u=aF(null!=(n=null!=(r=null!=(i=null!=(a=null==t?void 0:t.firstWeekContainsDate)?a:null==t||null==(o=t.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?i:aT.firstWeekContainsDate)?r:null==(s=aT.locale)||null==(c=s.options)?void 0:c.firstWeekContainsDate)?n:1),d=function(e,t){aI(1,arguments);var n,r,i,a,o,l,s,c,u=aA(e),d=u.getFullYear(),p=aF(null!=(n=null!=(r=null!=(i=null!=(a=null==t?void 0:t.firstWeekContainsDate)?a:null==t||null==(o=t.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?i:aT.firstWeekContainsDate)?r:null==(s=aT.locale)||null==(c=s.options)?void 0:c.firstWeekContainsDate)?n:1);if(!(p>=1&&p<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);var h=lI(f,t),m=new Date(0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);var g=lI(m,t);return u.getTime()>=h.getTime()?d+1:u.getTime()>=g.getTime()?d:d-1}(e,t),p=new Date(0);return p.setFullYear(d,0,u),p.setHours(0,0,0,0),lI(p,t)})(n,t).getTime())/6048e5)+1}function lM(e,t){aI(2,arguments);var n=aO(e),r=aO(t);return n.getTime()===r.getTime()}function lF(e,t){aI(2,arguments);var n=aA(e),r=aA(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function lR(e,t){aI(2,arguments);var n=aA(e),r=aF(t);return n.setDate(r),n}function lB(e,t){aI(2,arguments);var n=aA(e),r=aF(t),i=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var l=function(e){aI(1,arguments);var t=aA(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}(o);return n.setMonth(r,Math.min(a,l)),n}function lN(e,t){aI(2,arguments);var n=aA(e),r=aF(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());return(a.setMonth(n.getMonth()+r+1,0),i>=a.getDate())?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function lL(e,t){aI(2,arguments);var n=aA(e),r=aF(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function lz(e,t){aI(2,arguments);var n=aA(e),r=aF(t);return n.setMinutes(r),n}function lV(e,t){aI(2,arguments);var n=aA(e),r=aF(t);return n.setHours(r),n}function lU(e,t){aI(1,arguments);var n,r,i,a=aF(null!=(n=null==t?void 0:t.additionalDigits)?n:2);if(2!==a&&1!==a&&0!==a)throw RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o=function(e){var t,n={},r=e.split(lH.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],lH.timeZoneDelimiter.test(n.date)&&(n.date=e.split(lH.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=lH.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(o.date){var l=function(e,t){var n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,a);r=function(e,t){if(null===t)return new Date(NaN);var n,r,i,a,o,l,s,c,u,d,p,f,h=e.match(lq);if(!h)return new Date(NaN);var m=!!h[4],g=lK(h[1]),y=lK(h[2])-1,v=lK(h[3]),b=lK(h[4]),x=lK(h[5])-1;if(m){return(n=b,r=x,n>=1&&n<=53&&r>=0&&r<=6)?(i=t,a=b,o=x,(l=new Date(0)).setUTCFullYear(i,0,4),s=l.getUTCDay()||7,l.setUTCDate(l.getUTCDate()+((a-1)*7+o+1-s)),l):new Date(NaN)}var C=new Date(0);return(c=t,u=y,d=v,u>=0&&u<=11&&d>=1&&d<=(l$[u]||(lZ(c)?29:28))&&(p=t,(f=g)>=1&&f<=(lZ(p)?366:365)))?(C.setUTCFullYear(t,y,Math.max(g,v)),C):new Date(NaN)}(l.restDateString,l.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var s=r.getTime(),c=0;if(o.time&&isNaN(c=function(e){var t,n,r,i=e.match(lW);if(!i)return NaN;var a=lG(i[1]),o=lG(i[2]),l=lG(i[3]);return(t=a,n=o,r=l,24===t?0===n&&0===r:r>=0&&r<60&&n>=0&&n<60&&t>=0&&t<25)?36e5*a+6e4*o+1e3*l:NaN}(o.time)))return new Date(NaN);if(o.timezone){if(isNaN(i=function(e){if("Z"===e)return 0;var t,n=e.match(lY);if(!n)return 0;var r="+"===n[1]?-1:1,i=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return(t=a)>=0&&t<=59?r*(36e5*i+6e4*a):NaN}(o.timezone)))return new Date(NaN)}else{var u=new Date(s+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(s+c+i)}e.s(["differenceInDays",()=>lv],786419),e.s(["differenceInHours",()=>lw],317306),e.s(["differenceInMinutes",()=>l_],747053),e.s(["differenceInSeconds",()=>lj],292251),e.s(["isPast",()=>lS],469681),e.s(["addDays",()=>lE],49748),e.s(["startOfMonth",()=>lT],123699),e.s(["eachWeekOfInterval",()=>lA],141135),e.s(["lastDayOfMonth",()=>lO],750253),e.s(["getWeek",()=>lP],980226),e.s(["isSameDay",()=>lM],175456),e.s(["isSameMonth",()=>lF],987790),e.s(["setDate",()=>lR],487743),e.s(["setMonth",()=>lB],203141),e.s(["addMonths",()=>lN],977151),e.s(["setYear",()=>lL],28484),e.s(["setMinutes",()=>lz],401364),e.s(["setHours",()=>lV],477995),e.s(["parseISO",()=>lU],794078);var lH={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lq=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lW=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lK(e){return e?parseInt(e):1}function lG(e){return e&&parseFloat(e.replace(",","."))||0}var l$=[31,null,31,30,31,30,31,31,30,31,30,31];function lZ(e){return e%400==0||e%4==0&&e%100!=0}function lX(e){return aI(1,arguments),aA(e).getMinutes()}function lJ(e,t){aI(2,arguments);var n=aA(e),r=aA(t);return n.getTime()<r.getTime()}function lQ(e){aI(1,arguments);var t=aA(e);return t.setSeconds(0,0),t}function l1(e){aI(1,arguments);var t=aA(e);return t.setMinutes(0,0,0),t}function l2(e,t){return aI(2,arguments),aR(e,36e5*aF(t))}function l0(e){aI(1,arguments);var t=aA(e).getDay();return 0===t||6===t}function l5(e,t){aI(2,arguments);var n=aA(e),r=aA(t);return n.getTime()>r.getTime()}function l7(e,t){if(aI(2,arguments),"object"!==eq(t)||null===t)throw RangeError("values parameter must be an object");var n=aA(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=lB(n,t.month)),null!=t.date&&n.setDate(aF(t.date)),null!=t.hours&&n.setHours(aF(t.hours)),null!=t.minutes&&n.setMinutes(aF(t.minutes)),null!=t.seconds&&n.setSeconds(aF(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(aF(t.milliseconds)),n)}function l3(){return aO(Date.now())}function l8(e){aI(1,arguments);var t=aA(e);return t.setSeconds(59,999),t}function l4(e,t){if(aI(2,arguments),!t||"object"!==eq(t))return new Date(NaN);var n=t.years?aF(t.years):0,r=t.months?aF(t.months):0,i=t.weeks?aF(t.weeks):0,a=t.days?aF(t.days):0,o=t.hours?aF(t.hours):0,l=t.minutes?aF(t.minutes):0,s=t.seconds?aF(t.seconds):0;return new Date((function(e,t){return aI(2,arguments),lE(e,-aF(t))})(function(e,t){return aI(2,arguments),lN(e,-aF(t))}(e,r+12*n),a+7*i).getTime()-1e3*(s+60*(l+60*o)))}function l6(e,t,n){aI(2,arguments);var r,i,a,o,l,s=null!=(r=null!=(i=null==n?void 0:n.locale)?i:aT.locale)?r:ot;if(!s.formatDistance)throw RangeError("locale must contain formatDistance property");var c=lf(e,t);if(isNaN(c))throw RangeError("Invalid time value");var u=od(od({},n),{addSuffix:!!(null==n?void 0:n.addSuffix),comparison:c});c>0?(a=aA(t),o=aA(e)):(a=aA(e),o=aA(t));var d=lj(o,a),p=Math.round((d-(aD(o)-aD(a))/1e3)/60);if(p<2)if(null!=n&&n.includeSeconds)if(d<5)return s.formatDistance("lessThanXSeconds",5,u);else if(d<10)return s.formatDistance("lessThanXSeconds",10,u);else if(d<20)return s.formatDistance("lessThanXSeconds",20,u);else if(d<40)return s.formatDistance("halfAMinute",0,u);else if(d<60)return s.formatDistance("lessThanXMinutes",1,u);else return s.formatDistance("xMinutes",1,u);else if(0===p)return s.formatDistance("lessThanXMinutes",1,u);else return s.formatDistance("xMinutes",p,u);if(p<45)return s.formatDistance("xMinutes",p,u);if(p<90)return s.formatDistance("aboutXHours",1,u);if(p<1440){var f=Math.round(p/60);return s.formatDistance("aboutXHours",f,u)}if(p<2520)return s.formatDistance("xDays",1,u);else if(p<43200){var h=Math.round(p/1440);return s.formatDistance("xDays",h,u)}else if(p<86400)return l=Math.round(p/43200),s.formatDistance("aboutXMonths",l,u);if((l=lm(o,a))<12){var m=Math.round(p/43200);return s.formatDistance("xMonths",m,u)}var g=l%12,y=Math.floor(l/12);return g<3?s.formatDistance("aboutXYears",y,u):g<9?s.formatDistance("overXYears",y,u):s.formatDistance("almostXYears",y+1,u)}function l9(e){return aI(1,arguments),lM(e,Date.now())}function se(e){return aI(1,arguments),function(e,t){return aI(2,arguments),function(e,t,n){aI(2,arguments);var r=lI(e,n),i=lI(t,n);return r.getTime()===i.getTime()}(e,t,{weekStartsOn:1})}(e,Date.now())}e.s(["getMinutes",()=>lX],870263),e.s(["format",()=>ol],542027),e.s(["isBefore",()=>lJ],406800),e.s(["startOfMinute",()=>lQ],728686),e.s(["startOfHour",()=>l1],155419),e.s(["addHours",()=>l2],811366),e.s(["isWeekend",()=>l0],231560),e.s(["startOfDay",()=>aO],660997),e.s(["endOfDay",()=>lh],921306),e.s(["isAfter",()=>l5],302535),e.s(["set",()=>l7],463390),e.s(["startOfToday",()=>l3],402068),e.s(["endOfMinute",()=>l8],782463),e.s(["sub",()=>l4],362321),e.s(["formatDistance",()=>l6],619405),e.s(["isToday",()=>l9],335870),e.s(["isThisISOWeek",()=>se],715546),e.s(["addWeeks",()=>lD],420939),e.s(["mergeMapArray",()=>sa],177433);var st=e.i(711308),sn=e.i(960739);let sr={current:[],added:[],removed:[]},si=[];function sa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e===t;return n=>{let r=n.pipe((0,O.share)()),i=r.pipe((0,st.scan)((e,n)=>{let r=n.filter(n=>!e.current.find(e=>t(e,n))),i=e.current.filter(e=>!n.find(n=>t(n,e)));return{current:n,added:so(r,t),removed:so(i,t)}},sr)).pipe((0,O.share)(),(0,X.filter)(e=>e.added.length>0||e.removed.length>0)),a=i.pipe((0,Q.mergeMap)(e=>e.removed)),o=i.pipe((0,Q.mergeMap)(e=>e.added)),l=r.pipe((0,X.filter)(e=>0===e.length),(0,F.map)(()=>si)),s=o.pipe((0,Q.mergeMap)(n=>{let r=a.pipe((0,X.filter)(e=>t(e,n))).pipe((0,O.share)());return(0,eo.merge)(r.pipe((0,F.map)(()=>({type:"remove",element:n}))),e(n).pipe((0,ey.takeUntil)(r),(0,F.map)(e=>({type:"emit",element:n,projected:e}))))}),(0,sn.withLatestFrom)(r),(0,st.scan)((e,n)=>{let[r,i]=n;return i.flatMap(n=>t(n,r.element)?"remove"===r.type?[]:{item:n,emitted:!0,value:r.projected}:e.find(e=>e&&t(e.item,n)))},[]),(0,X.filter)(e=>e.every(e=>null==e?void 0:e.emitted)),(0,F.map)(e=>e.map(e=>e.value)));return(0,eo.merge)(l,s)}}function so(e,t){let n=[],r=!1;for(let i of e)n.find(e=>t(e,i))?r=!0:n.push(i);return r?n:e}e.s(["getVersionNameFromId",()=>sw,"isVersionId",()=>sk],907270);var sl=e.i(73167),ss=e.i(668957);e.s(["uuid",()=>sh],815321);var sc=new Uint8Array(16);let su=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var sd=[],sp=0;sp<256;++sp)sd.push((sp+256).toString(16).substr(1));let sf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(sd[e[t+0]]+sd[e[t+1]]+sd[e[t+2]]+sd[e[t+3]]+"-"+sd[e[t+4]]+sd[e[t+5]]+"-"+sd[e[t+6]]+sd[e[t+7]]+"-"+sd[e[t+8]]+sd[e[t+9]]+"-"+sd[e[t+10]]+sd[e[t+11]]+sd[e[t+12]]+sd[e[t+13]]+sd[e[t+14]]+sd[e[t+15]]).toLowerCase();if(!("string"==typeof n&&su.test(n)))throw TypeError("Stringified UUID is invalid");return n},sh=function(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(sc)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return sf(r)};e.i(573086);let sm=/^[a-z-A-Z0-9._-]+$/,sg="".concat("drafts").concat("."),sy="".concat("versions").concat(".");function sv(e){if(0===e.length)throw Error("Must be a non-empty string");if(!sm.test(e))throw Error('Not a valid document ID: "'.concat(e,'" – Must match the ').concat(sm," RegExp"));return e}function sb(e){if(!e.startsWith(sg))throw Error('Not a valid draft ID: "'.concat(e,'" – must start with "').concat(sg,'"'));if(e.length===sg.length)throw Error('Not a valid draft ID: "'.concat(e,'" – must have at least one character followed by "').concat(sg,'"'));return e}function sx(e){if(!e.startsWith(sy))throw Error('Not a valid version ID: "'.concat(e,'" – must start with "').concat(sy,'"'));if(e.length===sy.length)throw Error('Not a valid version ID: "'.concat(e,'" – must have at least one character followed by "').concat(sy,'"'));let[,t,...n]=e.split(".");if(!t||!sm.test(t))throw Error('Not a valid version ID: "'.concat(e,'" – VERSION must match the ').concat(sm," RegExp in versions.[VERSION].id"));if(0===n.length)throw Error('Not a valid version ID: "'.concat(e,'" – missing document ID in versions.bundle.[ID]'));if("drafts"===t||"versions"===t)throw Error('Not a valid version ID: "'.concat(e,'" – invalid VERSION "').concat(t,'" in versions.[VERSION].id'));return e}function sC(e){if(e.startsWith(sg)||e.startsWith(sy))throw Error('Not a valid published ID: "'.concat(e,'" – cannot start with "').concat(sg,'" or "').concat(sy,'"'));return e}function sk(e){return e.startsWith(sy)}function sw(e){let[,t]=e.split(".");return t}(0,sl.make)(e=>{var t,n;sv(e);let[r,i]=(t=[sC,sb,sx].map(t=>(function(e){try{var t;return t=e(),{success:!0,value:t}}catch(e){return{success:!1,error:e instanceof Error?e:Error(String(e))}}})(()=>t(e))),n=e=>e.success,(0,ss.default)(t,n));if(r.length>0)return e;if(i.length>0)throw AggregateError(i.map(e=>e.error),"Invalid Document ID\n - ".concat(i.map(e=>e.error.message).join("\n - ")));return e}),(0,sl.make)(e=>{sv(e),sb(e)}),(0,sl.make)(e=>{sv(e),sC(e)}),(0,sl.make)(e=>{sv(e),sx(e)}),e.s(["IntentLink",()=>sB,"Link",()=>sN,"RouteScope",()=>ct,"RouterProvider",()=>s9,"STICKY_PARAMS",()=>s4,"StateLink",()=>ci,"decodeJsonParams",()=>sX,"encodeJsonParams",()=>sJ,"route",()=>s2,"useIntentLink",()=>sR,"useRouter",()=>sM,"useRouterState",()=>ca,"useStateLink",()=>cr],201226);var s_=e.i(843476),sj=e.i(527108),sS=e.i(633731),sE=e.i(565816),sT=e.i(101320),sD=e.i(480210),sI=e.i(148450),sA=e.i(348433),sO=e.i(147956),sP=e.i(653336);function sM(){let e=(0,D.useContext)(sj.RouterContext);if(!e)throw Error("Router: missing context value");return e}function sF(e){let t,n,r=(0,T.c)(8),{onClick:i,href:a,target:o,replace:l}=e,s=void 0!==l&&l,{navigateUrl:c}=sM();r[0]!==a||r[1]!==c||r[2]!==i||r[3]!==s||r[4]!==o?(t=e=>{e.isDefaultPrevented()||a&&(i&&i(e),!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||0!==e.button)&&(o||(e.preventDefault(),c({path:a,replace:s}))))},r[0]=a,r[1]=c,r[2]=i,r[3]=s,r[4]=o,r[5]=t):t=r[5];let u=t;return r[6]!==u?(n={onClick:u},r[6]=u,r[7]=n):n=r[7],n}function sR(e){let t,n,r,i=(0,T.c)(13),{intent:a,onClick:o,params:l,replace:s,target:c,searchParams:u}=e,{resolveIntentLink:d}=sM();i[0]!==a||i[1]!==l||i[2]!==d||i[3]!==u?(t=d(a,l,u),i[0]=a,i[1]=l,i[2]=d,i[3]=u,i[4]=t):t=i[4];let p=t;i[5]!==p||i[6]!==o||i[7]!==s||i[8]!==c?(n={href:p,onClick:o,replace:s,target:c},i[5]=p,i[6]=o,i[7]=s,i[8]=c,i[9]=n):n=i[9];let{onClick:f}=sF(n);return i[10]!==p||i[11]!==f?(r={onClick:f,href:p},i[10]=p,i[11]=f,i[12]=r):r=i[12],r}let sB=(0,D.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,T.c)(18);c[0]!==e?({intent:n,params:r,target:o,searchParams:a,...i}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o):(n=c[1],r=c[2],i=c[3],a=c[4],o=c[5]),c[6]!==n||c[7]!==r||c[8]!==e.onClick||c[9]!==a||c[10]!==o?(l={intent:n,params:r,target:o,onClick:e.onClick,searchParams:a},c[6]=n,c[7]=r,c[8]=e.onClick,c[9]=a,c[10]=o,c[11]=l):l=c[11];let{onClick:u,href:d}=sR(l);return c[12]!==d||c[13]!==u||c[14]!==t||c[15]!==i||c[16]!==o?(s=(0,s_.jsx)("a",{...i,href:d,onClick:u,ref:t,target:o}),c[12]=d,c[13]=u,c[14]=t,c[15]=i,c[16]=o,c[17]=s):s=c[17],s}),sN=(0,D.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,T.c)(17);c[0]!==e?({onClick:r,href:n,target:o,replace:i,...a}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o):(n=c[1],r=c[2],i=c[3],a=c[4],o=c[5]),c[6]!==n||c[7]!==r||c[8]!==i||c[9]!==o?(l={onClick:r,href:n,target:o,replace:i},c[6]=n,c[7]=r,c[8]=i,c[9]=o,c[10]=l):l=c[10];let{onClick:u}=sF(l);return c[11]!==n||c[12]!==u||c[13]!==t||c[14]!==a||c[15]!==o?(s=(0,s_.jsx)("a",{...a,onClick:u,href:n,target:o,ref:t}),c[11]=n,c[12]=u,c[13]=t,c[14]=a,c[15]=o,c[16]=s):s=c[16],s}),sL=/^[a-zA-Z0-9_-]+$/;function sz(e){if(!e)return null;if(e.startsWith(":")){let t=e.slice(1);if(!sL.test(t)){let t=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(t)))}return{type:"param",name:t}}return{type:"dir",name:e}}function sV(e){return Array.isArray(e)?e:e?[e]:[]}function sU(e){return(0,sT.default)(e)}function sH(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function sq(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function sW(e,t){let n=[...String(e)],r="";for(let e=0;e<n.length;e++){let i=n[e];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}let sY=(0,sI.default)("state-router");function sK(e){return"[".concat(e,"]")}function sG(e){return'"'.concat(e,'"')}function s$(e){return String.fromCharCode(parseInt(e.slice(1),16))}function sZ(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}function sX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=decodeURIComponent(e);if(!t)return{};try{var n;return JSON.parse((n=t.replace(/-/g,"+").replace(/_/g,"/"),decodeURIComponent(Array.from(atob(n),sZ).join(""))))}catch(e){}try{return JSON.parse(atob(t))}catch(e){}try{return JSON.parse(t)}catch(e){console.warn("Failed to parse JSON parameters")}return{}}function sJ(e){return e?btoa(encodeURIComponent(JSON.stringify(e)).replace(/%[0-9A-F]{2}/g,s$)).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,""):""}function sQ(e){return e.split(";").reduce((e,t)=>{let[n,r]=t.split("=");return e[decodeURIComponent(n)]=decodeURIComponent(r),e},{})}function s1(e){return Object.entries(e).filter(e=>{let[,t]=e;return null!=t}).map(e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))}).join(";")}let s2={create:(e,t,n)=>s8(s5(e,t,n)),intents:e=>{let t=(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e.concat(t.split("/")),[]).filter(Boolean)})(e).join("/");return s2.create("".concat(t,"/:intent"),[s2.create(":params",{transform:{params:{toState:sQ,toPath:s1}}},[s2.create(":payload",{transform:{payload:{toState:sX,toPath:sJ}}})])])},scope:(e,t,n,r)=>s8({...s5(t,n,r),scope:e})};function s0(e){return Array.isArray(e)||"function"==typeof e?e:e?[e]:[]}function s5(e,t,n){return"object"==typeof e?e:Array.isArray(t)||"function"==typeof t||t&&"_isRoute"in t?{path:e,children:s0(t)}:n?{path:e,...t,children:s0(n)}:{path:e,...t}}let s7={};function s3(e){return e.split("/").every(e=>!e)}function s8(e){let{path:t,scope:n,transform:r,children:i,__unsafe_disableScopedSearchParams:a}=e;if(!t)throw TypeError("Missing path");return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:a,route:function(e){let[t]=e.split("?");return{raw:e,segments:t.split("/").map(sz).filter(Boolean)}}(t),children:i||[],transform:r,encode(e){return function(e,t){sY("Resolving path from state %o",t);let n=function e(t,n){if(!n)return sq(t,{},[]);let{_searchParams:r=[],...i}=(t.scope?n[t.scope]:n)||{},a=t.route.segments.filter(e=>"param"===e.type).map(e=>e.name),o=sU(i)?Object.keys(i):[],l=(0,sE.default)(o,a),s=(0,sS.default)(a,l),c=(0,sS.default)(o,l);if(s.length>0)return sH(t,s,[]);let u=r.map(e=>{let[t,n]=e;return[[t],n]}),d=(0,sD.default)(i,l);if(0===c.length)return sq(t,d,u);let p=sV(("function"==typeof t.children?t.children(sU(i)?i:{}):t.children)||[]);if(c.length>0&&0===p.length)return sH(t,[],c);let f=(0,sD.default)(i,c),h=p.map(t=>e(t,f)).find(e=>"ok"===e.type);return h?sq(t,d,u,h):sH(t,[],c)}(e,t);if("error"===n.type){let e=n.unmappableStateKeys;if(e.length>0)throw Error("Unable to find matching route for state. Could not map the following state key".concat(1==e.length?"":"s"," to a valid url: ").concat(e.map(sG).join(", ")));let t=n.missingKeys;throw Error("Unable to find matching route for state. State object is missing the following key".concat(1==t.length?"":"s"," defined in route: ").concat(t.map(sG).join(", ")))}let{path:r,searchParams:i}=function e(t){let n=t.matchedState,r=t.node.route.segments.map(e=>{if("dir"===e.type)return e.name;let r=t.node.transform&&t.node.transform[e.name];return r?r.toPath(n[e.name]):n[e.name]}),i=t.child?e(t.child):void 0,a=(null==i?void 0:i.searchParams)?[...t.searchParams,...i.searchParams]:t.searchParams;return{searchParams:function(e,t){let n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(e=>{let[t,r]=e;return[[n,...t],r]}):t}(t.node,a),path:[...r||[],...(null==i?void 0:i.path)||[]]}}(n),a=i.length>0?i.flatMap(e=>{let[t,n]=e;return void 0===n?[]:[sW(function(e){let[t,...n]=e;return n.length>0?[t,...n.map(sK)].join(""):t}(t),"[]"),sW(n,"/")].join("=")}).join("&"):"";return"/".concat(r.join("/")).concat(a?"?".concat(a):"")}(this,e)},decode(e){sY("resolving state from path %s",e);let[t,n]=e.split("?"),r=function e(t,n,r){var i,a;let o=n.split("/").filter(Boolean),l=t.route.segments.length;if(o.length<l)return null;let s={};if(!t.route.segments.every((e,n)=>{if("dir"===e.type)return e.name===o[n];let r=t.transform&&t.transform[e.name];return s[e.name]=r?r.toState(o[n]):o[n],!0}))return null;let c=o.slice(l),u=null,d="function"==typeof t.children?sV(t.children(s)):t.children,p=(i=t.scope,a=r,i?a.map(e=>{let[t,n]=e;return[t[0]===i?t.slice(1):t,n]}):a);if(d.some(t=>{if(t){let n=t.scope?p.filter(e=>{let[n]=e;return t.scope===n[0]}):p;return u=e(t,c.join("/"),n)}}),c.length>0&&!u)return null;let f=p.flatMap(e=>{let[t,n]=e;return 1===t.length?[[t[0],n]]:[]}),h={...s,...null===u?{}:u,...f.length>0?{_searchParams:f}:{}};return t.scope?{[t.scope]:h}:h}(this,t,Array.from(new URLSearchParams(n).entries()).map(e=>{let[t,n]=e;return[function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e.indexOf("[",n);if(-1===i){t.push(e.slice(n,e.length));break}if(1===r)throw Error("Nested brackets not supported");r=1,i>n&&(t.push(e.slice(n,i)),n=i);let a=e.indexOf("]",i);if(-1===a){if(1===r)throw Error("Unclosed bracket");break}r=0,t.push(e.slice(n+1,a)),n=a+1}return t}(t),n]}));return sY("resolved: %o",r||null),r||null},isRoot:s3,isNotFound(e){return null===this.decode(e)},getBasePath(){return this.encode(s7)},getRedirectBase(e){if(s3(e)){let t=this.getBasePath();if(e!==t)return t}return null}}}let s4=["perspective","excludedPerspectives"],s6=e=>{if("object"!=typeof e||null===e||Array.isArray(e)||!("replace"in e||"stickyParams"in e||"state"in e))return!1;if("state"in e){let{state:t}=e;return null==t||"object"==typeof t}return!0};function s9(e){let{onNavigate:t,router:n,state:r}=e,i=(0,D.useCallback)((e,t,i)=>{var a;let[o,l]=Array.isArray(t)?t:[t];return n.encode({intent:e,params:o,payload:l,_searchParams:(0,sO.default)({...(0,sA.default)((null!=(a=r._searchParams)?a:[]).filter(e=>{let[t]=e;return s4.includes(t)})),...(0,sA.default)(null!=i?i:[])})})},[n,r._searchParams]),a=(0,D.useCallback)(e=>{let t=r._searchParams||[],i=(null==e?void 0:e._searchParams)||[],a=s4.reduce((e,n)=>{var r,a=e,o=n,l=null!=(r=ce(i,n))?r:ce(t,n);let s=a.filter(e=>{let[t]=e;return t!==o});return void 0===l||""==l?s:[...s,[o,l]]},i||[]);return n.encode({...e,_searchParams:a})},[n,r]),o=(0,D.useCallback)((e,n)=>{let i=s6(e)&&!n?e:n||{},o=s6(e)?null!=(d=e,p=r,c=s6(d)?null===d.state?{}:null!=(f=d.state)?f:p:null)?c:r:e,l=r._searchParams||[],s=null!=(u=i.stickyParams)?u:Object.fromEntries(l.filter(e=>{let[t]=e;return s4.includes(t)}));var c,u,d,p,f,h,m,g=s;if(Object.keys(g).some(e=>!s4.includes(e)))throw Error("One or more parameters are not sticky");let y=(h=o._searchParams||[],(m=s)?[...h.filter(e=>{let[t]=e;return!Object.hasOwn(m,t)}),...Object.entries(m).filter(e=>void 0!==e[1]).map(e=>[e[0],null===e[1]?"":e[1]])]:h);t({path:a({...o,_searchParams:y}),replace:i.replace})},[t,a,r]),l=(0,D.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({stickyParams:e,...t,state:void 0})},[o]),s=(0,D.useCallback)(function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t({path:i(e,n),replace:r.replace})},[t,i]),[c,u]=(0,D.useMemo)(()=>{if(!r._searchParams)return[r,null];let{_searchParams:e,...t}=r,[n,i]=(0,ss.default)(e,e=>{let[t]=e;return s4.includes(t)});return 0===n.length?[r,null]:[{...t,_searchParams:i},n]},[r]),d=(0,D.useMemo)(()=>Object.fromEntries(u||[]),[u]),p=(0,D.useMemo)(()=>({navigate:o,navigateIntent:s,navigateStickyParams:l,navigateUrl:t,resolveIntentLink:i,resolvePathFromState:a,state:c,stickyParams:d}),[l,o,s,t,i,a,c,d]);return(0,s_.jsx)(sj.RouterContext.Provider,{value:p,children:e.children})}function ce(e,t){let n=e.find(e=>{let[n]=e;return n===t});return n?n[1]:void 0}let ct=function(e){let{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,i=sM(),{resolvePathFromState:a,navigate:o}=i,l=(0,D.useRef)(i.state);(0,D.useEffect)(()=>{l.current=i.state},[i.state]);let s=(0,D.useCallback)(e=>{var t;if(null===e)return null;let{_searchParams:i,...a}=e||{},o=(t=l.current,a&&{...t,[n]:a});return r?o._searchParams=i:o[n]._searchParams=i,o},[n,r]),c=(0,D.useCallback)(e=>a(s(e)),[a,s]),u=(0,D.useCallback)((e,t)=>{if(s6(e)&&!t){let{state:t}=e;if(t){let n=s(t);return o(null===n?{}:n,e)}return o(e)}let n=s6(e)?s(null):s(e);return o(null===n?{}:n,t||{})},[o,s]),d=(0,D.useMemo)(()=>{let e=i.state,t="object"==typeof e[n]?{...e[n]}:{};return r&&(t._searchParams=e._searchParams),{...i,navigate:u,resolvePathFromState:c,state:t}},[n,i,u,c,r]);return(0,s_.jsx)(sj.RouterContext.Provider,{value:d,children:t})};ct.displayName="RouteScope";let cn={};function cr(e){let t,n,r,i=(0,T.c)(11),{onClick:a,replace:o,state:l,target:s,toIndex:c}=e,u=void 0!==c&&c;if(l&&u)throw Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");l||u||console.error(Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));let{resolvePathFromState:d}=sM(),p=u?cn:l||cn;i[0]!==d||i[1]!==p?(t=d(p),i[0]=d,i[1]=p,i[2]=t):t=i[2];let f=t;i[3]!==f||i[4]!==a||i[5]!==o||i[6]!==s?(n={href:f,onClick:a,replace:o,target:s},i[3]=f,i[4]=a,i[5]=o,i[6]=s,i[7]=n):n=i[7];let{onClick:h}=sF(n);return i[8]!==f||i[9]!==h?(r={onClick:h,href:f},i[8]=f,i[9]=h,i[10]=r):r=i[10],r}let ci=(0,D.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u=(0,T.c)(18);u[0]!==e?({onClick:n,replace:r,state:a,target:l,toIndex:o,...i}=e,u[0]=e,u[1]=n,u[2]=r,u[3]=i,u[4]=a,u[5]=o,u[6]=l):(n=u[1],r=u[2],i=u[3],a=u[4],o=u[5],l=u[6]);let d=void 0!==o&&o;u[7]!==n||u[8]!==r||u[9]!==a||u[10]!==l||u[11]!==d?(s={onClick:n,replace:r,state:a,target:l,toIndex:d},u[7]=n,u[8]=r,u[9]=a,u[10]=l,u[11]=d,u[12]=s):s=u[12];let{onClick:p,href:f}=cr(s);return u[13]!==f||u[14]!==p||u[15]!==t||u[16]!==i?(c=(0,s_.jsx)("a",{...i,href:f,onClick:p,ref:t}),u[13]=f,u[14]=p,u[15]=t,u[16]=i,u[17]=c):c=u[17],c});function ca(e){let t,n=(0,T.c)(3),r=void 0===e?sP.default:e,{state:i}=sM();return n[0]!==r||n[1]!==i?(t=r(i),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}function co(e){let t=cl(e),[n,r]=(0,D.useState)(t),{defaultDpr:i,maxDpr:a,round:o}=e||{};return(0,D.useEffect)(()=>{if(!("undefined"!=typeof window&&"matchMedia"in window))return;let e=()=>r(cl({defaultDpr:i,maxDpr:a,round:o})),t=window.matchMedia("screen and (resolution: ".concat(n,"dppx)"));return t.addEventListener?t.addEventListener("change",e):t.addListener(e),()=>{t.removeEventListener?t.removeEventListener("change",e):t.removeListener(e)}},[n,i,a,o]),n}function cl(e){let{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i="undefined"!=typeof window&&"number"==typeof window.devicePixelRatio?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}!function(e){e.displayName||e.name}(e=>e.children(e.router)),e.s(["getDevicePixelRatio",()=>cl,"useDevicePixelRatio",()=>co],725698),e.s(["ALL_FIELDS_GROUP_NAME",()=>cj,"DEFAULT_MAX_FIELD_DEPTH",()=>c8,"DeprecatedDefaultSchema",()=>u2,"OWN_PROPS_NAME",()=>c_,"Rule",()=>u7,"Schema",()=>u1,"resolveSearchConfig",()=>uo,"resolveSearchConfigForBaseFieldPaths",()=>ua],490170);var cs=e.i(739946),cc=e.i(470292),cu=e.i(62351),cd=e.i(835870),cp=e.i(848513),cf=e.i(479393),ch=e.i(468212),cm=e.i(220250),cg=e.i(842519),cy=e.i(774010),cv=e.i(562407),cb=e.i(633303),cx=e.i(797341),cC=e.i(357863),ck=e.i(271944);let cw=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],c_="_internal_ownProps",cj="all-fields";function cS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:!1!==r.enumerable,get(){let i=n();return Object.defineProperty(e,t,{value:i,writable:!!r.writable,configurable:!1}),i}}),e}function cE(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!1,value:n})}let cT=[...cw],cD={name:"any",type:null,jsonType:"any"},cI=[...cw],cA={name:"array",type:null,jsonType:"array",of:[]},cO={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function cP(e){return"array"===e.type&&e.of&&e.of.some(e=>"block"===e.type)||!1}let cM=["title","name","label","heading","header","caption"],cF=["description",...cM];function cR(e,t){return(0,cp.default)(e.to||[]).some(e=>e.type===t)}function cB(e){return cR(e,"sanity.imageAsset")}function cN(e){return cR(e,"sanity.fileAsset")}function cL(e){return function(){return e.options&&e.options.preview&&console.warn('Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.\nPlease move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "'.concat(e.name,'".\n')),function(e){let t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,'".\n'))}(e),function(e){if(!e)return e;let t=e.select||e.fields||{};return Array.isArray(t)?{...(0,sD.default)(e,["prepare","component"]),select:t.reduce((e,t)=>(e[t]=t,e),{})}:{...(0,sD.default)(e,["prepare","component"]),select:t}}(e.preview||(e.options||{}).preview)||function(e){let t={fields:[],...e},n=t.fields.filter(e=>"string"===e.type).map(e=>e.name),r=t.fields.filter(cP).map(e=>e.name),i=cM.find(e=>n.includes(e)||r.includes(e)),a=cF.find(e=>e!==i&&(n.includes(e)||r.includes(e)));i||(i=n[0]||r[0],a=n[1]||r[1]);let o=t.fields.find(e=>"image"===e.type),l=function(e){let t=e.fields||[],n=t.find(cB);if(n)return n.name;let r=t.find(e=>(e.fields||[]).some(cB));return r?"".concat(r.name,".asset"):void 0}(t);if(!i){let e=function(e){let t=e.fields||[],n=t.find(cN);if(n)return n.name;let r=t.find(e=>(e.fields||[]).some(cN));return r?"".concat(r.name,".asset"):void 0}(t);e&&(i="".concat(e,".originalFilename")),l&&(i="".concat(l,".originalFilename"))}if(!i&&!l){let e=t.fields.map(e=>e.name);return{select:e.reduce((e,t)=>(e[t]=t,e),{}),prepare:t=>({title:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function e(t,n,r){if(r>n.maxDepth)return"...";if(Array.isArray(t)){if(0===t.length)return"[empty]";let i=Math.max(t.length-n.maxBreadth),a=t.slice(0,n.maxBreadth).map((t,i)=>e(t,n,r+1)).concat(i>0?"…+".concat(i):[]).join(", ");return 0===r?a:"[".concat(a,"]")}if("object"==typeof t&&null!==t){let i=Object.keys(t).filter(e=>!n.ignoreKeys.includes(e)&&"u">typeof t[e]);if(function(e){for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}((0,sD.default)(t,i)))return"{empty}";let a=i.slice(0,n.maxBreadth).map(i=>"".concat(i,": ").concat(e(t[i],n,r+1))).join(", ");return 0===r?a:"{".concat(a,"}")}let i=String(t);return""===i?'""':i}(e,{maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]},0)}((0,sD.default)(t,e),cO)})}}return{select:(0,ch.default)({title:i,description:a,media:o?o.name:l},cf.default)}}(e)}}let cz={type:"text",name:"text",title:"Text"},cV={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},cU={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},cH=[cU.bullet,cU.numbered],cq={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},cW=[cq.normal,cq.h1,cq.h2,cq.h3,cq.h4,cq.h5,cq.h6,cq.blockquote],cY={strong:{title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},em:{title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},code:{title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},underline:{title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},strikeThrough:{title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"}},cK=[cY.strong,cY.em,cY.code,cY.underline,cY.strikeThrough],cG=["type","name","title","jsonType","description","options","fieldsets","icon"],c$={name:"block",title:"Block",type:null,jsonType:"object"},cZ={},cX=[{type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]}],cJ=["type","name","title","jsonType","description","options","fieldsets","icon"],cQ={name:"span",title:"Span",type:null,jsonType:"object"},c1={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},c2={name:"text",title:"Text",type:"string"},c0={};var c5={prepare:e=>({title:String(e)})};let c7=[...cw],c3={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},c8=5,c4={},c6=e=>(c4[e]||(c4[e]=Symbol("__cachedStringFields_".concat(e))),c4[e]),c9=["style","list"],ue=e=>"block"===e.name||e.type&&ue(e.type);function ut(e,t,n){var r,i,a,o,l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4?arguments[4]:void 0;if(c<0)return n;let u=t(n,e,s);return"array"===e.jsonType&&Array.isArray(e.of)?(r=e,i=t,a=u,o=s,l=c,r.of.reduce((e,t)=>ut(t,i,e,o,l-1),a)):"object"===e.jsonType&&Array.isArray(e.fields)&&!(e.type&&"reference"===e.type.name)?function(e,t,n,r,i){let a=ue(e);return e.fields.reduce((e,n)=>{if(a&&c9.includes(n.name))return e;let o=[n.name].concat("array"===n.type.jsonType?[[]]:[]);return ut(n.type,t,e,r.concat(o),i-1)},n)}(e,t,u,s,c):u}let un=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],ur={title:10,subtitle:5,description:1.5};function ui(e,t){var n;let r=null==e||null==(n=e.preview)?void 0:n.select;if(!r)return[];let i=[];for(let e of Object.keys(r)){if(!(e in ur))continue;let n=r[e].split(".");t>-1&&n.length-1>t||i.push({weight:ur[e],path:n})}return i}function ua(e,t){var n=ul(t);let r=c6(n);return e[r]||(e[r]=(0,cy.default)([...un,...ui(e,n)],e=>e.path.join("."))),e[r]}function uo(e,t){var n=ul(t);let r=c6(n);return e[r]||(e[r]=(0,cy.default)([...un,...ui(e,n),...ut(e,(e,t,n)=>"string"===t.jsonType?[...e,n]:e,[],[],n).map(e=>({weight:1,path:e})),...ut(e,(e,t,n)=>"array"===t.jsonType&&Array.isArray(t.of)&&t.of.some(ue)?[...e,n]:e,[],[],n).map(e=>({weight:1,path:e,mapWith:"pt::text"}))],e=>e.path.join("."))),e[r]}function ul(e){return!(0,cg.default)(e)||e<1||e>c8?c8-1:e-1}let us=[{name:"_ref",title:"Referenced document ID",type:"string"},{name:"_weak",title:"Weak reference marker",type:"boolean"},{name:"_dataset",title:"Target dataset",type:"string"},{name:"_projectId",title:"Target project ID",type:"string",hidden:!0}],uc=[...cw],uu={name:"crossDatasetReference",type:null,jsonType:"object"},ud=[...cw],up={name:"date",title:"Datetime",type:null,jsonType:"string"},uf=[...cw],uh={name:"datetime",title:"Datetime",type:null,jsonType:"string"},um=["title","name","label","heading","header","caption","description"],ug=["string","boolean","number"],uy=e=>ug.includes(e.type);function uv(e){if(!Array.isArray(e))throw Error("The search config of a document type must be an array of search config objects");return e.map(e=>{if("defaults"===e)return e;if(!(0,sT.default)(e))throw Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in e?e.weight:1,path:(0,cC.default)(e.path),mapWith:"string"==typeof e.mapWith?e.mapWith:void 0}})}let ub=[...cw,"orderings","__experimental_search","blockEditor","icon"],ux={get:()=>({name:"object",title:"Object",type:null,jsonType:"object"}),extend(e,t){let n,r={fields:[],...e},i={...r.options},a={...r,title:r.title||(r.name?(0,cx.default)(r.name):"Object"),options:i,orderings:r.orderings||(0===(n=um.filter(e=>r.fields.some(t=>uy(t)&&t.name===e))).length&&(n=r.fields.filter(uy).map(e=>e.name)),n.map(e=>({name:e,i18n:{title:{key:"default-orderings.".concat(e),ns:"studio"}},title:(0,cm.default)((0,cx.default)(e)),by:[{field:e,direction:"asc"}]}))),fields:r.fields.map(e=>{let{name:n,fieldset:r,group:i,...a}=e;return cS({name:n,group:i,fieldset:r},"type",()=>t({...a,title:e.title||(0,cx.default)(n)}))})},o=Object.assign((0,sD.default)(this.get(),ub),a,{type:this.get()});return cS(o,"fieldsets",()=>uC(r,o.fields)),cS(o,"groups",()=>(function(e,t){let n={},r=0;for(let t of e.groups||[]){if(n[t.name])throw Error('Duplicate group name "'.concat(t.name,"\" found for type '").concat(e.title?e.title:(0,cx.default)(e.name),"'"));if(n[t.name]={title:(0,cx.default)(t.name),...t,fields:[]},t.default&&++r>1)throw Error("More than one field group defined as default for type '".concat(e.title?e.title:(0,cx.default)(e.name),"' - only 1 is supported"))}return t.forEach(t=>{let r=(0,cv.default)(t.group||[]);0!==r.length&&r.forEach(r=>{let i=n[r];if(!i)throw Error("Field group '".concat(r,"' is not defined in schema for type '").concat(e.title?e.name:(0,cx.default)(e.name),"'"));i.fields.push(t)})}),(0,cb.default)(n).filter(e=>e.fields.length>0||e.name===cj)})(r,o.fields)),cS(o,"preview",cL(r)),cS(o,c_,()=>({...a,preview:o.preview}),{enumerable:!1,writable:!1}),cS(o,"__experimental_search",()=>{let e=r.__experimental_search?uv(r.__experimental_search):null;return e?e.map(e=>"defaults"===e?uv(r):e):uo(o)},{enumerable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw Error('Cannot override `fields` of subtypes of "object"');let i=(0,sD.default)(n,ub);i.title=n.title||r.title||(r.name?(0,cx.default)(r.name):"Object");let a=Object.assign({},t,(0,sD.default)(n,ub),{type:t});return cS(a,"__experimental_search",()=>t.__experimental_search),cE(a,c_,i),e(a)}}}(o)}};function uC(e,t){let n={};for(let t of e.fieldsets||[]){if(n[t.name])throw Error('Duplicate fieldset name "'.concat(t.name,"\" found for type '").concat(e.title?e.title:(0,cx.default)(e.name),"'"));n[t.name]={title:(0,cx.default)(t.name),...t,fields:[]}}let r=new Set;for(let i of t){if(!i.fieldset){r.add({single:!0,field:i});continue}let t=n[i.fieldset];if(!t)throw Error("Fieldset '".concat(i.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));t.fields.push(i),r.add(t)}return Array.from(r)}let uk={name:"document",title:"Document",type:null,jsonType:"object"},uw={get:()=>uk,extend:ux.extend},u_=[...cw],uj={name:"email",title:"Email",type:null,jsonType:"string"};cS(uj,c_,()=>({...uj,validation:e=>e.email()}),{enumerable:!1});let uS={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},uE={name:"media",type:"globalDocumentReference",hidden:!0,to:[{type:"sanity.asset"}]},uT=[...cw],uD={name:"file",title:"File",type:null,jsonType:"object"},uI={accept:""},uA=[{name:"_ref",title:"Referenced document ID",type:"string"},{name:"_weak",title:"Weak reference",type:"boolean"}],uO=[...cw],uP={name:"globalDocumentReference",title:"Global Document Reference",type:null,jsonType:"object"},uM={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},uF={name:"hotspot",type:"sanity.imageHotspot"},uR={name:"crop",type:"sanity.imageCrop"},uB={name:"media",type:"globalDocumentReference",hidden:!0,to:[{type:"sanity.asset"}]},uN=[...cw],uL={name:"image",title:"Image",type:null,jsonType:"object"},uz={},uV=[...cw],uU={name:"number",title:"Number",type:null,jsonType:"number"},uH=[{name:"_ref",title:"Referenced document ID",type:"string"},{name:"_weak",title:"Weak reference",type:"boolean"}],uq=[...cw],uW={name:"reference",title:"Reference",type:null,jsonType:"object"},uY=[...cw],uK={name:"string",title:"String",type:null,jsonType:"string"},uG=[...cw,"rows"],u$={name:"text",title:"Text",type:null,jsonType:"string"},uZ=[...cw],uX={name:"url",title:"Url",type:null,jsonType:"string"};var uJ=Object.freeze({__proto__:null,any:{get:()=>cD,extend(e,t){let n={...e,of:e.of.map(e=>({name:e.name,type:t((0,cd.default)(e,"name"))}))},r=Object.assign((0,sD.default)(cD,cT),n,{type:cD});return cE(r,c_,n),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw Error('Cannot override `of` property of subtypes of "array"');let r=(0,sD.default)(n,cT),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(r)}},array:{get:()=>cA,extend(e,t){let n=Object.assign((0,sD.default)(cA,cI),e,{type:cA});return cS(n,"of",()=>e.of.map(e=>t(e))),cS(n,c_,()=>({...e,of:n.of}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw Error('Cannot override `of` property of subtypes of "array"');let r=(0,sD.default)(n,cI),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},block:{get:()=>c$,extend(e,t){var n;let r={...e.options||cZ},{marks:i,styles:a,lists:o,of:l,...s}=e,c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[cz,cV],annotations:e&&e.annotations?e.annotations:cX,decorators:e&&e.decorators?e.decorators:cK},...t.filter(e=>"span"!==e.type)]}}(i,l),u=[c,{name:"style",title:"Style",type:"string",options:{list:(n=a||cW).some(e=>"normal"===e.value)?n:[cq.normal,...n]}},{name:"listItem",title:"List type",type:"string",options:{list:o||cH}},{name:"markDefs",title:"Mark definitions",type:"array",of:(null==i?void 0:i.annotations)||cX},{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),d={...s,options:r},p=Object.assign((0,sD.default)(c$,cG),d,{type:c$});return cS(p,"fields",()=>u.map(e=>{let{name:n,...r}=e;return{name:n,type:t(r)}})),cS(p,"preview",cL(e)),cS(p,c_,()=>({...d,fields:p.fields,preview:p.preview}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw Error('Cannot override `fields` of subtypes of "block"');let r=(0,sD.default)(n,cG),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(p)}},boolean:{get:()=>c3,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(c3,c7),t,{type:c3});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,c7),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},crossDatasetReference:{get:()=>uu,extend(e,t){if(!e.to)throw Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));let n=Object.assign((0,sD.default)(uu,uc),e,{type:uu});return cS(n,"fields",()=>us.map(e=>{let{name:n,...r}=e;return{name:n,type:t(r)}})),cS(n,"to",()=>(0,cp.default)(e.to).map(e=>({...e,__experimental_search:ua(e)}))),cS(n,"title",()=>e.title||(n.to&&0!==n.to.length?"Cross dataset reference to ".concat((function(e,t){let n=e.length;if(1===n)return e[0];let r=e.slice(0,n-1),i=e[n-1];return"".concat(r.join(", ")," ").concat("or"," ").concat(i)})((0,cp.default)(n.to).map(e=>e.title||(0,cm.default)(e.type)),0).toLowerCase()):"Cross dataset Reference")),cS(n,c_,()=>({...e,fields:n.fields,to:n.to,title:n.title}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw Error('Cannot override `of` of subtypes of "reference"');let r=(0,sD.default)(n,uc),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},date:{get:()=>up,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(up,ud),t,{type:up});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,ud),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},datetime:{get:()=>uh,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(uh,uf),t,{type:uh});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,uf),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},document:uw,email:{get:()=>uj,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(uj,u_),t,{type:uj});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,u_),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},file:{get:()=>uD,extend(e,t){let n={...e.options||uI},r=[uS,uE,...e.fields||[]],i={...e,fields:r},a=Object.assign((0,sD.default)(uD,uT),i,{type:uD,title:i.title||(i.name?(0,cx.default)(i.name):uD.title),options:n,fields:i.fields.map(n=>{let{name:r,fieldset:i,...a}=n;return cS({name:r,fieldset:i,isCustomized:!!e.fields},"type",()=>t({...a,title:n.title||(0,cx.default)(r)}))})});return cS(a,"fieldsets",()=>uC(i,a.fields)),cS(a,"preview",cL(Object.assign({},i,{fields:r}))),cS(a,c_,()=>({...i,options:n,fields:a.fields,title:a.title,fieldsets:a.fieldsets,preview:a.preview}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw Error('Cannot override `fields` of subtypes of "file"');let r=(0,sD.default)(n,uT),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(a)}},globalDocumentReference:{get:()=>uP,extend(e,t){if(!e.to)throw Error('Missing "to" field in global document reference definition. Check the type '.concat(e.name));let n=Object.assign((0,sD.default)(uP,uO),e,{type:uP});return cS(n,"fields",()=>uA.map(e=>{let{name:n,...r}=e;return{name:n,type:t(r)}})),cS(n,"to",()=>(0,cp.default)(e.to).map(e=>({...e}))),cS(n,"title",()=>e.title||(n.to&&0!==n.to.length?"Global Document Reference to ".concat((function(e,t){let n=e.length;if(1===n)return e[0];let r=e.slice(0,n-1),i=e[n-1];return"".concat(r.join(", ")," ").concat("or"," ").concat(i)})((0,cp.default)(n.to).map(e=>e.title),0).toLowerCase()):"Global Document Reference")),cS(n,c_,()=>({...e,fields:n.fields,to:n.to,title:n.title}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw Error('Cannot override `of` of subtypes of "globalDocumentReference"');let r=(0,sD.default)(n,uO),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},image:{get:()=>uL,extend(e,t){let n={...e.options||uz},r=[uF,uR];n.hotspot||(r=r.map(e=>({...e,hidden:!0})));let i=[uM,uB,...r,...e.fields||[]],a={...e,fields:i},o=Object.assign((0,sD.default)(this.get(),uN),a,{type:uL,title:a.title||(a.name?(0,cx.default)(a.name):uL.title),options:n,fields:a.fields.map(n=>{let{name:r,fieldset:i,...a}=n;return cS({name:r,fieldset:i,isCustomized:!!e.fields},"type",()=>t({...a,title:n.title||(0,cx.default)(r)}))})});return cS(o,"fieldsets",()=>uC(a,o.fields)),cS(o,"preview",cL(Object.assign({},a,{fields:i}))),cS(o,c_,()=>({...a,options:n,fields:o.fields,title:o.title,fieldsets:o.fieldsets,preview:o.preview}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw Error('Cannot override `fields` of subtypes of "image"');let r=(0,sD.default)(n,uN),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(o)}},number:{get:()=>uU,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(uU,uV),t,{type:uU});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,uV),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},object:ux,reference:{get:()=>uW,extend(e,t){if(!e.to)throw Error('Missing "to" field in reference definition. Check the type '.concat(e.name));let n=Object.assign((0,sD.default)(uW,uq),e,{type:uW});return cS(n,"fields",()=>uH.map(e=>{let{name:n,...r}=e;return{name:n,type:t(r)}})),cS(n,"fieldsets",()=>uC(e,n.fields)),cS(n,"to",()=>(0,cp.default)(e.to).map(e=>t(e))),cS(n,"title",()=>e.title||(n.to&&0!==n.to.length?"Reference to ".concat((function(e,t){let n=e.length;if(1===n)return e[0];let r=e.slice(0,n-1),i=e[n-1];return"".concat(r.join(", ")," ").concat("or"," ").concat(i)})((0,cp.default)(n.to).map(e=>e.title),0).toLowerCase()):"Reference")),cS(n,c_,()=>({...e,fields:n.fields,fieldsets:n.fieldsets,to:n.to,title:n.title}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.of)throw Error('Cannot override `of` of subtypes of "reference"');let r=(0,sD.default)(n,uq),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},span:{get:()=>cQ,extend(e,t){let n={...e.options||c0},{annotations:r=[],marks:i=[]}=e,a=[c1,c2],o={...e,options:n},l=Object.assign((0,sD.default)(cQ,cJ),o,{type:cQ});return cS(l,"fields",()=>a.map(e=>{let{name:n,...r}=e;return{name:n,type:t(r)}})),cS(l,"annotations",()=>r.map(t)),cS(l,"marks",()=>i.map(t)),cS(l,"preview",cL(e)),cS(l,c_,()=>({...o,fields:l.fields,annotations:l.annotations,marks:l.marks,preview:l.preview}),{enumerable:!1,writable:!1}),function e(t){return{get:()=>t,extend:n=>{if(n.fields)throw Error('Cannot override `fields` of subtypes of "span"');let r=(0,sD.default)(n,cJ),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(l)}},string:{get:()=>uK,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(uK,uY),t,{type:uK});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,uY),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},text:{get:()=>u$,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(u$,uG),t,{type:u$});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,uG),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}},url:{get:()=>uX,extend(e){let t={...e,preview:c5},n=Object.assign((0,sD.default)(uX,uZ),t,{type:uX});return cE(n,c_,t),function e(t){return{get:()=>t,extend:n=>{let r=(0,sD.default)(n,uZ),i=Object.assign({},t,r,{type:t});return cE(i,c_,r),e(i)}}}(n)}}}),uQ=new WeakMap;class u1{static compile(e){return new u1(e)}get name(){return this._original.name}get parent(){return this._original.parent}get(e){return this._registry[e]&&this._registry[e].get()}has(e){return e in this._registry}getTypeNames(){return Object.keys(this._registry)}getLocalTypeNames(){return(0,cs._)(this,uQ)}constructor(e){(0,rc._)(this,"_original",void 0),(0,rc._)(this,"_registry",void 0),(0,cc._)(this,uQ,{writable:!0,value:void 0}),this._original=e;let{registry:t,localTypeNames:n}=function(e){let t,n=Object.create(null);e.parent?(Object.assign(n,e.parent._registry),t=[]):(Object.assign(n,uJ),t=Object.keys(uJ));let r=e.types.reduce((e,t)=>{if(e[t.name])throw Error("Duplicate type name added to schema: ".concat(t.name));return e[t.name]=t,e},{});return e.types.forEach(o),{registry:n,localTypeNames:t};function i(e){if(!n[e]){if(!r[e])throw Error("Unknown type: ".concat(e));o(r[e])}}function a(e){return i(e.type),n[e.type].extend(e,a).get()}function o(e){i(e.type),n[e.name]||(t.push(e.name),n[e.name]=n[e.type].extend(e,a))}}(e);this._registry=t,(0,cu._)(this,uQ,n)}}class u2 extends u1{static compile(e){return new u2(e)}constructor(e){super(e),console.warn(Error('The default export of `@sanity/schema` is deprecated. Use `import {Schema} from "@sanity/schema"` instead.').stack.replace(/^Error/,"Warning"))}}let u0=Symbol("FIELD_REF"),u5=["Array","Boolean","Date","Number","Object","String"],u7=(s=class e{_mergeRequired(e){return"required"===this._required||"required"===e._required?"required":"optional"===this._required||"optional"===e._required?"optional":void 0}error(e){let t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){let t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){let t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>"type"===e.flag),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return"required"===this._required}clone(){let t=new e;return t._type=this._type,t._message=this._message,t._required=this._required,t._rules=(0,ck.default)(this._rules),t._level=this._level,t._fieldRules=this._fieldRules,t._typeDef=this._typeDef,t}cloneWithRules(e){let t=this.clone(),n=new Set;return e.forEach(e=>{"type"===e.flag&&(t._type=e.constraint),n.add(e.flag)}),t._rules=t._rules.filter(e=>{let t=["type","uri","email"].includes(e.flag),r=n.has(e.flag);return!(t&&r)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw Error("merge() failed: conflicting types");let t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level="error"===this._level?e._level:this._level,t}type(e){let t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!u5.includes(t))throw Error('Unknown type "'.concat(e,'"'));let n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){let e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){let e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.bypassConcurrencyLimit&&Object.assign(e,{bypassConcurrencyLimit:!0}),this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){let t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,i;let a="string"==typeof t?t:null!=(r=null==t?void 0:t.name)?r:null==n?void 0:n.name,o="string"!=typeof t&&(null!=(i=null==t?void 0:t.invert)?i:null==n?void 0:n.invert);return this.cloneWithRules([{flag:"regex",constraint:{pattern:e,name:a,invert:o||!1}}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){let t=(null==e?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw Error("scheme must have at least 1 scheme specified");let r={options:{scheme:n.map(e=>{if(!(e instanceof RegExp)&&"string"!=typeof e)throw Error("scheme must be a RegExp or a String");return"string"==typeof e?new RegExp("^".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"$")):e}),allowRelative:(null==e?void 0:e.allowRelative)||!1,relativeOnly:(null==e?void 0:e.relativeOnly)||!1,allowCredentials:(null==e?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if("Object"!==this._type)throw Error("fields() can only be called on an object type");let t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){let e,t=function e(t){return t&&t.type?e(t.type):t}(this._typeDef);return e=t&&["image","file"].includes(t.name)?"image"===t.name?"image":"file":"asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:e}}])}media(e){return this.cloneWithRules([{flag:"media",constraint:e}])}async validate(e,t){throw Error("validate() method must be implemented by extending Rule class")}constructor(t){(0,rc._)(this,"_type",void 0),(0,rc._)(this,"_level",void 0),(0,rc._)(this,"_required",void 0),(0,rc._)(this,"_typeDef",void 0),(0,rc._)(this,"_message",void 0),(0,rc._)(this,"_rules",[]),(0,rc._)(this,"_fieldRules",void 0),(0,rc._)(this,"valueOfField",e.valueOfField.bind(e)),this._typeDef=t,this.reset()}},(0,rc._)(s,"FIELD_REF",u0),(0,rc._)(s,"array",e=>new s(e).type("Array")),(0,rc._)(s,"object",e=>new s(e).type("Object")),(0,rc._)(s,"string",e=>new s(e).type("String")),(0,rc._)(s,"number",e=>new s(e).type("Number")),(0,rc._)(s,"boolean",e=>new s(e).type("Boolean")),(0,rc._)(s,"dateTime",e=>new s(e).type("Date")),(0,rc._)(s,"valueOfField",e=>({type:u0,path:e})),s);e.s(["DescriptorConverter",()=>pW,"builtinTypes",()=>ft,"groupProblems",()=>fo,"isActionEnabled",()=>fe,"processSchemaSynchronization",()=>p4,"validateSchema",()=>f$],519339);let u3=[0x428a2f98,0x71374491,-0x4a3f0431,-0x164a245b,0x3956c25b,0x59f111f1,-0x6dc07d5c,-0x54e3a12b,-0x27f85568,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,-0x7f214e02,-0x6423f959,-0x3e640e8c,-0x1b64963f,-0x1041b87a,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,-0x67c1aeae,-0x57ce3993,-0x4ffcd838,-0x40a68039,-0x391ff40d,-0x2a586eb9,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,-0x7e3d36d2,-0x6d8dd37b,-0x5d40175f,-0x57e599b5,-0x3db47490,-0x3893ae5d,-0x2e6d17e7,-0x2966f9dc,-0xbf1ca7b,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,-0x7b3787ec,-0x7338fdf8,-0x6f410006,-0x5baf9315,-0x41065c09,-0x398e870e];class u8{update(e){if("string"==typeof e)return this._utf8(e);if(null==e)throw TypeError("Invalid type: "+typeof e);let t=e.byteOffset,n=e.byteLength,r=n/64|0,i=0;if(r&&!(3&t)&&!(this._size%64)){let n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,i>>2),i+=64;this._size+=i}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){let r=new Uint8Array(e.buffer,t+i,n-i);return this._uint8(r)}return i===n?this:this._uint8(e,i)}_uint8(e,t){let{_byte:n,_word:r}=this,i=e.length;for(t|=0;t<i;){let a=this._size%64,o=a;for(;t<i&&o<64;)n[o++]=e[t++];o>=64&&this._int32(r),this._size+=o-a}return this}_utf8(e){let{_byte:t,_word:n}=this,r=e.length,i=this._sp;for(let a=0;a<r;){let o=this._size%64,l=o;for(;a<r&&l<64;){let n=0|e.charCodeAt(a++);n<128?t[l++]=n:n<2048?(t[l++]=192|n>>>6,t[l++]=128|63&n):n<55296||n>57343?(t[l++]=224|n>>>12,t[l++]=128|n>>>6&63,t[l++]=128|63&n):i?(n=((1023&i)<<10)+(1023&n)+65536,t[l++]=240|n>>>18,t[l++]=128|n>>>12&63,t[l++]=128|n>>>6&63,t[l++]=128|63&n,i=0):i=n}l>=64&&(this._int32(n),n[0]=n[16]),this._size+=l-o}return this._sp=i,this}_int32(e,t){let{A:n,B:r,C:i,D:a,E:o,F:l,G:s,H:c}=this,u=0;for(t|=0;u<16;)u4[u++]=de(e[t++]);for(u=16;u<64;u++)u4[u]=dl(u4[u-2])+u4[u-7]+da(u4[u-15])+u4[u-16]|0;for(u=0;u<64;u++){let e=c+di(o)+dt(o,l,s)+u3[u]+u4[u]|0,t=dr(n)+dn(n,r,i)|0;c=s,s=l,l=o,o=a+e|0,a=i,i=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=i+this.C|0,this.D=a+this.D|0,this.E=o+this.E|0,this.F=l+this.F|0,this.G=s+this.G|0,this.H=c+this.H|0}digest(e){let{_byte:t,_word:n}=this,r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if((r>>=2)>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;let i=8*this._size,a=(0|i)>>>0,o=(i-a)/0x100000000;return o&&(n[14]=de(o)),a&&(n[15]=de(a)),this._int32(n),"hex"===e?this._hex():this._bin()}_hex(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:l}=this;return u9(e)+u9(t)+u9(n)+u9(r)+u9(i)+u9(a)+u9(o)+u9(l)}_bin(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:l,_byte:s,_word:c}=this;return c[0]=de(e),c[1]=de(t),c[2]=de(n),c[3]=de(r),c[4]=de(i),c[5]=de(a),c[6]=de(o),c[7]=de(l),s.slice(0,32)}constructor(){this.A=0x6a09e667,this.B=-0x4498517b,this.C=0x3c6ef372,this.D=-0x5ab00ac6,this.E=0x510e527f,this.F=-0x64fa9774,this.G=0x1f83d9ab,this.H=0x5be0cd19,this._size=0,this._sp=0,(!t||u6>=8e3)&&(t=new ArrayBuffer(8e3),u6=0),this._byte=new Uint8Array(t,u6,80),this._word=new Int32Array(t,u6,20),u6+=80}}let u4=new Int32Array(64),u6=0,u9=e=>(e+0x100000000).toString(16).substr(-8),de=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&0xff000000|e<<8&0xff0000|e>>8&65280|e>>24&255,dt=(e,t,n)=>n^e&(t^n),dn=(e,t,n)=>e&t|n&(e|t),dr=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),di=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),da=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,dl=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;function ds(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return -1;if(e[n]>t[n])return 1}return 0}function dc(e){for(let t=0;t<e.length;t++)if(0!=e[t])return!1;return!0}class du{encodeByte(e){this.uint8_byte[0]=e,this.hash.update(this.uint8_byte)}encodeString(e){this.hash.update(e,"utf8")}encodeInt32(e){if(this.int32[0]=e,this.int32[0]!==e)throw Error("Only 32-bit numbers can be encoded as descriptors");this.hash.update(this.uint8)}encodeValue(e){if(null===e)this.encodeByte(110);else if(!0===e)this.encodeByte(116);else if(!1===e)this.encodeByte(102);else if("string"==typeof e)this.encodeByte(115),this.encodeString(e);else if(Array.isArray(e)){for(let t of(this.encodeByte(97),e))this.encodeValue(t);this.encodeByte(65)}else{let t=[];for(let[n,r]of Object.entries(e)){if(void 0===r)continue;let e=new du;e.encodeString(n),e.encodeValue(r),t.push(e.getDigest())}for(let e of(t.sort((e,t)=>ds(e,t)),this.encodeByte(111),t))this.hash.update(e);this.encodeByte(79)}}encodeObjectWithType(e,t){let n=[];for(let[e,r]of Object.entries(t)){if(void 0===r)continue;let t=new du;t.encodeString(e),t.encodeValue(r),n.push(t.getDigest())}let r=new du;for(let t of(r.encodeString("type"),r.encodeValue(e),n.push(r.getDigest()),n.sort((e,t)=>ds(e,t)),this.encodeByte(111),n))this.hash.update(t);this.encodeByte(79)}getDigest(){return this.hash.digest()}constructor(){(0,rc._)(this,"hash",new u8),(0,rc._)(this,"buffer",new ArrayBuffer(4)),(0,rc._)(this,"uint8",new Uint8Array(this.buffer)),(0,rc._)(this,"uint8_byte",new Uint8Array(this.buffer,0,1)),(0,rc._)(this,"int32",new Int32Array(this.buffer))}}function dd(e,t,n){let r=new du;r.encodeObjectWithType(e,t);let i=r.getDigest();return(null==n?void 0:n.withDigest)&&n.withDigest(i),{id:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;for(let t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return"u"+globalThis.btoa(n).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")}(i,"\x12 "),type:e,...t}}class dp{toggle(e,t){for(let n=0;n<3;n++){let r=e[n]%this.numBuckets;t&&t(r);let i=r*this.byteSize;for(let t=0;t<this.byteSize;t++)this.arr[i+t]^=e[t]}}toggleAll(e){for(let t=0;t<this.arr.length;t++)this.arr[t]^=e.arr[t]}copy(){let e=new dp(this.byteSize,this.numBuckets);for(let t=0;t<this.arr.length;t++)e.arr[t]=this.arr[t];return e}decode(){let e=2*this.numBuckets,t=new df(this.byteSize,e),n=new dh(this.numBuckets),r=0;for(;!n.isEmpty();){let i=n.pop();if(this.looksPure(i)){if(r>=e)return null;let a=i*this.byteSize,o=this.arr.slice(a,a+this.byteSize);t.toggle(o),this.toggle(o,e=>{e!==i&&n.set(e)}),r++}}return dc(this.arr)?t:null}looksPure(e){let t=e*this.byteSize,n=this.arr.subarray(t,t+this.byteSize);if(dc(n))return!1;let r=0;for(let t=0;t<3;t++)n[t]%this.numBuckets===e&&r++;return r%2==1}constructor(e,t){if((0,rc._)(this,"arr",void 0),(0,rc._)(this,"byteSize",void 0),(0,rc._)(this,"numBuckets",void 0),t>=31)throw Error("numBuckets must be less than 31");this.byteSize=e,this.numBuckets=t,this.arr=new Uint8Array(this.byteSize*this.numBuckets)}}class df{toggle(e){for(let t=0;t<this.length;t++){let n=t*this.byteSize,r=this.arr.subarray(n,n+this.byteSize);if(function(e,t){for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}(e,r)){if(t!=this.length-1){let e=(this.length-1)*this.byteSize;for(let t=0;t<this.byteSize;t++)r[t]=this.arr[e+t]}this.length--;return}}if(this.length===this.capacity)throw Error("BufferSet is full");let t=this.length*this.byteSize;for(let n=0;n<this.byteSize;n++)this.arr[t+n]=e[n];this.length++}forEach(e){for(let t=0;t<this.length;t++){let n=t*this.byteSize;e(this.arr.subarray(n,n+this.byteSize))}}toJSON(){let e=[];return this.forEach(t=>{e.push(Array.from(t))}),e.sort((e,t)=>ds(e,t)),e}constructor(e,t){(0,rc._)(this,"arr",void 0),(0,rc._)(this,"byteSize",void 0),(0,rc._)(this,"length",void 0),(0,rc._)(this,"capacity",void 0),this.arr=new Uint8Array(e*t),this.byteSize=e,this.length=0,this.capacity=t}}class dh{set(e){let t=1<<e;this.bitset&t||(this.queue.push(e),this.bitset|=t)}isEmpty(){return 0===this.bitset}pop(){let e=this.queue.shift();return this.bitset&=~(1<<e),e}constructor(e){(0,rc._)(this,"bitset",void 0),(0,rc._)(this,"queue",void 0),this.bitset=(1<<e)-1,this.queue=Array.from({length:e},(e,t)=>t)}}class dm{addObject(e,t){let n=dd(e,t,{withDigest:e=>{this.sketch.toggle(e)}});this.objectValues[n.id]=n,this.keys.push(n.id)}addSet(e){this.setValues[e.set.id]=e,this.sketch.toggle(e.digest),this.keys.push(e.set.id)}build(e){let t;return this.keys.sort(),{set:dd(e,{keys:this.keys},{withDigest:e=>{t=e}}),digest:t,objectValues:this.objectValues,setValues:this.setValues,sketch:this.sketch}}constructor(){(0,rc._)(this,"objectValues",{}),(0,rc._)(this,"setValues",{}),(0,rc._)(this,"keys",[]),(0,rc._)(this,"sketch",new dp(32,8))}}var dg=e.i(898892),dy=e.i(12447),dv=e.i(272810),db=e.i(482820),dx=e.i(909817),dC=e.i(311354),dk=e.i(724031),dw=e.i(52493);e.s(["createReferenceTypeNode",()=>pq,"evaluate",()=>d1,"parse",()=>pU],83107);class d_{matches(e){return this.patternRe.test(e)}toJSON(){return this.pattern}constructor(e){(0,rc._)(this,"pattern",void 0),(0,rc._)(this,"patternRe",void 0),this.pattern=e,this.patternRe=function(e){let t=[];for(let n of e.split("."))"*"===n?t.push("[^.]+"):"**"===n?t.push(".*"):t.push(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));return new RegExp("^".concat(t.join("."),"$"))}(e)}}class dj{isArray(){return!0}async get(){let e=[];for await(let t of this)e.push(await t.get());return e}async *[Symbol.asyncIterator](){let e=0;for(;;){for(;e<this.data.length;e++)yield this.data[e];if(this.isDone)return;await this._nextTick()}}_nextTick(){let e,t;if(this.ticker)return this.ticker;let n=()=>{this.ticker=new Promise((n,r)=>{e=n,t=r})},r=()=>{e(),n()},i=async()=>{try{for await(let e of this.generator())this.data.push(e),r();this.isDone=!0,r()}catch(e){t(e)}};return n(),i(),this.ticker}constructor(e){(0,rc._)(this,"type","stream"),(0,rc._)(this,"generator",void 0),(0,rc._)(this,"ticker",void 0),(0,rc._)(this,"isDone",void 0),(0,rc._)(this,"data",void 0),this.generator=e,this.ticker=null,this.isDone=!1,this.data=[]}}let dS=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function dE(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}class dT{isArray(){return"array"===this.type}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(e){for(let t of e)yield dR(t)}(this.data);throw Error("Cannot iterate over: ".concat(this.type))}constructor(e,t){(0,rc._)(this,"data",void 0),(0,rc._)(this,"type",void 0),this.data=e,this.type=t}}let dD=new dT(null,"null"),dI=new dT(!0,"boolean"),dA=new dT(!1,"boolean");class dO{static parseToValue(e){let t=dS.test(e)?new Date(e):null;return t?new dT(new dO(t),"datetime"):dD}equals(e){return this.date.getTime()==e.date.getTime()}add(e){let t=new Date(this.date.getTime());return t.setTime(t.getTime()+1e3*e),new dO(t)}difference(e){return(this.date.getTime()-e.date.getTime())/1e3}compareTo(e){return this.date.getTime()-e.date.getTime()}toString(){return function(e){let t=dE(e.getUTCFullYear(),4),n=dE(e.getUTCMonth()+1,2),r=dE(e.getUTCDate(),2),i=dE(e.getUTCHours(),2),a=dE(e.getUTCMinutes(),2),o=dE(e.getUTCSeconds(),2),l="",s=e.getMilliseconds();return 0!=s&&(l=".".concat(dE(s,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(i,":").concat(a,":").concat(o).concat(l,"Z")}(this.date)}toJSON(){return this.toString()}constructor(e){(0,rc._)(this,"date",void 0),this.date=e}}function dP(e){return Number.isFinite(e)?new dT(e,"number"):dD}function dM(e){return new dT(e,"string")}function dF(e){return new dT(e,"datetime")}function dR(e){return e&&"function"==typeof e.next?new dj(async function*(){for await(let t of e)yield dR(t)}):null==e?dD:new dT(e,dB(e))}function dB(e){return null===e||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof d_?"path":e instanceof dO?"datetime":typeof e}function dN(e,t){return"string"===e.type&&"string"===t.type||"boolean"===e.type&&"boolean"===t.type||"null"===e.type&&"null"===t.type||"number"===e.type&&"number"===t.type?e.data===t.data:"datetime"===e.type&&"datetime"===t.type&&e.data.equals(t.data)}function dL(e,t){if(null===e||null===t)return e===t;let n=typeof e,r=typeof t;if("undefined"===n&&"undefined"===r)return!0;if("function"===n&&"function"===r)return e===t;if("object"===n&&"object"===r){let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r of n)if(!dL(e[r],t[r]))return!1;return!0}return e===t}let dz=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,dV=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,dU=/(\b\.+|\.+\b)/g;function dH(e){return e.replace(dU,"").match(dz)||[]}function dq(e){return(e.replace(dU,"").match(dV)||[]).map(e=>RegExp("^".concat(e.slice(0,1024).replace(/\*/g,".*"),"$"),"i"))}async function dW(e,t){if("string"===e.type)return t(e.data),!0;if(e.isArray()){let n=!0;for await(let r of e)"string"===r.type?t(r.data):n=!1;return n}return!1}let dY={datetime:1,number:2,string:3,boolean:4};function dK(e,t){let n=dB(e);if(n!==dB(t))return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:+(e>t);case"datetime":return e.compareTo(t);default:return null}}let dG={"==":function(e,t){return dN(e,t)?dI:dA},"!=":function(e,t){return dN(e,t)?dA:dI},">":function(e,t){if("stream"===e.type||"stream"===t.type)return dD;let n=dK(e.data,t.data);return null===n?dD:n>0?dI:dA},">=":function(e,t){if("stream"===e.type||"stream"===t.type)return dD;let n=dK(e.data,t.data);return null===n?dD:n>=0?dI:dA},"<":function(e,t){if("stream"===e.type||"stream"===t.type)return dD;let n=dK(e.data,t.data);return null===n?dD:n<0?dI:dA},"<=":function(e,t){if("stream"===e.type||"stream"===t.type)return dD;let n=dK(e.data,t.data);return null===n?dD:n<=0?dI:dA},in:async function(e,t){if("path"===t.type)return"string"!==e.type?dD:t.data.matches(e.data)?dI:dA;if(t.isArray()){for await(let n of t)if(dN(e,n))return dI;return dA}return dD},match:async function(e,t){var n,r;let i=[],a=[];return await dW(e,e=>{i=i.concat(dH(e))}),await dW(t,e=>{a=a.concat(dq(e).map(e=>t=>t.some(t=>e.test(t))))})&&(n=i,r=a,0!==n.length&&0!==r.length&&r.every(e=>e(n)))?dI:dA},"+":function(e,t){return"datetime"===e.type&&"number"===t.type?dF(e.data.add(t.data)):"number"===e.type&&"number"===t.type?dP(e.data+t.data):"string"===e.type&&"string"===t.type?dM(e.data+t.data):"object"===e.type&&"object"===t.type?dR({...e.data,...t.data}):"array"===e.type&&"array"===t.type?dR(e.data.concat(t.data)):e.isArray()&&t.isArray()?new dj(async function*(){for await(let t of e)yield t;for await(let e of t)yield e}):dD},"-":function(e,t){return"datetime"===e.type&&"number"===t.type?dF(e.data.add(-t.data)):"datetime"===e.type&&"datetime"===t.type?dP(e.data.difference(t.data)):"number"===e.type&&"number"===t.type?dP(e.data-t.data):dD},"*":d$((e,t)=>e*t),"/":d$((e,t)=>e/t),"%":d$((e,t)=>e%t),"**":d$((e,t)=>Math.pow(e,t))};function d$(e){return function(t,n){return"number"===t.type&&"number"===n.type?dP(e(t.data,n.data)):dD}}let dZ=class e{createNested(t){return this.isHidden?new e(this.params,this.source,t,this.context,this.parent):new e(this.params,this.source,t,this.context,this)}createHidden(e){let t=this.createNested(e);return t.isHidden=!0,t}constructor(e,t,n,r,i){(0,rc._)(this,"params",void 0),(0,rc._)(this,"source",void 0),(0,rc._)(this,"value",void 0),(0,rc._)(this,"parent",void 0),(0,rc._)(this,"context",void 0),(0,rc._)(this,"isHidden",!1),this.params=e,this.source=t,this.value=n,this.context=r,this.parent=i}};function dX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dX;return(0,dQ[e.type])(e,t,n)}function dJ(e,t){return"then"in e?e.then(t):t(e)}let dQ={This:(e,t)=>t.value,SelectorNested(){throw Error("Unexpected node type: SelectorNested")},SelectorFuncCall(){throw Error("Unexpected node type: SelectorFuncCall")},Everything:(e,t)=>t.source,Parameter(e,t){let{name:n}=e;return dR(t.params[n])},Context(e,t){let{key:n}=e;if("before"===n||"after"===n)return t.context[n]||dD;throw Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let e=0;e<n;e++){if(!r.parent)return dD;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:i,right:a}=e,o=dG[r];if(!o)throw Error("Unknown operator: ".concat(r));let l=n(i,t),s=n(a,t);return"then"in l||"then"in s?(async()=>o(await l,await s))():o(l,s)},async Select(e,t,n){let{alternatives:r,fallback:i}=e;for(let e of r){let r=await n(e.condition,t);if("boolean"===r.type&&!0===r.data)return n(e.value,t)}return i?n(i,t):dD},async InRange(e,t,n){let{base:r,left:i,right:a,isInclusive:o}=e,l=await n(r,t),s=await n(i,t),c=await n(a,t),u=dK(await l.get(),await s.get());if(null===u)return dD;let d=dK(await l.get(),await c.get());return null===d?dD:o?u>=0&&d<=0?dI:dA:u>=0&&d<0?dI:dA},async Filter(e,t,n){let{base:r,expr:i}=e,a=await n(r,t);return a.isArray()?new dj(async function*(){for await(let e of a){let r=t.createNested(e),a=await n(i,r);"boolean"===a.type&&!0===a.data&&(yield e)}}):dD},async Projection(e,t,n){let{base:r,expr:i}=e,a=await n(r,t);return"object"!==a.type?dD:n(i,t.createNested(a))},FuncCall(e,t,n){let{func:r,args:i}=e;return r(i,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:i,args:a}=e;return r(await n(i,t),a,t,n)},async AccessAttribute(e,t,n){let{base:r,name:i}=e,a=t.value;return r&&(a=await n(r,t)),"object"===a.type&&a.data.hasOwnProperty(i)?dR(a.data[i]):dD},async AccessElement(e,t,n){let{base:r,index:i}=e,a=await n(r,t);if(!a.isArray())return dD;let o=await a.get(),l=i<0?i+o.length:i;return dR(o[l])},async Slice(e,t,n){let{base:r,left:i,right:a,isInclusive:o}=e,l=await n(r,t);if(!l.isArray())return dD;let s=await l.get(),c=i,u=a;return c<0&&(c=s.length+c),u<0&&(u=s.length+u),o&&u++,c<0&&(c=0),u<0&&(u=0),dR(s.slice(c,u))},async Deref(e,t,n){let{base:r}=e,i=await n(r,t);if(!t.source.isArray()||"object"!==i.type)return dD;let a=i.data._ref;if("string"!=typeof a)return dD;if(t.context.dereference)return dR(await t.context.dereference({_ref:a}));for await(let e of t.source)if("object"===e.type&&a===e.data._id)return e;return dD},Value(e){let{value:t}=e;return dR(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e,i={};for(let e of r){let r=e.type;switch(e.type){case"ObjectAttributeValue":{let r=await n(e.value,t);i[e.name]=await r.get();break}case"ObjectConditionalSplat":{let r=await n(e.condition,t);if("boolean"!==r.type||!1===r.data)continue;let a=await n(e.value,t);"object"===a.type&&Object.assign(i,a.data);break}case"ObjectSplat":{let r=await n(e.value,t);"object"===r.type&&Object.assign(i,r.data);break}default:throw Error("Unknown node type: ".concat(r))}}return dR(i)},Array(e,t,n){let{elements:r}=e;return new dj(async function*(){for(let e of r){let r=await n(e.value,t);if(e.isSplat){if(r.isArray())for await(let e of r)yield e}else yield r}})},Tuple(){throw Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:i}=e,a=await n(r,t),o=await n(i,t);return"boolean"===a.type&&!0===a.data||"boolean"===o.type&&!0===o.data?dI:"boolean"!==a.type||"boolean"!==o.type?dD:dA},async And(e,t,n){let{left:r,right:i}=e,a=await n(r,t),o=await n(i,t);return"boolean"===a.type&&!1===a.data||"boolean"===o.type&&!1===o.data?dA:"boolean"!==a.type||"boolean"!==o.type?dD:dI},async Not(e,t,n){let{base:r}=e,i=await n(r,t);return"boolean"!==i.type?dD:i.data?dA:dI},Neg(e,t,n){let{base:r}=e;return dJ(n(r,t),e=>"number"!==e.type?dD:dP(-e.data))},Pos(e,t,n){let{base:r}=e;return dJ(n(r,t),e=>"number"!==e.type?dD:dP(e.data))},Asc:()=>dD,Desc:()=>dD,async ArrayCoerce(e,t,n){let{base:r}=e,i=await n(r,t);return i.isArray()?i:dD},async Map(e,t,n){let{base:r,expr:i}=e,a=await n(r,t);return a.isArray()?new dj(async function*(){for await(let e of a){let r=t.createHidden(e);yield await n(i,r)}}):dD},async FlatMap(e,t,n){let{base:r,expr:i}=e,a=await n(r,t);return a.isArray()?new dj(async function*(){for await(let e of a){let r=t.createHidden(e),a=await n(i,r);if(a.isArray())for await(let e of a)yield e;else yield a}}):dD}};function d1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=dR(t.root),r=dR(t.dataset);return dX(e,new dZ({...t.params},r,n,{timestamp:t.timestamp||new Date,identity:void 0===t.identity?"me":t.identity,sanity:t.sanity,after:t.after?dR(t.after):null,before:t.before?dR(t.before):null,dereference:t.dereference},null))}let d2=new dZ({},dD,dD,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function d0(e){return!function e(t){switch(t.type){case"Group":case"Pos":case"Neg":return e(t.base);case"Value":case"Parameter":return!0;case"OpCall":switch(t.op){case"+":case"-":case"*":case"/":case"%":case"**":return e(t.left)&&e(t.right);default:return!1}default:return!1}}(e)?null:function e(t){let n=dX(t,d2,e);if("then"in n)throw Error("BUG: constant evaluate should never return a promise");return n}(e)}function d5(e){return["AccessAttribute","SelectorFuncCall","Group","Tuple","ArrayCoerce","Filter","SelectorNested"].includes(e.type)}let d7={};d7.join=async function(e,t,n){let r=await n(e[0],t);if(!r.isArray())return dD;let i=await n(e[1],t);if("string"!==i.type)return dD;let a="",o=!1;for await(let e of r){switch(o&&(a+=i.data),e.type){case"number":case"string":case"boolean":case"datetime":a+="".concat(e.data);break;default:return dD}o=!0}return dR(a)},d7.join.arity=2,d7.compact=async function(e,t,n){let r=await n(e[0],t);return r.isArray()?new dj(async function*(){for await(let e of r)"null"!==e.type&&(yield e)}):dD},d7.compact.arity=1,d7.unique=async function(e,t,n){let r=await n(e[0],t);return r.isArray()?new dj(async function*(){let e=new Set;for await(let t of r)switch(t.type){case"number":case"string":case"boolean":case"datetime":e.has(t.data)||(e.add(t.data),yield t);break;default:yield t}}):dD},d7.unique.arity=1,d7.intersects=async function(e,t,n){let r=await n(e[0],t);if(!r.isArray())return dD;let i=await n(e[1],t);if(!i.isArray())return dD;for await(let e of r)for await(let t of i)if(dN(e,t))return dI;return dA},d7.intersects.arity=2;let d3={};async function d8(e,t){let n=await e.get();for(let e of t)if(!(n=function(e,t){try{return e[t]}catch(e){return}}(n,e)))break;return n}async function*d4(e,t){let n=[[]];for(;n.length>0;){let r=n.shift()||[],i=dR(await d8(e,r)),a=dR(await d8(t,r));if(a.type!==i.type)yield r;else if("string"===a.type&&"string"===i.type||"boolean"===a.type&&"boolean"===i.type||"null"===a.type&&"null"===i.type||"number"===a.type&&"number"===i.type)a.data!==i.data&&(yield r);else if("datetime"===a.type&&"datetime"===i.type)a.data.equals(i.data)||(yield r);else if("object"===a.type&&"object"===i.type){if(!dL(a.data,i.data)){let e=Object.keys(a.data),t=Object.keys(i.data);new Set(e.concat(t)).forEach(e=>{n.push([...r,e])})}}else if("array"===a.type&&"array"===i.type){if(a.data.length!==i.data.length)yield r;else if(!dL(a.data,i.data))for(let e=0;e<i.data.length;e++)n.push([...r,e])}else if("stream"===a.type&&"stream"===i.type){let e=await a.get(),t=await i.get();if(e.length!==t.length)yield r;else if(!dL(e,t))for(let e=0;e<t.length;e++)n.push([...r,e])}}}async function d6(e,t,n){switch(e.type){case"Group":return await d6(e.base,t,n);case"Tuple":let r=[];for(let i of e.members){let e=await d6(i,t,n);r.push(...e)}return r;case"AccessAttribute":return e.base?(await d6(e.base,t,n)).map(t=>[...t,e.name]):[[e.name]];case"ArrayCoerce":{let r=await d6(e.base,t,n),i=[];for(let e of r){let n=await d8(t,e);if(Array.isArray(n))for(let t=0;t<n.length;t++)i.push([...e,t])}return i}case"Filter":{let r=await d6(e.base,t,n),i={...e,base:{type:"This"}},a=[];for(let e of r){let r=await d8(t,e);if(Array.isArray(r))for(let t=0;t<r.length;t++){let o=r[t],l=n.createNested(dR([o]));(await (await dX(i,l)).get()).length>0&&a.push([...e,t])}}return a}case"SelectorFuncCall":return d9(e.arg,n.createHidden(t));case"SelectorNested":{let{base:r,nested:i}=e,a=await d6(r,t,n),o=[];for(let e of a){let r=await d8(t,e);switch(i.type){case"AccessAttribute":case"ArrayCoerce":case"Filter":let a=await d6(i,dR(r),n);for(let t=0;t<a.length;t++)o.push([...e,...a[t]]);break;case"Group":for(let t of(await d6(i.base,dR(r),n)))o.push([...e,...t]);break;case"Tuple":for(let t of i.members)for(let i of(await d6(t,dR(r),n)))o.push([...e,...i])}}return o}}}async function d9(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.value,i=[];if(r.isArray()){let a=await r.get();for(let r=0;r<a.length;r++){let o=await d9(e,t.createHidden(dR(a[r])),[...n,r]);i.push(...o)}}else if("object"===r.type){let a=await dX(e,t);for(let o of("boolean"===a.type&&!0===a.data&&i.push(n),Object.keys(r.data))){let a=await d9(e,t.createHidden(dR(r.data[o])),[...n,o]);i.push(...a)}}return i}async function pe(e,t,n,r){let i=r.createHidden(e),a=await d6(n,i.value,i),o=r.createHidden(t),l=await d6(n,o.value,o);if(a.length!==l.length)return dI;for(let n of a){for(let r=0;r<n.length;r++)if("number"==typeof n[r]){let i=n.slice(0,r),a=await d8(e,i),o=await d8(t,i);if(!Array.isArray(a)||!Array.isArray(o)||a.length!==o.length)return dI}if(!dL(await d8(e,n),await d8(t,n)))return dI}return dA}async function pt(e,t,n,r){let i=r.createHidden(e),a=await d6(n,i.value,i);for await(let n of d4(e,t)){let e=!1;for(let t of a)if(function(e,t){return t.every((t,n)=>e[n]===t)}(n,t)){e=!0;break}if(!e)return dA}return dI}d3.now=async function(e,t){return dF(new dO(t.context.timestamp))},d3.now.arity=0;let pn={};pn.changedAny=async(e,t,n)=>{let r=e[0],i=e[1],a=e[2];if(!d5(a))throw Error("changedAny third argument must be a selector");return pe(await n(r,t),await n(i,t),a,t)},pn.changedAny.arity=3,pn.changedOnly=async(e,t,n)=>{let r=e[0],i=e[1],a=e[2];if(!d5(a))throw Error("changedOnly third argument must be a selector");return pt(await n(r,t),await n(i,t),a,t)},pn.changedOnly.arity=3;let pr={};pr.operation=async function(e,t){let n=null!==t.context.before,r=null!==t.context.after;return n&&r?dM("update"):r?dM("create"):n?dM("delete"):dD},pr.changedAny=(e,t)=>{let n=t.context.before||dD,r=t.context.after||dD,i=e[0];if(!d5(i))throw Error("changedAny first argument must be a selector");return pe(n,r,i,t)},pr.changedAny.arity=1,pr.changedAny.mode="delta",pr.changedOnly=(e,t)=>{let n=t.context.before||dD,r=t.context.after||dD,i=e[0];if(!d5(i))throw Error("changedOnly first argument must be a selector");return pt(n,r,i,t)},pr.changedOnly.arity=1,pr.changedOnly.mode="delta";let pi={};pi.latLng=()=>{throw Error("not implemented")},pi.contains=()=>{throw Error("not implemented")},pi.intersects=()=>{throw Error("not implemented")},pi.distance=()=>{throw Error("not implemented")};let pa={};pa.lower=async function(e,t,n){let r=await n(e[0],t);return"string"!==r.type?dD:dM(r.data.toLowerCase())},pa.lower.arity=1,pa.upper=async function(e,t,n){let r=await n(e[0],t);return"string"!==r.type?dD:dM(r.data.toUpperCase())},pa.upper.arity=1,pa.split=async function(e,t,n){let r=await n(e[0],t);if("string"!==r.type)return dD;let i=await n(e[1],t);return"string"!==i.type?dD:0===r.data.length?dR([]):0===i.data.length?dR(Array.from(r.data)):dR(r.data.split(i.data))},pa.split.arity=2,pa.startsWith=async function(e,t,n){let r=await n(e[0],t);if("string"!==r.type)return dD;let i=await n(e[1],t);return"string"!==i.type?dD:r.data.startsWith(i.data)?dI:dA},pa.startsWith.arity=2;let po={};po.anywhere=async function(){throw Error("not implemented")},po.anywhere.arity=1,po.coalesce=async function(e,t,n){for(let r of e){let e=await n(r,t);if("null"!==e.type)return e}return dD},po.count=async function(e,t,n){let r=await n(e[0],t);if(!r.isArray())return dD;let i=0;for await(let e of r)i++;return dP(i)},po.count.arity=1,po.dateTime=async function(e,t,n){let r=await n(e[0],t);return"datetime"===r.type?r:"string"!==r.type?dD:dO.parseToValue(r.data)},po.dateTime.arity=1,po.defined=async function(e,t,n){return"null"===(await n(e[0],t)).type?dA:dI},po.defined.arity=1,po.identity=async function(e,t){return dM(t.context.identity)},po.identity.arity=0,po.length=async function(e,t,n){let r=await n(e[0],t);if("string"===r.type)return dP(function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}(r.data));if(r.isArray()){let e=0;for await(let t of r)e++;return dP(e)}return dD},po.length.arity=1,po.path=async function(e,t,n){let r=await n(e[0],t);return"string"!==r.type?dD:new dT(new d_(r.data),"path")},po.path.arity=1,po.string=async function(e,t,n){let r=await n(e[0],t);switch(r.type){case"number":case"string":case"boolean":case"datetime":return dM("".concat(r.data));default:return dD}},po.string.arity=1,po.references=async function(e,t,n){let r=new Set;for(let i of e){let e=await n(i,t);if("string"===e.type)r.add(e.data);else if(e.isArray())for await(let t of e)"string"===t.type&&r.add(t.data)}return 0===r.size||!function e(t,n){switch(dB(t)){case"array":for(let r of t)if(e(r,n))return!0;break;case"object":if(t._ref)return n.has(t._ref);for(let r of Object.values(t))if(e(r,n))return!0}return!1}(await t.value.get(),r)?dA:dI},po.references.arity=e=>e>=1,po.round=async function(e,t,n){let r=await n(e[0],t);if("number"!==r.type)return dD;let i=r.data,a=0;if(2===e.length){let r=await n(e[1],t);if("number"!==r.type||r.data<0||!Number.isInteger(r.data))return dD;a=r.data}return 0===a?i<0?dP(-Math.round(-i)):dP(Math.round(i)):dP(Number(i.toFixed(a)))},po.round.arity=e=>e>=1&&e<=2,po.now=async function(e,t){return dM(t.context.timestamp.toISOString())},po.now.arity=0,po.boost=async function(){throw Error("unexpected boost call")},po.boost.arity=2,po.lower=pa.lower,po.upper=pa.upper;let pl={};async function ps(e){if("object"===e.type)return pu(e.data);if(e.isArray()){let t=await pc(e);if(t.length>0)return t.join("\n\n")}return null}async function pc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for await(let n of e)if("object"===n.type){let e=pu(n.data);null!==e&&t.push(e)}else n.isArray()&&await pc(n,t);return t}function pu(e){if("string"!=typeof e._type)return null;let t=e.children;if(!Array.isArray(t))return null;let n="";for(let e of t)e&&"object"==typeof e&&"string"==typeof e._type&&"span"===e._type&&"string"==typeof e.text&&(n+=e.text);return n}pl.min=async function(e,t,n){let r,i=await n(e[0],t);if(!i.isArray())return dD;for await(let e of i)if("null"!==e.type){if("number"!==e.type)return dD;(void 0===r||e.data<r)&&(r=e.data)}return dR(r)},pl.min.arity=1,pl.max=async function(e,t,n){let r,i=await n(e[0],t);if(!i.isArray())return dD;for await(let e of i)if("null"!==e.type){if("number"!==e.type)return dD;(void 0===r||e.data>r)&&(r=e.data)}return dR(r)},pl.max.arity=1,pl.sum=async function(e,t,n){let r=await n(e[0],t);if(!r.isArray())return dD;let i=0;for await(let e of r)if("null"!==e.type){if("number"!==e.type)return dD;i+=e.data}return dR(i)},pl.sum.arity=1,pl.avg=async function(e,t,n){let r=await n(e[0],t);if(!r.isArray())return dD;let i=0,a=0;for await(let e of r)if("null"!==e.type){if("number"!==e.type)return dD;i+=e.data,a++}return 0===a?dD:dR(i/a)},pl.avg.arity=1;let pd={};pd.text=async function(e,t,n){let r=await n(e[0],t),i=await ps(r);return null===i?dD:dM(i)},pd.text.arity=1;let pp={};pp.all=async function(e,t){let n=[];for await(let e of t.source)if("object"===dB(e)){let t=await e.get();t&&"_type"in t&&"system.release"===t._type&&n.push(t)}return dR(n)},pp.all.arity=0;let pf={};pf.projectId=async function(e,t){return t.context.sanity?dM(t.context.sanity.projectId):dD},pf.dataset=async function(e,t){return t.context.sanity?dM(t.context.sanity.dataset):dD},pf.versionOf=async function(e,t,n){let r=await n(e[0],t);if("string"!==r.type)return dD;let i=r.data,a=await t.value.get();if(!a||"string"!=typeof a._id)return dD;let o=a._id.split(".");return a._id===i||o.length>=2&&"drafts"===o[0]&&o.slice(1).join(".")===i||o.length>=3&&"versions"===o[0]&&o.slice(2).join(".")===i?dI:dA},pf.versionOf.arity=1,pf.partOfRelease=async function(e,t,n){let r=await n(e[0],t);if("string"!==r.type)return dD;let i=r.data,a=await t.value.get();if(!a||"string"!=typeof a._id)return dD;let o=a._id.split(".");return dR(o.length>=3&&"versions"===o[0]&&o[1]===i)},pf.partOfRelease.arity=1;let ph={};async function pm(e,t,n){if("OpCall"===e.type&&"match"===e.op)return pg(e.left,e.right,t,n);if("FuncCall"===e.type&&"boost"===e.name){let r=await pm(e.args[0],t,n),i=await n(e.args[1],t);return"number"===i.type&&r>0?r+i.data:0}switch(e.type){case"Or":return await pm(e.left,t,n)+await pm(e.right,t,n);case"And":{let r=await pm(e.left,t,n),i=await pm(e.right,t,n);return 0===r||0===i?0:r+i}default:{let r=await n(e,t);return+("boolean"===r.type&&!0===r.data)}}}async function pg(e,t,n,r){let i=await r(e,n),a=await r(t,n),o=[],l=[];if(await dW(i,e=>{o=o.concat(dH(e))}),!await dW(a,e=>{l=l.concat(dq(e))})||0===o.length||0===l.length)return 0;let s=0;for(let e of l){let t=o.reduce((t,n)=>t+ +!!e.test(n),0);s+=2.2*t/(t+1.2)}return s}ph.query=()=>{throw Error("not implemented")},ph.query.arity=1;let py={};py.order=async function(e,t,n,r){if(await !0,!e.isArray())return dD;let i=[],a=[],o=0;for(let e of t){let t="asc";"Desc"===e.type?(t="desc",e=e.base):"Asc"===e.type&&(e=e.base),i.push(e),a.push(t),o++}let l=[],s=0;for await(let t of e){let e=n.createNested(t),a=[await t.get(),s];for(let t=0;t<o;t++){let n=await r(i[t],e);a.push(await n.get())}l.push(a),s++}return l.sort((e,t)=>{for(let n=0;n<o;n++){let r=function(e,t){let n=dB(e),r=dB(t),i=dY[n]||100,a=dY[r]||100;if(i!==a)return i-a;let o=dK(e,t);return null===o&&(o=0),o}(e[n+2],t[n+2]);if("desc"===a[n]&&(r=-r),0!==r)return r}return e[1]-t[1]}),dR(l.map(e=>e[0]))},py.order.arity=e=>e>=1,py.score=async function(e,t,n,r){if(!e.isArray())return dD;let i=[],a=[];for await(let o of e){if("object"!==o.type){i.push(await o.get());continue}let e=n.createNested(o),l="number"==typeof o.data._score?o.data._score:0;for(let n of t)l+=await pm(n,e,r);let s=Object.assign({},o.data,{_score:l});a.push(s)}return a.sort((e,t)=>t._score-e._score),dR(a)},py.score.arity=e=>e>=1;let pv={global:po,string:pa,array:d7,pt:pd,delta:pr,diff:pn,sanity:pf,math:pl,dateTime:d3,releases:pp,text:ph,geo:pi};class pb{hasMark(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.index+e<this.marks.length}getMark(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.marks[this.index+e]}shift(){this.index+=1}process(e){let t=this.marks[this.index];this.shift();let n=e[t.name];if(!n)throw Error("Unknown handler: ".concat(t.name));return n.call(e,this,t)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){let e=this.marks[this.index-1],t=this.marks[this.index];return this.shift(),this.string.slice(e.position,t.position)}slice(e){let t=this.marks[this.index].position;return this.string.slice(t,t+e)}constructor(e,t,n){(0,rc._)(this,"string",void 0),(0,rc._)(this,"marks",void 0),(0,rc._)(this,"index",void 0),(0,rc._)(this,"parseOptions",void 0),(0,rc._)(this,"allowBoost",!1),this.string=e,this.marks=t,this.index=0,this.parseOptions=n}}let px=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,pC=/^\d+/,pk=/^[a-zA-Z_][a-zA-Z_0-9]*/;function pw(e,t,n){let r=t,i;switch(e[t]){case"+":{let n=pw(e,pT(e,t+1),10);if("error"===n.type)return n;i=[{name:"pos",position:r}].concat(n.marks),t=n.position;break}case"-":{let n=pw(e,pT(e,t+1),8);if("error"===n.type)return n;i=[{name:"neg",position:r}].concat(n.marks),t=n.position;break}case"(":{let n=p_(e,t);if("error"===n.type)return n;t=n.position,i=n.marks;break}case"!":{let n=pw(e,pT(e,t+1),10);if("error"===n.type)return n;i=[{name:"not",position:r}].concat(n.marks),t=n.position;break}case"{":{let n=pE(e,t);if("error"===n.type)return n;i=n.marks,t=n.position;break}case"[":if(i=[{name:"array",position:t}],t=pT(e,t+1),"]"!==e[t])for(;;){"..."===e.slice(t,t+3)&&(i.push({name:"array_splat",position:t}),t=pT(e,t+3));let n=pw(e,t,0);if("error"===n.type)return n;if(i=i.concat(n.marks),t=pT(e,t=n.position),","!==e[t]||(t=pT(e,t+1),"]"===e[t]))break}if("]"!==e[t])return{type:"error",message:'Expected "]" after array expression',position:t};t++,i.push({name:"array_end",position:t});break;case"'":case'"':{let n=function(e,t){let n=e[t],r=[{name:"str",position:t+=1}];a:for(;;t++){if(t>e.length)return{type:"error",message:"Unexpected end of query",position:t};switch(e[t]){case n:r.push({name:"str_end",position:t}),t++;break a;case"\\":r.push({name:"str_pause",position:t}),"u"===e[t+1]?"{"===e[t+2]?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}(e,t);if("error"===n.type)return n;i=n.marks,t=n.position;break}case"^":for(t++,i=[];"."===e[t]&&"^"===e[t+1];)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break;case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let n=pD(e,t+1,pk);n&&(t+=1+n,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let n=pD(e,t,pC);if(n){let a="integer";if("."===e[t+=n]){let n=pD(e,t+1,pC);n&&(a="float",t+=1+n)}if("e"===e[t]||"E"===e[t]){a="sci",("+"===e[++t]||"-"===e[t])&&t++;let n=pD(e,t,pC);if(!n)return{type:"error",message:"Exponent must be a number",position:t};t+=n}i=[{name:a,position:r},{name:a+"_end",position:t}];break}let a=pD(e,t,pk);if(a)switch(e[t+=a]){case":":case"(":{let n=pS(e,r,t);if("error"===n.type)return n;i=n.marks,t=n.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}}}if(!i)return{type:"error",message:"Expected expression",position:t};let a=12,o;o:for(;;){let l=pT(e,t);if(l===e.length){t=l;break}if("success"===(o=pj(e,l)).type){for(i.unshift({name:"traverse",position:r});"success"===o.type;)i=i.concat(o.marks),o=pj(e,pT(e,t=o.position));i.push({name:"traversal_end",position:t});continue}switch(e[l]){case"=":switch(e[l+1]){case">":{if(n>1||a<=1)break o;let o=pw(e,pT(e,l+2),1);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"pair",position:r}),t=o.position,a=1;break}case"=":{if(n>4||a<=4)break o;let o=pw(e,pT(e,l+2),5);if("error"===o.type)return o;i.unshift({name:"comp",position:r}),i.push({name:"op",position:l},{name:"op_end",position:l+2}),i=i.concat(o.marks),t=o.position,a=4;break}default:break o}break;case"+":{if(n>6||a<6)break o;let o=pw(e,pT(e,l+1),7);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"add",position:r}),t=o.position,a=6;break}case"-":{if(n>6||a<6)break o;let o=pw(e,pT(e,l+1),7);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"sub",position:r}),t=o.position,a=6;break}case"*":{if("*"===e[l+1]){if(n>8||a<=8)break o;let o=pw(e,pT(e,l+2),8);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"pow",position:r}),t=o.position,a=8;break}if(n>7||a<7)break o;let o=pw(e,pT(e,l+1),8);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"mul",position:r}),t=o.position,a=7;break}case"/":{if(n>7||a<7)break o;let o=pw(e,pT(e,l+1),8);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"div",position:r}),t=o.position,a=7;break}case"%":{if(n>7||a<7)break o;let o=pw(e,pT(e,l+1),8);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"mod",position:r}),t=o.position,a=7;break}case"<":case">":{if(n>4||a<=4)break o;let o=l+1;"="===e[o]&&o++;let s=pw(e,pT(e,o),5);if("error"===s.type)return s;i.unshift({name:"comp",position:r}),i.push({name:"op",position:l},{name:"op_end",position:o}),i=i.concat(s.marks),t=s.position,a=4;break}case"|":if("|"===e[l+1]){if(n>2||a<2)break o;let o=pw(e,pT(e,l+2),3);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"or",position:r}),t=o.position,a=2}else{if(n>11||a<11)break o;let o=pT(e,l+1),s=pD(e,o,pk);if(!s)return{type:"error",message:"Expected identifier",position:o};if("("===e[t=o+s]||":"===e[t]){let n=pS(e,o,t);if("error"===n.type)return n;(i=i.concat(n.marks)).unshift({name:"pipecall",position:r}),t=n.position,a=11}}break;case"&":{if("&"!=e[l+1]||n>3||a<3)break o;let o=pw(e,pT(e,l+2),4);if("error"===o.type)return o;(i=i.concat(o.marks)).unshift({name:"and",position:r}),t=o.position,a=3;break}case"!":{if("="!==e[l+1]||n>4||a<=4)break o;let o=pw(e,pT(e,l+2),5);if("error"===o.type)return o;i.unshift({name:"comp",position:r}),i.push({name:"op",position:l},{name:"op_end",position:l+2}),i=i.concat(o.marks),t=o.position,a=4;break}case"d":if("desc"!==e.slice(l,l+4)||n>4||a<4)break o;i.unshift({name:"desc",position:r}),t=l+4,a=4;break;case"a":if("asc"!==e.slice(l,l+3)||n>4||a<4)break o;i.unshift({name:"asc",position:r}),t=l+3,a=4;break;default:switch(function(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}(e,l,pk)){case"in":{if(n>4||a<=4)break o;t=pT(e,l+2);let o=!1;"("===e[t]&&(o=!0,t=pT(e,t+1));let s=t,c=pw(e,t,5);if("error"===c.type)return c;if(t=pT(e,c.position),"."===e[t]&&"."===e[t+1]){let n="inc_range";"."===e[t+2]?(n="exc_range",t=pT(e,t+3)):t=pT(e,t+2);let a=pw(e,t,5);if("error"===a.type)return a;i.unshift({name:"in_range",position:r}),i=i.concat({name:n,position:s},c.marks,a.marks),t=a.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:l},{name:"op_end",position:l+2}),i=i.concat(c.marks);if(o){if(t=pT(e,t),")"!==e[t])return{type:"error",message:'Expected ")" in group',position:t};t++}a=4;break}case"match":{if(n>4||a<=4)break o;let o=pw(e,pT(e,l+5),5);if("error"===o.type)return o;i.unshift({name:"comp",position:r}),i.push({name:"op",position:l},{name:"op_end",position:l+5}),i=i.concat(o.marks),t=o.position,a=4;break}default:break o}}}return{type:"success",marks:i,position:t,failPosition:(null==o?void 0:o.type)==="error"&&o.position}}function p_(e,t){let n=t,r,i=pw(e,pT(e,t+1),0);if("error"===i.type)return i;switch(t=pT(e,i.position),e[t]){case",":for(r=[{name:"tuple",position:n}].concat(i.marks),t=pT(e,t+1);;){if("error"===(i=pw(e,t,0)).type)return i;if(r.push(...i.marks),t=pT(e,i.position),","!==e[t])break;t=pT(e,t+1)}if(")"!==e[t])return{type:"error",message:'Expected ")" after tuple expression',position:t};t++,r.push({name:"tuple_end",position:t});break;case")":t++,r=[{name:"group",position:n}].concat(i.marks);break;default:return{type:"error",message:'Unexpected character "'.concat(e[t],'"'),position:t}}return{type:"success",marks:r,position:t}}function pj(e,t){let n=t;switch(e[t]){case".":{if(t=pT(e,t+1),"("===e[t])return p_(e,t);let r=t,i=pD(e,t,pk);return i?{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:r},{name:"ident_end",position:t+=i}],position:t}:{type:"error",message:'Expected identifier after "."',position:t}}case"-":if(">"!==e[t+1])return{type:"error",message:'Expected ">" in reference',position:t};let r=[{name:"deref",position:n}],i=pT(e,t+=2),a=pD(e,i,pk);return a&&(t=i+a,r.push({name:"deref_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=pT(e,t+1),"]"===e[t])return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let r=t,i=pw(e,t,0);if("error"===i.type)return i;if(t=pT(e,i.position),"."===e[t]&&"."===e[t+1]){let a="inc_range";"."===e[t+2]?(a="exc_range",t+=3):t+=2,t=pT(e,t);let o=pw(e,t,0);return"error"===o.type?o:(t=pT(e,o.position),"]"!==e[t]?{type:"error",message:'Expected "]" after array expression',position:t}:{type:"success",marks:[{name:"slice",position:n},{name:a,position:r}].concat(i.marks,o.marks),position:t+1})}return"]"!==e[t]?{type:"error",message:'Expected "]" after array expression',position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(i.marks),position:t+1}}case"|":if(t=pT(e,t+1),"{"===e[t]){let r=pE(e,t);return"error"===r.type||r.marks.unshift({name:"projection",position:n}),r}break;case"{":{let r=pE(e,t);return"error"===r.type||r.marks.unshift({name:"projection",position:n}),r}}return{type:"error",message:"Unexpected character in traversal",position:t}}function pS(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),":"===e[n]&&":"===e[n+1]){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=pT(e,n+2);let i=pD(e,n,pk);if(!i)return{type:"error",message:"Expected function name",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=pT(e,n+i),"("!==e[n])return{type:"error",message:'Expected "(" after function name',position:n};n=pT(e,++n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=pT(e,n+1);let i=n;if(")"!==e[n])for(;;){let t=pw(e,n,0);if("error"===t.type)return t;if(r=r.concat(t.marks),i=t.position,n=pT(e,t.position),","!==e[n]||(n=pT(e,n+1),")"===e[n]))break}return")"!==e[n]?{type:"error",message:'Expected ")" after function arguments',position:n}:(r.push({name:"func_args_end",position:i}),{type:"success",marks:r,position:n+1})}function pE(e,t){let n=[{name:"object",position:t}];for(t=pT(e,t+1);"}"!==e[t];){let r=t;if("..."===e.slice(t,t+3))if(t=pT(e,t+3),"}"!==e[t]&&","!==e[t]){let i=pw(e,t,0);if("error"===i.type)return i;n.push({name:"object_splat",position:r}),n=n.concat(i.marks),t=i.position}else n.push({name:"object_splat_this",position:r});else{let i=pw(e,t,0);if("error"===i.type)return i;let a=pT(e,i.position);if("str"===i.marks[0].name&&":"===e[a]){let o=pw(e,pT(e,a+1),0);if("error"===o.type)return o;n.push({name:"object_pair",position:r}),n=n.concat(i.marks,o.marks),t=o.position}else n=n.concat({name:"object_expr",position:t},i.marks),t=i.position}if(t=pT(e,t),","!==e[t])break;t=pT(e,t+1)}return"}"!==e[t]?{type:"error",message:'Expected "}" after object',position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function pT(e,t){return t+pD(e,t,px)}function pD(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function pI(e,t){return n=>t(e(n))}function pA(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function pO(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:pI(e,t.build)};case"a-b":return{type:"a-b",build:pI(e,t.build)};case"b-b":return{type:"a-a",build:pI(e,pA(t.build))};case"b-a":var n;return{type:"a-a",build:pI(e,(n=t.build,e=>({type:"FlatMap",base:e,expr:n({type:"This"})})))};default:throw Error("unknown type: ".concat(t.type))}}function pP(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:pI(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:pI(e,t.build)};default:throw Error("unknown type: ".concat(t.type))}}let pM={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"};class pF extends Error{constructor(...e){super(...e),(0,rc._)(this,"name","GroqQueryError")}}let pR={group:e=>({type:"Group",base:e.process(pR)}),everything:()=>({type:"Everything"}),this:()=>({type:"This"}),parent:()=>({type:"Parent",n:1}),dblparent:e=>({type:"Parent",n:e.process(pR).n+1}),traverse(e){let t=e.process(pR),n=[];for(;"traversal_end"!==e.getMark().name;)n.push(e.process(pN));e.shift();let r=null;for(let e=n.length-1;e>=0;e--)r=n[e](r);if(("Everything"===t.type||"Array"===t.type||"PipeFuncCall"===t.type)&&(r=pO(e=>e,r)),null===r)throw Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){let t=e.processString();return"null"===t?{type:"Value",value:null}:"true"===t?{type:"Value",value:!0}:"false"===t?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg:e=>({type:"Neg",base:e.process(pR)}),pos:e=>({type:"Pos",base:e.process(pR)}),add:e=>({type:"OpCall",op:"+",left:e.process(pR),right:e.process(pR)}),sub:e=>({type:"OpCall",op:"-",left:e.process(pR),right:e.process(pR)}),mul:e=>({type:"OpCall",op:"*",left:e.process(pR),right:e.process(pR)}),div:e=>({type:"OpCall",op:"/",left:e.process(pR),right:e.process(pR)}),mod:e=>({type:"OpCall",op:"%",left:e.process(pR),right:e.process(pR)}),pow:e=>({type:"OpCall",op:"**",left:e.process(pR),right:e.process(pR)}),comp(e){let t=e.process(pR);return{type:"OpCall",op:e.processString(),left:t,right:e.process(pR)}},in_range(e){let t=e.process(pR),n="inc_range"===e.getMark().name;return e.shift(),{type:"InRange",base:t,left:e.process(pR),right:e.process(pR),isInclusive:n}},str(e){let t="";o:for(;e.hasMark();){let n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break o;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{let n=e.slice(1);e.shift(),t+=pM[n];break}case"unicode_hex":e.shift(),t+=String.fromCharCode(parseInt(e.processStringEnd(),16));break;default:throw Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer:e=>({type:"Value",value:Number(e.processStringEnd())}),float:e=>({type:"Value",value:Number(e.processStringEnd())}),sci:e=>({type:"Value",value:Number(e.processStringEnd())}),object(e){let t=[];for(;"object_end"!==e.getMark().name;)t.push(e.process(pB));return e.shift(),{type:"Object",attributes:t}},array(e){let t=[];for(;"array_end"!==e.getMark().name;){let n=!1;"array_splat"===e.getMark().name&&(n=!0,e.shift());let r=e.process(pR);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){let t=[];for(;"tuple_end"!==e.getMark().name;)t.push(e.process(pR));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";"namespace"===e.getMark().name&&(e.shift(),t=e.processString());let n=e.processString();if("global"===t&&"select"===n){let t={type:"Select",alternatives:[]};for(;"func_args_end"!==e.getMark().name;)if("pair"===e.getMark().name){if(t.fallback)throw new pF("unexpected argument to select()");e.shift();let n=e.process(pR),r=e.process(pR);t.alternatives.push({type:"SelectAlternative",condition:n,value:r})}else{if(t.fallback)throw new pF("unexpected argument to select()");t.fallback=e.process(pR)}return e.shift(),t}let r=[];for(;"func_args_end"!==e.getMark().name;){var i,a,o;(i=t,a=n,o=r.length,"diff"==i&&2==o&&["changedAny","changedOnly"].includes(a))?r.push(e.process(pL)):r.push(e.process(pR))}if(e.shift(),"global"===t&&("before"===n||"after"===n)&&"delta"===e.parseOptions.mode)return{type:"Context",key:n};if("global"===t&&"boost"===n&&!e.allowBoost)throw new pF("unexpected boost");let l=pv[t];if(!l)throw new pF("Undefined namespace: ".concat(t));let s=l[n];if(!s||(void 0!==s.arity&&pz(n,s.arity,r.length),void 0!==s.mode&&s.mode!==e.parseOptions.mode))throw new pF("Undefined function: ".concat(n));return{type:"FuncCall",func:s,namespace:t,name:n,args:r}},pipecall(e){let t=e.process(pR);e.shift();let n="global";if("namespace"===e.getMark().name&&(e.shift(),n=e.processString()),"global"!==n)throw new pF("Undefined namespace: ".concat(n));let r=e.processString(),i=[],a=e.allowBoost;for("score"===r&&(e.allowBoost=!0);;){let t=e.getMark().name;if("func_args_end"===t)break;if("order"===r){if("asc"===t){e.shift(),i.push({type:"Asc",base:e.process(pR)});continue}else if("desc"===t){e.shift(),i.push({type:"Desc",base:e.process(pR)});continue}}i.push(e.process(pR))}e.shift(),e.allowBoost=a;let o=py[r];if(!o)throw new pF("Undefined pipe function: ".concat(r));return o.arity&&pz(r,o.arity,i.length),{type:"PipeFuncCall",func:o,base:t,name:r,args:i}},pair(){throw new pF("unexpected =>")},and:e=>({type:"And",left:e.process(pR),right:e.process(pR)}),or:e=>({type:"Or",left:e.process(pR),right:e.process(pR)}),not:e=>({type:"Not",base:e.process(pR)}),asc(){throw new pF("unexpected asc")},desc(){throw new pF("unexpected desc")},param(e){let t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},pB={object_expr(e){if("pair"===e.getMark().name)return e.shift(),{type:"ObjectConditionalSplat",condition:e.process(pR),value:e.process(pR)};let t=e.process(pR);return{type:"ObjectAttributeValue",name:function e(t){if("AccessAttribute"===t.type&&!t.base)return t.name;if("PipeFuncCall"===t.type||"Deref"===t.type||"Map"===t.type||"Projection"===t.type||"Slice"===t.type||"Filter"===t.type||"AccessElement"===t.type||"ArrayCoerce"===t.type||"Group"===t.type)return e(t.base);throw new pF("Cannot determine property key for type: ".concat(t.type))}(t),value:t}},object_pair(e){let t=e.process(pR);if("Value"!==t.type)throw Error("name must be string");let n=e.process(pR);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat:e=>({type:"ObjectSplat",value:e.process(pR)}),object_splat_this:()=>({type:"ObjectSplat",value:{type:"This"}})},pN={square_bracket(e){let t=e.process(pR),n=d0(t);return n&&"number"===n.type?e=>(function(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:pI(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:pI(e,t.build)};default:throw Error("unknown type: ".concat(t.type))}})(e=>({type:"AccessElement",base:e,index:n.data}),e):n&&"string"===n.type?e=>pP(e=>({type:"AccessAttribute",base:e,name:n.data}),e):e=>pO(e=>({type:"Filter",base:e,expr:t}),e)},slice(e){let t="inc_range"===e.getMark().name;e.shift();let n=e.process(pR),r=e.process(pR),i=d0(n),a=d0(r);if(!i||!a||"number"!==i.type||"number"!==a.type)throw new pF("slicing must use constant numbers");return e=>pO(e=>({type:"Slice",base:e,left:i.data,right:a.data,isInclusive:t}),e)},projection(e){let t=e.process(pR);return e=>(function(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:pI(pA(e),t.build)};case"a-b":return{type:"a-b",build:pI(pA(e),t.build)};case"b-a":return{type:"b-a",build:pI(e,t.build)};case"b-b":return{type:"b-b",build:pI(e,t.build)};default:throw Error("unknown type: ".concat(t.type))}})(e=>({type:"Projection",base:e,expr:t}),e)},attr_access(e){let t=e.processString();return e=>pP(e=>({type:"AccessAttribute",base:e,name:t}),e)},deref(e){let t=null;return"deref_attr"===e.getMark().name&&(e.shift(),t=e.processString()),e=>pP(e=>{let n;return n={type:"Deref",base:e},t?{type:"AccessAttribute",base:n,name:t}:n},e)},array_postfix:()=>e=>pO(e=>({type:"ArrayCoerce",base:e}),e)},pL={group:e=>e.process(pL),everything(){throw Error("Invalid selector syntax")},this(){throw Error("Invalid selector syntax")},parent(){throw Error("Invalid selector syntax")},dblparent(){throw Error("Invalid selector syntax")},traverse(e){let t=e.process(pL);for(;"traversal_end"!==e.getMark().name;)if("array_postfix"===e.getMark().name)e.shift(),t={type:"ArrayCoerce",base:t};else if("square_bracket"===e.getMark().name){e.shift();let n=e.process(pR),r=d0(n);if(r&&"number"===r.type)throw Error("Invalid array access expression");t=r&&"string"===r.type?{type:"AccessAttribute",base:t,name:r.data}:{type:"Filter",base:t,expr:n}}else if("attr_access"===e.getMark().name)e.shift(),t={type:"AccessAttribute",base:t,name:e.processString()};else if("tuple"===e.getMark().name||"group"===e.getMark().name){let n=e.process(pL);if(!["AccessAttribute","ArrayCoerce","Filter","Group","Tuple","SelectorNested"].includes(n.type))throw Error("Unexpected result parsing nested selector: ".concat(n.type));t={type:"SelectorNested",base:t,nested:n}}else throw Error("Invalid selector syntax");return e.shift(),t},this_attr:e=>({type:"AccessAttribute",name:e.processString()}),attr_access(){throw Error("Invalid selector syntax")},neg(){throw Error("Invalid selector syntax")},pos(){throw Error("Invalid selector syntax")},add(){throw Error("Invalid selector syntax")},sub(){throw Error("Invalid selector syntax")},mul(){throw Error("Invalid selector syntax")},div(){throw Error("Invalid selector syntax")},mod(){throw Error("Invalid selector syntax")},pow(){throw Error("Invalid selector syntax")},comp(){throw Error("Invalid selector syntax")},in_range(){throw Error("Invalid selector syntax")},str(){throw Error("Invalid selector syntax")},integer(){throw Error("Invalid selector syntax")},float(){throw Error("Invalid selector syntax")},sci(){throw Error("Invalid selector syntax")},object(){throw Error("Invalid selector syntax")},array(){throw Error("Invalid selector syntax")},tuple(e){let t=[];for(;"tuple_end"!==e.getMark().name;)t.push(e.process(pL));return e.shift(),{type:"Tuple",members:t}},func_call(e,t){let n=pR.func_call(e,t);if("anywhere"===n.name&&1===n.args.length)return{type:"SelectorFuncCall",name:"anywhere",arg:n.args[0]};throw Error("Invalid selector syntax")},pipecall(){throw Error("Invalid selector syntax")},pair(){throw Error("Invalid selector syntax")},and(){throw Error("Invalid selector syntax")},or(){throw Error("Invalid selector syntax")},not(){throw Error("Invalid selector syntax")},asc(){throw Error("Invalid selector syntax")},desc(){throw Error("Invalid selector syntax")},param(){throw Error("Invalid selector syntax")}};function pz(e,t,n){if("number"==typeof t){if(n!==t)throw new pF("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new pF("Incorrect number of arguments to function ".concat(e,"()."))}class pV extends Error{constructor(e,t){super("Syntax error in GROQ query at position ".concat(e).concat(t?": "+t:"")),(0,rc._)(this,"position",void 0),(0,rc._)(this,"name","GroqSyntaxError"),this.position=e}}function pU(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t=0,t=pT(e,0),"error"===(n=pw(e,t,0)).type?n:(t=pT(e,n.position))!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",message:"Unexpected end of query",position:t}):(delete n.position,delete n.failPosition,n));if("error"===i.type)throw new pV(i.position,i.message);return new pb(e,i.marks,r).process(pR)}let{compare:pH}=new Intl.Collator("en");function pq(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={_ref:{type:"objectAttribute",value:{type:"string"}},_type:{type:"objectAttribute",value:{type:"string",value:"reference"}},_weak:{type:"objectAttribute",value:{type:"boolean"},optional:!0}};return t&&(n._key={type:"objectAttribute",value:{type:"string"}}),{type:"object",attributes:n,dereferencesTo:e}}(0,sI.default)("typeEvaluator:scope:trace").log=console.log.bind(console),(0,sI.default)("typeEvaluator:evaluate:trace").log=console.log.bind(console),(0,sI.default)("typeEvaluator:evaluate:debug").log=console.log.bind(console),(0,sI.default)("typeEvaluator:evaluate:warn"),Symbol("groq-js.type");class pW{get(e){let t=this.cache.get(e);if(t)return t;let n=new dm;for(let t of e.getLocalTypeNames()){let r=function e(t,n){let r=function(t,n){var r,i;let a,o,l,s,c=c_ in t?t[c_]:t;Array.isArray(c.fields)&&(a=c.fields.map(t=>{var n;let{name:r,group:i,fieldset:a,type:o}=t;return{name:r,typeDef:e(o),groups:"string"==typeof(n=i)?[n]:Array.isArray(n)?n.filter(e=>"string"==typeof e):void 0,fieldset:a}})),Array.isArray(c.fieldsets)&&(o=p$("name",c.fieldsets.map(e=>{let{name:t,title:n,description:r,group:i,hidden:a,readOnly:o,options:l}=e;return{name:t,title:pY(n),description:pY(r),group:pY(i),hidden:pG(a),readOnly:pG(o),options:p2(l)}}))),Array.isArray(c.groups)&&(l=p$("name",c.groups.map(e=>{let{name:t,title:n,hidden:r,default:i,i18n:a}=e;return{name:t,title:pY(n),hidden:pG(r),default:pK(i),i18n:p3(a)}})));let u=null==(r=c.deprecated)?void 0:r.reason;return Array.isArray(c.orderings)&&(s=c.orderings.map(p8).filter(e=>void 0!==e)),{title:pY(c.title),description:function(e){if("string"==typeof e)return e;if((0,dy.default)(e)&&"$$typeof"in e&&"type"in e&&"props"in e){let{type:t,props:n}=e,r="function"==typeof t?t.name:t;return"string"!=typeof r?void 0:{__type:"jsx",type:r,props:p2(n)}}}(c.description),readOnly:pG(c.readOnly),hidden:pG(c.hidden),liveEdit:pK(c.liveEdit),options:p2(c.options),initialValue:p2(c.initialValue),deprecated:"string"==typeof u?{reason:u}:void 0,placeholder:pY(c.placeholder),rows:"number"==typeof(i=c.rows)?i.toString():void 0,fields:a,fieldsets:o,groups:l,validation:function(e){if(!(0,dy.default)(e)||!("type"in e))return;let t=[];switch("options"in e&&(0,dy.default)(e.options)&&"list"in e.options&&Array.isArray(e.options.list)&&t.push({type:"enum",values:e.options.list.map(t=>{var n,r;return p2((n=t,"object"===(r=e).jsonType&&function e(t){return!!t&&"object"==typeof t&&("fields"in t?!!Array.isArray(t.fields)&&t.fields.some(e=>"value"===e.name):"type"in t&&!!t.type&&e(t.type))}(r)?n:(0,dy.default)(n)&&"value"in n&&n.value?n.value:n))}).filter(e=>void 0!==e)}),e.type){case"url":t.push({type:"uri",allowRelative:!1});break;case"slug":t.push({type:"custom"});break;case"reference":t.push({type:"reference"});break;case"email":t.push({type:"email"})}if(!("validation"in e)||!e.validation)return t.length>0?[{level:"error",rules:t}]:void 0;let n=[];for(let r of Array.isArray(e.validation)?e.validation:[e.validation]){let e=function e(t){if(t){if("function"==typeof t)try{let n=t(new u7);if(p0(n))return e(n);throw Error("failed to convert to plain rule")}catch(e){return{level:"error",rules:[{type:"custom",name:"function"}]}}if(p0(t)){let n=t._level||"error",r=function(e){if("string"==typeof e)return e;if(!(0,dy.default)(e)||Array.isArray(e))return;let t={};for(let[n,r]of Object.entries(e))"string"!=typeof n||"string"!=typeof r||(t[n]=r);return Object.keys(t).length>0?t:void 0}(t._message),i=[];for(let n of t._rules||[]){let r=function(t,n){if(!(0,dy.default)(t)||!("flag"in t))return;let r="constraint"in t?t.constraint:void 0;switch(t.flag){case"integer":return{type:"integer"};case"email":return{type:"email"};case"unique":return{type:"uniqueItems"};case"reference":return{type:"reference"};case"assetRequired":return{type:"assetRequired"};case"stringCasing":return"uppercase"===r?{type:"uppercase"}:"lowercase"===r?{type:"lowercase"}:void 0;case"all":if(Array.isArray(r)){let t=r.map(t=>e(t)).filter(e=>void 0!==e);if(t.length>0)return{type:"allOf",children:t}}return;case"either":if(Array.isArray(r)){let t=r.map(t=>e(t)).filter(e=>void 0!==e);if(t.length>0)return{type:"anyOf",children:t}}return;case"valid":return Array.isArray(r)?{type:"enum",values:r.map(e=>p2(e)).filter(e=>void 0!==e)}:void 0;case"min":return{type:"minimum",value:p5(r)};case"max":return{type:"maximum",value:p5(r)};case"length":return{type:"length",value:p5(r)};case"precision":return{type:"precision",value:p5(r)};case"lessThan":return{type:"exclusiveMaximum",value:p5(r)};case"greaterThan":return{type:"exclusiveMinimum",value:p5(r)};case"regex":if((0,dy.default)(r)&&"pattern"in r){let{pattern:e}=r,t="invert"in r?p7(r.invert):void 0;if(e instanceof RegExp)return{type:"regex",pattern:e.source,...t&&{invert:!0}}}return;case"uri":{let e=(0,dy.default)(r)&&"options"in r&&(0,dy.default)(r.options)&&"allowRelative"in r.options?p7(r.options.allowRelative):void 0;return{type:"uri",...void 0!==e&&{allowRelative:e}}}case"custom":return{type:"custom",...n&&{optional:n}};case"media":return{type:"custom",name:"media"};case"type":default:return;case"presence":return"required"===r?{type:"required"}:void 0}}(n,"optional"===t._required||void 0);void 0!==r&&(i.some(e=>(0,dg.default)(e,r))||i.push(r))}return 0===i.length?void 0:{level:n,rules:i,...r&&{message:r}}}}}(r);if(void 0===e)continue;let i=t.filter(t=>!e.rules.some(e=>(0,dg.default)(e,t)));i.length>0&&e.rules.unshift(...i),n.some(t=>(0,dg.default)(t,e))||n.push(e)}return n.length>0?n:void 0}(c),orderings:s}}(t);if(!t.type)return{extends:null,jsonType:t.jsonType,...r};switch(t.type.name){case"array":return{extends:"array",of:t.of.map(t=>({name:t.name,typeDef:e(t)})),...r};case"reference":case"globalDocumentReference":case"crossDatasetReference":return{extends:t.type.name,to:p$("name",t.to.map(e=>{var t;return{name:e.name||(null==(t=e.type)?void 0:t.name)||e.type}})),...r};default:return{extends:t.type.name,...r}}}(e.get(t));n.addObject("sanity.schema.namedType",{name:t,typeDef:r})}return e.parent&&n.addSet(this.get(e.parent)),t=n.build("sanity.schema.registry"),this.cache.set(e,t),t}constructor(e){(0,rc._)(this,"opts",void 0),(0,rc._)(this,"cache",new WeakMap),this.opts=e}}function pY(e){return"string"==typeof e?e:void 0}function pK(e){return!0===e||void 0}function pG(e){return"function"==typeof e?pZ:pK(e)}function p$(e,t){return t.filter(t=>"string"==typeof t[e])}let pZ={__type:"function"},pX={__type:"unknown"},pJ={__type:"undefined"},pQ={__type:"cyclic"},p1={__type:"maxDepth"};function p2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(0===n)return p1;if("string"==typeof e||"boolean"==typeof e||null==e)return e;if("number"==typeof e)return{__type:"number",value:e.toString()};if("function"==typeof e)return pZ;if(t.has(e))return pQ;if(t.add(e),(0,dy.default)(e)){if(Array.isArray(e))return e.map(e=>{let r=p2(e,t,n-1);return void 0===r?pJ:r});if("$$typeof"in e&&"type"in e&&"props"in e){let{type:r,props:i}=e,a="function"==typeof r?r.name:r;return"string"!=typeof a?void 0:{__type:"jsx",type:a,props:p2(i,t,n-1)}}let r=!1,i={};for(let[a,o]of Object.entries(e))"__type"===a&&(r=!0),i[a]=p2(o,t,n-1);return r?{__type:"object",value:i}:i}return pX}function p0(e){return(0,dy.default)(e)&&"_rules"in e}function p5(e){return(0,dy.default)(e)&&"type"in e&&"path"in e&&e.type&&e.path?{type:"fieldReference",path:Array.isArray(e.path)?e.path:[e.path]}:String(e)}function p7(e){if("boolean"==typeof e)return e}function p3(e){if(!(0,dy.default)(e)||Array.isArray(e))return;let t={};for(let n of Object.entries(e))if(function(e){let[t,n]=e;return"string"==typeof t&&!!n&&"object"==typeof n&&"key"in n&&"ns"in n&&"string"==typeof n.key&&"string"==typeof n.ns}(n)){let[e,r]=n;t[e]={ns:r.ns,key:r.key}}return Object.keys(t).length>0?t:void 0}function p8(e){if(!(0,dy.default)(e)||Array.isArray(e))return;let t="name"in e&&"string"==typeof e.name?e.name:void 0;if(void 0===t)return;let n="title"in e&&"string"==typeof e.title?e.title:t,r="by"in e&&Array.isArray(e.by)?e.by:[],i=[];for(let e of r){let t=function(e){if(!(0,dy.default)(e)||Array.isArray(e))return;let t="field"in e&&"string"==typeof e.field?e.field:void 0,n="direction"in e&&("asc"===e.direction||"desc"===e.direction)?e.direction:void 0;if(!(!t||!n))return{field:t,direction:n}}(e);t&&i.push(t)}if(0===i.length)return;let a="i18n"in e?p3(e.i18n):void 0;return{name:t,title:n,by:i,...a&&{i18n:a}}}function p4(e,t){let n=e.set.id;if(!t)return{id:n};if("complete"===t.type)return null;let r=[];for(let n of t.missingIds){let t=function e(t,n){if(t.set.id===n)return t.set;let r=t.objectValues[n];if(r)return r;for(let r of Object.values(t.setValues)){let t=e(r,n);if(t)return t}return null}(e,n);if(!t)throw Error("Synchronization server is requested an unknonwn descriptor");r.push(t)}return{id:n,descriptors:r}}let p6="__experimental_actions",p9=["create","update","delete","publish"],fe=(e,t)=>(e=>((e,t)=>{if(!Array.isArray(t))throw Error("The value of <type>.".concat(p6," should be an array with any of the actions ").concat(p9.join(", ")));let n=(0,sS.default)(t,p9);if(n.length>0)throw Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(p9.join(", ")));return t})(e.name,(e=>p6 in e?e[p6]:p9)(e)))(e).includes(t),ft=[{name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},{title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string",validation:e=>e.required()},{name:"source",title:"Source field",type:"string",hidden:!0}]},{title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},{name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare:e=>({title:e.title||"string"==typeof e.path&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")})},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},{name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare:e=>({title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")})},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},{name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number",validation:e=>e.required()},{name:"bottom",type:"number",validation:e=>e.required()},{name:"left",type:"number",validation:e=>e.required()},{name:"right",type:"number",validation:e=>e.required()}]},{name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number",validation:e=>e.required()},{name:"y",type:"number",validation:e=>e.required()},{name:"height",type:"number",validation:e=>e.required()},{name:"width",type:"number",validation:e=>e.required()}]},{name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},{name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0,validation:e=>e.required()},{name:"width",type:"number",title:"Width",readOnly:!0,validation:e=>e.required()},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0,validation:e=>e.required()}]},{name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},{name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]}],fn={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",GLOBAL_DOCUMENT_REFERENCE_INVALID:"global-document-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function fr(e,t,n){if(n&&!Object.keys(fn).some(e=>fn[e]===n))throw Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}let fi=(e,t)=>fr("error",e,t),fa=(e,t)=>fr("warning",e,t);function fo(e){return(0,dv.default)(e.map(e=>fm(e))).filter(e=>e.problems.length>0)}function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>(0,db.default)(t,e);return function(n,r){let i=[...r,{kind:"type",type:n.type,name:n.name}],a=t(n)||[],o=Array.isArray(a)?a.map(t=>fm(t,[...i,{kind:"property",name:e}])):[[{path:i,problems:[fi("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:n._problems||[]},...(0,dv.default)(o)]}}let fs=fl("fields"),fc=fl("fields"),fu=fl("fields"),fd=fl("of"),fp=fl("to",e=>"to"in e?(e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e])(e.to):[]),ff=fl("marks.annotations"),fh=fl("of");function fm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e.type){case"object":case"document":return fs(e,t);case"array":return fd(e,t);case"reference":return fp(e,t);case"block":return[...ff(e,t),...fh(e,t)];case"image":return fc(e,t);case"file":return fu(e,t);default:return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[{path:[...t,{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}(e,t)}}function fg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=e.reduce((e,n)=>{let r=t(n);return e[r]||(e[r]=[]),e[r].push(n),e},{});return Object.keys(n).map(e=>n[e].length>1?n[e]:null).filter(Boolean)}let fy=e=>e,fv={name:"type",type:null},fb=["any","time","date"],fx=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"globalDocumentReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],fC=fx.map(e=>e.name);function fk(e){return"string"===e||"number"===e||"boolean"===e}function fw(e){return'"'.concat(e,'"')}function f_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s";return 1===e.length?"":t}function fj(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):"object"==typeof e&&null!==e?"object with keys ".concat((0,dC.default)(Object.keys(e).map(fw))):fw(e)}let fS=e=>Array.isArray(e)?"array":typeof e,fE=e=>'"'.concat(e,'"'),fT=["components","lists","marks","name","of","options","styles","title","type","validation"],fD=["decorators","annotations"],fI=["blockEditor","title","value","icon","component"],fA=["blockEditor","title","value","icon","component"],fO=["title","value","icon","component"],fP=["file","image","object","reference","crossDatasetReference","globalDocumentReference"],fM=e=>'"'.concat(e,'"');var fF=(e,t)=>({...e,_problems:[...function(e,t){let n=t.getTypeNames();if(!e)return[fi("Type is missing a type.",fn.TYPE_MISSING_TYPE)];if("string"!=typeof e)return[fi('Type has an invalid "type"-property - should be a string.',fn.TYPE_MISSING_TYPE)];if(!n.includes(e)){let t=n.map(t=>[(0,dk.default)(e,t),t]).filter(e=>{let[t]=e;return t<3}).map(e=>{let[t,n]=e;return n}),r=t.length>0?" Did you mean ".concat((0,dC.default)(t.map(fM),{conjunction:"or"}),"?"):"";return[fi("Unknown type: ".concat(e,".").concat(r))]}return[]}(e.type,t),...function(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&"object"!==n.jsonType?[fi('Type has propery "fields", but is not an object/document type.')]:[]}(e,t),...function(e){var t,n,r;let i=[];return(null==e?void 0:e.inputComponent)&&i.push(fa('The "inputComponent" property is deprecated. Use "components.input" instead.')),(null==e||null==(t=e.preview)?void 0:t.component)&&i.push(fa('The "preview.component" property is deprecated. Use "components.preview" instead.')),(null==e?void 0:e.diffComponent)&&i.push(fa('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(null==e||null==(n=e.options)?void 0:n.editModal)&&i.push(fa('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(null==e||null==(r=e.options)?void 0:r.isHighlighted)&&i.push(fa('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),i}(e)].filter(Boolean)});let fR=/^[a-z0-9~][-_a-z0-9]+$/,fB=/^Symbol\(react\..+\)$/;function fN(e){return"function"==typeof e||"symbol"==typeof(null==e?void 0:e.$$typeof)&&fB.test(String(null==e?void 0:e.$$typeof))}function fL(e){let t="components"in e&&e.components;if(!t)return[];let n=[];return t.input&&!fN(t.input)&&n.push(fa("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat((0,dw.default)(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!fN(t.field)&&n.push(fa("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat((0,dw.default)(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!fN(t.item)&&n.push(fa("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat((0,dw.default)(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!fN(t.preview)&&n.push(fa("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat((0,dw.default)(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}let fz=/^[A-Za-z]+[0-9A-Za-z_]*$/,fV=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function fU(e,t){var n;if(!(0,sT.default)(e))return[fi("Incorrect type for field definition - should be an object, saw ".concat((0,dw.default)(e)),fn.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];let r=[];return r.push(..."name"in e?"string"!=typeof(n=e.name)?[fi('Field names must be strings. Saw "'.concat((0,dw.default)(n),'"'),fn.OBJECT_FIELD_NAME_INVALID)]:n.startsWith("_")?[fi('Invalid field name "'.concat(n,'". Field names cannot start with underscores "_" as it\'s reserved for system fields.'),fn.OBJECT_FIELD_NAME_INVALID)]:fz.test(n)?fV.test(n)?[]:[fa("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),fn.OBJECT_FIELD_NAME_INVALID]:[fi('Invalid field name: "'.concat(n,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(fz),")."),fn.OBJECT_FIELD_NAME_INVALID)]:[fi("Missing field name",fn.OBJECT_FIELD_NAME_INVALID)]),r.push(...fL(e)),r}function fH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowEmpty:!1},n=[];if(!Array.isArray(e))return[fi('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),fn.OBJECT_FIELDS_INVALID)];(function(e){let t={};return e.forEach(e=>{t[e.name]||(t[e.name]=[]),t[e.name].push(e)}),Object.keys(t).map(e=>t[e].length>1?t[e]:null).filter(Boolean)})(e.filter(e=>"string"==typeof e.name)).forEach(e=>{n.push(fi("Found ".concat(e.length,' fields with name "').concat(e[0].name,'" in object'),fn.OBJECT_FIELD_NOT_UNIQUE))}),0!==e.length||t.allowEmpty||n.push(fi("Object should have at least one field",fn.OBJECT_FIELDS_INVALID));let r=e.filter(e=>"block"===e.type).map(e=>'"'.concat(e.name,'"'));if(r.length>0){let e=r.join(", ");n.push(fi("Invalid standalone block field(s) ".concat(e,". Block content must be defined as an array of blocks"),fn.STANDALONE_BLOCK_TYPE))}return n}var fq=(e,t)=>{let n=fH(e.fields),r=e.preview;if(r){let t=function(e){return(0,sT.default)(e)?"u">typeof e.prepare&&"function"!=typeof e.prepare?[fi('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?(0,sT.default)(e.select)?Object.keys(e.select).reduce((t,n)=>"string"==typeof e.select[n]?t:t.concat(fi('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[fi('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[fi('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}(e.preview);n=n.concat(t),r=t.some(e=>"error"===e.severity)?{}:r}return"document"!==e.type&&"object"!==e.type&&"u">typeof e.initialValue&&n.push(fi('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((e,n)=>{let{name:r,...i}=e,{_problems:a,...o}=t.visit(i,n);return{name:r,...o,_problems:fU(e).concat(a||[])}}),_problems:n}};let fW=["dimensions","hasAlpha","isOpaque"];var fY=(e,t)=>{let n=!!e.name;if(!n&&1===Object.keys(e).length)return{...e,_problems:[fi("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",fn.TYPE_INVALID)]};let r=[];return!function(e){return!e.name&&e.default&&(e.default.name||e.default.title)}(e)?n?t.isReserved(e.name)&&r.push(fi('Invalid type name: "'.concat(e.name,'" is a reserved name.'),fn.TYPE_NAME_RESERVED)):r.push(fi("Missing type name",fn.TYPE_MISSING_NAME)):r.push(fi("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",fn.TYPE_IS_ESM_MODULE)),t.isDuplicate(e.name)&&r.push(fi('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...fL(e)),"title"in e&&"string"!=typeof e.title&&r.push(fa("Type title is not a string.",fn.TYPE_TITLE_INVALID)),{...e,_problems:r}};let fK={array:(e,t)=>{var n,r,i;let a=Array.isArray(e.of);if(a){let n=e.of.reduce((e,n,r)=>{if("string"==typeof n.name&&n.name!==n.type&&fC.includes(n.name))return e.concat(fi('Found array member declaration with the same type name as a built-in type ("'.concat(n.name,'"). Array members can not be given the same name as a built-in type.'),fn.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if("object"===n.type&&n.name&&t.getType(n.name))return e.concat(fa('Found array member declaration with the same name as the global schema type "'.concat(n.name,"\". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name."),fn.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if("array"===n.type)return e.concat(fi('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',fn.ARRAY_OF_ARRAY));if(n)return e;let i="Found ".concat(null===n?"null":typeof n,", expected member declaration");return e.concat(fi("Found invalid type member declaration in array at index ".concat(r,": ").concat(i),fn.ARRAY_OF_INVALID))},[]);if(n.length>0)return{...e,of:[],_problems:n}}let o=(0,dv.default)([a?fg(e.of,e=>"".concat(e.name,";").concat(e.type)).map(e=>fi("Found ".concat(e.length,' members with same type, but not unique names "').concat(e[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),fn.ARRAY_OF_NOT_UNIQUE)):fi('The array type is missing or having an invalid value for the required "of" property',fn.ARRAY_OF_INVALID)]),l=a?e.of:[],s=l.some(e=>"object"===e.type&&typeof e.name>"u");l.some(e=>"block"===e.type)&&s&&o.push(fi("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",fn.ARRAY_OF_INVALID));let[c,u]=(0,ss.default)(l,e=>{var n;return fk(e.type)||fk(null==(n=t.getType(e.type))?void 0:n.jsonType)}),d=c.length>0&&u.length>0;if(d){let e=c.map(e=>e.type),t=u.map(e=>e.type);o.push(fi("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(f_(e)," ").concat((0,dC.default)(e.map(fw))," and object type").concat(f_(t)," ").concat((0,dC.default)(t.map(fw)),")"),fn.ARRAY_OF_INVALID))}let p=null==e||null==(n=e.options)?void 0:n.list;return!d&&Array.isArray(p)&&(c.length>0?p.forEach(e=>{var n;let r=null!=(n=null==e?void 0:e.value)?n:e;if(!c.some(e=>typeof r===t.getType(e.type).jsonType)){let e=(0,dC.default)(c.map(e=>e.name||e.type),{conjunction:"or"});o.push(fi("An invalid entry found in options.list: ".concat(fj(r),". Must be either a value of type ").concat(e,", or an object with {title: string, value: ").concat(e,"}"),fn.ARRAY_PREDEFINED_CHOICES_INVALID))}}):p.forEach(e=>{let t=e._type||"object";u.some(e=>(function(e,t){return("string"==typeof t.name?t.name:t.type)===e})(t,e))||o.push(fi("An invalid entry found in options.list: ".concat(fj(e),'. Must be an object with "_type" set to ').concat((0,dC.default)(u.map(e=>e.name||e.type).map(e=>"object"===e?"undefined":fw(e)),{conjunction:"or"})),fn.ARRAY_PREDEFINED_CHOICES_INVALID))})),(null==e||null==(r=e.options)?void 0:r.list)&&(null==e||null==(i=e.options)?void 0:i.layout)==="tags"&&o.push(fa("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:l.map(t.visit),_problems:o}},object:fq,slug:(e,t)=>{let n=[];return e.options&&e.options.slugifyFn&&(n.push(fa('Heads up! The "slugifyFn" option has been renamed to "slugify".',fn.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},file:(e,t)=>{let n=[],r=e.fields;r&&n.push(...fH(r,{allowEmpty:!0}));let i=Array.isArray(r)?null==r?void 0:r.filter(e=>"asset"===e.name):[];return e.options&&"u">typeof e.options.metadata&&!Array.isArray(e.options.metadata)?n.push(fi("Invalid type for file `metadata` field - must be an array of strings",fn.ASSET_METADATA_FIELD_INVALID)):i.length>0&&n.push(fi("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((e,n)=>{let{name:r,...i}=e,{_problems:a,...o}=t.visit(i,n);return{name:r,...o,_problems:fU(e).concat(a||[])}}),_problems:n}},image:(e,t)=>{let n=[],r=e.fields;r&&n.push(...fH(r,{allowEmpty:!0}));let i=e.options,a=null==i?void 0:i.metadata,o=Array.isArray(a)?a.filter(e=>fW.includes(e)):[],l=["asset","hotspot","crop"],s=Array.isArray(r)?null==r?void 0:r.filter(e=>l.includes(e.name)):[];return"u">typeof a&&!Array.isArray(a)?n.push(fi("Invalid type for image `metadata` field - must be an array of strings",fn.ASSET_METADATA_FIELD_INVALID)):o.length>0?(n.push(fa("Image `metadata` field contains superfluous properties (they are always included): ".concat(o.join(", ")))),i={...i,metadata:a.filter(e=>!fW.includes(e))}):s.length>0&&n.push(fi("The names `".concat(l.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:i,fields:(Array.isArray(r)?r:[]).map((e,n)=>{let{name:r,...i}=e,{_problems:a,...o}=t.visit(i,n);return{name:r,...o,_problems:fU(e).concat(a||[])}}),_problems:n}},block:function(e,t){var n,r,i,a,o,l,s,c,u;let d=[],p=e.styles,f=e.lists,h=e.marks,m=e.of,g=Object.keys(e).filter(e=>!fT.includes(e)&&!e.startsWith("_"));return g.length>0&&d.push(fi("Found unknown properties for block declaration: ".concat((0,dC.default)(g.map(fE))))),h&&(h=function(e,t,n){var r,i,a,o,l,s;let c=e.decorators,u=e.annotations;if(!(0,sT.default)(e))return n.push(fi('"marks" declaration should be an object, got '.concat(fS(e)))),n;let d=Object.keys(e).filter(e=>!fD.includes(e)&&!e.startsWith("_"));return d.length>0&&n.push(fi("Found unknown properties for block declaration: ".concat((0,dC.default)(d.map(fE))))),c&&!Array.isArray(c)?n.push(fi('"marks.decorators" declaration should be an array, got '.concat(fS(c)))):c&&(c.filter(e=>!!e.blockEditor).forEach(e=>{e.icon=e.blockEditor.icon,e.component=e.blockEditor.render}),r=c,i=0,a=n,r.forEach((e,t)=>{if(!(0,sT.default)(e))return void a.push(fi("Annotation must be an object, got ".concat(fS(e))));let n=e.value||"#".concat(t),r=Object.keys(e).filter(e=>!fA.includes(e)&&!e.startsWith("_"));r.length>0&&a.push(fi("Found unknown properties for decorator ".concat(n,": ").concat((0,dC.default)(r.map(fE))))),e.value?"string"!=typeof e.value?a.push(fi("Decorator #".concat(t,' has an invalid "value" property, expected string, got ').concat(fS(e.value)))):e.title||a.push(fa("Decorator ".concat(n,' is missing recommended "title" property'))):a.push(fi("Decorator #".concat(t,' is missing required "value" property'))),"u">typeof e.blockEditor&&(a.push(fa('Decorator "'.concat(n,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),fn.DEPRECATED_BLOCKEDITOR_KEY)),e.icon=e.icon||e.blockEditor.icon,e.component=e.component||e.blockEditor.render)}),c=r),u&&!Array.isArray(u)?n.push(fi('"marks.annotations" declaration should be an array, got '.concat(fS(u)))):u&&(o=u,l=t,s=n,u=o.map(e=>{var t,n;if(!(0,sT.default)(e))return{...e,_problems:[fi("Annotation must be an object, got ".concat(fS(e)))]};let{_problems:r}=l.visit(e,l),i=e.type&&l.getType(e.type);return i&&!function e(t,n,r){if("jsonType"in t)return t.jsonType===n;let i=r.getType(t.type);if(!i)throw Error("Could not resolve jsonType of ".concat(t.name,". No parent type found"));return e(i,n,r)}(i,"object",l)&&r.push(fi('Annotation cannot have type "'.concat(e.type,'" - annotation types must inherit from object'))),"u">typeof e.blockEditor&&(s.push(fa('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',fn.DEPRECATED_BLOCKEDITOR_KEY)),e.icon=e.icon||e.blockEditor.icon,(null==(t=e.blockEditor)?void 0:t.render)&&!(null==(n=e.components)?void 0:n.annotation)&&(e.components=e.components||{},e.components.annotation=e.components.annotation||e.blockEditor.render)),{...e,_problems:r}})),{...e,decorators:c,annotations:u}}(e.marks,t,d)),p&&(n=p,r=0,i=d,p=Array.isArray(n)?(n.forEach((e,t)=>{if(!(0,sT.default)(e))return void i.push(fi("Style must be an object, got ".concat(fS(e))));let n=e.value||"#".concat(t),r=Object.keys(e).filter(e=>!fI.includes(e)&&!e.startsWith("_"));r.length>0&&i.push(fi("Found unknown properties for style ".concat(n,": ").concat((0,dC.default)(r.map(fE))))),e.value?"string"!=typeof e.value?i.push(fi("Style #".concat(t,' has an invalid "value" property, expected string, got ').concat(fS(e.value)))):e.title||i.push(fa("Style ".concat(n,' is missing recommended "title" property'))):i.push(fi("Style #".concat(t,' is missing required "value" property'))),"u">typeof e.blockEditor&&(i.push(fa('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',fn.DEPRECATED_BLOCKEDITOR_KEY)),e.component=e.component||e.blockEditor.render)}),n):(i.push(fi('"styles" declaration should be an array, got '.concat(fS(n)))),i)),f&&(a=f,o=0,l=d,f=Array.isArray(a)?(a.forEach((e,t)=>{if(!(0,sT.default)(e))return void l.push(fi("List must be an object, got ".concat(fS(e))));let n=e.value||"#".concat(t),r=Object.keys(e).filter(e=>!fO.includes(e)&&!e.startsWith("_"));r.length>0&&l.push(fi("Found unknown properties for list ".concat(n,": ").concat((0,dC.default)(r.map(fE))))),e.value?"string"!=typeof e.value?l.push(fi("List type #".concat(t,' has an invalid "value" property, expected string, got ').concat(fS(e.value)))):e.title||l.push(fa("List type ".concat(n,' is missing recommended "title" property'))):l.push(fi("List #".concat(t,' is missing required "value" property')))}),a):(l.push(fi('"lists" declaration should be an array, got '.concat(fS(a)))),l)),m&&(s=m,c=t,u=d,m=Array.isArray(s)?s.map(e=>{let{_problems:t}=c.visit(e,c);if("object"===e.type&&e.name&&c.getType(e.name))return{...e,_problems:[fa('Found array member declaration with the same name as the global schema type "'.concat(e.name,"\". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name."),fn.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let n=e;for(;n&&!n.jsonType;)n=c.getType(n.type);let r=fC.filter(e=>!fP.includes(e));return n&&"object"!==n.jsonType||r.some(t=>t===e.type)?{...e,_problems:[fi("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(fP.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),fn.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...e,_problems:t}}):void u.push(fi('"of" declaration should be an array, got '.concat(fS(s))))),{...(0,cd.default)(e,g),marks:h,styles:p,name:e.name||e.type,of:m,_problems:d}},document:(e,t)=>{let n=fq(e,t),{initialValue:r,initialValues:i}=n;return"u">typeof r&&!(0,sT.default)(r)&&"function"!=typeof r&&n._problems.push(fi('The "initialValue" property must be either a plain object or a function')),"u">typeof i&&n._problems.push(fi('Found property "initialValues" - did you mean "initialValue"?')),n},reference:(e,t)=>{let n=Array.isArray(e.to)||(0,sT.default)(e.to),r=function(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}(e),i=(0,dv.default)([n?fg(r,e=>"".concat(e.name,";").concat(e.type)).map(e=>fi("Found ".concat(e.length,' members with same type, but not unique names "').concat(e[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),fn.REFERENCE_TO_INVALID)):fi('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',fn.REFERENCE_TO_INVALID)]);return n&&0===r.length&&i.push(fi('The reference type should define at least one accepted type. Please check the "to" property.',fn.REFERENCE_TO_INVALID)),i.push(...function(e){let{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(t=>t in e).map(e=>fi("`".concat(e,"` is not allowed on a reference type definition - did you mean `options.").concat(e,"`?"),fn.REFERENCE_INVALID_OPTIONS_LOCATION))),t?(0,sT.default)(t)?"function"==typeof t.filter&&"u">typeof t.filterParams?n.concat(fi("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",fn.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):"function"!=typeof t.filter&&(t.filter||t.filterParams)?"string"!=typeof t.filter?n.concat(fi("If set, `filter` must be a string. Got ".concat(typeof t.filter))):"u">typeof t.filterParams&&!(0,sT.default)(t.filterParams)?n.concat(fi("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(e=>e.startsWith("__")||e.startsWith("$")).map(e=>fi('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(e,'".')))):n:n:n.concat(fi("The reference type expects `options` to be an object",fn.REFERENCE_INVALID_OPTIONS)):n}(e)),{...e,to:(n?r:[]).map(t.visit),_problems:i}},crossDatasetReference:(e,t)=>{let n=Array.isArray(e.to)||(0,sT.default)(e.to),r=function(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}(e),i=(0,dv.default)([n?fg(r,e=>"".concat(e.name,";").concat(e.type)).map(e=>fi("Found ".concat(e.length,' members with same type, but not unique names "').concat(e[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),fn.CROSS_DATASET_REFERENCE_INVALID)):fi('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',fn.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&0===r.length&&i.push(fi('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',fn.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((e,t)=>{e.type||i.push(fi("The referenced type at index ".concat(t," must be named. Specify the name of the type you want to create references to."),fn.CROSS_DATASET_REFERENCE_INVALID)),(0,sT.default)(e.preview)||i.push(fi('Missing required preview config for the referenced type "'.concat(e.type||"<unknown type>",'"'),fn.CROSS_DATASET_REFERENCE_INVALID))}),"string"==typeof e.dataset){let t=function(e){return e.length>=2&&e.toLowerCase()===e&&fR.test(e)||'The provided dataset "'.concat(e,"\" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore")}(e.dataset);!0!==t&&i.push(fi(t,fn.CROSS_DATASET_REFERENCE_INVALID))}else i.push(fi("A cross dataset reference must specify a `dataset`",fn.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&"function"!=typeof e.studioUrl&&i.push(fi('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',fn.CROSS_DATASET_REFERENCE_INVALID)),i.push(...function(e){let{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(t=>t in e).map(e=>fi("`".concat(e,"` is not allowed on a reference type definition - did you mean `options.").concat(e,"`?"),fn.REFERENCE_INVALID_OPTIONS_LOCATION))),t?(0,sT.default)(t)?"function"==typeof t.filter&&"u">typeof t.filterParams?n.concat(fi("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",fn.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):"function"!=typeof t.filter&&(t.filter||t.filterParams)?"string"!=typeof t.filter?n.concat(fi("If set, `filter` must be a string. Got ".concat(typeof t.filter))):"u">typeof t.filterParams&&!(0,sT.default)(t.filterParams)?n.concat(fi("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(e=>e.startsWith("__")||e.startsWith("$")).map(e=>fi('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(e,'".')))):n:n:n.concat(fi("The reference type expects `options` to be an object",fn.REFERENCE_INVALID_OPTIONS)):n}(e)),{...e,_problems:i}},globalDocumentReference:(e,t)=>{let n=Array.isArray(e.to)||(0,sT.default)(e.to),r=function(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:[]}(e),i=(0,dv.default)([n?fg(r,e=>"".concat(e.name,";").concat(e.type)).map(e=>fi("Found ".concat(e.length,' members with same type, but not unique names "').concat(e[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),fn.GLOBAL_DOCUMENT_REFERENCE_INVALID)):fi('The global document reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',fn.GLOBAL_DOCUMENT_REFERENCE_INVALID)]);if(n&&0===r.length&&i.push(fi('The global document reference type should define at least one referenced type. Please check the "to" property.',fn.GLOBAL_DOCUMENT_REFERENCE_INVALID)),r.forEach((e,t)=>{e.type||i.push(fi("The referenced type at index ".concat(t," must be named. Specify the name of the type you want to create references to."),fn.GLOBAL_DOCUMENT_REFERENCE_INVALID)),(0,sT.default)(e.preview)||i.push(fi('Missing required preview config for the referenced type "'.concat(e.type||"<unknown type>",'"'),fn.GLOBAL_DOCUMENT_REFERENCE_INVALID))}),"string"==typeof e.resourceType){let t=function(e){return e?"media-library"==e||"dataset"==e||'The resource type must be either "media-library" or "dataset"':"The resource type must be a non-empty string"}(e.resourceType);!0!==t&&i.push(fi(t,fn.GLOBAL_DOCUMENT_REFERENCE_INVALID))}else i.push(fi("A global document reference must specify a `resourceType`",fn.GLOBAL_DOCUMENT_REFERENCE_INVALID));if("string"==typeof e.resourceId){let t=function(e,t){return t?"dataset"===e?2===t.split(".").length||'The resource ID for a dataset reference must be on the form "<projectId>.<datasetName>"':"media-library"===e||"Cannot validate resource ID for resource type: ".concat(e):"The resource ID must be a non-empty string"}(e.resourceType,e.resourceId);!0!==t&&i.push(fi(t,fn.GLOBAL_DOCUMENT_REFERENCE_INVALID))}else i.push(fi("A global document reference must specify a `resourceId`",fn.GLOBAL_DOCUMENT_REFERENCE_INVALID));return e.studioUrl&&"function"!=typeof e.studioUrl&&"string"!=typeof e.studioUrl&&i.push(fi('The "studioUrl" property on a global document reference must either be a function taking "{id, type}" as argument and returning a studio url, or a string being the base url pointing to a studio.',fn.GLOBAL_DOCUMENT_REFERENCE_INVALID)),i.push(...function(e){let{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(t=>t in e).map(e=>fi("`".concat(e,"` is not allowed on a reference type definition - did you mean `options.").concat(e,"`?"),fn.REFERENCE_INVALID_OPTIONS_LOCATION))),t?(0,sT.default)(t)?"function"==typeof t.filter&&"u">typeof t.filterParams?n.concat(fi("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",fn.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):"function"!=typeof t.filter&&(t.filter||t.filterParams)?"string"!=typeof t.filter?n.concat(fi("If set, `filter` must be a string. Got ".concat(typeof t.filter))):"u">typeof t.filterParams&&!(0,sT.default)(t.filterParams)?n.concat(fi("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(e=>e.startsWith("__")||e.startsWith("$")).map(e=>fi('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(e,'".')))):n:n:n.concat(fi("The reference type expects `options` to be an object",fn.REFERENCE_INVALID_OPTIONS)):n}(e)),{...e,_problems:i}}};function fG(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>t.reduce((e,t)=>{let r=t(e,n);return{...r,_problems:e._problems.concat(r._problems)}},{_problems:[],...e})}function f$(e){let{transformTypeVisitors:t=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fy,r=Object.create(null),i=Object.create(null),a=t.map(e=>e.name),o=fb.concat(a),l=e.map(e=>e&&e.name).filter(Boolean);function s(e){return"type"===e?fv:r[e]||i[e]||null}t.forEach(e=>{r[e.name]=e}),e.forEach((e,t)=>{i[e&&e.name||"__unnamed_".concat(t)]={}});let c=(0,dx.default)((0,dv.default)(fg(l)));function u(e){return c.includes(e)}function d(){return l.concat(a)}function p(e){return"type"===e||o.includes(e)}let f=e=>(t,r)=>n(t,{visit:f(!1),isRoot:e,getType:s,getTypeNames:d,isReserved:p,isDuplicate:u,index:r});return t.forEach(e=>{Object.assign(r[e.name],f(e))}),e.forEach((e,t)=>{Object.assign(i[e&&e.name||"__unnamed_".concat(t)],f(!0)(e,t))}),{get(e){let t=i[e]||r[e];if(t)return t;throw Error("No such type: ".concat(e))},has:e=>e in i||e in r,getTypeNames:()=>Object.keys(i),getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}(e,fx,(e,n)=>{let r=e&&e.type&&t(fK)[e.type]||(e=>({name:"<unnamed_type_@_index_".concat(n.index,">"),...e,_problems:[]}));return n.isRoot?fG(fY,fF,r)(e,n):fG(fF,r)(e,n)})}function fZ(e){let t="undefined"!=typeof window&&"crypto"in window?window.crypto:globalThis.crypto;if(!t||!t.getRandomValues)throw Error("WebCrypto not available in this environment");return t.getRandomValues(e)}u1.compile({name:"studio",types:ft}),e.s(["isDeepEmpty",()=>function e(t){if(null==t)return!0;let n=typeof t;return Array.isArray(t)?function(t){for(let n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0}(t):"object"===n&&function(t){for(let n in t)if("_type"!==n&&"_key"!==n&&fX(t,n)&&!e(t[n]))return!1;return!0}(t)},"isShallowEmptyObject",()=>fJ,"randomKey",()=>f1,"resolveTypeName",()=>f0],617601),e.s(["default",()=>fZ],702025);var fX=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function fJ(e){for(let t in e)if("_type"!==t&&"_key"!==t&&fX(e,t)&&void 0!==e[t])return!1;return!0}let fQ=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function f1(e){let t=fQ();return(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=new Uint8Array(e);return fZ(t),t})(e).reduce((e,n)=>e+t[n],"").slice(0,e)}let f2=Object.prototype.toString;function f0(e){let t=function(e){switch(f2.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if("object"==typeof e&&e&&"number"==typeof e.length)try{if("function"==typeof e.callee)return"arguments"}catch(e){if(e instanceof TypeError)return"arguments"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}(e);return"object"!==t?t:"_type"in e&&e._type||t}e.s(["DndContext",()=>mE,"KeyboardCode",()=>p,"KeyboardSensor",()=>h9,"PointerSensor",()=>mi,"closestCenter",()=>hB,"closestCorners",()=>hN,"getClientRect",()=>hH,"getFirstCollision",()=>hF,"getScrollableAncestors",()=>hW,"useDndContext",()=>mA,"useDraggable",()=>mI,"useDroppable",()=>mP,"useSensor",()=>hT,"useSensors",()=>hD],477183);var f5=e.i(174080);function f7(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,D.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}e.s(["CSS",()=>hy,"add",()=>hf,"canUseDOM",()=>f3,"findFirstFocusableNode",()=>hb,"getEventCoordinates",()=>hg,"getOwnerDocument",()=>hn,"getWindow",()=>f6,"isDocument",()=>f9,"isHTMLElement",()=>he,"isKeyboardEvent",()=>hm,"isNode",()=>f4,"isSVGElement",()=>ht,"isWindow",()=>f8,"subtract",()=>hh,"useCombinedRefs",()=>f7,"useEvent",()=>hi,"useInterval",()=>ha,"useIsomorphicLayoutEffect",()=>hr,"useLatestValue",()=>ho,"useLazyMemo",()=>hl,"useNodeRef",()=>hs,"usePrevious",()=>hc,"useUniqueId",()=>hd],807311);let f3="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function f8(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function f4(e){return"nodeType"in e}function f6(e){var t,n;return e?f8(e)?e:f4(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function f9(e){let{Document:t}=f6(e);return e instanceof t}function he(e){return!f8(e)&&e instanceof f6(e).HTMLElement}function ht(e){return e instanceof f6(e).SVGElement}function hn(e){return e?f8(e)?e.document:f4(e)?f9(e)?e:he(e)||ht(e)?e.ownerDocument:document:document:document}let hr=f3?D.useLayoutEffect:D.useEffect;function hi(e){let t=(0,D.useRef)(e);return hr(()=>{t.current=e}),(0,D.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function ha(){let e=(0,D.useRef)(null);return[(0,D.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,D.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}function ho(e,t){void 0===t&&(t=[e]);let n=(0,D.useRef)(e);return hr(()=>{n.current!==e&&(n.current=e)},t),n}function hl(e,t){let n=(0,D.useRef)();return(0,D.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function hs(e){let t=hi(e),n=(0,D.useRef)(null),r=(0,D.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,r]}function hc(e){let t=(0,D.useRef)();return(0,D.useEffect)(()=>{t.current=e},[e]),t.current}let hu={};function hd(e,t){return(0,D.useMemo)(()=>{if(t)return t;let n=null==hu[e]?0:hu[e]+1;return hu[e]=n,e+"-"+n},[e,t])}function hp(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>{for(let[r,i]of Object.entries(n)){let n=t[r];null!=n&&(t[r]=n+e*i)}return t},{...t})}}let hf=hp(1),hh=hp(-1);function hm(e){if(!e)return!1;let{KeyboardEvent:t}=f6(e.target);return t&&e instanceof t}function hg(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=f6(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let hy=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hy.Translate.toString(e),hy.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),hv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hb(e){return e.matches(hv)?e:e.querySelector(hv)}let hx={display:"none"};function hC(e){let{id:t,value:n}=e;return D.default.createElement("div",{id:t,style:hx},n)}function hk(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return D.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}let hw=(0,D.createContext)(null),h_={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},hj={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hS(e){let{announcements:t=hj,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=h_}=e,{announce:a,announcement:o}=function(){let[e,t]=(0,D.useState)("");return{announce:(0,D.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=hd("DndLiveRegion"),[s,c]=(0,D.useState)(!1);(0,D.useEffect)(()=>{c(!0)},[]);var u=(0,D.useMemo)(()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}}),[a,t]);let d=(0,D.useContext)(hw);if((0,D.useEffect)(()=>{if(!d)throw Error("useDndMonitor must be used within a children of <DndContext>");return d(u)},[u,d]),!s)return null;let p=D.default.createElement(D.default.Fragment,null,D.default.createElement(hC,{id:r,value:i.draggable}),D.default.createElement(hk,{id:l,announcement:o}));return n?(0,f5.createPortal)(p,n):p}function hE(){}function hT(e,t){return(0,D.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function hD(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,D.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(c||(c={}));let hI=Object.freeze({x:0,y:0});function hA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hO(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function hP(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function hM(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function hF(e,t){if(!e||0===e.length)return null;let[n]=e;return t?n[t]:n}function hR(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}let hB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=hR(t,t.left,t.top),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=hA(hR(r),i);a.push({id:t,data:{droppableContainer:e,value:n}})}}return a.sort(hO)},hN=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=hM(t),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=hM(r),o=Number((i.reduce((e,t,r)=>e+hA(n[r],t),0)/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:o}})}}return a.sort(hO)},hL=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,a=n.get(r);if(a){let n=function(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);if(r<i&&n<a){let o=t.width*t.height,l=e.width*e.height,s=(i-r)*(a-n);return Number((s/(o+l-s)).toFixed(4))}return 0}(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(hP)};function hz(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:hI}let hV=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}(1),hU={ignoreTransform:!1};function hH(e,t){void 0===t&&(t=hU);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=f6(e).getComputedStyle(e);t&&(n=function(e,t,n){let r=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;let{scaleX:i,scaleY:a,x:o,y:l}=r,s=e.left-o-(1-i)*parseFloat(n),c=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s}}(n,t,r))}let{top:r,left:i,width:a,height:o,bottom:l,right:s}=n;return{top:r,left:i,width:a,height:o,bottom:l,right:s}}function hq(e){return hH(e,{ignoreTransform:!0})}function hW(e,t){let n=[];return e?function r(i){var a;if(null!=t&&n.length>=t||!i)return n;if(f9(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!he(i)||ht(i)||n.includes(i))return n;let o=f6(e).getComputedStyle(i);return(i!==e&&function(e,t){void 0===t&&(t=f6(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let r=t[e];return"string"==typeof r&&n.test(r)})}(i,o)&&n.push(i),void 0===(a=o)&&(a=f6(i).getComputedStyle(i)),"fixed"===a.position)?n:r(i.parentNode)}(e):n}function hY(e){let[t]=hW(e,1);return null!=t?t:null}function hK(e){return f3&&e?f8(e)?e:f4(e)?f9(e)||e===hn(e).scrollingElement?window:he(e)?e:null:null:null}function hG(e){return f8(e)?e.scrollX:e.scrollLeft}function h$(e){return f8(e)?e.scrollY:e.scrollTop}function hZ(e){return{x:hG(e),y:h$(e)}}function hX(e){return!!f3&&!!e&&e===document.scrollingElement}function hJ(e){let t={x:0,y:0},n=hX(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x;return{isTop:i,isLeft:a,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(u||(u={}));let hQ={x:.2,y:.2};function h1(e){return e.reduce((e,t)=>hf(e,hZ(t)),hI)}let h2=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+hG(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+h$(t),0)}]];class h0{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=hW(t),r=h1(n);for(let[t,i,a]of(this.rect={...e},this.width=e.width,this.height=e.height,h2))for(let e of i)Object.defineProperty(this,e,{get:()=>{let i=a(n),o=r[t]-i;return this.rect[e]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class h5{add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}}function h7(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}function h3(e){e.preventDefault()}function h8(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(d||(d={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(p||(p={}));let h4={start:[p.Space,p.Enter],cancel:[p.Esc],end:[p.Space,p.Enter,p.Tab]},h6=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case p.Right:return{...n,x:n.x+25};case p.Left:return{...n,x:n.x-25};case p.Down:return{...n,y:n.y+25};case p.Up:return{...n,y:n.y-25}}};class h9{attach(){this.handleStart(),this.windowListeners.add(d.Resize,this.handleCancel),this.windowListeners.add(d.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(d.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=hH),!e)return;let{top:n,left:r,bottom:i,right:a}=t(e);hY(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(hI)}handleKeyDown(e){if(hm(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=h4,coordinateGetter:a=h6,scrollBehavior:o="smooth"}=r,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);let{collisionRect:s}=n.current,c=s?{x:s.left,y:s.top}:hI;this.referenceCoordinates||(this.referenceCoordinates=c);let u=a(e,{active:t,context:n.current,currentCoordinates:c});if(u){let t=hh(u,c),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:a,isRight:l,isLeft:s,isBottom:c,maxScroll:d,minScroll:f}=hJ(n),h=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}(n),m={x:Math.min(i===p.Right?h.right-h.width/2:h.right,Math.max(i===p.Right?h.left:h.left+h.width/2,u.x)),y:Math.min(i===p.Down?h.bottom-h.height/2:h.bottom,Math.max(i===p.Down?h.top:h.top+h.height/2,u.y))},g=i===p.Right&&!l||i===p.Left&&!s,y=i===p.Down&&!c||i===p.Up&&!a;if(g&&m.x!==u.x){let e=n.scrollLeft+t.x,a=i===p.Right&&e<=d.x||i===p.Left&&e>=f.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});a?r.x=n.scrollLeft-e:r.x=i===p.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(y&&m.y!==u.y){let e=n.scrollTop+t.y,a=i===p.Down&&e<=d.y||i===p.Up&&e>=f.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});a?r.y=n.scrollTop-e:r.y=i===p.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,hf(hh(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new h5(hn(t)),this.windowListeners=new h5(f6(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}}function me(e){return!!(e&&"distance"in e)}function mt(e){return!!(e&&"delay"in e)}h9.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=h4,onActivation:i}=t,{active:a}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class mn{attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(d.Resize,this.handleCancel),this.windowListeners.add(d.DragStart,h3),this.windowListeners.add(d.VisibilityChange,this.handleCancel),this.windowListeners.add(d.ContextMenu,h3),this.documentListeners.add(d.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(mt(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(me(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(d.Click,h8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(d.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:n,initialCoordinates:r,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!r)return;let l=null!=(t=hg(e))?t:hI,s=hh(r,l);if(!n&&o){if(me(o)){if(null!=o.tolerance&&h7(s,o.tolerance))return this.handleCancel();if(h7(s,o.distance))return this.handleStart()}return mt(o)&&h7(s,o.tolerance)?this.handleCancel():void this.handlePending(o,s)}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===p.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}constructor(e,t,n){var r;void 0===n&&(n=function(e){let{EventTarget:t}=f6(e);return e instanceof t?e:hn(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=hn(a),this.documentListeners=new h5(this.document),this.listeners=new h5(n),this.windowListeners=new h5(f6(a)),this.initialCoordinates=null!=(r=hg(i))?r:hI,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}}let mr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mi extends mn{constructor(e){let{event:t}=e;super(e,mr,hn(t.target))}}mi.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!!n.isPrimary&&0===n.button&&(null==r||r({event:n}),!0)}}];!function(e){e[e.RightClick=2]="RightClick"}(f||(f={}));!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(h||(h={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(m||(m={}));let ma={x:{[u.Backward]:!1,[u.Forward]:!1},y:{[u.Backward]:!1,[u.Forward]:!1}};!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(g||(g={})),(y||(y={})).Optimized="optimized";let mo=new Map;function ml(e,t){return hl(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function ms(e){let{callback:t,disabled:n}=e,r=hi(t),i=(0,D.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,D.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function mc(e){return new h0(hH(e),e)}function mu(e,t,n){void 0===t&&(t=mc);let[r,i]=(0,D.useState)(null);function a(){i(r=>{if(!e)return null;if(!1===e.isConnected){var i;return null!=(i=null!=r?r:n)?i:null}let a=t(e);return JSON.stringify(r)===JSON.stringify(a)?r:a})}let o=function(e){let{callback:t,disabled:n}=e,r=hi(t),i=(0,D.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,D.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),l=ms({callback:a});return hr(()=>{a(),e?(null==l||l.observe(e),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==o||o.disconnect())},[e]),r}let md=[];function mp(e,t){void 0===t&&(t=[]);let n=(0,D.useRef)(null);return(0,D.useEffect)(()=>{n.current=null},t),(0,D.useEffect)(()=>{let t=e!==hI;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?hh(e,n.current):hI}function mf(e){return(0,D.useMemo)(()=>e?function(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}let mh=[],mm=[{sensor:mi,options:{}},{sensor:h9,options:{}}],mg={current:{}},my={draggable:{measure:hq},droppable:{measure:hq,strategy:g.WhileDragging,frequency:y.Optimized},dragOverlay:{measure:hH}};class mv extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}let mb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:my,measureDroppableContainers:hE,windowRect:null,measuringScheduled:!1},mx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hE,draggableNodes:new Map,over:null,measureDroppableContainers:hE},mC=(0,D.createContext)(mx),mk=(0,D.createContext)(mb);function mw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mv}}}function m_(e,t){switch(t.type){case c.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case c.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case c.DragEnd:case c.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case c.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new mv(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case c.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;let o=new mv(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case c.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new mv(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function mj(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,D.useContext)(mC),a=hc(r),o=hc(null==n?void 0:n.id);return(0,D.useEffect)(()=>{if(!t&&!r&&a&&null!=o){if(!hm(a)||document.activeElement===a.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;(t.current||n.current)&&requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=hb(e);if(t){t.focus();break}}})}},[r,t,i,o,a]),null}let mS=(0,D.createContext)({...hI,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(v||(v={}));let mE=(0,D.memo)(function(e){var t,n,r,i,a,o;let{id:l,accessibility:s,autoScroll:d=!0,children:p,sensors:f=mm,collisionDetection:y=hL,measuring:b,modifiers:x,...C}=e,[k,w]=(0,D.useReducer)(m_,void 0,mw),[_,j]=function(){let[e]=(0,D.useState)(()=>new Set),t=(0,D.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,D.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[S,E]=(0,D.useState)(v.Uninitialized),T=S===v.Initialized,{draggable:{active:I,nodes:A,translate:O},droppable:{containers:P}}=k,M=null!=I?A.get(I):null,F=(0,D.useRef)({initial:null,translated:null}),R=(0,D.useMemo)(()=>{var e;return null!=I?{id:I,data:null!=(e=null==M?void 0:M.data)?e:mg,rect:F}:null},[I,M]),B=(0,D.useRef)(null),[N,L]=(0,D.useState)(null),[z,V]=(0,D.useState)(null),U=ho(C,Object.values(C)),H=hd("DndDescribedBy",l),q=(0,D.useMemo)(()=>P.getEnabled(),[P]),W=(0,D.useMemo)(()=>({draggable:{...my.draggable,...null==b?void 0:b.draggable},droppable:{...my.droppable,...null==b?void 0:b.droppable},dragOverlay:{...my.dragOverlay,...null==b?void 0:b.dragOverlay}}),[null==b?void 0:b.draggable,null==b?void 0:b.droppable,null==b?void 0:b.dragOverlay]),{droppableRects:Y,measureDroppableContainers:K,measuringScheduled:G}=function(e,t){let{dragging:n,dependencies:r,config:i}=t,[a,o]=(0,D.useState)(null),{frequency:l,measure:s,strategy:c}=i,u=(0,D.useRef)(e),d=function(){switch(c){case g.Always:return!1;case g.BeforeDragging:return n;default:return!n}}(),p=ho(d),f=(0,D.useCallback)(function(e){void 0===e&&(e=[]),p.current||o(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),h=(0,D.useRef)(null),m=hl(t=>{if(d&&!n)return mo;if(!t||t===mo||u.current!==e||null!=a){let t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new h0(s(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,d,s]);return(0,D.useEffect)(()=>{u.current=e},[e]),(0,D.useEffect)(()=>{d||f()},[n,d]),(0,D.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,D.useEffect)(()=>{d||"number"!=typeof l||null!==h.current||(h.current=setTimeout(()=>{f(),h.current=null},l))},[l,d,f,...r]),{droppableRects:m,measureDroppableContainers:f,measuringScheduled:null!=a}}(q,{dragging:T,dependencies:[O.x,O.y],config:W.droppable}),$=function(e,t){let n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return hl(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(A,I),Z=(0,D.useMemo)(()=>z?hg(z):null,[z]),X=function(){let e=(null==N?void 0:N.autoScrollEnabled)===!1,t="object"==typeof d?!1===d.enabled:!1===d,n=T&&!e&&!t;return"object"==typeof d?{...d,enabled:n}:{enabled:n}}(),J=ml($,W.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,a=(0,D.useRef)(!1),{x:o,y:l}="boolean"==typeof i?{x:i,y:i}:i;hr(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!r)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let i=hz(n(e),r);if(o||(i.x=0),l||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=hY(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,l,r,n])}({activeNode:null!=I?A.get(I):null,config:X.layoutShiftCompensation,initialRect:J,measure:W.draggable.measure});let Q=mu($,W.draggable.measure,J),ee=mu($?$.parentElement:null),et=(0,D.useRef)({activatorEvent:null,active:null,activeNode:$,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),en=P.getNodeFor(null==(t=et.current.over)?void 0:t.id),er=function(e){let{measure:t}=e,[n,r]=(0,D.useState)(null),i=ms({callback:(0,D.useCallback)(e=>{for(let{target:n}of e)if(he(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,o]=hs((0,D.useCallback)(e=>{let n=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return he(t)?t:e}(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)},[t,i]));return(0,D.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}({measure:W.dragOverlay.measure}),ei=null!=(n=er.nodeRef.current)?n:$,ea=T?null!=(r=er.rect)?r:Q:null,eo=!!(er.nodeRef.current&&er.rect),el=function(e){let t=ml(e);return hz(e,t)}(eo?null:Q),es=mf(ei?f6(ei):null),ec=function(e){let t=(0,D.useRef)(e),n=hl(n=>e?n&&n!==md&&e&&t.current&&e.parentNode===t.current.parentNode?n:hW(e):md,[e]);return(0,D.useEffect)(()=>{t.current=e},[e]),n}(T?null!=en?en:$:null),eu=function(e,t){void 0===t&&(t=hH);let[n]=e,r=mf(n?f6(n):null),[i,a]=(0,D.useState)(mh);function o(){a(()=>e.length?e.map(e=>hX(e)?r:new h0(t(e),e)):mh)}let l=ms({callback:o});return hr(()=>{null==l||l.disconnect(),o(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),i}(ec),ed=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}(x,{transform:{x:O.x-el.x,y:O.y-el.y,scaleX:1,scaleY:1},activatorEvent:z,active:R,activeNodeRect:Q,containerNodeRect:ee,draggingNodeRect:ea,over:et.current.over,overlayNodeRect:er.rect,scrollableAncestors:ec,scrollableAncestorRects:eu,windowRect:es}),ep=Z?hf(Z,O):null,ef=function(e){let[t,n]=(0,D.useState)(null),r=(0,D.useRef)(e),i=(0,D.useCallback)(e=>{let t=hK(e.target);t&&n(e=>e?(e.set(t,hZ(t)),new Map(e)):null)},[]);return(0,D.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let o=e.map(e=>{let t=hK(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,hZ(t)]):null}).filter(e=>null!=e);n(o.length?new Map(o):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{let t=hK(e);null==t||t.removeEventListener("scroll",i)})}},[i,e]),(0,D.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>hf(e,t),hI):h1(e):hI,[e,t])}(ec),eh=mp(ef),em=mp(ef,[Q]),eg=hf(ed,eh),ey=ea?hV(ea,ed):null,ev=R&&ey?y({active:R,collisionRect:ey,droppableRects:Y,droppableContainers:q,pointerCoordinates:ep}):null,eb=hF(ev,"id"),[ex,eC]=(0,D.useState)(null),ek=(a=eo?ed:hf(ed,em),o=null!=(i=null==ex?void 0:ex.rect)?i:null,{...a,scaleX:o&&Q?o.width/Q.width:1,scaleY:o&&Q?o.height/Q.height:1}),ew=(0,D.useRef)(null),e_=(0,D.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==B.current)return;let i=A.get(B.current);if(!i)return;let a=e.nativeEvent,o=new n({active:B.current,activeNode:i,event:a,options:r,context:et,onAbort(e){if(!A.get(e))return;let{onDragAbort:t}=U.current,n={id:e};null==t||t(n),_({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!A.get(e))return;let{onDragPending:i}=U.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(a),_({type:"onDragPending",event:a})},onStart(e){let t=B.current;if(null==t)return;let n=A.get(t);if(!n)return;let{onDragStart:r}=U.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:F}};(0,f5.unstable_batchedUpdates)(()=>{null==r||r(i),E(v.Initializing),w({type:c.DragStart,initialCoordinates:e,active:t}),_({type:"onDragStart",event:i}),L(ew.current),V(a)})},onMove(e){w({type:c.DragMove,coordinates:e})},onEnd:l(c.DragEnd),onCancel:l(c.DragCancel)});function l(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=et.current,o=null;if(t&&i){let{cancelDrop:l}=U.current;o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===c.DragEnd&&"function"==typeof l&&await Promise.resolve(l(o))&&(e=c.DragCancel)}B.current=null,(0,f5.unstable_batchedUpdates)(()=>{w({type:e}),E(v.Uninitialized),eC(null),L(null),V(null),ew.current=null;let t=e===c.DragEnd?"onDragEnd":"onDragCancel";if(o){let e=U.current[t];null==e||e(o),_({type:t,event:o})}})}}ew.current=o},[A]),ej=(0,D.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,a=A.get(r);null!==B.current||!a||i.dndKit||i.defaultPrevented||!0===e(n,t.options,{active:a})&&(i.dndKit={capturedBy:t.sensor},B.current=r,e_(n,t))},[A,e_]),eS=(0,D.useMemo)(()=>f.reduce((e,t)=>{let{sensor:n}=t;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:ej(e.handler,t)}))]},[]),[f,ej]);(0,D.useEffect)(()=>{if(!f3)return;let e=f.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},f.map(e=>{let{sensor:t}=e;return t})),hr(()=>{Q&&S===v.Initializing&&E(v.Initialized)},[Q,S]),(0,D.useEffect)(()=>{let{onDragMove:e}=U.current,{active:t,activatorEvent:n,collisions:r,over:i}=et.current;if(!t||!n)return;let a={active:t,activatorEvent:n,collisions:r,delta:{x:eg.x,y:eg.y},over:i};(0,f5.unstable_batchedUpdates)(()=>{null==e||e(a),_({type:"onDragMove",event:a})})},[eg.x,eg.y]),(0,D.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=et.current;if(!e||null==B.current||!t||!i)return;let{onDragOver:a}=U.current,o=r.get(eb),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,s={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:l};(0,f5.unstable_batchedUpdates)(()=>{eC(l),null==a||a(s),_({type:"onDragOver",event:s})})},[eb]),hr(()=>{et.current={activatorEvent:z,active:R,activeNode:$,collisionRect:ey,collisions:ev,droppableRects:Y,draggableNodes:A,draggingNode:ei,draggingNodeRect:ea,droppableContainers:P,over:ex,scrollableAncestors:ec,scrollAdjustedTranslate:eg},F.current={initial:ea,translated:ey}},[R,$,ev,ey,A,ei,ea,Y,P,ex,ec,eg]),function(e){let{acceleration:t,activator:n=h.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:l=m.TreeOrder,pointerCoordinates:s,scrollableAncestors:c,scrollableAncestorRects:d,delta:p,threshold:f}=e,g=function(e){let{delta:t,disabled:n}=e,r=hc(t);return hl(e=>{if(n||!r||!e)return ma;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[u.Backward]:e.x[u.Backward]||-1===i.x,[u.Forward]:e.x[u.Forward]||1===i.x},y:{[u.Backward]:e.y[u.Backward]||-1===i.y,[u.Forward]:e.y[u.Forward]||1===i.y}}},[n,t,r])}({delta:p,disabled:!a}),[y,v]=ha(),b=(0,D.useRef)({x:0,y:0}),x=(0,D.useRef)({x:0,y:0}),C=(0,D.useMemo)(()=>{switch(n){case h.Pointer:return s?{top:s.y,bottom:s.y,left:s.x,right:s.x}:null;case h.DraggableRect:return i}},[n,i,s]),k=(0,D.useRef)(null),w=(0,D.useCallback)(()=>{let e=k.current;if(!e)return;let t=b.current.x*x.current.x,n=b.current.y*x.current.y;e.scrollBy(t,n)},[]),_=(0,D.useMemo)(()=>l===m.TreeOrder?[...c].reverse():c,[l,c]);(0,D.useEffect)(()=>{if(!a||!c.length||!C)return void v();for(let e of _){if((null==r?void 0:r(e))===!1)continue;let n=d[c.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=function(e,t,n,r,i){let{top:a,left:o,right:l,bottom:s}=n;void 0===r&&(r=10),void 0===i&&(i=hQ);let{isTop:c,isBottom:d,isLeft:p,isRight:f}=hJ(e),h={x:0,y:0},m={x:0,y:0},g={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+g.height?(h.y=u.Backward,m.y=r*Math.abs((t.top+g.height-a)/g.height)):!d&&s>=t.bottom-g.height&&(h.y=u.Forward,m.y=r*Math.abs((t.bottom-g.height-s)/g.height)),!f&&l>=t.right-g.width?(h.x=u.Forward,m.x=r*Math.abs((t.right-g.width-l)/g.width)):!p&&o<=t.left+g.width&&(h.x=u.Backward,m.x=r*Math.abs((t.left+g.width-o)/g.width)),{direction:h,speed:m}}(e,n,C,t,f);for(let e of["x","y"])g[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){v(),k.current=e,y(w,o),b.current=a,x.current=i;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,w,r,v,a,o,JSON.stringify(C),JSON.stringify(g),y,c,_,d,JSON.stringify(f)])}({...X,delta:O,draggingRect:ey,pointerCoordinates:ep,scrollableAncestors:ec,scrollableAncestorRects:eu});let eE=(0,D.useMemo)(()=>({active:R,activeNode:$,activeNodeRect:Q,activatorEvent:z,collisions:ev,containerNodeRect:ee,dragOverlay:er,draggableNodes:A,droppableContainers:P,droppableRects:Y,over:ex,measureDroppableContainers:K,scrollableAncestors:ec,scrollableAncestorRects:eu,measuringConfiguration:W,measuringScheduled:G,windowRect:es}),[R,$,Q,z,ev,ee,er,A,P,Y,ex,K,ec,eu,W,G,es]),eT=(0,D.useMemo)(()=>({activatorEvent:z,activators:eS,active:R,activeNodeRect:Q,ariaDescribedById:{draggable:H},dispatch:w,draggableNodes:A,over:ex,measureDroppableContainers:K}),[z,eS,R,Q,w,H,A,ex,K]);return D.default.createElement(hw.Provider,{value:j},D.default.createElement(mC.Provider,{value:eT},D.default.createElement(mk.Provider,{value:eE},D.default.createElement(mS.Provider,{value:ek},p)),D.default.createElement(mj,{disabled:(null==s?void 0:s.restoreFocus)===!1})),D.default.createElement(hS,{...s,hiddenTextDescribedById:H}))}),mT=(0,D.createContext)(null),mD="button";function mI(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,a=hd("Draggable"),{activators:o,activatorEvent:l,active:s,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:p}=(0,D.useContext)(mC),{role:f=mD,roleDescription:h="draggable",tabIndex:m=0}=null!=i?i:{},g=(null==s?void 0:s.id)===t,y=(0,D.useContext)(g?mS:mT),[v,b]=hs(),[x,C]=hs(),k=(0,D.useMemo)(()=>o.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[o,t]),w=ho(n);return hr(()=>(d.set(t,{id:t,key:a,node:v,activatorNode:x,data:w}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:s,activatorEvent:l,activeNodeRect:c,attributes:(0,D.useMemo)(()=>({role:f,tabIndex:m,"aria-disabled":r,"aria-pressed":!!g&&f===mD||void 0,"aria-roledescription":h,"aria-describedby":u.draggable}),[r,f,m,g,h,u.draggable]),isDragging:g,listeners:r?void 0:k,node:v,over:p,setNodeRef:b,setActivatorNodeRef:C,transform:y}}function mA(){return(0,D.useContext)(mk)}let mO={timeout:25};function mP(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e,a=hd("Droppable"),{active:o,dispatch:l,over:s,measureDroppableContainers:u}=(0,D.useContext)(mC),d=(0,D.useRef)({disabled:n}),p=(0,D.useRef)(!1),f=(0,D.useRef)(null),h=(0,D.useRef)(null),{disabled:m,updateMeasurementsFor:g,timeout:y}={...mO,...i},v=ho(null!=g?g:r),b=ms({callback:(0,D.useCallback)(()=>{if(!p.current){p.current=!0;return}null!=h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},y)},[y]),disabled:m||!o}),[x,C]=hs((0,D.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),p.current=!1),e&&b.observe(e))},[b])),k=ho(t);return(0,D.useEffect)(()=>{b&&x.current&&(b.disconnect(),p.current=!1,b.observe(x.current))},[x,b]),(0,D.useEffect)(()=>(l({type:c.RegisterDroppable,element:{id:r,key:a,disabled:n,node:x,rect:f,data:k}}),()=>l({type:c.UnregisterDroppable,key:a,id:r})),[r]),(0,D.useEffect)(()=>{n!==d.current.disabled&&(l({type:c.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,l]),{active:o,rect:f,isOver:(null==s?void 0:s.id)===r,node:x,over:s,setNodeRef:C}}let mM={position:"fixed",touchAction:"none"},mF=e=>hm(e)?"transform 250ms ease":void 0;n={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:r}=e,i={},{styles:a,className:o}=n;if(null!=a&&a.active)for(let[e,n]of Object.entries(a.active))void 0!==n&&(i[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,n));if(null!=a&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=o&&o.active&&t.node.classList.add(o.active),null!=o&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(let[e,n]of Object.entries(i))t.node.style.setProperty(e,n);null!=o&&o.active&&t.node.classList.remove(o.active)}};e.s(["restrictToHorizontalAxis",()=>mR,"restrictToVerticalAxis",()=>mB],786350);let mR=e=>{let{transform:t}=e;return{...t,y:0}},mB=e=>{let{transform:t}=e;return{...t,x:0}};function mN(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function mL(e){return null!==e&&e>=0}e.s(["SortableContext",()=>mK,"horizontalListSortingStrategy",()=>mV,"sortableKeyboardCoordinates",()=>m5,"useSortable",()=>m1,"verticalListSortingStrategy",()=>mq],76590);let mz={scaleX:1,scaleY:1},mV=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:a,index:o}=e,l=null!=(t=n[i])?t:r;if(!l)return null;let s=function(e,t,n){let r=e[t],i=e[t-1],a=e[t+1];return r&&(i||a)?n<t?i?r.left-(i.left+i.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(i.left+i.width):0}(n,o,i);if(o===i){let e=n[a];return e?{x:i<a?e.left+e.width-(l.left+l.width):e.left-l.left,y:0,...mz}:null}return o>i&&o<=a?{x:-l.width-s,y:0,...mz}:o<i&&o>=a?{x:l.width+s,y:0,...mz}:{x:0,y:0,...mz}},mU=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,a=mN(t,r,n),o=t[i],l=a[i];return l&&o?{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}:null},mH={scaleX:1,scaleY:1},mq=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e,l=null!=(t=a[n])?t:r;if(!l)return null;if(i===n){let e=a[o];return e?{x:0,y:n<o?e.top+e.height-(l.top+l.height):e.top-l.top,...mH}:null}let s=function(e,t,n){let r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}(a,i,n);return i>n&&i<=o?{x:0,y:-l.height-s,...mH}:i<n&&i>=o?{x:0,y:l.height+s,...mH}:{x:0,y:0,...mH}},mW="Sortable",mY=D.default.createContext({activeIndex:-1,containerId:mW,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mU,disabled:{draggable:!1,droppable:!1}});function mK(e){let{children:t,id:n,items:r,strategy:i=mU,disabled:a=!1}=e,{active:o,dragOverlay:l,droppableRects:s,over:c,measureDroppableContainers:u}=mA(),d=hd(mW,n),p=null!==l.rect,f=(0,D.useMemo)(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),h=null!=o,m=o?f.indexOf(o.id):-1,g=c?f.indexOf(c.id):-1,y=(0,D.useRef)(f),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,y.current),b=-1!==g&&-1===m||v,x="boolean"==typeof a?{draggable:a,droppable:a}:a;hr(()=>{v&&h&&u(f)},[v,f,h,u]),(0,D.useEffect)(()=>{y.current=f},[f]);let C=(0,D.useMemo)(()=>({activeIndex:m,containerId:d,disabled:x,disableTransforms:b,items:f,overIndex:g,useDragOverlay:p,sortedRects:f.reduce((e,t,n)=>{let r=s.get(t);return r&&(e[n]=r),e},Array(f.length)),strategy:i}),[m,d,x.draggable,x.droppable,b,f,g,s,p,i]);return D.default.createElement(mY.Provider,{value:C},t)}let mG=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return mN(n,r,i).indexOf(t)},m$=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:s,transition:c}=e;return!!c&&!!r&&(l===a||i!==o)&&(!!n||o!==i&&t===s)},mZ={duration:200,easing:"ease"},mX="transform",mJ=hy.Transition.toString({property:mX,duration:0,easing:"linear"}),mQ={roleDescription:"sortable"};function m1(e){var t,n,r,i;let{animateLayoutChanges:a=m$,attributes:o,disabled:l,data:s,getNewIndex:c=mG,id:u,strategy:d,resizeObserverConfig:p,transition:f=mZ}=e,{items:h,containerId:m,activeIndex:g,disabled:y,disableTransforms:v,sortedRects:b,overIndex:x,useDragOverlay:C,strategy:k}=(0,D.useContext)(mY),w=(t=l,n=y,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(r=null==t?void 0:t.draggable)?r:n.draggable,droppable:null!=(i=null==t?void 0:t.droppable)?i:n.droppable}),_=h.indexOf(u),j=(0,D.useMemo)(()=>({sortable:{containerId:m,index:_,items:h},...s}),[m,s,_,h]),S=(0,D.useMemo)(()=>h.slice(h.indexOf(u)),[h,u]),{rect:E,node:T,isOver:I,setNodeRef:A}=mP({id:u,data:j,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...p}}),{active:O,activatorEvent:P,activeNodeRect:M,attributes:F,setNodeRef:R,listeners:B,isDragging:N,over:L,setActivatorNodeRef:z,transform:V}=mI({id:u,data:j,attributes:{...mQ,...o},disabled:w.draggable}),U=f7(A,R),H=!!O,q=H&&!v&&mL(g)&&mL(x),W=!C&&N,Y=W&&q?V:null,K=q?null!=Y?Y:(null!=d?d:k)({rects:b,activeNodeRect:M,activeIndex:g,overIndex:x,index:_}):null,G=mL(g)&&mL(x)?c({id:u,items:h,activeIndex:g,overIndex:x}):_,$=null==O?void 0:O.id,Z=(0,D.useRef)({activeId:$,items:h,newIndex:G,containerId:m}),X=h!==Z.current.items,J=a({active:O,containerId:m,isDragging:N,isSorting:H,id:u,index:_,items:h,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:f,wasDragging:null!=Z.current.activeId}),Q=function(e){let{disabled:t,index:n,node:r,rect:i}=e,[a,o]=(0,D.useState)(null),l=(0,D.useRef)(n);return hr(()=>{if(!t&&n!==l.current&&r.current){let e=i.current;if(e){let t=hH(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==l.current&&(l.current=n)},[t,n,r,i]),(0,D.useEffect)(()=>{a&&o(null)},[a]),a}({disabled:!J,index:_,node:T,rect:E});return(0,D.useEffect)(()=>{H&&Z.current.newIndex!==G&&(Z.current.newIndex=G),m!==Z.current.containerId&&(Z.current.containerId=m),h!==Z.current.items&&(Z.current.items=h)},[H,G,m,h]),(0,D.useEffect)(()=>{if($===Z.current.activeId)return;if($&&!Z.current.activeId){Z.current.activeId=$;return}let e=setTimeout(()=>{Z.current.activeId=$},50);return()=>clearTimeout(e)},[$]),{active:O,activeIndex:g,attributes:F,data:j,rect:E,index:_,newIndex:G,items:h,isOver:I,isSorting:H,isDragging:N,listeners:B,node:T,overIndex:x,over:L,setNodeRef:U,setActivatorNodeRef:z,setDroppableNodeRef:A,setDraggableNodeRef:R,transform:null!=Q?Q:K,transition:Q||X&&Z.current.newIndex===_?mJ:(!W||hm(P))&&f&&(H||J)?hy.Transition.toString({...f,property:mX}):void 0}}function m2(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let m0=[p.Down,p.Right,p.Up,p.Left],m5=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(m0.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let a=i.get(n.id);if(a)switch(e.code){case p.Down:r.top<a.top&&t.push(n);break;case p.Up:r.top>a.top&&t.push(n);break;case p.Left:r.left>a.left&&t.push(n);break;case p.Right:r.left<a.left&&t.push(n)}});let s=hN({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null}),c=hF(s,"id");if(c===(null==o?void 0:o.id)&&s.length>1&&(c=s[1].id),null!=c){let e=a.get(n.id),t=a.get(c),o=t?i.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&o&&e&&t){let n=hW(s).some((e,t)=>l[t]!==e),i=m7(e,t),a=function(e,t){return!!m2(e)&&!!m2(t)&&!!m7(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},u={x:o.left,y:o.top};return c.x&&c.y?u:hh(u,c)}}}};function m7(e,t){return!!m2(e)&&!!m2(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function m3(e){return"span"===e._type&&"text"in e&&"string"==typeof e.text&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(e=>"string"==typeof e))}function m8(e){return"string"==typeof e._type&&"@"!==e._type[0]&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(e=>"string"==typeof e._key))&&"children"in e&&Array.isArray(e.children)&&e.children.every(e=>"object"==typeof e&&"_type"in e)}function m4(e){return m8(e)&&"listItem"in e&&"string"==typeof e.listItem&&(typeof e.level>"u"||"number"==typeof e.level)}function m6(e){return"@list"===e._type}function m9(e){return"@span"===e._type}function ge(e){return"@text"===e._type}e.s(["PortableText",()=>gb],236726),e.s(["LIST_NEST_MODE_HTML",()=>gd,"buildMarksTree",()=>gr,"isPortableTextBlock",()=>m8,"isPortableTextListItemBlock",()=>m4,"isPortableTextToolkitList",()=>m6,"isPortableTextToolkitSpan",()=>m9,"isPortableTextToolkitTextNode",()=>ge,"nestLists",()=>gi,"spanToPlainText",()=>gl,"toPlainText",()=>gu],908035);let gt=["strong","em","code","underline","strike-through"];function gn(e,t,n){if(!m3(e)||!e.marks||!e.marks.length)return[];let r=e.marks.slice(),i={};return r.forEach(e=>{i[e]=1;for(let r=t+1;r<n.length;r++){let t=n[r];if(t&&m3(t)&&Array.isArray(t.marks)&&-1!==t.marks.indexOf(e))i[e]++;else break}}),r.sort((e,t)=>(function(e,t,n){let r=e[t],i=e[n];if(r!==i)return i-r;let a=gt.indexOf(t),o=gt.indexOf(n);return a!==o?a-o:t.localeCompare(n)})(i,e,t))}function gr(e){var t,n;let{children:r}=e,i=null!=(n=e.markDefs)?n:[];if(!r||!r.length)return[];let a=r.map(gn),o={_type:"@span",children:[],markType:"<unknown>"},l=[o];for(let e=0;e<r.length;e++){let n=r[e];if(!n)continue;let o=a[e]||[],s=1;if(l.length>1)for(;s<l.length;s++){let e=(null==(t=l[s])?void 0:t.markKey)||"",n=o.indexOf(e);if(-1===n)break;o.splice(n,1)}let c=(l=l.slice(0,s))[l.length-1];if(c){for(let e of o){let t=null==i?void 0:i.find(t=>t._key===e),r=t?t._type:e,a={_type:"@span",_key:n._key,children:[],markDef:t,markType:r,markKey:e};c.children.push(a),l.push(a),c=a}if(m3(n)){let e=n.text.split("\n");for(let t=e.length;t-- >1;)e.splice(t,0,"\n");c.children=c.children.concat(e.map(e=>({_type:"@text",text:e})))}else c.children=c.children.concat(n)}}return o.children}function gi(e,t){let n,r=[];for(let o=0;o<e.length;o++){let l=e[o];if(l){var i,a;if(!m4(l)){r.push(l),n=void 0;continue}if(!n){n=ga(l,o,t),r.push(n);continue}if(i=l,a=n,(i.level||1)===a.level&&i.listItem===a.listItem){n.children.push(l);continue}if((l.level||1)>n.level){let e=ga(l,o,t);if("html"===t){let t=n.children[n.children.length-1],r={...t,children:[...t.children,e]};n.children[n.children.length-1]=r}else n.children.push(e);n=e;continue}if((l.level||1)<n.level){let e=r[r.length-1],i=e&&go(e,l);if(i){(n=i).children.push(l);continue}n=ga(l,o,t),r.push(n);continue}if(l.listItem!==n.listItem){let e=r[r.length-1],i=e&&go(e,{level:l.level||1});if(i&&i.listItem===l.listItem){(n=i).children.push(l);continue}n=ga(l,o,t),r.push(n);continue}console.warn("Unknown state encountered for block",l),r.push(l)}}return r}function ga(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function go(e,t){let n=t.level||1,r=t.listItem||"normal",i="string"==typeof t.listItem;if(m6(e)&&(e.level||1)===n&&i&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;let a=e.children[e.children.length-1];return a&&!m3(a)?go(a,t):void 0}function gl(e){let t="";return e.children.forEach(e=>{ge(e)?t+=e.text:m9(e)&&(t+=gl(e))}),t}let gs=/^\s/,gc=/\s$/;function gu(e){let t=Array.isArray(e)?e:[e],n="";return t.forEach((e,r)=>{if(!m8(e))return;let i=!1;e.children.forEach(e=>{m3(e)?(n+=i&&n&&!gc.test(n)&&!gs.test(e.text)?" ":"",n+=e.text,i=!1):i=!0}),r!==t.length-1&&(n+="\n\n")}),n}let gd="html",gp={textDecoration:"underline"},gf=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),gh=e=>gf('block type "'.concat(e,'"'),"types");function gm(e){console.warn(e)}let gg={display:"none"},gy={types:{},block:{normal:e=>{let{children:t}=e;return(0,s_.jsx)("p",{children:t})},blockquote:e=>{let{children:t}=e;return(0,s_.jsx)("blockquote",{children:t})},h1:e=>{let{children:t}=e;return(0,s_.jsx)("h1",{children:t})},h2:e=>{let{children:t}=e;return(0,s_.jsx)("h2",{children:t})},h3:e=>{let{children:t}=e;return(0,s_.jsx)("h3",{children:t})},h4:e=>{let{children:t}=e;return(0,s_.jsx)("h4",{children:t})},h5:e=>{let{children:t}=e;return(0,s_.jsx)("h5",{children:t})},h6:e=>{let{children:t}=e;return(0,s_.jsx)("h6",{children:t})}},marks:{em:e=>{let{children:t}=e;return(0,s_.jsx)("em",{children:t})},strong:e=>{let{children:t}=e;return(0,s_.jsx)("strong",{children:t})},code:e=>{let{children:t}=e;return(0,s_.jsx)("code",{children:t})},underline:e=>{let{children:t}=e;return(0,s_.jsx)("span",{style:gp,children:t})},"strike-through":e=>{let{children:t}=e;return(0,s_.jsx)("del",{children:t})},link:e=>{let{children:t,value:n}=e;return(0,s_.jsx)("a",{href:null==n?void 0:n.href,children:t})}},list:{number:e=>{let{children:t}=e;return(0,s_.jsx)("ol",{children:t})},bullet:e=>{let{children:t}=e;return(0,s_.jsx)("ul",{children:t})}},listItem:e=>{let{children:t}=e;return(0,s_.jsx)("li",{children:t})},hardBreak:()=>(0,s_.jsx)("br",{}),unknownType:e=>{let{value:t,isInline:n}=e,r=gh(t._type);return n?(0,s_.jsx)("span",{style:gg,children:r}):(0,s_.jsx)("div",{style:gg,children:r})},unknownMark:e=>{let{markType:t,children:n}=e;return(0,s_.jsx)("span",{className:"unknown__pt__mark__".concat(t),children:n})},unknownList:e=>{let{children:t}=e;return(0,s_.jsx)("ul",{children:t})},unknownListItem:e=>{let{children:t}=e;return(0,s_.jsx)("li",{children:t})},unknownBlockStyle:e=>{let{children:t}=e;return(0,s_.jsx)("p",{children:t})}};function gv(e,t,n){let r=t[n],i=e[n];return"function"==typeof r||r&&"function"==typeof i?r:r?{...i,...r}:i}function gb(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:i=gm}=e,a=i||gk,o=gi(Array.isArray(t)?t:[t],r||gd),l=(0,D.useMemo)(()=>n?function(e,t){let{block:n,list:r,listItem:i,marks:a,types:o,...l}=t;return{...e,block:gv(e,t,"block"),list:gv(e,t,"list"),listItem:gv(e,t,"listItem"),marks:gv(e,t,"marks"),types:gv(e,t,"types"),...l}}(gy,n):gy,[n]),s=(0,D.useMemo)(()=>gx(l,a),[l,a]),c=o.map((e,t)=>s({node:e,index:t,isInline:!1,renderNode:s}));return(0,s_.jsx)(s_.Fragment,{children:c})}let gx=(e,t)=>function n(r){let{node:i,index:a,isInline:o}=r,l=i._key||"node-".concat(a);return m6(i)?function(r,i,a){let o=r.children.map((e,t)=>n({node:e._key?e:{...e,_key:"li-".concat(i,"-").concat(t)},index:t,isInline:!1})),l=e.list,s=("function"==typeof l?l:l[r.listItem])||e.unknownList;if(s===e.unknownList){let e=r.listItem||"bullet";t(gf('list style "'.concat(e,'"'),"list"),{nodeType:"listStyle",type:e})}return(0,s_.jsx)(s,{value:r,index:i,isInline:!1,renderNode:n,children:o},a)}(i,a,l):m4(i)?function(r,i,a){let o=gC({node:r,index:i,isInline:!1,renderNode:n}),l=e.listItem,s=("function"==typeof l?l:l[r.listItem])||e.unknownListItem;if(s===e.unknownListItem){let e=r.listItem||"bullet";t(gf('list item style "'.concat(e,'"'),"listItem"),{type:e,nodeType:"listItemStyle"})}let c=o.children;if(r.style&&"normal"!==r.style){let{listItem:e,...t}=r;c=n({node:t,index:i,isInline:!1})}return(0,s_.jsx)(s,{value:r,index:i,isInline:!1,renderNode:n,children:c},a)}(i,a,l):m9(i)?function(r,i,a){let{markDef:o,markType:l,markKey:s}=r,c=e.marks[l]||e.unknownMark,u=r.children.map((e,t)=>n({node:e,index:t,isInline:!0}));return c===e.unknownMark&&t(gf('mark type "'.concat(l,'"'),"marks"),{nodeType:"mark",type:l}),(0,s_.jsx)(c,{text:gl(r),value:o,markType:l,markKey:s,renderNode:n,children:u},a)}(i,0,l):i._type in e.types?function(t,r,i,a){let o=e.types[t._type];return o?(0,s_.jsx)(o,{value:t,isInline:a,index:r,renderNode:n},i):null}(i,a,l,o):m8(i)?function(r,i,a,o){let{_key:l,...s}=gC({node:r,index:i,isInline:o,renderNode:n}),c=s.node.style||"normal",u=("function"==typeof e.block?e.block:e.block[c])||e.unknownBlockStyle;return u===e.unknownBlockStyle&&t(gf('block style "'.concat(c,'"'),"block"),{nodeType:"blockStyle",type:c}),(0,s_.jsx)(u,{...s,value:s.node,renderNode:n},a)}(i,a,l,o):ge(i)?function(t,n){if("\n"===t.text){let t=e.hardBreak;return t?(0,s_.jsx)(t,{},n):"\n"}return t.text}(i,l):function(r,i,a,o){t(gh(r._type),{nodeType:"block",type:r._type});let l=e.unknownType;return(0,s_.jsx)(l,{value:r,isInline:o,index:i,renderNode:n},a)}(i,a,l,o)};function gC(e){let{node:t,index:n,isInline:r,renderNode:i}=e,a=gr(t).map((e,t)=>i({node:e,isInline:!0,index:t,renderNode:i}));return{_key:t._key||"block-".concat(n),children:a,index:n,isInline:r,node:t}}function gk(){}e.s(["EditorContext",()=>g_,"useEditor",()=>gj],869821);let gw="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof self?self:e.g,g_=function(e,t){var n;let r=Symbol.for(e);return typeof document>"u"?(0,D.createContext)(null):(gw[r]=null!=(n=gw[r])?n:(0,D.createContext)(null),gw[r])}("@portabletext/editor/context/editor",null);function gj(){let e=D.default.useContext(g_);if(!e)throw Error("No Editor set. Use EditorProvider to set one.");return e}},752822,(e,t,n)=>{"use strict";var r=e.r(271645),i=e.r(802239),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,u=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=l(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var f=o(e,(d=c(function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return l=t}return l=e}if(t=l,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,l=n)}var o,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]))[0],d[1]);return s(function(){p.hasValue=!0,p.value=f},[f]),u(f),f}},430224,(e,t,n)=>{"use strict";t.exports=e.r(752822)},695713,e=>{"use strict";e.s(["useActorRef",()=>l,"useSelector",()=>c],695713);var t=e.i(271645),n=t.useLayoutEffect,r=e.i(697165),r=r,i=e.i(109658),a=e.i(430224);e.i(802239);let o=(e,t)=>{t(e);let n=e.getSnapshot().children;n&&Object.values(n).forEach(e=>{o(e,t)})};function l(e){for(var a=arguments.length,l=Array(a>1?a-1:0),s=1;s<a;s++)l[s-1]=arguments[s];let[c,u]=l,d=function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];let[l]=a,[[s,c],u]=(0,t.useState)(()=>{let t=(0,i.createActor)(e,l);return[e.config,t]});if(e.config!==s){let t=(0,i.createActor)(e,{...l,snapshot:c.getPersistedSnapshot({__unsafeAllowInlineActors:!0})});u([e.config,t]),c=t}return n(()=>{c.logic.implementations=e.implementations}),c}(e,c);return(0,t.useEffect)(()=>{if(!u)return;let e=d.subscribe((0,r.e)(u));return()=>{e.unsubscribe()}},[u]),(0,t.useEffect)(()=>(d.start(),()=>{var e,t;let n=[];o(d,e=>{n.push([e,e.getSnapshot()]),e.observers=new Set});let r=null==(e=(t=d.system).getSnapshot)?void 0:e.call(t);d.stop(),d.system._snapshot=r,n.forEach(e=>{let[t,n]=e;t._processingStatus=0,t._snapshot=n})}),[d]),d}function s(e,t){return e===t}function c(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=(0,t.useCallback)(t=>{if(!e)return()=>{};let{unsubscribe:n}=e.subscribe(t);return n},[e]),o=(0,t.useCallback)(()=>null==e?void 0:e.getSnapshot(),[e]);return(0,a.useSyncExternalStoreWithSelector)(i,o,o,n,r)}},105488,(e,t,n)=>{"use strict";t.exports=function(e){return(e=String(e||""),a.test(e))?"rtl":o.test(e)?"ltr":"neutral"};var r="֑-߿יִ-﷽ﹰ-ﻼ",i="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",a=RegExp("^[^"+i+"]*["+r+"]"),o=RegExp("^[^"+r+"]*["+i+"]")},749702,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),i={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},l=1;l<20;l++)o["f"+l]=111+l;function s(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return c(e,t)}),i=function(e){return r.some(function(t){return u(t,e)})};return null==n?i:i(n)}function c(e,t){var n=t&&t.byKey,r={},l=(e=e.replace("++","+add")).split("+"),s=l.length;for(var c in i)r[i[c]]=!1;var u=!0,f=!1,h=void 0;try{for(var m,g=l[Symbol.iterator]();!(u=(m=g.next()).done);u=!0){var y=m.value,v=y.endsWith("?")&&y.length>1;v&&(y=y.slice(0,-1));var b=p(y),x=i[b];if(y.length>1&&!x&&!a[y]&&!o[b])throw TypeError('Unknown modifier: "'+y+'"');1!==s&&x||(n?r.key=b:r.which=d(y)),x&&(r[x]=!v||null)}}catch(e){f=!0,h=e}finally{try{!u&&g.return&&g.return()}finally{if(f)throw h}}return r}function u(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&(null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r)return!1}return!0}function d(e){return o[e=p(e)]||e.toUpperCase().charCodeAt(0)}function p(e){return a[e=e.toLowerCase()]||e}n.default=s,n.isHotkey=s,n.isCodeHotkey=function(e,t){return s(e,t)},n.isKeyHotkey=function(e,t){return s(e,{byKey:!0},t)},n.parseHotkey=c,n.compareHotkey=u,n.toKeyCode=d,n.toKeyName=p},120043,(e,t,n)=>{var r,i=1/0,a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l="\ud800-\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe23",c="\\u20d0-\\u20f0",u="\\u2700-\\u27bf",d="a-z\\xdf-\\xf6\\xf8-\\xff",p="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\ufe0e\\ufe0f",h="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m="['’]",g="["+h+"]",y="["+s+c+"]",v="["+d+"]",b="[^"+l+h+"\\d+"+u+d+p+"]",x="\ud83c[\udffb-\udfff]",C="[^"+l+"]",k="(?:\ud83c[\udde6-\uddff]){2}",w="[\ud800-\udbff][\udc00-\udfff]",_="["+p+"]",j="\\u200d",S="(?:"+v+"|"+b+")",E="(?:"+_+"|"+b+")",T="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",D="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",I="(?:"+y+"|"+x+")?",A="["+f+"]?",O="(?:"+j+"(?:"+[C,k,w].join("|")+")"+A+I+")*",P=A+I+O,M="(?:"+["["+u+"]",k,w].join("|")+")"+P,F="(?:"+[C+y+"?",y,k,w,"["+l+"]"].join("|")+")",R=RegExp(m,"g"),B=RegExp(y,"g"),N=RegExp(x+"(?="+x+")|"+F+P,"g"),L=RegExp([_+"?"+v+"+"+T+"(?="+[g,_,"$"].join("|")+")",E+"+"+D+"(?="+[g,_+S,"$"].join("|")+")",_+"?"+S+"+"+T,_+"+"+D,"\\d+",M].join("|"),"g"),z=RegExp("["+j+l+s+c+f+"]"),V=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U=e.g&&e.g.Object===Object&&e.g,H="object"==typeof self&&self&&self.Object===Object&&self,q=U||H||Function("return this")(),W=function(e){return function(t){return null==e?void 0:e[t]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"}),Y=Object.prototype.toString,K=q.Symbol,G=K?K.prototype:void 0,$=G?G.toString:void 0;function Z(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||!!e&&"object"==typeof e&&"[object Symbol]"==Y.call(e)}(e))return $?$.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(e)}var X=(r=function(e,t,n){return e+(n?" ":"")+J(t)},function(e){var t;return function(e,t,n,r){for(var i=-1,a=e?e.length:0;++i<a;)n=t(n,e[i],i,e);return n}(function(e,t,n){if(e=Z(e),void 0===t){var r;return(r=e,V.test(r))?e.match(L)||[]:e.match(a)||[]}return e.match(t)||[]}(((t=Z(t=e))&&t.replace(o,W).replace(B,"")).replace(R,"")),r,"")}),J=function(e){var t,n,r,i=(t=e=Z(e),z.test(t))?function(e){return z.test(e)?e.match(N)||[]:e.split("")}(e):void 0,a=i?i[0]:e.charAt(0),o=i?(r=i.length,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(i,1,n=void 0===n?r:n)).join(""):e.slice(1);return a.toUpperCase()+o};t.exports=X},382560,(e,t,n)=>{var r=e.r(773759),i=1/0;t.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},304653,(e,t,n)=>{var r=e.r(382560);t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},426965,(e,t,n)=>{var r=e.r(356445),i=e.r(666305),a=e.r(304653),o=Math.max;t.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return -1;var s=null==n?0:a(n);return s<0&&(s=o(l+s,0)),r(e,i(t,3),s)}},12989,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,4)}},973327,(e,t,n)=>{var r=e.r(674548);t.exports=e.r(895261)(function(e,t,n){r(e,n,t)})},760719,(e,t,n)=>{"use strict";class r{_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(let[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(let t of this.oldCache.keys())!this.cache.has(t)&&e++;return Math.min(this._size+e,this.maxSize)}constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}}t.exports=r},641015,(e,t,n)=>{var r=e.r(361884);t.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],l=t(o);if(null!=l&&(void 0===s?l==l&&!r(l):n(l,s)))var s=l,c=o}return c}},580957,(e,t,n)=>{t.exports=function(e,t){return e>t}},86966,(e,t,n)=>{var r=e.r(641015),i=e.r(580957),a=e.r(653336);t.exports=function(e){return e&&e.length?r(e,a,i):void 0}},298128,(e,t,n)=>{t.exports=function(e,t){return e<t}},37544,(e,t,n)=>{var r=e.r(641015),i=e.r(298128),a=e.r(653336);t.exports=function(e){return e&&e.length?r(e,a,i):void 0}},483495,(e,t,n)=>{var r=e.r(395059),i=e.r(170237);t.exports=function(e){return r(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,l=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,l&&i(n[0],n[1],l)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t})}},834280,(e,t,n)=>{var r=e.r(372351),i=e.r(483495),a=e.r(689695);t.exports=i(function(e,t,n,i){r(t,a(t),e,i)})},659125,(e,t,n)=>{var r=e.r(377684),i=e.r(877289),a=e.r(101320);t.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}},473375,(e,t,n)=>{var r=e.r(987160),i=e.r(395059),a=e.r(659125);t.exports=i(function(e,t){try{return r(e,void 0,t)}catch(e){return a(e)?e:Error(e)}})},518110,(e,t,n)=>{var r=e.r(892708);t.exports=function(e,t){return r(t,function(t){return e[t]})}},276264,(e,t,n)=>{var r=e.r(25172),i=Object.prototype,a=i.hasOwnProperty;t.exports=function(e,t,n,o){return void 0===e||r(e,i[n])&&!a.call(o,n)?t:e}},221610,(e,t,n)=>{var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};t.exports=function(e){return"\\"+r[e]}},66380,(e,t,n)=>{t.exports=/<%=([\s\S]+?)%>/g},320910,(e,t,n)=>{t.exports=e.r(231081)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})},688690,(e,t,n)=>{var r=e.r(320910),i=e.r(702922),a=/[&<>"']/g,o=RegExp(a.source);t.exports=function(e){return(e=i(e))&&o.test(e)?e.replace(a,r):e}},488541,(e,t,n)=>{t.exports=/<%-([\s\S]+?)%>/g},340694,(e,t,n)=>{t.exports=/<%([\s\S]+?)%>/g},288681,(e,t,n)=>{var r=e.r(688690);t.exports={escape:e.r(488541),evaluate:e.r(340694),interpolate:e.r(66380),variable:"",imports:{_:{escape:r}}}},73319,(e,t,n)=>{var r=e.r(834280),i=e.r(473375),a=e.r(518110),o=e.r(276264),l=e.r(221610),s=e.r(659125),c=e.r(170237),u=e.r(33679),d=e.r(66380),p=e.r(288681),f=e.r(702922),h=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/[()=,{}\[\]\/\s]/,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/($^)/,x=/['\n\r\u2028\u2029\\]/g,C=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var k=p.imports._.templateSettings||p;n&&c(e,t,n)&&(t=void 0),e=f(e),t=r({},t,k,o);var w,_,j=r({},t.imports,k.imports,o),S=u(j),E=a(j,S),T=0,D=t.interpolate||b,I="__p += '",A=RegExp((t.escape||b).source+"|"+D.source+"|"+(D===d?v:b).source+"|"+(t.evaluate||b).source+"|$","g"),O=C.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(A,function(t,n,r,i,a,o){return r||(r=i),I+=e.slice(T,o).replace(x,l),n&&(w=!0,I+="' +\n__e("+n+") +\n'"),a&&(_=!0,I+="';\n"+a+";\n__p += '"),r&&(I+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),T=o+t.length,t}),I+="';\n";var P=C.call(t,"variable")&&t.variable;if(P){if(y.test(P))throw Error("Invalid `variable` option passed into `_.template`")}else I="with (obj) {\n"+I+"\n}\n";I=(_?I.replace(h,""):I).replace(m,"$1").replace(g,"$1;"),I="function("+(P||"obj")+") {\n"+(P?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(w?", __e = _.escape":"")+(_?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+I+"return __p\n}";var M=i(function(){return Function(S,O+"return "+I).apply(void 0,E)});if(M.source=I,s(M))throw M;return M}},193440,(e,t,n)=>{var r=Math.ceil,i=Math.max;t.exports=function(e,t,n,a){for(var o=-1,l=i(r((t-e)/(n||1)),0),s=Array(l);l--;)s[a?l:++o]=e,e+=n;return s}},369523,(e,t,n)=>{var r=e.r(193440),i=e.r(170237),a=e.r(382560);t.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},144950,(e,t,n)=>{t.exports=e.r(369523)()},13451,(e,t,n)=>{t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},222240,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.exports=n.default},312312,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,i.default)({},e)};var i=r(e.r(222240));t.exports=n.default},935045,(e,t,n)=>{function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},778549,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},t.exports=n.default},660703,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,a.default)(1,arguments),e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===Object.prototype.toString.call(e)};var i=r(e.r(935045)),a=r(e.r(778549));t.exports=n.default},464095,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,a.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))};var i=r(e.r(935045)),a=r(e.r(778549));t.exports=n.default},360941,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,o.default)(1,arguments),(!!(0,i.default)(e)||"number"==typeof e)&&!isNaN(Number((0,a.default)(e)))};var i=r(e.r(660703)),a=r(e.r(464095)),o=r(e.r(778549));t.exports=n.default},148363,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},t.exports=n.default},494895,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return(0,o.default)(2,arguments),new Date((0,a.default)(e).getTime()+(0,i.default)(t))};var i=r(e.r(148363)),a=r(e.r(464095)),o=r(e.r(778549));t.exports=n.default},349069,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,a.default)(2,arguments);var n=(0,o.default)(t);return(0,i.default)(e,-n)};var i=r(e.r(494895)),a=r(e.r(778549)),o=r(e.r(148363));t.exports=n.default},746508,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,a.default)(1,arguments);var t=(0,i.default)(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1};var i=r(e.r(464095)),a=r(e.r(778549));t.exports=n.default},581499,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,a.default)(1,arguments);var t=(0,i.default)(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(7*(n<1)+n-1)),t.setUTCHours(0,0,0,0),t};var i=r(e.r(464095)),a=r(e.r(778549));t.exports=n.default},12598,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,a.default)(1,arguments);var t=(0,i.default)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var l=(0,o.default)(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var c=(0,o.default)(s);return t.getTime()>=l.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1};var i=r(e.r(464095)),a=r(e.r(778549)),o=r(e.r(581499));t.exports=n.default},373418,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,a.default)(n)};var i=r(e.r(12598)),a=r(e.r(581499)),o=r(e.r(778549));t.exports=n.default},520659,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){(0,l.default)(1,arguments);var t=(0,i.default)(e);return Math.round(((0,a.default)(t).getTime()-(0,o.default)(t).getTime())/6048e5)+1};var i=r(e.r(464095)),a=r(e.r(581499)),o=r(e.r(373418)),l=r(e.r(778549));t.exports=n.default},684796,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultOptions=function(){return r},n.setDefaultOptions=function(e){r=e};var r={}},736246,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,a.default)(1,arguments);var n,r,s,c,u,d,p,f,h=(0,l.getDefaultOptions)(),m=(0,o.default)(null!=(n=null!=(r=null!=(s=null!=(c=null==t?void 0:t.weekStartsOn)?c:null==t||null==(u=t.locale)||null==(d=u.options)?void 0:d.weekStartsOn)?s:h.weekStartsOn)?r:null==(p=h.locale)||null==(f=p.options)?void 0:f.weekStartsOn)?n:0);if(!(m>=0&&m<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,i.default)(e),y=g.getUTCDay();return g.setUTCDate(g.getUTCDate()-(7*(y<m)+y-m)),g.setUTCHours(0,0,0,0),g};var i=r(e.r(464095)),a=r(e.r(778549)),o=r(e.r(148363)),l=e.r(684796);t.exports=n.default},715969,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,a.default)(1,arguments);var n,r,c,u,d,p,f,h,m=(0,i.default)(e),g=m.getUTCFullYear(),y=(0,s.getDefaultOptions)(),v=(0,l.default)(null!=(n=null!=(r=null!=(c=null!=(u=null==t?void 0:t.firstWeekContainsDate)?u:null==t||null==(d=t.locale)||null==(p=d.options)?void 0:p.firstWeekContainsDate)?c:y.firstWeekContainsDate)?r:null==(f=y.locale)||null==(h=f.options)?void 0:h.firstWeekContainsDate)?n:1);if(!(v>=1&&v<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,v),b.setUTCHours(0,0,0,0);var x=(0,o.default)(b,t),C=new Date(0);C.setUTCFullYear(g,0,v),C.setUTCHours(0,0,0,0);var k=(0,o.default)(C,t);return m.getTime()>=x.getTime()?g+1:m.getTime()>=k.getTime()?g:g-1};var i=r(e.r(464095)),a=r(e.r(778549)),o=r(e.r(736246)),l=r(e.r(148363)),s=e.r(684796);t.exports=n.default},178025,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,a.default)(1,arguments);var n,r,c,u,d,p,f,h,m=(0,s.getDefaultOptions)(),g=(0,l.default)(null!=(n=null!=(r=null!=(c=null!=(u=null==t?void 0:t.firstWeekContainsDate)?u:null==t||null==(d=t.locale)||null==(p=d.options)?void 0:p.firstWeekContainsDate)?c:m.firstWeekContainsDate)?r:null==(f=m.locale)||null==(h=f.options)?void 0:h.firstWeekContainsDate)?n:1),y=(0,i.default)(e,t),v=new Date(0);return v.setUTCFullYear(y,0,g),v.setUTCHours(0,0,0,0),(0,o.default)(v,t)};var i=r(e.r(715969)),a=r(e.r(778549)),o=r(e.r(736246)),l=r(e.r(148363)),s=e.r(684796);t.exports=n.default},588502,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,l.default)(1,arguments);var n=(0,i.default)(e);return Math.round(((0,a.default)(n,t).getTime()-(0,o.default)(n,t).getTime())/6048e5)+1};var i=r(e.r(464095)),a=r(e.r(736246)),o=r(e.r(178025)),l=r(e.r(778549));t.exports=n.default},443911,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n},t.exports=n.default},303414,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e.r(443911));n.default={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return(0,i.default)("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,i.default)(n+1,2)},d:function(e,t){return(0,i.default)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,i.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,i.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,i.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,i.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3));return(0,i.default)(r,t.length)}},t.exports=n.default},696653,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e.r(746508)),a=r(e.r(520659)),o=r(e.r(12598)),l=r(e.r(588502)),s=r(e.r(715969)),c=r(e.r(443911)),u=r(e.r(303414)),d={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function p(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+(t||"")+(0,c.default)(a,2)}function f(e,t){return e%60==0?(e>0?"-":"+")+(0,c.default)(Math.abs(e)/60,2):h(e,t)}function h(e,t){var n=Math.abs(e);return(e>0?"-":"+")+(0,c.default)(Math.floor(n/60),2)+(t||"")+(0,c.default)(n%60,2)}n.default={G:function(e,t,n){var r=+(e.getUTCFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,n,r){var i=(0,s.default)(e,r),a=i>0?i:1-i;if("YY"===t){var o=a%100;return(0,c.default)(o,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):(0,c.default)(a,t.length)},R:function(e,t){var n=(0,o.default)(e);return(0,c.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,c.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,c.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,c.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,c.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,l.default)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,c.default)(i,t.length)},I:function(e,t,n){var r=(0,a.default)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,c.default)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,n){var r=(0,i.default)(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,c.default)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return(0,c.default)(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return(0,c.default)(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,c.default)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?d.noon:0===i?d.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?d.evening:i>=12?d.afternoon:i>=4?d.morning:d.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return f(i);case"XXXX":case"XX":return h(i);default:return h(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return f(i);case"xxxx":case"xx":return h(i);default:return h(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+p(i,":");default:return"GMT"+h(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+p(i,":");default:return"GMT"+h(i,":")}},t:function(e,t,n,r){var i=Math.floor((r._originalDate||e).getTime()/1e3);return(0,c.default)(i,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,c.default)(i,t.length)}},t.exports=n.default},300057,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},i=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};n.default={p:i,P:function(e,t){var n,a=e.match(/(P+)(p+)?/)||[],o=a[1],l=a[2];if(!l)return r(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(o,t)).replace("{{time}}",i(l,t))}},t.exports=n.default},208599,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},t.exports=n.default},438388,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isProtectedDayOfYearToken=function(e){return -1!==r.indexOf(e)},n.isProtectedWeekYearToken=function(e){return -1!==i.indexOf(e)},n.throwProtectedError=function(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var r=["D","DD"],i=["YY","YYYY"]},256038,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};n.default=function(e,t,n){var i,a=r[e];if(i="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix)if(n.comparison&&n.comparison>0)return"in "+i;else return i+" ago";return i},t.exports=n.default},939173,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}},t.exports=n.default},592309,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e.r(939173));n.default={date:(0,i.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},t.exports=n.default},136617,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};n.default=function(e,t,n,i){return r[e]},t.exports=n.default},231073,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!=n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,l=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}},t.exports=n.default},698422,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e.r(231073));n.default={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,i.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},t.exports=n.default},421664,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var l=o[0],s=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(s,function(e){return e.test(l)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(s,function(e){return e.test(l)});return n=e.valueCallback?e.valueCallback(c):c,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(l.length)}}},t.exports=n.default},838522,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(i.length)}}},t.exports=n.default},441798,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e.r(421664));n.default={ordinalNumber:(0,r(e.r(838522)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,i.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,i.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},t.exports=n.default},274741,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e.r(256038)),a=r(e.r(592309)),o=r(e.r(136617)),l=r(e.r(698422)),s=r(e.r(441798));n.default={code:"en-US",formatDistance:i.default,formatLong:a.default,formatRelative:o.default,localize:l.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},t.exports=n.default},520278,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=r(e.r(274741)).default,t.exports=n.default},572336,(e,t,n)=>{"use strict";var r=e.r(13451).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){(0,p.default)(2,arguments);var r,x,C,k,w,_,j,S,E,T,D,I,A,O,P,M,F,R,B=String(t),N=(0,f.getDefaultOptions)(),L=null!=(r=null!=(x=null==n?void 0:n.locale)?x:N.locale)?r:h.default,z=(0,d.default)(null!=(C=null!=(k=null!=(w=null!=(_=null==n?void 0:n.firstWeekContainsDate)?_:null==n||null==(j=n.locale)||null==(S=j.options)?void 0:S.firstWeekContainsDate)?w:N.firstWeekContainsDate)?k:null==(E=N.locale)||null==(T=E.options)?void 0:T.firstWeekContainsDate)?C:1);if(!(z>=1&&z<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var V=(0,d.default)(null!=(D=null!=(I=null!=(A=null!=(O=null==n?void 0:n.weekStartsOn)?O:null==n||null==(P=n.locale)||null==(M=P.options)?void 0:M.weekStartsOn)?A:N.weekStartsOn)?I:null==(F=N.locale)||null==(R=F.options)?void 0:R.weekStartsOn)?D:0);if(!(V>=0&&V<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw RangeError("locale must contain localize property");if(!L.formatLong)throw RangeError("locale must contain formatLong property");var U=(0,o.default)(e);if(!(0,i.default)(U))throw RangeError("Invalid time value");var H=(0,c.default)(U),q=(0,a.default)(U,H),W={firstWeekContainsDate:z,weekStartsOn:V,locale:L,_originalDate:U};return B.match(g).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,s.default[t])(e,L.formatLong):e}).join("").match(m).map(function(r){if("''"===r)return"'";var i,a,o=r[0];if("'"===o){return(a=(i=r).match(y))?a[1].replace(v,"'"):i}var s=l.default[o];if(s)return!(null!=n&&n.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(r)&&(0,u.throwProtectedError)(r,t,String(e)),!(null!=n&&n.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(r)&&(0,u.throwProtectedError)(r,t,String(e)),s(q,r,L.localize,W);if(o.match(b))throw RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r}).join("")};var i=r(e.r(360941)),a=r(e.r(349069)),o=r(e.r(464095)),l=r(e.r(696653)),s=r(e.r(300057)),c=r(e.r(208599)),u=e.r(438388),d=r(e.r(148363)),p=r(e.r(778549)),f=e.r(684796),h=r(e.r(520278)),m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y=/^'([^]*?)'?$/,v=/''/g,b=/[a-zA-Z]/;t.exports=n.default},882222,(e,t,n)=>{var r=Math.floor,i=Math.random;t.exports=function(e,t){return e+r(i()*(t-e+1))}},819534,(e,t,n)=>{var r=e.r(882222);t.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},980985,(e,t,n)=>{var r=e.r(518110),i=e.r(33679);t.exports=function(e){return null==e?[]:r(e,i(e))}},20421,(e,t,n)=>{var r=e.r(819534),i=e.r(980985);t.exports=function(e){return r(i(e))}},487745,(e,t,n)=>{var r=e.r(819534),i=e.r(20421),a=e.r(45350);t.exports=function(e){return(a(e)?r:i)(e)}},614595,(e,t,n)=>{"use strict";var r=e.r(271645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,o=r.useRef,l=r.useEffect,s=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=o(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var f=a(e,(d=s(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(a=e,t):(a=e,o=n)}var a,o,l=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,n,r,u]))[0],d[1]);return l(function(){p.hasValue=!0,p.value=f},[f]),c(f),f}},313027,(e,t,n)=>{"use strict";t.exports=e.r(614595)},108310,(e,t,n)=>{var r=e.r(702922),i=/[\\^$.*+?()[\]{}|]/g,a=RegExp(i.source);t.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(i,"\\$&"):e}},467604,(e,t,n)=>{"use strict";t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},209201,(e,t,n)=>{"use strict";var r=e.i(247167);t.exports="object"==typeof r.default&&r.default.env&&r.default.env.NODE_DEBUG&&/\bsemver\b/i.test(r.default.env.NODE_DEBUG)?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{}},425488,(e,t,n)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=e.r(467604),o=e.r(209201),l=(n=t.exports={}).re=[],s=n.safeRe=[],c=n.src=[],u=n.safeSrc=[],d=n.t={},p=0,f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[f,i]],m=(e,t,n)=>{let r=(e=>{for(let[t,n]of h)e=e.split("".concat(t,"*")).join("".concat(t,"{0,").concat(n,"}")).split("".concat(t,"+")).join("".concat(t,"{1,").concat(n,"}"));return e})(t),i=p++;o(e,i,t),d[e]=i,c[i]=t,u[i]=r,l[i]=new RegExp(t,n?"g":void 0),s[i]=new RegExp(r,n?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(f,"*")),m("MAINVERSION","(".concat(c[d.NUMERICIDENTIFIER],")\\.")+"(".concat(c[d.NUMERICIDENTIFIER],")\\.")+"(".concat(c[d.NUMERICIDENTIFIER],")")),m("MAINVERSIONLOOSE","(".concat(c[d.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(c[d.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(c[d.NUMERICIDENTIFIERLOOSE],")")),m("PRERELEASEIDENTIFIER","(?:".concat(c[d.NONNUMERICIDENTIFIER],"|").concat(c[d.NUMERICIDENTIFIER],")")),m("PRERELEASEIDENTIFIERLOOSE","(?:".concat(c[d.NONNUMERICIDENTIFIER],"|").concat(c[d.NUMERICIDENTIFIERLOOSE],")")),m("PRERELEASE","(?:-(".concat(c[d.PRERELEASEIDENTIFIER],"(?:\\.").concat(c[d.PRERELEASEIDENTIFIER],")*))")),m("PRERELEASELOOSE","(?:-?(".concat(c[d.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(c[d.PRERELEASEIDENTIFIERLOOSE],")*))")),m("BUILDIDENTIFIER","".concat(f,"+")),m("BUILD","(?:\\+(".concat(c[d.BUILDIDENTIFIER],"(?:\\.").concat(c[d.BUILDIDENTIFIER],")*))")),m("FULLPLAIN","v?".concat(c[d.MAINVERSION]).concat(c[d.PRERELEASE],"?").concat(c[d.BUILD],"?")),m("FULL","^".concat(c[d.FULLPLAIN],"$")),m("LOOSEPLAIN","[v=\\s]*".concat(c[d.MAINVERSIONLOOSE]).concat(c[d.PRERELEASELOOSE],"?").concat(c[d.BUILD],"?")),m("LOOSE","^".concat(c[d.LOOSEPLAIN],"$")),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE","".concat(c[d.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),m("XRANGEIDENTIFIER","".concat(c[d.NUMERICIDENTIFIER],"|x|X|\\*")),m("XRANGEPLAIN","[v=\\s]*(".concat(c[d.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(c[d.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(c[d.XRANGEIDENTIFIER],")")+"(?:".concat(c[d.PRERELEASE],")?").concat(c[d.BUILD],"?")+")?)?"),m("XRANGEPLAINLOOSE","[v=\\s]*(".concat(c[d.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(c[d.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(c[d.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(c[d.PRERELEASELOOSE],")?").concat(c[d.BUILD],"?")+")?)?"),m("XRANGE","^".concat(c[d.GTLT],"\\s*").concat(c[d.XRANGEPLAIN],"$")),m("XRANGELOOSE","^".concat(c[d.GTLT],"\\s*").concat(c[d.XRANGEPLAINLOOSE],"$")),m("COERCEPLAIN","".concat("(^|[^\\d])(\\d{1,").concat(r,"})")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:\\.(\\d{1,".concat(r,"}))?")),m("COERCE","".concat(c[d.COERCEPLAIN],"(?:$|[^\\d])")),m("COERCEFULL",c[d.COERCEPLAIN]+"(?:".concat(c[d.PRERELEASE],")?")+"(?:".concat(c[d.BUILD],")?")+"(?:$|[^\\d])"),m("COERCERTL",c[d.COERCE],!0),m("COERCERTLFULL",c[d.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM","(\\s*)".concat(c[d.LONETILDE],"\\s+"),!0),n.tildeTrimReplace="$1~",m("TILDE","^".concat(c[d.LONETILDE]).concat(c[d.XRANGEPLAIN],"$")),m("TILDELOOSE","^".concat(c[d.LONETILDE]).concat(c[d.XRANGEPLAINLOOSE],"$")),m("LONECARET","(?:\\^)"),m("CARETTRIM","(\\s*)".concat(c[d.LONECARET],"\\s+"),!0),n.caretTrimReplace="$1^",m("CARET","^".concat(c[d.LONECARET]).concat(c[d.XRANGEPLAIN],"$")),m("CARETLOOSE","^".concat(c[d.LONECARET]).concat(c[d.XRANGEPLAINLOOSE],"$")),m("COMPARATORLOOSE","^".concat(c[d.GTLT],"\\s*(").concat(c[d.LOOSEPLAIN],")$|^$")),m("COMPARATOR","^".concat(c[d.GTLT],"\\s*(").concat(c[d.FULLPLAIN],")$|^$")),m("COMPARATORTRIM","(\\s*)".concat(c[d.GTLT],"\\s*(").concat(c[d.LOOSEPLAIN],"|").concat(c[d.XRANGEPLAIN],")"),!0),n.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE","^\\s*(".concat(c[d.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(c[d.XRANGEPLAIN],")")+"\\s*$"),m("HYPHENRANGELOOSE","^\\s*(".concat(c[d.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(c[d.XRANGEPLAINLOOSE],")")+"\\s*$"),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},552145,(e,t,n)=>{"use strict";let r=Object.freeze({loose:!0}),i=Object.freeze({});t.exports=e=>e?"object"!=typeof e?r:e:i},819549,(e,t,n)=>{"use strict";let r=/^[0-9]+$/,i=(e,t)=>{let n=r.test(e),i=r.test(t);return n&&i&&(e*=1,t*=1),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};t.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},606423,(e,t,n)=>{"use strict";let r=e.r(209201),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=e.r(467604),{safeRe:o,t:l}=e.r(425488),s=e.r(552145),{compareIdentifiers:c}=e.r(819549);class u{format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;else if(n===i)continue;else return c(n,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(r("build compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;else if(n===i)continue;else return c(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw Error("invalid increment argument: identifier is empty");if(t){let e="-".concat(t).match(this.options.loose?o[l.PRERELEASELOOSE]:o[l.PRERELEASE]);if(!e||e[1]!==t)throw Error("invalid identifier: ".concat(t))}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=+!!Number(n);if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}constructor(e,t){if(t=s(t),e instanceof u)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else e=e.version;else if("string"!=typeof e)throw TypeError('Invalid version. Must be a string. Got type "'.concat(typeof e,'".'));if(e.length>i)throw TypeError("version is longer than ".concat(i," characters"));r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?o[l.LOOSE]:o[l.FULL]);if(!n)throw TypeError("Invalid Version: ".concat(e));if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}}t.exports=u},776293,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},782880,(e,t,n)=>{"use strict";let r=e.r(776293);t.exports=(e,t)=>{let n=r(e,t);return n?n.version:null}},89624,(e,t,n)=>{"use strict";let r=e.r(776293);t.exports=(e,t)=>{let n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},964894,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=(e,t,n,i,a)=>{"string"==typeof n&&(a=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,a).version}catch(e){return null}}},826285,(e,t,n)=>{"use strict";let r=e.r(776293);t.exports=(e,t)=>{let n=r(e,null,!0),i=r(t,null,!0),a=n.compare(i);if(0===a)return null;let o=a>0,l=o?n:i,s=o?i:n,c=!!l.prerelease.length;if(s.prerelease.length&&!c){if(!s.patch&&!s.minor)return"major";if(0===s.compareMain(l))return s.minor&&!s.patch?"minor":"patch"}let u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"}},656421,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=(e,t)=>new r(e,t).major},653246,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=(e,t)=>new r(e,t).minor},927315,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=(e,t)=>new r(e,t).patch},866415,(e,t,n)=>{"use strict";let r=e.r(776293);t.exports=(e,t)=>{let n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},441055,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},192636,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>r(t,e,n)},961990,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t)=>r(e,t,!0)},80458,(e,t,n)=>{"use strict";let r=e.r(606423);t.exports=(e,t,n)=>{let i=new r(e,n),a=new r(t,n);return i.compare(a)||i.compareBuild(a)}},225379,(e,t,n)=>{"use strict";let r=e.r(80458);t.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},149864,(e,t,n)=>{"use strict";let r=e.r(80458);t.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},9982,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>r(e,t,n)>0},902416,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>0>r(e,t,n)},374171,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>0===r(e,t,n)},798042,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>0!==r(e,t,n)},810712,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>r(e,t,n)>=0},408696,(e,t,n)=>{"use strict";let r=e.r(441055);t.exports=(e,t,n)=>0>=r(e,t,n)},362813,(e,t,n)=>{"use strict";let r=e.r(374171),i=e.r(798042),a=e.r(9982),o=e.r(810712),l=e.r(902416),s=e.r(408696);t.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return i(e,n,c);case">":return a(e,n,c);case">=":return o(e,n,c);case"<":return l(e,n,c);case"<=":return s(e,n,c);default:throw TypeError("Invalid operator: ".concat(t))}}},326439,(e,t,n)=>{"use strict";let r=e.r(606423),i=e.r(776293),{safeRe:a,t:o}=e.r(425488);t.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let r,i=t.includePrerelease?a[o.COERCERTLFULL]:a[o.COERCERTL];for(;(r=i.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),i.lastIndex=r.index+r[1].length+r[2].length;i.lastIndex=-1}else n=e.match(t.includePrerelease?a[o.COERCEFULL]:a[o.COERCE]);if(null===n)return null;let l=n[2],s=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?"-".concat(n[5]):"",d=t.includePrerelease&&n[6]?"+".concat(n[6]):"";return i("".concat(l,".").concat(s,".").concat(c).concat(u).concat(d),t)}},724960,(e,t,n)=>{"use strict";t.exports=class{get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}constructor(){this.max=1e3,this.map=new Map}}},543639,(e,t,n)=>{"use strict";let r=/\s+/g;class i{get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=a.get(t);if(n)return n;let r=this.options.loose,i=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];s("hyphen replace",e=e.replace(i,I(this.options.includePrerelease))),s("comparator trim",e=e.replace(u[d.COMPARATORTRIM],p)),s("tilde trim",e=e.replace(u[d.TILDETRIM],f)),s("caret trim",e=e.replace(u[d.CARETTRIM],h));let o=e.split(" ").map(e=>x(e,this.options)).join(" ").split(/\s+/).map(e=>D(e,this.options));r&&(o=o.filter(e=>(s("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),s("range list",o);let c=new Map;for(let e of o.map(e=>new l(e,this.options))){if(y(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");let v=[...c.values()];return a.set(t,v),v}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(n=>b(n,t)&&e.set.some(e=>b(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}constructor(e,t){if(t=o(t),e instanceof i)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else return new i(e.raw,t);if(e instanceof l)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.formatted=void 0}}t.exports=i;let a=new(e.r(724960)),o=e.r(552145),l=e.r(448953),s=e.r(209201),c=e.r(606423),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:h}=e.r(425488),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=e.r(467604),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,b=(e,t)=>{let n=!0,r=e.slice(),i=r.pop();for(;n&&r.length;)n=r.every(e=>i.intersects(e,t)),i=r.pop();return n},x=(e,t)=>(s("comp",e,t),s("caret",e=_(e,t)),s("tildes",e=k(e,t)),s("xrange",e=S(e,t)),s("stars",e=T(e,t)),e),C=e=>!e||"x"===e.toLowerCase()||"*"===e,k=(e,t)=>e.trim().split(/\s+/).map(e=>w(e,t)).join(" "),w=(e,t)=>{let n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,(t,n,r,i,a)=>{let o;return s("tilde",e,t,n,r,i,a),C(n)?o="":C(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):C(i)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(s("replaceTilde pr",a),o=">=".concat(n,".").concat(r,".").concat(i,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),s("tilde return",o),o})},_=(e,t)=>e.trim().split(/\s+/).map(e=>j(e,t)).join(" "),j=(e,t)=>{s("caret",e,t);let n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,i,a,o)=>{let l;return s("caret",e,t,n,i,a,o),C(n)?l="":C(i)?l=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):C(a)?l="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(s("replaceCaret pr",o),l="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(+n+1,".0.0-0")):(s("no pr"),l="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),s("caret return",l),l})},S=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();let n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,(n,r,i,a,o,l)=>{s("xRange",e,n,r,i,a,o,l);let c=C(i),u=c||C(a),d=u||C(o);return"="===r&&d&&(r=""),l=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(u&&(a=0),o=0,">"===r?(r=">=",u?(i=+i+1,a=0):a=+a+1,o=0):"<="===r&&(r="<",u?i=+i+1:a=+a+1),"<"===r&&(l="-0"),n="".concat(r+i,".").concat(a,".").concat(o).concat(l)):u?n=">=".concat(i,".0.0").concat(l," <").concat(+i+1,".0.0-0"):d&&(n=">=".concat(i,".").concat(a,".0").concat(l," <").concat(i,".").concat(+a+1,".0-0")),s("xRange return",n),n})},T=(e,t)=>(s("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),D=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),I=e=>(t,n,r,i,a,o,l,s,c,u,d,p)=>(n=C(r)?"":C(i)?">=".concat(r,".0.0").concat(e?"-0":""):C(a)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=C(c)?"":C(u)?"<".concat(+c+1,".0.0-0"):C(d)?"<".concat(c,".").concat(+u+1,".0-0"):p?"<=".concat(c,".").concat(u,".").concat(d,"-").concat(p):e?"<".concat(c,".").concat(u,".").concat(+d+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()),A=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(s(e[n].semver),e[n].semver!==l.ANY&&e[n].semver.prerelease.length>0){let r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},448953,(e,t,n)=>{"use strict";let r=Symbol("SemVer ANY");class i{static get ANY(){return r}parse(e){let t=this.options.loose?o[l.COMPARATORLOOSE]:o[l.COMPARATOR],n=e.match(t);if(!n)throw TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||s(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||s(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}constructor(e,t){if(t=a(t),e instanceof i)if(!!t.loose===e.loose)return e;else e=e.value;c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}}t.exports=i;let a=e.r(552145),{safeRe:o,t:l}=e.r(425488),s=e.r(362813),c=e.r(209201),u=e.r(606423),d=e.r(543639)},47509,(e,t,n)=>{"use strict";let r=e.r(543639);t.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},121130,(e,t,n)=>{"use strict";let r=e.r(543639);t.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},189609,(e,t,n)=>{"use strict";let r=e.r(606423),i=e.r(543639);t.exports=(e,t,n)=>{let a=null,o=null,l=null;try{l=new i(t,n)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(!a||-1===o.compare(e))&&(o=new r(a=e,n))}),a}},378338,(e,t,n)=>{"use strict";let r=e.r(606423),i=e.r(543639);t.exports=(e,t,n)=>{let a=null,o=null,l=null;try{l=new i(t,n)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(!a||1===o.compare(e))&&(o=new r(a=e,n))}),a}},337468,(e,t,n)=>{"use strict";let r=e.r(606423),i=e.r(543639),a=e.r(9982);t.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n)||(n=new r("0.0.0-0"),e.test(n)))return n;n=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],o=null;i.forEach(e=>{let t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||a(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error("Unexpected operation: ".concat(e.operator))}}),o&&(!n||a(n,o))&&(n=o)}return n&&e.test(n)?n:null}},975337,(e,t,n)=>{"use strict";let r=e.r(543639);t.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},772781,(e,t,n)=>{"use strict";let r=e.r(606423),i=e.r(448953),{ANY:a}=i,o=e.r(543639),l=e.r(47509),s=e.r(9982),c=e.r(902416),u=e.r(408696),d=e.r(810712);t.exports=(e,t,n,p)=>{let f,h,m,g,y;switch(e=new r(e,p),t=new o(t,p),n){case">":f=s,h=u,m=c,g=">",y=">=";break;case"<":f=c,h=d,m=s,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(l(e,t,p))return!1;for(let n=0;n<t.set.length;++n){let r=t.set[n],o=null,l=null;if(r.forEach(e=>{e.semver===a&&(e=new i(">=0.0.0")),o=o||e,l=l||e,f(e.semver,o.semver,p)?o=e:m(e.semver,l.semver,p)&&(l=e)}),o.operator===g||o.operator===y||(!l.operator||l.operator===g)&&h(e,l.semver)||l.operator===y&&m(e,l.semver))return!1}return!0}},826539,(e,t,n)=>{"use strict";let r=e.r(772781);t.exports=(e,t,n)=>r(e,t,">",n)},816638,(e,t,n)=>{"use strict";let r=e.r(772781);t.exports=(e,t,n)=>r(e,t,"<",n)},897071,(e,t,n)=>{"use strict";let r=e.r(543639);t.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},913782,(e,t,n)=>{"use strict";let r=e.r(47509),i=e.r(441055);t.exports=(e,t,n)=>{let a=[],o=null,l=null,s=e.sort((e,t)=>i(e,t,n));for(let e of s)r(e,t,n)?(l=e,o||(o=e)):(l&&a.push([o,l]),l=null,o=null);o&&a.push([o,null]);let c=[];for(let[e,t]of a)e===t?c.push(e):t||e!==s[0]?t?e===s[0]?c.push("<=".concat(t)):c.push("".concat(e," - ").concat(t)):c.push(">=".concat(e)):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},153877,(e,t,n)=>{"use strict";let r=e.r(543639),i=e.r(448953),{ANY:a}=i,o=e.r(47509),l=e.r(441055),s=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,n)=>{let r,i,u,f,h,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a)if(1===t.length&&t[0].semver===a)return!0;else e=n.includePrerelease?s:c;if(1===t.length&&t[0].semver===a)if(n.includePrerelease)return!0;else t=c;let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?r=d(r,t,n):"<"===t.operator||"<="===t.operator?i=p(i,t,n):y.add(t.semver);if(y.size>1)return null;if(r&&i&&((u=l(r.semver,i.semver,n))>0||0===u&&(">="!==r.operator||"<="!==i.operator)))return null;for(let e of y){if(r&&!o(e,String(r),n)||i&&!o(e,String(i),n))return null;for(let r of t)if(!o(e,String(r),n))return!1;return!0}let v=!!i&&!n.includePrerelease&&!!i.semver.prerelease.length&&i.semver,b=!!r&&!n.includePrerelease&&!!r.semver.prerelease.length&&r.semver;for(let e of(v&&1===v.prerelease.length&&"<"===i.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,r){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((f=d(r,e,n))===e&&f!==r)return!1}else if(">="===r.operator&&!o(r.semver,String(e),n))return!1}if(i){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((h=p(i,e,n))===e&&h!==i)return!1}else if("<="===i.operator&&!o(i.semver,String(e),n))return!1}if(!e.operator&&(i||r)&&0!==u)return!1}return(!r||!m||!!i||0===u)&&(!i||!g||!!r||0===u)&&!b&&!v&&!0},d=(e,t,n)=>{if(!e)return t;let r=l(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;let r=l(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};t.exports=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;l:for(let r of e.set){for(let e of t.set){let t=u(r,e,n);if(i=i||null!==t,t)continue l}if(i)return!1}return!0}},308528,(e,t,n)=>{"use strict";let r=e.r(425488),i=e.r(467604),a=e.r(606423),o=e.r(819549),l=e.r(776293),s=e.r(782880),c=e.r(89624),u=e.r(964894),d=e.r(826285),p=e.r(656421),f=e.r(653246),h=e.r(927315),m=e.r(866415),g=e.r(441055),y=e.r(192636),v=e.r(961990),b=e.r(80458),x=e.r(225379),C=e.r(149864),k=e.r(9982),w=e.r(902416),_=e.r(374171),j=e.r(798042),S=e.r(810712),E=e.r(408696),T=e.r(362813),D=e.r(326439),I=e.r(448953),A=e.r(543639),O=e.r(47509),P=e.r(121130),M=e.r(189609),F=e.r(378338),R=e.r(337468),B=e.r(975337),N=e.r(772781),L=e.r(826539),z=e.r(816638),V=e.r(897071);t.exports={parse:l,valid:s,clean:c,inc:u,diff:d,major:p,minor:f,patch:h,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:x,rsort:C,gt:k,lt:w,eq:_,neq:j,gte:S,lte:E,cmp:T,coerce:D,Comparator:I,Range:A,satisfies:O,toComparators:P,maxSatisfying:M,minSatisfying:F,minVersion:R,validRange:B,outside:N,gtr:L,ltr:z,intersects:V,simplifyRange:e.r(913782),subset:e.r(153877),SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},469957,(e,t,n)=>{"use strict";var r=e.r(271645),i=e.r(174080);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.scope"),b=Symbol.for("react.activity"),x=Symbol.for("react.legacy_hidden"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.for("react.view_transition"),w=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}var j=Array.isArray;function S(e,t){var n=3&e.length,r=e.length-n,i=t;for(t=0;t<r;){var a=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,i^=a=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)|0,i=(65535&(i=5*(65535&(i=i<<13|i>>>19))+((5*(i>>>16)&65535)<<16)|0))+27492+(((i>>>16)+58964&65535)<<16)}switch(a=0,n){case 3:a^=(255&e.charCodeAt(t+2))<<16;case 2:a^=(255&e.charCodeAt(t+1))<<8;case 1:a^=255&e.charCodeAt(t),i^=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)}return i^=e.length,i^=i>>>16,i=0x85ebca6b*(65535&i)+((0x85ebca6b*(i>>>16)&65535)<<16)|0,i^=i>>>13,((i=0xc2b2ae35*(65535&i)+((0xc2b2ae35*(i>>>16)&65535)<<16)|0)^i>>>16)>>>0}var E=Object.assign,T=Object.prototype.hasOwnProperty,D=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),I={},A={};function O(e){return!!T.call(A,e)||!T.call(I,e)&&(D.test(e)?A[e]=!0:(I[e]=!0,!1))}var P=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),M=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F=/["'&<>]/;function R(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=F.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.slice(i,n)),i=n+1,r+=t}e=i!==n?r+e.slice(i,n):r}return e}var B=/([A-Z])/g,N=/^ms-/,L=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function z(e){return L.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var V=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},q=U.d;U.d={f:q.f,r:q.r,D:function(e){var t=t$||null;if(t){var n,r,i=t.resumableState,a=t.renderState;"string"==typeof e&&e&&(i.dnsResources.hasOwnProperty(e)||(i.dnsResources[e]=null,(r=(i=a.headers)&&0<i.remainingCapacity)&&(n="<"+(""+e).replace(eY,eK)+">; rel=dns-prefetch",r=0<=(i.remainingCapacity-=n.length+2)),r?(a.resets.dns[e]=null,i.preconnects&&(i.preconnects+=", "),i.preconnects+=n):(ep(n=[],{href:e,rel:"dns-prefetch"}),a.preconnects.add(n))),nI(t))}else q.D(e)},C:function(e,t){var n=t$||null;if(n){var r=n.resumableState,i=n.renderState;if("string"==typeof e&&e){var a,o,l="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";r.connectResources[l].hasOwnProperty(e)||(r.connectResources[l][e]=null,(o=(r=i.headers)&&0<r.remainingCapacity)&&(o="<"+(""+e).replace(eY,eK)+">; rel=preconnect","string"==typeof t&&(o+='; crossorigin="'+(""+t).replace(eG,e$)+'"'),a=o,o=0<=(r.remainingCapacity-=a.length+2)),o?(i.resets.connect[l][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=a):(ep(l=[],{rel:"preconnect",href:e,crossOrigin:t}),i.preconnects.add(l))),nI(n)}}else q.C(e,t)},L:function(e,t,n){var r=t$||null;if(r){var i=r.resumableState,a=r.renderState;if(t&&e){switch(t){case"image":if(n)var o,l=n.imageSrcSet,s=n.imageSizes,c=n.fetchPriority;var u=l?l+"\n"+(s||""):e;if(i.imageResources.hasOwnProperty(u))return;i.imageResources[u]=W,(i=a.headers)&&0<i.remainingCapacity&&"string"!=typeof l&&"high"===c&&(o=eW(e,t,n),0<=(i.remainingCapacity-=o.length+2))?(a.resets.image[u]=W,i.highImagePreloads&&(i.highImagePreloads+=", "),i.highImagePreloads+=o):(ep(i=[],E({rel:"preload",href:l?void 0:e,as:t},n)),"high"===c?a.highImagePreloads.add(i):(a.bulkPreloads.add(i),a.preloads.images.set(u,i)));break;case"style":if(i.styleResources.hasOwnProperty(e))return;ep(l=[],E({rel:"preload",href:e,as:t},n)),i.styleResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:W,a.preloads.stylesheets.set(e,l),a.bulkPreloads.add(l);break;case"script":if(i.scriptResources.hasOwnProperty(e))return;l=[],a.preloads.scripts.set(e,l),a.bulkPreloads.add(l),ep(l,E({rel:"preload",href:e,as:t},n)),i.scriptResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:W;break;default:if(i.unknownResources.hasOwnProperty(t)){if((l=i.unknownResources[t]).hasOwnProperty(e))return}else l={},i.unknownResources[t]=l;l[e]=W,(i=a.headers)&&0<i.remainingCapacity&&"font"===t&&(u=eW(e,t,n),0<=(i.remainingCapacity-=u.length+2))?(a.resets.font[e]=W,i.fontPreloads&&(i.fontPreloads+=", "),i.fontPreloads+=u):(ep(i=[],e=E({rel:"preload",href:e,as:t},n)),"font"===t)?a.fontPreloads.add(i):a.bulkPreloads.add(i)}nI(r)}}else q.L(e,t,n)},m:function(e,t){var n=t$||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=t&&"string"==typeof t.as?t.as:"script";if("script"===a){if(r.moduleScriptResources.hasOwnProperty(e))return;a=[],r.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:W,i.preloads.moduleScripts.set(e,a)}else{if(r.moduleUnknownResources.hasOwnProperty(a)){var o=r.unknownResources[a];if(o.hasOwnProperty(e))return}else o={},r.moduleUnknownResources[a]=o;a=[],o[e]=W}ep(a,E({rel:"modulepreload",href:e},t)),i.bulkPreloads.add(a),nI(n)}}else q.m(e,t)},X:function(e,t){var n=t$||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==a&&(r.scriptResources[e]=null,t=E({src:e,async:!0},t),a&&(2===a.length&&eq(t,a),e=i.preloads.scripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),ey(e,t),nI(n))}}else q.X(e,t)},S:function(e,t,n){var r=t$||null;if(r){var i=r.resumableState,a=r.renderState;if(e){t=t||"default";var o=a.styles.get(t),l=i.styleResources.hasOwnProperty(e)?i.styleResources[e]:void 0;null!==l&&(i.styleResources[e]=null,o||(o={precedence:R(t),rules:[],hrefs:[],sheets:new Map},a.styles.set(t,o)),t={state:0,props:E({rel:"stylesheet",href:e,"data-precedence":t},n)},l&&(2===l.length&&eq(t.props,l),(a=a.preloads.stylesheets.get(e))&&0<a.length?a.length=0:t.state=1),o.sheets.set(e,t),nI(r))}}else q.S(e,t,n)},M:function(e,t){var n=t$||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==a&&(r.moduleScriptResources[e]=null,t=E({src:e,type:"module",async:!0},t),a&&(2===a.length&&eq(t,a),e=i.preloads.moduleScripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),ey(e,t),nI(n))}}else q.M(e,t)}};var W=[],Y=null,K=/(<\/|<)(s)(cript)/gi;function G(e,t,n,r){return""+t+("s"===n?"\\u0073":"\\u0053")+r}function $(e,t,n,r){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:r}}function Z(e,t,n){var r=-25&e.tagScope;switch(t){case"noscript":return $(2,null,1|r,null);case"select":return $(2,null!=n.value?n.value:n.defaultValue,r,null);case"svg":return $(4,null,r,null);case"picture":return $(2,null,2|r,null);case"math":return $(5,null,r,null);case"foreignObject":return $(2,null,r,null);case"table":return $(6,null,r,null);case"thead":case"tbody":case"tfoot":return $(7,null,r,null);case"colgroup":return $(9,null,r,null);case"tr":return $(8,null,r,null);case"head":if(2>e.insertionMode)return $(3,null,r,null);break;case"html":if(0===e.insertionMode)return $(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?$(2,null,r,null):e.tagScope!==r?$(e.insertionMode,e.selectedValue,r,null):e}function X(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function J(e,t){return 32&t.tagScope&&(e.instructions|=128),$(t.insertionMode,t.selectedValue,12|t.tagScope,X(t.viewTransition))}function Q(e,t){return $(t.insertionMode,t.selectedValue,16|t.tagScope,X(t.viewTransition))}var ee=new Map;function et(e,t){if("object"!=typeof t)throw Error(a(62));var n,r=!0;for(n in t)if(T.call(t,n)){var i=t[n];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===n.indexOf("--")){var o=R(n);i=R((""+i).trim())}else void 0===(o=ee.get(n))&&(o=R(n.replace(B,"-$1").toLowerCase().replace(N,"-ms-")),ee.set(n,o)),i="number"==typeof i?0===i||P.has(n)?""+i:i+"px":R((""+i).trim());r?(r=!1,e.push(' style="',o,":",i)):e.push(";",o,":",i)}}r||e.push('"')}function en(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""')}function er(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(" ",t,'="',R(n),'"')}var ei=R("javascript:throw new Error('React form unexpectedly submitted.')");function ea(e,t){this.push('<input type="hidden"'),eo(e),er(this,"name",t),er(this,"value",e),this.push("/>")}function eo(e){if("string"!=typeof e)throw Error(a(480))}function el(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var r=t.$$FORM_ACTION(e);if(r){var i=r.data;null!=i&&i.forEach(eo)}return r}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then)throw e}}return null}function es(e,t,n,r,i,a,o,l){var s=null;if("function"==typeof r){var c=el(t,r);null!==c?(l=c.name,r=c.action||"",i=c.encType,a=c.method,o=c.target,s=c.data):(e.push(" ","formAction",'="',ei,'"'),o=a=i=r=l=null,ed(t,n))}return null!=l&&ec(e,"name",l),null!=r&&ec(e,"formAction",r),null!=i&&ec(e,"formEncType",i),null!=a&&ec(e,"formMethod",a),null!=o&&ec(e,"formTarget",o),s}function ec(e,t,n){switch(t){case"className":er(e,"class",n);break;case"tabIndex":er(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":er(e,t,n);break;case"style":et(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=z(""+n),e.push(" ",t,'="',R(n),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":en(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=z(""+n),e.push(" ","xlink:href",'="',R(n),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',R(n),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""');break;case"capture":case"download":!0===n?e.push(" ",t,'=""'):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',R(n),'"');break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(" ",t,'="',R(n),'"');break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(" ",t,'="',R(n),'"');break;case"xlinkActuate":er(e,"xlink:actuate",n);break;case"xlinkArcrole":er(e,"xlink:arcrole",n);break;case"xlinkRole":er(e,"xlink:role",n);break;case"xlinkShow":er(e,"xlink:show",n);break;case"xlinkTitle":er(e,"xlink:title",n);break;case"xlinkType":er(e,"xlink:type",n);break;case"xmlBase":er(e,"xml:base",n);break;case"xmlLang":er(e,"xml:lang",n);break;case"xmlSpace":er(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&O(t=M.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(" ",t,'="',R(n),'"')}}}function eu(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!=typeof t||!("__html"in t))throw Error(a(61));null!=(t=t.__html)&&e.push(""+t)}}function ed(e,t){if(0==(16&e.instructions)){e.instructions|=16;var n=t.preamble,r=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===r.length?(r.push(t.startInlineScript),eU(r,e),r.push(">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"</script>")):r.unshift(t.startInlineScript,">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"</script>")}}function ep(e,t){for(var n in e.push(ek("link")),t)if(T.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:ec(e,n,r)}}return e.push("/>"),null}var ef=/(<\/|<)(s)(tyle)/gi;function eh(e,t,n,r){return""+t+("s"===n?"\\73 ":"\\53 ")+r}function em(e,t,n){for(var r in e.push(ek(n)),t)if(T.call(t,r)){var i=t[r];if(null!=i)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,n));default:ec(e,r,i)}}return e.push("/>"),null}function eg(e,t){e.push(ek("title"));var n,r=null,i=null;for(n in t)if(T.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,n,a)}}return e.push(">"),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(R(""+t)),eu(e,i,r),e.push(e_("title")),null}function ey(e,t){e.push(ek("script"));var n,r=null,i=null;for(n in t)if(T.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,n,a)}}return e.push(">"),eu(e,i,r),"string"==typeof r&&e.push((""+r).replace(K,G)),e.push(e_("script")),null}function ev(e,t,n){e.push(ek(n));var r,i=n=null;for(r in t)if(T.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,r,a)}}return e.push(">"),eu(e,i,n),n}function eb(e,t,n){e.push(ek(n));var r,i=n=null;for(r in t)if(T.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,r,a)}}return e.push(">"),eu(e,i,n),"string"==typeof n?(e.push(R(n)),null):n}var ex=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,eC=new Map;function ek(e){var t=eC.get(e);if(void 0===t){if(!ex.test(e))throw Error(a(65,e));t="<"+e,eC.set(e,t)}return t}var ew=new Map;function e_(e){var t=ew.get(e);return void 0===t&&(t="</"+e+">",ew.set(e,t)),t}function ej(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function eS(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)e.push(t[n]);return!(n<t.length)||(n=t[n],t.length=0,e.push(n))}function eE(e,t,n){if(e.push('<!--$?--><template id="'),null===n)throw Error(a(395));return e.push(t.boundaryPrefix),t=n.toString(16),e.push(t),e.push('"></template>')}var eT=/[<\u2028\u2029]/g,eD=/[&><\u2028\u2029]/g;function eI(e){return JSON.stringify(e).replace(eD,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var eA=!1,eO=!0;function eP(e){var t=e.rules,n=e.hrefs,r=0;if(n.length){for(this.push(Y.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(e.precedence),this.push('" data-href="');r<n.length-1;r++)this.push(n[r]),this.push(" ");for(this.push(n[r]),this.push('">'),r=0;r<t.length;r++)this.push(t[r]);eO=this.push("</style>"),eA=!0,t.length=0,n.length=0}}function eM(e){return 2!==e.state&&(eA=!0)}function eF(e,t,n){return eA=!1,eO=!0,Y=n,t.styles.forEach(eP,e),Y=null,t.stylesheets.forEach(eM),eA&&(n.stylesToHoist=!0),eO}function eR(e){for(var t=0;t<e.length;t++)this.push(e[t]);e.length=0}var eB=[];function eN(e){ep(eB,e.props);for(var t=0;t<eB.length;t++)this.push(eB[t]);eB.length=0,e.state=2}function eL(e){var t=0<e.sheets.size;e.sheets.forEach(eN,this),e.sheets.clear();var n=e.rules,r=e.hrefs;if(!t||r.length){if(this.push(Y.startInlineStyle),this.push(' data-precedence="'),this.push(e.precedence),e=0,r.length){for(this.push('" data-href="');e<r.length-1;e++)this.push(r[e]),this.push(" ");this.push(r[e])}for(this.push('">'),e=0;e<n.length;e++)this.push(n[e]);this.push("</style>"),n.length=0,r.length=0}}function ez(e){if(0===e.state){e.state=1;var t=e.props;for(ep(eB,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<eB.length;e++)this.push(eB[e]);eB.length=0}}function eV(e){e.sheets.forEach(ez,this),e.sheets.clear()}function eU(e,t){0==(32&t.instructions)&&(t.instructions|=32,e.push(' id="',R("_"+t.idPrefix+"R_"),'"'))}function eH(){return{styles:new Set,stylesheets:new Set}}function eq(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function eW(e,t,n){for(var r in t="<"+(e=(""+e).replace(eY,eK))+'>; rel=preload; as="'+(t=(""+t).replace(eG,e$))+'"',n)T.call(n,r)&&"string"==typeof(e=n[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(eG,e$)+'"');return t}var eY=/[<>\r\n]/g;function eK(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var eG=/["';,\r\n]/g;function e$(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function eZ(e){this.styles.add(e)}function eX(e){this.stylesheets.add(e)}function eJ(e,t){t.styles.forEach(eZ,e),t.stylesheets.forEach(eX,e)}function eQ(e,t,n,r){return n.generateStaticMarkup?(e.push(R(t)),!1):(""===t?e=r:(r&&e.push("<!-- -->"),e.push(R(t)),e=!0),e)}function e1(e,t,n,r){t.generateStaticMarkup||n&&r&&e.push("<!-- -->")}var e2=Function.prototype.bind,e0=Symbol.for("react.client.reference");function e5(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===e0?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case u:return"Profiler";case c:return"StrictMode";case h:return"Suspense";case m:return"SuspenseList";case b:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case l:return"Portal";case p:return e.displayName||"Context";case d:return(e._context.displayName||"Context")+".Consumer";case f:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:e5(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return e5(e(t))}catch(e){}}return null}var e7={},e3=null;function e8(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));e8(e,n)}t.context._currentValue2=t.value}}function e4(e){var t=e3;t!==e&&(null===t?function e(t){var n=t.parent;null!==n&&e(n),t.context._currentValue2=t.value}(e):null===e?function e(t){t.context._currentValue2=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?e8(t,e):t.depth>e.depth?function e(t,n){if(t.context._currentValue2=t.parentValue,null===(t=t.parent))throw Error(a(402));t.depth===n.depth?e8(t,n):e(t,n)}(t,e):function e(t,n){var r=n.parent;if(null===r)throw Error(a(402));t.depth===r.depth?e8(t,r):e(t,r),n.context._currentValue2=n.value}(t,e),e3=e)}var e6={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},e9={id:1,overflow:""};function te(e,t,n){var r=e.id;e=e.overflow;var i=32-tt(r)-1;r&=~(1<<i),n+=1;var a=32-tt(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-tt(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var tt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tn(e)/tr|0)|0},tn=Math.log,tr=Math.LN2;function ti(){}var ta=Error(a(460)),to=null;function tl(){if(null===to)throw Error(a(459));var e=to;return to=null,e}var ts="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tc=null,tu=null,td=null,tp=null,tf=null,th=null,tm=!1,tg=!1,ty=0,tv=0,tb=-1,tx=0,tC=null,tk=null,tw=0;function t_(){if(null===tc)throw Error(a(321));return tc}function tj(){if(0<tw)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function tS(){return null===th?null===tf?(tm=!1,tf=th=tj()):(tm=!0,th=tf):null===th.next?(tm=!1,th=th.next=tj()):(tm=!0,th=th.next),th}function tE(){var e=tC;return tC=null,e}function tT(){tp=td=tu=tc=null,tg=!1,tf=null,tw=0,th=tk=null}function tD(e,t){return"function"==typeof t?t(e):t}function tI(e,t,n){if(tc=t_(),th=tS(),tm){var r=th.queue;if(t=r.dispatch,null!==tk&&void 0!==(n=tk.get(r))){tk.delete(r),r=th.memoizedState;do r=e(r,n.action),n=n.next;while(null!==n)return th.memoizedState=r,[r,t]}return[th.memoizedState,t]}return e=e===tD?"function"==typeof t?t():t:void 0!==n?n(t):t,th.memoizedState=e,e=(e=th.queue={last:null,dispatch:null}).dispatch=tO.bind(null,tc,e),[th.memoizedState,e]}function tA(e,t){if(tc=t_(),th=tS(),t=void 0===t?null:t,null!==th){var n=th.memoizedState;if(null!==n&&null!==t){var r=n[1];s:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!ts(t[i],r[i])){r=!1;break s}r=!0}if(r)return n[0]}}return e=e(),th.memoizedState=[e,t],e}function tO(e,t,n){if(25<=tw)throw Error(a(301));if(e===tc)if(tg=!0,e={action:n,next:null},null===tk&&(tk=new Map),void 0===(n=tk.get(t)))tk.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function tP(){throw Error(a(394))}function tM(){throw Error(a(479))}function tF(e,t,n){t_();var r=tv++,i=td;if("function"==typeof e.$$FORM_ACTION){var a=null,o=tp;i=i.formState;var l=e.$$IS_SIGNATURE_EQUAL;if(null!==i&&"function"==typeof l){var s=i[1];l.call(e,i[2],i[3])&&s===(a=void 0!==n?"p"+n:"k"+S(JSON.stringify([o,null,r]),0))&&(tb=r,t=i[0])}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===a&&(a=void 0!==n?"p"+n:"k"+S(JSON.stringify([o,null,r]),0)),t.append("$ACTION_KEY",a)),e}),[t,e,!1]}var u=e.bind(null,t);return[t,function(e){u(e)},!1]}function tR(e){var t=tx;tx+=1,null===tC&&(tC=[]);var n=tC,r=e,i=t;switch(void 0===(i=n[i])?n.push(r):i!==r&&(r.then(ti,ti),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(ti,ti):((n=r).status="pending",n.then(function(e){if("pending"===r.status){var t=r;t.status="fulfilled",t.value=e}},function(e){if("pending"===r.status){var t=r;t.status="rejected",t.reason=e}})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}throw to=r,ta}}function tB(){throw Error(a(393))}var tN,tL,tz={readContext:function(e){return e._currentValue2},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return tR(e);if(e.$$typeof===p)return e._currentValue2}throw Error(a(438,String(e)))},useContext:function(e){return t_(),e._currentValue2},useMemo:tA,useReducer:tI,useRef:function(e){tc=t_();var t=(th=tS()).memoizedState;return null===t?(e={current:e},th.memoizedState=e):t},useState:function(e){return tI(tD,e)},useInsertionEffect:ti,useLayoutEffect:ti,useCallback:function(e,t){return tA(function(){return e},t)},useImperativeHandle:ti,useEffect:ti,useDebugValue:ti,useDeferredValue:function(e,t){return t_(),void 0!==t?t:e},useTransition:function(){return t_(),[!1,tP]},useId:function(){var e=tu.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-tt(e)-1)).toString(32)+t;var n=tV;if(null===n)throw Error(a(404));return t=ty++,e="_"+n.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()},useOptimistic:function(e){return t_(),[e,tM]},useActionState:tF,useFormState:tF,useHostTransitionStatus:function(){return t_(),H},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=C;return t},useCacheRefresh:function(){return tB}},tV=null,tU={getCacheForType:function(){throw Error(a(248))},cacheSignal:function(){throw Error(a(248))}};function tH(e){if(void 0===tN)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);tN=t&&t[1]||"",tL=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tN+e+tL}var tq=!1;function tW(e,t){if(!e||tq)return"";tq=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],l=a[1];if(o&&l){var s=o.split("\n"),c=l.split("\n");for(i=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===s.length||i===c.length)for(r=s.length-1,i=c.length-1;1<=r&&0<=i&&s[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(s[r]!==c[i]){if(1!==r||1!==i)do if(r--,i--,0>i||s[r]!==c[i]){var u="\n"+s[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i)break}}}finally{tq=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tH(n):""}function tY(e,t){return 500<t.byteSize&&null===t.contentPreamble}function tK(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e])[0]?e.splice(0,1,"[%s] "+e[0]," "+t+" "):e.splice(0,0,"[%s]"," "+t+" "),e.unshift(console),(t=e2.apply(console.error,e))()}else console.error(e);return null}function tG(e,t,n,r,i,a,o,l,s,c,u){var d=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=d,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===i?tK:i,this.onPostpone=void 0===c?ti:c,this.onAllReady=void 0===a?ti:a,this.onShellReady=void 0===o?ti:o,this.onShellError=void 0===l?ti:l,this.onFatalError=void 0===s?ti:s,this.formState=void 0===u?null:u}var t$=null;function tZ(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,nb(e))}function tX(e,t,n,r,i){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:eH(),fallbackState:eH(),contentPreamble:r,fallbackPreamble:i,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,r.push(n)),null!==(e=t.inheritedHoistables)&&eJ(n.contentState,e)),n}function tJ(e,t,n,r,i,a,o,l,s,c,u,d,p,f,h){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++,null!==f&&f.pendingTasks++;var m={replay:null,node:n,childIndex:r,ping:function(){return tZ(e,m)},blockedBoundary:i,blockedSegment:a,blockedPreamble:o,hoistableState:l,abortSet:s,keyPath:c,formatContext:u,context:d,treeContext:p,row:f,componentStack:h,thenableState:t};return s.add(m),m}function tQ(e,t,n,r,i,a,o,l,s,c,u,d,p,f){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==p&&p.pendingTasks++,n.pendingTasks++;var h={replay:n,node:r,childIndex:i,ping:function(){return tZ(e,h)},blockedBoundary:a,blockedSegment:null,blockedPreamble:null,hoistableState:o,abortSet:l,keyPath:s,formatContext:c,context:u,treeContext:d,row:p,componentStack:f,thenableState:t};return l.add(h),h}function t1(e,t,n,r,i,a){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function t2(e){var t=e.node;"object"==typeof t&&null!==t&&t.$$typeof===o&&(e.componentStack={parent:e.componentStack,type:t.type})}function t0(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function t5(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",r=e;do n+=function e(t){if("string"==typeof t)return tH(t);if("function"==typeof t)return t.prototype&&t.prototype.isReactComponent?tW(t,!0):tW(t,!1);if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return tW(t.render,!1);case g:return tW(t.type,!1);case y:var n=t,r=n._payload;n=n._init;try{t=n(r)}catch(e){return tH("Lazy")}return e(t)}if("string"==typeof t.name){s:{r=t.name,n=t.env;var i=t.debugLocation;if(null!=i&&(t=Error.prepareStackTrace,Error.prepareStackTrace=void 0,i=i.stack,Error.prepareStackTrace=t,i.startsWith("Error: react-stack-top-frame\n")&&(i=i.slice(29)),-1!==(t=i.indexOf("\n"))&&(i=i.slice(t+1)),-1!==(t=i.indexOf("react_stack_bottom_frame"))&&(t=i.lastIndexOf("\n",t)),-1!==(t=-1===(i=(t=-1!==t?i=i.slice(0,t):"").lastIndexOf("\n"))?t:t.slice(i+1)).indexOf(r))){r="\n"+t;break s}r=tH(r+(n?" ["+n+"]":""))}return r}}switch(t){case m:return tH("SuspenseList");case h:return tH("Suspense")}return""}(r.type),r=r.parent;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return Object.defineProperty(t,"componentStack",{value:i}),i}}),t}function t7(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function t3(e,t){var n=e.onShellError,r=e.onFatalError;n(t),r(t),null!==e.destination?(e.status=14,e.destination.destroy(t)):(e.status=13,e.fatalError=t)}function t8(e,t){t4(e,t.next,t.hoistables)}function t4(e,t,n){for(;null!==t;){null!==n&&(eJ(t.hoistables,n),t.inheritedHoistables=n);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var i=0;i<r.length;i++){var a=r[i];null!==n&&eJ(a.contentState,n),nv(e,a,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function t6(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var r=!0,i=0;i<n.length;i++){var a=n[i];if(1!==a.pendingTasks||a.parentFlushed||tY(e,a)){r=!1;break}}r&&t4(e,t,t.hoistables)}}function t9(e){var t={pendingTasks:1,boundaries:null,hoistables:eH(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function ne(e,t,n,r,i){var a=t.keyPath,o=t.treeContext,l=t.row;t.keyPath=n,n=r.length;var s=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var u=0;u<n;u++){var d="backwards"!==i&&"unstable_legacy-backwards"!==i?u:n-1-u,p=r[d];t.row=s=t9(s),t.treeContext=te(o,n,d);var f=c[d];"number"==typeof f?(ni(e,t,f,p,d),delete c[d]):nd(e,t,p,d),0==--s.pendingTasks&&t8(e,s)}else for(c=0;c<n;c++)d=r[u="backwards"!==i&&"unstable_legacy-backwards"!==i?c:n-1-c],t.row=s=t9(s),t.treeContext=te(o,n,u),nd(e,t,d,u),0==--s.pendingTasks&&t8(e,s)}else if("backwards"!==i&&"unstable_legacy-backwards"!==i)for(i=0;i<n;i++)c=r[i],t.row=s=t9(s),t.treeContext=te(o,n,i),nd(e,t,c,i),0==--s.pendingTasks&&t8(e,s);else{for(c=(i=t.blockedSegment).children.length,u=i.chunks.length,d=n-1;0<=d;d--){p=r[d],t.row=s=t9(s),t.treeContext=te(o,n,d),f=t1(e,u,null,t.formatContext,0!==d||i.lastPushedText,!0),i.children.splice(c,0,f),t.blockedSegment=f;try{nd(e,t,p,d),e1(f.chunks,e.renderState,f.lastPushedText,f.textEmbedded),f.status=1,0==--s.pendingTasks&&t8(e,s)}catch(t){throw f.status=12===e.status?3:4,t}}t.blockedSegment=i,i.lastPushedText=!1}null!==l&&null!==s&&0<s.pendingTasks&&(l.pendingTasks++,s.next=l),t.treeContext=o,t.row=l,t.keyPath=a}function nt(e,t,n,r,i,a){var o=t.thenableState;for(t.thenableState=null,tc={},tu=t,td=e,tp=n,tv=ty=0,tb=-1,tx=0,tC=o,e=r(i,a);tg;)tg=!1,tv=ty=0,tb=-1,tx=0,tw+=1,th=null,e=r(i,a);return tT(),e}function nn(e,t,n,r,i,a,o){var l=!1;if(0!==a&&null!==e.formState){var s=t.blockedSegment;if(null!==s){l=!0,s=s.chunks;for(var c=0;c<a;c++)c===o?s.push("<!--F!-->"):s.push("<!--F-->")}}a=t.keyPath,t.keyPath=n,i?(n=t.treeContext,t.treeContext=te(n,1,0),nd(e,t,r,-1),t.treeContext=n):l?nd(e,t,r,-1):na(e,t,r,-1),t.keyPath=a}function nr(e,t,n,i,o,l){if("function"==typeof i)if(i.prototype&&i.prototype.isReactComponent){var C=o;if("ref"in o)for(var w in C={},o)"ref"!==w&&(C[w]=o[w]);var S=i.defaultProps;if(S)for(var D in C===o&&(C=E({},C,o)),S)void 0===C[D]&&(C[D]=S[D]);o=C,C=e7,"object"==typeof(S=i.contextType)&&null!==S&&(C=S._currentValue2);var I=void 0!==(C=new i(o,C)).state?C.state:null;if(C.updater=e6,C.props=o,C.state=I,S={queue:[],replace:!1},C._reactInternals=S,l=i.contextType,C.context="object"==typeof l&&null!==l?l._currentValue2:e7,"function"==typeof(l=i.getDerivedStateFromProps)&&(I=null==(l=l(o,I))?I:E({},I,l),C.state=I),"function"!=typeof i.getDerivedStateFromProps&&"function"!=typeof C.getSnapshotBeforeUpdate&&("function"==typeof C.UNSAFE_componentWillMount||"function"==typeof C.componentWillMount))if(i=C.state,"function"==typeof C.componentWillMount&&C.componentWillMount(),"function"==typeof C.UNSAFE_componentWillMount&&C.UNSAFE_componentWillMount(),i!==C.state&&e6.enqueueReplaceState(C,C.state,null),null!==S.queue&&0<S.queue.length)if(i=S.queue,l=S.replace,S.queue=null,S.replace=!1,l&&1===i.length)C.state=i[0];else{for(S=l?i[0]:C.state,I=!0,l=+!!l;l<i.length;l++)null!=(D="function"==typeof(D=i[l])?D.call(C,S,o,void 0):D)&&(I?(I=!1,S=E({},S,D)):E(S,D));C.state=S}else S.queue=null;if(i=C.render(),12===e.status)throw null;o=t.keyPath,t.keyPath=n,na(e,t,i,-1),t.keyPath=o}else{if(i=nt(e,t,n,i,o,void 0),12===e.status)throw null;nn(e,t,n,i,0!==ty,tv,tb)}else if("string"==typeof i)if(null===(C=t.blockedSegment))C=o.children,S=t.formatContext,I=t.keyPath,t.formatContext=Z(S,i,o),t.keyPath=n,nd(e,t,C,-1),t.formatContext=S,t.keyPath=I;else{if(I=function(e,t,n,i,o,l,s,c,u){switch(t){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":e.push(ek("a"));var d,p=null,f=null;for(d in n)if(T.call(n,d)){var h=n[d];if(null!=h)switch(d){case"children":p=h;break;case"dangerouslySetInnerHTML":f=h;break;case"href":""===h?er(e,"href",""):ec(e,d,h);break;default:ec(e,d,h)}}if(e.push(">"),eu(e,f,p),"string"==typeof p){e.push(R(p));var m=null}else m=p;return m;case"select":e.push(ek("select"));var g,y=null,v=null;for(g in n)if(T.call(n,g)){var b=n[g];if(null!=b)switch(g){case"children":y=b;break;case"dangerouslySetInnerHTML":v=b;break;case"defaultValue":case"value":break;default:ec(e,g,b)}}return e.push(">"),eu(e,v,y),y;case"option":var x=c.selectedValue;e.push(ek("option"));var C,k=null,w=null,_=null,S=null;for(C in n)if(T.call(n,C)){var D=n[C];if(null!=D)switch(C){case"children":k=D;break;case"selected":_=D;break;case"dangerouslySetInnerHTML":S=D;break;case"value":w=D;default:ec(e,C,D)}}if(null!=x){var I,A,P=null!==w?""+w:(I=k,A="",r.Children.forEach(I,function(e){null!=e&&(A+=e)}),A);if(j(x)){for(var M=0;M<x.length;M++)if(""+x[M]===P){e.push(' selected=""');break}}else""+x===P&&e.push(' selected=""')}else _&&e.push(' selected=""');return e.push(">"),eu(e,S,k),k;case"textarea":e.push(ek("textarea"));var F,B=null,N=null,L=null;for(F in n)if(T.call(n,F)){var V=n[F];if(null!=V)switch(F){case"children":L=V;break;case"value":B=V;break;case"defaultValue":N=V;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:ec(e,F,V)}}if(null===B&&null!==N&&(B=N),e.push(">"),null!=L){if(null!=B)throw Error(a(92));if(j(L)){if(1<L.length)throw Error(a(93));B=""+L[0]}B=""+L}return"string"==typeof B&&"\n"===B[0]&&e.push("\n"),null!==B&&e.push(R(""+B)),null;case"input":e.push(ek("input"));var U,H=null,q=null,Y=null,K=null,G=null,$=null,Z=null,X=null,J=null;for(U in n)if(T.call(n,U)){var Q=n[U];if(null!=Q)switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"name":H=Q;break;case"formAction":q=Q;break;case"formEncType":Y=Q;break;case"formMethod":K=Q;break;case"formTarget":G=Q;break;case"defaultChecked":J=Q;break;case"defaultValue":Z=Q;break;case"checked":X=Q;break;case"value":$=Q;break;default:ec(e,U,Q)}}var ee=es(e,i,o,q,Y,K,G,H);return null!==X?en(e,"checked",X):null!==J&&en(e,"checked",J),null!==$?ec(e,"value",$):null!==Z&&ec(e,"value",Z),e.push("/>"),null!=ee&&ee.forEach(ea,e),null;case"button":e.push(ek("button"));var eo,ex=null,eC=null,ew=null,ej=null,eS=null,eE=null,eT=null;for(eo in n)if(T.call(n,eo)){var eD=n[eo];if(null!=eD)switch(eo){case"children":ex=eD;break;case"dangerouslySetInnerHTML":eC=eD;break;case"name":ew=eD;break;case"formAction":ej=eD;break;case"formEncType":eS=eD;break;case"formMethod":eE=eD;break;case"formTarget":eT=eD;break;default:ec(e,eo,eD)}}var eI=es(e,i,o,ej,eS,eE,eT,ew);if(e.push(">"),null!=eI&&eI.forEach(ea,e),eu(e,eC,ex),"string"==typeof ex){e.push(R(ex));var eA=null}else eA=ex;return eA;case"form":e.push(ek("form"));var eO,eP=null,eM=null,eF=null,eR=null,eB=null,eN=null;for(eO in n)if(T.call(n,eO)){var eL=n[eO];if(null!=eL)switch(eO){case"children":eP=eL;break;case"dangerouslySetInnerHTML":eM=eL;break;case"action":eF=eL;break;case"encType":eR=eL;break;case"method":eB=eL;break;case"target":eN=eL;break;default:ec(e,eO,eL)}}var ez=null,eV=null;if("function"==typeof eF){var eU=el(i,eF);null!==eU?(eF=eU.action||"",eR=eU.encType,eB=eU.method,eN=eU.target,ez=eU.data,eV=eU.name):(e.push(" ","action",'="',ei,'"'),eN=eB=eR=eF=null,ed(i,o))}if(null!=eF&&ec(e,"action",eF),null!=eR&&ec(e,"encType",eR),null!=eB&&ec(e,"method",eB),null!=eN&&ec(e,"target",eN),e.push(">"),null!==eV&&(e.push('<input type="hidden"'),er(e,"name",eV),e.push("/>"),null!=ez&&ez.forEach(ea,e)),eu(e,eM,eP),"string"==typeof eP){e.push(R(eP));var eH=null}else eH=eP;return eH;case"menuitem":for(var eY in e.push(ek("menuitem")),n)if(T.call(n,eY)){var eK=n[eY];if(null!=eK)switch(eY){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:ec(e,eY,eK)}}return e.push(">"),null;case"object":e.push(ek("object"));var eG,e$=null,eZ=null;for(eG in n)if(T.call(n,eG)){var eX=n[eG];if(null!=eX)switch(eG){case"children":e$=eX;break;case"dangerouslySetInnerHTML":eZ=eX;break;case"data":var eJ=z(""+eX);if(""===eJ)break;e.push(" ","data",'="',R(eJ),'"');break;default:ec(e,eG,eX)}}if(e.push(">"),eu(e,eZ,e$),"string"==typeof e$){e.push(R(e$));var eQ=null}else eQ=e$;return eQ;case"title":var e1=1&c.tagScope,e2=4&c.tagScope;if(4===c.insertionMode||e1||null!=n.itemProp)var e0=eg(e,n);else e2?e0=null:(eg(o.hoistableChunks,n),e0=void 0);return e0;case"link":var e5=1&c.tagScope,e7=4&c.tagScope,e3=n.rel,e8=n.href,e4=n.precedence;if(4===c.insertionMode||e5||null!=n.itemProp||"string"!=typeof e3||"string"!=typeof e8||""===e8){ep(e,n);var e6=null}else if("stylesheet"===n.rel)if("string"!=typeof e4||null!=n.disabled||n.onLoad||n.onError)e6=ep(e,n);else{var e9=o.styles.get(e4),te=i.styleResources.hasOwnProperty(e8)?i.styleResources[e8]:void 0;if(null!==te){i.styleResources[e8]=null,e9||(e9={precedence:R(e4),rules:[],hrefs:[],sheets:new Map},o.styles.set(e4,e9));var tt={state:0,props:E({},n,{"data-precedence":n.precedence,precedence:null})};if(te){2===te.length&&eq(tt.props,te);var tn=o.preloads.stylesheets.get(e8);tn&&0<tn.length?tn.length=0:tt.state=1}e9.sheets.set(e8,tt),s&&s.stylesheets.add(tt)}else if(e9){var tr=e9.sheets.get(e8);tr&&s&&s.stylesheets.add(tr)}u&&e.push("<!-- -->"),e6=null}else n.onLoad||n.onError?e6=ep(e,n):(u&&e.push("<!-- -->"),e6=e7?null:ep(o.hoistableChunks,n));return e6;case"script":var ti=1&c.tagScope,ta=n.async;if("string"!=typeof n.src||!n.src||!ta||"function"==typeof ta||"symbol"==typeof ta||n.onLoad||n.onError||4===c.insertionMode||ti||null!=n.itemProp)var to=ey(e,n);else{var tl=n.src;if("module"===n.type)var ts=i.moduleScriptResources,tc=o.preloads.moduleScripts;else ts=i.scriptResources,tc=o.preloads.scripts;var tu=ts.hasOwnProperty(tl)?ts[tl]:void 0;if(null!==tu){ts[tl]=null;var td=n;if(tu){2===tu.length&&eq(td=E({},n),tu);var tp=tc.get(tl);tp&&(tp.length=0)}var tf=[];o.scripts.add(tf),ey(tf,td)}u&&e.push("<!-- -->"),to=null}return to;case"style":var th=1&c.tagScope,tm=n.precedence,tg=n.href,ty=n.nonce;if(4===c.insertionMode||th||null!=n.itemProp||"string"!=typeof tm||"string"!=typeof tg||""===tg){e.push(ek("style"));var tv,tb=null,tx=null;for(tv in n)if(T.call(n,tv)){var tC=n[tv];if(null!=tC)switch(tv){case"children":tb=tC;break;case"dangerouslySetInnerHTML":tx=tC;break;default:ec(e,tv,tC)}}e.push(">");var tk=Array.isArray(tb)?2>tb.length?tb[0]:null:tb;"function"!=typeof tk&&"symbol"!=typeof tk&&null!=tk&&e.push((""+tk).replace(ef,eh)),eu(e,tx,tb),e.push(e_("style"));var tw=null}else{var t_=o.styles.get(tm);if(null!==(i.styleResources.hasOwnProperty(tg)?i.styleResources[tg]:void 0)){i.styleResources[tg]=null,t_||(t_={precedence:R(tm),rules:[],hrefs:[],sheets:new Map},o.styles.set(tm,t_));var tj=o.nonce.style;if(!tj||tj===ty){t_.hrefs.push(R(tg));var tS,tE=t_.rules,tT=null,tD=null;for(tS in n)if(T.call(n,tS)){var tI=n[tS];if(null!=tI)switch(tS){case"children":tT=tI;break;case"dangerouslySetInnerHTML":tD=tI}}var tA=Array.isArray(tT)?2>tT.length?tT[0]:null:tT;"function"!=typeof tA&&"symbol"!=typeof tA&&null!=tA&&tE.push((""+tA).replace(ef,eh)),eu(tE,tD,tT)}}t_&&s&&s.styles.add(t_),u&&e.push("<!-- -->"),tw=void 0}return tw;case"meta":var tO=1&c.tagScope,tP=4&c.tagScope;if(4===c.insertionMode||tO||null!=n.itemProp)var tM=em(e,n,"meta");else u&&e.push("<!-- -->"),tM=tP?null:"string"==typeof n.charSet?em(o.charsetChunks,n,"meta"):"viewport"===n.name?em(o.viewportChunks,n,"meta"):em(o.hoistableChunks,n,"meta");return tM;case"listing":case"pre":e.push(ek(t));var tF,tR=null,tB=null;for(tF in n)if(T.call(n,tF)){var tN=n[tF];if(null!=tN)switch(tF){case"children":tR=tN;break;case"dangerouslySetInnerHTML":tB=tN;break;default:ec(e,tF,tN)}}if(e.push(">"),null!=tB){if(null!=tR)throw Error(a(60));if("object"!=typeof tB||!("__html"in tB))throw Error(a(61));var tL=tB.__html;null!=tL&&("string"==typeof tL&&0<tL.length&&"\n"===tL[0]?e.push("\n",tL):e.push(""+tL))}return"string"==typeof tR&&"\n"===tR[0]&&e.push("\n"),tR;case"img":var tz=3&c.tagScope,tV=n.src,tU=n.srcSet;if(!("lazy"===n.loading||!tV&&!tU||"string"!=typeof tV&&null!=tV||"string"!=typeof tU&&null!=tU||"low"===n.fetchPriority||tz)&&("string"!=typeof tV||":"!==tV[4]||"d"!==tV[0]&&"D"!==tV[0]||"a"!==tV[1]&&"A"!==tV[1]||"t"!==tV[2]&&"T"!==tV[2]||"a"!==tV[3]&&"A"!==tV[3])&&("string"!=typeof tU||":"!==tU[4]||"d"!==tU[0]&&"D"!==tU[0]||"a"!==tU[1]&&"A"!==tU[1]||"t"!==tU[2]&&"T"!==tU[2]||"a"!==tU[3]&&"A"!==tU[3])){var tH="string"==typeof n.sizes?n.sizes:void 0,tq=tU?tU+"\n"+(tH||""):tV,tW=o.preloads.images,tY=tW.get(tq);if(tY)("high"===n.fetchPriority||10>o.highImagePreloads.size)&&(tW.delete(tq),o.highImagePreloads.add(tY));else if(!i.imageResources.hasOwnProperty(tq)){i.imageResources[tq]=W;var tK,tG=n.crossOrigin,t$="string"==typeof tG?"use-credentials"===tG?tG:"":void 0,tZ=o.headers;tZ&&0<tZ.remainingCapacity&&"string"!=typeof n.srcSet&&("high"===n.fetchPriority||500>tZ.highImagePreloads.length)&&(tK=eW(tV,"image",{imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:t$,integrity:n.integrity,nonce:n.nonce,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.refererPolicy}),0<=(tZ.remainingCapacity-=tK.length+2))?(o.resets.image[tq]=W,tZ.highImagePreloads&&(tZ.highImagePreloads+=", "),tZ.highImagePreloads+=tK):(ep(tY=[],{rel:"preload",as:"image",href:tU?void 0:tV,imageSrcSet:tU,imageSizes:tH,crossOrigin:t$,integrity:n.integrity,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.referrerPolicy}),"high"===n.fetchPriority||10>o.highImagePreloads.size?o.highImagePreloads.add(tY):(o.bulkPreloads.add(tY),tW.set(tq,tY)))}}return em(e,n,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return em(e,n,t);case"head":if(2>c.insertionMode){var tX=l||o.preamble;if(tX.headChunks)throw Error(a(545,"`<head>`"));null!==l&&e.push("<!--head-->"),tX.headChunks=[];var tJ=ev(tX.headChunks,n,"head")}else tJ=eb(e,n,"head");return tJ;case"body":if(2>c.insertionMode){var tQ=l||o.preamble;if(tQ.bodyChunks)throw Error(a(545,"`<body>`"));null!==l&&e.push("<!--body-->"),tQ.bodyChunks=[];var t1=ev(tQ.bodyChunks,n,"body")}else t1=eb(e,n,"body");return t1;case"html":if(0===c.insertionMode){var t2=l||o.preamble;if(t2.htmlChunks)throw Error(a(545,"`<html>`"));null!==l&&e.push("<!--html-->"),t2.htmlChunks=[""];var t0=ev(t2.htmlChunks,n,"html")}else t0=eb(e,n,"html");return t0;default:if(-1!==t.indexOf("-")){e.push(ek(t));var t5,t7=null,t3=null;for(t5 in n)if(T.call(n,t5)){var t8=n[t5];if(null!=t8){var t4=t5;switch(t5){case"children":t7=t8;break;case"dangerouslySetInnerHTML":t3=t8;break;case"style":et(e,t8);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":t4="class";default:if(O(t5)&&"function"!=typeof t8&&"symbol"!=typeof t8&&!1!==t8){if(!0===t8)t8="";else if("object"==typeof t8)continue;e.push(" ",t4,'="',R(t8),'"')}}}}return e.push(">"),eu(e,t3,t7),t7}}return eb(e,n,t)}(C.chunks,i,o,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,C.lastPushedText),C.lastPushedText=!1,S=t.formatContext,l=t.keyPath,t.keyPath=n,3===(t.formatContext=Z(S,i,o)).insertionMode){n=t1(e,0,null,t.formatContext,!1,!1),C.preambleChildren.push(n),t.blockedSegment=n;try{n.status=6,nd(e,t,I,-1),e1(n.chunks,e.renderState,n.lastPushedText,n.textEmbedded),n.status=1}finally{t.blockedSegment=C}}else nd(e,t,I,-1);t.formatContext=S,t.keyPath=l;s:{switch(t=C.chunks,e=e.resumableState,i){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break s;case"body":if(1>=S.insertionMode){e.hasBody=!0;break s}break;case"html":if(0===S.insertionMode){e.hasHtml=!0;break s}break;case"head":if(1>=S.insertionMode)break s}t.push(e_(i))}C.lastPushedText=!1}else{switch(i){case x:case c:case u:case s:i=t.keyPath,t.keyPath=n,na(e,t,o.children,-1),t.keyPath=i;return;case b:null===(i=t.blockedSegment)?"hidden"!==o.mode&&(i=t.keyPath,t.keyPath=n,nd(e,t,o.children,-1),t.keyPath=i):"hidden"!==o.mode&&(e.renderState.generateStaticMarkup||i.chunks.push("<!--&-->"),i.lastPushedText=!1,C=t.keyPath,t.keyPath=n,nd(e,t,o.children,-1),t.keyPath=C,e.renderState.generateStaticMarkup||i.chunks.push("<!--/&-->"),i.lastPushedText=!1);return;case m:s:{if(i=o.children,"forwards"===(o=o.revealOrder)||"backwards"===o||"unstable_legacy-backwards"===o){if(j(i)){ne(e,t,n,i,o);break s}if((C=_(i))&&(C=C.call(i))){if(!(S=C.next()).done){do S=C.next();while(!S.done)ne(e,t,n,i,o)}break s}}"together"===o?(o=t.keyPath,C=t.row,(S=t.row=t9(null)).boundaries=[],S.together=!0,t.keyPath=n,na(e,t,i,-1),0==--S.pendingTasks&&t8(e,S),t.keyPath=o,t.row=C,null!==C&&0<S.pendingTasks&&(C.pendingTasks++,S.next=C)):(o=t.keyPath,t.keyPath=n,na(e,t,i,-1),t.keyPath=o)}return;case k:case v:throw Error(a(343));case h:s:if(null!==t.replay){i=t.keyPath,C=t.formatContext,S=t.row,t.keyPath=n,t.formatContext=Q(e.resumableState,C),t.row=null,n=o.children;try{nd(e,t,n,-1)}finally{t.keyPath=i,t.formatContext=C,t.row=S}}else{i=t.keyPath,l=t.formatContext;var A=t.row,P=t.blockedBoundary;D=t.blockedPreamble;var M=t.hoistableState;w=t.blockedSegment;var F=o.fallback;o=o.children;var B=new Set,N=tX(e,t.row,B,null,null);null!==e.trackedPostpones&&(N.trackedContentKeyPath=n);var L=t1(e,w.chunks.length,N,t.formatContext,!1,!1);w.children.push(L),w.lastPushedText=!1;var V=t1(e,0,null,t.formatContext,!1,!1);if(V.parentFlushed=!0,null!==e.trackedPostpones){C=t.componentStack,I=[(S=[n[0],"Suspense Fallback",n[2]])[1],S[2],[],null],e.trackedPostpones.workingMap.set(S,I),N.trackedFallbackNode=I,t.blockedSegment=L,t.blockedPreamble=N.fallbackPreamble,t.keyPath=S,t.formatContext=J(e.resumableState,l),t.componentStack=t0(C),L.status=6;try{nd(e,t,F,-1),e1(L.chunks,e.renderState,L.lastPushedText,L.textEmbedded),L.status=1}catch(t){throw L.status=12===e.status?3:4,t}finally{t.blockedSegment=w,t.blockedPreamble=D,t.keyPath=i,t.formatContext=l}t2(t=tJ(e,null,o,-1,N,V,N.contentPreamble,N.contentState,t.abortSet,n,Q(e.resumableState,t.formatContext),t.context,t.treeContext,null,C)),e.pingedTasks.push(t)}else{t.blockedBoundary=N,t.blockedPreamble=N.contentPreamble,t.hoistableState=N.contentState,t.blockedSegment=V,t.keyPath=n,t.formatContext=Q(e.resumableState,l),t.row=null,V.status=6;try{if(nd(e,t,o,-1),e1(V.chunks,e.renderState,V.lastPushedText,V.textEmbedded),V.status=1,ny(N,V),0===N.pendingTasks&&0===N.status){if(N.status=1,!tY(e,N)){null!==A&&0==--A.pendingTasks&&t8(e,A),0===e.pendingRootTasks&&t.blockedPreamble&&nk(e);break s}}else null!==A&&A.together&&t6(e,A)}catch(n){N.status=4,12===e.status?(V.status=3,C=e.fatalError):(V.status=4,C=n),N.errorDigest=I=t7(e,C,S=t5(t.componentStack)),ns(e,N)}finally{t.blockedBoundary=P,t.blockedPreamble=D,t.hoistableState=M,t.blockedSegment=w,t.keyPath=i,t.formatContext=l,t.row=A}t2(t=tJ(e,null,F,-1,P,L,N.fallbackPreamble,N.fallbackState,B,[n[0],"Suspense Fallback",n[2]],J(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,t0(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof i&&null!==i)switch(i.$$typeof){case f:if("ref"in o)for(F in C={},o)"ref"!==F&&(C[F]=o[F]);else C=o;i=nt(e,t,n,i.render,C,l),nn(e,t,n,i,0!==ty,tv,tb);return;case g:nr(e,t,n,i.type,o,l);return;case p:if(S=o.children,C=t.keyPath,o=o.value,I=i._currentValue2,i._currentValue2=o,e3=i={parent:l=e3,depth:null===l?0:l.depth+1,context:i,parentValue:I,value:o},t.context=i,t.keyPath=n,na(e,t,S,-1),null===(e=e3))throw Error(a(403));e.context._currentValue2=e.parentValue,e=e3=e.parent,t.context=e,t.keyPath=C;return;case d:i=(o=o.children)(i._context._currentValue2),o=t.keyPath,t.keyPath=n,na(e,t,i,-1),t.keyPath=o;return;case y:if(i=(C=i._init)(i._payload),12===e.status)throw null;nr(e,t,n,i,o,l);return}throw Error(a(130,null==i?i:typeof i,""))}}function ni(e,t,n,r,i){var a=t.replay,o=t.blockedBoundary,l=t1(e,0,null,t.formatContext,!1,!1);l.id=n,l.parentFlushed=!0;try{t.replay=null,t.blockedSegment=l,nd(e,t,r,i),l.status=1,null===o?e.completedRootSegment=l:(ny(o,l),o.parentFlushed&&e.partialBoundaries.push(o))}finally{t.replay=a,t.blockedSegment=null}}function na(e,t,n,r){null!==t.replay&&"number"==typeof t.replay.slots?ni(e,t,t.replay.slots,n,r):(t.node=n,t.childIndex=r,n=t.componentStack,t2(t),no(e,t),t.componentStack=n)}function no(e,t){var n=t.node,r=t.childIndex;if(null!==n){if("object"==typeof n){switch(n.$$typeof){case o:var i=n.type,s=n.key,c=n.props,u=void 0!==(n=c.ref)?n:null,d=e5(i),f=null==s?-1===r?0:r:s;if(s=[t.keyPath,d,f],null!==t.replay)s:{var m=t.replay;for(n=0,r=m.nodes;n<r.length;n++){var g=r[n];if(f===g[1]){if(4===g.length){if(null!==d&&d!==g[0])throw Error(a(490,g[0],d));var v=g[2];d=g[3],f=t.node,t.replay={nodes:v,slots:d,pendingTasks:1};try{if(nr(e,t,s,i,c,u),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(a){if("object"==typeof a&&null!==a&&(a===ta||"function"==typeof a.then))throw t.node===f?t.replay=m:r.splice(n,1),a;t.replay.pendingTasks--,c=t5(t.componentStack),s=e,e=t.blockedBoundary,c=t7(s,i=a,c),nf(s,e,v,d,i,c)}t.replay=m}else{if(i!==h)throw Error(a(490,"Suspense",e5(i)||"Unknown"));c:{m=void 0,i=g[5],u=g[2],d=g[3],f=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var b=t.keyPath,x=t.formatContext,C=t.row,k=t.replay,w=t.blockedBoundary,S=t.hoistableState,E=c.children,T=c.fallback,D=new Set;(c=tX(e,t.row,D,null,null)).parentFlushed=!0,c.rootSegmentID=i,t.blockedBoundary=c,t.hoistableState=c.contentState,t.keyPath=s,t.formatContext=Q(e.resumableState,x),t.row=null,t.replay={nodes:u,slots:d,pendingTasks:1};try{if(nd(e,t,E,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));if(t.replay.pendingTasks--,0===c.pendingTasks&&0===c.status){c.status=1,e.completedBoundaries.push(c);break c}}catch(n){c.status=4,m=t7(e,n,v=t5(t.componentStack)),c.errorDigest=m,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(c)}finally{t.blockedBoundary=w,t.hoistableState=S,t.replay=k,t.keyPath=b,t.formatContext=x,t.row=C}t2(v=tQ(e,null,{nodes:f,slots:g,pendingTasks:0},T,-1,w,c.fallbackState,D,[s[0],"Suspense Fallback",s[2]],J(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,t0(t.componentStack))),e.pingedTasks.push(v)}}r.splice(n,1);break s}}}else nr(e,t,s,i,c,u);return;case l:throw Error(a(257));case y:if(n=(v=n._init)(n._payload),12===e.status)throw null;na(e,t,n,r);return}if(j(n))return void nl(e,t,n,r);if((v=_(n))&&(v=v.call(n))){if(!(n=v.next()).done){c=[];do c.push(n.value),n=v.next();while(!n.done)nl(e,t,c,r)}return}if("function"==typeof n.then)return t.thenableState=null,na(e,t,tR(n),r);if(n.$$typeof===p)return na(e,t,n._currentValue2,r);throw Error(a(31,"[object Object]"===(r=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r))}"string"==typeof n?null!==(r=t.blockedSegment)&&(r.lastPushedText=eQ(r.chunks,n,e.renderState,r.lastPushedText)):("number"==typeof n||"bigint"==typeof n)&&null!==(r=t.blockedSegment)&&(r.lastPushedText=eQ(r.chunks,""+n,e.renderState,r.lastPushedText))}}function nl(e,t,n,r){var i=t.keyPath;if(-1!==r&&(t.keyPath=[t.keyPath,"Fragment",r],null!==t.replay)){for(var o=t.replay,l=o.nodes,s=0;s<l.length;s++){var c=l[s];if(c[1]===r){t.replay={nodes:r=c[2],slots:c=c[3],pendingTasks:1};try{if(nl(e,t,n,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(i){if("object"==typeof i&&null!==i&&(i===ta||"function"==typeof i.then))throw i;t.replay.pendingTasks--,n=t5(t.componentStack);var u=t.blockedBoundary;n=t7(e,i,n),nf(e,u,r,c,i,n)}t.replay=o,l.splice(s,1);break}}t.keyPath=i;return}if(o=t.treeContext,l=n.length,null!==t.replay&&null!==(s=t.replay.slots)&&"object"==typeof s){for(r=0;r<l;r++)c=n[r],t.treeContext=te(o,l,r),"number"==typeof(u=s[r])?(ni(e,t,u,c,r),delete s[r]):nd(e,t,c,r);t.treeContext=o,t.keyPath=i;return}for(s=0;s<l;s++)r=n[s],t.treeContext=te(o,l,s),nd(e,t,r,s);t.treeContext=o,t.keyPath=i}function ns(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.trackedContentKeyPath)&&void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)}function nc(e,t,n){return tQ(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function nu(e,t,n){var r=t.blockedSegment,i=t1(e,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(i),r.lastPushedText=!1,tJ(e,n,t.node,t.childIndex,t.blockedBoundary,i,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function nd(e,t,n,r){var i=t.formatContext,a=t.context,o=t.keyPath,l=t.treeContext,s=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return na(e,t,n,r)}catch(u){if(tT(),n=u===ta?tl():u,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){e=nc(e,t,r=u===ta?tE():null).ping,n.then(e,e),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,t.replay=c,e4(a);return}if("Maximum call stack size exceeded"===n.message){n=nc(e,t,n=u===ta?tE():null),e.pingedTasks.push(n),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,t.replay=c,e4(a);return}}}}else{var u=c.children.length,d=c.chunks.length;try{return na(e,t,n,r)}catch(r){if(tT(),c.children.length=u,c.chunks.length=d,n=r===ta?tl():r,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){c=n,e=nu(e,t,n=r===ta?tE():null).ping,c.then(e,e),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,e4(a);return}if("Maximum call stack size exceeded"===n.message){c=nu(e,t,c=r===ta?tE():null),e.pingedTasks.push(c),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,e4(a);return}}}}throw t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,e4(a),n}function np(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,nv(this,t,e.row,n))}function nf(e,t,n,r,i,o){for(var l=0;l<n.length;l++){var s=n[l];if(4===s.length)nf(e,t,s[2],s[3],i,o);else{s=s[5];var c=tX(e,null,new Set,null,null);c.parentFlushed=!0,c.rootSegmentID=s,c.status=4,c.errorDigest=o,c.parentFlushed&&e.clientRenderedBoundaries.push(c)}}if(n.length=0,null!==r){if(null===t)throw Error(a(487));if(4!==t.status&&(t.status=4,t.errorDigest=o,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof r)for(var u in r)delete r[u]}}function nh(e,t){try{var n=e.renderState,r=n.onHeaders;if(r){var i=n.headers;if(i){n.headers=null;var a=i.preconnects;if(i.fontPreloads&&(a&&(a+=", "),a+=i.fontPreloads),i.highImagePreloads&&(a&&(a+=", "),a+=i.highImagePreloads),!t){var o=n.styles.values(),l=o.next();c:for(;0<i.remainingCapacity&&!l.done;l=o.next())for(var s=l.value.sheets.values(),c=s.next();0<i.remainingCapacity&&!c.done;c=s.next()){var u=c.value,d=u.props,p=d.href,f=u.props,h=eW(f.href,"style",{crossOrigin:f.crossOrigin,integrity:f.integrity,nonce:f.nonce,type:f.type,fetchPriority:f.fetchPriority,referrerPolicy:f.referrerPolicy,media:f.media});if(0<=(i.remainingCapacity-=h.length+2))n.resets.style[p]=W,a&&(a+=", "),a+=h,n.resets.style[p]="string"==typeof d.crossOrigin||"string"==typeof d.integrity?[d.crossOrigin,d.integrity]:W;else break c}}r(a?{Link:a}:{})}}}catch(t){t7(e,t,{})}}function nm(e){null===e.trackedPostpones&&nh(e,!0),null===e.trackedPostpones&&nk(e),e.onShellError=ti,(e=e.onShellReady)()}function ng(e){nh(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),nk(e),(e=e.onAllReady)()}function ny(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||ny(e,n)}else e.completedSegments.push(t)}function nv(e,t,n,r){if(null!==n&&(0==--n.pendingTasks?t8(e,n):n.together&&t6(e,n)),e.allPendingTasks--,null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&nm(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&(1===r.status||3===r.status)&&ny(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(n=t.row)&&eJ(n.hoistables,t.contentState),tY(e,t)||(t.fallbackAbortableTasks.forEach(np,e),t.fallbackAbortableTasks.clear(),null!==n&&0==--n.pendingTasks&&t8(e,n)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&nk(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){n=e.trackedPostpones;var i=t.next;if(null!==i&&null!==(r=i.boundaries))for(i.boundaries=null,i=0;i<r.length;i++){var o=r[i],l=e,s=n;if(o.status=5,o.rootSegmentID=l.nextSegmentId++,null===(l=o.trackedContentKeyPath))throw Error(a(486));var c=o.trackedFallbackNode,u=[],d=s.workingMap.get(l);void 0===d?(c=[l[1],l[2],u,null,c,o.rootSegmentID],s.workingMap.set(l,c),function e(t,n,r){if(null===n)r.rootNodes.push(t);else{var i=r.workingMap,a=i.get(n);void 0===a&&(a=[n[1],n[2],[],null],i.set(n,a),e(a,n[0],r)),a[2].push(t)}}(c,l[0],s)):(d[4]=c,d[5]=o.rootSegmentID),nv(e,o,null,null)}}0==--t.pendingTasks&&t8(e,t)}}else null===r||!r.parentFlushed||1!==r.status&&3!==r.status||(ny(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&t6(e,t);0===e.allPendingTasks&&ng(e)}function nb(e){if(14!==e.status&&13!==e.status){var t=e3,n=V.H;V.H=tz;var r=V.A;V.A=tU;var i=t$;t$=e;var o=tV;tV=e.resumableState;try{var l,s=e.pingedTasks;for(l=0;l<s.length;l++){var c=s[l],u=e,d=c.blockedSegment;if(null===d){var p=u;if(0!==c.replay.pendingTasks){e4(c.context);try{if("number"==typeof c.replay.slots?ni(p,c,c.replay.slots,c.node,c.childIndex):no(p,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(a(488));c.replay.pendingTasks--,c.abortSet.delete(c),nv(p,c.blockedBoundary,c.row,null)}catch(e){tT();var f=e===ta?tl():e;if("object"==typeof f&&null!==f&&"function"==typeof f.then){var h=c.ping;f.then(h,h),c.thenableState=e===ta?tE():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var m=t5(c.componentStack);u=void 0;var g=p,y=c.blockedBoundary,v=12===p.status?p.fatalError:f,b=c.replay.nodes,x=c.replay.slots;u=t7(g,v,m),nf(g,y,b,x,v,u),p.pendingRootTasks--,0===p.pendingRootTasks&&nm(p),p.allPendingTasks--,0===p.allPendingTasks&&ng(p)}}finally{}}}else if(p=void 0,g=d,0===g.status){g.status=6,e4(c.context);var C=g.children.length,k=g.chunks.length;try{no(u,c),e1(g.chunks,u.renderState,g.lastPushedText,g.textEmbedded),c.abortSet.delete(c),g.status=1,nv(u,c.blockedBoundary,c.row,g)}catch(e){tT(),g.children.length=C,g.chunks.length=k;var w=e===ta?tl():12===u.status?u.fatalError:e;if("object"==typeof w&&null!==w&&"function"==typeof w.then){g.status=0,c.thenableState=e===ta?tE():null;var _=c.ping;w.then(_,_)}else{var j=t5(c.componentStack);c.abortSet.delete(c),g.status=4;var S=c.blockedBoundary,E=c.row;if(null!==E&&0==--E.pendingTasks&&t8(u,E),u.allPendingTasks--,p=t7(u,w,j),null===S)t3(u,w);else if(S.pendingTasks--,4!==S.status){S.status=4,S.errorDigest=p,ns(u,S);var T=S.row;null!==T&&0==--T.pendingTasks&&t8(u,T),S.parentFlushed&&u.clientRenderedBoundaries.push(S),0===u.pendingRootTasks&&null===u.trackedPostpones&&null!==S.contentPreamble&&nk(u)}0===u.allPendingTasks&&ng(u)}}finally{}}}s.splice(0,l),null!==e.destination&&nD(e,e.destination)}catch(t){t7(e,t,{}),t3(e,t)}finally{tV=o,V.H=n,V.A=r,n===tz&&e4(t),t$=i}}}function nx(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var r=!1,i=0;i<t.children.length;i++)r=nC(e,t.children[i],n)||r;return r}function nC(e,t,n){var r=t.boundary;if(null===r)return nx(e,t,n);var i=r.contentPreamble,o=r.fallbackPreamble;if(null===i||null===o)return!1;switch(r.status){case 1:if(ej(e.renderState,i),e.byteSize+=r.byteSize,!(t=r.completedSegments[0]))throw Error(a(391));return nx(e,t,n);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return ej(e.renderState,o),nx(e,t,n);default:return!0}}function nk(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,r=nC(e,e.completedRootSegment,t),i=e.renderState.preamble;!1===r||i.headChunks&&i.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function nw(e,t,n,r){switch(n.parentFlushed=!0,n.status){case 0:n.id=e.nextSegmentId++;case 5:return r=n.id,n.lastPushedText=!1,n.textEmbedded=!1,e=e.renderState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0,o=n.chunks,l=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];l<i.index;l++)t.push(o[l]);i=nj(e,t,i,r)}for(;l<o.length-1;l++)t.push(o[l]);return l<o.length&&(i=t.push(o[l])),i;case 3:return!0;default:throw Error(a(390))}}var n_=0;function nj(e,t,n,r){var i=n.boundary;if(null===i)return nw(e,t,n,r);if(i.parentFlushed=!0,4===i.status){var o=i.row;return null!==o&&0==--o.pendingTasks&&t8(e,o),e.renderState.generateStaticMarkup||(i=i.errorDigest,t.push("<!--$!-->"),t.push("<template"),i&&(t.push(' data-dgst="'),i=R(i),t.push(i),t.push('"')),t.push("></template>")),nw(e,t,n,r),e=!!e.renderState.generateStaticMarkup||t.push("<!--/$-->")}if(1!==i.status)return 0===i.status&&(i.rootSegmentID=e.nextSegmentId++),0<i.completedSegments.length&&e.partialBoundaries.push(i),eE(t,e.renderState,i.rootSegmentID),r&&eJ(r,i.fallbackState),nw(e,t,n,r),t.push("<!--/$-->");if(tY(e,i)&&n_+i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),eE(t,e.renderState,i.rootSegmentID),nw(e,t,n,r),t.push("<!--/$-->");if(n_+=i.byteSize,r&&eJ(r,i.contentState),null!==(n=i.row)&&tY(e,i)&&0==--n.pendingTasks&&t8(e,n),e.renderState.generateStaticMarkup||t.push("<!--$-->"),1!==(n=i.completedSegments).length)throw Error(a(391));return nj(e,t,n[0],r),e=!!e.renderState.generateStaticMarkup||t.push("<!--/$-->")}function nS(e,t,n,r){switch(!function(e,t,n,r){switch(n.insertionMode){case 0:case 1:case 3:case 2:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 8:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 9:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(a(397))}}(t,e.renderState,n.parentFormatContext,n.id),nj(e,t,n,r),n.parentFormatContext.insertionMode){case 0:case 1:case 3:case 2:return t.push("</div>");case 4:return t.push("</svg>");case 5:return t.push("</math>");case 6:return t.push("</table>");case 7:return t.push("</tbody></table>");case 8:return t.push("</tr></table>");case 9:return t.push("</colgroup></table>");default:throw Error(a(397))}}function nE(e,t,n){n_=n.byteSize;for(var r,i,o=n.completedSegments,l=0;l<o.length;l++)nT(e,t,n,o[l]);o.length=0,null!==(o=n.row)&&tY(e,n)&&0==--o.pendingTasks&&t8(e,o),eF(t,n.contentState,e.renderState),o=e.resumableState,e=e.renderState,l=n.rootSegmentID,n=n.contentState;var s=e.stylesToHoist;return e.stylesToHoist=!1,t.push(e.startInlineScript),t.push(">"),s?(0==(4&o.instructions)&&(o.instructions|=4,t.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),0==(2&o.instructions)&&(o.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),0==(8&o.instructions)?(o.instructions|=8,t.push('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("')):t.push('$RR("')):(0==(2&o.instructions)&&(o.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),t.push('$RC("')),o=l.toString(16),t.push(e.boundaryPrefix),t.push(o),t.push('","'),t.push(e.segmentPrefix),t.push(o),s?(t.push('",'),r=n,t.push("["),i="[",r.stylesheets.forEach(function(e){if(2!==e.state)if(3===e.state)t.push(i),e=eI(""+e.props.href),t.push(e),t.push("]"),i=",[";else{t.push(i);var n=e.props["data-precedence"],r=e.props,o=z(""+e.props.href);for(var l in o=eI(o),t.push(o),n=""+n,t.push(","),n=eI(n),t.push(n),r)if(T.call(r,l)&&null!=(n=r[l]))switch(l){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:!function(e,t,n){var r=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=z(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!O(t))return;t=""+n}e.push(","),r=eI(r),e.push(r),e.push(","),r=eI(t),e.push(r)}(t,l,n)}t.push("]"),i=",[",e.state=3}}),t.push("]")):t.push('"'),n=t.push(")</script>"),eS(t,e)&&n}function nT(e,t,n,r){if(2===r.status)return!0;var i=n.contentState,o=r.id;if(-1===o){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return nS(e,t,r,i)}return o===n.rootSegmentID?nS(e,t,r,i):(nS(e,t,r,i),n=e.resumableState,e=e.renderState,t.push(e.startInlineScript),t.push(">"),0==(1&n.instructions)?(n.instructions|=1,t.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):t.push('$RS("'),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t=t.push('")</script>'))}function nD(e,t){try{if(!(0<e.pendingRootTasks)){var n,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var i=e.completedPreambleSegments;if(null===i)return;n_=e.byteSize;var a,o=e.resumableState,l=e.renderState,s=l.preamble,c=s.htmlChunks,u=s.headChunks;if(c){for(a=0;a<c.length;a++)t.push(c[a]);if(u)for(a=0;a<u.length;a++)t.push(u[a]);else{var d=ek("head");t.push(d),t.push(">")}}else if(u)for(a=0;a<u.length;a++)t.push(u[a]);var p=l.charsetChunks;for(a=0;a<p.length;a++)t.push(p[a]);p.length=0,l.preconnects.forEach(eR,t),l.preconnects.clear();var f=l.viewportChunks;for(a=0;a<f.length;a++)t.push(f[a]);f.length=0,l.fontPreloads.forEach(eR,t),l.fontPreloads.clear(),l.highImagePreloads.forEach(eR,t),l.highImagePreloads.clear(),Y=l,l.styles.forEach(eL,t),Y=null;var h=l.importMapChunks;for(a=0;a<h.length;a++)t.push(h[a]);h.length=0,l.bootstrapScripts.forEach(eR,t),l.scripts.forEach(eR,t),l.scripts.clear(),l.bulkPreloads.forEach(eR,t),l.bulkPreloads.clear(),o.instructions|=32;var m=l.hoistableChunks;for(a=0;a<m.length;a++)t.push(m[a]);for(o=m.length=0;o<i.length;o++){var g=i[o];for(l=0;l<g.length;l++)nj(e,t,g[l],null)}var y=e.renderState.preamble,v=y.headChunks;if(y.htmlChunks||v){var b=e_("head");t.push(b)}var x=y.bodyChunks;if(x)for(i=0;i<x.length;i++)t.push(x[i]);nj(e,t,r,null),e.completedRootSegment=null;var C=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var k=e.resumableState;if(0==(64&k.instructions)){if(k.instructions|=64,t.push(C.startInlineScript),0==(32&k.instructions)){k.instructions|=32;var w="_"+k.idPrefix+"R_";t.push(' id="');var _=R(w);t.push(_),t.push('"')}t.push(">"),t.push("requestAnimationFrame(function(){$RT=performance.now()});"),t.push("</script>")}}eS(t,C)}var j=e.renderState;r=0;var S=j.viewportChunks;for(r=0;r<S.length;r++)t.push(S[r]);S.length=0,j.preconnects.forEach(eR,t),j.preconnects.clear(),j.fontPreloads.forEach(eR,t),j.fontPreloads.clear(),j.highImagePreloads.forEach(eR,t),j.highImagePreloads.clear(),j.styles.forEach(eV,t),j.scripts.forEach(eR,t),j.scripts.clear(),j.bulkPreloads.forEach(eR,t),j.bulkPreloads.clear();var E=j.hoistableChunks;for(r=0;r<E.length;r++)t.push(E[r]);E.length=0;var T=e.clientRenderedBoundaries;for(n=0;n<T.length;n++){var D=T[n];j=t;var I=e.resumableState,A=e.renderState,O=D.rootSegmentID,P=D.errorDigest;j.push(A.startInlineScript),j.push(">"),0==(4&I.instructions)?(I.instructions|=4,j.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):j.push('$RX("'),j.push(A.boundaryPrefix);var M=O.toString(16);if(j.push(M),j.push('"'),P){j.push(",");var F,B=(F=P||"",JSON.stringify(F).replace(eT,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}));j.push(B)}var N=j.push(")</script>");if(!N){e.destination=null,n++,T.splice(0,n);return}}T.splice(0,n);var L=e.completedBoundaries;for(n=0;n<L.length;n++)if(!nE(e,t,L[n])){e.destination=null,n++,L.splice(0,n);return}L.splice(0,n);var z=e.partialBoundaries;for(n=0;n<z.length;n++){var V=z[n];s:{T=e,D=t,n_=V.byteSize;var U=V.completedSegments;for(N=0;N<U.length;N++)if(!nT(T,D,V,U[N])){N++,U.splice(0,N);var H=!1;break s}U.splice(0,N);var q=V.row;null!==q&&q.together&&1===V.pendingTasks&&(1===q.pendingTasks?t4(T,q,q.hoistables):q.pendingTasks--),H=eF(D,V.contentState,T.renderState)}if(!H){e.destination=null,n++,z.splice(0,n);return}}z.splice(0,n);var W=e.completedBoundaries;for(n=0;n<W.length;n++)if(!nE(e,t,W[n])){e.destination=null,n++,W.splice(0,n);return}W.splice(0,n)}}finally{0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&(e.flushScheduled=!1,(n=e.resumableState).hasBody&&(z=e_("body"),t.push(z)),n.hasHtml&&(n=e_("html"),t.push(n)),e.status=14,t.push(null),e.destination=null)}}function nI(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){e.flushScheduled=!0;var t=e.destination;t?nD(e,t):e.flushScheduled=!1}}function nA(){}function nO(e,t,n,r){var i,o,l,s,c,u=!1,d=null,p="",f=!1;t={idPrefix:void 0===(i=t?t.identifierPrefix:void 0)?"":i,nextFormID:0,streamingFormat:0,bootstrapScriptContent:void 0,bootstrapScripts:void 0,bootstrapModules:void 0,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}},o=e,l=t,s=function(e,t){var n=e.idPrefix,r=[],i=e.bootstrapScriptContent,a=e.bootstrapScripts,o=e.bootstrapModules;void 0!==i&&(r.push("<script"),eU(r,e),r.push(">",(""+i).replace(K,G),"</script>")),i=n+"P:";var l=n+"S:";n+="B:";var s=new Set,c=new Set,u=new Set,d=new Map,p=new Set,f=new Set,h=new Set,m={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(void 0!==a)for(var g=0;g<a.length;g++){var y,v=a[g],b=void 0,x=void 0,C={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};"string"==typeof v?C.href=y=v:(C.href=y=v.src,C.integrity=x="string"==typeof v.integrity?v.integrity:void 0,C.crossOrigin=b="string"==typeof v||null==v.crossOrigin?void 0:"use-credentials"===v.crossOrigin?"use-credentials":"");var k=y;(v=e).scriptResources[k]=null,v.moduleScriptResources[k]=null,ep(v=[],C),p.add(v),r.push('<script src="',R(y),'"'),"string"==typeof x&&r.push(' integrity="',R(x),'"'),"string"==typeof b&&r.push(' crossorigin="',R(b),'"'),eU(r,e),r.push(' async=""></script>')}if(void 0!==o)for(a=0;a<o.length;a++)C=o[a],b=y=void 0,x={rel:"modulepreload",fetchPriority:"low",nonce:void 0},"string"==typeof C?x.href=g=C:(x.href=g=C.src,x.integrity=b="string"==typeof C.integrity?C.integrity:void 0,x.crossOrigin=y="string"==typeof C||null==C.crossOrigin?void 0:"use-credentials"===C.crossOrigin?"use-credentials":""),C=e,v=g,C.scriptResources[v]=null,C.moduleScriptResources[v]=null,ep(C=[],x),p.add(C),r.push('<script type="module" src="',R(g),'"'),"string"==typeof b&&r.push(' integrity="',R(b),'"'),"string"==typeof y&&r.push(' crossorigin="',R(y),'"'),eU(r,e),r.push(' async=""></script>');return{placeholderPrefix:i,segmentPrefix:l,boundaryPrefix:n,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:r,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:s,fontPreloads:c,highImagePreloads:u,styles:d,bootstrapScripts:p,scripts:f,bulkPreloads:h,preloads:m,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:t}}(t,n),(s=t1(l=new tG(l,s,c=$(0,null,0,null),1/0,nA,void 0,function(){f=!0},void 0,void 0,void 0,void 0),0,null,c,!1,!1)).parentFlushed=!0,t2(o=tJ(l,null,o,-1,null,s,null,null,l.abortableTasks,null,c,null,e9,null,null)),l.pingedTasks.push(o),(e=l).flushScheduled=null!==e.destination,nb(e),10===e.status&&(e.status=11),null===e.trackedPostpones&&nh(e,0===e.pendingRootTasks);var h=e;(11===h.status||10===h.status)&&(h.status=12);try{var m=h.abortableTasks;if(0<m.size){var g=void 0===r?Error(a(432)):"object"==typeof r&&null!==r&&"function"==typeof r.then?Error(a(530)):r;h.fatalError=g,m.forEach(function(e){return function e(t,n,r){var i=t.blockedBoundary,a=t.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}if(a=t5(t.componentStack),null===i){if(13!==n.status&&14!==n.status){if(null===(i=t.replay)){t7(n,r,a),t3(n,r);return}i.pendingTasks--,0===i.pendingTasks&&0<i.nodes.length&&(a=t7(n,r,a),nf(n,null,i.nodes,i.slots,r,a)),n.pendingRootTasks--,0===n.pendingRootTasks&&nm(n)}}else 4!==i.status&&(i.status=4,a=t7(n,r,a),i.status=4,i.errorDigest=a,ns(n,i),i.parentFlushed&&n.clientRenderedBoundaries.push(i)),i.pendingTasks--,null!==(a=i.row)&&0==--a.pendingTasks&&t8(n,a),i.fallbackAbortableTasks.forEach(function(t){return e(t,n,r)}),i.fallbackAbortableTasks.clear();null!==(t=t.row)&&0==--t.pendingTasks&&t8(n,t),n.allPendingTasks--,0===n.allPendingTasks&&ng(n)}(e,h,g)}),m.clear()}null!==h.destination&&nD(h,h.destination)}catch(e){t7(h,e,{}),t3(h,e)}var y=e,v={push:function(e){return null!==e&&(p+=e),!0},destroy:function(e){u=!0,d=e}};if(13===y.status)y.status=14,v.destroy(y.fatalError);else if(14!==y.status&&null===y.destination){y.destination=v;try{nD(y,v)}catch(e){t7(y,e,{}),t3(y,e)}}if(u&&d!==r)throw d;if(!f)throw Error(a(426));return p}n.renderToStaticMarkup=function(e,t){return nO(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.renderToString=function(e,t){return nO(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.version="19.2.0-canary-0bdb9206-20250818"},149340,(e,t,n)=>{"use strict";var r=e.r(271645),i=e.r(174080);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.scope"),b=Symbol.for("react.activity"),x=Symbol.for("react.legacy_hidden"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.for("react.view_transition"),w=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}var j=Array.isArray;function S(e,t){var n=3&e.length,r=e.length-n,i=t;for(t=0;t<r;){var a=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,i^=a=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)|0,i=(65535&(i=5*(65535&(i=i<<13|i>>>19))+((5*(i>>>16)&65535)<<16)|0))+27492+(((i>>>16)+58964&65535)<<16)}switch(a=0,n){case 3:a^=(255&e.charCodeAt(t+2))<<16;case 2:a^=(255&e.charCodeAt(t+1))<<8;case 1:a^=255&e.charCodeAt(t),i^=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)}return i^=e.length,i^=i>>>16,i=0x85ebca6b*(65535&i)+((0x85ebca6b*(i>>>16)&65535)<<16)|0,i^=i>>>13,((i=0xc2b2ae35*(65535&i)+((0xc2b2ae35*(i>>>16)&65535)<<16)|0)^i>>>16)>>>0}var E=new MessageChannel,T=[];function D(e){T.push(e),E.port2.postMessage(null)}function I(e){setTimeout(function(){throw e})}E.port1.onmessage=function(){var e=T.shift();e&&e()};var A=Promise,O="function"==typeof queueMicrotask?queueMicrotask:function(e){A.resolve(null).then(e).catch(I)},P=null,M=0;function F(e,t){if(0!==t.byteLength)if(2048<t.byteLength)0<M&&(e.enqueue(new Uint8Array(P.buffer,0,M)),P=new Uint8Array(2048),M=0),e.enqueue(t);else{var n=P.length-M;n<t.byteLength&&(0===n?e.enqueue(P):(P.set(t.subarray(0,n),M),e.enqueue(P),t=t.subarray(n)),P=new Uint8Array(2048),M=0),P.set(t,M),M+=t.byteLength}}function R(e,t){return F(e,t),!0}function B(e){P&&0<M&&(e.enqueue(new Uint8Array(P.buffer,0,M)),P=null,M=0)}var N=new TextEncoder;function L(e){return N.encode(e)}function z(e){return N.encode(e)}function V(e){return e.byteLength}function U(e,t){"function"==typeof e.error?e.error(t):e.close()}var H=Object.assign,q=Object.prototype.hasOwnProperty,W=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y={},K={};function G(e){return!!q.call(K,e)||!q.call(Y,e)&&(W.test(e)?K[e]=!0:(Y[e]=!0,!1))}var $=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Z=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X=/["'&<>]/;function J(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=X.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.slice(i,n)),i=n+1,r+=t}e=i!==n?r+e.slice(i,n):r}return e}var Q=/([A-Z])/g,ee=/^ms-/,et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(e){return et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var er=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ei=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ea={pending:!1,data:null,method:null,action:null},eo=ei.d;ei.d={f:eo.f,r:eo.r,D:function(e){var t=rL||null;if(t){var n,r,i=t.resumableState,a=t.renderState;"string"==typeof e&&e&&(i.dnsResources.hasOwnProperty(e)||(i.dnsResources[e]=null,(r=(i=a.headers)&&0<i.remainingCapacity)&&(n="<"+(""+e).replace(nB,nN)+">; rel=dns-prefetch",r=0<=(i.remainingCapacity-=n.length+2)),r?(a.resets.dns[e]=null,i.preconnects&&(i.preconnects+=", "),i.preconnects+=n):(e3(n=[],{href:e,rel:"dns-prefetch"}),a.preconnects.add(n))),i_(t))}else eo.D(e)},C:function(e,t){var n=rL||null;if(n){var r=n.resumableState,i=n.renderState;if("string"==typeof e&&e){var a,o,l="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";r.connectResources[l].hasOwnProperty(e)||(r.connectResources[l][e]=null,(o=(r=i.headers)&&0<r.remainingCapacity)&&(o="<"+(""+e).replace(nB,nN)+">; rel=preconnect","string"==typeof t&&(o+='; crossorigin="'+(""+t).replace(nL,nz)+'"'),a=o,o=0<=(r.remainingCapacity-=a.length+2)),o?(i.resets.connect[l][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=a):(e3(l=[],{rel:"preconnect",href:e,crossOrigin:t}),i.preconnects.add(l))),i_(n)}}else eo.C(e,t)},L:function(e,t,n){var r=rL||null;if(r){var i=r.resumableState,a=r.renderState;if(t&&e){switch(t){case"image":if(n)var o,l=n.imageSrcSet,s=n.imageSizes,c=n.fetchPriority;var u=l?l+"\n"+(s||""):e;if(i.imageResources.hasOwnProperty(u))return;i.imageResources[u]=el,(i=a.headers)&&0<i.remainingCapacity&&"string"!=typeof l&&"high"===c&&(o=nR(e,t,n),0<=(i.remainingCapacity-=o.length+2))?(a.resets.image[u]=el,i.highImagePreloads&&(i.highImagePreloads+=", "),i.highImagePreloads+=o):(e3(i=[],H({rel:"preload",href:l?void 0:e,as:t},n)),"high"===c?a.highImagePreloads.add(i):(a.bulkPreloads.add(i),a.preloads.images.set(u,i)));break;case"style":if(i.styleResources.hasOwnProperty(e))return;e3(l=[],H({rel:"preload",href:e,as:t},n)),i.styleResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:el,a.preloads.stylesheets.set(e,l),a.bulkPreloads.add(l);break;case"script":if(i.scriptResources.hasOwnProperty(e))return;l=[],a.preloads.scripts.set(e,l),a.bulkPreloads.add(l),e3(l,H({rel:"preload",href:e,as:t},n)),i.scriptResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:el;break;default:if(i.unknownResources.hasOwnProperty(t)){if((l=i.unknownResources[t]).hasOwnProperty(e))return}else l={},i.unknownResources[t]=l;l[e]=el,(i=a.headers)&&0<i.remainingCapacity&&"font"===t&&(u=nR(e,t,n),0<=(i.remainingCapacity-=u.length+2))?(a.resets.font[e]=el,i.fontPreloads&&(i.fontPreloads+=", "),i.fontPreloads+=u):(e3(i=[],e=H({rel:"preload",href:e,as:t},n)),"font"===t)?a.fontPreloads.add(i):a.bulkPreloads.add(i)}i_(r)}}else eo.L(e,t,n)},m:function(e,t){var n=rL||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=t&&"string"==typeof t.as?t.as:"script";if("script"===a){if(r.moduleScriptResources.hasOwnProperty(e))return;a=[],r.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:el,i.preloads.moduleScripts.set(e,a)}else{if(r.moduleUnknownResources.hasOwnProperty(a)){var o=r.unknownResources[a];if(o.hasOwnProperty(e))return}else o={},r.moduleUnknownResources[a]=o;a=[],o[e]=el}e3(a,H({rel:"modulepreload",href:e},t)),i.bulkPreloads.add(a),i_(n)}}else eo.m(e,t)},X:function(e,t){var n=rL||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==a&&(r.scriptResources[e]=null,t=H({src:e,async:!0},t),a&&(2===a.length&&nF(t,a),e=i.preloads.scripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),tr(e,t),i_(n))}}else eo.X(e,t)},S:function(e,t,n){var r=rL||null;if(r){var i=r.resumableState,a=r.renderState;if(e){t=t||"default";var o=a.styles.get(t),l=i.styleResources.hasOwnProperty(e)?i.styleResources[e]:void 0;null!==l&&(i.styleResources[e]=null,o||(o={precedence:L(J(t)),rules:[],hrefs:[],sheets:new Map},a.styles.set(t,o)),t={state:0,props:H({rel:"stylesheet",href:e,"data-precedence":t},n)},l&&(2===l.length&&nF(t.props,l),(a=a.preloads.stylesheets.get(e))&&0<a.length?a.length=0:t.state=1),o.sheets.set(e,t),i_(r))}}else eo.S(e,t,n)},M:function(e,t){var n=rL||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==a&&(r.moduleScriptResources[e]=null,t=H({src:e,type:"module",async:!0},t),a&&(2===a.length&&nF(t,a),e=i.preloads.moduleScripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),tr(e,t),i_(n))}}else eo.M(e,t)}};var el=[],es=null;z('"></template>');var ec=z("<script"),eu=z("</script>"),ed=z('<script src="'),ep=z('<script type="module" src="'),ef=z(' nonce="'),eh=z(' integrity="'),em=z(' crossorigin="'),eg=z(' async=""></script>'),ey=z("<style"),ev=/(<\/|<)(s)(cript)/gi;function eb(e,t,n,r){return""+t+("s"===n?"\\u0073":"\\u0053")+r}var ex=z('<script type="importmap">'),eC=z("</script>");function ek(e,t,n,r,i,a){var o=void 0===(n="string"==typeof t?t:t&&t.script)?ec:z('<script nonce="'+J(n)+'"'),l="string"==typeof t?void 0:t&&t.style,s=void 0===l?ey:z('<style nonce="'+J(l)+'"'),c=e.idPrefix,u=[],d=e.bootstrapScriptContent,p=e.bootstrapScripts,f=e.bootstrapModules;if(void 0!==d&&(u.push(o),nD(u,e),u.push(eX,L((""+d).replace(ev,eb)),eu)),d=[],void 0!==r&&(d.push(ex),d.push(L((""+JSON.stringify(r)).replace(ev,eb))),d.push(eC)),r=i?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+("number"==typeof a?a:2e3)}:null,i={placeholderPrefix:z(c+"P:"),segmentPrefix:z(c+"S:"),boundaryPrefix:z(c+"B:"),startInlineScript:o,startInlineStyle:s,preamble:e_(),externalRuntimeScript:null,bootstrapChunks:u,importMapChunks:d,onHeaders:i,headers:r,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:n,style:l},hoistableState:null,stylesToHoist:!1},void 0!==p)for(r=0;r<p.length;r++)c=p[r],l=o=void 0,s={rel:"preload",as:"script",fetchPriority:"low",nonce:t},"string"==typeof c?s.href=a=c:(s.href=a=c.src,s.integrity=l="string"==typeof c.integrity?c.integrity:void 0,s.crossOrigin=o="string"==typeof c||null==c.crossOrigin?void 0:"use-credentials"===c.crossOrigin?"use-credentials":""),c=e,d=a,c.scriptResources[d]=null,c.moduleScriptResources[d]=null,e3(c=[],s),i.bootstrapScripts.add(c),u.push(ed,L(J(a)),ez),n&&u.push(ef,L(J(n)),ez),"string"==typeof l&&u.push(eh,L(J(l)),ez),"string"==typeof o&&u.push(em,L(J(o)),ez),nD(u,e),u.push(eg);if(void 0!==f)for(t=0;t<f.length;t++)l=f[t],a=r=void 0,o={rel:"modulepreload",fetchPriority:"low",nonce:n},"string"==typeof l?o.href=p=l:(o.href=p=l.src,o.integrity=a="string"==typeof l.integrity?l.integrity:void 0,o.crossOrigin=r="string"==typeof l||null==l.crossOrigin?void 0:"use-credentials"===l.crossOrigin?"use-credentials":""),l=e,s=p,l.scriptResources[s]=null,l.moduleScriptResources[s]=null,e3(l=[],o),i.bootstrapScripts.add(l),u.push(ep,L(J(p)),ez),n&&u.push(ef,L(J(n)),ez),"string"==typeof a&&u.push(eh,L(J(a)),ez),"string"==typeof r&&u.push(em,L(J(r)),ez),nD(u,e),u.push(eg);return i}function ew(e,t,n,r,i){return{idPrefix:void 0===e?"":e,nextFormID:0,streamingFormat:0,bootstrapScriptContent:n,bootstrapScripts:r,bootstrapModules:i,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function e_(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function ej(e,t,n,r){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:r}}function eS(e){return ej("http://www.w3.org/2000/svg"===e?4:5*("http://www.w3.org/1998/Math/MathML"===e),null,0,null)}function eE(e,t,n){var r=-25&e.tagScope;switch(t){case"noscript":return ej(2,null,1|r,null);case"select":return ej(2,null!=n.value?n.value:n.defaultValue,r,null);case"svg":return ej(4,null,r,null);case"picture":return ej(2,null,2|r,null);case"math":return ej(5,null,r,null);case"foreignObject":return ej(2,null,r,null);case"table":return ej(6,null,r,null);case"thead":case"tbody":case"tfoot":return ej(7,null,r,null);case"colgroup":return ej(9,null,r,null);case"tr":return ej(8,null,r,null);case"head":if(2>e.insertionMode)return ej(3,null,r,null);break;case"html":if(0===e.insertionMode)return ej(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?ej(2,null,r,null):e.tagScope!==r?ej(e.insertionMode,e.selectedValue,r,null):e}function eT(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function eD(e,t){return 32&t.tagScope&&(e.instructions|=128),ej(t.insertionMode,t.selectedValue,12|t.tagScope,eT(t.viewTransition))}function eI(e,t){return ej(t.insertionMode,t.selectedValue,16|t.tagScope,eT(t.viewTransition))}var eA=z("<!-- -->");function eO(e,t,n,r){return""===t?r:(r&&e.push(eA),e.push(L(J(t))),!0)}var eP=new Map,eM=z(' style="'),eF=z(":"),eR=z(";");function eB(e,t){if("object"!=typeof t)throw Error(a(62));var n,r=!0;for(n in t)if(q.call(t,n)){var i=t[n];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===n.indexOf("--")){var o=L(J(n));i=L(J((""+i).trim()))}else void 0===(o=eP.get(n))&&(o=z(J(n.replace(Q,"-$1").toLowerCase().replace(ee,"-ms-"))),eP.set(n,o)),i="number"==typeof i?0===i||$.has(n)?L(""+i):L(i+"px"):L(J((""+i).trim()));r?(r=!1,e.push(eM,o,eF,i)):e.push(eR,o,eF,i)}}r||e.push(ez)}var eN=z(" "),eL=z('="'),ez=z('"'),eV=z('=""');function eU(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(eN,L(t),eV)}function eH(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(eN,L(t),eL,L(J(n)),ez)}var eq=z(J("javascript:throw new Error('React form unexpectedly submitted.')")),eW=z('<input type="hidden"');function eY(e,t){this.push(eW),eK(e),eH(this,"name",t),eH(this,"value",e),this.push(eJ)}function eK(e){if("string"!=typeof e)throw Error(a(480))}function eG(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var r=t.$$FORM_ACTION(e);if(r){var i=r.data;null!=i&&i.forEach(eK)}return r}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then)throw e}}return null}function e$(e,t,n,r,i,a,o,l){var s=null;if("function"==typeof r){var c=eG(t,r);null!==c?(l=c.name,r=c.action||"",i=c.encType,a=c.method,o=c.target,s=c.data):(e.push(eN,L("formAction"),eL,eq,ez),o=a=i=r=l=null,e0(t,n))}return null!=l&&eZ(e,"name",l),null!=r&&eZ(e,"formAction",r),null!=i&&eZ(e,"formEncType",i),null!=a&&eZ(e,"formMethod",a),null!=o&&eZ(e,"formTarget",o),s}function eZ(e,t,n){switch(t){case"className":eH(e,"class",n);break;case"tabIndex":eH(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":eH(e,t,n);break;case"style":eB(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=en(""+n),e.push(eN,L(t),eL,L(J(n)),ez);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":eU(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=en(""+n),e.push(eN,L("xlink:href"),eL,L(J(n)),ez);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(eN,L(t),eL,L(J(n)),ez);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(eN,L(t),eV);break;case"capture":case"download":!0===n?e.push(eN,L(t),eV):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(eN,L(t),eL,L(J(n)),ez);break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(eN,L(t),eL,L(J(n)),ez);break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(eN,L(t),eL,L(J(n)),ez);break;case"xlinkActuate":eH(e,"xlink:actuate",n);break;case"xlinkArcrole":eH(e,"xlink:arcrole",n);break;case"xlinkRole":eH(e,"xlink:role",n);break;case"xlinkShow":eH(e,"xlink:show",n);break;case"xlinkTitle":eH(e,"xlink:title",n);break;case"xlinkType":eH(e,"xlink:type",n);break;case"xmlBase":eH(e,"xml:base",n);break;case"xmlLang":eH(e,"xml:lang",n);break;case"xmlSpace":eH(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&G(t=Z.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(eN,L(t),eL,L(J(n)),ez)}}}var eX=z(">"),eJ=z("/>");function eQ(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!=typeof t||!("__html"in t))throw Error(a(61));null!=(t=t.__html)&&e.push(L(""+t))}}var e1=z(' selected=""'),e2=z('addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});');function e0(e,t){if(0==(16&e.instructions)){e.instructions|=16;var n=t.preamble,r=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===r.length?(r.push(t.startInlineScript),nD(r,e),r.push(eX,e2,eu)):r.unshift(t.startInlineScript,eX,e2,eu)}}var e5=z("<!--F!-->"),e7=z("<!--F-->");function e3(e,t){for(var n in e.push(tc("link")),t)if(q.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:eZ(e,n,r)}}return e.push(eJ),null}var e8=/(<\/|<)(s)(tyle)/gi;function e4(e,t,n,r){return""+t+("s"===n?"\\73 ":"\\53 ")+r}function e6(e,t,n){for(var r in e.push(tc(n)),t)if(q.call(t,r)){var i=t[r];if(null!=i)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,n));default:eZ(e,r,i)}}return e.push(eJ),null}function e9(e,t){e.push(tc("title"));var n,r=null,i=null;for(n in t)if(q.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eZ(e,n,a)}}return e.push(eX),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(L(J(""+t))),eQ(e,i,r),e.push(tp("title")),null}var te=z("<!--head-->"),tt=z("<!--body-->"),tn=z("<!--html-->");function tr(e,t){e.push(tc("script"));var n,r=null,i=null;for(n in t)if(q.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eZ(e,n,a)}}return e.push(eX),eQ(e,i,r),"string"==typeof r&&e.push(L((""+r).replace(ev,eb))),e.push(tp("script")),null}function ti(e,t,n){e.push(tc(n));var r,i=n=null;for(r in t)if(q.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eZ(e,r,a)}}return e.push(eX),eQ(e,i,n),n}function ta(e,t,n){e.push(tc(n));var r,i=n=null;for(r in t)if(q.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eZ(e,r,a)}}return e.push(eX),eQ(e,i,n),"string"==typeof n?(e.push(L(J(n))),null):n}var to=z("\n"),tl=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ts=new Map;function tc(e){var t=ts.get(e);if(void 0===t){if(!tl.test(e))throw Error(a(65,e));t=z("<"+e),ts.set(e,t)}return t}var tu=z("<!DOCTYPE html>"),td=new Map;function tp(e){var t=td.get(e);return void 0===t&&(t=z("</"+e+">"),td.set(e,t)),t}function tf(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function th(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)F(e,t[n]);return!(n<t.length)||(n=t[n],t.length=0,R(e,n))}var tm=z("requestAnimationFrame(function(){$RT=performance.now()});"),tg=z('<template id="'),ty=z('"></template>'),tv=z("<!--&-->"),tb=z("<!--/&-->"),tx=z("<!--$-->"),tC=z('<!--$?--><template id="'),tk=z('"></template>'),tw=z("<!--$!-->"),t_=z("<!--/$-->"),tj=z("<template"),tS=z('"'),tE=z(' data-dgst="');z(' data-msg="'),z(' data-stck="'),z(' data-cstck="');var tT=z("></template>");function tD(e,t,n){if(F(e,tC),null===n)throw Error(a(395));return F(e,t.boundaryPrefix),F(e,L(n.toString(16))),R(e,tk)}var tI=z('<div hidden id="'),tA=z('">'),tO=z("</div>"),tP=z('<svg aria-hidden="true" style="display:none" id="'),tM=z('">'),tF=z("</svg>"),tR=z('<math aria-hidden="true" style="display:none" id="'),tB=z('">'),tN=z("</math>"),tL=z('<table hidden id="'),tz=z('">'),tV=z("</table>"),tU=z('<table hidden><tbody id="'),tH=z('">'),tq=z("</tbody></table>"),tW=z('<table hidden><tr id="'),tY=z('">'),tK=z("</tr></table>"),tG=z('<table hidden><colgroup id="'),t$=z('">'),tZ=z("</colgroup></table>"),tX=z('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),tJ=z('$RS("'),tQ=z('","'),t1=z('")</script>');z('<template data-rsi="" data-sid="'),z('" data-pid="');var t2=z('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};');L('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),\nH=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);');var t0=z('$RC("'),t5=z('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'),t7=z('$RR("'),t3=z('","'),t8=z('",'),t4=z('"'),t6=z(")</script>");z('<template data-rci="" data-bid="'),z('<template data-rri="" data-bid="'),z('" data-sid="'),z('" data-sty="');var t9=z('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),ne=z('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),nt=z('$RX("'),nn=z('"'),nr=z(","),ni=z(")</script>");z('<template data-rxi="" data-bid="'),z('" data-dgst="'),z('" data-msg="'),z('" data-stck="'),z('" data-cstck="');var na=/[<\u2028\u2029]/g,no=/[&><\u2028\u2029]/g;function nl(e){return JSON.stringify(e).replace(no,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ns=z(' media="not all" data-precedence="'),nc=z('" data-href="'),nu=z('">'),nd=z("</style>"),np=!1,nf=!0;function nh(e){var t=e.rules,n=e.hrefs,r=0;if(n.length){for(F(this,es.startInlineStyle),F(this,ns),F(this,e.precedence),F(this,nc);r<n.length-1;r++)F(this,n[r]),F(this,nk);for(F(this,n[r]),F(this,nu),r=0;r<t.length;r++)F(this,t[r]);nf=R(this,nd),np=!0,t.length=0,n.length=0}}function nm(e){return 2!==e.state&&(np=!0)}function ng(e,t,n){return np=!1,nf=!0,es=n,t.styles.forEach(nh,e),es=null,t.stylesheets.forEach(nm),np&&(n.stylesToHoist=!0),nf}function ny(e){for(var t=0;t<e.length;t++)F(this,e[t]);e.length=0}var nv=[];function nb(e){e3(nv,e.props);for(var t=0;t<nv.length;t++)F(this,nv[t]);nv.length=0,e.state=2}var nx=z(' data-precedence="'),nC=z('" data-href="'),nk=z(" "),nw=z('">'),n_=z("</style>");function nj(e){var t=0<e.sheets.size;e.sheets.forEach(nb,this),e.sheets.clear();var n=e.rules,r=e.hrefs;if(!t||r.length){if(F(this,es.startInlineStyle),F(this,nx),F(this,e.precedence),e=0,r.length){for(F(this,nC);e<r.length-1;e++)F(this,r[e]),F(this,nk);F(this,r[e])}for(F(this,nw),e=0;e<n.length;e++)F(this,n[e]);F(this,n_),n.length=0,r.length=0}}function nS(e){if(0===e.state){e.state=1;var t=e.props;for(e3(nv,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<nv.length;e++)F(this,nv[e]);nv.length=0}}function nE(e){e.sheets.forEach(nS,this),e.sheets.clear()}z('<link rel="expect" href="#'),z('" blocking="render"/>');var nT=z(' id="');function nD(e,t){0==(32&t.instructions)&&(t.instructions|=32,e.push(nT,L(J("_"+t.idPrefix+"R_")),ez))}var nI=z("["),nA=z(",["),nO=z(","),nP=z("]");function nM(){return{styles:new Set,stylesheets:new Set}}function nF(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function nR(e,t,n){for(var r in t="<"+(e=(""+e).replace(nB,nN))+'>; rel=preload; as="'+(t=(""+t).replace(nL,nz))+'"',n)q.call(n,r)&&"string"==typeof(e=n[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(nL,nz)+'"');return t}var nB=/[<>\r\n]/g;function nN(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var nL=/["';,\r\n]/g;function nz(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function nV(e){this.styles.add(e)}function nU(e){this.stylesheets.add(e)}function nH(e,t){t.styles.forEach(nV,e),t.stylesheets.forEach(nU,e)}var nq=Function.prototype.bind,nW=Symbol.for("react.client.reference");function nY(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===nW?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case u:return"Profiler";case c:return"StrictMode";case h:return"Suspense";case m:return"SuspenseList";case b:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case l:return"Portal";case p:return e.displayName||"Context";case d:return(e._context.displayName||"Context")+".Consumer";case f:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:nY(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return nY(e(t))}catch(e){}}return null}var nK={},nG=null;function n$(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));n$(e,n)}t.context._currentValue=t.value}}function nZ(e){var t=nG;t!==e&&(null===t?function e(t){var n=t.parent;null!==n&&e(n),t.context._currentValue=t.value}(e):null===e?function e(t){t.context._currentValue=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?n$(t,e):t.depth>e.depth?function e(t,n){if(t.context._currentValue=t.parentValue,null===(t=t.parent))throw Error(a(402));t.depth===n.depth?n$(t,n):e(t,n)}(t,e):function e(t,n){var r=n.parent;if(null===r)throw Error(a(402));t.depth===r.depth?n$(t,r):e(t,r),n.context._currentValue=n.value}(t,e),nG=e)}var nX={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},nJ={id:1,overflow:""};function nQ(e,t,n){var r=e.id;e=e.overflow;var i=32-n1(r)-1;r&=~(1<<i),n+=1;var a=32-n1(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-n1(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var n1=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(n2(e)/n0|0)|0},n2=Math.log,n0=Math.LN2;function n5(){}var n7=Error(a(460)),n3=null;function n8(){if(null===n3)throw Error(a(459));var e=n3;return n3=null,e}var n4="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n6=null,n9=null,re=null,rt=null,rn=null,rr=null,ri=!1,ra=!1,ro=0,rl=0,rs=-1,rc=0,ru=null,rd=null,rp=0;function rf(){if(null===n6)throw Error(a(321));return n6}function rh(){if(0<rp)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function rm(){return null===rr?null===rn?(ri=!1,rn=rr=rh()):(ri=!0,rr=rn):null===rr.next?(ri=!1,rr=rr.next=rh()):(ri=!0,rr=rr.next),rr}function rg(){var e=ru;return ru=null,e}function ry(){rt=re=n9=n6=null,ra=!1,rn=null,rp=0,rr=rd=null}function rv(e,t){return"function"==typeof t?t(e):t}function rb(e,t,n){if(n6=rf(),rr=rm(),ri){var r=rr.queue;if(t=r.dispatch,null!==rd&&void 0!==(n=rd.get(r))){rd.delete(r),r=rr.memoizedState;do r=e(r,n.action),n=n.next;while(null!==n)return rr.memoizedState=r,[r,t]}return[rr.memoizedState,t]}return e=e===rv?"function"==typeof t?t():t:void 0!==n?n(t):t,rr.memoizedState=e,e=(e=rr.queue={last:null,dispatch:null}).dispatch=rC.bind(null,n6,e),[rr.memoizedState,e]}function rx(e,t){if(n6=rf(),rr=rm(),t=void 0===t?null:t,null!==rr){var n=rr.memoizedState;if(null!==n&&null!==t){var r=n[1];s:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!n4(t[i],r[i])){r=!1;break s}r=!0}if(r)return n[0]}}return e=e(),rr.memoizedState=[e,t],e}function rC(e,t,n){if(25<=rp)throw Error(a(301));if(e===n6)if(ra=!0,e={action:n,next:null},null===rd&&(rd=new Map),void 0===(n=rd.get(t)))rd.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function rk(){throw Error(a(394))}function rw(){throw Error(a(479))}function r_(e,t,n){rf();var r=rl++,i=re;if("function"==typeof e.$$FORM_ACTION){var a=null,o=rt;i=i.formState;var l=e.$$IS_SIGNATURE_EQUAL;if(null!==i&&"function"==typeof l){var s=i[1];l.call(e,i[2],i[3])&&s===(a=void 0!==n?"p"+n:"k"+S(JSON.stringify([o,null,r]),0))&&(rs=r,t=i[0])}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===a&&(a=void 0!==n?"p"+n:"k"+S(JSON.stringify([o,null,r]),0)),t.append("$ACTION_KEY",a)),e}),[t,e,!1]}var u=e.bind(null,t);return[t,function(e){u(e)},!1]}function rj(e){var t=rc;rc+=1,null===ru&&(ru=[]);var n=ru,r=e,i=t;switch(void 0===(i=n[i])?n.push(r):i!==r&&(r.then(n5,n5),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(n5,n5):((n=r).status="pending",n.then(function(e){if("pending"===r.status){var t=r;t.status="fulfilled",t.value=e}},function(e){if("pending"===r.status){var t=r;t.status="rejected",t.reason=e}})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}throw n3=r,n7}}function rS(){throw Error(a(393))}var rE,rT,rD={readContext:function(e){return e._currentValue},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return rj(e);if(e.$$typeof===p)return e._currentValue}throw Error(a(438,String(e)))},useContext:function(e){return rf(),e._currentValue},useMemo:rx,useReducer:rb,useRef:function(e){n6=rf();var t=(rr=rm()).memoizedState;return null===t?(e={current:e},rr.memoizedState=e):t},useState:function(e){return rb(rv,e)},useInsertionEffect:n5,useLayoutEffect:n5,useCallback:function(e,t){return rx(function(){return e},t)},useImperativeHandle:n5,useEffect:n5,useDebugValue:n5,useDeferredValue:function(e,t){return rf(),void 0!==t?t:e},useTransition:function(){return rf(),[!1,rk]},useId:function(){var e=n9.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-n1(e)-1)).toString(32)+t;var n=rI;if(null===n)throw Error(a(404));return t=ro++,e="_"+n.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()},useOptimistic:function(e){return rf(),[e,rw]},useActionState:r_,useFormState:r_,useHostTransitionStatus:function(){return rf(),ea},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=C;return t},useCacheRefresh:function(){return rS}},rI=null,rA={getCacheForType:function(){throw Error(a(248))},cacheSignal:function(){throw Error(a(248))}};function rO(e){if(void 0===rE)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);rE=t&&t[1]||"",rT=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+rE+e+rT}var rP=!1;function rM(e,t){if(!e||rP)return"";rP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],l=a[1];if(o&&l){var s=o.split("\n"),c=l.split("\n");for(i=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===s.length||i===c.length)for(r=s.length-1,i=c.length-1;1<=r&&0<=i&&s[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(s[r]!==c[i]){if(1!==r||1!==i)do if(r--,i--,0>i||s[r]!==c[i]){var u="\n"+s[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i)break}}}finally{rP=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rO(n):""}function rF(e,t){return 500<t.byteSize&&null===t.contentPreamble}function rR(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e])[0]?e.splice(0,1,"%c%s%c "+e[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""):e.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""),e.unshift(console),(t=nq.apply(console.error,e))()}else console.error(e);return null}function rB(e,t,n,r,i,a,o,l,s,c,u){var d=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=d,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===i?rR:i,this.onPostpone=void 0===c?n5:c,this.onAllReady=void 0===a?n5:a,this.onShellReady=void 0===o?n5:o,this.onShellError=void 0===l?n5:l,this.onFatalError=void 0===s?n5:s,this.formState=void 0===u?null:u}function rN(e,t,n,r,i,a,o,l,s,c,u,d){return(n=rq(t=new rB(t,n,r,i,a,o,l,s,c,u,d),0,null,r,!1,!1)).parentFlushed=!0,rW(e=rU(t,null,e,-1,null,n,null,null,t.abortableTasks,null,r,null,nJ,null,null)),t.pingedTasks.push(e),t}var rL=null;function rz(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,null!==e.trackedPostpones||10===e.status?O(function(){return id(e)}):D(function(){return id(e)}))}function rV(e,t,n,r,i){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:nM(),fallbackState:nM(),contentPreamble:r,fallbackPreamble:i,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,r.push(n)),null!==(e=t.inheritedHoistables)&&nH(n.contentState,e)),n}function rU(e,t,n,r,i,a,o,l,s,c,u,d,p,f,h){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++,null!==f&&f.pendingTasks++;var m={replay:null,node:n,childIndex:r,ping:function(){return rz(e,m)},blockedBoundary:i,blockedSegment:a,blockedPreamble:o,hoistableState:l,abortSet:s,keyPath:c,formatContext:u,context:d,treeContext:p,row:f,componentStack:h,thenableState:t};return s.add(m),m}function rH(e,t,n,r,i,a,o,l,s,c,u,d,p,f){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==p&&p.pendingTasks++,n.pendingTasks++;var h={replay:n,node:r,childIndex:i,ping:function(){return rz(e,h)},blockedBoundary:a,blockedSegment:null,blockedPreamble:null,hoistableState:o,abortSet:l,keyPath:s,formatContext:c,context:u,treeContext:d,row:p,componentStack:f,thenableState:t};return l.add(h),h}function rq(e,t,n,r,i,a){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function rW(e){var t=e.node;"object"==typeof t&&null!==t&&t.$$typeof===o&&(e.componentStack={parent:e.componentStack,type:t.type})}function rY(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function rK(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",r=e;do n+=function e(t){if("string"==typeof t)return rO(t);if("function"==typeof t)return t.prototype&&t.prototype.isReactComponent?rM(t,!0):rM(t,!1);if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return rM(t.render,!1);case g:return rM(t.type,!1);case y:var n=t,r=n._payload;n=n._init;try{t=n(r)}catch(e){return rO("Lazy")}return e(t)}if("string"==typeof t.name){s:{r=t.name,n=t.env;var i=t.debugLocation;if(null!=i&&(t=Error.prepareStackTrace,Error.prepareStackTrace=void 0,i=i.stack,Error.prepareStackTrace=t,i.startsWith("Error: react-stack-top-frame\n")&&(i=i.slice(29)),-1!==(t=i.indexOf("\n"))&&(i=i.slice(t+1)),-1!==(t=i.indexOf("react_stack_bottom_frame"))&&(t=i.lastIndexOf("\n",t)),-1!==(t=-1===(i=(t=-1!==t?i=i.slice(0,t):"").lastIndexOf("\n"))?t:t.slice(i+1)).indexOf(r))){r="\n"+t;break s}r=rO(r+(n?" ["+n+"]":""))}return r}}switch(t){case m:return rO("SuspenseList");case h:return rO("Suspense")}return""}(r.type),r=r.parent;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return Object.defineProperty(t,"componentStack",{value:i}),i}}),t}function rG(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function r$(e,t){var n=e.onShellError,r=e.onFatalError;n(t),r(t),null!==e.destination?(e.status=14,U(e.destination,t)):(e.status=13,e.fatalError=t)}function rZ(e,t){rX(e,t.next,t.hoistables)}function rX(e,t,n){for(;null!==t;){null!==n&&(nH(t.hoistables,n),t.inheritedHoistables=n);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var i=0;i<r.length;i++){var a=r[i];null!==n&&nH(a.contentState,n),iu(e,a,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function rJ(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var r=!0,i=0;i<n.length;i++){var a=n[i];if(1!==a.pendingTasks||a.parentFlushed||rF(e,a)){r=!1;break}}r&&rX(e,t,t.hoistables)}}function rQ(e){var t={pendingTasks:1,boundaries:null,hoistables:nM(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function r1(e,t,n,r,i){var a=t.keyPath,o=t.treeContext,l=t.row;t.keyPath=n,n=r.length;var s=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var u=0;u<n;u++){var d="backwards"!==i&&"unstable_legacy-backwards"!==i?u:n-1-u,p=r[d];t.row=s=rQ(s),t.treeContext=nQ(o,n,d);var f=c[d];"number"==typeof f?(r7(e,t,f,p,d),delete c[d]):it(e,t,p,d),0==--s.pendingTasks&&rZ(e,s)}else for(c=0;c<n;c++)d=r[u="backwards"!==i&&"unstable_legacy-backwards"!==i?c:n-1-c],t.row=s=rQ(s),t.treeContext=nQ(o,n,u),it(e,t,d,u),0==--s.pendingTasks&&rZ(e,s)}else if("backwards"!==i&&"unstable_legacy-backwards"!==i)for(i=0;i<n;i++)c=r[i],t.row=s=rQ(s),t.treeContext=nQ(o,n,i),it(e,t,c,i),0==--s.pendingTasks&&rZ(e,s);else{for(c=(i=t.blockedSegment).children.length,u=i.chunks.length,d=n-1;0<=d;d--){p=r[d],t.row=s=rQ(s),t.treeContext=nQ(o,n,d),f=rq(e,u,null,t.formatContext,0!==d||i.lastPushedText,!0),i.children.splice(c,0,f),t.blockedSegment=f;try{it(e,t,p,d),f.lastPushedText&&f.textEmbedded&&f.chunks.push(eA),f.status=1,ic(e,t.blockedBoundary,f),0==--s.pendingTasks&&rZ(e,s)}catch(t){throw f.status=12===e.status?3:4,t}}t.blockedSegment=i,i.lastPushedText=!1}null!==l&&null!==s&&0<s.pendingTasks&&(l.pendingTasks++,s.next=l),t.treeContext=o,t.row=l,t.keyPath=a}function r2(e,t,n,r,i,a){var o=t.thenableState;for(t.thenableState=null,n6={},n9=t,re=e,rt=n,rl=ro=0,rs=-1,rc=0,ru=o,e=r(i,a);ra;)ra=!1,rl=ro=0,rs=-1,rc=0,rp+=1,rr=null,e=r(i,a);return ry(),e}function r0(e,t,n,r,i,a,o){var l=!1;if(0!==a&&null!==e.formState){var s=t.blockedSegment;if(null!==s){l=!0,s=s.chunks;for(var c=0;c<a;c++)c===o?s.push(e5):s.push(e7)}}a=t.keyPath,t.keyPath=n,i?(n=t.treeContext,t.treeContext=nQ(n,1,0),it(e,t,r,-1),t.treeContext=n):l?it(e,t,r,-1):r3(e,t,r,-1),t.keyPath=a}function r5(e,t,n,i,o,l){if("function"==typeof i)if(i.prototype&&i.prototype.isReactComponent){var C=o;if("ref"in o)for(var w in C={},o)"ref"!==w&&(C[w]=o[w]);var S=i.defaultProps;if(S)for(var E in C===o&&(C=H({},C,o)),S)void 0===C[E]&&(C[E]=S[E]);o=C,C=nK,"object"==typeof(S=i.contextType)&&null!==S&&(C=S._currentValue);var T=void 0!==(C=new i(o,C)).state?C.state:null;if(C.updater=nX,C.props=o,C.state=T,S={queue:[],replace:!1},C._reactInternals=S,l=i.contextType,C.context="object"==typeof l&&null!==l?l._currentValue:nK,"function"==typeof(l=i.getDerivedStateFromProps)&&(T=null==(l=l(o,T))?T:H({},T,l),C.state=T),"function"!=typeof i.getDerivedStateFromProps&&"function"!=typeof C.getSnapshotBeforeUpdate&&("function"==typeof C.UNSAFE_componentWillMount||"function"==typeof C.componentWillMount))if(i=C.state,"function"==typeof C.componentWillMount&&C.componentWillMount(),"function"==typeof C.UNSAFE_componentWillMount&&C.UNSAFE_componentWillMount(),i!==C.state&&nX.enqueueReplaceState(C,C.state,null),null!==S.queue&&0<S.queue.length)if(i=S.queue,l=S.replace,S.queue=null,S.replace=!1,l&&1===i.length)C.state=i[0];else{for(S=l?i[0]:C.state,T=!0,l=+!!l;l<i.length;l++)null!=(E="function"==typeof(E=i[l])?E.call(C,S,o,void 0):E)&&(T?(T=!1,S=H({},S,E)):H(S,E));C.state=S}else S.queue=null;if(i=C.render(),12===e.status)throw null;o=t.keyPath,t.keyPath=n,r3(e,t,i,-1),t.keyPath=o}else{if(i=r2(e,t,n,i,o,void 0),12===e.status)throw null;r0(e,t,n,i,0!==ro,rl,rs)}else if("string"==typeof i)if(null===(C=t.blockedSegment))C=o.children,S=t.formatContext,T=t.keyPath,t.formatContext=eE(S,i,o),t.keyPath=n,it(e,t,C,-1),t.formatContext=S,t.keyPath=T;else{if(T=function(e,t,n,i,o,l,s,c,u){switch(t){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":e.push(tc("a"));var d,p=null,f=null;for(d in n)if(q.call(n,d)){var h=n[d];if(null!=h)switch(d){case"children":p=h;break;case"dangerouslySetInnerHTML":f=h;break;case"href":""===h?eH(e,"href",""):eZ(e,d,h);break;default:eZ(e,d,h)}}if(e.push(eX),eQ(e,f,p),"string"==typeof p){e.push(L(J(p)));var m=null}else m=p;return m;case"select":e.push(tc("select"));var g,y=null,v=null;for(g in n)if(q.call(n,g)){var b=n[g];if(null!=b)switch(g){case"children":y=b;break;case"dangerouslySetInnerHTML":v=b;break;case"defaultValue":case"value":break;default:eZ(e,g,b)}}return e.push(eX),eQ(e,v,y),y;case"option":var x=c.selectedValue;e.push(tc("option"));var C,k=null,w=null,_=null,S=null;for(C in n)if(q.call(n,C)){var E=n[C];if(null!=E)switch(C){case"children":k=E;break;case"selected":_=E;break;case"dangerouslySetInnerHTML":S=E;break;case"value":w=E;default:eZ(e,C,E)}}if(null!=x){var T,D,I=null!==w?""+w:(T=k,D="",r.Children.forEach(T,function(e){null!=e&&(D+=e)}),D);if(j(x)){for(var A=0;A<x.length;A++)if(""+x[A]===I){e.push(e1);break}}else""+x===I&&e.push(e1)}else _&&e.push(e1);return e.push(eX),eQ(e,S,k),k;case"textarea":e.push(tc("textarea"));var O,P=null,M=null,F=null;for(O in n)if(q.call(n,O)){var R=n[O];if(null!=R)switch(O){case"children":F=R;break;case"value":P=R;break;case"defaultValue":M=R;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:eZ(e,O,R)}}if(null===P&&null!==M&&(P=M),e.push(eX),null!=F){if(null!=P)throw Error(a(92));if(j(F)){if(1<F.length)throw Error(a(93));P=""+F[0]}P=""+F}return"string"==typeof P&&"\n"===P[0]&&e.push(to),null!==P&&e.push(L(J(""+P))),null;case"input":e.push(tc("input"));var B,N=null,z=null,V=null,U=null,W=null,Y=null,K=null,$=null,Z=null;for(B in n)if(q.call(n,B)){var X=n[B];if(null!=X)switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"name":N=X;break;case"formAction":z=X;break;case"formEncType":V=X;break;case"formMethod":U=X;break;case"formTarget":W=X;break;case"defaultChecked":Z=X;break;case"defaultValue":K=X;break;case"checked":$=X;break;case"value":Y=X;break;default:eZ(e,B,X)}}var Q=e$(e,i,o,z,V,U,W,N);return null!==$?eU(e,"checked",$):null!==Z&&eU(e,"checked",Z),null!==Y?eZ(e,"value",Y):null!==K&&eZ(e,"value",K),e.push(eJ),null!=Q&&Q.forEach(eY,e),null;case"button":e.push(tc("button"));var ee,et=null,er=null,ei=null,ea=null,eo=null,es=null,ec=null;for(ee in n)if(q.call(n,ee)){var eu=n[ee];if(null!=eu)switch(ee){case"children":et=eu;break;case"dangerouslySetInnerHTML":er=eu;break;case"name":ei=eu;break;case"formAction":ea=eu;break;case"formEncType":eo=eu;break;case"formMethod":es=eu;break;case"formTarget":ec=eu;break;default:eZ(e,ee,eu)}}var ed=e$(e,i,o,ea,eo,es,ec,ei);if(e.push(eX),null!=ed&&ed.forEach(eY,e),eQ(e,er,et),"string"==typeof et){e.push(L(J(et)));var ep=null}else ep=et;return ep;case"form":e.push(tc("form"));var ef,eh=null,em=null,eg=null,ey=null,ev=null,eb=null;for(ef in n)if(q.call(n,ef)){var ex=n[ef];if(null!=ex)switch(ef){case"children":eh=ex;break;case"dangerouslySetInnerHTML":em=ex;break;case"action":eg=ex;break;case"encType":ey=ex;break;case"method":ev=ex;break;case"target":eb=ex;break;default:eZ(e,ef,ex)}}var eC=null,ek=null;if("function"==typeof eg){var ew=eG(i,eg);null!==ew?(eg=ew.action||"",ey=ew.encType,ev=ew.method,eb=ew.target,eC=ew.data,ek=ew.name):(e.push(eN,L("action"),eL,eq,ez),eb=ev=ey=eg=null,e0(i,o))}if(null!=eg&&eZ(e,"action",eg),null!=ey&&eZ(e,"encType",ey),null!=ev&&eZ(e,"method",ev),null!=eb&&eZ(e,"target",eb),e.push(eX),null!==ek&&(e.push(eW),eH(e,"name",ek),e.push(eJ),null!=eC&&eC.forEach(eY,e)),eQ(e,em,eh),"string"==typeof eh){e.push(L(J(eh)));var e_=null}else e_=eh;return e_;case"menuitem":for(var ej in e.push(tc("menuitem")),n)if(q.call(n,ej)){var eS=n[ej];if(null!=eS)switch(ej){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:eZ(e,ej,eS)}}return e.push(eX),null;case"object":e.push(tc("object"));var eE,eT=null,eD=null;for(eE in n)if(q.call(n,eE)){var eI=n[eE];if(null!=eI)switch(eE){case"children":eT=eI;break;case"dangerouslySetInnerHTML":eD=eI;break;case"data":var eO=en(""+eI);if(""===eO)break;e.push(eN,L("data"),eL,L(J(eO)),ez);break;default:eZ(e,eE,eI)}}if(e.push(eX),eQ(e,eD,eT),"string"==typeof eT){e.push(L(J(eT)));var eP=null}else eP=eT;return eP;case"title":var eM=1&c.tagScope,eF=4&c.tagScope;if(4===c.insertionMode||eM||null!=n.itemProp)var eR=e9(e,n);else eF?eR=null:(e9(o.hoistableChunks,n),eR=void 0);return eR;case"link":var eV=1&c.tagScope,eK=4&c.tagScope,e2=n.rel,e5=n.href,e7=n.precedence;if(4===c.insertionMode||eV||null!=n.itemProp||"string"!=typeof e2||"string"!=typeof e5||""===e5){e3(e,n);var tl=null}else if("stylesheet"===n.rel)if("string"!=typeof e7||null!=n.disabled||n.onLoad||n.onError)tl=e3(e,n);else{var ts=o.styles.get(e7),td=i.styleResources.hasOwnProperty(e5)?i.styleResources[e5]:void 0;if(null!==td){i.styleResources[e5]=null,ts||(ts={precedence:L(J(e7)),rules:[],hrefs:[],sheets:new Map},o.styles.set(e7,ts));var tf={state:0,props:H({},n,{"data-precedence":n.precedence,precedence:null})};if(td){2===td.length&&nF(tf.props,td);var th=o.preloads.stylesheets.get(e5);th&&0<th.length?th.length=0:tf.state=1}ts.sheets.set(e5,tf),s&&s.stylesheets.add(tf)}else if(ts){var tm=ts.sheets.get(e5);tm&&s&&s.stylesheets.add(tm)}u&&e.push(eA),tl=null}else n.onLoad||n.onError?tl=e3(e,n):(u&&e.push(eA),tl=eK?null:e3(o.hoistableChunks,n));return tl;case"script":var tg=1&c.tagScope,ty=n.async;if("string"!=typeof n.src||!n.src||!ty||"function"==typeof ty||"symbol"==typeof ty||n.onLoad||n.onError||4===c.insertionMode||tg||null!=n.itemProp)var tv=tr(e,n);else{var tb=n.src;if("module"===n.type)var tx=i.moduleScriptResources,tC=o.preloads.moduleScripts;else tx=i.scriptResources,tC=o.preloads.scripts;var tk=tx.hasOwnProperty(tb)?tx[tb]:void 0;if(null!==tk){tx[tb]=null;var tw=n;if(tk){2===tk.length&&nF(tw=H({},n),tk);var t_=tC.get(tb);t_&&(t_.length=0)}var tj=[];o.scripts.add(tj),tr(tj,tw)}u&&e.push(eA),tv=null}return tv;case"style":var tS=1&c.tagScope,tE=n.precedence,tT=n.href,tD=n.nonce;if(4===c.insertionMode||tS||null!=n.itemProp||"string"!=typeof tE||"string"!=typeof tT||""===tT){e.push(tc("style"));var tI,tA=null,tO=null;for(tI in n)if(q.call(n,tI)){var tP=n[tI];if(null!=tP)switch(tI){case"children":tA=tP;break;case"dangerouslySetInnerHTML":tO=tP;break;default:eZ(e,tI,tP)}}e.push(eX);var tM=Array.isArray(tA)?2>tA.length?tA[0]:null:tA;"function"!=typeof tM&&"symbol"!=typeof tM&&null!=tM&&e.push(L((""+tM).replace(e8,e4))),eQ(e,tO,tA),e.push(tp("style"));var tF=null}else{var tR=o.styles.get(tE);if(null!==(i.styleResources.hasOwnProperty(tT)?i.styleResources[tT]:void 0)){i.styleResources[tT]=null,tR||(tR={precedence:L(J(tE)),rules:[],hrefs:[],sheets:new Map},o.styles.set(tE,tR));var tB=o.nonce.style;if(!tB||tB===tD){tR.hrefs.push(L(J(tT)));var tN,tL=tR.rules,tz=null,tV=null;for(tN in n)if(q.call(n,tN)){var tU=n[tN];if(null!=tU)switch(tN){case"children":tz=tU;break;case"dangerouslySetInnerHTML":tV=tU}}var tH=Array.isArray(tz)?2>tz.length?tz[0]:null:tz;"function"!=typeof tH&&"symbol"!=typeof tH&&null!=tH&&tL.push(L((""+tH).replace(e8,e4))),eQ(tL,tV,tz)}}tR&&s&&s.styles.add(tR),u&&e.push(eA),tF=void 0}return tF;case"meta":var tq=1&c.tagScope,tW=4&c.tagScope;if(4===c.insertionMode||tq||null!=n.itemProp)var tY=e6(e,n,"meta");else u&&e.push(eA),tY=tW?null:"string"==typeof n.charSet?e6(o.charsetChunks,n,"meta"):"viewport"===n.name?e6(o.viewportChunks,n,"meta"):e6(o.hoistableChunks,n,"meta");return tY;case"listing":case"pre":e.push(tc(t));var tK,tG=null,t$=null;for(tK in n)if(q.call(n,tK)){var tZ=n[tK];if(null!=tZ)switch(tK){case"children":tG=tZ;break;case"dangerouslySetInnerHTML":t$=tZ;break;default:eZ(e,tK,tZ)}}if(e.push(eX),null!=t$){if(null!=tG)throw Error(a(60));if("object"!=typeof t$||!("__html"in t$))throw Error(a(61));var tX=t$.__html;null!=tX&&("string"==typeof tX&&0<tX.length&&"\n"===tX[0]?e.push(to,L(tX)):e.push(L(""+tX)))}return"string"==typeof tG&&"\n"===tG[0]&&e.push(to),tG;case"img":var tJ=3&c.tagScope,tQ=n.src,t1=n.srcSet;if(!("lazy"===n.loading||!tQ&&!t1||"string"!=typeof tQ&&null!=tQ||"string"!=typeof t1&&null!=t1||"low"===n.fetchPriority||tJ)&&("string"!=typeof tQ||":"!==tQ[4]||"d"!==tQ[0]&&"D"!==tQ[0]||"a"!==tQ[1]&&"A"!==tQ[1]||"t"!==tQ[2]&&"T"!==tQ[2]||"a"!==tQ[3]&&"A"!==tQ[3])&&("string"!=typeof t1||":"!==t1[4]||"d"!==t1[0]&&"D"!==t1[0]||"a"!==t1[1]&&"A"!==t1[1]||"t"!==t1[2]&&"T"!==t1[2]||"a"!==t1[3]&&"A"!==t1[3])){var t2="string"==typeof n.sizes?n.sizes:void 0,t0=t1?t1+"\n"+(t2||""):tQ,t5=o.preloads.images,t7=t5.get(t0);if(t7)("high"===n.fetchPriority||10>o.highImagePreloads.size)&&(t5.delete(t0),o.highImagePreloads.add(t7));else if(!i.imageResources.hasOwnProperty(t0)){i.imageResources[t0]=el;var t3,t8=n.crossOrigin,t4="string"==typeof t8?"use-credentials"===t8?t8:"":void 0,t6=o.headers;t6&&0<t6.remainingCapacity&&"string"!=typeof n.srcSet&&("high"===n.fetchPriority||500>t6.highImagePreloads.length)&&(t3=nR(tQ,"image",{imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:t4,integrity:n.integrity,nonce:n.nonce,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.refererPolicy}),0<=(t6.remainingCapacity-=t3.length+2))?(o.resets.image[t0]=el,t6.highImagePreloads&&(t6.highImagePreloads+=", "),t6.highImagePreloads+=t3):(e3(t7=[],{rel:"preload",as:"image",href:t1?void 0:tQ,imageSrcSet:t1,imageSizes:t2,crossOrigin:t4,integrity:n.integrity,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.referrerPolicy}),"high"===n.fetchPriority||10>o.highImagePreloads.size?o.highImagePreloads.add(t7):(o.bulkPreloads.add(t7),t5.set(t0,t7)))}}return e6(e,n,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return e6(e,n,t);case"head":if(2>c.insertionMode){var t9=l||o.preamble;if(t9.headChunks)throw Error(a(545,"`<head>`"));null!==l&&e.push(te),t9.headChunks=[];var ne=ti(t9.headChunks,n,"head")}else ne=ta(e,n,"head");return ne;case"body":if(2>c.insertionMode){var nt=l||o.preamble;if(nt.bodyChunks)throw Error(a(545,"`<body>`"));null!==l&&e.push(tt),nt.bodyChunks=[];var nn=ti(nt.bodyChunks,n,"body")}else nn=ta(e,n,"body");return nn;case"html":if(0===c.insertionMode){var nr=l||o.preamble;if(nr.htmlChunks)throw Error(a(545,"`<html>`"));null!==l&&e.push(tn),nr.htmlChunks=[tu];var ni=ti(nr.htmlChunks,n,"html")}else ni=ta(e,n,"html");return ni;default:if(-1!==t.indexOf("-")){e.push(tc(t));var na,no=null,nl=null;for(na in n)if(q.call(n,na)){var ns=n[na];if(null!=ns){var nc=na;switch(na){case"children":no=ns;break;case"dangerouslySetInnerHTML":nl=ns;break;case"style":eB(e,ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":nc="class";default:if(G(na)&&"function"!=typeof ns&&"symbol"!=typeof ns&&!1!==ns){if(!0===ns)ns="";else if("object"==typeof ns)continue;e.push(eN,L(nc),eL,L(J(ns)),ez)}}}}return e.push(eX),eQ(e,nl,no),no}}return ta(e,n,t)}(C.chunks,i,o,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,C.lastPushedText),C.lastPushedText=!1,S=t.formatContext,l=t.keyPath,t.keyPath=n,3===(t.formatContext=eE(S,i,o)).insertionMode){n=rq(e,0,null,t.formatContext,!1,!1),C.preambleChildren.push(n),t.blockedSegment=n;try{n.status=6,it(e,t,T,-1),n.lastPushedText&&n.textEmbedded&&n.chunks.push(eA),n.status=1,ic(e,t.blockedBoundary,n)}finally{t.blockedSegment=C}}else it(e,t,T,-1);t.formatContext=S,t.keyPath=l;s:{switch(t=C.chunks,e=e.resumableState,i){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break s;case"body":if(1>=S.insertionMode){e.hasBody=!0;break s}break;case"html":if(0===S.insertionMode){e.hasHtml=!0;break s}break;case"head":if(1>=S.insertionMode)break s}t.push(tp(i))}C.lastPushedText=!1}else{switch(i){case x:case c:case u:case s:i=t.keyPath,t.keyPath=n,r3(e,t,o.children,-1),t.keyPath=i;return;case b:null===(i=t.blockedSegment)?"hidden"!==o.mode&&(i=t.keyPath,t.keyPath=n,it(e,t,o.children,-1),t.keyPath=i):"hidden"!==o.mode&&(i.chunks.push(tv),i.lastPushedText=!1,C=t.keyPath,t.keyPath=n,it(e,t,o.children,-1),t.keyPath=C,i.chunks.push(tb),i.lastPushedText=!1);return;case m:s:{if(i=o.children,"forwards"===(o=o.revealOrder)||"backwards"===o||"unstable_legacy-backwards"===o){if(j(i)){r1(e,t,n,i,o);break s}if((C=_(i))&&(C=C.call(i))){if(!(S=C.next()).done){do S=C.next();while(!S.done)r1(e,t,n,i,o)}break s}}"together"===o?(o=t.keyPath,C=t.row,(S=t.row=rQ(null)).boundaries=[],S.together=!0,t.keyPath=n,r3(e,t,i,-1),0==--S.pendingTasks&&rZ(e,S),t.keyPath=o,t.row=C,null!==C&&0<S.pendingTasks&&(C.pendingTasks++,S.next=C)):(o=t.keyPath,t.keyPath=n,r3(e,t,i,-1),t.keyPath=o)}return;case k:case v:throw Error(a(343));case h:s:if(null!==t.replay){i=t.keyPath,C=t.formatContext,S=t.row,t.keyPath=n,t.formatContext=eI(e.resumableState,C),t.row=null,n=o.children;try{it(e,t,n,-1)}finally{t.keyPath=i,t.formatContext=C,t.row=S}}else{i=t.keyPath,l=t.formatContext;var D=t.row;E=t.blockedBoundary,w=t.blockedPreamble;var I=t.hoistableState,A=t.blockedSegment,O=o.fallback;o=o.children;var P=new Set,M=2>t.formatContext.insertionMode?rV(e,t.row,P,e_(),e_()):rV(e,t.row,P,null,null);null!==e.trackedPostpones&&(M.trackedContentKeyPath=n);var F=rq(e,A.chunks.length,M,t.formatContext,!1,!1);A.children.push(F),A.lastPushedText=!1;var R=rq(e,0,null,t.formatContext,!1,!1);if(R.parentFlushed=!0,null!==e.trackedPostpones){C=t.componentStack,T=[(S=[n[0],"Suspense Fallback",n[2]])[1],S[2],[],null],e.trackedPostpones.workingMap.set(S,T),M.trackedFallbackNode=T,t.blockedSegment=F,t.blockedPreamble=M.fallbackPreamble,t.keyPath=S,t.formatContext=eD(e.resumableState,l),t.componentStack=rY(C),F.status=6;try{it(e,t,O,-1),F.lastPushedText&&F.textEmbedded&&F.chunks.push(eA),F.status=1,ic(e,E,F)}catch(t){throw F.status=12===e.status?3:4,t}finally{t.blockedSegment=A,t.blockedPreamble=w,t.keyPath=i,t.formatContext=l}rW(t=rU(e,null,o,-1,M,R,M.contentPreamble,M.contentState,t.abortSet,n,eI(e.resumableState,t.formatContext),t.context,t.treeContext,null,C)),e.pingedTasks.push(t)}else{t.blockedBoundary=M,t.blockedPreamble=M.contentPreamble,t.hoistableState=M.contentState,t.blockedSegment=R,t.keyPath=n,t.formatContext=eI(e.resumableState,l),t.row=null,R.status=6;try{if(it(e,t,o,-1),R.lastPushedText&&R.textEmbedded&&R.chunks.push(eA),R.status=1,ic(e,M,R),is(M,R),0===M.pendingTasks&&0===M.status){if(M.status=1,!rF(e,M)){null!==D&&0==--D.pendingTasks&&rZ(e,D),0===e.pendingRootTasks&&t.blockedPreamble&&im(e);break s}}else null!==D&&D.together&&rJ(e,D)}catch(n){M.status=4,12===e.status?(R.status=3,C=e.fatalError):(R.status=4,C=n),M.errorDigest=T=rG(e,C,S=rK(t.componentStack)),r6(e,M)}finally{t.blockedBoundary=E,t.blockedPreamble=w,t.hoistableState=I,t.blockedSegment=A,t.keyPath=i,t.formatContext=l,t.row=D}rW(t=rU(e,null,O,-1,E,F,M.fallbackPreamble,M.fallbackState,P,[n[0],"Suspense Fallback",n[2]],eD(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,rY(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof i&&null!==i)switch(i.$$typeof){case f:if("ref"in o)for(A in C={},o)"ref"!==A&&(C[A]=o[A]);else C=o;i=r2(e,t,n,i.render,C,l),r0(e,t,n,i,0!==ro,rl,rs);return;case g:r5(e,t,n,i.type,o,l);return;case p:if(S=o.children,C=t.keyPath,o=o.value,T=i._currentValue,i._currentValue=o,nG=i={parent:l=nG,depth:null===l?0:l.depth+1,context:i,parentValue:T,value:o},t.context=i,t.keyPath=n,r3(e,t,S,-1),null===(e=nG))throw Error(a(403));e.context._currentValue=e.parentValue,e=nG=e.parent,t.context=e,t.keyPath=C;return;case d:i=(o=o.children)(i._context._currentValue),o=t.keyPath,t.keyPath=n,r3(e,t,i,-1),t.keyPath=o;return;case y:if(i=(C=i._init)(i._payload),12===e.status)throw null;r5(e,t,n,i,o,l);return}throw Error(a(130,null==i?i:typeof i,""))}}function r7(e,t,n,r,i){var a=t.replay,o=t.blockedBoundary,l=rq(e,0,null,t.formatContext,!1,!1);l.id=n,l.parentFlushed=!0;try{t.replay=null,t.blockedSegment=l,it(e,t,r,i),l.status=1,ic(e,o,l),null===o?e.completedRootSegment=l:(is(o,l),o.parentFlushed&&e.partialBoundaries.push(o))}finally{t.replay=a,t.blockedSegment=null}}function r3(e,t,n,r){null!==t.replay&&"number"==typeof t.replay.slots?r7(e,t,t.replay.slots,n,r):(t.node=n,t.childIndex=r,n=t.componentStack,rW(t),r8(e,t),t.componentStack=n)}function r8(e,t){var n=t.node,r=t.childIndex;if(null!==n){if("object"==typeof n){switch(n.$$typeof){case o:var i=n.type,s=n.key,c=n.props,u=void 0!==(n=c.ref)?n:null,d=nY(i),f=null==s?-1===r?0:r:s;if(s=[t.keyPath,d,f],null!==t.replay)s:{var m=t.replay;for(n=0,r=m.nodes;n<r.length;n++){var g=r[n];if(f===g[1]){if(4===g.length){if(null!==d&&d!==g[0])throw Error(a(490,g[0],d));var v=g[2];d=g[3],f=t.node,t.replay={nodes:v,slots:d,pendingTasks:1};try{if(r5(e,t,s,i,c,u),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(a){if("object"==typeof a&&null!==a&&(a===n7||"function"==typeof a.then))throw t.node===f?t.replay=m:r.splice(n,1),a;t.replay.pendingTasks--,c=rK(t.componentStack),s=e,e=t.blockedBoundary,c=rG(s,i=a,c),ii(s,e,v,d,i,c)}t.replay=m}else{if(i!==h)throw Error(a(490,"Suspense",nY(i)||"Unknown"));c:{m=void 0,i=g[5],u=g[2],d=g[3],f=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var b=t.keyPath,x=t.formatContext,C=t.row,k=t.replay,w=t.blockedBoundary,S=t.hoistableState,E=c.children,T=c.fallback,D=new Set;(c=2>t.formatContext.insertionMode?rV(e,t.row,D,e_(),e_()):rV(e,t.row,D,null,null)).parentFlushed=!0,c.rootSegmentID=i,t.blockedBoundary=c,t.hoistableState=c.contentState,t.keyPath=s,t.formatContext=eI(e.resumableState,x),t.row=null,t.replay={nodes:u,slots:d,pendingTasks:1};try{if(it(e,t,E,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));if(t.replay.pendingTasks--,0===c.pendingTasks&&0===c.status){c.status=1,e.completedBoundaries.push(c);break c}}catch(n){c.status=4,m=rG(e,n,v=rK(t.componentStack)),c.errorDigest=m,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(c)}finally{t.blockedBoundary=w,t.hoistableState=S,t.replay=k,t.keyPath=b,t.formatContext=x,t.row=C}rW(v=rH(e,null,{nodes:f,slots:g,pendingTasks:0},T,-1,w,c.fallbackState,D,[s[0],"Suspense Fallback",s[2]],eD(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,rY(t.componentStack))),e.pingedTasks.push(v)}}r.splice(n,1);break s}}}else r5(e,t,s,i,c,u);return;case l:throw Error(a(257));case y:if(n=(v=n._init)(n._payload),12===e.status)throw null;r3(e,t,n,r);return}if(j(n))return void r4(e,t,n,r);if((v=_(n))&&(v=v.call(n))){if(!(n=v.next()).done){c=[];do c.push(n.value),n=v.next();while(!n.done)r4(e,t,c,r)}return}if("function"==typeof n.then)return t.thenableState=null,r3(e,t,rj(n),r);if(n.$$typeof===p)return r3(e,t,n._currentValue,r);throw Error(a(31,"[object Object]"===(r=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r))}"string"==typeof n?null!==(r=t.blockedSegment)&&(r.lastPushedText=eO(r.chunks,n,e.renderState,r.lastPushedText)):("number"==typeof n||"bigint"==typeof n)&&null!==(r=t.blockedSegment)&&(r.lastPushedText=eO(r.chunks,""+n,e.renderState,r.lastPushedText))}}function r4(e,t,n,r){var i=t.keyPath;if(-1!==r&&(t.keyPath=[t.keyPath,"Fragment",r],null!==t.replay)){for(var o=t.replay,l=o.nodes,s=0;s<l.length;s++){var c=l[s];if(c[1]===r){t.replay={nodes:r=c[2],slots:c=c[3],pendingTasks:1};try{if(r4(e,t,n,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(i){if("object"==typeof i&&null!==i&&(i===n7||"function"==typeof i.then))throw i;t.replay.pendingTasks--,n=rK(t.componentStack);var u=t.blockedBoundary;n=rG(e,i,n),ii(e,u,r,c,i,n)}t.replay=o,l.splice(s,1);break}}t.keyPath=i;return}if(o=t.treeContext,l=n.length,null!==t.replay&&null!==(s=t.replay.slots)&&"object"==typeof s){for(r=0;r<l;r++)c=n[r],t.treeContext=nQ(o,l,r),"number"==typeof(u=s[r])?(r7(e,t,u,c,r),delete s[r]):it(e,t,c,r);t.treeContext=o,t.keyPath=i;return}for(s=0;s<l;s++)r=n[s],t.treeContext=nQ(o,l,s),it(e,t,r,s);t.treeContext=o,t.keyPath=i}function r6(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.trackedContentKeyPath)&&void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)}function r9(e,t,n){return rH(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function ie(e,t,n){var r=t.blockedSegment,i=rq(e,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(i),r.lastPushedText=!1,rU(e,n,t.node,t.childIndex,t.blockedBoundary,i,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function it(e,t,n,r){var i=t.formatContext,a=t.context,o=t.keyPath,l=t.treeContext,s=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return r3(e,t,n,r)}catch(u){if(ry(),n=u===n7?n8():u,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){e=r9(e,t,r=u===n7?rg():null).ping,n.then(e,e),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,t.replay=c,nZ(a);return}if("Maximum call stack size exceeded"===n.message){n=r9(e,t,n=u===n7?rg():null),e.pingedTasks.push(n),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,t.replay=c,nZ(a);return}}}}else{var u=c.children.length,d=c.chunks.length;try{return r3(e,t,n,r)}catch(r){if(ry(),c.children.length=u,c.chunks.length=d,n=r===n7?n8():r,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){c=n,e=ie(e,t,n=r===n7?rg():null).ping,c.then(e,e),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,nZ(a);return}if("Maximum call stack size exceeded"===n.message){c=ie(e,t,c=r===n7?rg():null),e.pingedTasks.push(c),t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=s,nZ(a);return}}}}throw t.formatContext=i,t.context=a,t.keyPath=o,t.treeContext=l,nZ(a),n}function ir(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,iu(this,t,e.row,n))}function ii(e,t,n,r,i,o){for(var l=0;l<n.length;l++){var s=n[l];if(4===s.length)ii(e,t,s[2],s[3],i,o);else{s=s[5];var c=rV(e,null,new Set,null,null);c.parentFlushed=!0,c.rootSegmentID=s,c.status=4,c.errorDigest=o,c.parentFlushed&&e.clientRenderedBoundaries.push(c)}}if(n.length=0,null!==r){if(null===t)throw Error(a(487));if(4!==t.status&&(t.status=4,t.errorDigest=o,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof r)for(var u in r)delete r[u]}}function ia(e,t){try{var n=e.renderState,r=n.onHeaders;if(r){var i=n.headers;if(i){n.headers=null;var a=i.preconnects;if(i.fontPreloads&&(a&&(a+=", "),a+=i.fontPreloads),i.highImagePreloads&&(a&&(a+=", "),a+=i.highImagePreloads),!t){var o=n.styles.values(),l=o.next();c:for(;0<i.remainingCapacity&&!l.done;l=o.next())for(var s=l.value.sheets.values(),c=s.next();0<i.remainingCapacity&&!c.done;c=s.next()){var u=c.value,d=u.props,p=d.href,f=u.props,h=nR(f.href,"style",{crossOrigin:f.crossOrigin,integrity:f.integrity,nonce:f.nonce,type:f.type,fetchPriority:f.fetchPriority,referrerPolicy:f.referrerPolicy,media:f.media});if(0<=(i.remainingCapacity-=h.length+2))n.resets.style[p]=el,a&&(a+=", "),a+=h,n.resets.style[p]="string"==typeof d.crossOrigin||"string"==typeof d.integrity?[d.crossOrigin,d.integrity]:el;else break c}}r(a?{Link:a}:{})}}}catch(t){rG(e,t,{})}}function io(e){null===e.trackedPostpones&&ia(e,!0),null===e.trackedPostpones&&im(e),e.onShellError=n5,(e=e.onShellReady)()}function il(e){ia(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),im(e),(e=e.onAllReady)()}function is(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||is(e,n)}else e.completedSegments.push(t)}function ic(e,t,n){if(null!==V){n=n.chunks;for(var r=0,i=0;i<n.length;i++)r+=n[i].byteLength;null===t?e.byteSize+=r:t.byteSize+=r}}function iu(e,t,n,r){if(null!==n&&(0==--n.pendingTasks?rZ(e,n):n.together&&rJ(e,n)),e.allPendingTasks--,null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&io(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&(1===r.status||3===r.status)&&is(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(n=t.row)&&nH(n.hoistables,t.contentState),rF(e,t)||(t.fallbackAbortableTasks.forEach(ir,e),t.fallbackAbortableTasks.clear(),null!==n&&0==--n.pendingTasks&&rZ(e,n)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&im(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){n=e.trackedPostpones;var i=t.next;if(null!==i&&null!==(r=i.boundaries))for(i.boundaries=null,i=0;i<r.length;i++){var o=r[i],l=e,s=n;if(o.status=5,o.rootSegmentID=l.nextSegmentId++,null===(l=o.trackedContentKeyPath))throw Error(a(486));var c=o.trackedFallbackNode,u=[],d=s.workingMap.get(l);void 0===d?(c=[l[1],l[2],u,null,c,o.rootSegmentID],s.workingMap.set(l,c),function e(t,n,r){if(null===n)r.rootNodes.push(t);else{var i=r.workingMap,a=i.get(n);void 0===a&&(a=[n[1],n[2],[],null],i.set(n,a),e(a,n[0],r)),a[2].push(t)}}(c,l[0],s)):(d[4]=c,d[5]=o.rootSegmentID),iu(e,o,null,null)}}0==--t.pendingTasks&&rZ(e,t)}}else null===r||!r.parentFlushed||1!==r.status&&3!==r.status||(is(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&rJ(e,t);0===e.allPendingTasks&&il(e)}function id(e){if(14!==e.status&&13!==e.status){var t=nG,n=er.H;er.H=rD;var r=er.A;er.A=rA;var i=rL;rL=e;var o=rI;rI=e.resumableState;try{var l,s=e.pingedTasks;for(l=0;l<s.length;l++){var c=s[l],u=e,d=c.blockedSegment;if(null===d){var p=u;if(0!==c.replay.pendingTasks){nZ(c.context);try{if("number"==typeof c.replay.slots?r7(p,c,c.replay.slots,c.node,c.childIndex):r8(p,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(a(488));c.replay.pendingTasks--,c.abortSet.delete(c),iu(p,c.blockedBoundary,c.row,null)}catch(e){ry();var f=e===n7?n8():e;if("object"==typeof f&&null!==f&&"function"==typeof f.then){var h=c.ping;f.then(h,h),c.thenableState=e===n7?rg():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var m=rK(c.componentStack);u=void 0;var g=p,y=c.blockedBoundary,v=12===p.status?p.fatalError:f,b=c.replay.nodes,x=c.replay.slots;u=rG(g,v,m),ii(g,y,b,x,v,u),p.pendingRootTasks--,0===p.pendingRootTasks&&io(p),p.allPendingTasks--,0===p.allPendingTasks&&il(p)}}finally{}}}else if(p=void 0,g=d,0===g.status){g.status=6,nZ(c.context);var C=g.children.length,k=g.chunks.length;try{r8(u,c),g.lastPushedText&&g.textEmbedded&&g.chunks.push(eA),c.abortSet.delete(c),g.status=1,ic(u,c.blockedBoundary,g),iu(u,c.blockedBoundary,c.row,g)}catch(e){ry(),g.children.length=C,g.chunks.length=k;var w=e===n7?n8():12===u.status?u.fatalError:e;if("object"==typeof w&&null!==w&&"function"==typeof w.then){g.status=0,c.thenableState=e===n7?rg():null;var _=c.ping;w.then(_,_)}else{var j=rK(c.componentStack);c.abortSet.delete(c),g.status=4;var S=c.blockedBoundary,E=c.row;if(null!==E&&0==--E.pendingTasks&&rZ(u,E),u.allPendingTasks--,p=rG(u,w,j),null===S)r$(u,w);else if(S.pendingTasks--,4!==S.status){S.status=4,S.errorDigest=p,r6(u,S);var T=S.row;null!==T&&0==--T.pendingTasks&&rZ(u,T),S.parentFlushed&&u.clientRenderedBoundaries.push(S),0===u.pendingRootTasks&&null===u.trackedPostpones&&null!==S.contentPreamble&&im(u)}0===u.allPendingTasks&&il(u)}}finally{}}}s.splice(0,l),null!==e.destination&&ik(e,e.destination)}catch(t){rG(e,t,{}),r$(e,t)}finally{rI=o,er.H=n,er.A=r,n===rD&&nZ(t),rL=i}}}function ip(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var r=!1,i=0;i<t.children.length;i++)r=ih(e,t.children[i],n)||r;return r}function ih(e,t,n){var r=t.boundary;if(null===r)return ip(e,t,n);var i=r.contentPreamble,o=r.fallbackPreamble;if(null===i||null===o)return!1;switch(r.status){case 1:if(tf(e.renderState,i),e.byteSize+=r.byteSize,!(t=r.completedSegments[0]))throw Error(a(391));return ip(e,t,n);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return tf(e.renderState,o),ip(e,t,n);default:return!0}}function im(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,r=ih(e,e.completedRootSegment,t),i=e.renderState.preamble;!1===r||i.headChunks&&i.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function ig(e,t,n,r){switch(n.parentFlushed=!0,n.status){case 0:n.id=e.nextSegmentId++;case 5:return r=n.id,n.lastPushedText=!1,n.textEmbedded=!1,e=e.renderState,F(t,tg),F(t,e.placeholderPrefix),F(t,e=L(r.toString(16))),R(t,ty);case 1:n.status=2;var i=!0,o=n.chunks,l=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];l<i.index;l++)F(t,o[l]);i=iv(e,t,i,r)}for(;l<o.length-1;l++)F(t,o[l]);return l<o.length&&(i=R(t,o[l])),i;case 3:return!0;default:throw Error(a(390))}}var iy=0;function iv(e,t,n,r){var i=n.boundary;if(null===i)return ig(e,t,n,r);if(i.parentFlushed=!0,4===i.status){var o=i.row;null!==o&&0==--o.pendingTasks&&rZ(e,o),i=i.errorDigest,R(t,tw),F(t,tj),i&&(F(t,tE),F(t,L(J(i))),F(t,tS)),R(t,tT),ig(e,t,n,r)}else if(1!==i.status)0===i.status&&(i.rootSegmentID=e.nextSegmentId++),0<i.completedSegments.length&&e.partialBoundaries.push(i),tD(t,e.renderState,i.rootSegmentID),r&&nH(r,i.fallbackState),ig(e,t,n,r);else if(rF(e,i)&&iy+i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),tD(t,e.renderState,i.rootSegmentID),ig(e,t,n,r);else{if(iy+=i.byteSize,r&&nH(r,i.contentState),null!==(n=i.row)&&rF(e,i)&&0==--n.pendingTasks&&rZ(e,n),R(t,tx),1!==(n=i.completedSegments).length)throw Error(a(391));iv(e,t,n[0],r)}return R(t,t_)}function ib(e,t,n,r){switch(!function(e,t,n,r){switch(n.insertionMode){case 0:case 1:case 3:case 2:return F(e,tI),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,tA);case 4:return F(e,tP),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,tM);case 5:return F(e,tR),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,tB);case 6:return F(e,tL),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,tz);case 7:return F(e,tU),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,tH);case 8:return F(e,tW),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,tY);case 9:return F(e,tG),F(e,t.segmentPrefix),F(e,L(r.toString(16))),R(e,t$);default:throw Error(a(397))}}(t,e.renderState,n.parentFormatContext,n.id),iv(e,t,n,r),n.parentFormatContext.insertionMode){case 0:case 1:case 3:case 2:return R(t,tO);case 4:return R(t,tF);case 5:return R(t,tN);case 6:return R(t,tV);case 7:return R(t,tq);case 8:return R(t,tK);case 9:return R(t,tZ);default:throw Error(a(397))}}function ix(e,t,n){iy=n.byteSize;for(var r,i,o=n.completedSegments,l=0;l<o.length;l++)iC(e,t,n,o[l]);o.length=0,null!==(o=n.row)&&rF(e,n)&&0==--o.pendingTasks&&rZ(e,o),ng(t,n.contentState,e.renderState),o=e.resumableState,e=e.renderState,l=n.rootSegmentID,n=n.contentState;var s=e.stylesToHoist;return e.stylesToHoist=!1,F(t,e.startInlineScript),F(t,eX),s?(0==(4&o.instructions)&&(o.instructions|=4,F(t,t9)),0==(2&o.instructions)&&(o.instructions|=2,F(t,t2)),0==(8&o.instructions)?(o.instructions|=8,F(t,t5)):F(t,t7)):(0==(2&o.instructions)&&(o.instructions|=2,F(t,t2)),F(t,t0)),o=L(l.toString(16)),F(t,e.boundaryPrefix),F(t,o),F(t,t3),F(t,e.segmentPrefix),F(t,o),s?(F(t,t8),r=n,F(t,nI),i=nI,r.stylesheets.forEach(function(e){if(2!==e.state)if(3===e.state)F(t,i),F(t,L(nl(""+e.props.href))),F(t,nP),i=nA;else{F(t,i);var n=e.props["data-precedence"],r=e.props;for(var o in F(t,L(nl(en(""+e.props.href)))),n=""+n,F(t,nO),F(t,L(nl(n))),r)if(q.call(r,o)&&null!=(n=r[o]))switch(o){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:!function(e,t,n){var r=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=en(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!G(t))return;t=""+n}F(e,nO),F(e,L(nl(r))),F(e,nO),F(e,L(nl(t)))}(t,o,n)}F(t,nP),i=nA,e.state=3}}),F(t,nP)):F(t,t4),n=R(t,t6),th(t,e)&&n}function iC(e,t,n,r){if(2===r.status)return!0;var i=n.contentState,o=r.id;if(-1===o){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return ib(e,t,r,i)}return o===n.rootSegmentID?ib(e,t,r,i):(ib(e,t,r,i),n=e.resumableState,F(t,(e=e.renderState).startInlineScript),F(t,eX),0==(1&n.instructions)?(n.instructions|=1,F(t,tX)):F(t,tJ),F(t,e.segmentPrefix),F(t,o=L(o.toString(16))),F(t,tQ),F(t,e.placeholderPrefix),F(t,o),t=R(t,t1))}function ik(e,t){P=new Uint8Array(2048),M=0;try{if(!(0<e.pendingRootTasks)){var n,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var i=e.completedPreambleSegments;if(null===i)return;iy=e.byteSize;var a,o=e.resumableState,l=e.renderState,s=l.preamble,c=s.htmlChunks,u=s.headChunks;if(c){for(a=0;a<c.length;a++)F(t,c[a]);if(u)for(a=0;a<u.length;a++)F(t,u[a]);else F(t,tc("head")),F(t,eX)}else if(u)for(a=0;a<u.length;a++)F(t,u[a]);var d=l.charsetChunks;for(a=0;a<d.length;a++)F(t,d[a]);d.length=0,l.preconnects.forEach(ny,t),l.preconnects.clear();var p=l.viewportChunks;for(a=0;a<p.length;a++)F(t,p[a]);p.length=0,l.fontPreloads.forEach(ny,t),l.fontPreloads.clear(),l.highImagePreloads.forEach(ny,t),l.highImagePreloads.clear(),es=l,l.styles.forEach(nj,t),es=null;var f=l.importMapChunks;for(a=0;a<f.length;a++)F(t,f[a]);f.length=0,l.bootstrapScripts.forEach(ny,t),l.scripts.forEach(ny,t),l.scripts.clear(),l.bulkPreloads.forEach(ny,t),l.bulkPreloads.clear(),c||u||(o.instructions|=32);var h=l.hoistableChunks;for(a=0;a<h.length;a++)F(t,h[a]);for(o=h.length=0;o<i.length;o++){var m=i[o];for(l=0;l<m.length;l++)iv(e,t,m[l],null)}var g=e.renderState.preamble,y=g.headChunks;(g.htmlChunks||y)&&F(t,tp("head"));var v=g.bodyChunks;if(v)for(i=0;i<v.length;i++)F(t,v[i]);iv(e,t,r,null),e.completedRootSegment=null;var b=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var x=e.resumableState;if(0==(64&x.instructions)){if(x.instructions|=64,F(t,b.startInlineScript),0==(32&x.instructions)){x.instructions|=32;var C="_"+x.idPrefix+"R_";F(t,nT),F(t,L(J(C))),F(t,ez)}F(t,eX),F(t,tm),R(t,eu)}}th(t,b)}var k=e.renderState;r=0;var w=k.viewportChunks;for(r=0;r<w.length;r++)F(t,w[r]);w.length=0,k.preconnects.forEach(ny,t),k.preconnects.clear(),k.fontPreloads.forEach(ny,t),k.fontPreloads.clear(),k.highImagePreloads.forEach(ny,t),k.highImagePreloads.clear(),k.styles.forEach(nE,t),k.scripts.forEach(ny,t),k.scripts.clear(),k.bulkPreloads.forEach(ny,t),k.bulkPreloads.clear();var _=k.hoistableChunks;for(r=0;r<_.length;r++)F(t,_[r]);_.length=0;var j=e.clientRenderedBoundaries;for(n=0;n<j.length;n++){var S,E=j[n];k=t;var T=e.resumableState,D=e.renderState,I=E.rootSegmentID,A=E.errorDigest;F(k,D.startInlineScript),F(k,eX),0==(4&T.instructions)?(T.instructions|=4,F(k,ne)):F(k,nt),F(k,D.boundaryPrefix),F(k,L(I.toString(16))),F(k,nn),A&&(F(k,nr),F(k,L((S=A||"",JSON.stringify(S).replace(na,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})))));var O=R(k,ni);if(!O){e.destination=null,n++,j.splice(0,n);return}}j.splice(0,n);var N=e.completedBoundaries;for(n=0;n<N.length;n++)if(!ix(e,t,N[n])){e.destination=null,n++,N.splice(0,n);return}N.splice(0,n),B(t),P=new Uint8Array(2048),M=0;var z=e.partialBoundaries;for(n=0;n<z.length;n++){var V=z[n];s:{j=e,E=t,iy=V.byteSize;var U=V.completedSegments;for(O=0;O<U.length;O++)if(!iC(j,E,V,U[O])){O++,U.splice(0,O);var H=!1;break s}U.splice(0,O);var q=V.row;null!==q&&q.together&&1===V.pendingTasks&&(1===q.pendingTasks?rX(j,q,q.hoistables):q.pendingTasks--),H=ng(E,V.contentState,j.renderState)}if(!H){e.destination=null,n++,z.splice(0,n);return}}z.splice(0,n);var W=e.completedBoundaries;for(n=0;n<W.length;n++)if(!ix(e,t,W[n])){e.destination=null,n++,W.splice(0,n);return}W.splice(0,n)}}finally{0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length?(e.flushScheduled=!1,(n=e.resumableState).hasBody&&F(t,tp("body")),n.hasHtml&&F(t,tp("html")),B(t),e.status=14,t.close(),e.destination=null):B(t)}}function iw(e){e.flushScheduled=null!==e.destination,O(function(){return id(e)}),D(function(){10===e.status&&(e.status=11),null===e.trackedPostpones&&ia(e,0===e.pendingRootTasks)})}function i_(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,D(function(){var t=e.destination;t?ik(e,t):e.flushScheduled=!1}))}function ij(e,t){if(13===e.status)e.status=14,U(t,e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{ik(e,t)}catch(t){rG(e,t,{}),r$(e,t)}}}function iS(e,t){(11===e.status||10===e.status)&&(e.status=12);try{var n=e.abortableTasks;if(0<n.size){var r=void 0===t?Error(a(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(a(530)):t;e.fatalError=r,n.forEach(function(t){return function e(t,n,r){var i=t.blockedBoundary,a=t.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}if(a=rK(t.componentStack),null===i){if(13!==n.status&&14!==n.status){if(null===(i=t.replay)){rG(n,r,a),r$(n,r);return}i.pendingTasks--,0===i.pendingTasks&&0<i.nodes.length&&(a=rG(n,r,a),ii(n,null,i.nodes,i.slots,r,a)),n.pendingRootTasks--,0===n.pendingRootTasks&&io(n)}}else 4!==i.status&&(i.status=4,a=rG(n,r,a),i.status=4,i.errorDigest=a,r6(n,i),i.parentFlushed&&n.clientRenderedBoundaries.push(i)),i.pendingTasks--,null!==(a=i.row)&&0==--a.pendingTasks&&rZ(n,a),i.fallbackAbortableTasks.forEach(function(t){return e(t,n,r)}),i.fallbackAbortableTasks.clear();null!==(t=t.row)&&0==--t.pendingTasks&&rZ(n,t),n.allPendingTasks--,0===n.allPendingTasks&&il(n)}(t,e,r)}),n.clear()}null!==e.destination&&ik(e,e.destination)}catch(t){rG(e,t,{}),r$(e,t)}}function iE(){var e=r.version;if("19.2.0-canary-0bdb9206-20250818"!==e)throw Error(a(527,e,"19.2.0-canary-0bdb9206-20250818"))}iE(),iE(),n.prerender=function(e,t){return new Promise(function(n,r){var i,a,o,l,s,c=t?t.onHeaders:void 0;c&&(s=function(e){c(new Headers(e))});var u=ew(t?t.identifierPrefix:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),d=(i=e,a=ek(u,void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,s,t?t.maxHeadersLength:void 0),o=eS(t?t.namespaceURI:void 0),l=t?t.progressiveChunkSize:void 0,(i=rN(i,u,a,o,l,t?t.onError:void 0,function(){n({prelude:new ReadableStream({type:"bytes",pull:function(e){ij(d,e)},cancel:function(e){d.destination=null,iS(d,e)}},{highWaterMark:0})})},void 0,void 0,r,t?t.onPostpone:void 0,void 0)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},i);if(t&&t.signal){var p=t.signal;if(p.aborted)iS(d,p.reason);else{var f=function(){iS(d,p.reason),p.removeEventListener("abort",f)};p.addEventListener("abort",f)}}iw(d)})},n.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,a,o,l=new Promise(function(e,t){a=e,i=t}),s=t?t.onHeaders:void 0;s&&(o=function(e){s(new Headers(e))});var c=ew(t?t.identifierPrefix:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),u=rN(e,c,ek(c,t?t.nonce:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,o,t?t.maxHeadersLength:void 0),eS(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var e=new ReadableStream({type:"bytes",pull:function(e){ij(u,e)},cancel:function(e){u.destination=null,iS(u,e)}},{highWaterMark:0});e.allReady=l,n(e)},function(e){l.catch(function(){}),r(e)},i,t?t.onPostpone:void 0,t?t.formState:void 0);if(t&&t.signal){var d=t.signal;if(d.aborted)iS(u,d.reason);else{var p=function(){iS(u,d.reason),d.removeEventListener("abort",p)};d.addEventListener("abort",p)}}iw(u)})},n.version="19.2.0-canary-0bdb9206-20250818"},68428,(e,t,n)=>{"use strict";var r,i;r=e.r(469957),i=e.r(149340),n.version=r.version,n.renderToString=r.renderToString,n.renderToStaticMarkup=r.renderToStaticMarkup,n.renderToReadableStream=i.renderToReadableStream,i.resume&&(n.resume=i.resume)},946287,(e,t,n)=>{(function(){(null!==n?n:this).ExifReader=function(){function e(){var e=this;this._getTagValueAt={1:function(t){return e._getByteAt(t)},2:function(t){return e._getAsciiAt(t)},3:function(t){return e._getShortAt(t)},4:function(t){return e._getLongAt(t)},5:function(t){return e._getRationalAt(t)},7:function(t){return e._getUndefinedAt(t)},9:function(t){return e._getSlongAt(t)},10:function(t){return e._getSrationalAt(t)}},this._tiffHeaderOffset=0}return e.prototype._MIN_DATA_BUFFER_LENGTH=2,e.prototype._JPEG_ID_SIZE=2,e.prototype._JPEG_ID=65496,e.prototype._APP_MARKER_SIZE=2,e.prototype._APP0_MARKER=65504,e.prototype._APP1_MARKER=65505,e.prototype._APP15_MARKER=65519,e.prototype._APP_ID_OFFSET=4,e.prototype._BYTES_Exif=0x45786966,e.prototype._TIFF_HEADER_OFFSET=10,e.prototype._BYTE_ORDER_BIG_ENDIAN=18761,e.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789,e.prototype.load=function(e){return this.loadView(new DataView(e))},e.prototype.loadView=function(e){return this._dataView=e,this._tags={},this._checkImageHeader(),this._readTags()},e.prototype._checkImageHeader=function(){var e;if((e=this._dataView).byteLength<this._MIN_DATA_BUFFER_LENGTH||e.getUint16(0,!1)!==this._JPEG_ID)throw Error("Invalid image format");if(this._parseAppMarkers(e),!this._hasExifData())throw Error("No Exif data")},e.prototype._parseAppMarkers=function(e){var t,n,r;for(t=this._JPEG_ID_SIZE,r=[];!(e.byteLength<t+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(e,t))n=e.getUint16(t+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=t+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(e,t))n=e.getUint16(t+this._APP_MARKER_SIZE,!1);else break;r.push(t+=this._APP_MARKER_SIZE+n)}return r},e.prototype._isApp1ExifMarker=function(e,t){return e.getUint16(t,!1)===this._APP1_MARKER&&e.getUint32(t+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&0===e.getUint8(t+this._APP_ID_OFFSET+4,!1)},e.prototype._isAppMarker=function(e,t){var n;return(n=e.getUint16(t,!1))>=this._APP0_MARKER&&n<=this._APP15_MARKER},e.prototype._hasExifData=function(){return 0!==this._tiffHeaderOffset},e.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},e.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw Error("Illegal byte order value. Faulty image.")},e.prototype._read0thIfd=function(){var e;return e=this._getIfdOffset(),this._readIfd("0th",e)},e.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},e.prototype._readExifIfd=function(){var e;if(null!=this._tags["Exif IFD Pointer"])return e=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",e)},e.prototype._readGpsIfd=function(){var e;if(null!=this._tags["GPS Info IFD Pointer"])return e=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",e)},e.prototype._readInteroperabilityIfd=function(){var e;if(null!=this._tags["Interoperability IFD Pointer"])return e=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",e)},e.prototype._readIfd=function(e,t){var n,r,i,a;for(n=this._getShortAt(t),t+=2,a=[],i=0;0<=n?i<n:i>n;0<=n?++i:--i)r=this._readTag(e,t),this._tags[r.name]={value:r.value,description:r.description},a.push(t+=12);return a},e.prototype._readTag=function(e,t){var n,r,i,a,o,l,s;return(n=this._getShortAt(t),o=this._getShortAt(t+2),r=this._getLongAt(t+4),this._typeSizes[o]*r<=4?l=this._getTagValue(t+8,o,r):(s=this._getLongAt(t+8),l=this._getTagValue(this._tiffHeaderOffset+s,o,r)),o===this._tagTypes.ASCII&&(l=this._splitNullSeparatedAsciiString(l)),null!=this._tagNames[e][n])?(null!=this._tagNames[e][n].name&&null!=this._tagNames[e][n].description?(a=this._tagNames[e][n].name,i=this._tagNames[e][n].description(l)):(a=this._tagNames[e][n],i=l instanceof Array?l.join(", "):l),{name:a,value:l,description:i}):{name:"undefined-"+n,value:l,description:l}},e.prototype._getTagValue=function(e,t,n){var r,i;return 1===(i=(function(){var i,a;for(a=[],i=0;0<=n?i<n:i>n;0<=n?++i:--i)r=this._getTagValueAt[t](e),e+=this._typeSizes[t],a.push(r);return a}).call(this)).length?i=i[0]:t===this._tagTypes.ASCII&&(i=this._getAsciiValue(i)),i},e.prototype._getAsciiValue=function(e){var t,n,r,i;for(n=0,i=[],r=e.length;n<r;n++)t=e[n],i.push(String.fromCharCode(t));return i},e.prototype._getByteAt=function(e){return this._dataView.getUint8(e)},e.prototype._getAsciiAt=function(e){return this._dataView.getUint8(e)},e.prototype._getShortAt=function(e){return this._dataView.getUint16(e,this._littleEndian)},e.prototype._getLongAt=function(e){return this._dataView.getUint32(e,this._littleEndian)},e.prototype._getRationalAt=function(e){return this._getLongAt(e)/this._getLongAt(e+4)},e.prototype._getUndefinedAt=function(e){return this._getByteAt(e)},e.prototype._getSlongAt=function(e){return this._dataView.getInt32(e,this._littleEndian)},e.prototype._getSrationalAt=function(e){return this._getSlongAt(e)/this._getSlongAt(e+4)},e.prototype._splitNullSeparatedAsciiString=function(e){var t,n,r,i,a;for(i=0,r=[],n=0,a=e.length;i<a;i++){if("\0"===(t=e[i])){n++;continue}null==r[n]&&(r[n]=""),r[n]+=t}return r},e.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},e.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},e.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(e){switch(e){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(e){switch(e){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(e){switch(e){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+e}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(e){return e.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(e){switch(e){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(e){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(e){var t,n,r;for(n=0,t="",r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return t}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(e){var t,n,r;for(n=0,t="",r=e.length;n<r;n++)switch(e[n]){case 49:t+="Y";break;case 50:t+="Cb";break;case 51:t+="Cr";break;case 52:t+="R";break;case 53:t+="G";break;case 54:t+="B"}return t}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(e){switch(e){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(e){switch(e){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(e){switch(e){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(e){switch(e.length){case 2:return"Location; X: "+e[0]+", Y: "+e[1];case 3:return"Circle; X: "+e[0]+", Y: "+e[1]+", diameter: "+e[2];case 4:return"Rectangle; X: "+e[0]+", Y: "+e[1]+", width: "+e[2]+", height: "+e[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(e){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(e){switch(e.slice(0,8).map(function(e){return String.fromCharCode(e)}).join("")){case"ASCII\0\0\0":return e.slice(8,e.length).map(function(e){return String.fromCharCode(e)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(e){var t,n,r;for(n=0,t="",r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return t}},40961:{name:"ColorSpace",description:function(e){switch(e){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(e){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(e){switch(e){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(e){return"X: "+e[0]+", Y: "+e[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(e){switch(e){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(e){return 3===e?"DSC":"Unknown"}},41729:{name:"SceneType",description:function(e){return 1===e?"A directly photographed image":"Unknown"}},41730:{name:"CFAPattern",description:function(e){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(e){switch(e){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(e){switch(e){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(e){switch(e){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(e){return 0===e?"Digital zoom was not used":e}},41989:{name:"FocalLengthIn35mmFilm",description:function(e){return 0===e?"Unknown":e}},41990:{name:"SceneCaptureType",description:function(e){switch(e){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(e){switch(e){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(e){switch(e){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(e){switch(e){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(e){switch(e){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(e){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(e){switch(e){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(e){var t,n;return e[0]===(t=e[1])&&2===t&&e[2]===(n=e[3])&&0===n?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(e){switch(e.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},3:{name:"GPSLongitudeRef",description:function(e){switch(e.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},5:{name:"GPSAltitudeRef",description:function(e){switch(e){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(e){return e+" m"}},7:{name:"GPSTimeStamp",description:function(e){return e.map(function(e){return function(){var t,n,r;for(r=[],t=0,n=2-(""+Math.floor(e)).length;0<=n?t<n:t>n;0<=n?++t:--t)r.push("0");return r}()+e}).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(e){switch(e.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(e){switch(e.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(e){switch(e.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(e){switch(e.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(e){switch(e.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(e){switch(e.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(e){switch(e.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(e){return e[0]+e[1]/60+e[2]/3600}},23:{name:"GPSDestBearingRef",description:function(e){switch(e.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(e){switch(e.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(e){switch(e.slice(0,8).map(function(e){return String.fromCharCode(e)}).join("")){case"ASCII\0\0\0":return e.slice(8,e.length).map(function(e){return String.fromCharCode(e)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(e){switch(e.slice(0,8).map(function(e){return String.fromCharCode(e)}).join("")){case"ASCII\0\0\0":return e.slice(8,e.length).map(function(e){return String.fromCharCode(e)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(e){switch(e){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},e.prototype.getTagValue=function(e){return null!=this._tags[e]?this._tags[e].value:void 0},e.prototype.getTagDescription=function(e){return null!=this._tags[e]?this._tags[e].description:void 0},e.prototype.getAllTags=function(){return this._tags},e}()}).call(e.e)},512286,(e,t,n)=>{var r=e.r(946287).ExifReader;t.exports=function(e){var t=new r;t.load(e);var n=t.getAllTags(),i={};for(var a in n)i[a.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(e){return 1==e.length?e.toLowerCase():e[0]==e[0].toUpperCase()?" "+e.toLowerCase():e[0]+" "+e[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")]=n[a].description;return i}},974900,(e,t,n)=>{var r=e.i(247167);let i="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,a=()=>i.now(),o=e=>e===1/0||(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e))(e);class l{setTimer(e,t){if(this.timerExpiration<e)return;this.timer&&clearTimeout(this.timer);let n=setTimeout(()=>{for(let e in this.timer=void 0,this.timerExpiration=void 0,this.purgeStale(),this.expirations){this.setTimer(e,e-a());break}},t);n.unref&&n.unref(),this.timerExpiration=e,this.timer=n}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return r.default.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){let e=this.dispose!==l.prototype.dispose?[...this]:[];for(let[t,n]of(this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null),e))this.dispose(n,t,"delete")}setTTL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ttl,n=this.expirationMap.get(e);if(void 0!==n){let t=this.expirations[n];!t||t.length<=1?delete this.expirations[n]:this.expirations[n]=t.filter(t=>t!==e)}if(t!==1/0){let n=Math.floor(a()+t);this.expirationMap.set(e,n),this.expirations[n]||(this.expirations[n]=[],this.setTimer(n,t)),this.expirations[n].push(e)}else this.expirationMap.set(e,1/0)}set(e,t){let{ttl:n=this.ttl,noUpdateTTL:r=this.noUpdateTTL,noDisposeOnSet:i=this.noDisposeOnSet}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!o(n))throw TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(e)){r||this.setTTL(e,n);let a=this.data.get(e);a!==t&&(this.data.set(e,t),i||this.dispose(a,e,"set"))}else this.setTTL(e,n),this.data.set(e,t);for(;this.size>this.max;)this.purgeToCapacity();return this}has(e){return this.data.has(e)}getRemainingTTL(e){let t=this.expirationMap.get(e);return t===1/0?t:void 0!==t?Math.max(0,Math.ceil(t-a())):0}get(e){let{updateAgeOnGet:t=this.updateAgeOnGet,ttl:n=this.ttl,checkAgeOnGet:r=this.checkAgeOnGet}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.data.get(e);return r&&0===this.getRemainingTTL(e)?void this.delete(e):(t&&this.setTTL(e,n),i)}dispose(e,t){}delete(e){let t=this.expirationMap.get(e);if(void 0!==t){let n=this.data.get(e);this.data.delete(e),this.expirationMap.delete(e);let r=this.expirations[t];return r&&(r.length<=1?delete this.expirations[t]:this.expirations[t]=r.filter(t=>t!==e)),this.dispose(n,e,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(let e in this.expirations){let t=this.expirations[e];if(this.size-t.length>=this.max){delete this.expirations[e];let n=[];for(let e of t)n.push([e,this.data.get(e)]),this.data.delete(e),this.expirationMap.delete(e);for(let[e,t]of n)this.dispose(t,e,"evict")}else{let e=this.size-this.max,n=[];for(let r of t.splice(0,e))n.push([r,this.data.get(r)]),this.data.delete(r),this.expirationMap.delete(r);for(let[e,t]of n)this.dispose(t,e,"evict");return}}}get size(){return this.data.size}purgeStale(){let e=Math.ceil(a());for(let t in this.expirations){if("Infinity"===t||t>e)return;let n=[...this.expirations[t]||[]],r=[];for(let e of(delete this.expirations[t],n))r.push([e,this.data.get(e)]),this.data.delete(e),this.expirationMap.delete(e);for(let[e,t]of r)this.dispose(t,e,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(let e in this.expirations)for(let t of this.expirations[e])yield[t,this.data.get(t)]}*keys(){for(let e in this.expirations)for(let t of this.expirations[e])yield t}*values(){for(let e in this.expirations)for(let t of this.expirations[e])yield this.data.get(t)}[Symbol.iterator](){return this.entries()}constructor({max:e=1/0,ttl:t,updateAgeOnGet:n=!1,checkAgeOnGet:r=!1,noUpdateTTL:i=!1,dispose:a,noDisposeOnSet:l=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==t&&!o(t))throw TypeError("ttl must be positive integer or Infinity if set");if(!o(e))throw TypeError("max must be positive integer or Infinity");if(this.ttl=t,this.max=e,this.updateAgeOnGet=!!n,this.checkAgeOnGet=!!r,this.noUpdateTTL=!!i,this.noDisposeOnSet=!!l,void 0!==a){if("function"!=typeof a)throw TypeError("dispose must be function if set");this.dispose=a}this.timer=void 0,this.timerExpiration=void 0}}t.exports=l},195200,(e,t,n)=>{var r=e.r(666305),i=e.r(351095),a=e.r(33679);t.exports=function(e){return function(t,n,o){var l=Object(t);if(!i(t)){var s=r(n,3);t=a(t),n=function(e){return s(l[e],e,l)}}var c=e(t,n,o);return c>-1?l[s?t[c]:c]:void 0}}},160191,(e,t,n)=>{t.exports=e.r(195200)(e.r(426965))},342341,(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t}Object.defineProperty(n,"__esModule",{value:!0}),n.SKIP=l,n.reduce=c,n.withCustomPathSegment=n.SKIP_MARKER=void 0;var o={_:"SKIP_MARKER"};function l(e){return[o,e]}function s(e,t,n,r){var i=t(e,n,r);return i===l?[!0,e]:Array.isArray(i)&&i[0]===o?[!0,i[1]]:[!1,i]}n.SKIP_MARKER=o;function c(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;return function e(t,n,o,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a,u=Array.isArray(o)?"array":null===o?"null":i(o);return"object"===u?function(t,n,i,o){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a,c=r(s(t,n,i,o),2),u=c[0],d=c[1];return u?d:Object.keys(i).reduce(function(t,r){return e(t,n,i[r],o.concat(l(i[r],r,i)),l)},d)}(t,n,o,l,c):"array"===u?function(t,n,i,o){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a,c=r(s(t,n,i,o),2),u=c[0],d=c[1];return u?d:i.reduce(function(t,r,a){return e(t,n,r,o.concat(l(r,a,i)),l)},d)}(t,n,o,l,c):r(s(t,n,o,l),2)[1]}(n,t,e,[],o)}n.withCustomPathSegment=function(e){return function(t,n,r){return c(t,n,r,e)}}},449603,(e,t,n)=>{!function(n){"use strict";var r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y",ẞ:"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z",စျ:"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw",သြော:"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},i=["်","ް"],a={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်",က်:"et","ိုက်":"aik","ောက်":"auk",င်:"in","ိုင်":"aing","ောင်":"aung",စ်:"it",ည်:"i",တ်:"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it",ဒ်:"d","ိုဒ်":"ok","ုဒ်":"ait",န်:"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un",ပ်:"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut",န်ုပ်:"nub",မ်:"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un",ယ်:"e","ိုလ်":"ol",ဉ်:"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},o={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},l={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},s=";?:@&=+$,/",c=";?:@&=+$,",u=function(e,t){var n,u,d,h,m,g,y,v,b,x,C,k,w,_,j="-",S="",E="",T=!0,D={},I="";if("string"!=typeof e)return"";if("string"==typeof t&&(j=t),y=l.en,v=o.en,"object"==typeof t)for(C in n=t.maintainCase||!1,D=t.custom&&"object"==typeof t.custom?t.custom:D,d=+t.truncate>1&&t.truncate||!1,h=t.uric||!1,m=t.uricNoSlash||!1,g=t.mark||!1,T=!1!==t.symbols&&!1!==t.lang,j=t.separator||j,h&&(I+=s),m&&(I+=c),g&&(I+=".!~*'()"),y=t.lang&&l[t.lang]&&T?l[t.lang]:T?l.en:{},v=t.lang&&o[t.lang]?o[t.lang]:!1===t.lang||!0===t.lang?{}:o.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach(function(e){D[e+""]=e+""}),u=!0):u=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach(function(e){D[e+""]=e+""}),Object.keys(D).forEach(function(t){var n;n=t.length>1?RegExp("\\b"+p(t)+"\\b","gi"):RegExp(p(t),"gi"),e=e.replace(n,D[t])}),D)I+=C;for(I+=j,I=p(I),e=e.replace(/(^\s+|\s+$)/g,""),w=!1,_=!1,x=0,k=e.length;x<k;x++)f(C=e[x],D)?w=!1:v[C]?(C=w&&v[C].match(/[A-Za-z0-9]/)?" "+v[C]:v[C],w=!1):C in r?(x+1<k&&i.indexOf(e[x+1])>=0?(E+=C,C=""):!0===_?(C=a[E]+r[C],E=""):C=w&&r[C].match(/[A-Za-z0-9]/)?" "+r[C]:r[C],w=!1,_=!1):C in a?(E+=C,C="",x===k-1&&(C=a[E]),_=!0):!y[C]||h&&-1!==s.indexOf(C)||m&&-1!==c.indexOf(C)?(!0===_?(C=a[E]+C,E="",_=!1):w&&(/[A-Za-z0-9]/.test(C)||S.substr(-1).match(/A-Za-z0-9]/))&&(C=" "+C),w=!1):(C=(w||S.substr(-1).match(/[A-Za-z0-9]/)?j+y[C]:y[C])+(void 0!==e[x+1]&&e[x+1].match(/[A-Za-z0-9]/)?j:""),w=!0),S+=C.replace(RegExp("[^\\w\\s"+I+"_-]","g"),j);return u&&(S=S.replace(/(\w)(\S*)/g,function(e,t,n){var r=t.toUpperCase()+(null!==n?n:"");return 0>Object.keys(D).indexOf(r.toLowerCase())?r:r.toLowerCase()})),S=S.replace(/\s+/g,j).replace(RegExp("\\"+j+"+","g"),j).replace(RegExp("(^\\"+j+"+|\\"+j+"+$)","g"),""),d&&S.length>d&&(b=S.charAt(d)===j,S=S.slice(0,d),b||(S=S.slice(0,S.lastIndexOf(j)))),n||u||(S=S.toLowerCase()),S},d=function(e){return function(t){return u(t,e)}},p=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},f=function(e,t){for(var n in t)if(t[n]===e)return!0};if(t.exports)t.exports=u,t.exports.createSlug=d;else if("undefined"!=typeof define&&define.amd)void 0!==u&&e.v(u);else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=u,n.createSlug=d}catch(e){}}(e.e)},809054,(e,t,n)=>{t.exports=e.r(449603)},737527,(e,t,n)=>{var r=e.r(361884),i=Math.floor,a=Math.min;t.exports=function(e,t,n,o){var l=0,s=null==e?0:e.length;if(0===s)return 0;for(var c=(t=n(t))!=t,u=null===t,d=r(t),p=void 0===t;l<s;){var f=i((l+s)/2),h=n(e[f]),m=void 0!==h,g=null===h,y=h==h,v=r(h);if(c)var b=o||y;else b=p?y&&(o||m):u?y&&m&&(o||!g):d?y&&m&&!g&&(o||!v):!g&&!v&&(o?h<=t:h<t);b?l=f+1:s=f}return a(s,0xfffffffe)}},387086,(e,t,n)=>{var r=e.r(737527),i=e.r(653336),a=e.r(361884);t.exports=function(e,t,n){var o=0,l=null==e?o:e.length;if("number"==typeof t&&t==t&&l<=0x7fffffff){for(;o<l;){var s=o+l>>>1,c=e[s];null!==c&&!a(c)&&(n?c<=t:c<t)?o=s+1:l=s}return l}return r(e,t,i,n)}},111331,(e,t,n)=>{var r=e.r(387086);t.exports=function(e,t){return r(e,t)}},191233,(e,t,n)=>{var r=e.i(247167);(function(){var e,n,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==r.default&&null!==r.default&&r.default.hrtime?(t.exports=function(){return(e()-a)/1e6},n=r.default.hrtime,a=(e=function(){var e;return 1e9*(e=n())[0]+e[1]})()-1e9*r.default.uptime()):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return new Date().getTime()-i},i=new Date().getTime())}).call(e.e)},878796,(e,t,n)=>{for(var r=e.r(191233),i="undefined"==typeof window?e.g:window,a=["moz","webkit"],o="AnimationFrame",l=i["request"+o],s=i["cancel"+o]||i["cancelRequest"+o],c=0;!l&&c<a.length;c++)l=i[a[c]+"Request"+o],s=i[a[c]+"Cancel"+o]||i[a[c]+"CancelRequest"+o];if(!l||!s){var u=0,d=0,p=[],f=1e3/60;l=function(e){if(0===p.length){var t=r(),n=Math.max(0,f-(t-u));u=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},s=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}t.exports=function(e){return l.call(i,e)},t.exports.cancel=function(){s.apply(i,arguments)},t.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=l,e.cancelAnimationFrame=s}},429928,(e,t,n)=>{var r=e.r(504688),i=e.r(541891),a=e.r(910339);t.exports=function(e,t,n){var o=e.length;if(o<2)return o?a(e[0]):[];for(var l=-1,s=Array(o);++l<o;)for(var c=e[l],u=-1;++u<o;)u!=l&&(s[l]=r(s[l]||c,e[u],t,n));return a(i(s,1),t,n)}},646922,(e,t,n)=>{var r=e.r(536100),i=e.r(395059),a=e.r(429928),o=e.r(791072);t.exports=i(function(e){return a(r(e,o))})},537152,872774,273638,10727,551657,408551,e=>{"use strict";let t,n,r,i,a,o,l,s,c,u;e.s(["AvatarSkeleton",()=>Re,"COMMENTS_INSPECTOR_NAME",()=>ehT,"CapabilityGate",()=>ewh,"ChangeConnectorRoot",()=>eDA,"ChangeFieldWrapper",()=>eDp,"ChangeIndicatorsTracker",()=>LX,"ChangeList",()=>Li,"ChangesError",()=>La,"CommandList",()=>DD,"CommentsEnabledProvider",()=>egx,"CommentsIntentProvider",()=>egC,"CommentsProvider",()=>egb,"ContextMenuButton",()=>DO,"CopyPasteProvider",()=>eS5,"DEFAULT_STUDIO_CLIENT_OPTIONS",()=>AE,"DocumentPreviewPresence",()=>ecQ,"DocumentStatus",()=>eTv,"DocumentStatusIndicator",()=>z3,"EMPTY_ARRAY",()=>Ie,"EMPTY_OBJECT",()=>D9,"ErrorActions",()=>eT_,"Event",()=>RH,"EventsProvider",()=>F_,"FieldActionsProvider",()=>zu,"FieldActionsResolver",()=>zd,"Filters",()=>eoQ,"FormBuilder",()=>enp,"GetFormValueProvider",()=>Uw,"GetHookCollectionState",()=>eam,"InsufficientPermissionsMessage",()=>es3,"IsLastPaneProvider",()=>eb9,"LATEST",()=>Rm,"LegacyLayerProvider",()=>eDd,"LoadingBlock",()=>DU,"NoChanges",()=>Lr,"PUBLISHED",()=>Rg,"PerspectiveProvider",()=>eS8,"PresenceOverlay",()=>W0,"PreviewCard",()=>eTA,"RELEASES_INTENT",()=>ecF,"RELEASES_STUDIO_CLIENT_OPTIONS",()=>Of,"ReferenceInputOptionsProvider",()=>L4,"ReleaseAvatar",()=>erX,"ReleasesNav",()=>ewU,"Resizable",()=>W6,"SanityDefaultPreview",()=>q8,"ScrollContainer",()=>$l,"SearchHeader",()=>elv,"SearchProvider",()=>elJ,"SourceProvider",()=>eir,"StatusButton",()=>eDs,"Studio",()=>eTe,"TIMELINE_ITEM_I18N_KEY_MAPPING",()=>RF,"TextWithTone",()=>eiD,"TooltipOfDisabled",()=>eDc,"Translate",()=>IZ,"UserAvatar",()=>Ri,"VersionChip",()=>ecZ,"VersionInlineBadge",()=>RA,"VirtualizerScrollInstanceProvider",()=>W5,"_isCustomDocumentTypeDefinition",()=>Iv,"catchWithCount",()=>DQ,"collate",()=>D4,"createHookFromObservableFactory",()=>D1,"createPatchChannel",()=>zV,"createSWR",()=>Ig,"createSearch",()=>Ul,"defineConfig",()=>euW,"defineDocumentFieldAction",()=>euG,"defineLocaleResourceBundle",()=>Dq,"defineLocalesResources",()=>DY,"definePlugin",()=>eie,"formatRelativeLocalePublishDate",()=>Rw,"fromMutationPatches",()=>eub,"getConfigContextFromSource",()=>ekZ,"getDocumentVariantType",()=>In,"getPreviewStateObservable",()=>eru,"getPreviewValueWithFallback",()=>erp,"getReleaseIdFromReleaseDocumentId",()=>FF,"getReleaseTone",()=>RD,"getSanityCreateLinkMetadata",()=>eut,"getSearchableTypes",()=>V7,"getVersionInlineBadge",()=>RO,"isArray",()=>Ia,"isCardinalityOnePerspective",()=>If,"isCardinalityOneRelease",()=>Ip,"isCreateDocumentVersionEvent",()=>FS,"isDeleteDocumentGroupEvent",()=>FO,"isDeleteDocumentVersionEvent",()=>FE,"isDev",()=>IX,"isDocumentLimitError",()=>ewK,"isDraftPerspective",()=>Rj,"isEditDocumentVersionEvent",()=>FP,"isGoingToUnpublish",()=>q6,"isNewDocument",()=>Ma,"isPerspectiveWriteable",()=>eDP,"isPublishDocumentVersionEvent",()=>FT,"isPublishedPerspective",()=>R_,"isRecord",()=>Io,"isReleaseDocument",()=>Id,"isReleasePerspective",()=>Oh,"isReleaseScheduledOrScheduling",()=>RS,"isSanityCreateLinked",()=>eun,"isSanityDefinedAction",()=>euK,"isScheduleDocumentVersionEvent",()=>FI,"isString",()=>Il,"isSystemBundle",()=>D7,"isUnpublishDocumentEvent",()=>FD,"isUnscheduleDocumentVersionEvent",()=>FA,"pathToString",()=>Au,"prepareForPreview",()=>era,"resizeObserver",()=>Im,"unstable_useValuePreview",()=>Wt,"useActiveReleases",()=>z0,"useActiveWorkspace",()=>eul,"useArchivedReleases",()=>eit,"useCanvasCompanionDoc",()=>eue,"useClient",()=>eTt,"useCommentsEnabled",()=>em1,"useConditionalToast",()=>eTn,"useConfigContextFromSource",()=>ek$,"useCopyPaste",()=>eS7,"useCurrentUser",()=>A6,"useDataset",()=>erf,"useDateTimeFormat",()=>Rs,"useDocumentForm",()=>eug,"useDocumentLimitsUpsellContext",()=>ewW,"useDocumentOperation",()=>euu,"useDocumentOperationEvent",()=>eTr,"useDocumentPairPermissions",()=>Mp,"useDocumentPresence",()=>Fb,"useDocumentPreviewStore",()=>Fu,"useDocumentStore",()=>Fd,"useDocumentType",()=>Mi,"useDocumentVersionInfo",()=>ea_,"useDocumentVersions",()=>erv,"useEditState",()=>eud,"useEvents",()=>Fj,"useEventsStore",()=>F9,"useFieldActions",()=>zp,"useGetI18nText",()=>IP,"useGlobalCopyPasteElementHandler",()=>eTo,"useGrantsStore",()=>Fs,"useHistoryStore",()=>Fc,"useI18nText",()=>IM,"useInitialValue",()=>Mo,"useKeyValueStore",()=>Fh,"useListFormat",()=>Iz,"useManageFavorite",()=>eTl,"useMiddlewareComponents",()=>Aa,"useNavigateToCanvasDoc",()=>efc,"useOnlyHasVersions",()=>erC,"usePerspective",()=>Ar,"useProjectId",()=>erh,"useReconnectingToast",()=>eTc,"useRelativeTime",()=>Rp,"useSanityCreateConfig",()=>eDO,"useSchema",()=>el3,"useSearchMaxFieldDepth",()=>zF,"useSearchState",()=>eaJ,"useSetPerspective",()=>erV,"useSource",()=>eii,"useStudioUrl",()=>eTu,"useSyncState",()=>eTf,"useTemplatePermissions",()=>MI,"useTemplates",()=>eTm,"useTimelineSelector",()=>M7,"useTimelineStore",()=>M8,"useTranslation",()=>IO,"useUnique",()=>IE,"useUser",()=>A4,"useValidationStatus",()=>euh,"useVersionOperations",()=>erU,"useWorkspace",()=>FU,"useZIndex",()=>eDu],537152);var d,p,f,h,m,g,y,v,b,x,C=e.i(247167),k=e.i(299749),w=e.i(892510),_=e.i(843476),j=e.i(881933),S=e.i(970725),E=e.i(271645),T=e.i(432892),D=e.i(527108),I=e.i(725917),A=e.i(678491),O=e.i(48493),P=e.i(201968),M=e.i(224283),F=e.i(997053),R=e.i(447912),B=e.i(312669);e.i(926199);var N=e.i(648568),L=e.i(847780),z=e.i(408466),V=e.i(782154);e.i(785269);var U=e.i(200071),H=e.i(322831),q=e.i(402607),W=e.i(652468),Y=e.i(245281),K=e.i(602400),G=e.i(172441),$=e.i(96623),Z=e.i(94059),X=e.i(453384),J=e.i(992481),Q=e.i(134352),ee=e.i(10839),et=e.i(589293),en=e.i(330823),er=e.i(394426),ei=e.i(993817),ea=e.i(408659),eo=e.i(807136),el=e.i(254201),es=e.i(817312),ec=e.i(789196),eu=e.i(282541),ed=e.i(374e3),ep=e.i(827341),ef=e.i(878856),eh=e.i(218692),em=e.i(128068),eg=e.i(277497),ey=e.i(740144),ev=e.i(630330),eb=e.i(629437),ex=e.i(598319),eC=e.i(484973),ek=e.i(839338),ew=e.i(722249),e_=e.i(305753),ej=e.i(873904),eS=e.i(446688),eE=e.i(494477),eT=e.i(701655),eD=e.i(327716),eI=e.i(58832),eA=e.i(394186),eO=e.i(711308),eP=e.i(495125),eM=e.i(245912),eF=e.i(1614),eR=e.i(161435),eB=e.i(373983),eN=e.i(177672),eL=e.i(906247),ez=e.i(424981),eV=e.i(975143),eU=e.i(449242),eH=e.i(938946),eq=e.i(480546),eW=e.i(827492),eY=e.i(282893),eK=e.i(800879),eG=e.i(142722),e$=e.i(602014),eZ=e.i(960739),eX=e.i(838473),eJ=e.i(55083),eQ=e.i(70682),e1=e.i(844032),e2=e.i(490177),e0=e.i(156363),e5=e.i(232127),e7=e.i(187155),e3=e.i(100374),e8=e.i(945736),e4=e.i(898892),e6=e.i(657588),e9=e.i(206e3),te=e.i(597083),tt=e.i(991426),tn=e.i(842160),tr=e.i(148450),ti=e.i(797341),ta=e.i(179684),to=e.i(385658),tl=e.i(224019),ts=e.i(706413),tc=e.i(645456),tu=e.i(462576),td=e.i(272810),tp=e.i(482065),tf=e.i(4879),th=e.i(216024),tm=e.i(791854),tg=e.i(210810),ty=e.i(439884),tv=e.i(148077),tb=e.i(645141),tx=e.i(387675),tC=e.i(303293),tk=e.i(801601),tw=e.i(551846),t_=e.i(835770),tj=e.i(137916),tS=e.i(786419),tE=e.i(317306),tT=e.i(747053),tD=e.i(292251),tI=e.i(469681),tA=e.i(49748),tO=e.i(123699),tP=e.i(141135),tM=e.i(750253),tF=e.i(980226),tR=e.i(175456),tB=e.i(987790),tN=e.i(487743),tL=e.i(203141),tz=e.i(977151),tV=e.i(28484),tU=e.i(401364),tH=e.i(477995),tq=e.i(794078),tW=e.i(870263),tY=e.i(542027),tK=e.i(406800),tG=e.i(728686),t$=e.i(155419),tZ=e.i(811366),tX=e.i(231560),tJ=e.i(660997),tQ=e.i(921306),t1=e.i(302535),t2=e.i(463390),t0=e.i(402068),t5=e.i(782463),t7=e.i(362321),t3=e.i(619405),t8=e.i(335870),t4=e.i(715546),t6=e.i(420939),t9=e.i(287215),ne=e.i(640289),nt=e.i(177433),nn=e.i(907270),nr=e.i(201226),ni=e.i(385845),na=e.i(846932),no=e.i(88653),nl=e.i(831195),ns=e.i(774010),nc=e.i(374009),nu=e.i(576955),nd=e.i(533940),np=e.i(725698),nf=e.i(343794),nh=e.i(490170),nm=e.i(519339),ng=e.i(639301),ny=e.i(62722),nv=e.i(775157),nb=e.i(713317),nx=e.i(104366),nC=e.i(909817),nk=e.i(129548),nw=e.i(617601),n_=e.i(482820),nj=e.i(565816),nS=e.i(946217),nE=e.i(101320),nT=e.i(220250),nD=e.i(477183),nI=e.i(786350),nA=e.i(76590),nO=e.i(807311),nP=e.i(368233),nM=e.i(236726),nF=e.i(908035),nR=E,nB=e.i(869821),nN=e.i(695713),nL=e.i(591692),nz=Symbol.for("immer-nothing"),nV=Symbol.for("immer-draftable"),nU=Symbol.for("immer-state");function nH(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var nq=Object.getPrototypeOf;function nW(e){return!!e&&!!e[nU]}function nY(e){var t;return!!e&&(nG(e)||Array.isArray(e)||!!e[nV]||!!(null==(t=e.constructor)?void 0:t[nV])||nQ(e)||n1(e))}var nK=Object.prototype.constructor.toString();function nG(e){if(!e||"object"!=typeof e)return!1;let t=nq(e);if(null===t)return!0;let n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===nK}function n$(e,t){0===nZ(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function nZ(e){let t=e[nU];return t?t.type_:Array.isArray(e)?1:nQ(e)?2:3*!!n1(e)}function nX(e,t){return 2===nZ(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nJ(e,t,n){let r=nZ(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function nQ(e){return e instanceof Map}function n1(e){return e instanceof Set}function n2(e){return e.copy_||e.base_}function n0(e,t){if(nQ(e))return new Map(e);if(n1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let n=nG(e);if(!0!==t&&("class_only"!==t||n)){let t=nq(e);return null!==t&&n?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[nU];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(nq(e),t)}}function n5(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n3(e)||nW(e)||!nY(e)||(nZ(e)>1&&Object.defineProperties(e,{set:{value:n7},add:{value:n7},clear:{value:n7},delete:{value:n7}}),Object.freeze(e),t&&Object.values(e).forEach(e=>n5(e,!0))),e}function n7(){nH(2)}function n3(e){return Object.isFrozen(e)}var n8={};function n4(e){let t=n8[e];return t||nH(0,e),t}function n6(e,t){t&&(n4("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function n9(e){re(e),e.drafts_.forEach(rn),e.drafts_=null}function re(e){e===d&&(d=e.parent_)}function rt(e){return d={drafts_:[],parent_:d,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rn(e){let t=e[nU];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function rr(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];return void 0!==e&&e!==n?(n[nU].modified_&&(n9(t),nH(4)),nY(e)&&(e=ri(t,e),t.parent_||ro(t,e)),t.patches_&&n4("Patches").generateReplacementPatches_(n[nU].base_,e,t.patches_,t.inversePatches_)):e=ri(t,n,[]),n9(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nz?e:void 0}function ri(e,t,n){if(n3(t))return t;let r=t[nU];if(!r)return n$(t,(i,a)=>ra(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ro(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;let t=r.copy_,i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),n$(i,(i,o)=>ra(e,r,t,i,o,n,a)),ro(e,t,!1),n&&e.patches_&&n4("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ra(e,t,n,r,i,a,o){if(nW(i)){let o=ri(e,i,a&&t&&3!==t.type_&&!nX(t.assigned_,r)?a.concat(r):void 0);if(nJ(n,r,o),!nW(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(nY(i)&&!n3(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ri(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof r&&(nQ(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ro(e,i)}}function ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&n5(t,n)}var rl={get(e,t){if(t===nU)return e;let n=n2(e);if(!nX(n,t)){var r,i=e,a=n,o=t;let l=ru(a,o);return l?"value"in l?l.value:null==(r=l.get)?void 0:r.call(i.draft_):void 0}let l=n[t];return e.finalized_||!nY(l)?l:l===rc(e.base_,t)?(rp(e),e.copy_[t]=rf(l,e)):l},has:(e,t)=>t in n2(e),ownKeys:e=>Reflect.ownKeys(n2(e)),set(e,t,n){let r=ru(n2(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){let r=rc(n2(e),t),i=null==r?void 0:r[nU];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if((n===r?0!==n||1/n==1/r:n!=n&&r!=r)&&(void 0!==n||nX(e.base_,t)))return!0;rp(e),rd(e)}return!!(e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=n,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==rc(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,rp(e),rd(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let n=n2(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){nH(11)},getPrototypeOf:e=>nq(e.base_),setPrototypeOf(){nH(12)}},rs={};function rc(e,t){let n=e[nU];return(n?n2(n):e)[t]}function ru(e,t){if(!(t in e))return;let n=nq(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=nq(n)}}function rd(e){!e.modified_&&(e.modified_=!0,e.parent_&&rd(e.parent_))}function rp(e){e.copy_||(e.copy_=n0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function rf(e,t){let n=nQ(e)?n4("MapSet").proxyMap_(e,t):n1(e)?n4("MapSet").proxySet_(e,t):function(e,t){let n=Array.isArray(e),r={type_:+!!n,scope_:t?t.scope_:d,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,a=rl;n&&(i=[r],a=rs);let{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}(e,t);return(t?t.scope_:d).drafts_.push(n),n}n$(rl,(e,t)=>{rs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rs.deleteProperty=function(e,t){return rs.set.call(this,e,t,void 0)},rs.set=function(e,t,n){return rl.set.call(this,e[0],t,n,e[0])};var rh=new class{createDraft(e){var t;nY(e)||nH(8),nW(e)&&(nW(t=e)||nH(10,t),e=function e(t){let n;if(!nY(t)||n3(t))return t;let r=t[nU];if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=n0(t,r.scope_.immer_.useStrictShallowCopy_)}else n=n0(t,!0);return n$(n,(t,r)=>{nJ(n,t,e(r))}),r&&(r.finalized_=!1),n}(t));let n=rt(this),r=rf(e,void 0);return r[nU].isManual_=!0,re(n),r}finishDraft(e,t){let n=e&&e[nU];n&&n.isManual_||nH(9);let{scope_:r}=n;return n6(r,t),rr(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=n4("Patches").applyPatches_;return nW(e)?r(e,t):this.produce(e,e=>r(e,t))}constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{let r;if("function"==typeof e&&"function"!=typeof t){let n=t;t=e;let r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}if("function"!=typeof t&&nH(6),void 0!==n&&"function"!=typeof n&&nH(7),nY(e)){let i=rt(this),a=rf(e,void 0),o=!0;try{r=t(a),o=!1}finally{o?n9(i):re(i)}return n6(i,n),rr(r,i)}if(e&&"object"==typeof e)nH(1,e);else{if(void 0===(r=t(e))&&(r=e),r===nz&&(r=void 0),this.autoFreeze_&&n5(r,!0),n){let t=[],i=[];n4("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}},this.produceWithPatches=(e,t)=>{let n,r;if("function"==typeof e){var i=this;return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return i.produceWithPatches(t,t=>e(t,...r))}}return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}},rm=rh.produce,rg=rh.createDraft.bind(rh),ry=rh.finishDraft.bind(rh),rv={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=rT.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},rb={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=r5.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},rx={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=rH.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},rC=new WeakMap,rk=new WeakMap,rw=new WeakMap,r_=new WeakMap,rj=new WeakMap,rS=new WeakMap,rE=new WeakMap,rT={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=rT.levels(e,t);return n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return rT.equals(r,i)&&a>o},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return rT.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return rT.equals(r,i)&&a<o},equals:(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===rT.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===rT.compare(e,t),isBefore:(e,t)=>-1===rT.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===rT.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===rT.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===rT.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===rT.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&rT.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(0===e.length)throw Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!rT.isAncestor(t,e)&&!rT.equals(e,t))throw Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(0===e.length)return r;switch(t.type){case"insert_node":var{path:a}=t;(rT.equals(a,r)||rT.endsBefore(a,r)||rT.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var{path:o}=t;if(rT.equals(o,r)||rT.isAncestor(o,r))return null;rT.endsBefore(o,r)&&(r[o.length-1]-=1);break;case"merge_node":var{path:l,position:s}=t;rT.equals(l,r)||rT.endsBefore(l,r)?r[l.length-1]-=1:rT.isAncestor(l,r)&&(r[l.length-1]-=1,r[l.length]+=s);break;case"split_node":var{path:c,position:u}=t;if(rT.equals(c,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else rT.endsBefore(c,r)?r[c.length-1]+=1:rT.isAncestor(c,r)&&e[c.length]>=u&&(r[c.length-1]+=1,r[c.length]-=u);break;case"move_node":var{path:d,newPath:p}=t;if(rT.equals(d,p))break;if(rT.isAncestor(d,r)||rT.equals(d,r)){var f=p.slice();return rT.endsBefore(d,p)&&d.length<p.length&&(f[d.length-1]-=1),f.concat(r.slice(d.length))}rT.isSibling(d,p)&&(rT.isAncestor(p,r)||rT.equals(p,r))?rT.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:rT.endsBefore(p,r)||rT.equals(p,r)||rT.isAncestor(p,r)?(rT.endsBefore(d,r)&&(r[d.length-1]-=1),r[p.length-1]+=1):rT.endsBefore(d,r)&&(rT.equals(p,r)&&(r[p.length-1]+=1),r[d.length-1]-=1)}return r}};function rD(e){return(rD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rI(e,t,n){var r;return r=function(e,t){if("object"!==rD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rD(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===rD(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rP=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return[...e.slice(0,t),...r,...e.slice(t)]},rM=function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return[...e.slice(0,t),...i,...e.slice(t+n)]},rF=(e,t,n)=>{if(0===t.length)throw Error("Cannot modify the editor");for(var r=rG.get(e,t),i=t.slice(),a=n(r);i.length>1;){var o=i.pop(),l=rG.get(e,i);a=rO(rO({},l),{},{children:rM(l.children,o,1,a)})}var s=i.pop();e.children=rM(e.children,s,1,a)},rR=(e,t,n)=>{0===t.length?e.children=n(e.children):rF(e,t,e=>{if(ie.isText(e))throw Error("Cannot get the element at path [".concat(t,"] because it refers to a leaf node: ").concat(r3.stringify(e)));return rO(rO({},e),{},{children:n(e.children)})})},rB=(e,t,n)=>rF(e,t,e=>{if(!ie.isText(e))throw Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r3.stringify(e)));return n(e)}),rN=e=>"object"==typeof e&&null!==e,rL=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==i[a])return!1}else if(rN(r)&&rN(i)){if(!rL(r,i))return!1}else if(r!==i)return!1}for(var o in t)if(void 0===e[o]&&void 0!==t[o])return!1;return!0};function rz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rV=["anchor","focus"];function rU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var rH={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return rH.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=rH.edges(e);return t},equals:(e,t)=>r5.equals(e.anchor,t.anchor)&&r5.equals(e.focus,t.focus),surrounds(e,t){var n=rH.intersection(e,t);return!!n&&rH.equals(n,t)},includes(e,t){if(rH.isRange(t)){if(rH.includes(e,t.anchor)||rH.includes(e,t.focus))return!0;var[n,r]=rH.edges(e),[i,a]=rH.edges(t);return r5.isBefore(n,i)&&r5.isAfter(r,a)}var[o,l]=rH.edges(e),s=!1,c=!1;return r5.isPoint(t)?(s=r5.compare(t,o)>=0,c=0>=r5.compare(t,l)):(s=rT.compare(t,o.path)>=0,c=0>=rT.compare(t,l.path)),s&&c},intersection(e,t){var n=rz(e,rV),[r,i]=rH.edges(e),[a,o]=rH.edges(t),l=r5.isBefore(r,a)?a:r,s=r5.isBefore(i,o)?i:o;return r5.isBefore(s,l)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rU(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({anchor:l,focus:s},n)},isBackward(e){var{anchor:t,focus:n}=e;return r5.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return r5.equals(t,n)},isExpanded:e=>!rH.isCollapsed(e),isForward:e=>!rH.isBackward(e),isRange:e=>rN(e)&&r5.isPoint(e.anchor)&&r5.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=rH.edges(e);return t},transform(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e)return null;var{affinity:a="inward"}=i;if("inward"===a){var o=rH.isCollapsed(e);rH.isForward(e)?(n="forward",r=o?n:"backward"):(n="backward",r=o?n:"forward")}else"outward"===a?rH.isForward(e)?(n="backward",r="forward"):(n="forward",r="backward"):(n=a,r=a);var l=r5.transform(e.anchor,t,{affinity:n}),s=r5.transform(e.focus,t,{affinity:r});return l&&s?{anchor:l,focus:s}:null}},rq=function(e){var{deep:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!rN(e)&&"function"!=typeof e.apply&&(t?rG.isNodeList(e.children):Array.isArray(e.children))},rW={isAncestor(e){var{deep:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rN(e)&&rG.isNodeList(e.children,{deep:t})},isElement:rq,isElementList(e){var{deep:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(e)&&e.every(e=>rW.isElement(e,{deep:t}))},isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return rq(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},rY=["children"],rK=["text"],rG={ancestor(e,t){var n=rG.get(e,t);if(ie.isText(n))throw Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r3.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var r of rT.ancestors(t,n)){var i=[rG.ancestor(e,r),r];yield i}}()},child(e,t){if(ie.isText(e))throw Error("Cannot get the child of a text node: ".concat(r3.stringify(e)));var n=e.children[t];if(null==n)throw Error("Cannot get child at index `".concat(t,"` in node: ").concat(r3.stringify(e)));return n},children(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,i=rG.ancestor(e,t),{children:a}=i,o=r?a.length-1:0;r?o>=0:o<a.length;){var l=rG.child(i,o),s=t.concat(o);yield[l,s],o=r?o-1:o+1}}()},common(e,t,n){var r=rT.common(t,n);return[rG.get(e,r),r]},descendant(e,t){var n=rG.get(e,t);if(rQ.isEditor(n))throw Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r3.stringify(n)));return n},descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[n,r]of rG.nodes(e,t))0!==r.length&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[n,r]of rG.nodes(e,t))rW.isElement(n)&&(yield[n,r])}()},extractProps(e){if(rW.isAncestor(e)){var t=rz(e,rY);return t}var t=rz(e,rK);return t},first(e,t){for(var n=t.slice(),r=rG.get(e,n);r;)if(ie.isText(r)||0===r.children.length)break;else r=r.children[0],n.push(0);return[r,n]},fragment:(e,t)=>rm({children:e.children},e=>{var[n,r]=rH.edges(t);for(var[,i]of rG.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!rH.includes(t,n)}})){if(!rH.includes(t,i)){var a=rG.parent(e,i),o=i[i.length-1];a.children.splice(o,1)}if(rT.equals(i,r.path)){var l=rG.leaf(e,i);l.text=l.text.slice(0,r.offset)}if(rT.equals(i,n.path)){var s=rG.leaf(e,i);s.text=s.text.slice(n.offset)}}rQ.isEditor(e)&&(e.selection=null)}).children,get(e,t){var n=rG.getIf(e,t);if(void 0===n)throw Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(r3.stringify(e)));return n},getIf(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(ie.isText(n)||!n.children[i])return;n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(ie.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(e){var{deep:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ie.isText(e)||rW.isElement(e,{deep:t})||rQ.isEditor(e,{deep:t})},isNodeList(e){var{deep:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(e)&&e.every(e=>rG.isNode(e,{deep:t}))},last(e,t){for(var n=t.slice(),r=rG.get(e,n);r;)if(ie.isText(r)||0===r.children.length)break;else{var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=rG.get(e,t);if(!ie.isText(n))throw Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r3.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){for(var r of rT.levels(t,n)){var i=rG.get(e,r);yield[i,r]}}()},matches:(e,t)=>rW.isElement(e)&&rW.isElementProps(t)&&rW.matches(e,t)||ie.isText(e)&&ie.isTextProps(t)&&ie.matches(e,t),nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:i=[],to:a}=t,o=new Set,l=[],s=e;!(a&&(r?rT.isBefore(l,a):rT.isAfter(l,a)));){if(o.has(s)||(yield[s,l]),!o.has(s)&&!ie.isText(s)&&0!==s.children.length&&(null==n||!1===n([s,l]))){o.add(s);var c=r?s.children.length-1:0;rT.isAncestor(l,i)&&(c=i[l.length]),l=l.concat(c),s=rG.get(e,l);continue}if(0===l.length)break;if(!r){var u=rT.next(l);if(rG.has(e,u)){l=u,s=rG.get(e,l);continue}}if(r&&0!==l[l.length-1]){l=rT.previous(l),s=rG.get(e,l);continue}l=rT.parent(l),s=rG.get(e,l),o.add(s)}}()},parent(e,t){var n=rT.parent(t),r=rG.get(e,n);if(ie.isText(r))throw Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:e=>ie.isText(e)?e.text:e.children.map(rG.string).join(""),texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){for(var[n,r]of rG.nodes(e,t))ie.isText(n)&&(yield[n,r])}()}};function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rX={isNodeOperation:e=>rX.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!rN(e))return!1;switch(e.type){case"insert_node":case"remove_node":return rT.isPath(e.path)&&rG.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&rT.isPath(e.path);case"merge_node":return"number"==typeof e.position&&rT.isPath(e.path)&&rN(e.properties);case"move_node":return rT.isPath(e.path)&&rT.isPath(e.newPath);case"set_node":return rT.isPath(e.path)&&rN(e.properties)&&rN(e.newProperties);case"set_selection":return null===e.properties&&rH.isRange(e.newProperties)||null===e.newProperties&&rH.isRange(e.properties)||rN(e.properties)&&rN(e.newProperties);case"split_node":return rT.isPath(e.path)&&"number"==typeof e.position&&rN(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every(e=>rX.isOperation(e)),isSelectionOperation:e=>rX.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>rX.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return rZ(rZ({},e),{},{type:"remove_node"});case"insert_text":return rZ(rZ({},e),{},{type:"remove_text"});case"merge_node":return rZ(rZ({},e),{},{type:"split_node",path:rT.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(rT.equals(t,n))return e;if(rT.isSibling(n,t))return rZ(rZ({},e),{},{path:t,newPath:n});var r=rT.transform(n,e),i=rT.transform(rT.next(n),e);return rZ(rZ({},e),{},{path:r,newPath:i});case"remove_node":return rZ(rZ({},e),{},{type:"insert_node"});case"remove_text":return rZ(rZ({},e),{},{type:"insert_text"});case"set_node":var{properties:a,newProperties:o}=e;return rZ(rZ({},e),{},{properties:o,newProperties:a});case"set_selection":var{properties:l,newProperties:s}=e;if(null==l)return rZ(rZ({},e),{},{properties:s,newProperties:null});if(null==s)return rZ(rZ({},e),{},{properties:null,newProperties:l});return rZ(rZ({},e),{},{properties:s,newProperties:l});case"split_node":return rZ(rZ({},e),{},{type:"merge_node",path:rT.next(e.path)})}}},rJ=function(e){var{deep:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!rN(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||rN(e.marks))&&(null===e.selection||rH.isRange(e.selection))&&(!t||rG.isNodeList(e.children))&&rX.isOperationList(e.operations)},rQ={above:(e,t)=>e.above(t),addMark(e,t,n){e.addMark(t,n)},after:(e,t,n)=>e.after(t,n),before:(e,t,n)=>e.before(t,n),deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges:(e,t)=>e.edges(t),elementReadOnly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:(e,t)=>e.end(t),first:(e,t)=>e.first(t),fragment:(e,t)=>e.fragment(t),hasBlocks:(e,t)=>e.hasBlocks(t),hasInlines:(e,t)=>e.hasInlines(t),hasPath:(e,t)=>e.hasPath(t),hasTexts:(e,t)=>e.hasTexts(t),insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>e.isBlock(t),isEdge:(e,t,n)=>e.isEdge(t,n),isEditor:e=>rJ(e),isElementReadOnly:(e,t)=>e.isElementReadOnly(t),isEmpty:(e,t)=>e.isEmpty(t),isEnd:(e,t,n)=>e.isEnd(t,n),isInline:(e,t)=>e.isInline(t),isNormalizing:e=>e.isNormalizing(),isSelectable:(e,t)=>e.isSelectable(t),isStart:(e,t,n)=>e.isStart(t,n),isVoid:(e,t)=>e.isVoid(t),last:(e,t)=>e.last(t),leaf:(e,t,n)=>e.leaf(t,n),levels:(e,t)=>e.levels(t),marks:e=>e.getMarks(),next:(e,t)=>e.next(t),node:(e,t,n)=>e.node(t,n),nodes:(e,t)=>e.nodes(t),normalize(e,t){e.normalize(t)},parent:(e,t,n)=>e.parent(t,n),path:(e,t,n)=>e.path(t,n),pathRef:(e,t,n)=>e.pathRef(t,n),pathRefs:e=>e.pathRefs(),point:(e,t,n)=>e.point(t,n),pointRef:(e,t,n)=>e.pointRef(t,n),pointRefs:e=>e.pointRefs(),positions:(e,t)=>e.positions(t),previous:(e,t)=>e.previous(t),range:(e,t,n)=>e.range(t,n),rangeRef:(e,t,n)=>e.rangeRef(t,n),rangeRefs:e=>e.rangeRefs(),removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start:(e,t)=>e.start(t),string:(e,t,n)=>e.string(t,n),unhangRange:(e,t,n)=>e.unhangRange(t,n),void:(e,t)=>e.void(t),withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,n)=>e.shouldMergeNodesRemovePrevNode(t,n)},r1={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(rT.isPath)};function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var r5={compare(e,t){var n=rT.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:+(e.offset>t.offset):n},isAfter:(e,t)=>1===r5.compare(e,t),isBefore:(e,t)=>-1===r5.compare(e,t),equals:(e,t)=>e.offset===t.offset&&rT.equals(e.path,t.path),isPoint:e=>rN(e)&&"number"==typeof e.offset&&rT.isPath(e.path),transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e)return null;var{affinity:r="forward"}=n,{path:i,offset:a}=e;switch(t.type){case"insert_node":case"move_node":i=rT.transform(i,t,n);break;case"insert_text":rT.equals(t.path,i)&&(t.offset<a||t.offset===a&&"forward"===r)&&(a+=t.text.length);break;case"merge_node":rT.equals(t.path,i)&&(a+=t.position),i=rT.transform(i,t,n);break;case"remove_text":rT.equals(t.path,i)&&t.offset<=a&&(a-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(rT.equals(t.path,i)||rT.isAncestor(t.path,i))return null;i=rT.transform(i,t,n);break;case"split_node":if(rT.equals(t.path,i))if(t.position===a&&null==r)return null;else(t.position<a||t.position===a&&"forward"===r)&&(a-=t.position,i=rT.transform(i,t,r0(r0({},n),{},{affinity:"forward"})));else i=rT.transform(i,t,n);break;default:return e}return{path:i,offset:a}}},r7=void 0,r3={setScrubber(e){r7=e},stringify:e=>JSON.stringify(e,r7)},r8=["text"],r4=["anchor","focus","merge"];function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ie={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;return rL(r?rz(e,r8):e,r?rz(t,r8):t)},isText:e=>rN(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&e.every(e=>ie.isText(e)),isTextProps:e=>void 0!==e.text,matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[{leaf:r9({},e)}];for(var r of t){var{anchor:i,focus:a,merge:o}=r,l=rz(r,r4),[s,c]=rH.edges(r),u=[],d=0,p=s.offset,f=c.offset,h=null!=o?o:Object.assign;for(var{leaf:m}of n){var{length:g}=m.text,y=d;if(d+=g,p<=y&&d<=f){h(m,l),u.push({leaf:m});continue}if(p!==f&&(p===d||f===y)||p>d||f<y||f===y&&0!==y){u.push({leaf:m});continue}var v=m,b=void 0,x=void 0;if(f<d){var C=f-y;x={leaf:r9(r9({},v),{},{text:v.text.slice(C)})},v=r9(r9({},v),{},{text:v.text.slice(0,C)})}if(p>y){var k=p-y;b={leaf:r9(r9({},v),{},{text:v.text.slice(0,k)})},v=r9(r9({},v),{},{text:v.text.slice(k)})}h(v,l),b&&u.push(b),u.push({leaf:v}),x&&u.push(x)}n=u}if(n.length>1){var w=0;for(var[_,j]of n.entries()){var S=w,E=S+j.leaf.text.length,T={start:S,end:E};0===_&&(T.isFirst=!0),_===n.length-1&&(T.isLast=!0),j.position=T,w=E}}return n}},it=e=>e.selection?e.selection:e.children.length>0?rQ.end(e,[]):[0],ir=(e,t)=>{var[n]=rQ.node(e,t);return e=>e===n},ii=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t,r=t?id(e):e,i=p.None,a=p.None,o=0,l=null;for(var s of r){var c=s.codePointAt(0);if(!c)break;var u=i_(s,c);if([i,a]=n?[a,u]:[u,i],(i&p.ZWJ)!=0&&(a&p.ExtPict)!=0&&!(n?iE(e.substring(0,o)):iE(e.substring(0,e.length-o))))break;if((i&p.RI)!=0&&(a&p.RI)!=0&&!(l=null!==l?!l:!!n||iD(e.substring(0,e.length-o)))||i!==p.None&&a!==p.None&&function(e,t){return -1===ij.findIndex(n=>(e&n[0])!=0&&(t&n[1])!=0)}(i,a))break;o+=s.length}return o||1},ia=/\s/,io=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,il=/['\u2018\u2019]/,is=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var i=ii(e,t),[a,o]=ic(e,i,t);if(iu(a,o,t))r=!0,n+=i;else if(r)break;else n+=i;e=o}return n},ic=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},iu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ia.test(t))return!1;if(il.test(t)){var i=ii(n,r),[a,o]=ic(n,i,r);if(e(a,o,r))return!0}return!io.test(t)},id=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(ih(r.charCodeAt(0))){var i=e.charAt(t-n-1);if(ip(i.charCodeAt(0))){yield i+r,n++;continue}}yield r}},ip=e=>e>=55296&&e<=56319,ih=e=>e>=56320&&e<=57343;!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(p||(p={}));var im=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,ig=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,iy=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,iv=/^[\u1100-\u115F\uA960-\uA97C]$/,ib=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ix=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,iC=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,ik=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,iw=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,i_=(e,t)=>{var n=p.Any;return -1!==e.search(im)&&(n|=p.Extend),8205===t&&(n|=p.ZWJ),t>=127462&&t<=127487&&(n|=p.RI),-1!==e.search(ig)&&(n|=p.Prepend),-1!==e.search(iy)&&(n|=p.SpacingMark),-1!==e.search(iv)&&(n|=p.L),-1!==e.search(ib)&&(n|=p.V),-1!==e.search(ix)&&(n|=p.T),-1!==e.search(iC)&&(n|=p.LV),-1!==e.search(ik)&&(n|=p.LVT),-1!==e.search(iw)&&(n|=p.ExtPict),n},ij=[[p.L,p.L|p.V|p.LV|p.LVT],[p.LV|p.V,p.V|p.T],[p.LVT|p.T,p.T],[p.Any,p.Extend|p.ZWJ],[p.Any,p.SpacingMark],[p.Prepend,p.Any],[p.ZWJ,p.ExtPict],[p.RI,p.RI]],iS=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,iE=e=>-1!==e.search(iS),iT=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,iD=e=>{var t=e.match(iT);return null!==t&&t[0].length/2%2==1};function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iO=iA(iA(iA(iA({},{transform(e,t){var n=!1;switch(t.type){case"insert_node":var{path:r,node:i}=t;rR(e,rT.parent(r),e=>{var t=r[r.length-1];if(t>e.length)throw Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));return rP(e,t,i)}),n=!0;break;case"insert_text":var{path:a,offset:o,text:l}=t;if(0===l.length)break;rB(e,a,e=>{var t=e.text.slice(0,o),n=e.text.slice(o);return rO(rO({},e),{},{text:t+l+n})}),n=!0;break;case"merge_node":var{path:s}=t,c=s[s.length-1],u=rT.previous(s),d=u[u.length-1];rR(e,rT.parent(s),e=>{var t,n=e[c],r=e[d];if(ie.isText(n)&&ie.isText(r))t=rO(rO({},r),{},{text:r.text+n.text});else if(ie.isText(n)||ie.isText(r))throw Error('Cannot apply a "merge_node" operation at path ['.concat(s,"] to nodes of different interfaces: ").concat(r3.stringify(n)," ").concat(r3.stringify(r)));else t=rO(rO({},r),{},{children:r.children.concat(n.children)});return rM(e,d,2,t)}),n=!0;break;case"move_node":var{path:p,newPath:f}=t,h=p[p.length-1];if(rT.isAncestor(p,f))throw Error("Cannot move a path [".concat(p,"] to new path [").concat(f,"] because the destination is inside itself."));var m=rG.get(e,p);rR(e,rT.parent(p),e=>rM(e,h,1));var g=rT.transform(p,t),y=g[g.length-1];rR(e,rT.parent(g),e=>rP(e,y,m)),n=!0;break;case"remove_node":var{path:v}=t,b=v[v.length-1];if(rR(e,rT.parent(v),e=>rM(e,b,1)),e.selection){var x=rO({},e.selection);for(var[C,k]of rH.points(x)){var w=r5.transform(C,t);if(null!=x&&null!=w)x[k]=w;else{var _=void 0,j=void 0;for(var[S,E]of rG.texts(e))if(-1===rT.compare(E,v))_=[S,E];else{j=[S,E];break}var T=!1;_&&j&&(T=!rT.isSibling(_[1],v)&&(!!rT.equals(j[1],v)||rT.common(_[1],v).length<rT.common(j[1],v).length)),_&&!T?x[k]={path:_[1],offset:_[0].text.length}:j?x[k]={path:j[1],offset:0}:x=null}}x&&rH.equals(x,e.selection)||(e.selection=x)}break;case"remove_text":var{path:D,offset:I,text:A}=t;if(0===A.length)break;rB(e,D,e=>{var t=e.text.slice(0,I),n=e.text.slice(I+A.length);return rO(rO({},e),{},{text:t+n})}),n=!0;break;case"set_node":var{path:O,properties:P,newProperties:M}=t;if(0===O.length)throw Error("Cannot set properties on the root node!");rF(e,O,e=>{var t=rO({},e);for(var n in M){if("children"===n||"text"===n)throw Error('Cannot set the "'.concat(n,'" property of nodes!'));var r=M[n];null==r?delete t[n]:t[n]=r}for(var i in P)M.hasOwnProperty(i)||delete t[i];return t});break;case"set_selection":var{newProperties:F}=t;if(null==F){e.selection=null;break}if(null==e.selection){if(!rH.isRange(F))throw Error('Cannot apply an incomplete "set_selection" operation properties '.concat(r3.stringify(F)," when there is no current selection."));e.selection=rO({},F);break}var R=rO({},e.selection);for(var B in F){var N=F[B];if(null==N){if("anchor"===B||"focus"===B)throw Error('Cannot remove the "'.concat(B,'" selection property'));delete R[B]}else R[B]=N}e.selection=R;break;case"split_node":var{path:L,position:z,properties:V}=t,U=L[L.length-1];if(0===L.length)throw Error('Cannot apply a "split_node" operation at path ['.concat(L,"] because the root node cannot be split."));rR(e,rT.parent(L),e=>{var t,n,r=e[U];if(ie.isText(r)){var i=r.text.slice(0,z),a=r.text.slice(z);t=rO(rO({},r),{},{text:i}),n=rO(rO({},V),{},{text:a})}else{var o=r.children.slice(0,z),l=r.children.slice(z);t=rO(rO({},r),{},{children:o}),n=rO(rO({},V),{},{children:l})}return rM(e,U,1,t,n)}),n=!0}if(n&&e.selection){var H=rO({},e.selection);for(var[q,W]of rH.points(H))H[W]=r5.transform(q,t);rH.equals(H,e.selection)||(e.selection=H)}}}),{insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}}),{collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}}),{delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rQ.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=it(e)}=n;if(rT.isPath(i)&&(i=rQ.range(e,i)),rH.isRange(i))if(rH.isCollapsed(i))i=i.anchor;else{var a=rH.end(i);if(!r&&rQ.void(e,{at:a}))return;var o=rH.start(i),l=rQ.pointRef(e,o),s=rQ.pointRef(e,a);iO.delete(e,{at:i,voids:r});var c=l.unref(),u=s.unref();i=c||u,iO.setSelection(e,{anchor:i,focus:i})}if(!(!r&&rQ.void(e,{at:i})||rQ.elementReadOnly(e,{at:i}))){var{path:d,offset:p}=i;t.length>0&&e.apply({type:"insert_text",path:d,offset:p,text:t})}})}}),iP=new WeakMap;function iM(e,t,n){var r,i,a=rC.get(e)||[],o=rk.get(e)||new Set,l=e=>{if(e){var t=e.join(",");i.has(t)||(i.add(t),r.push(e))}};if(n)for(var s of(r=[],i=new Set,a))l(n(s));else r=a,i=o;for(var c of t)l(c);rC.set(e,r),rk.set(e,i)}var iF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=e.selection,match:a}=t;if(i){var o=rQ.path(e,i);if(!rH.isRange(i)||rT.equals(i.focus.path,i.anchor.path)){if(0===o.length)return;o=rT.parent(o)}var[l]=rQ.levels(e,{at:o,voids:n,match:a,reverse:"lowest"===r});return l}};function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iz=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=rQ.point(e,t,{edge:"end"}),a=rQ.end(e,[]),{distance:o=1}=r,l=0;for(var s of rQ.positions(e,iL(iL({},r),{},{at:{anchor:i,focus:a}}))){if(l>o)break;0!==l&&(n=s),l++}return n};function iV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iV(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iH=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=rQ.start(e,[]),a=rQ.point(e,t,{edge:"start"}),{distance:o=1}=r,l=0;for(var s of rQ.positions(e,iU(iU({},r),{},{at:{anchor:i,focus:a},reverse:!0}))){if(l>o)break;0!==l&&(n=s),l++}return n},iq=function(e){var{direction:t="forward"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e;n&&rH.isExpanded(n)&&iO.delete(e,{reverse:"backward"===t})};function iW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iW(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iK=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rQ.above(e,iY(iY({},t),{},{match:t=>rW.isElement(t)&&rQ.isElementReadOnly(e,t)}))};function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var iZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rQ.above(e,i$(i$({},t),{},{match:t=>rW.isElement(t)&&rQ.isVoid(e,t)}))};function iX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var iJ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r,marks:i}=e;if(r){if(i){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iX(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({text:t},i);iO.insertNodes(e,a,{at:n.at,voids:n.voids})}else iO.insertText(e,t,n);e.marks=null}},iQ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rQ.path(e,t,n);return[rG.leaf(e,r),r]},i1=["text"],i2=["text"],i0=function(e){var{marks:t,selection:n}=e;if(!n)return null;var{anchor:r,focus:i}=n;if(t)return t;if(rH.isExpanded(n)){if(rH.isBackward(n)&&([i,r]=[r,i]),rQ.isEnd(e,r,r.path)){var a=rQ.after(e,r);a&&(r=a)}var[o]=rQ.nodes(e,{match:ie.isText,at:{anchor:r,focus:i}});if(!o)return{};var[l]=o;return rz(l,i1)}var{path:s}=r,[c]=rQ.leaf(e,s);if(0===r.offset){var u=rQ.previous(e,{at:s,match:ie.isText});if(!rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isVoid(e,t)&&e.markableVoid(t)})){var d=rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isBlock(e,t)});if(u&&d){var[p,f]=u,[,h]=d;rT.isAncestor(h,f)&&(c=p)}}}return rz(c,i2)},i5=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:a=e.selection}=t;if(a){var o=rQ.after(e,a,{voids:r});if(o){var[,l]=rQ.last(e,[]),s=[o.path,l];if(rT.isPath(a)&&0===a.length)throw Error("Cannot get the next node from the root node!");if(null==i)if(rT.isPath(a)){var[c]=rQ.parent(e,a);i=e=>c.children.includes(e)}else i=()=>!0;var[u]=rQ.nodes(e,{at:s,match:i,mode:n,voids:r});return u}}},i7=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rQ.path(e,t,n);return[rG.get(e,r),r]},i3=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1,operation:r}=t,i=e=>rC.get(e)||[],a=e=>{var t=i(e).pop(),n=t.join(",");return(rk.get(e)||new Set).delete(n),t};if(rQ.isNormalizing(e)){if(n){var o=Array.from(rG.nodes(e),e=>{var[,t]=e;return t}),l=new Set(o.map(e=>e.join(",")));rC.set(e,o),rk.set(e,l)}0!==i(e).length&&rQ.withoutNormalizing(e,()=>{for(var t of i(e))if(rG.has(e,t)){var n=rQ.node(e,t),[o,l]=n;rW.isElement(o)&&0===o.children.length&&e.normalizeNode(n,{operation:r})}for(var s=i(e),c=s.length,u=0;0!==s.length;){if(!e.shouldNormalize({dirtyPaths:s,iteration:u,initialDirtyPathsLength:c,operation:r}))return;var d=a(e);if(rG.has(e,d)){var p=rQ.node(e,d);e.normalizeNode(p,{operation:r})}u++,s=i(e)}})}},i8=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rQ.path(e,t,n),i=rT.parent(r);return rQ.node(e,i)},i4=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return rQ.pathRefs(e).delete(i),i.current=null,t}};return rQ.pathRefs(e).add(i),i},i6=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(rT.isPath(t)){if("start"===i){var[,a]=rG.first(e,t);t=a}else if("end"===i){var[,o]=rG.last(e,t);t=o}}return rH.isRange(t)&&(t="start"===i?rH.start(t):"end"===i?rH.end(t):rT.common(t.anchor.path,t.focus.path)),r5.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},i9=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return rQ.pointRefs(e).delete(i),i.current=null,t}};return rQ.pointRefs(e).add(i),i},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(rT.isPath(t)){if("end"===r){var i,[,a]=rG.last(e,t);i=a}else{var[,o]=rG.first(e,t);i=o}var l=rG.get(e,i);if(!ie.isText(l))throw Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?l.text.length:0}}if(rH.isRange(t)){var[s,c]=rH.edges(t);return"start"===r?s:c}return t},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:a=e.selection}=t;if(a){var o=rQ.before(e,a,{voids:r});if(o){var[,l]=rQ.first(e,[]),s=[o.path,l];if(rT.isPath(a)&&0===a.length)throw Error("Cannot get the previous node from the root node!");if(null==i)if(rT.isPath(a)){var[c]=rQ.parent(e,a);i=e=>c.children.includes(e)}else i=()=>!0;var[u]=rQ.nodes(e,{reverse:!0,at:s,match:i,mode:n,voids:r});return u}}},an=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return rQ.rangeRefs(e).delete(i),i.current=null,t}};return rQ.rangeRefs(e).add(i),i};function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ai=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,i=rQ.range(e,t),[a,o]=rH.edges(i),l="";for(var[s,c]of rQ.nodes(e,{at:i,match:ie.isText,voids:r})){var u=s.text;rT.equals(c,o.path)&&(u=u.slice(0,o.offset)),rT.equals(c,a.path)&&(u=u.slice(a.offset)),l+=u}return l},aa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,a]=rH.edges(t);if(0!==i.offset||0!==a.offset||rH.isCollapsed(t)||rT.hasPrevious(a.path))return t;var o=rQ.above(e,{at:a,match:t=>rW.isElement(t)&&rQ.isBlock(e,t),voids:r}),l=o?o[1]:[],s={anchor:rQ.start(e,i),focus:a},c=!0;for(var[u,d]of rQ.nodes(e,{at:s,match:ie.isText,reverse:!0,voids:r})){if(c){c=!1;continue}if(""!==u.text||rT.isBefore(d,l)){a={path:d,offset:u.text.length};break}}return{anchor:i,focus:a}},ao=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rQ.withoutNormalizing(e,()=>{var n,r,i,{reverse:a=!1,unit:o="character",distance:l=1,voids:s=!1}=t,{at:c=e.selection,hanging:u=!1}=t;if(c){var d=!1;if(rH.isRange(c)&&rH.isCollapsed(c)&&(d=!0,c=c.anchor),r5.isPoint(c)){var p=rQ.void(e,{at:c,mode:"highest"});if(!s&&p){var[,f]=p;c=f}else{var h={unit:o,distance:l},m=a?rQ.before(e,c,h)||rQ.start(e,[]):rQ.after(e,c,h)||rQ.end(e,[]);c={anchor:c,focus:m},u=!0}}if(rT.isPath(c))return void iO.removeNodes(e,{at:c,voids:s});if(!rH.isCollapsed(c)){if(!u){var[,g]=rH.edges(c),y=rQ.end(e,[]);r5.equals(g,y)||(c=rQ.unhangRange(e,c,{voids:s}))}var[v,b]=rH.edges(c),x=rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isBlock(e,t),at:v,voids:s}),C=rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isBlock(e,t),at:b,voids:s}),k=x&&C&&!rT.equals(x[1],C[1]),w=rT.equals(v.path,b.path),_=s?null:null!=(n=rQ.void(e,{at:v,mode:"highest"}))?n:rQ.elementReadOnly(e,{at:v,mode:"highest"}),j=s?null:null!=(r=rQ.void(e,{at:b,mode:"highest"}))?r:rQ.elementReadOnly(e,{at:b,mode:"highest"});if(_){var S=rQ.before(e,v);S&&x&&rT.isAncestor(x[1],S.path)&&(v=S)}if(j){var E=rQ.after(e,b);E&&C&&rT.isAncestor(C[1],E.path)&&(b=E)}var T=[];for(var D of rQ.nodes(e,{at:c,voids:s})){var[I,A]=D;(!i||0!==rT.compare(A,i))&&(!s&&rW.isElement(I)&&(rQ.isVoid(e,I)||rQ.isElementReadOnly(e,I))||!rT.isCommon(A,v.path)&&!rT.isCommon(A,b.path))&&(T.push(D),i=A)}var O=Array.from(T,t=>{var[,n]=t;return rQ.pathRef(e,n)}),P=rQ.pointRef(e,v),M=rQ.pointRef(e,b),F="";if(!w&&!_){var R=P.current,[B]=rQ.leaf(e,R),{path:N}=R,{offset:L}=v,z=B.text.slice(L);z.length>0&&(e.apply({type:"remove_text",path:N,offset:L,text:z}),F=z)}if(O.reverse().map(e=>e.unref()).filter(e=>null!==e).forEach(t=>iO.removeNodes(e,{at:t,voids:s})),!j){var V=M.current,[U]=rQ.leaf(e,V),{path:H}=V,q=w?v.offset:0,W=U.text.slice(q,b.offset);W.length>0&&(e.apply({type:"remove_text",path:H,offset:q,text:W}),F=W)}!w&&k&&M.current&&P.current&&iO.mergeNodes(e,{at:M.current,hanging:!0,voids:s}),d&&a&&"character"===o&&F.length>1&&F.match(/[\u0980-\u09FF\u0E00-\u0E7F\u1000-\u109F\u0900-\u097F\u1780-\u17FF\u0D00-\u0D7F\u0B00-\u0B7F\u0A00-\u0A7F\u0B80-\u0BFF\u0C00-\u0C7F]+/)&&iO.insertText(e,F.slice(0,F.length-l));var Y=P.unref(),K=M.unref(),G=a?Y||K:K||Y;null==t.at&&G&&iO.select(e,G)}}})},al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rQ.withoutNormalizing(e,()=>{var r,{hanging:i=!1,voids:a=!1}=n,{at:o=it(e),batchDirty:l=!0}=n;if(t.length){if(rH.isRange(o))if(i||(o=rQ.unhangRange(e,o,{voids:a})),rH.isCollapsed(o))o=o.anchor;else{var[,s]=rH.edges(o);if(!a&&rQ.void(e,{at:s}))return;var c=rQ.pointRef(e,s);iO.delete(e,{at:o}),o=c.unref()}else rT.isPath(o)&&(o=rQ.start(e,o));if(!(!a&&rQ.void(e,{at:o}))){var u=rQ.above(e,{at:o,match:t=>rW.isElement(t)&&rQ.isInline(e,t),mode:"highest",voids:a});if(u){var[,d]=u;rQ.isEnd(e,o,d)?o=rQ.after(e,d):rQ.isStart(e,o,d)&&(o=rQ.before(e,d))}var[,p]=rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isBlock(e,t),at:o,voids:a}),f=rQ.isStart(e,o,p),h=rQ.isEnd(e,o,p),m=f&&h,[,g]=rG.first({children:t},[]),[,y]=rG.last({children:t},[]),v=t=>{var[n,r]=t;return 0!==r.length&&(!!m||!(!f&&rT.isAncestor(r,g)&&rW.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)||!h&&rT.isAncestor(r,y)&&rW.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))},b=!0,x=[],C=[],k=[];for(var w of rG.nodes({children:t},{pass:v})){var[_,j]=w;b&&rW.isElement(_)&&!e.isInline(_)&&!rT.isAncestor(j,g)&&(b=!1),v(w)&&(rW.isElement(_)&&!e.isInline(_)?(b=!1,C.push(_)):b?x.push(_):k.push(_))}var[S]=rQ.nodes(e,{at:o,match:t=>ie.isText(t)||rQ.isInline(e,t),mode:"highest",voids:a}),[,E]=S,T=rQ.isStart(e,o,E),D=rQ.isEnd(e,o,E),I=rQ.pathRef(e,h&&!k.length?rT.next(p):p),A=rQ.pathRef(e,D?rT.next(E):E),O=k.length>0;iO.splitNodes(e,{at:o,match:t=>O?rW.isElement(t)&&rQ.isBlock(e,t):ie.isText(t)||rQ.isInline(e,t),mode:O?"lowest":"highest",always:O&&(!f||x.length>0)&&(!h||k.length>0),voids:a});var P=rQ.pathRef(e,!T||T&&D?rT.next(E):E);if(iO.insertNodes(e,x,{at:P.current,match:t=>ie.isText(t)||rQ.isInline(e,t),mode:"highest",voids:a,batchDirty:l}),m&&!x.length&&C.length&&!k.length&&iO.delete(e,{at:p,voids:a}),iO.insertNodes(e,C,{at:I.current,match:t=>rW.isElement(t)&&rQ.isBlock(e,t),mode:"lowest",voids:a,batchDirty:l}),iO.insertNodes(e,k,{at:A.current,match:t=>ie.isText(t)||rQ.isInline(e,t),mode:"highest",voids:a,batchDirty:l}),!n.at&&(k.length>0&&A.current?r=rT.previous(A.current):C.length>0&&I.current?r=rT.previous(I.current):P.current&&(r=rT.previous(P.current)),r)){var M=rQ.end(e,r);iO.select(e,M)}P.unref(),I.unref(),A.unref()}}})},as=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r){if("anchor"===n)iO.select(e,r.anchor);else if("focus"===n)iO.select(e,r.focus);else if("start"===n){var[i]=rH.edges(r);iO.select(e,i)}else if("end"===n){var[,a]=rH.edges(r);iO.select(e,a)}}},ac=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:i="character",reverse:a=!1}=t,{edge:o=null}=t;if(n){"start"===o&&(o=rH.isBackward(n)?"focus":"anchor"),"end"===o&&(o=rH.isBackward(n)?"anchor":"focus");var{anchor:l,focus:s}=n,c={distance:r,unit:i},u={};if(null==o||"anchor"===o){var d=a?rQ.before(e,l,c):rQ.after(e,l,c);d&&(u.anchor=d)}if(null==o||"focus"===o){var p=a?rQ.before(e,s,c):rQ.after(e,s,c);p&&(u.focus=p)}iO.setSelection(e,u)}};function au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?au(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ap=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:i="both"}=n;if(r){"start"===i&&(i=rH.isBackward(r)?"focus":"anchor"),"end"===i&&(i=rH.isBackward(r)?"anchor":"focus");var{anchor:a,focus:o}=r,l="anchor"===i?a:o;iO.setSelection(e,{["anchor"===i?"anchor":"focus"]:ad(ad({},l),t)})}},af=(e,t)=>{var{selection:n}=e,r={},i={};if(n){for(var a in t)("anchor"!==a||null==t.anchor||r5.equals(t.anchor,n.anchor))&&("focus"!==a||null==t.focus||r5.equals(t.focus,n.focus))&&("anchor"===a||"focus"===a||t[a]===n[a])||(r[a]=n[a],i[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}},ah=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rQ.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1,mode:a="lowest",batchDirty:o=!0}=n,{at:l,match:s,select:c}=n;if(rG.isNode(t)&&(t=[t]),0!==t.length){var[u]=t;if(l||(l=it(e),!1!==c&&(c=!0)),null==c&&(c=!1),rH.isRange(l))if(r||(l=rQ.unhangRange(e,l,{voids:i})),rH.isCollapsed(l))l=l.anchor;else{var[,d]=rH.edges(l),p=rQ.pointRef(e,d);iO.delete(e,{at:l}),l=p.unref()}if(r5.isPoint(l)){null==s&&(s=ie.isText(u)?e=>ie.isText(e):e.isInline(u)?t=>ie.isText(t)||rQ.isInline(e,t):t=>rW.isElement(t)&&rQ.isBlock(e,t));var[f]=rQ.nodes(e,{at:l.path,match:s,mode:a,voids:i});if(!f)return;var[,h]=f,m=rQ.pathRef(e,h),g=rQ.isEnd(e,l,h);iO.splitNodes(e,{at:l,match:s,mode:a,voids:i});var y=m.unref();l=g?rT.next(y):y}var v=rT.parent(l),b=l[l.length-1];if(!(!i&&rQ.void(e,{at:v}))){if(o){var x=[],C=rT.levels(v);((e,t,n)=>{var r=iP.get(e)||!1;iP.set(e,!0);try{t(),n()}finally{iP.set(e,r)}})(e,()=>{for(var n of t)!function(){var t=v.concat(b);b++;var r={type:"insert_node",path:t,node:n};e.apply(r),l=rT.next(l),x.push(r),ie.isText(n)?C.push(t):C.push(...Array.from(rG.nodes(n),e=>{var[,n]=e;return t.concat(n)}))}()},()=>{iM(e,C,e=>{var t=e;for(var n of x)if(rT.operationCanTransformPath(n)&&!(t=rT.transform(t,n)))return null;return t})})}else for(var k of t){var w=v.concat(b);b++,e.apply({type:"insert_node",path:w,node:k}),l=rT.next(l)}if(l=rT.previous(l),c){var _=rQ.end(e,l);_&&iO.select(e,_)}}}})},am=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rQ.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:r="lowest",voids:i=!1}=t,{match:a}=t;if(null==a&&(a=rT.isPath(n)?ir(e,n):t=>rW.isElement(t)&&rQ.isBlock(e,t)),n)for(var o of Array.from(rQ.nodes(e,{at:n,match:a,mode:r,voids:i}),t=>{var[,n]=t;return rQ.pathRef(e,n)})){var l=o.unref();if(l.length<2)throw Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var[s,c]=rQ.node(e,rT.parent(l)),u=l[l.length-1],{length:d}=s.children;if(1===d){var p=rT.next(c);iO.moveNodes(e,{at:l,to:p,voids:i}),iO.removeNodes(e,{at:c,voids:i})}else if(0===u)iO.moveNodes(e,{at:l,to:c,voids:i});else if(u===d-1){var f=rT.next(c);iO.moveNodes(e,{at:l,to:f,voids:i})}else{var h=rT.next(l),m=rT.next(c);iO.splitNodes(e,{at:h,voids:i}),iO.moveNodes(e,{at:l,to:m,voids:i})}}})},ag=["text"],ay=["children"],av=(e,t)=>rW.isElement(t)?!!rQ.isVoid(e,t)||1===t.children.length&&av(e,t.children[0]):!rQ.isEditor(t)&&!0,ab=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rQ.withoutNormalizing(e,()=>{var n,r,{match:i,at:a=e.selection}=t,{hanging:o=!1,voids:l=!1,mode:s="lowest"}=t;if(a){if(null==i)if(rT.isPath(a)){var[c]=rQ.parent(e,a);i=e=>c.children.includes(e)}else i=t=>rW.isElement(t)&&rQ.isBlock(e,t);if(!o&&rH.isRange(a)&&(a=rQ.unhangRange(e,a,{voids:l})),rH.isRange(a))if(rH.isCollapsed(a))a=a.anchor;else{var[,u]=rH.edges(a),d=rQ.pointRef(e,u);iO.delete(e,{at:a}),a=d.unref(),null==t.at&&iO.select(e,a)}var[p]=rQ.nodes(e,{at:a,match:i,voids:l,mode:s}),f=rQ.previous(e,{at:a,match:i,voids:l,mode:s});if(p&&f){var[h,m]=p,[g,y]=f;if(0!==m.length&&0!==y.length){var v=rT.next(y),b=rT.common(m,y),x=rT.isSibling(m,y),C=Array.from(rQ.levels(e,{at:m}),e=>{var[t]=e;return t}).slice(b.length).slice(0,-1),k=rQ.above(e,{at:m,mode:"highest",match:t=>C.includes(t)&&av(e,t)}),w=k&&rQ.pathRef(e,k[1]);if(ie.isText(h)&&ie.isText(g)){var _=rz(h,ag);r=g.text.length,n=_}else if(rW.isElement(h)&&rW.isElement(g)){var _=rz(h,ay);r=g.children.length,n=_}else throw Error("Cannot merge the node at path [".concat(m,"] with the previous sibling because it is not the same kind: ").concat(r3.stringify(h)," ").concat(r3.stringify(g)));x||iO.moveNodes(e,{at:m,to:v,voids:l}),w&&iO.removeNodes(e,{at:w.current,voids:l}),rQ.shouldMergeNodesRemovePrevNode(e,f,p)?iO.removeNodes(e,{at:y,voids:l}):e.apply({type:"merge_node",path:v,position:r,properties:n}),w&&w.unref()}}}})},ax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rQ.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=t,{at:a=e.selection,match:o}=t;if(a)for(var l of(null==o&&(o=rT.isPath(a)?ir(e,a):t=>rW.isElement(t)&&rQ.isBlock(e,t)),!n&&rH.isRange(a)&&(a=rQ.unhangRange(e,a,{voids:r})),Array.from(rQ.nodes(e,{at:a,match:o,mode:i,voids:r}),t=>{var[,n]=t;return rQ.pathRef(e,n)}))){var s=l.unref();if(s){var[c]=rQ.node(e,s);e.apply({type:"remove_node",path:s,node:c})}}})},aC=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rQ.withoutNormalizing(e,()=>{var{match:r,at:i=e.selection,compare:a,merge:o}=n,{hanging:l=!1,mode:s="lowest",split:c=!1,voids:u=!1}=n;if(i){if(null==r&&(r=rT.isPath(i)?ir(e,i):t=>rW.isElement(t)&&rQ.isBlock(e,t)),!l&&rH.isRange(i)&&(i=rQ.unhangRange(e,i,{voids:u})),c&&rH.isRange(i)){if(rH.isCollapsed(i)&&rQ.leaf(e,i.anchor)[0].text.length>0)return;var d=rQ.rangeRef(e,i,{affinity:"inward"}),[p,f]=rH.edges(i),h="lowest"===s?"lowest":"highest",m=rQ.isEnd(e,f,f.path);iO.splitNodes(e,{at:f,match:r,mode:h,voids:u,always:!m});var g=rQ.isStart(e,p,p.path);iO.splitNodes(e,{at:p,match:r,mode:h,voids:u,always:!g}),i=d.unref(),null==n.at&&iO.select(e,i)}for(var[y,v]of(a||(a=(e,t)=>e!==t),rQ.nodes(e,{at:i,match:r,mode:s,voids:u}))){var b={},x={};if(0!==v.length){var C=!1;for(var k in t)"children"!==k&&"text"!==k&&a(t[k],y[k])&&(C=!0,y.hasOwnProperty(k)&&(b[k]=y[k]),o?null!=t[k]&&(x[k]=o(y[k],t[k])):null!=t[k]&&(x[k]=t[k]));C&&e.apply({type:"set_node",path:v,properties:b,newProperties:x})}}}})},ak=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rQ.withoutNormalizing(e,()=>{var n,r,{mode:i="lowest",voids:a=!1}=t,{match:o,at:l=e.selection,height:s=0,always:c=!1}=t;if(null==o&&(o=t=>rW.isElement(t)&&rQ.isBlock(e,t)),rH.isRange(l)&&(l=((e,t)=>{if(rH.isCollapsed(t))return t.anchor;var[,n]=rH.edges(t),r=rQ.pointRef(e,n);return iO.delete(e,{at:t}),r.unref()})(e,l)),rT.isPath(l)){var u=l,d=rQ.point(e,u),[p]=rQ.parent(e,u);o=e=>e===p,s=d.path.length-u.length+1,l=d,c=!0}if(l){var f=rQ.pointRef(e,l,{affinity:"backward"});try{var[h]=rQ.nodes(e,{at:l,match:o,mode:i,voids:a});if(!h)return;var m=rQ.void(e,{at:l,mode:"highest"});if(!a&&m){var[g,y]=m;if(rW.isElement(g)&&e.isInline(g)){var v=rQ.after(e,y);if(!v){var b=rT.next(y);iO.insertNodes(e,{text:""},{at:b,voids:a}),v=rQ.point(e,b)}l=v,c=!0}s=l.path.length-y.length+1,c=!0}n=rQ.pointRef(e,l);var x=l.path.length-s,[,C]=h,k=l.path.slice(0,x),w=0===s?l.offset:l.path[x]+0;for(var[_,j]of rQ.levels(e,{at:k,reverse:!0,voids:a})){var S=!1;if(j.length<C.length||0===j.length||!a&&rW.isElement(_)&&rQ.isVoid(e,_))break;var E=f.current,T=rQ.isEnd(e,E,j);if(c||!f||!rQ.isEdge(e,E,j)){S=!0;var D=rG.extractProps(_);e.apply({type:"split_node",path:j,position:w,properties:D})}w=j[j.length-1]+(S||T?1:0)}if(null==t.at){var I=n.current||rQ.end(e,[]);iO.select(e,I)}}finally{f.unref(),null==(r=n)||r.unref()}}})},aw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var i of t)r[i]=null;iO.setNodes(e,r,n)},a_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rQ.withoutNormalizing(e,()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=t,{at:a=e.selection,match:o}=t;if(a){null==o&&(o=rT.isPath(a)?ir(e,a):t=>rW.isElement(t)&&rQ.isBlock(e,t)),rT.isPath(a)&&(a=rQ.range(e,a));var l=rH.isRange(a)?rQ.rangeRef(e,a):null;for(var s of Array.from(rQ.nodes(e,{at:a,match:o,mode:n,voids:i}),t=>{var[,n]=t;return rQ.pathRef(e,n)}).reverse())!function(){var t=s.unref(),[n]=rQ.node(e,t),a=rQ.range(e,t);r&&l&&(a=rH.intersection(l.current,a)),iO.liftNodes(e,{at:a,match:e=>rW.isAncestor(n)&&n.children.includes(e),voids:i})}();l&&l.unref()}})};function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var aE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rQ.withoutNormalizing(e,()=>{var{mode:r="lowest",split:i=!1,voids:a=!1}=n,{match:o,at:l=e.selection}=n;if(l){if(null==o&&(o=rT.isPath(l)?ir(e,l):e.isInline(t)?t=>rW.isElement(t)&&rQ.isInline(e,t)||ie.isText(t):t=>rW.isElement(t)&&rQ.isBlock(e,t)),i&&rH.isRange(l)){var[s,c]=rH.edges(l),u=rQ.rangeRef(e,l,{affinity:"inward"}),d=t=>{var n=rQ.above(e,{at:t,match:t=>rW.isElement(t)&&rQ.isBlock(e,t)});return n&&rQ.isEdge(e,t,n[1])};iO.splitNodes(e,{at:c,match:o,voids:a,always:!d(c)}),iO.splitNodes(e,{at:s,match:o,voids:a,always:!d(s)}),l=u.unref(),null==n.at&&iO.select(e,l)}for(var[,p]of Array.from(rQ.nodes(e,{at:l,match:e.isInline(t)?t=>rW.isElement(t)&&rQ.isBlock(e,t):e=>rQ.isEditor(e),mode:"lowest",voids:a})))if(0===function(){var n=rH.isRange(l)?rH.intersection(l,rQ.range(e,p)):l;if(!n)return 0;var i=Array.from(rQ.nodes(e,{at:n,match:o,mode:r,voids:a}));if(i.length>0){var[s]=i,c=i[i.length-1],[,u]=s,[,d]=c;if(0===u.length&&0===d.length)return 0;var f=rT.equals(u,d)?rT.parent(u):rT.common(u,d),h=rQ.range(e,u,d),[m]=rQ.node(e,f),g=f.length+1,y=rT.next(d.slice(0,g)),v=aS(aS({},t),{},{children:[]});iO.insertNodes(e,v,{at:y,voids:a}),iO.moveNodes(e,{at:h,match:e=>rW.isAncestor(m)&&m.children.includes(e),to:y.concat(0),voids:a})}}())continue}})},aT=e.i(105488),aD=E;let aI=e=>"object"==typeof e&&null!=e&&1===e.nodeType,aA=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,aO=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return aA(n.overflowY,t)||aA(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},aP=(e,t,n,r,i,a,o,l)=>a<e&&o>t||a>e&&o<t?0:a<=e&&l<=n||o>=t&&l>=n?a-e-r:o>t&&l<n||a<e&&l>n?o-t+i:0,aM=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},aF=(e,t)=>{var n,r,i,a;if("undefined"==typeof document)return[];let{scrollMode:o,block:l,inline:s,boundary:c,skipOverflowHiddenElements:u}=t,d="function"==typeof c?c:e=>e!==c;if(!aI(e))throw TypeError("Invalid target");let p=document.scrollingElement||document.documentElement,f=[],h=e;for(;aI(h)&&d(h);){if((h=aM(h))===p){f.push(h);break}null!=h&&h===document.body&&aO(h)&&!aO(document.documentElement)||null!=h&&aO(h,u)&&f.push(h)}let m=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(a=null==(i=window.visualViewport)?void 0:i.height)?a:innerHeight,{scrollX:y,scrollY:v}=window,{height:b,width:x,top:C,right:k,bottom:w,left:_}=e.getBoundingClientRect(),{top:j,right:S,bottom:E,left:T}=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e),D="start"===l||"nearest"===l?C-j:"end"===l?w+E:C+b/2-j+E,I="center"===s?_+x/2-T+S:"end"===s?k+S:_-T,A=[];for(let e=0;e<f.length;e++){let t=f[e],{height:n,width:r,top:i,right:a,bottom:c,left:u}=t.getBoundingClientRect();if("if-needed"===o&&C>=0&&_>=0&&w<=g&&k<=m&&(t===p&&!aO(t)||C>=i&&w<=c&&_>=u&&k<=a))break;let d=getComputedStyle(t),h=parseInt(d.borderLeftWidth,10),j=parseInt(d.borderTopWidth,10),S=parseInt(d.borderRightWidth,10),E=parseInt(d.borderBottomWidth,10),T=0,O=0,P="offsetWidth"in t?t.offsetWidth-t.clientWidth-h-S:0,M="offsetHeight"in t?t.offsetHeight-t.clientHeight-j-E:0,F="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,R="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(p===t)T="start"===l?D:"end"===l?D-g:"nearest"===l?aP(v,v+g,g,j,E,v+D,v+D+b,b):D-g/2,O="start"===s?I:"center"===s?I-m/2:"end"===s?I-m:aP(y,y+m,m,h,S,y+I,y+I+x,x),T=Math.max(0,T+v),O=Math.max(0,O+y);else{T="start"===l?D-i-j:"end"===l?D-c+E+M:"nearest"===l?aP(i,c,n,j,E+M,D,D+b,b):D-(i+n/2)+M/2,O="start"===s?I-u-h:"center"===s?I-(u+r/2)+P/2:"end"===s?I-a+S+P:aP(u,a,r,h,S+P,I,I+x,x);let{scrollLeft:e,scrollTop:o}=t;T=0===R?0:Math.max(0,Math.min(o+T/R,t.scrollHeight-n/R+M)),O=0===F?0:Math.max(0,Math.min(e+O/F,t.scrollWidth-r/F+P)),D+=o-T,I+=e-O}A.push({el:t,top:T,left:O})}return A};function aR(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;let n=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(aF(e,t));let r="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:i,top:a,left:o}of aF(e,!1===t?{block:"end",inline:"nearest"}:t===Object(t)&&0!==Object.keys(t).length?t:{block:"start",inline:"nearest"})){let e=a-n.top+n.bottom,t=o-n.left+n.right;i.scroll({top:e,left:t,behavior:r})}}var aB=e.i(749702),aN=globalThis.Node;globalThis.Element;var aL=globalThis.Text;globalThis.Range,globalThis.Selection,globalThis.StaticRange;var az=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,aV=e=>aH(e)&&8===e.nodeType,aU=e=>aH(e)&&1===e.nodeType,aH=e=>{var t=az(e);return!!t&&e instanceof t.Node},aq=e=>{var t=e&&e.anchorNode&&az(e.anchorNode);return!!t&&e instanceof t.Selection},aW=e=>aH(e)&&3===e.nodeType,aY=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],a=t,o=!1,l=!1;(aV(i)||aU(i)&&0===i.childNodes.length||aU(i)&&"false"===i.getAttribute("contenteditable"))&&(!o||!l);){if(a>=r.length){o=!0,a=t-1,n="backward";continue}if(a<0){l=!0,a=t+1,n="forward";continue}i=r[a],t=a,a+="forward"===n?1:-1}return[i,t]},aK=(e,t,n)=>{var[r]=aY(e,t,n);return r},aG=e=>{var t="";if(aW(e)&&e.nodeValue)return e.nodeValue;if(aU(e)){for(var n of Array.from(e.childNodes))t+=aG(n);var r=getComputedStyle(e).getPropertyValue("display");("block"===r||"list"===r||"BR"===e.tagName)&&(t+="\n")}return t},a$=/data-slate-fragment="(.+?)"/m,aZ=e=>null!=e.getSelection?e.getSelection():document.getSelection(),aX=(e,t,n)=>{var{target:r}=t;if(aU(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=oA.getWindow(e);if(i.contains(r))return oA.hasDOMNode(e,r,{editable:!0});var a=n.find(e=>{var{addedNodes:t,removedNodes:n}=e;for(var i of t)if(i===r||i.contains(r))return!0;for(var a of n)if(a===r||a.contains(r))return!0});return!!a&&a!==t&&aX(e,a,n)},aJ=(e,t)=>!!(e.compareDocumentPosition(t)&aN.DOCUMENT_POSITION_PRECEDING),aQ="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a1="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),a2="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),a0="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),a5="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),a7="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),a3="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),a8="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),a4=a2&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),a6="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),a9="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),oe="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent)&&(!a3||a8),ot="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&null!=(f=navigator.userAgent.match(/Version\/(\d+)/))&&f[1]&&parseInt(null==(h=navigator.userAgent.match(/Version\/(\d+)/))?void 0:h[1],10);var on=(!a8||!a4)&&!a7&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges;function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t,n){var r;return r=function(e,t){if("object"!==or(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==or(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===or(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oa=0;class oo{constructor(){oi(this,"id",void 0),this.id="".concat(oa++)}}var ol=new WeakMap,os=new WeakMap,oc=new WeakMap,ou=new WeakMap,od=new WeakMap,op=new WeakMap,of=new WeakMap,oh=new WeakMap,om=new WeakMap,og=new WeakMap,oy=new WeakMap,ov=new WeakMap,ob=new WeakMap,ox=new WeakMap,oC=new WeakMap,ok=new WeakMap,ow=new WeakMap,o_=new WeakMap,oj=new WeakMap,oS=new WeakMap,oE=new WeakMap,oT=new WeakMap,oD=Symbol("placeholder"),oI=Symbol("mark-placeholder"),oA={androidPendingDiffs:e=>oj.get(e),androidScheduleFlush:e=>{var t;null==(t=ok.get(e))||t()},blur:e=>{var t=oA.toDOMNode(e,e),n=oA.findDocumentOrShadowRoot(e);ov.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=aZ(oA.findDocumentOrShadowRoot(e));n&&n.rangeCount>0&&n.removeAllRanges(),t&&iO.deselect(e)},findDocumentOrShadowRoot:e=>{var t=oA.toDOMNode(e,e),n=t.getRootNode();return n instanceof Document||n instanceof ShadowRoot?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var n,{clientX:r,clientY:i,target:a}=t;if(null==r||null==i)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o=oA.toSlateNode(e,t.target),l=oA.findPath(e,o);if(rW.isElement(o)&&rQ.isVoid(e,o)){var s=a.getBoundingClientRect(),c=e.isInline(o)?r-s.left<s.left+s.width-r:i-s.top<s.top+s.height-i,u=rQ.point(e,l,{edge:c?"start":"end"}),d=c?rQ.before(e,u):rQ.after(e,u);if(d)return rQ.range(e,d)}var{document:p}=oA.getWindow(e);if(p.caretRangeFromPoint)n=p.caretRangeFromPoint(r,i);else{var f=p.caretPositionFromPoint(r,i);f&&((n=p.createRange()).setStart(f.offsetNode,f.offset),n.setEnd(f.offsetNode,f.offset))}if(!n)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return oA.toSlateRange(e,n,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{var n=om.get(t);return n||(n=new oo,om.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var i=oc.get(r);if(null==i)if(rQ.isEditor(r))return n;else break;var a=os.get(r);if(null==a)break;n.unshift(a),r=i}throw Error("Unable to find the path for Slate node: ".concat(r3.stringify(t)))},focus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{retries:5};if(!ov.get(e)&&od.get(e)){if(t.retries<=0)throw Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0)return void setTimeout(()=>{oA.focus(e,{retries:t.retries-1})},10);var n=oA.toDOMNode(e,e),r=oA.findDocumentOrShadowRoot(e);if(r.activeElement!==n){if(e.selection&&r instanceof Document){var i=aZ(r),a=oA.toDOMRange(e,e.selection);null==i||i.removeAllRanges(),null==i||i.addRange(a)}e.selection||iO.select(e,rQ.start(e,[])),ov.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:e=>{var t=ou.get(e);if(!t)throw Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,a=oA.toDOMNode(e,e);try{n=aU(t)?t:t.parentElement}catch(e){if(e instanceof Error&&!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&n.closest("[data-slate-editor]")===a&&(!i||!!n.isContentEditable||"boolean"==typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===a||!!n.getAttribute("data-slate-zero-width"))},hasEditableTarget:(e,t)=>aH(t)&&oA.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return rQ.hasPath(e,n.path)&&rQ.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>oA.hasEditableTarget(e,t)||oA.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>aH(t)&&oA.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!ob.get(e),isFocused:e=>!!ov.get(e),isReadOnly:e=>!!oy.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(oy.get(e))return!1;var n=oA.hasTarget(e,t)&&oA.toSlateNode(e,t);return rW.isElement(n)&&rQ.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=og.get(e),r=rQ.isEditor(t)?od.get(e):null==n?void 0:n.get(oA.findKey(e,t));if(!r)throw Error("Cannot resolve a DOM node from Slate node: ".concat(r3.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=rQ.node(e,t.path),r=oA.toDOMNode(e,n);rQ.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i=Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),a=0,o=0;o<i.length;o++){var l=i[o],s=l.childNodes[0];if(null!=s&&null!=s.textContent){var{length:c}=s.textContent,u=l.getAttribute("data-slate-length"),d=a+(null==u?c:parseInt(u,10)),p=i[o+1];if(t.offset===d&&null!=p&&p.hasAttribute("data-slate-mark-placeholder")){var f,h,m=p.childNodes[0];f=[m instanceof aL?m:p,null!=(h=p.textContent)&&h.startsWith("\uFEFF")?1:0];break}if(t.offset<=d){f=[s,Math.min(c,Math.max(0,t.offset-a))];break}a=d}}if(!f)throw Error("Cannot resolve a DOM point from Slate point: ".concat(r3.stringify(t)));return f},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,i=rH.isBackward(t),a=oA.toDOMPoint(e,n),o=rH.isCollapsed(t)?a:oA.toDOMPoint(e,r),l=oA.getWindow(e).document.createRange(),[s,c]=i?o:a,[u,d]=i?a:o,p=!!(aU(s)?s:s.parentElement).getAttribute("data-slate-zero-width"),f=!!(aU(u)?u:u.parentElement).getAttribute("data-slate-zero-width");return l.setStart(s,p?1:c),l.setEnd(u,f?1:d),l},toSlateNode:(e,t)=>{var n=aU(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?of.get(n):null;if(!r)throw Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:i,searchDirection:a}=n,[o,l]=r?t:(e=>{var[t,n]=e;if(aU(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=aY(t,i,r?"backward":"forward"),r=i<n;aU(t)&&t.childNodes.length;){var a=r?t.childNodes.length-1:0;t=aK(t,a,r?"backward":"forward")}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]})(t),s=o.parentNode,c=null,u=0;if(s){var d=oA.toDOMNode(e,e),p=s.closest('[data-slate-void="true"]'),f=p&&d.contains(p)?p:null,h=s.closest('[contenteditable="false"]'),m=h&&d.contains(h)?h:null,g=s.closest("[data-slate-leaf]"),y=null;if(g){if(c=g.closest('[data-slate-node="text"]')){var v=oA.getWindow(e).document.createRange();v.setStart(c,0),v.setEnd(o,l);var b=v.cloneContents();[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))].forEach(e=>{if(a2&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\uFEFF"!==e.textContext){e.textContent.startsWith("\uFEFF")&&(e.textContent=e.textContent.slice(1));return}e.parentNode.removeChild(e)}),u=b.textContent.length,y=c}}else if(f){for(var x=f.querySelectorAll("[data-slate-leaf]"),C=0;C<x.length;C++){var k=x[C];if(oA.hasDOMNode(e,k)){g=k;break}}g?(c=g.closest('[data-slate-node="text"]'),u=(y=g).textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(e=>{u-=e.textContent.length})):u=1}else if(m){var w,_,j,S,E=e=>e?e.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],T=m.closest('[data-slate-node="element"]');"backward"!==a&&a||(g=null!=(j=[...E(null==T?void 0:T.previousElementSibling),...E(T)].findLast(e=>aJ(m,e)))?j:null),"forward"!==a&&a||(g=null!=(S=[...E(T),...E(null==T?void 0:T.nextElementSibling)].find(e=>!!(m.compareDocumentPosition(e)&aN.DOCUMENT_POSITION_FOLLOWING)))?S:null),g&&(c=g.closest('[data-slate-node="text"]'),y=g,"forward"===a?u=0:(u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(e=>{u-=e.textContent.length})))}y&&u===y.textContent.length&&a2&&"z"===y.getAttribute("data-slate-zero-width")&&null!=(w=y.textContent)&&w.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||a0&&null!=(_=y.textContent)&&_.endsWith("\n\n"))&&u--}if(a2&&!c&&!r){var D=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(D&&oA.hasDOMNode(e,D,{editable:!0})){var I=oA.toSlateNode(e,D),{path:A,offset:O}=rQ.start(e,oA.findPath(e,I));return D.querySelector("[data-slate-leaf]")||(O=l),{path:A,offset:O}}}if(!c){if(i)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var P=oA.toSlateNode(e,c);return{path:oA.findPath(e,P),offset:u}},toSlateRange:(e,t,n)=>{var r,i,a,o,l,s,{exactMatch:c,suppressThrow:u}=n;if(aq(t)?t.anchorNode:t.startContainer)if(aq(t)){if(a0&&t.rangeCount>1){o=t.focusNode;var d=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(o instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){function f(e){return e.childElementCount>0?f(e.children[0]):e}var h=d.startContainer,m=p.startContainer,g=f(h.children[d.startOffset]),y=f(m.children[p.startOffset]);l=0,i=y.childNodes.length>0?y.childNodes[0]:y,o=g.childNodes.length>0?g.childNodes[0]:g,a=y instanceof HTMLElement?y.innerHTML.length:0}else d.startContainer===o?(i=p.endContainer,a=p.endOffset,l=d.startOffset):(i=d.startContainer,a=d.endOffset,l=p.startOffset)}else i=t.anchorNode,a=t.anchorOffset,o=t.focusNode,l=t.focusOffset;s=a3&&(e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1})(i)||a0?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed}else i=t.startContainer,a=t.startOffset,o=t.endContainer,l=t.endOffset,s=t.collapsed;if(null==i||null==o||null==a||null==l)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));a0&&null!=(r=o.textContent)&&r.endsWith("\n\n")&&l===o.textContent.length&&l--;var v=oA.toSlatePoint(e,[i,a],{exactMatch:c,suppressThrow:u});if(!v)return null;var b=aJ(i,o)||i===o&&l<a,x=s?v:oA.toSlatePoint(e,[o,l],{exactMatch:c,suppressThrow:u,searchDirection:b?"forward":"backward"});if(!x)return null;var C={anchor:v,focus:x};return rH.isExpanded(C)&&rH.isForward(C)&&aU(o)&&rQ.void(e,{at:C.focus,mode:"highest"})&&(C=rQ.unhangRange(e,C,{voids:!0})),C}};function oO(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end),e)}function oP(e,t){var{start:n,end:r,text:i}=t,a=e.slice(n,r),o=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}(a,i),l=Math.min(a.length-o,i.length-o),s=function(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}(a,i,l),c={start:n+o,end:r-s,text:i.slice(o,i.length-s)};return c.start===c.end&&0===c.text.length?null:c}function oM(e,t){var{path:n,offset:r}=t;if(!rQ.hasPath(e,n))return null;var i=rG.get(e,n);if(!ie.isText(i))return null;var a=rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isBlock(e,t),at:n});if(!a)return null;for(;r>i.text.length;){var o=rQ.next(e,{at:n,match:ie.isText});if(!o||!rT.isDescendant(o[1],a[1]))return null;r-=i.text.length,i=o[0],n=o[1]}return{path:n,offset:r}}function oF(e,t){var n=oM(e,t.anchor);if(!n)return null;if(rH.isCollapsed(t))return{anchor:n,focus:n};var r=oM(e,t.focus);return r?{anchor:n,focus:r}:null}function oR(e,t,n){var r=oj.get(e),i=null==r?void 0:r.find(e=>{var{path:n}=e;return rT.equals(n,t.path)});if(!i||t.offset<=i.diff.start)return r5.transform(t,n,{affinity:"backward"});var{diff:a}=i;if(t.offset<=a.start+a.text.length){var o={path:t.path,offset:a.start},l=r5.transform(o,n,{affinity:"backward"});return l?{path:l.path,offset:l.offset+t.offset-a.start}:null}var s={path:t.path,offset:t.offset-a.text.length+a.end-a.start},c=r5.transform(s,n,{affinity:"backward"});return c?"split_node"===n.type&&rT.equals(n.path,t.path)&&s.offset<n.position&&a.start<n.position?c:{path:c.path,offset:c.offset+a.text.length-a.end+a.start}:null}function oB(e,t,n){var r=oR(e,t.anchor,n);if(!r)return null;if(rH.isCollapsed(t))return{anchor:r,focus:r};var i=oR(e,t.focus,n);return i?{anchor:r,focus:i}:null}var oN=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},oL=(e,t,n)=>{var r=oA.toDOMRange(e,t).getBoundingClientRect(),i=oA.toDOMRange(e,n).getBoundingClientRect();return oN(r,i)&&oN(i,r)};function oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oz(Object(n),!0).forEach(function(t){oi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var oU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",{apply:n,onChange:r,deleteBackward:i,addMark:a,removeMark:o}=e;return og.set(e,new WeakMap),e.addMark=(t,n)=>{var r,i;null==(r=ok.get(e))||r(),!ow.get(e)&&null!=(i=oj.get(e))&&i.length&&ow.set(e,null),o_.delete(e),a(t,n)},e.removeMark=t=>{var n;!ow.get(e)&&null!=(n=oj.get(e))&&n.length&&ow.set(e,null),o_.delete(e),o(t)},e.deleteBackward=t=>{if("line"!==t)return i(t);if(e.selection&&rH.isCollapsed(e.selection)){var n=rQ.above(e,{match:t=>rW.isElement(t)&&rQ.isBlock(e,t),at:e.selection});if(n){var[,r]=n,a=rQ.range(e,r,e.selection.anchor),o=((e,t)=>{var n=rQ.range(e,rH.end(t)),r=Array.from(rQ.positions(e,{at:t})),i=0,a=r.length,o=Math.floor(a/2);if(oL(e,rQ.range(e,r[i]),n))return rQ.range(e,r[i],n);if(r.length<2)return rQ.range(e,r[r.length-1],n);for(;o!==r.length&&o!==i;)oL(e,rQ.range(e,r[o]),n)?a=o:i=o,o=Math.floor((i+a)/2);return rQ.range(e,r[i],n)})(e,a);rH.isCollapsed(o)||iO.delete(e,{at:o})}}},e.apply=t=>{var r=[],i=[],a=oj.get(e);if(null!=a&&a.length){var o=a.map(e=>(function(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":if(!rT.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset<=r.start)return{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n};return{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":if(!rT.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset+t.text.length<=r.start)return{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n};return{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":if(!rT.equals(t.path,n)||t.position>=r.end)return{diff:r,id:i,path:rT.transform(n,t,{affinity:"backward"})};if(t.position>r.start)return{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n};return{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:rT.transform(n,t,{affinity:"forward"})};case"merge_node":if(!rT.equals(t.path,n))return{diff:r,id:i,path:rT.transform(n,t)};return{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:rT.transform(n,t)}}var a=rT.transform(n,t);return a?{diff:r,path:a,id:i}:null})(e,t)).filter(Boolean);oj.set(e,o)}var l=oE.get(e);l&&oE.set(e,oB(e,l,t));var s=oS.get(e);if(null!=s&&s.at){var c=r5.isPoint(null==s?void 0:s.at)?oR(e,s.at,t):oB(e,s.at,t);oS.set(e,c?oV(oV({},s),{},{at:c}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":r.push(...oH(e,t.path));break;case"set_selection":null==(u=ox.get(e))||u.unref(),ox.delete(e);break;case"insert_node":case"remove_node":r.push(...oH(e,rT.parent(t.path)));break;case"merge_node":r.push(...oH(e,rT.previous(t.path)));break;case"move_node":r.push(...oH(e,rT.common(rT.parent(t.path),rT.parent(t.newPath)))),rT.isBefore(t.path,t.newPath)?(r.push(...oH(e,rT.parent(t.path))),d=t.newPath):(r.push(...oH(e,rT.parent(t.newPath))),d=t.path);var u,d,p=rG.get(e,rT.parent(d)),f=oA.findKey(e,p);i.push([rQ.pathRef(e,rT.parent(d)),f])}switch(n(t),t.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":case"insert_text":case"remove_text":case"set_selection":ol.set(e,!0)}for(var[h,m]of r){var[g]=rQ.node(e,h);om.set(g,m)}for(var[y,v]of i){if(y.current){var[b]=rQ.node(e,y.current);om.set(b,v)}y.unref()}},e.setFragmentData=n=>{var{selection:r}=e;if(r){var[i,a]=rH.edges(r),o=rQ.void(e,{at:i.path}),l=rQ.void(e,{at:a.path});if(!rH.isCollapsed(r)||o){var s=oA.toDOMRange(e,r),c=s.cloneContents(),u=c.childNodes[0];if(c.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(u=e)}),l){var[d]=l,p=s.cloneRange(),f=oA.toDOMNode(e,d);p.setEndAfter(f),c=p.cloneContents()}if(o&&(u=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),aW(u)){var h=u.ownerDocument.createElement("span");h.style.whiteSpace="pre",h.appendChild(u),c.appendChild(h),u=h}var m=JSON.stringify(e.getFragment()),g=window.btoa(encodeURIComponent(m));u.setAttribute("data-slate-fragment",g),n.setData("application/".concat(t),g);var y=c.ownerDocument.createElement("div");return y.appendChild(c),y.setAttribute("hidden","true"),c.ownerDocument.body.appendChild(y),n.setData("text/html",y.innerHTML),n.setData("text/plain",aG(y)),c.ownerDocument.body.removeChild(y),n}}},e.insertData=t=>{e.insertFragmentData(t)||e.insertTextData(t)},e.insertFragmentData=n=>{var r=n.getData("application/".concat(t))||(e=>{var[,t]=e.getData("text/html").match(a$)||[];return t})(n);if(r){var i=JSON.parse(decodeURIComponent(window.atob(r)));return e.insertFragment(i),!0}return!1},e.insertTextData=t=>{var n=t.getData("text/plain");if(n){var r=n.split(/\r\n|\r|\n/),i=!1;for(var a of r)i&&iO.splitNodes(e,{always:!0}),e.insertText(a),i=!0;return!0}return!1},e.onChange=t=>{var n=oC.get(e);n&&n(t),r(t)},e},oH=(e,t)=>{var n=[];for(var[r,i]of rQ.levels(e,{at:t})){var a=oA.findKey(e,r);n.push([i,a])}return n},oq={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},oW={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},oY={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},oK=e=>{var t=oq[e],n=oW[e],r=oY[e],i=t&&(0,aB.isHotkey)(t),a=n&&(0,aB.isHotkey)(n),o=r&&(0,aB.isHotkey)(r);return e=>!!(i&&i(e)||a1&&a&&a(e)||!a1&&o&&o(e))},oG={isBold:oK("bold"),isCompose:oK("compose"),isMoveBackward:oK("moveBackward"),isMoveForward:oK("moveForward"),isDeleteBackward:oK("deleteBackward"),isDeleteForward:oK("deleteForward"),isDeleteLineBackward:oK("deleteLineBackward"),isDeleteLineForward:oK("deleteLineForward"),isDeleteWordBackward:oK("deleteWordBackward"),isDeleteWordForward:oK("deleteWordForward"),isExtendBackward:oK("extendBackward"),isExtendForward:oK("extendForward"),isExtendLineBackward:oK("extendLineBackward"),isExtendLineForward:oK("extendLineForward"),isItalic:oK("italic"),isMoveLineBackward:oK("moveLineBackward"),isMoveLineForward:oK("moveLineForward"),isMoveWordBackward:oK("moveWordBackward"),isMoveWordForward:oK("moveWordForward"),isRedo:oK("redo"),isSoftBreak:oK("insertSoftBreak"),isSplitBlock:oK("splitBlock"),isTransposeCharacter:oK("transposeCharacter"),isUndo:oK("undo")};function o$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oZ=["anchor","focus"],oX=["anchor","focus"];function oJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oJ(Object(n),!0).forEach(function(t){oi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o1=(e,t)=>{var n=o$(e,oZ),r=o$(t,oX);return e[oD]===t[oD]&&((e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]))(n,r)},o2=(e,t)=>{if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!rH.equals(r,i)||!o1(r,i))return!1}return!0},o0=(e,t)=>{if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!o1(r,i))return!1}return!0},o5=e.i(174080);function o7(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o3(e){return(o3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o8(e,t,n){var r;return r=function(e,t){if("object"!==o3(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o3(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===o3(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o4=(0,aD.createContext)(null),o6=()=>{var e=(0,aD.useContext)(o4);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e};function o9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o9(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lt=function(){},ln=ot?aD.useLayoutEffect:aD.useEffect,lr=["node"];function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var la={subtree:!0,childList:!0,characterData:!0},lo=a2?e=>{var{node:t}=e,n=o7(e,lr);if(!a2)return null;var r=o6(),i=function(){var e=(0,aD.useRef)(!1);return(0,aD.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}(),[a]=(0,aD.useState)(()=>(function(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,a=null,o=null,l=null,s=0,c=!1,u=()=>{var e=oE.get(t);if(oE.delete(t),e){var{selection:n}=t,r=oF(t,e);!r||n&&rH.equals(r,n)||iO.select(t,r)}},d=()=>{if(o&&(clearTimeout(o),o=null),l&&(clearTimeout(l),l=null),!g()&&!m())return void u();i||(i=!0,setTimeout(()=>i=!1)),m()&&(i="action");var e=t.selection&&rQ.rangeRef(t,t.selection,{affinity:"forward"});o_.set(t,t.marks),lt("flush",oS.get(t),oj.get(t));for(var a=g();s=null==(d=oj.get(t))?void 0:d[0];){var s,d,p,f=ow.get(t);void 0!==f&&(ow.delete(t),t.marks=f),f&&!1===c&&(c=null);var h=function(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}(s);t.selection&&rH.equals(t.selection,h)||iO.select(t,h),s.diff.text?rQ.insertText(t,s.diff.text):rQ.deleteFragment(t),oj.set(t,null==(p=oj.get(t))?void 0:p.filter(e=>{var{id:t}=e;return t!==s.id})),!function(e,t){var{path:n,diff:r}=t;if(!rQ.hasPath(e,n))return!1;var i=rG.get(e,n);if(!ie.isText(i))return!1;if(r.start!==i.text.length||0===r.text.length)return i.text.slice(r.start,r.start+r.text.length)===r.text;var a=rT.next(n);if(!rQ.hasPath(e,a))return!1;var o=rG.get(e,a);return ie.isText(o)&&o.text.startsWith(r.text)}(t,s)&&(a=!1,oS.delete(t),o_.delete(t),i="action",oE.delete(t),n.cancel(),r.cancel(),null==e||e.unref())}var y=null==e?void 0:e.unref();if(!y||oE.get(t)||t.selection&&rH.equals(y,t.selection)||iO.select(t,y),m())return void(()=>{var e=oS.get(t);if(oS.delete(t),e){if(e.at){var n=r5.isPoint(e.at)?oM(t,e.at):oF(t,e.at);if(!n)return;var r=rQ.range(t,n);t.selection&&rH.equals(t.selection,r)||iO.select(t,n)}e.run()}})();a&&n(),n.flush(),r.flush(),u();var v=o_.get(t);o_.delete(t),void 0!==v&&(t.marks=v,t.onChange())},p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=op.get(t);if(n){if(g()||e){n.style.display="none";return}n.style.removeProperty("display")}},f=(e,n)=>{var r,i,a,o,l,c,u,d,f=null!=(d=oj.get(t))?d:[];oj.set(t,f);var h=rG.leaf(t,e),m=f.findIndex(t=>rT.equals(t.path,e));if(m<0){oP(h.text,n)&&f.push({path:e,diff:n,id:s++}),p();return}var g=(r=h.text,i=f[m].diff,a=Math.min(i.start,n.start),o=Math.max(0,Math.min(i.start+i.text.length,n.end)-n.start),l=oO(r,i,n),c=Math.max(n.start+n.text.length,i.start+i.text.length+(i.start+i.text.length>n.start?n.text.length:0)-o),u=l.slice(a,c),oP(r,{start:a,end:Math.max(i.end,n.end-i.text.length+(i.end-i.start)),text:u}));if(!g){f.splice(m,1),p();return}f[m]=le(le({},f[m]),{},{diff:g})},h=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c=!1,oE.delete(t),n.cancel(),r.cancel(),m()&&d(),oS.set(t,{at:i,run:e}),l=setTimeout(d)},m=()=>!!oS.get(t),g=()=>{var e;return!!(null!=(e=oj.get(t))&&e.length)},y=e=>{oE.set(t,e),o&&(clearTimeout(o),o=null);var{selection:n}=t;if(e){var r=!n||!rT.equals(n.anchor.path,e.anchor.path),i=!n||!rT.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&c||i)&&(c=!1),(r||g())&&(o=setTimeout(d,200))}},v=()=>{m()||(l=setTimeout(d))};return{flush:d,scheduleFlush:v,hasPendingDiffs:g,hasPendingAction:m,hasPendingChanges:()=>m()||g(),isFlushing:()=>i,handleUserSelect:y,handleCompositionEnd:e=>{a&&clearTimeout(a),a=setTimeout(()=>{ob.set(t,!1),d()},25)},handleCompositionStart:e=>{ob.set(t,!0),a&&(clearTimeout(a),a=null)},handleDOMBeforeInput:e=>{if(o&&(clearTimeout(o),o=null),!ol.get(t)){var{inputType:n}=e,r=null,i=e.dataTransfer||e.data||void 0;!1!==c&&"insertText"!==n&&"insertCompositionText"!==n&&(c=!1);var[a]=e.getTargetRanges();a&&(r=oA.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!0}));var l=oA.getWindow(t).getSelection();if(!r&&l&&(a=l,r=oA.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!0})),r=null!=(E=r)?E:t.selection){var s=!0;if(n.startsWith("delete")){var u=n.endsWith("Backward")?"backward":"forward",[d,p]=rH.edges(r),[m,g]=rQ.leaf(t,d.path);if(rH.isExpanded(r)&&m.text.length===d.offset&&0===p.offset){var b=rQ.next(t,{at:d.path,match:ie.isText});b&&rT.equals(b[1],p.path)&&("backward"===u?(r={anchor:p,focus:p},d=p,[m,g]=b):(r={anchor:d,focus:d},p=d))}var x={text:"",start:d.offset,end:p.offset},C=oj.get(t),k=null==C?void 0:C.find(e=>rT.equals(e.path,g)),w=k?[k.diff,x]:[x];if(0===oO(m.text,...w).length&&(s=!1),rH.isExpanded(r)){if(s&&rT.equals(r.anchor.path,r.focus.path)){var _={path:r.anchor.path,offset:d.offset};return y(rQ.range(t,_,_)),f(r.anchor.path,{text:"",end:p.offset,start:d.offset})}return h(()=>rQ.deleteFragment(t,{direction:u}),{at:r})}}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return h(()=>rQ.deleteFragment(t),{at:r});case"deleteContent":case"deleteContentForward":var{anchor:j}=r;if(s&&rH.isCollapsed(r)){var S=rG.leaf(t,j.path);if(j.offset<S.text.length)return f(j.path,{text:"",start:j.offset,end:j.offset+1})}return h(()=>rQ.deleteForward(t),{at:r});case"deleteContentBackward":var E,T,{anchor:D}=r,I=aq(a)?a.isCollapsed:!!(null!=(T=a)&&T.collapsed);if(s&&I&&rH.isCollapsed(r)&&D.offset>0)return f(D.path,{text:"",start:D.offset-1,end:D.offset});return h(()=>rQ.deleteBackward(t),{at:r});case"deleteEntireSoftLine":return h(()=>{rQ.deleteBackward(t,{unit:"line"}),rQ.deleteForward(t,{unit:"line"})},{at:r});case"deleteHardLineBackward":return h(()=>rQ.deleteBackward(t,{unit:"block"}),{at:r});case"deleteSoftLineBackward":return h(()=>rQ.deleteBackward(t,{unit:"line"}),{at:r});case"deleteHardLineForward":return h(()=>rQ.deleteForward(t,{unit:"block"}),{at:r});case"deleteSoftLineForward":return h(()=>rQ.deleteForward(t,{unit:"line"}),{at:r});case"deleteWordBackward":return h(()=>rQ.deleteBackward(t,{unit:"word"}),{at:r});case"deleteWordForward":return h(()=>rQ.deleteForward(t,{unit:"word"}),{at:r});case"insertLineBreak":return h(()=>rQ.insertSoftBreak(t),{at:r});case"insertParagraph":return h(()=>rQ.insertBreak(t),{at:r});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if((null==i?void 0:i.constructor.name)==="DataTransfer")return h(()=>oA.insertData(t,i),{at:r});var A=null!=i?i:"";if(ow.get(t)&&(A=A.replace("\uFEFF","")),"insertText"===n&&/.*\n.*\n$/.test(A)&&(A=A.slice(0,-1)),A.includes("\n"))return h(()=>{var e=A.split("\n");e.forEach((n,r)=>{n&&rQ.insertText(t,n),r!==e.length-1&&rQ.insertSoftBreak(t)})},{at:r});if(rT.equals(r.anchor.path,r.focus.path)){var[O,P]=rH.edges(r),M={start:O.offset,end:P.offset,text:A};if(A&&c&&"insertCompositionText"===n){var F=c.start+c.text.search(/\S|$/);M.start+M.text.search(/\S|$/)===F+1&&M.end===c.start+c.text.length?(M.start-=1,c=null,v()):c=!1}else c="insertText"===n&&(null===c?M:!!(c&&rH.isCollapsed(r))&&c.end+c.text.length===O.offset&&le(le({},c),{},{text:c.text+A}));if(s){var R=t.selection;if(f(O.path,M),R){var B={path:O.path,offset:O.offset+A.length};h(()=>{iO.select(t,{anchor:B,focus:B})},{at:B})}return}}return h(()=>rQ.insertText(t,A),{at:r})}}}},handleKeyDown:e=>{g()||(p(!0),setTimeout(p))},handleDomMutations:e=>{if(!(g()||m())&&e.some(n=>aX(t,n,e))){var n;null==(n=oT.get(t))||n()}},handleInput:()=>{(m()||!g())&&d()}}})(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({editor:r},n)));return!function(e,t,n){var[r]=(0,aD.useState)(()=>new MutationObserver(t));ln(()=>{r.takeRecords()}),(0,aD.useEffect)(()=>{if(!e.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}(t,a.handleDomMutations,la),ok.set(r,a.scheduleFlush),i&&a.flush(),a}:()=>null;function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ls=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,a=o6(),o=oA.findPath(a,i),l=rT.parent(o),s=!!n[oI];return a.isVoid(r)?aD.default.createElement(ld,{length:rG.string(r).length}):""!==n.text||r.children[r.children.length-1]!==i||a.isInline(r)||""!==rQ.string(a,l)?""===n.text?aD.default.createElement(ld,{isMarkPlaceholder:s}):t&&"\n"===n.text.slice(-1)?aD.default.createElement(lc,{isTrailing:!0,text:n.text}):aD.default.createElement(lc,{text:n.text}):aD.default.createElement(ld,{isLineBreak:!0,isMarkPlaceholder:s})},lc=e=>{var{text:t,isTrailing:n=!1}=e,r=(0,aD.useRef)(null),i=()=>"".concat(null!=t?t:"").concat(n?"\n":""),[a]=(0,aD.useState)(i);return ln(()=>{var e=i();r.current&&r.current.textContent!==e&&(r.current.textContent=e)}),aD.default.createElement(lu,{ref:r},a)},lu=(0,aD.memo)((0,aD.forwardRef)((e,t)=>aD.default.createElement("span",{"data-slate-string":!0,ref:t},e.children))),ld=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),aD.default.createElement("span",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i),a2&&n?null:"\uFEFF",n?aD.default.createElement("br",null):null)};function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lh=300*!!a2;function lm(e){e.current&&(clearTimeout(e.current),e.current=null)}var lg=e=>aD.default.createElement(lv,lf({},e)),ly=aD.default.memo(e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:a,renderLeaf:o=lg,leafPosition:l}=e,s=o6(),c=(0,aD.useRef)(null),u=(0,aD.useRef)(null),[d,p]=(0,aD.useState)(!1),f=(0,aD.useRef)(null),h=(0,aD.useCallback)(e=>{if(!function(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}(c,null==e),null==e){var n;op.delete(s),null==(n=t.onPlaceholderResize)||n.call(t,null)}else op.set(s,e),c.current||(c.current=new(window.ResizeObserver||N.ResizeObserver)(()=>{var n;null==(n=t.onPlaceholderResize)||n.call(t,e)})),c.current.observe(e),u.current=e},[u,t,s]),m=aD.default.createElement(ls,{isLast:n,leaf:t,parent:i,text:r}),g=!!t[oD];if((0,aD.useEffect)(()=>(g?f.current||(f.current=setTimeout(()=>{p(!0),f.current=null},lh)):(lm(f),p(!1)),()=>lm(f)),[g,p]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:a5?"inherit":void 0},contentEditable:!1,ref:h}};m=aD.default.createElement(aD.default.Fragment,null,m,a(y))}return o({attributes:{"data-slate-leaf":!0},children:m,leaf:t,text:r,leafPosition:l})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&ie.equals(t.leaf,e.leaf)&&t.leaf[oD]===e.leaf[oD]),lv=e=>{var{attributes:t,children:n}=e;return aD.default.createElement("span",lf({},t),n)};function lb(e,t){var n,[,r]=(0,aD.useReducer)(e=>e+1,0),i=(0,aD.useRef)(),a=(0,aD.useRef)(()=>null),o=(0,aD.useRef)(null);try{if(e!==a.current||i.current){var l=e();n=t(o.current,l)?o.current:l}else n=o.current}catch(e){throw i.current&&e instanceof Error&&(e.message+="\nThe error may be correlated with this previous error:\n".concat(i.current.stack,"\n\n")),e}return a.current=e,o.current=n,i.current=void 0,[n,(0,aD.useCallback)(()=>{try{var e=a.current();if(t(o.current,e))return;o.current=e}catch(e){e instanceof Error?i.current=e:i.current=Error(String(e))}r()},[])]}var lx=(0,aD.createContext)({}),lC=(e,t)=>{var n=o6(),{decorate:r,addEventListener:i}=(0,aD.useContext)(lx),[a,o]=lb(()=>{var t=oA.findPath(n,e);return r([e,t])},ie.isText(e)?o0:o2);return ln(()=>{var e=i(o);return o(),e},[i,o]),(0,aD.useMemo)(()=>[...a,...t],[a,t])};function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l_=e=>aD.default.createElement(lS,lw({},e)),lj=aD.default.memo(e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:a,renderText:o=l_,text:l}=e,s=o6(),c=(0,aD.useRef)(null),u=lC(l,t),d=ie.decorations(l,u),p=oA.findKey(s,l),f=[],h=0;h<d.length;h++){var{leaf:m,position:g}=d[h];f.push(aD.default.createElement(ly,{isLast:n&&h===d.length-1,key:"".concat(p.id,"-").concat(h),renderPlaceholder:i,leaf:m,leafPosition:g,text:l,parent:r,renderLeaf:a}))}var y=(0,aD.useCallback)(e=>{var t=og.get(s);e?(null==t||t.set(p,e),oh.set(l,e),of.set(e,l)):(null==t||t.delete(p),oh.delete(l),c.current&&of.delete(c.current)),c.current=e},[c,s,p,l]);return o({text:l,children:f,attributes:{"data-slate-node":"text",ref:y}})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderText===e.renderText&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&o0(t.decorations,e.decorations)),lS=e=>{var{attributes:t,children:n}=e;return aD.default.createElement("span",lw({},t),n)};function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lD=e=>aD.default.createElement(lA,lT({},e)),lI=aD.default.memo(e=>{var{decorations:t,element:n,renderElement:r=lD,renderChunk:i,renderPlaceholder:a,renderLeaf:o,renderText:l}=e,s=o6(),c=lq(),u=s.isInline(n),d=lC(n,t),p=oA.findKey(s,n),f=(0,aD.useCallback)(e=>{var t=og.get(s);e?(null==t||t.set(p,e),oh.set(n,e),of.set(e,n)):(null==t||t.delete(p),oh.delete(n))},[s,p,n]),h=lV({decorations:d,node:n,renderElement:r,renderChunk:i,renderPlaceholder:a,renderLeaf:o,renderText:l}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&rQ.hasInlines(s,n)){var g=rG.string(n),y=(0,aT.default)(g);"rtl"===y&&(m.dir=y)}if(rQ.isVoid(s,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var[[v]]=rG.texts(n);h=aD.default.createElement(u?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},aD.default.createElement(lj,{renderPlaceholder:a,decorations:[],isLast:!1,parent:n,text:v})),os.set(v,0),oc.set(v,n)}return r({attributes:m,children:h,element:n})},(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderChunk===t.renderChunk&&e.renderText===t.renderText&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&o2(e.decorations,t.decorations)),lA=e=>{var{attributes:t,children:n,element:r}=e,i=o6().isInline(r)?"span":"div";return aD.default.createElement(i,lT(lT({},t),{},{style:{position:"relative"}}),n)};class lO{readLeaf(){if(this.reachedEnd)return null;for(;;)if(this.pointerIndex+1<this.pointerSiblings.length){this.pointerIndex++,this.cachedPointerNode=void 0;break}else{if("root"===this.pointerChunk.type)return this.reachedEnd=!0,null;this.exitChunk()}return this.validateState(),this.enterChunkUntilLeaf(!1),this.pointerNode}returnToPreviousLeaf(){if(this.reachedEnd){this.reachedEnd=!1,this.enterChunkUntilLeaf(!0);return}for(;;)if(this.pointerIndex>=1){this.pointerIndex--,this.cachedPointerNode=void 0;break}else if("root"===this.pointerChunk.type){this.pointerIndex=-1;return}else this.exitChunk();this.validateState(),this.enterChunkUntilLeaf(!0)}insertBefore(e){this.returnToPreviousLeaf(),this.insertAfter(e),this.readLeaf()}insertAfter(e){if(0!==e.length){for(var t=0,n=0;"chunk"===this.pointerChunk.type&&this.pointerIndex===this.pointerSiblings.length-1;){var r=Math.min(this.chunkSize-this.pointerSiblings.length,e.length);if(r>0){var i=e.splice(0,r);this.rawInsertAfter(i,t)}this.exitChunk(),t++}if(0!==e.length){var a=this.savePointer(),o=null;if(this.readLeaf())for(;"chunk"===this.pointerChunk.type&&0===this.pointerIndex;){var l=Math.min(this.chunkSize-this.pointerSiblings.length,e.length);if(l>0){var s=e.splice(-l,l);this.pointerIndex=-1,this.cachedPointerNode=void 0,this.rawInsertAfter(s,n),o||(o=this.savePointer())}this.exitChunk(),n++}this.restorePointer(a);var c=Math.max(t,n);this.rawInsertAfter(e,c),o&&this.restorePointer(o),this.validateState()}}}remove(){this.pointerSiblings.splice(this.pointerIndex--,1),this.cachedPointerNode=void 0,0===this.pointerSiblings.length&&"chunk"===this.pointerChunk.type?(this.exitChunk(),this.remove()):this.invalidateChunk(),this.validateState()}invalidateChunk(){for(var e=this.pointerChunk;"chunk"===e.type;e=e.parent)this.root.modifiedChunks.add(e)}get atStart(){return"root"===this.pointerChunk.type&&-1===this.pointerIndex}get pointerSiblings(){return this.pointerChunk.children}getPointerNode(){return this.reachedEnd||-1===this.pointerIndex?null:this.pointerSiblings[this.pointerIndex]}get pointerNode(){if(void 0!==this.cachedPointerNode)return this.cachedPointerNode;var e=this.getPointerNode();return this.cachedPointerNode=e,e}getChunkPath(e){for(var t=[],n=e;"chunk"===n.type;n=n.parent){var r=n.parent.children.indexOf(n);if(-1===r)return null;t.unshift(r)}return t}savePointer(){if(this.atStart)return"start";if(!this.pointerNode)throw Error("Cannot save pointer when pointerNode is null");return{chunk:this.pointerChunk,node:this.pointerNode}}restorePointer(e){if("start"===e){this.pointerChunk=this.root,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.cachedPointerNode=void 0;return}var{chunk:t,node:n}=e,r=t.children.indexOf(n);if(-1===r)throw Error("Cannot restore point because saved node is no longer in saved chunk");var i=this.getChunkPath(t);if(!i)throw Error("Cannot restore point because saved chunk is no longer connected to root");this.pointerChunk=t,this.pointerIndex=r,this.pointerIndexStack=i,this.reachedEnd=!1,this.cachedPointerNode=n,this.validateState()}enterChunk(e){var t;if((null==(t=this.pointerNode)?void 0:t.type)!=="chunk")throw Error("Cannot enter non-chunk");if(this.pointerIndexStack.push(this.pointerIndex),this.pointerChunk=this.pointerNode,this.pointerIndex=e?this.pointerSiblings.length-1:0,this.cachedPointerNode=void 0,this.validateState(),0===this.pointerChunk.children.length)throw Error("Cannot enter empty chunk")}enterChunkUntilLeaf(e){for(;(null==(t=this.pointerNode)?void 0:t.type)==="chunk";){var t;this.enterChunk(e)}}exitChunk(){if("root"===this.pointerChunk.type)throw Error("Cannot exit root");var e=this.pointerChunk;this.pointerChunk=e.parent,this.pointerIndex=this.pointerIndexStack.pop(),this.cachedPointerNode=void 0,this.validateState()}rawInsertAfter(e,t){if(0!==e.length){for(var n=(e,t,r)=>{if(1===r)return e;for(var i=[],a=0;a<this.chunkSize;a++){var o=e.slice(a*r,(a+1)*r);if(0===o.length)break;var l={type:"chunk",key:new oo,parent:t,children:[]};l.children=n(o,l,r/this.chunkSize),i.push(l)}return i},r=this.pointerSiblings.length+e.length,i=0,a=this.chunkSize;a<r;a*=this.chunkSize)i++;var o=Math.max(i,t),l=Math.pow(this.chunkSize,o),s=n(e,this.pointerChunk,l);this.pointerSiblings.splice(this.pointerIndex+1,0,...s),this.pointerIndex+=s.length,this.cachedPointerNode=void 0,this.invalidateChunk(),this.validateState()}}validateState(){if(this.debug){var e=t=>{if("chunk"===t.type){var{parent:n,children:r}=t;if(!n.children.includes(t))throw Error("Debug: Chunk ".concat(t.key.id," has an incorrect parent property"));r.forEach(e)}};if(this.root.children.forEach(e),void 0!==this.cachedPointerNode&&this.cachedPointerNode!==this.getPointerNode())throw Error("Debug: The cached pointer is incorrect and has not been invalidated");var t=this.getChunkPath(this.pointerChunk);if(!t)throw Error("Debug: The pointer chunk is not connected to the root");if(!rT.equals(this.pointerIndexStack,t))throw Error("Debug: The cached index stack [".concat(this.pointerIndexStack.join(", "),"] does not match the path of the pointer chunk [").concat(t.join(", "),"]"))}}constructor(e,t){var{chunkSize:n,debug:r}=t;o8(this,"root",void 0),o8(this,"chunkSize",void 0),o8(this,"debug",void 0),o8(this,"reachedEnd",void 0),o8(this,"pointerChunk",void 0),o8(this,"pointerIndex",void 0),o8(this,"pointerIndexStack",void 0),o8(this,"cachedPointerNode",void 0),this.root=e,this.chunkSize=n,this.debug=null!=r&&r,this.pointerChunk=e,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.validateState()}}class lP{read(e){if(1===e)return[this.children[this.pointerIndex++]];var t=this.remaining(e);return this.pointerIndex+=e,t}remaining(e){return void 0===e?this.children.slice(this.pointerIndex):this.children.slice(this.pointerIndex,this.pointerIndex+e)}get reachedEnd(){return this.pointerIndex>=this.children.length}lookAhead(e,t){var n=this.children.indexOf(e,this.pointerIndex);if(n>-1)return n-this.pointerIndex;for(var r=this.pointerIndex;r<this.children.length;r++){var i=this.children[r];if(this.findKey(i,r)===t)return r-this.pointerIndex}return -1}toChunkLeaves(e,t){return e.map((e,n)=>({type:"leaf",node:e,key:this.findKey(e,t+n),index:t+n}))}findKey(e,t){var n=this.cachedKeys[t];if(n)return n;var r=oA.findKey(this.editor,e);return this.cachedKeys[t]=r,r}constructor(e,t){o8(this,"editor",void 0),o8(this,"children",void 0),o8(this,"cachedKeys",void 0),o8(this,"pointerIndex",void 0),this.editor=e,this.children=t,this.cachedKeys=Array(t.length),this.pointerIndex=0}}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var lF=new WeakMap,lR=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=oA.findKey(e,t),i=lF.get(r);return i||(i={type:"root",movedNodeKeys:new Set,modifiedChunks:new Set,children:[]},lF.set(r,i)),n.reconcile&&((e,t)=>{var n,{chunkTree:r,children:i,chunkSize:a,rerenderChildren:o=[],onInsert:l,onUpdate:s,onIndexChange:c,debug:u}=t;r.modifiedChunks.clear();for(var d=new lO(r,{chunkSize:a,debug:u}),p=new lP(e,i);n=d.readLeaf();)if(function(){var e=p.lookAhead(n.node,n.key),t=e>0&&r.movedNodeKeys.has(n.key);if(-1===e||t)return d.remove(),1;var i=p.pointerIndex,a=p.read(e+1),u=a.pop();if(a.length){var f=p.toChunkLeaves(a,i);d.insertBefore(f),a.forEach((e,t)=>{null==l||l(e,i+t)})}var h=p.pointerIndex-1;n.node!==u&&(n.node=u,d.invalidateChunk(),null==s||s(u,h)),n.index!==h&&(n.index=h,null==c||c(u,h)),o.includes(h)&&d.invalidateChunk()}())continue;if(!p.reachedEnd){var f=p.remaining(),h=p.toChunkLeaves(f,p.pointerIndex);d.returnToPreviousLeaf(),d.insertAfter(h),f.forEach((e,t)=>{null==l||l(e,p.pointerIndex+t)})}r.movedNodeKeys.clear()})(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({chunkTree:i,children:t.children},n.reconcile)),i},lB=e=>{var{children:t}=e;return t},lN=e=>{var{root:t,ancestor:n,renderElement:r,renderChunk:i=lB}=e;return n.children.map(e=>{if("chunk"===e.type){var a=e.key.id,o=i({highest:n===t,lowest:e.children.some(e=>"leaf"===e.type),attributes:{"data-slate-chunk":!0},children:aD.default.createElement(lL,{root:t,ancestor:e,renderElement:r,renderChunk:i})});return aD.default.createElement(aD.Fragment,{key:a},o)}return r(e.node,e.index,e.key)})},lL=aD.default.memo(lN,(e,t)=>e.root===t.root&&e.renderElement===t.renderElement&&e.renderChunk===t.renderChunk&&!t.root.modifiedChunks.has(t.ancestor)),lz=(0,aD.createContext)(null),lV=e=>{var{decorations:t,node:n,renderElement:r,renderChunk:i,renderPlaceholder:a,renderText:o,renderLeaf:l}=e,s=o6();ol.set(s,!1);var c=!rQ.isEditor(n)&&rW.isElement(n)&&!s.isInline(n)&&rQ.hasInlines(s,n)?null:s.getChunkSize(n),u=!!c,{decorationsByChild:d,childrenToRedecorate:p}=lU(s,n,t);u||n.children.forEach((e,t)=>{os.set(e,t),oc.set(e,n)});var f=(0,aD.useCallback)((e,t,n)=>{var c=null!=n?n:oA.findKey(s,e);return aD.default.createElement(lz.Provider,{key:"provider-".concat(c.id),value:e},aD.default.createElement(lI,{decorations:d[t],element:e,key:c.id,renderElement:r,renderChunk:i,renderPlaceholder:a,renderLeaf:l,renderText:o}))},[s,d,r,i,a,l,o]);if(!u)return n.children.map((e,t)=>ie.isText(e)?((e,t)=>{var r=oA.findKey(s,e);return aD.default.createElement(lj,{decorations:d[t],key:r.id,isLast:t===n.children.length-1,parent:n,renderPlaceholder:a,renderLeaf:l,renderText:o,text:e})})(e,t):f(e,t));var h=lR(s,n,{reconcile:{chunkSize:c,rerenderChildren:p,onInsert:(e,t)=>{os.set(e,t),oc.set(e,n)},onUpdate:(e,t)=>{os.set(e,t),oc.set(e,n)},onIndexChange:(e,t)=>{os.set(e,t)}}});return aD.default.createElement(lN,{root:h,ancestor:h,renderElement:f,renderChunk:i})},lU=(e,t,n)=>{var r=((e,t,n)=>{var r=Array.from(t.children,()=>[]);if(0===n.length)return r;var i=oA.findPath(e,t),a=i.length,o=rQ.range(e,i),l=Array(t.children.length),s=t=>{var n=l[t];if(n)return n;var r=rQ.range(e,[...i,t]);return l[t]=r,r};for(var c of n){var u=rH.intersection(o,c);if(u)for(var[d,p]=rH.edges(u),f=d.path[a],h=p.path[a],m=f;m<=h;m++){var g=r[m];if(g){var y=s(m),v=rH.intersection(y,c);v&&g.push(oQ(oQ({},c),v))}}}return r})(e,t,n),i=(0,aD.useRef)(r).current,a=[];i.length=r.length;for(var o=0;o<r.length;o++){var l,s=r[o];o2(null!=(l=i[o])?l:null,s)||(i[o]=s,a.push(o))}return{decorationsByChild:i,childrenToRedecorate:a}},lH=(0,aD.createContext)(!1),lq=()=>(0,aD.useContext)(lH),lW=(0,aD.createContext)({}),lY=(e,t)=>e===t;function lK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lY,{deferred:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,aD.useContext)(lW);if(!r)throw Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var{addEventListener:i}=r,a=o6(),[o,l]=lb((0,aD.useCallback)(()=>e(a),[a,e]),t);return ln(()=>{var e=i(l,{deferred:n});return l(),e},[i,l,n]),o}var lG=()=>{var{addEventListener:e}=(0,aD.useContext)(lW),[,t]=(0,aD.useReducer)(e=>e+1,0);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");return ln(()=>e(t),[e]),o6()};new WeakMap;var l$={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class lZ extends aD.Component{observe(){var e,{node:t}=this.props;if(!t.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null==(e=this.mutationObserver)||e.observe(t.current,l$)}componentDidMount(){var e,t,{receivedUserInput:n}=this.props,r=this.context;this.manager=(e=[],{registerMutations:t=>{if(n.current){var i=t.filter(e=>aX(r,e,t));e.push(...i)}},restoreDOM:function(){e.length>0&&(e.reverse().forEach(e=>{"characterData"!==e.type&&(e.removedNodes.forEach(t=>{e.target.insertBefore(t,e.nextSibling)}),e.addedNodes.forEach(t=>{e.target.removeChild(t)}))}),t())},clear:t=()=>{e=[]}}),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,r,i=null==(e=this.mutationObserver)?void 0:e.takeRecords();return null!=i&&i.length&&(null==(r=this.manager)||r.registerMutations(i)),null==(t=this.mutationObserver)||t.disconnect(),null==(n=this.manager)||n.restoreDOM(),null}componentDidUpdate(){var e;null==(e=this.manager)||e.clear(),this.observe()}componentWillUnmount(){var e;null==(e=this.mutationObserver)||e.disconnect()}render(){return this.props.children}constructor(){super(...arguments),o8(this,"context",null),o8(this,"manager",null),o8(this,"mutationObserver",null)}}o8(lZ,"contextType",o4);var lX=a2?lZ:e=>{var{children:t}=e;return aD.default.createElement(aD.default.Fragment,null,t)},lJ=(0,aD.createContext)(!1),lQ=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderChunk","renderLeaf","renderText","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],l1=["text"];function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(t){o8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l5=e=>aD.default.createElement(aD.default.Fragment,null,lV(e)),l7=(0,aD.forwardRef)((e,t)=>{var n=(0,aD.useCallback)(e=>aD.default.createElement(l3,l0({},e)),[]),{autoFocus:r,decorate:i=l8,onDOMBeforeInput:a,placeholder:o,readOnly:l=!1,renderElement:s,renderChunk:c,renderLeaf:u,renderText:d,renderPlaceholder:p=n,scrollSelectionIntoView:f=l4,style:h={},as:m="div",disableDefaultStyles:g=!1}=e,y=o7(e,lQ),v=lG(),[b,x]=(0,aD.useState)(!1),C=(0,aD.useRef)(null),k=(0,aD.useRef)([]),[w,_]=(0,aD.useState)(),j=(0,aD.useRef)(!1),{onUserInput:S,receivedUserInput:E}=function(){var e=o6(),t=(0,aD.useRef)(!1),n=(0,aD.useRef)(0),r=(0,aD.useCallback)(()=>{if(!t.current){t.current=!0;var r=oA.getWindow(e);r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame(()=>{t.current=!1})}},[e]);return(0,aD.useEffect)(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}(),[,T]=(0,aD.useReducer)(e=>e+1,0);oT.set(v,T),oy.set(v,l);var D=(0,aD.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,aD.useEffect)(()=>{C.current&&r&&C.current.focus()},[r]);var I=(0,aD.useRef)(),A=(0,aD.useMemo)(()=>(0,M.default)(()=>{if(ol.get(v))return void A();var e=oA.toDOMNode(v,v).getRootNode();if(!j.current&&a5&&e instanceof ShadowRoot){j.current=!0,(()=>{for(var e,t,n,r=document.activeElement;null!=(e=r)&&e.shadowRoot&&null!=(t=r.shadowRoot)&&t.activeElement;)r=null==(n=r)||null==(n=n.shadowRoot)?void 0:n.activeElement;return r})()?document.execCommand("indent"):iO.deselect(v),j.current=!1;return}var t=I.current;if((a2||!oA.isComposing(v))&&(!D.isUpdatingSelection||null!=t&&t.isFlushing())&&!D.isDraggingInternally){var n=oA.findDocumentOrShadowRoot(v),{activeElement:r}=n,i=oA.toDOMNode(v,v),a=aZ(n);if(r===i?(D.latestElement=r,ov.set(v,!0)):ov.delete(v),!a)return iO.deselect(v);var{anchorNode:o,focusNode:s}=a,c=oA.hasEditableTarget(v,o)||oA.isTargetInsideNonReadonlyVoid(v,o),u=oA.hasTarget(v,s);if(c&&u){var d=oA.toSlateRange(v,a,{exactMatch:!1,suppressThrow:!0});d&&(oA.isComposing(v)||null!=t&&t.hasPendingChanges()||null!=t&&t.isFlushing()?null==t||t.handleUserSelect(d):iO.select(v,d))}!l||c&&u||iO.deselect(v)}},100),[v,l,D]),O=(0,aD.useMemo)(()=>(0,nc.default)(A,0),[A]);I.current=lo({node:C,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:O}),ln(()=>{C.current&&(n=az(C.current))?(ou.set(v,n),od.set(v,C.current),oh.set(v,C.current),of.set(C.current,v)):oh.delete(v);var e,t,n,{selection:r}=v,i=aZ(oA.findDocumentOrShadowRoot(v));if(!(!i||!oA.isFocused(v)||null!=(e=I.current)&&e.hasPendingAction())){var a=e=>{var t="None"!==i.type;if(r||t){var n=i.focusNode;if(a0&&i.rangeCount>1){var a=i.getRangeAt(0),o=i.getRangeAt(i.rangeCount-1);c=a.startContainer===n?o.endContainer:a.startContainer}else c=i.anchorNode;var l=od.get(v),s=!1;if(l.contains(c)&&l.contains(n)&&(s=!0),t&&s&&r&&!e){var c,u,d=oA.toSlateRange(v,i,{exactMatch:!0,suppressThrow:!0});if(d&&rH.equals(d,r)&&(!D.hasMarkPlaceholder||null!=(u=c)&&null!=(u=u.parentElement)&&u.hasAttribute("data-slate-mark-placeholder")))return}if(r&&!oA.hasRange(v,r)){v.selection=oA.toSlateRange(v,i,{exactMatch:!1,suppressThrow:!0});return}D.isUpdatingSelection=!0;var p=null;try{p=r&&oA.toDOMRange(v,r)}catch(e){}return p?(oA.isComposing(v)&&!a2?i.collapseToEnd():rH.isBackward(r)?i.setBaseAndExtent(p.endContainer,p.endOffset,p.startContainer,p.startOffset):i.setBaseAndExtent(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f(v,p)):i.removeAllRanges(),p}};i.rangeCount<=1&&a();var o=(null==(t=I.current)?void 0:t.isFlushing())==="action";if(!a2||!o)return void setTimeout(()=>{D.isUpdatingSelection=!1});var l=null,s=requestAnimationFrame(()=>{if(o){var e=e=>{try{oA.toDOMNode(v,v).focus(),a(e)}catch(e){}};e(),l=setTimeout(()=>{e(!0),D.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(s),l&&clearTimeout(l)}}});var P=(0,aD.useCallback)(e=>{st(v,e);var t=oA.toDOMNode(v,v).getRootNode();if(null!=j&&j.current&&a5&&t instanceof ShadowRoot){var n=e.getTargetRanges()[0],r=new window.Range;r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset);var i=oA.toSlateRange(v,r,{exactMatch:!1,suppressThrow:!1});iO.select(v,i),e.preventDefault(),e.stopImmediatePropagation();return}if(S(),!l&&oA.hasEditableTarget(v,e.target)&&!se(e,a)){if(I.current)return I.current.handleDOMBeforeInput(e);O.flush(),A.flush();var{selection:o}=v,{inputType:s}=e,c=e.dataTransfer||e.data||void 0,u="insertCompositionText"===s||"deleteCompositionText"===s;if(u&&oA.isComposing(v))return;var d=!1;if("insertText"===s&&o&&rH.isCollapsed(o)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==o.anchor.offset&&(d=!0,v.marks&&(d=!1),!ol.get(v))){var{anchor:p}=o,[f,h]=oA.toDOMPoint(v,p),m=null==(b=f.parentElement)?void 0:b.closest("a"),g=oA.getWindow(v);if(d&&m&&oA.hasDOMNode(v,m)){var y,b,C,w,_=null==g?void 0:g.document.createTreeWalker(m,NodeFilter.SHOW_TEXT).lastChild();_===f&&(null==(w=_.textContent)?void 0:w.length)===h&&(d=!1)}if(d&&f.parentElement&&(null==g||null==(C=g.getComputedStyle(f.parentElement))?void 0:C.whiteSpace)==="pre"){var E=rQ.above(v,{at:p.path,match:e=>rW.isElement(e)&&rQ.isBlock(v,e)});E&&rG.string(E[0]).includes("	")&&(d=!1)}}if((!s.startsWith("delete")||s.startsWith("deleteBy"))&&!ol.get(v)){var[T]=e.getTargetRanges();if(T){var D=oA.toSlateRange(v,T,{exactMatch:!1,suppressThrow:!1});if(!o||!rH.equals(o,D)){d=!1;var P=!u&&v.selection&&rQ.rangeRef(v,v.selection);iO.select(v,D),P&&ox.set(v,P)}}}if(u)return;if(d||e.preventDefault(),o&&rH.isExpanded(o)&&s.startsWith("delete")){var M=s.endsWith("Backward")?"backward":"forward";rQ.deleteFragment(v,{direction:M});return}switch(s){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":rQ.deleteFragment(v);break;case"deleteContent":case"deleteContentForward":rQ.deleteForward(v);break;case"deleteContentBackward":rQ.deleteBackward(v);break;case"deleteEntireSoftLine":rQ.deleteBackward(v,{unit:"line"}),rQ.deleteForward(v,{unit:"line"});break;case"deleteHardLineBackward":rQ.deleteBackward(v,{unit:"block"});break;case"deleteSoftLineBackward":rQ.deleteBackward(v,{unit:"line"});break;case"deleteHardLineForward":rQ.deleteForward(v,{unit:"block"});break;case"deleteSoftLineForward":rQ.deleteForward(v,{unit:"line"});break;case"deleteWordBackward":rQ.deleteBackward(v,{unit:"word"});break;case"deleteWordForward":rQ.deleteForward(v,{unit:"word"});break;case"insertLineBreak":rQ.insertSoftBreak(v);break;case"insertParagraph":rQ.insertBreak(v);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===s&&oA.isComposing(v)&&(x(!1),ob.set(v,!1)),(null==c?void 0:c.constructor.name)==="DataTransfer"?oA.insertData(v,c):"string"==typeof c&&(d?k.current.push(()=>rQ.insertText(v,c)):rQ.insertText(v,c))}var F=null==(y=ox.get(v))?void 0:y.unref();ox.delete(v),!F||v.selection&&rH.equals(v.selection,F)||iO.select(v,F)}},[v,A,S,a,l,O]),F=(0,aD.useCallback)(e=>{null==e?(A.cancel(),O.cancel(),od.delete(v),oh.delete(v),C.current&&on&&C.current.removeEventListener("beforeinput",P)):on&&e.addEventListener("beforeinput",P),C.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[A,O,v,P,t]);ln(()=>{var e=oA.getWindow(v),t=e=>{var{target:t}=e,n=t instanceof HTMLElement?t:null,r=null==n?void 0:n.tagName;"INPUT"!==r&&"TEXTAREA"!==r&&O()};e.document.addEventListener("selectionchange",t);var n=()=>{D.isDraggingInternally=!1};return e.document.addEventListener("dragend",n),e.document.addEventListener("drop",n),()=>{e.document.removeEventListener("selectionchange",t),e.document.removeEventListener("dragend",n),e.document.removeEventListener("drop",n)}},[O,D]);var R=i([v,[]]),B=(e=>{var t=(0,aD.useRef)(new Set),n=(0,aD.useRef)(e);ln(()=>{n.current=e,t.current.forEach(e=>e())},[e]);var r=(0,aD.useCallback)(e=>n.current(e),[]),i=(0,aD.useCallback)(e=>(t.current.add(e),()=>{t.current.delete(e)}),[]);return(0,aD.useMemo)(()=>({decorate:r,addEventListener:i}),[r,i])})(i),N=o&&1===v.children.length&&1===Array.from(rG.texts(v)).length&&""===rG.string(v)&&!b,L=(0,aD.useCallback)(e=>{if(e&&N){var t;_(null==(t=e.getBoundingClientRect())?void 0:t.height)}else _(void 0)},[N]);if(N){var z=rQ.start(v,[]);R.push({[oD]:!0,placeholder:o,onPlaceholderResize:L,anchor:z,focus:z})}var{marks:V}=v;if(D.hasMarkPlaceholder=!1,v.selection&&rH.isCollapsed(v.selection)&&V){var{anchor:U}=v.selection,H=rG.leaf(v,U.path),q=o7(H,l1);if(!ie.equals(H,V,{loose:!0})){D.hasMarkPlaceholder=!0;var W=Object.fromEntries(Object.keys(q).map(e=>[e,null]));R.push(l0(l0(l0({[oI]:!0},W),V),{},{anchor:U,focus:U}))}}return(0,aD.useEffect)(()=>{setTimeout(()=>{var{selection:e}=v;if(e){var{anchor:t}=e,n=rG.leaf(v,t.path);if(V&&!ie.equals(n,V,{loose:!0}))return void ow.set(v,V)}ow.delete(v)})}),!function(){var{flushDeferred:e}=(0,aD.useContext)(lW);ln(e)}(),aD.default.createElement(lH.Provider,{value:l},aD.default.createElement(lJ.Provider,{value:b},aD.default.createElement(lx.Provider,{value:B},aD.default.createElement(lX,{node:C,receivedUserInput:E},aD.default.createElement(m,l0(l0({role:l?void 0:"textbox","aria-multiline":!l||void 0},y),{},{spellCheck:(!!on||!ot)&&y.spellCheck,autoCorrect:on||!ot?y.autoCorrect:"false",autoCapitalize:on||!ot?y.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:F,style:l0(l0({},g?{}:l0({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},w?{minHeight:w}:{})),h),onBeforeInput:(0,aD.useCallback)(e=>{if(!on&&!l&&!l6(e,y.onBeforeInput)&&oA.hasSelectableTarget(v,e.target)&&(e.preventDefault(),!oA.isComposing(v))){var t=e.data;rQ.insertText(v,t)}},[y.onBeforeInput,v,l]),onInput:(0,aD.useCallback)(e=>{if(!l6(e,y.onInput)){if(I.current)return void I.current.handleInput();for(var t of k.current)t();k.current=[],oA.isFocused(v)||st(v,e.nativeEvent)}},[y.onInput,v]),onBlur:(0,aD.useCallback)(e=>{if(l||D.isUpdatingSelection||!oA.hasSelectableTarget(v,e.target)||l6(e,y.onBlur))return;var t=oA.findDocumentOrShadowRoot(v);if(D.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(n!==oA.toDOMNode(v,v)&&!(aU(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&aH(n)&&oA.hasDOMNode(v,n)){var r=oA.toSlateNode(v,n);if(rW.isElement(r)&&!v.isVoid(r))return}if(a5){var i=aZ(t);null==i||i.removeAllRanges()}ov.delete(v)}}},[l,D.isUpdatingSelection,D.latestElement,v,y.onBlur]),onClick:(0,aD.useCallback)(e=>{if(oA.hasTarget(v,e.target)&&!l6(e,y.onClick)&&aH(e.target)){var t=oA.toSlateNode(v,e.target),n=oA.findPath(v,t);if(rQ.hasPath(v,n)&&rG.get(v,n)===t){if(3===e.detail&&n.length>=1){var r=n;if(!(rW.isElement(t)&&rQ.isBlock(v,t))){var i,a=rQ.above(v,{match:e=>rW.isElement(e)&&rQ.isBlock(v,e),at:n});r=null!=(i=null==a?void 0:a[1])?i:n.slice(0,1)}var o=rQ.range(v,r);iO.select(v,o);return}if(!l){var s=rQ.start(v,n),c=rQ.end(v,n),u=rQ.void(v,{at:s}),d=rQ.void(v,{at:c});if(u&&d&&rT.equals(u[1],d[1])){var p=rQ.range(v,s);iO.select(v,p)}}}}},[v,y.onClick,l]),onCompositionEnd:(0,aD.useCallback)(e=>{if(oA.hasSelectableTarget(v,e.target)){var t;if(oA.isComposing(v)&&Promise.resolve().then(()=>{x(!1),ob.set(v,!1)}),null==(t=I.current)||t.handleCompositionEnd(e),!l6(e,y.onCompositionEnd)&&!a2&&!a5&&!a6&&!aQ&&!oe&&!a9&&e.data){var n=ow.get(v);ow.delete(v),void 0!==n&&(o_.set(v,v.marks),v.marks=n),rQ.insertText(v,e.data);var r=o_.get(v);o_.delete(v),void 0!==r&&(v.marks=r)}}},[y.onCompositionEnd,v]),onCompositionUpdate:(0,aD.useCallback)(e=>{!oA.hasSelectableTarget(v,e.target)||l6(e,y.onCompositionUpdate)||oA.isComposing(v)||(x(!0),ob.set(v,!0))},[y.onCompositionUpdate,v]),onCompositionStart:(0,aD.useCallback)(e=>{if(oA.hasSelectableTarget(v,e.target)&&(null==(t=I.current)||t.handleCompositionStart(e),!l6(e,y.onCompositionStart)&&!a2)){x(!0);var t,{selection:n}=v;if(n&&rH.isExpanded(n))return void rQ.deleteFragment(v)}},[y.onCompositionStart,v]),onCopy:(0,aD.useCallback)(e=>{!oA.hasSelectableTarget(v,e.target)||l6(e,y.onCopy)||l9(e)||(e.preventDefault(),oA.setFragmentData(v,e.clipboardData,"copy"))},[y.onCopy,v]),onCut:(0,aD.useCallback)(e=>{if(!l&&oA.hasSelectableTarget(v,e.target)&&!l6(e,y.onCut)&&!l9(e)){e.preventDefault(),oA.setFragmentData(v,e.clipboardData,"cut");var{selection:t}=v;if(t)if(rH.isExpanded(t))rQ.deleteFragment(v);else{var n=rG.parent(v,t.anchor.path);rQ.isVoid(v,n)&&iO.delete(v)}}},[l,v,y.onCut]),onDragOver:(0,aD.useCallback)(e=>{if(oA.hasTarget(v,e.target)&&!l6(e,y.onDragOver)){var t=oA.toSlateNode(v,e.target);rW.isElement(t)&&rQ.isVoid(v,t)&&e.preventDefault()}},[y.onDragOver,v]),onDragStart:(0,aD.useCallback)(e=>{if(!l&&oA.hasTarget(v,e.target)&&!l6(e,y.onDragStart)){var t=oA.toSlateNode(v,e.target),n=oA.findPath(v,t);if(rW.isElement(t)&&rQ.isVoid(v,t)||rQ.void(v,{at:n,voids:!0})){var r=rQ.range(v,n);iO.select(v,r)}D.isDraggingInternally=!0,oA.setFragmentData(v,e.dataTransfer,"drag")}},[l,v,y.onDragStart,D]),onDrop:(0,aD.useCallback)(e=>{if(!l&&oA.hasTarget(v,e.target)&&!l6(e,y.onDrop)){e.preventDefault();var t=v.selection,n=oA.findEventRange(v,e),r=e.dataTransfer;iO.select(v,n),D.isDraggingInternally&&t&&!rH.equals(t,n)&&!rQ.void(v,{at:n,voids:!0})&&iO.delete(v,{at:t}),oA.insertData(v,r),oA.isFocused(v)||oA.focus(v)}},[l,v,y.onDrop,D]),onDragEnd:(0,aD.useCallback)(e=>{!l&&D.isDraggingInternally&&y.onDragEnd&&oA.hasTarget(v,e.target)&&y.onDragEnd(e)},[l,D,y,v]),onFocus:(0,aD.useCallback)(e=>{if(!l&&!D.isUpdatingSelection&&oA.hasEditableTarget(v,e.target)&&!l6(e,y.onFocus)){var t=oA.toDOMNode(v,v);if(D.latestElement=oA.findDocumentOrShadowRoot(v).activeElement,a0&&e.target!==t)return void t.focus();ov.set(v,!0)}},[l,D,v,y.onFocus]),onKeyDown:(0,aD.useCallback)(e=>{if(!l&&oA.hasEditableTarget(v,e.target)){null==(t=I.current)||t.handleKeyDown(e);var t,{nativeEvent:n}=e;if(oA.isComposing(v)&&!1===n.isComposing&&(ob.set(v,!1),x(!1)),!(l6(e,y.onKeyDown)||oA.isComposing(v))){var{selection:r}=v,i=v.children[null!==r?r.focus.path[0]:0],a="rtl"===(0,aT.default)(rG.string(i));if(oG.isRedo(n)){e.preventDefault(),"function"==typeof v.redo&&v.redo();return}if(oG.isUndo(n)){e.preventDefault(),"function"==typeof v.undo&&v.undo();return}if(oG.isMoveLineBackward(n)){e.preventDefault(),iO.move(v,{unit:"line",reverse:!0});return}if(oG.isMoveLineForward(n)){e.preventDefault(),iO.move(v,{unit:"line"});return}if(oG.isExtendLineBackward(n)){e.preventDefault(),iO.move(v,{unit:"line",edge:"focus",reverse:!0});return}if(oG.isExtendLineForward(n)){e.preventDefault(),iO.move(v,{unit:"line",edge:"focus"});return}if(oG.isMoveBackward(n)){e.preventDefault(),r&&rH.isCollapsed(r)?iO.move(v,{reverse:!a}):iO.collapse(v,{edge:a?"end":"start"});return}if(oG.isMoveForward(n)){e.preventDefault(),r&&rH.isCollapsed(r)?iO.move(v,{reverse:a}):iO.collapse(v,{edge:a?"start":"end"});return}if(oG.isMoveWordBackward(n)){e.preventDefault(),r&&rH.isExpanded(r)&&iO.collapse(v,{edge:"focus"}),iO.move(v,{unit:"word",reverse:!a});return}if(oG.isMoveWordForward(n)){e.preventDefault(),r&&rH.isExpanded(r)&&iO.collapse(v,{edge:"focus"}),iO.move(v,{unit:"word",reverse:a});return}if(on){if((a3||a5)&&r&&(oG.isDeleteBackward(n)||oG.isDeleteForward(n))&&rH.isCollapsed(r)){var o=rG.parent(v,r.anchor.path);if(rW.isElement(o)&&rQ.isVoid(v,o)&&(rQ.isInline(v,o)||rQ.isBlock(v,o))){e.preventDefault(),rQ.deleteBackward(v,{unit:"block"});return}}}else{if(oG.isBold(n)||oG.isItalic(n)||oG.isTransposeCharacter(n))return void e.preventDefault();if(oG.isSoftBreak(n)){e.preventDefault(),rQ.insertSoftBreak(v);return}if(oG.isSplitBlock(n)){e.preventDefault(),rQ.insertBreak(v);return}if(oG.isDeleteBackward(n)){e.preventDefault(),r&&rH.isExpanded(r)?rQ.deleteFragment(v,{direction:"backward"}):rQ.deleteBackward(v);return}if(oG.isDeleteForward(n)){e.preventDefault(),r&&rH.isExpanded(r)?rQ.deleteFragment(v,{direction:"forward"}):rQ.deleteForward(v);return}if(oG.isDeleteLineBackward(n)){e.preventDefault(),r&&rH.isExpanded(r)?rQ.deleteFragment(v,{direction:"backward"}):rQ.deleteBackward(v,{unit:"line"});return}if(oG.isDeleteLineForward(n)){e.preventDefault(),r&&rH.isExpanded(r)?rQ.deleteFragment(v,{direction:"forward"}):rQ.deleteForward(v,{unit:"line"});return}if(oG.isDeleteWordBackward(n)){e.preventDefault(),r&&rH.isExpanded(r)?rQ.deleteFragment(v,{direction:"backward"}):rQ.deleteBackward(v,{unit:"word"});return}if(oG.isDeleteWordForward(n)){e.preventDefault(),r&&rH.isExpanded(r)?rQ.deleteFragment(v,{direction:"forward"}):rQ.deleteForward(v,{unit:"word"});return}}}}},[l,v,y.onKeyDown]),onPaste:(0,aD.useCallback)(e=>{!l&&oA.hasEditableTarget(v,e.target)&&!l6(e,y.onPaste)&&(!on||(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||a5)&&(e.preventDefault(),oA.insertData(v,e.clipboardData))},[l,v,y.onPaste])}),aD.default.createElement(l5,{decorations:R,node:v,renderElement:s,renderChunk:c,renderPlaceholder:p,renderLeaf:u,renderText:d}))))))}),l3=e=>{var{attributes:t,children:n}=e;return aD.default.createElement("span",l0({},t),n,a2&&aD.default.createElement("br",null))},l8=()=>[],l4=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&rH.isCollapsed(e.selection))){var n=t.startContainer.parentElement,r=t.getBoundingClientRect();if(0===r.width&&0===r.height&&0===r.x&&0===r.y){var i=n.getBoundingClientRect();if(i.width>0||i.height>0)return}n.getBoundingClientRect=t.getBoundingClientRect.bind(t),aR(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},l6=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},l9=e=>aH(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),se=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented},st=(e,t)=>"historyUndo"===t.inputType&&"function"==typeof e.undo?void e.undo():"historyRedo"===t.inputType&&"function"==typeof e.redo?void e.redo():void 0,sn=(0,aD.createContext)(!1),sr=parseInt(aD.default.version.split(".")[0],10),si=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],sa=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:i,onValueChange:a,initialValue:o}=e,l=o7(e,si);aD.default.useState(()=>{if(!rG.isNodeList(o))throw Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(r3.stringify(o)));if(!rQ.isEditor(t))throw Error("[Slate] editor is invalid! You passed: ".concat(r3.stringify(t)));t.children=o,Object.assign(t,l)});var{selectorContext:s,onChange:c}=function(){var e=(0,aD.useRef)(new Set),t=(0,aD.useRef)(new Set),n=(0,aD.useCallback)(()=>{e.current.forEach(e=>e())},[]),r=(0,aD.useCallback)(()=>{t.current.forEach(e=>e()),t.current.clear()},[]),i=(0,aD.useCallback)(function(n){var{deferred:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r?()=>t.current.add(n):n;return e.current.add(i),()=>{e.current.delete(i)}},[]);return{selectorContext:(0,aD.useMemo)(()=>({addEventListener:i,flushDeferred:r}),[i,r]),onChange:n}}(),u=(0,aD.useCallback)(e=>{var n;r&&r(t.children),(null==e||null==(n=e.operation)?void 0:n.type)==="set_selection"?null==i||i(t.selection):null==a||a(t.children),c()},[t,c,r,i,a]);(0,aD.useEffect)(()=>(oC.set(t,u),()=>{oC.set(t,()=>{})}),[t,u]);var[d,p]=(0,aD.useState)(oA.isFocused(t));return(0,aD.useEffect)(()=>{p(oA.isFocused(t))},[t]),ln(()=>{var e=()=>p(oA.isFocused(t));return sr>=17?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})},[]),aD.default.createElement(lW.Provider,{value:s},aD.default.createElement(o4.Provider,{value:t},aD.default.createElement(sn.Provider,{value:d},n)))},so=()=>{var e=(0,aD.useContext)(lz);return!!e&&lK((0,aD.useCallback)(t=>{if(!t.selection)return!1;var n=oA.findPath(t,e),r=rQ.range(t,n);return!!rH.intersection(r,t.selection)},[e]),void 0,{deferred:!0})},sl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",n=e,{onChange:r,apply:i,insertText:a}=n=oU(n,t);return n.getChunkSize=()=>null,a2&&(n.insertText=(e,t)=>(oE.delete(n),a(e,t))),n.onChange=e=>{(sr<18?o5.default.unstable_batchedUpdates:e=>e())(()=>{r(e)})},n.apply=e=>{if("move_node"===e.type){var t=rG.parent(n,e.path);if(n.getChunkSize(t)){var r=rG.get(n,e.path),a=lR(n,t),o=oA.findKey(n,r);a.movedNodeKeys.add(o)}}i(e)},n};function ss(e){var t;return!!(t=e)&&("object"==typeof t||"function"==typeof t)&&"string"==typeof e._type}function sc(e,t){return!(!ss(t)||t._type!==e.schema.block.name||!Array.isArray(t.children))}function su(e,t){return!(!ss(t)||t._type!==e.schema.span.name||"string"!=typeof t.text)}var sd=e.i(702025);function sp(e){return"object"==typeof e&&null!==e&&"_key"in e}function sf(e){let t=e.path.at(0);if(sp(t))return t._key}function sh(e){let t=e.path.at(2);if(sp(t))return t._key}function sm(e){let{context:t,blockOffset:n,direction:r}=e,i=n.offset,a,o=!1;for(let e of t.value)if(e._key===n.path[0]._key&&sc(t,e))for(let l of e.children){if("forward"===r){if(!su(t,l))continue;if(i<=l.text.length){a={path:[...n.path,"children",{_key:l._key}],offset:i};break}i-=l.text.length;continue}if(!su(t,l)){o=!0;continue}if(0===i&&a&&!o){o&&(a={path:[...n.path,"children",{_key:l._key}],offset:0});break}if(i>l.text.length){i-=l.text.length;continue}if(i<=l.text.length&&(a={path:[...n.path,"children",{_key:l._key}],offset:i},0!=(i-=l.text.length)))break}return a}function sg(e){let{context:t,selectionPoint:n}=e,r=0,i=sf(n),a=sh(n);if(!(!i||!a)){for(let e of t.value)if(e._key===i&&sc(t,e)){for(let i of e.children)if(su(t,i)){if(i._key===a)return{path:[{_key:e._key}],offset:r+n.offset};r+=i.text.length}}}}function sy(e){let{context:t,block:n}=e;return sc(t,n.node)?{path:[...n.path,"children",{_key:n.node.children[0]._key}],offset:0}:{path:n.path,offset:0}}function sv(e){return e?e.backward?e.anchor:e.focus:null}function sb(e){return e?e.backward?e.focus:e.anchor:null}function sx(e){return e.children.map(e=>{var t;return null!=(t=e.text)?t:""}).join("")}function sC(e){var t;return!!(t=e)&&("object"==typeof t||"function"==typeof t)&&"string"==typeof e._type}function sk(e){var t;let{context:n,block:r,options:i}=e;return null!=(t=function(e){var t,n;let{block:r,context:i,options:a}=e;if(!sC(r))return;let o={};for(let e of Object.keys(r))"_type"===e||"_key"===e||"children"===e||"markDefs"===e||"style"===e||"listItem"===e||"level"===e||(a.validateFields?(null==(t=i.schema.block.fields)?void 0:t.some(t=>t.name===e))&&(o[e]=r[e]):o[e]=r[e]);if(r._type!==i.schema.block.name)return;let l="string"==typeof r._key?r._key:i.keyGenerator(),s=Array.isArray(r.markDefs)?r.markDefs:[],c=new Map,u=s.flatMap(e=>{if(!sC(e))return[];let t=i.schema.annotations.find(t=>{let{name:n}=t;return n===e._type});if(!t||"string"!=typeof e._key)return[];let n=s_({object:e,context:{schemaType:t,keyGenerator:i.keyGenerator},options:a});return c.set(e._key,n._key),[n]}),d=(Array.isArray(r.children)?r.children:[]).map(e=>{var t;return null!=(t=function(e){let{span:t,context:n,markDefKeyMap:r,options:i}=e;if(!sC(t))return;let a={};for(let e of Object.keys(t))"_type"!==e&&"_key"!==e&&"text"!==e&&"marks"!==e&&(a[e]=t[e]);if(t._type!==n.schema.span.name||"span"!==t._type)return;let o=(Array.isArray(t.marks)?t.marks:[]).flatMap(e=>{if("string"!=typeof e)return[];let t=r.get(e);return void 0!==t?[t]:n.schema.decorators.some(t=>t.name===e)?[e]:[]});return{_type:"span",_key:"string"==typeof t._key?t._key:n.keyGenerator(),text:"string"==typeof t.text?t.text:"",marks:o,...i.validateFields?{}:a}}({span:e,context:i,markDefKeyMap:c,options:a}))?t:function(e){let{inlineObject:t,context:n,options:r}=e;if(!sC(t))return;let i=n.schema.inlineObjects.find(e=>{let{name:n}=e;return n===t._type});if(i)return s_({object:t,context:{keyGenerator:n.keyGenerator,schemaType:i},options:r})}({inlineObject:e,context:i,options:a})}).filter(e=>void 0!==e),p=d.flatMap(e=>{var t;return null!=(t=e.marks)?t:[]}),f={_type:i.schema.block.name,_key:l,children:d.length>0?d:[{_key:i.keyGenerator(),_type:i.schema.span.name,text:"",marks:[]}],markDefs:u.filter(e=>p.includes(e._key)),...o};if("string"==typeof r.style&&i.schema.styles.find(e=>e.name===r.style))f.style=r.style;else{let e=null==(n=i.schema.styles.at(0))?void 0:n.name;void 0!==e?f.style=e:console.error("Expected default style")}return"string"==typeof r.listItem&&i.schema.lists.find(e=>e.name===r.listItem)&&(f.listItem=r.listItem),"number"==typeof r.level&&(f.level=r.level),f}({block:r,context:n,options:i}))?t:function(e){let{blockObject:t,context:n,options:r}=e;if(!sC(t))return;let i=n.schema.blockObjects.find(e=>{let{name:n}=e;return n===t._type});if(i)return s_({object:t,context:{keyGenerator:n.keyGenerator,schemaType:i},options:r})}({blockObject:r,context:n,options:i})}function sw(e,t){return sc(e,t)&&void 0!==t.level&&void 0!==t.listItem}function s_(e){let{object:t,context:n,options:r}=e,{_type:i,_key:a,...o}=t,l=r.validateFields?n.schemaType.fields.reduce((e,n)=>{let r=t[n.name];return void 0!==r&&(e[n.name]=r),e},{}):o;return{_type:n.schemaType.name,_key:"string"==typeof t._key?t._key:n.keyGenerator(),...l}}let sj=()=>(function(e){let t=sS();return(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=new Uint8Array(e);return(0,sd.default)(t),t})(e).reduce((e,n)=>e+t[n],"").slice(0,e)})(12),sS=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function sE(e){let t,n,{context:r,blocks:i}=e,a=[];if(!r.selection)return a;let o=[],l=sb(r.selection),s=sv(r.selection),c=sf(l),u=sh(l),d=sf(s),p=sh(s);if(!c||!d)return a;for(let e of i){var f;if(!sc(r,e)&&e._key===c&&e._key===d){t=e;break}if(e._key===c){if(!sc(r,e)){t=e;continue}if(u){for(let n of e.children){if(n._key===u){if(su(r,n)){let r=n._key===p?n.text.slice(l.offset,s.offset):n.text.slice(l.offset);t={...e,children:[{...n,text:r}]}}else t={...e,children:[n]};if(u===p)break;continue}if(t&&sc(r,t)&&(p&&n._key===p&&su(r,n)?t.children.push({...n,text:n.text.slice(0,s.offset)}):t.children.push(n),e._key===d&&p&&n._key===p))break}if(c===d)break;continue}if(t=e,c===d)break}if(e._key===d){if(!sc(r,e)){n=e;break}if(p){for(let t of(n={...e,children:[]},e.children))if(n&&sc(r,n)){if(t._key===p&&su(r,t)){n.children.push({...t,text:t.text.slice(0,s.offset)});break}if(n.children.push(t),p&&t._key===p)break}break}n=e;break}t&&o.push(null!=(f=sk({context:{...r,keyGenerator:sj},block:e,options:{validateFields:!1}}))?f:e)}let h=t?sk({context:{...r,keyGenerator:sj},block:t,options:{validateFields:!1}}):void 0,m=n?sk({context:{...r,keyGenerator:sj},block:n,options:{validateFields:!1}}):void 0;return[...h?[h]:[],...o,...m?[m]:[]]}function sT(e){let{context:t,block:n}=e;if(sc(t,n.node)){let e=n.node.children[n.node.children.length-1];if(e)return{path:[...n.path,"children",{_key:e._key}],offset:su(t,e)?e.text.length:0}}return{path:n.path,offset:0}}function sD(e,t){if(!sc(e,t))return!1;let n=t.children.every(t=>su(e,t)),r=sx(t);return n&&""===r}function sI(e,t){return e.offset===t.offset&&JSON.stringify(e.path)===JSON.stringify(t.path)}function sA(e){return!!e&&JSON.stringify(e.anchor.path)===JSON.stringify(e.focus.path)&&e.anchor.offset===e.focus.offset}let sO=e=>{if(!e.context.selection)return;let t=sf(e.context.selection.focus),n=t?e.blockIndexMap.get(t):void 0,r=void 0!==n?e.context.value.at(n):void 0;return r&&t?{node:r,path:[{_key:t}]}:void 0},sP=e=>{let t=sO(e);return t&&sc(e.context,t.node)?{node:t.node,path:t.path}:void 0},sM=e=>{if(!e.context.selection)return;let t=sP(e);if(!t)return;let n=sh(e.context.selection.focus),r=n?t.node.children.find(e=>e._key===n):void 0;return r&&n?{node:r,path:[...t.path,"children",{_key:n}]}:void 0},sF=e=>{let t=sM(e);return t&&su(e.context,t.node)?{node:t.node,path:t.path}:void 0},sR=e=>{if(e.context.selection)return e.context.selection.backward?e.context.selection.focus:e.context.selection.anchor},sB=e=>{let t,n=sP(e),r=sR(e),i=r&&(0,W.isKeySegment)(r.path[2])?r.path[2]._key:void 0;if(n&&i){for(let r of n.node.children){if(r._key===i)break;su(e.context,r)||(t={node:r,path:[...n.path,"children",{_key:r._key}]})}return t}},sN=e=>{let t=e.context.selection;if(!t)return[];let n=sb(t),r=sv(t),i=sf(n),a=sf(r);if(!i||!a)return[];let o=e.blockIndexMap.get(i),l=e.blockIndexMap.get(a);if(void 0===o||void 0===l)return[];let s=e.context.value.at(o),c=s?sE({context:e.context,blocks:[s]}).at(0):void 0;if(o===l)return c?[c]:[];let u=e.context.value.at(l),d=u?sE({context:e.context,blocks:[u]}).at(0):void 0;return[...c?[c]:[],...e.context.value.slice(o+1,l),...d?[d]:[]]},sL=e=>sN(e).reduce((t,n)=>sc(e.context,n)?t+n.children.reduce((t,n)=>su(e.context,n)?t+n.text:t,""):t,""),sz=e=>{var t,n;return!!e.context.selection&&JSON.stringify(e.context.selection.anchor.path)===JSON.stringify(e.context.selection.focus.path)&&(null==(t=e.context.selection)?void 0:t.anchor.offset)===(null==(n=e.context.selection)?void 0:n.focus.offset)},sV=e=>!sz(e),sU=e=>{let t=sv(e.context.selection);if(t)return sO({...e,context:{...e.context,selection:{anchor:t,focus:t}}})},sH=e=>{if(e.context.selection)return e.context.selection.backward?e.context.selection.anchor:e.context.selection.focus},sq=e=>{let t=sb(e.context.selection);if(t)return sO({...e,context:{...e.context,selection:{anchor:t,focus:t}}})},sW=e=>{if(!e.context.selection)return[];let t=[],n=sR(e),r=sH(e);if(!n||!r)return t;let i=sf(n),a=sf(r),o=sh(n),l=sh(r);if(!i||!a)return t;let s=e.blockIndexMap.get(i),c=e.blockIndexMap.get(a);if(void 0===s||void 0===c)return t;let u=e.context.value.slice(s,c+1),d=!1;for(let s of u)if(s._key===i&&(d=!0),sc(e.context,s)){if(s._key===i){for(let i of s.children)if(su(e.context,i)){if(o&&i._key===o){if(n.offset<i.text.length&&t.push({node:i,path:[{_key:s._key},"children",{_key:i._key}]}),o===l)break;continue}if(l&&i._key===l){r.offset>0&&t.push({node:i,path:[{_key:s._key},"children",{_key:i._key}]});break}t.length>0&&t.push({node:i,path:[{_key:s._key},"children",{_key:i._key}]})}if(i===a)break;continue}if(s._key===a){for(let n of s.children)if(su(e.context,n)){if(l&&n._key===l){r.offset>0&&t.push({node:n,path:[{_key:s._key},"children",{_key:n._key}]});break}t.push({node:n,path:[{_key:s._key},"children",{_key:n._key}]})}break}if(d)for(let n of s.children)su(e.context,n)&&t.push({node:n,path:[{_key:s._key},"children",{_key:n._key}]})}return t},sY=e=>{var t,n,r,i,a,o,l,s,c,u,d,p,f,h,m;if(!e.context.selection)return;let g=sP(e),y=sF(e);if(!g||!y)return;if(function(e){return!!e&&!sA(e)}(e.context.selection)){let t=sW(e),n=0,r=[];for(let e of t){if(0===n)r=null!=(l=e.node.marks)?l:[];else{if((null==(s=e.node.marks)?void 0:s.length)===0){r=[];continue}r=r.filter(t=>{var n;return(null!=(n=e.node.marks)?n:[]).some(e=>e===t)})}n++}return{state:"unchanged",marks:r}}let v=e.context.schema.decorators.map(e=>e.name),b=null!=(c=y.node.marks)?c:[],x=b.filter(e=>v.includes(e)),C=b.length>x.length,k=0===y.node.text.length,w=0===e.context.selection.anchor.offset,_=e.context.selection.anchor.offset===y.node.text.length,j=(e=>{let t,n=sq(e),r=sR(e);if(!n||!r||!sc(e.context,n.node))return;let i=sh(r);for(let r of n.node.children){if(r._key===i)break;su(e.context,r)&&(t={node:r,path:[...n.path,"children",{_key:r._key}]})}return t})(e),S=(e=>{let t=sU(e),n=sH(e);if(!t||!n||!sc(e.context,t.node))return;let r=sh(n),i=!1,a;for(let n of t.node.children){if(n._key===r){i=!0;continue}if(su(e.context,n)&&i){a={node:n,path:[...t.path,"children",{_key:n._key}]};break}}return a})(e),E=null!=(u=null==S||null==(n=S.node)||null==(t=n.marks)?void 0:t.filter(e=>!v.includes(e)))?u:[],T=b.filter(e=>!v.includes(e)),D=!!j&&(null==(r=j.node.marks)?void 0:r.some(e=>!v.includes(e))),I=!!j&&(null==(i=j.node.marks)?void 0:i.filter(e=>!v.includes(e)).every(e=>b.includes(e))),A=!!j&&(null==(a=j.node.marks)?void 0:a.some(e=>!v.includes(e)&&b.includes(e))),O=!!j&&(null==(o=j.node.marks)?void 0:o.every(e=>b.includes(e))),P=T.some(e=>null==E?void 0:E.includes(e));if(C&&!k){if(w){if(O)return{state:"changed",previousMarks:b,marks:null!=(d=null==j?void 0:j.node.marks)?d:[]};if(I)return{state:"changed",previousMarks:b,marks:null!=(p=null==j?void 0:j.node.marks)?p:[]};if(A)return{state:"unchanged",previousMarks:b,marks:null!=(f=y.node.marks)?f:[]};if(!j)return{state:"changed",previousMarks:b,marks:[]}}if(_){if(S&&P&&E.length<T.length||!P)return{state:"changed",previousMarks:b,marks:null!=(h=null==S?void 0:S.node.marks)?h:[]};if(!S)return{state:"changed",previousMarks:b,marks:[]}}}return w&&!k&&j?D?{state:"changed",previousMarks:b,marks:[]}:{state:"changed",previousMarks:b,marks:(null!=(m=null==j?void 0:j.node.marks)?m:[]).filter(e=>v.includes(e))}:{state:"unchanged",marks:b}},sK=e=>{if(!e.context.selection)return[];let t=[],n=sb(e.context.selection),r=sv(e.context.selection),i=sf(n),a=sf(r);if(!i||!a)return t;let o=e.blockIndexMap.get(i),l=e.blockIndexMap.get(a);if(void 0===o||void 0===l)return t;for(let n of e.context.value.slice(o,l+1)){if(n._key===i){if(t.push({node:n,path:[{_key:n._key}]}),i===a)break;continue}if(n._key===a){t.push({node:n,path:[{_key:n._key}]});break}t.length>0&&t.push({node:n,path:[{_key:n._key}]})}return t},sG=e=>{let t=sO(e);return t&&!sc(e.context,t.node)?{node:t.node,path:t.path}:void 0},s$=e=>{let t=sM(e);return t&&!(0,W.isPortableTextSpan)(t.node)?{node:t.node,path:t.path}:void 0},sZ=e=>{let t=sP(e);return t&&sw(e.context,t.node)?{node:t.node,path:t.path}:void 0},sX=e=>{let t=sU(e);if(!t)return;let n=e.blockIndexMap.get(t.node._key);if(void 0===n||n===e.context.value.length-1)return;let r=e.context.value.at(n+1);return r?{node:r,path:[{_key:r._key}]}:void 0},sJ=e=>{let t=sq(e);if(!t)return;let n=e.blockIndexMap.get(t.node._key);if(void 0===n||0===n)return;let r=e.context.value.at(n-1);return r?{node:r,path:[{_key:r._key}]}:void 0},sQ=e=>{if(!e.context.selection)return[];let t=[],n=sb(e.context.selection),r=sv(e.context.selection),i=sf(n),a=sf(r);if(!i||!a)return t;let o=e.blockIndexMap.get(i),l=e.blockIndexMap.get(a);if(void 0===o||void 0===l)return t;for(let n of e.context.value.slice(o,l+1)){if(n._key===i){if(sc(e.context,n)&&t.push({node:n,path:[{_key:n._key}]}),i===a)break;continue}if(n._key===a){sc(e.context,n)&&t.push({node:n,path:[{_key:n._key}]});break}t.length>0&&sc(e.context,n)&&t.push({node:n,path:[{_key:n._key}]})}return t},s1=e=>{if(!e.context.selection)return e.context.selection;let t=sb(e.context.selection),n=sv(e.context.selection),r=sf(t),i=sh(t),a=sf(n),o=sh(n);if(!r||!a)return e.context.selection;let l=e.blockIndexMap.get(r),s=e.blockIndexMap.get(a);if(void 0===l||void 0===s)return e.context.selection;let c=e.context.value.slice(l,s+1),u=!1,d,p=!1,f,h=!1,m;for(let l of c)if(!(l._key===r&&(u=!0,sc(e.context,l)&&sD(e.context,l)))&&u&&sc(e.context,l)){if(l._key===a&&sD(e.context,l))break;for(let r of l.children){if(r._key===o&&(!su(e.context,r)||0===n.offset)){f=m?{path:[{_key:m.blockKey},"children",{_key:m.span._key}],offset:m.span.text.length}:void 0,h=!0;break}if(p){let t=su(e.context,r)&&1===l.children.length;(su(e.context,r)&&r.text.length>0||t)&&(d={path:[{_key:l._key},"children",{_key:r._key}],offset:0},m={blockKey:l._key,span:r},p=!1);continue}if(r._key===i){if(!su(e.context,r)){p=!0;continue}if(t.offset===r.text.length){p=!0,m=r.text.length>0?{blockKey:l._key,span:r}:m;continue}}m=su(e.context,r)&&r.text.length>0?{blockKey:l._key,span:r}:m}if(l._key===a)break}let g=e.context.selection.backward?{anchor:h&&f?f:n,focus:null!=d?d:t,backward:!0}:{anchor:null!=d?d:t,focus:h&&f?f:n};if(sz({context:{...e.context,selection:g}})){let t=sP({...e,context:{...e.context,selection:g}});if(t&&!sD(e.context,t.node))return null}return g};function s2(e){var t,n;let r=e.context.schema;return(null!=(n=null==(t=sY(e))?void 0:t.marks)?n:[]).filter(e=>!r.decorators.map(e=>e.name).includes(e))}function s0(e,t){return n=>{var r;if((null!=(r=null==t?void 0:t.mode)?r:"full")==="partial")return sN(n).flatMap(e=>{var t;return sc(n.context,e)&&null!=(t=e.markDefs)?t:[]}).some(t=>t._type===e);let i=sK(n).flatMap(e=>{var t;return sc(n.context,e.node)&&null!=(t=e.node.markDefs)?t:[]}),a=s2(n);return i.filter(t=>t._type===e&&a.includes(t._key)).length>0}}function s5(e){var t;let n=e.context.schema,r=e.decoratorState,i=sY(e),a=n.decorators.map(e=>e.name),o=(null!=(t=null==i?void 0:i.marks)?t:[]).filter(e=>a.includes(e));for(let e in r)!1===r[e]?o=o.filter(t=>t!==e):!0===r[e]&&(o.includes(e)||o.push(e));return o}function s7(e){return t=>{if(sV(t)){let n=sW(t);return n.length>0&&n.every(t=>{var n;return null==(n=t.node.marks)?void 0:n.includes(e)})}return s5(t).includes(e)}}function s3(e){return t=>(e=>{if(!e.context.selection)return;let t=sK(e).map(e=>e.node).filter(t=>sc(e.context,t)),n=t.at(0);if(!n)return;let r=n.listItem;if(r&&t.every(e=>e.listItem===r))return r})(t)===e}function s8(e){return t=>(e=>{if(!e.context.selection)return;let t=sK(e).map(e=>e.node).filter(t=>sc(e.context,t)),n=t.at(0);if(!n)return;let r=n.style;if(r&&t.every(e=>e.style===r))return r})(t)===e}function s4(e){return t=>{if(!t.context.selection||!sz(t))return!1;let n=sT({context:t.context,block:e});return sI(t.context.selection.focus,n)}}function s6(e){return t=>{if(!t.context.selection||!sz(t))return!1;let n=sy({context:t.context,block:e});return sI(t.context.selection.focus,n)}}function s9(e){return t=>{if(!t.context.selection)return!1;let n=sv(t.context.selection),r=sf(n),i=sh(n),a=sf(e),o=sh(e);if(!a||!r)return!1;let l=t.blockIndexMap.get(a),s=t.blockIndexMap.get(r);if(void 0===l||void 0===s)return!1;if(l>s)return!0;if(l<s)return!1;let c=t.context.value.at(l);if(!c||!sc(t.context,c))return!1;let u,d,p=-1;for(let t of c.children){if(p++,t._key===o&&t._key===i)return e.offset>n.offset;if(t._key===o&&(u=p),t._key===i&&(d=p),void 0!==u&&void 0!==d)break}return void 0!==u&&void 0!==d&&u>d}}function ce(e){return t=>{if(!t.context.selection)return!1;let n=sb(t.context.selection),r=sf(n),i=sh(n),a=sf(e),o=sh(e);if(!a||!r)return!1;let l=t.blockIndexMap.get(r),s=t.blockIndexMap.get(a);if(void 0===l||void 0===s)return!1;if(s<l)return!0;if(s>l)return!1;let c=t.context.value.at(s);if(!c||!sc(t.context,c))return!1;let u,d,p=-1;for(let t of c.children){if(p++,t._key===o&&t._key===i)return e.offset<n.offset;if(t._key===o&&(u=p),t._key===i&&(d=p),void 0!==u&&void 0!==d)break}return void 0!==u&&void 0!==d&&u<d}}function ct(e){return t=>{if(!e||!t.context.selection)return!1;let n=sR({context:{...t.context,selection:e}}),r=sH({context:{...t.context,selection:e}}),i=sR(t),a=sH(t);if(!n||!r||!i||!a)return!1;let o=sI(n,i),l=sI(r,a);if(o&&l)return!0;let s=ce(n)(t),c=s9(n)(t),u=ce(r)(t),d=s9(r)(t),p=ce(i)({...t,context:{...t.context,selection:{anchor:n,focus:n}}}),f=s9(i)({...t,context:{...t.context,selection:{anchor:n,focus:n}}}),h=ce(a)({...t,context:{...t.context,selection:{anchor:r,focus:r}}}),m=s9(a)({...t,context:{...t.context,selection:{anchor:r,focus:r}}}),g=sI(n,a),y=sI(r,i);return(!!y||!!g||!!p||!!f||!!h||!!m)&&(!u||!!y)&&(!c||!!g)&&(!p&&f&&!h&&m?!y:p&&!f&&h&&!m?!g:!c||!s||!d||!u)}}let cn=e=>{if(!e.context.selection)return!1;let t=e.context.selection.backward?e.context.selection.focus:e.context.selection.anchor,n=e.context.selection.backward?e.context.selection.anchor:e.context.selection.focus,r=sq(e),i=sU(e);if(!r||!i)return!1;let a=sy({context:e.context,block:r}),o=sT({context:e.context,block:i});return sI(a,t)&&sI(o,n)};function cr(e){return{type:"execute",event:e}}function ci(e){return{type:"forward",event:e}}function ca(e){return{type:"raise",event:e}}function co(e){return{type:"effect",effect:e}}var cl=e.i(509820),cs=e.i(807574),cc=e.i(968207),cu=e.i(697165),cu=cu,cd=e.i(264450),cp=e.i(890965),cf=e.i(129337),ch=cu,cm=e.i(109658);let cg=nh.Schema;var cy=e.i(120043);function cv(e){var t,n,r;if(!e)throw Error("Parameter 'portabletextType' missing (required)");let i=null==(t=e.of)?void 0:t.find(function e(t){return t.type?e(t.type):"block"===t.name?t:null});if(!i)throw Error("Block type is not defined in this schema (required)");let a=null==(n=i.fields)?void 0:n.find(e=>"children"===e.name);if(!a)throw Error("Children field for block type found in schema (required)");let o=a.type.of;if(!o)throw Error("Valid types for block children not found in schema (required)");let l=o.find(e=>"span"===e.name);if(!l)throw Error("Span type not found in schema (required)");let s=o.filter(e=>"span"!==e.name)||[],c=(null==(r=e.of)?void 0:r.filter(e=>e.name!==i.name))||[];return{styles:function(e){var t,n,r;let i=null==(t=e.fields)?void 0:t.find(e=>"style"===e.name);if(!i)throw Error("A field with name 'style' is not defined in the block type (required).");let a=(null==(n=i.type.options)?void 0:n.list)&&(null==(r=i.type.options.list)?void 0:r.filter(e=>e.value));if(!a||0===a.length)throw Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return a}(i),decorators:l.decorators,lists:function(e){var t,n;let r=null==(t=e.fields)?void 0:t.find(e=>"listItem"===e.name);if(!r)throw Error("A field with name 'listItem' is not defined in the block type (required).");let i=(null==(n=r.type.options)?void 0:n.list)&&r.type.options.list.filter(e=>e.value);if(!i)throw Error("The list field need at least to be an empty array");return i}(i),block:i,span:l,portableText:e,inlineObjects:s,blockObjects:c,annotations:l.annotations}}function cb(e){return{annotations:e.annotations.map(e=>({name:e.name,fields:e.fields.map(e=>({name:e.name,type:e.type.jsonType,title:e.type.title})),title:e.title})),block:{name:e.block.name},blockObjects:e.blockObjects.map(e=>({name:e.name,fields:e.fields.map(e=>({name:e.name,type:e.type.jsonType,title:e.type.title})),title:e.title})),decorators:e.decorators.map(e=>({name:e.value,title:e.title,value:e.value})),inlineObjects:e.inlineObjects.map(e=>({name:e.name,fields:e.fields.map(e=>({name:e.name,type:e.type.jsonType,title:e.type.title})),title:e.title})),span:{name:e.span.name},styles:e.styles.map(e=>({name:e.value,title:e.title,value:e.value})),lists:e.lists.map(e=>({name:e.value,title:e.title,value:e.value}))}}let cx=()=>(function(e){let t=cC();return(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=new Uint8Array(e);return(0,sd.default)(t),t})(e).reduce((e,n)=>e+t[n],"").slice(0,e)})(12),cC=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})(),ck="tmp-".concat(cx(),"-image"),cw="tmp-".concat(cx(),"-url"),c_="tmp-".concat(cx(),"-image"),cj="tmp-".concat(cx(),"-url"),cS={image:ck,url:cw},cE={image:c_,url:cj},cT={[ck]:"image",[cw]:"url"},cD={[c_]:"image",[cj]:"url"},cI={image:"Image",url:"URL"},cA=Object.prototype.toString;function cO(e){switch(cA.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===e?"null":void 0===e?"undefined":e&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}var cP={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},cM={0:8203,1:8204,2:8205,3:65279};[,,,,].fill(String.fromCodePoint(cM[0])).join(""),Object.fromEntries(Object.entries(cM).map(e=>e.reverse())),Object.fromEntries(Object.entries(cP).map(e=>e.reverse()));var cF="".concat(Object.values(cP).map(e=>"\\u{".concat(e.toString(16),"}")).join("")),cR=RegExp("[".concat(cF,"]{4,}"),"gu");let cB=["pre","textarea","code"],cN="normal",cL=Object.freeze({_type:"block",markDefs:[],style:cN}),cz=Object.freeze({_type:"span",marks:[]}),cV={p:cL,blockquote:{...cL,style:"blockquote"}},cU={span:{object:"text"}},cH={ol:{object:null},ul:{object:null}},cq={h1:{...cL,style:"h1"},h2:{...cL,style:"h2"},h3:{...cL,style:"h3"},h4:{...cL,style:"h4"},h5:{...cL,style:"h5"},h6:{...cL,style:"h6"}},cW={br:{...cL,style:cN}},cY={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},cK={li:{...cL,style:cN,level:1,listItem:"bullet"}},cG={...cV,...cU,...cH,...cK,...cq,...cW};(0,nC.default)(Object.values(cG).filter(e=>"style"in e).map(e=>e.style)),(0,nC.default)(Object.values(cY));let c$={BOOLEAN_TYPE:3,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6},cZ=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"],cX=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,cJ=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],cQ=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],c1={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};var c2=[(e,t)=>((function e(t){var n,r;if(t.nodeType!==c$.BOOLEAN_TYPE||cB.includes((null==(n=t.parentElement)?void 0:n.tagName.toLowerCase())||""))for(let n=0;n<t.childNodes.length;n++)e(t.childNodes[n]);else t.textContent=(null==(r=t.textContent)?void 0:r.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||""})(t.body),t),(e,t)=>{if(e.match(/<!-- notionvc:.*?-->/g)){var n;let e=t.evaluate("//*",t,null,c$.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let t=e.snapshotLength-1;t>=0;t--)null==(n=e.snapshotItem(t))||n.setAttribute("data-is-notion","true")}return t},(e,t)=>{var n;if(!cX.test(e))return t;let r=t.evaluate(cJ.join("|"),t,e=>"o"===e?"urn:schemas-microsoft-com:office:office":null,c$.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=r.snapshotLength-1;e>=0;e--){let t=r.snapshotItem(e);(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)}let i=t.evaluate(cQ.join("|"),t,null,c$.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=i.snapshotLength-1;e>=0;e--){let r=i.snapshotItem(e),a=c1[r.className],o=t.createTextNode(r.textContent||"");if(!a)continue;let l=t.createElement(a[0]),s=l,c=l;a.slice(1).forEach(e=>{c=t.createElement(e),s.appendChild(c),s=c}),c.appendChild(o),null==r||null==(n=r.parentNode)||n.replaceChild(l,r)}return t},(e,t,n)=>{let r=(null==n?void 0:n.unstable_whitespaceOnPasteMode)||"preserve",i=t.evaluate('//*[@id and contains(@id, "docs-internal-guid")]',t,null,c$.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(i){var a;let e="b"===c0(i);switch(e||(i=t.body),r){case"normalize":!function e(t){let n=0,r=null,i=[];for(let a=t.firstChild;a;a=a.nextSibling){if(!c6(a)){e(a),n=0;continue}let t=a;!function(e){var t;return["p","br"].includes(c0(e)||"")&&!(null==(t=e.textContent)?void 0:t.trim())}(t)?(e(a),n=0):(r&&t.parentElement===r?++n>1&&i.push(t):n=1,r=t.parentElement)}i.forEach(e=>{var t;null==(t=e.parentElement)||t.removeChild(e)})}(i);break;case"remove":!function(e){let t=[];(function e(n){if(c6(n)){var r,i;if("br"===c0(n)&&("p"===c0(n.nextElementSibling)||"p"===c0(n.previousElementSibling))||("p"===c0(n)||"br"===c0(n))&&(null==n||null==(i=n.firstChild)||null==(r=i.textContent)?void 0:r.trim())==="")return void t.push(n);for(let t=n.firstChild;t;t=t.nextSibling)e(t)}})(e),t.forEach(e=>{var t;null==(t=e.parentElement)||t.removeChild(e)})}(i)}let n=t.evaluate("//*",t,null,c$.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let r=n.snapshotLength-1;r>=0;r--){let a=n.snapshotItem(r);null==a||a.setAttribute("data-is-google-docs","true"),(null==a?void 0:a.parentElement)!==i&&(e||a.parentElement!==t.body)||(null==a||a.setAttribute("data-is-root-node","true"),c0(a)),"li"===c0(a)&&a.firstChild&&"img"===c0(null==a?void 0:a.firstChild)&&a.removeChild(a.firstChild)}return e&&(null==(a=t.body.firstElementChild)||a.replaceWith(...Array.from(i.childNodes))),t}return t},(e,t)=>{var n,r,i;let a=t.evaluate("/html/body/text()",t,null,c$.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=a.snapshotLength-1;e>=0;e--){let i=a.snapshotItem(e),o=i.textContent||"";if(o.replace(/[^\S\n]+$/g,"")){let e=t.createElement("span");e.appendChild(t.createTextNode(o)),null==(r=i.parentNode)||r.replaceChild(e,i)}else null==(n=i.parentNode)||n.removeChild(i)}let o=t.evaluate(cZ.join("|"),t,null,c$.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=o.snapshotLength-1;e>=0;e--){let t=o.snapshotItem(e);t&&(null==(i=t.parentNode)||i.removeChild(t))}return t}];function c0(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function c5(e){return[" "," "].includes(e)}function c7(e){return"span"===e._type}function c3(e){return"block"===e._type}function c8(e){return"__decorator"===e._type}function c4(e){return"__annotation"===e._type}function c6(e){return 1===e.nodeType}function c9(){var e;return(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=new Uint8Array(e);return(0,sd.default)(t),t})(e=12).reduce((e,t)=>e+ue[t],"").slice(0,e)}let ue=[];for(let e=0;e<256;++e)ue[e]=(e+256).toString(16).slice(1);let ut=Object.keys(cH);function un(e){return c6(e)&&!!e.getAttribute("data-is-google-docs")}let ur={...cV,...cq},ui={deserialize(e){var t,n;return"#text"===e.nodeName&&(3===(n=e).nodeType&&" "===(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")&&n.nextSibling&&3!==n.nextSibling.nodeType&&n.previousSibling&&3!==n.previousSibling.nodeType||" "!==n.textContent)&&"body"!==c0(n.parentNode)?{...cz,marks:[],text:(null!=(t=e.textContent)?t:"").replace(/\s\s+/g," ")}:void 0}};class ua{constructor(e,t={}){var n,r=this;(0,k._)(this,"keyGenerator",void 0),(0,k._)(this,"schema",void 0),(0,k._)(this,"rules",void 0),(0,k._)(this,"parseHtml",void 0),(0,k._)(this,"_markDefs",[]),(0,k._)(this,"deserialize",e=>{this._markDefs=[];let{parseHtml:t}=this,n=Array.from(t(e).childNodes),r=function(e,t){return t.forEach(t=>{sc({schema:e},t)&&t.children.forEach((e,n)=>{if(!c7(e))return;let r=function(e,t){let n=e.children[t+1];return n&&"span"===n._type?n:null}(t,n),i=function(e,t){let n=e.children[t-1];return n&&"span"===n._type?n:null}(t,n);0===n&&(e.text=e.text.replace(/^[^\S\n]+/g,"")),n===t.children.length-1&&(e.text=e.text.replace(/[^\S\n]+$/g,"")),/\s/.test(e.text.slice(Math.max(0,e.text.length-1)))&&r&&c7(r)&&/\s/.test(r.text.slice(0,1))&&(e.text=e.text.replace(/[^\S\n]+$/g,"")),/\s/.test(e.text.slice(0,1))&&i&&c7(i)&&/\s/.test(i.text.slice(Math.max(0,i.text.length-1)))&&(e.text=e.text.replace(/^[^\S\n]+/g,"")),e.text||t.children.splice(n,1),i&&(0,e4.default)(i.marks,e.marks)&&c5(e.text)?(i.text+=" ",t.children.splice(n,1)):r&&(0,e4.default)(r.marks,e.marks)&&c5(e.text)&&(r.text=" ".concat(r.text),t.children.splice(n,1))})}),t}(this.schema,function e(t,n){return n.flatMap(n=>{var r,i,a,o;if("__block"===(r=n)._type&&(a=i=r.block)&&("object"==typeof a||"function"==typeof a)&&"string"==typeof i._type)return e(t,[n.block]);if(sc(t,n)){let r=n.children.some(e=>t.schema.blockObjects.some(t=>t.name===e._type)),i=n.children.some(e=>"__block"===e._type||"block"===e._type);if(r||i){let r=(o=t,n.children.reduce((e,t)=>{let n=o.schema.inlineObjects.some(e=>e.name===t._type),r=o.schema.blockObjects.some(e=>e.name===t._type),i=e.pop();return su(o,t)||n||!r?"__block"===t._type?[...e,...i?[i]:[],{type:"block object",block:t.block}]:"block"===t._type?[...e,...i?[i]:[],{type:"block",block:t}]:i&&"children"===i.type?[...e,{type:"children",children:[...i.children,t]}]:[...e,...i?[i]:[],{type:"children",children:[t]}]:[...e,...i?[i]:[],{type:"block object",block:t}]},[]));return 1===r.length&&"children"===r[0].type&&(0,e4.default)(r[0].children,n.children)?[n]:r.flatMap(r=>"block object"===r.type?[r.block]:"block"===r.type?e(t,[r.block]):r.children.length>0?r.children.every(e=>su(t,e)&&""===e.text.trim())?[]:e(t,[{...n,children:r.children}]):[])}}return[n]})}({schema:this.schema},function(e,t){return t.reduce((t,n,r,i)=>{if("block"===n._type)return t.push(n),t;if("__block"===n._type)return t.push(n.block),t;let a=t[t.length-1];if(r>0&&!sc({schema:e},i[r-1])&&sc({schema:e},a))return a.children.push(n),t;let o={...cL,children:[n]};return t.push(o),t},[])}(this.schema,this.deserializeElements(n))));return this._markDefs.length>0&&r.filter(e=>sc({schema:this.schema},e)).forEach(e=>{e.markDefs=e.markDefs||[],e.markDefs=e.markDefs.concat(this._markDefs.filter(t=>(0,td.default)(e.children.map(e=>e.marks||[])).includes(t._key)))}),r.map(e=>("block"===e._type&&(e._type=this.schema.block.name),e))}),(0,k._)(this,"deserializeElements",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach(e=>{t=t.concat(r.deserializeElement(e))}),t}),(0,k._)(this,"deserializeElement",e=>{let t,n=e=>"[object NodeList]"===Object.prototype.toString.call(e)?this.deserializeElements(Array.from(e)):Array.isArray(e)?this.deserializeElements(e):e?this.deserializeElement(e):void 0,r=e=>({_type:"__block",block:e});for(let o=0;o<this.rules.length;o++){let l=this.rules[o];if(!l.deserialize)continue;let s=l.deserialize(e,n,r),c=cO(s);if("array"!==c&&"object"!==c&&"null"!==c&&"undefined"!==c)throw Error('A rule returned an invalid deserialized representation: "'.concat(t,'".'));if(void 0!==s){if(null===s)throw Error("Deserializer rule returned `null`");if(t=Array.isArray(s)?s:c8(s)?this.deserializeDecorator(s):c4(s)?this.deserializeAnnotation(s):s,s&&!Array.isArray(s)&&c3(s)&&"listItem"in s){var i,a;let t=null==(i=e.parentNode)?void 0:i.parentNode;for(;t&&"li"===c0(t);)t=null==(a=t.parentNode)?void 0:a.parentNode,s.level=s.level?s.level+1:1}s&&!Array.isArray(s)&&c3(s)&&"blockquote"===s.style&&s.children.forEach((e,t)=>{c7(e)&&"\r"===e.text&&(e.text="\n",(0===t||t===s.children.length-1)&&s.children.splice(t,1))});break}}return t||n(e.childNodes)||[]}),(0,k._)(this,"deserializeDecorator",e=>{let{name:t}=e,n=e=>c8(e)?this.deserializeDecorator(e):(c7(e)?(e.marks=e.marks||[],e.text.trim()&&e.marks.unshift(t)):"children"in e&&Array.isArray(e.children)&&(e.children=e.children.map(n)),e);return e.children.reduce((e,t)=>{let r=n(t);return Array.isArray(r)?e.concat(r):(e.push(r),e)},[])}),(0,k._)(this,"deserializeAnnotation",e=>{let{markDef:t}=e;this._markDefs.push(t);let n=e=>c4(e)?this.deserializeAnnotation(e):(c7(e)?(e.marks=e.marks||[],e.text.trim()&&e.marks.unshift(t._key)):"children"in e&&Array.isArray(e.children)&&(e.children=e.children.map(n)),e);return e.children.reduce((e,t)=>{let r=n(t);return Array.isArray(r)?e.concat(r):(e.push(r),e)},[])});let{rules:i=[],unstable_whitespaceOnPasteMode:a="preserve"}=t,o=function(e,t){return[{deserialize(e,t){var n;if("p"===c0(e)&&c6(n=e)&&n.className&&("MsoListParagraphCxSpFirst"===n.className||"MsoListParagraphCxSpMiddle"===n.className||"MsoListParagraphCxSpLast"===n.className))return{...cL,listItem:function(e){let t=c6(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}(e),level:function(e){let t=c6(e)&&e.getAttribute("style");if(!t)return;let n=t.match(/level\d+/);if(!n)return;let[r]=n[0].match(/\d/)||[];return(r?Number.parseInt(r,10):1)||1}(e),style:cN,children:t(e.childNodes)}}},{deserialize(e){var t;if(c6(e)&&"span"===c0(e)&&c6(t=e)&&t.getAttribute("data-is-notion")){let t={...cz,marks:[],text:e.textContent};return function(e){let t=c6(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")||/font-weight:600/.test(t||"")}(e)&&t.marks.push("strong"),function(e){let t=c6(e)&&e.getAttribute("style");return/text-decoration:underline/.test(t||"")}(e)&&t.marks.push("underline"),function(e){let t=c6(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}(e)&&t.marks.push("em"),t}}},{deserialize(e,t){if(c6(e)&&"span"===c0(e)&&un(e)){if(!e.textContent)return e.previousSibling||e.nextSibling||e.setAttribute("data-lonely-child","true"),t(e.childNodes);let n={...cz,marks:[],text:e.textContent};return function(e){let t=c6(e)&&e.getAttribute("style");return/font-weight\s*:\s*700/.test(t||"")}(e)&&n.marks.push("strong"),function(e){if(!c6(e)||"a"===c0(e.parentNode))return!1;let t=c6(e)&&e.getAttribute("style");return/text-decoration\s*:\s*underline/.test(t||"")}(e)&&n.marks.push("underline"),function(e){let t=c6(e)&&e.getAttribute("style");return/text-decoration\s*:\s*(?:.*line-through.*;)/.test(t||"")}(e)&&n.marks.push("strike-through"),function(e){let t=c6(e)&&e.getAttribute("style");return/font-style\s*:\s*italic/.test(t||"")}(e)&&n.marks.push("em"),n}}},{deserialize(t,n){var r;if("li"===c0(t)&&un(t))return{...cL,listItem:function(e){let t=c0(e.parentNode);if(!(t&&!ut.includes(t)))return"ul"===c0(e.parentNode)?"bullet":"number"}(t),level:function(e){let t=0;if("li"===c0(e)){let n=e.parentNode;for(;n;){let e=c0(n);e&&ut.includes(e)&&t++,n=n.parentNode}}else t=1;return t}(t),style:function(e,t){let n=c0(t.firstChild),r=n&&ur[n];return r&&e.styles.some(e=>e.name===r.style)?r.style:cN}(e,t),children:n((null==(r=t.firstChild)?void 0:r.childNodes)||[])}}},{deserialize(e){var t,n;if("br"===c0(e)&&un(e)&&c6(e)&&e.classList.contains("apple-interchange-newline")||"br"===c0(e)&&un(e)&&c6(e)&&(null==e||null==(t=e.parentNode)?void 0:t.textContent)===""||"br"===c0(e)&&un(e)&&c6(e)&&c6(n=e)&&n.getAttribute("data-is-root-node"))return{...cz,text:""}}},ui,{deserialize(t){if("pre"!==c0(t))return;let n=e.styles.some(e=>"code"===e.name);return{_type:"block",style:"normal",markDefs:[],children:[{...cz,marks:n?["code"]:[],text:t.textContent||""}]}}},{deserialize(e,t){if("blockquote"!==c0(e))return;let n={...cV,...cq};delete n.blockquote;let r=Object.keys(n),i=[];return e.childNodes.forEach((t,n)=>{if(e.ownerDocument)if(1===t.nodeType&&r.includes(t.localName.toLowerCase())){var a;let r=e.ownerDocument.createElement("span"),o=i[i.length-1];o&&3===o.nodeType&&(null==(a=o.textContent)?void 0:a.trim())&&r.appendChild(e.ownerDocument.createTextNode("\r")),t.childNodes.forEach(e=>{r.appendChild(e.cloneNode(!0))}),n!==e.childNodes.length&&r.appendChild(e.ownerDocument.createTextNode("\r")),i.push(r)}else i.push(t)}),{_type:"block",style:"blockquote",markDefs:[],children:t(i)}}},{deserialize(t,n){let r={...cV,...cq},i=c0(t),a=i?r[i]:void 0;if(!a)return;if(t.parentNode&&"li"===c0(t.parentNode))return n(t.childNodes);let o=a.style;return e.styles.some(e=>e.name===o)||(a=cL),{...a,children:n(t.childNodes)}}},{deserialize(e,t){let n=c0(e);if(!(!n||!(n in cU)))return t(e.childNodes)}},{deserialize(e,t){if("div"===c0(e))return t(e.childNodes)}},{deserialize(e,t){let n=c0(e);if(!(!n||!(n in cH)))return t(e.childNodes)}},{deserialize(e){if("br"===c0(e))return{...cz,text:"\n"}}},{deserialize(t,n,r){let i=c0(t),a=i?cK[i]:void 0,o=c0(t.parentNode)||"";if(!a||!t.parentNode||!cH[o])return;let l="ul"===o&&e.lists.some(e=>"bullet"===e.name)?"bullet":"ol"===o&&e.lists.some(e=>"number"===e.name)?"number":void 0;return l?(a.listItem=l,{...a,children:n(t.childNodes)}):r({_type:"block",children:n(t.childNodes)})}},{deserialize(t,n){let r=cY[c0(t)||""];if(!(!r||!e.decorators.some(e=>e.name===r)))return{_type:"__decorator",name:r,children:n(t.childNodes)}}},{deserialize(n,r){if("a"!==c0(n))return;let i=e.annotations.some(e=>"link"===e.name),a=c6(n)&&n.getAttribute("href");return a?i?{_type:"__annotation",markDef:{_key:t.keyGenerator?t.keyGenerator():c9(),_type:"link",href:a},children:r(n.childNodes)}:n.appendChild(n.ownerDocument.createTextNode(" (".concat(a,")")))&&r(n.childNodes):r(n.childNodes)}},{deserialize(e,t){if(c6(e)&&("td"===c0(e)||"th"===c0(e)))return{...cL,children:t(e.childNodes)}}},{deserialize(n){if(c6(n)&&"img"===c0(n)){var r,i,a,o,l,s,c,u,d,p,f,h,m;let g=null!=(c=n.getAttribute("src"))?c:void 0,y=null!=(u=n.getAttribute("alt"))?u:void 0,v=Object.fromEntries(Array.from(n.attributes).map(e=>[e.name,e.value])),b=null==n||null==(i=n.parentElement)||null==(r=i.parentElement)?void 0:r.getAttribute("data-lonely-child"),x=null!==n.closest("li");if(b&&!x){let n=null==(p=t.matchers)||null==(d=p.image)?void 0:d.call(p,{context:{schema:e,keyGenerator:null!=(f=t.keyGenerator)?f:c9},props:{...v,...g?{src:g}:{},...y?{alt:y}:{}}});if(n)return{_type:"__block",block:n}}let C=null==(o=t.matchers)||null==(a=o.inlineImage)?void 0:a.call(o,{context:{schema:e,keyGenerator:null!=(h=t.keyGenerator)?h:c9},props:{...v,...g?{src:g}:{},...y?{alt:y}:{}}});if(C)return C;let k=null==(s=t.matchers)||null==(l=s.image)?void 0:l.call(s,{context:{schema:e,keyGenerator:null!=(m=t.keyGenerator)?m:c9},props:{...v,...g?{src:g}:{},...y?{alt:y}:{}}});if(k)return{_type:"__block",block:k}}}}]}(e,{keyGenerator:t.keyGenerator,matchers:t.matchers});this.schema=e,this.keyGenerator=null!=(n=t.keyGenerator)?n:c9,this.rules=[...i,...o];let l=t.parseHtml||function(){if("undefined"===cO(DOMParser))throw Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}();this.parseHtml=e=>(function(e,t,n){var r,i;let a=e&&JSON.parse({cleaned:(r=JSON.stringify(e)).replace(cR,""),encoded:(null==(i=r.match(cR))?void 0:i[0])||""}.cleaned),o=t(a.trim());return c2.forEach(e=>{e(a,o,n)}),o})(e,l,{unstable_whitespaceOnPasteMode:a}).body}}function uo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={block:{name:t.blockTypeName||"block"},span:{name:"span"},styles:[],lists:[],decorators:[],annotations:[],blockObjects:[],inlineObjects:[]};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:t.keyGenerator?t.keyGenerator():c9()};let r={_key:t.keyGenerator?t.keyGenerator():c9(),children:[],markDefs:[],...e},i=r.children[r.children.length-1];if(!i)return r.children=[{_type:"span",_key:t.keyGenerator?t.keyGenerator():c9(),text:"",marks:[]}],r;let a=[],o=!!(t.allowedDecorators&&Array.isArray(t.allowedDecorators))&&t.allowedDecorators;return r.children=r.children.reduce((e,t)=>{let a=e[e.length-1];return a&&su({schema:n},t)&&su({schema:n},a)&&(0,e4.default)(a.marks,t.marks)?i&&i===t&&""===t.text&&r.children.length>1||(a.text+=t.text):e.push(t),e},[]).map(e=>{if(!e)throw Error("missing child");return e._key=t.keyGenerator?t.keyGenerator():c9(),su({schema:n},e)&&(e.marks?o&&(e.marks=e.marks.filter(e=>{var t;let n=o.includes(e),i=null==(t=r.markDefs)?void 0:t.some(t=>t._key===e);return n||i})):e.marks=[],a.push(...e.marks)),e}),r.markDefs=(r.markDefs||[]).filter(e=>a.includes(e._key)),r}function ul(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new ua(t.hasOwnProperty("jsonType")?cb(cv(t.hasOwnProperty("jsonType")?t:(n=t,cg.compile({name:"blockTypeSchema",types:[n]}).get(n.name)))):t,r).deserialize(e).map(e=>uo(e,{keyGenerator:r.keyGenerator}))}let us=["http","https","mailto","tel"],uc={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27"};function uu(e){return e.replace(/[&<>"']/g,e=>"&".concat(uc[e],";")).replace(/ {2,}/g,e=>"".concat("&nbsp;".repeat(e.length-1)," "))}let ud=(e,t)=>"Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` option"),up=e=>ud('block type "'.concat(e,'"'),"types");function uf(e){console.warn(e)}let uh={types:{},block:{normal:e=>{let{children:t}=e;return"<p>".concat(t,"</p>")},blockquote:e=>{let{children:t}=e;return"<blockquote>".concat(t,"</blockquote>")},h1:e=>{let{children:t}=e;return"<h1>".concat(t,"</h1>")},h2:e=>{let{children:t}=e;return"<h2>".concat(t,"</h2>")},h3:e=>{let{children:t}=e;return"<h3>".concat(t,"</h3>")},h4:e=>{let{children:t}=e;return"<h4>".concat(t,"</h4>")},h5:e=>{let{children:t}=e;return"<h5>".concat(t,"</h5>")},h6:e=>{let{children:t}=e;return"<h6>".concat(t,"</h6>")}},marks:{em:e=>{let{children:t}=e;return"<em>".concat(t,"</em>")},strong:e=>{let{children:t}=e;return"<strong>".concat(t,"</strong>")},code:e=>{let{children:t}=e;return"<code>".concat(t,"</code>")},underline:e=>{let{children:t}=e;return'<span style="text-decoration:underline">'.concat(t,"</span>")},"strike-through":e=>{let{children:t}=e;return"<del>".concat(t,"</del>")},link:e=>{let{children:t,value:n}=e,r=(null==n?void 0:n.href)||"";return!function(e){let t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return!0;let r=t.indexOf(":");if(-1===r)return!0;let i=t.slice(0,r).toLowerCase();if(-1!==us.indexOf(i))return!0;let a=t.indexOf("?");if(-1!==a&&r>a)return!0;let o=t.indexOf("#");return -1!==o&&r>o}(r)?t:'<a href="'.concat(uu(r),'">').concat(t,"</a>")}},list:{number:e=>{let{children:t}=e;return"<ol>".concat(t,"</ol>")},bullet:e=>{let{children:t}=e;return"<ul>".concat(t,"</ul>")}},listItem:e=>{let{children:t}=e;return"<li>".concat(t,"</li>")},hardBreak:()=>"<br/>",escapeHTML:uu,unknownType:e=>{let{value:t,isInline:n}=e,r=up(t._type);return n?'<span style="display:none">'.concat(r,"</span>"):'<div style="display:none">'.concat(r,"</div>")},unknownMark:e=>{let{markType:t,children:n}=e;return'<span class="unknown__pt__mark__'.concat(t,'">').concat(n,"</span>")},unknownList:e=>{let{children:t}=e;return"<ul>".concat(t,"</ul>")},unknownListItem:e=>{let{children:t}=e;return"<li>".concat(t,"</li>")},unknownBlockStyle:e=>{let{children:t}=e;return"<p>".concat(t,"</p>")}};function um(e,t,n){let r=t[n],i=e[n];return"function"==typeof r||r&&"function"==typeof i?r:r?{...i,...r}:i}function ug(e){let{node:t,index:n,isInline:r,renderNode:i}=e,a=(0,nF.buildMarksTree)(t).map((e,t)=>i({node:e,isInline:!0,index:t,renderNode:i}));return{_key:t._key||"block-".concat(n),children:a.join(""),index:n,isInline:r,node:t}}function uy(){}var uv=e.i(835870),ub=e.i(426965),ux=e.i(12989);function uC(e){let[t,n]=e;return[t,n]}function uk(e,t){let n=e,r=t,i=n.length,a=r.length;if(0===i||0===a)return 0;i>a?n=n.substring(i-a):i<a&&(r=r.substring(0,i));let o=Math.min(i,a);if(n===r)return o;let l=0,s=1;for(let e=0;-1!==e;){let t=n.substring(o-s);if(-1===(e=r.indexOf(t)))break;s+=e,(0===e||n.substring(o-s)===r.substring(0,s))&&(l=s,s++)}return l}function uw(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(a,i)===t.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function u_(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(e.length-i,e.length-a)===t.substring(t.length-i,t.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function uj(e){let t=e.charCodeAt(0);return t>=56320&&t<=57343}function uS(e,t,n,r,i){let a=e.substring(0,n),o=t.substring(0,r),l=e.substring(n),s=t.substring(r),c=uM(a,o,{checkLines:!1,deadline:i}),u=uM(l,s,{checkLines:!1,deadline:i});return c.concat(u)}function uE(e,t,n){let r=e.slice(n,n+Math.floor(e.length/4)),i=-1,a="",o,l,s,c;for(;-1!==(i=t.indexOf(r,i+1));){let r=uw(e.slice(n),t.slice(i)),u=u_(e.slice(0,n),t.slice(0,i));a.length<u+r&&(a=t.slice(i-u,i)+t.slice(i,i+r),o=e.slice(0,n-u),l=e.slice(n+r),s=t.slice(0,i-u),c=t.slice(i+r))}return 2*a.length>=e.length?[o||"",l||"",s||"",c||"",a||""]:null}var uT=Object.defineProperty,uD=Object.getOwnPropertySymbols,uI=Object.prototype.hasOwnProperty,uA=Object.prototype.propertyIsEnumerable,uO=(e,t,n)=>t in e?uT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function uP(e,t,n){if(null===e||null===t)throw Error("Null input. (diff)");let r=uM(e,t,function(e){let t;var n,r={checkLines:!0,deadline:(n=e.timeout||1,t=1,"u">typeof n&&(t=n<=0?Number.MAX_VALUE:n),Date.now()+1e3*t)},i=e;for(var a in i||(i={}))uI.call(i,a)&&uO(r,a,i[a]);if(uD)for(var a of uD(i))uA.call(i,a)&&uO(r,a,i[a]);return r}(n||{}));return function(e){for(let t=0;t<e.length;t++){let[n,r]=e[t];if(0===r.length)continue;let i=r[0];(function(e){let t=e.charCodeAt(0);return t>=55296&&t<=56319})(r[r.length-1])&&0===n&&uB(e,t,1),uj(i)&&0===n&&uB(e,t,-1)}for(let t=0;t<e.length;t++)0===e[t][1].length&&e.splice(t,1)}(r),r}function uM(e,t,n){let r=e,i=t;if(r===i)return r?[[0,r]]:[];let a=uw(r,i),o=r.substring(0,a);a=u_(r=r.substring(a),i=i.substring(a));let l=r.substring(r.length-a),s=function(e,t,n){let r;if(!e)return[[1,t]];if(!t)return[[-1,e]];let i=e.length>t.length?e:t,a=e.length>t.length?t:e,o=i.indexOf(a);if(-1!==o)return r=[[1,i.substring(0,o)],[0,a],[1,i.substring(o+a.length)]],e.length>t.length&&(r[0][0]=-1,r[2][0]=-1),r;if(1===a.length)return[[-1,e],[1,t]];let l=function(e,t){let n,r,i,a,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(l<=0)return null;let s=e.length>t.length?e:t,c=e.length>t.length?t:e;if(s.length<4||2*c.length<s.length)return null;let u=uE(s,c,Math.ceil(s.length/4)),d=uE(s,c,Math.ceil(s.length/2));if(u&&d)n=u[4].length>d[4].length?u:d;else{if(!u&&!d)return null;d?u||(n=d):n=u}if(!n)throw Error("Unable to find a half match.");return e.length>t.length?(r=n[0],i=n[1],a=n[2],o=n[3]):(a=n[0],o=n[1],r=n[2],i=n[3]),[r,i,a,o,n[4]]}(e,t);if(l){let e=l[0],t=l[1],r=l[2],i=l[3],a=l[4],o=uM(e,r,n),s=uM(t,i,n);return o.concat([[0,a]],s)}return n.checkLines&&e.length>100&&t.length>100?function(e,t,n){let r=e,i=t,a=function(e,t){let n=[],r={};function i(e){let t="",i=0,o=-1,l=n.length;for(;o<e.length-1;){-1===(o=e.indexOf("\n",i))&&(o=e.length-1);let s=e.slice(i,o+1);(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?t+=String.fromCharCode(r[s]):(l===a&&(s=e.slice(i),o=e.length),t+=String.fromCharCode(l),r[s]=l,n[l++]=s),i=o+1}return t}n[0]="";let a=4e4,o=i(e);return a=65535,{chars1:o,chars2:i(t),lineArray:n}}(r,i);r=a.chars1,i=a.chars2;let o=a.lineArray,l=uM(r,i,{checkLines:!1,deadline:n.deadline});(function(e,t){for(let n=0;n<e.length;n++){let r=e[n][1],i=[];for(let e=0;e<r.length;e++)i[e]=t[r.charCodeAt(e)];e[n][1]=i.join("")}})(l,o),(l=uN(l)).push([0,""]);let s=0,c=0,u=0,d="",p="";for(;s<l.length;){switch(l[s][0]){case 1:u++,p+=l[s][1];break;case -1:c++,d+=l[s][1];break;case 0:if(c>=1&&u>=1){l.splice(s-c-u,c+u),s=s-c-u;let e=uM(d,p,{checkLines:!1,deadline:n.deadline});for(let t=e.length-1;t>=0;t--)l.splice(s,0,e[t]);s+=e.length}u=0,c=0,d="",p="";break;default:throw Error("Unknown diff operation.")}s++}return l.pop(),l}(e,t,n):function(e,t,n){let r=e.length,i=t.length,a=Math.ceil((r+i)/2),o=2*a,l=Array(o),s=Array(o);for(let e=0;e<o;e++)l[e]=-1,s[e]=-1;l[a+1]=0,s[a+1]=0;let c=r-i,u=c%2!=0,d=0,p=0,f=0,h=0;for(let m=0;m<a&&!(Date.now()>n);m++){for(let f=-m+d;f<=m-p;f+=2){let h,g=a+f,y=(h=f===-m||f!==m&&l[g-1]<l[g+1]?l[g+1]:l[g-1]+1)-f;for(;h<r&&y<i&&e.charAt(h)===t.charAt(y);)h++,y++;if(l[g]=h,h>r)p+=2;else if(y>i)d+=2;else if(u){let i=a+c-f;if(i>=0&&i<o&&-1!==s[i]&&h>=r-s[i])return uS(e,t,h,y,n)}}for(let d=-m+f;d<=m-h;d+=2){let p,g=a+d,y=(p=d===-m||d!==m&&s[g-1]<s[g+1]?s[g+1]:s[g-1]+1)-d;for(;p<r&&y<i&&e.charAt(r-p-1)===t.charAt(i-y-1);)p++,y++;if(s[g]=p,p>r)h+=2;else if(y>i)f+=2;else if(!u){let i=a+c-d;if(i>=0&&i<o&&-1!==l[i]){let o=l[i],s=a+o-i;if(o>=(p=r-p))return uS(e,t,o,s,n)}}}}return[[-1,e],[1,t]]}(e,t,n.deadline)}(r=r.substring(0,r.length-a),i=i.substring(0,i.length-a),n);return o&&s.unshift([0,o]),l&&s.push([0,l]),s=uW(s)}function uF(e,t,n){return 1===n?e+t:t+e}function uR(e,t){return 1===t?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function uB(e,t,n){var r,i;let a=1===n?-1:1,o=null,l=null,s=t+n;for(;s>=0&&s<e.length&&(null===o||null===l);s+=n){let[r,i]=e[s];if(0!==i.length){if(1===r){null===o&&(o=s);continue}else if(-1===r){null===l&&(l=s);continue}else if(0===r){if(null===o&&null===l){let[r,i]=uR(e[t][1],n);e[t][1]=r,e[s][1]=uF(e[s][1],i,a);return}break}}}if(null!==o&&null!==l&&(r=o,i=l,1===n?e[r][1][e[r][1].length-1]===e[i][1][e[i][1].length-1]:e[r][1][0]===e[i][1][0])){let[r,i]=uR(e[o][1],a),[s]=uR(e[l][1],a);e[o][1]=r,e[l][1]=s,e[t][1]=uF(e[t][1],i,n);return}let[c,u]=uR(e[t][1],n);e[t][1]=c,null===o?(e.splice(s,0,[1,u]),null!==l&&l>=s&&l++):e[o][1]=uF(e[o][1],u,a),null===l?e.splice(s,0,[-1,u]):e[l][1]=uF(e[l][1],u,a)}function uN(e){let t=e.map(e=>uC(e)),n=!1,r=[],i=0,a=null,o=0,l=0,s=0,c=0,u=0;for(;o<t.length;)0===t[o][0]?(r[i++]=o,l=c,s=u,c=0,u=0,a=t[o][1]):(1===t[o][0]?c+=t[o][1].length:u+=t[o][1].length,a&&a.length<=Math.max(l,s)&&a.length<=Math.max(c,u)&&(t.splice(r[i-1],0,[-1,a]),t[r[i-1]+1][0]=1,i--,o=--i>0?r[i-1]:-1,l=0,s=0,c=0,u=0,a=null,n=!0)),o++;for(n&&(t=uW(t)),t=uq(t),o=1;o<t.length;){if(-1===t[o-1][0]&&1===t[o][0]){let e=t[o-1][1],n=t[o][1],r=uk(e,n),i=uk(n,e);r>=i?(r>=e.length/2||r>=n.length/2)&&(t.splice(o,0,[0,n.substring(0,r)]),t[o-1][1]=e.substring(0,e.length-r),t[o+1][1]=n.substring(r),o++):(i>=e.length/2||i>=n.length/2)&&(t.splice(o,0,[0,e.substring(0,i)]),t[o-1][0]=1,t[o-1][1]=n.substring(0,n.length-i),t[o+1][0]=-1,t[o+1][1]=e.substring(i),o++),o++}o++}return t}let uL=/[^a-zA-Z0-9]/,uz=/\s/,uV=/[\r\n]/,uU=/\n\r?\n$/,uH=/^\r?\n\r?\n/;function uq(e){let t=e.map(e=>uC(e));function n(e,t){if(!e||!t)return 6;let n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(uL),a=r.match(uL),o=i&&n.match(uz),l=a&&r.match(uz),s=o&&n.match(uV),c=l&&r.match(uV),u=s&&e.match(uU),d=c&&t.match(uH);return u||d?5:s||c?4:i&&!o&&l?3:o||l?2:i||a?1:0}let r=1;for(;r<t.length-1;){if(0===t[r-1][0]&&0===t[r+1][0]){let e=t[r-1][1],i=t[r][1],a=t[r+1][1],o=u_(e,i);if(o){let t=i.substring(i.length-o);e=e.substring(0,e.length-o),i=t+i.substring(0,i.length-o),a=t+a}let l=e,s=i,c=a,u=n(e,i)+n(i,a);for(;i.charAt(0)===a.charAt(0);){e+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);let t=n(e,i)+n(i,a);t>=u&&(u=t,l=e,s=i,c=a)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=s,c?t[r+1][1]=c:(t.splice(r+1,1),r--))}r++}return t}function uW(e){let t=e.map(e=>uC(e));t.push([0,""]);let n=0,r=0,i=0,a="",o="",l;for(;n<t.length;)switch(t[n][0]){case 1:i++,o+=t[n][1],n++;break;case -1:r++,a+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(l=uw(o,a))&&(n-r-i>0&&0===t[n-r-i-1][0]?t[n-r-i-1][1]+=o.substring(0,l):(t.splice(0,0,[0,o.substring(0,l)]),n++),o=o.substring(l),a=a.substring(l)),0!==(l=u_(o,a))&&(t[n][1]=o.substring(o.length-l)+t[n][1],o=o.substring(0,o.length-l),a=a.substring(0,a.length-l))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[-1,a]),n++),o.length&&(t.splice(n,0,[1,o]),n++),n++):0!==n&&0===t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break;default:throw Error("Unknown diff operation")}""===t[t.length-1][1]&&t.pop();let s=!1;for(n=1;n<t.length-1;)0===t[n-1][0]&&0===t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),s=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),s=!0)),n++;return s&&(t=uW(t)),t}function uY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.map(e=>uC(e)),r=!1,i=[],a=0,o=null,l=0,s=!1,c=!1,u=!1,d=!1;for(;l<n.length;)0===n[l][0]?(n[l][1].length<t&&(u||d)?(i[a++]=l,s=u,c=d,o=n[l][1]):(a=0,o=null),u=!1,d=!1):(-1===n[l][0]?d=!0:u=!0,o&&(s&&c&&u&&d||o.length<t/2&&3===function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e+ +!!t,0)}(s,c,u,d))&&(n.splice(i[a-1],0,[-1,o]),n[i[a-1]+1][0]=1,a--,o=null,s&&c?(u=!0,d=!0,a=0):(l=--a>0?i[a-1]:-1,u=!1,d=!1),r=!0)),l++;return r&&(n=uW(n)),n}var uK=Object.defineProperty,uG=Object.getOwnPropertySymbols,u$=Object.prototype.hasOwnProperty,uZ=Object.prototype.propertyIsEnumerable,uX=(e,t,n)=>t in e?uK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uJ=(e,t)=>{for(var n in t||(t={}))u$.call(t,n)&&uX(e,n,t[n]);if(uG)for(var n of uG(t))uZ.call(t,n)&&uX(e,n,t[n]);return e};let uQ={threshold:.5,distance:1e3};function u1(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===e||null===t||null===n)throw Error("Null input. (match())");let i=Math.max(0,Math.min(n,e.length));return e===t?0:e.length?e.substring(i,i+t.length)===t?i:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.length>32)throw Error("Pattern too long for this browser.");let i=uJ(uJ({},uQ),r),a=function(e){let t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}(t);function o(e,r){let a=e/t.length,o=Math.abs(n-r);return i.distance?a+o/i.distance:o?1:a}let l=i.threshold,s=e.indexOf(t,n);-1!==s&&(l=Math.min(o(0,s),l),-1!==(s=e.lastIndexOf(t,n+t.length))&&(l=Math.min(o(0,s),l)));let c=1<<t.length-1;s=-1;let u,d,p=t.length+e.length,f=[];for(let r=0;r<t.length;r++){for(u=0,d=p;u<d;)o(r,n+d)<=l?u=d:p=d,d=Math.floor((p-u)/2+u);p=d;let i=Math.max(1,n-d+1),h=Math.min(n+d,e.length)+t.length,m=Array(h+2);m[h+1]=(1<<r)-1;for(let t=h;t>=i;t--){let u=a[e.charAt(t-1)];if(0===r?m[t]=(m[t+1]<<1|1)&u:m[t]=(m[t+1]<<1|1)&u|((f[t+1]|f[t])<<1|1)|f[t+1],m[t]&c){let e=o(r,t-1);if(e<=l)if(l=e,(s=t-1)>n)i=Math.max(1,2*n-s);else break}}if(o(r+1,n)>l)break;f=m}return s}(e,t,i,r):-1}function u2(e){let t=[];for(let n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")}function u0(e){let t=[];for(let n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")}function u5(e,t){let n=0,r=0,i=0,a=0,o;for(o=0;o<e.length&&(1!==e[o][0]&&(n+=e[o][1].length),-1!==e[o][0]&&(r+=e[o][1].length),!(n>t));o++)i=n,a=r;return e.length!==o&&-1===e[o][0]?a:a+(t-i)}function u7(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n);if(typeof r>"u")throw Error("Failed to get codepoint");t+=u3(r)}return t}function u3(e){return e<=127?1:e<=2047?2:e<=65535?3:4}function u8(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function u4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e)throw Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(0===e.length)return[r,[]];let i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=0;function a(e){for(;r<e;){let e=t.codePointAt(i);if(typeof e>"u")return i;r+=u3(e),e>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==e)throw Error("Failed to determine byte offset");return i}let o=[];for(let t of e)o.push({diffs:t.diffs.map(e=>uC(e)),start1:a(t.start1),start2:a(t.start2),utf8Start1:t.utf8Start1,utf8Start2:t.utf8Start2,length1:t.length1,length2:t.length2,utf8Length1:t.utf8Length1,utf8Length2:t.utf8Length2});return o}(e,r,{allowExceedingIndices:n.allowExceedingIndices}),a=n.margin||4,o=n.deleteThreshold||.4,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n="";for(let e=1;e<=t;e++)n+=String.fromCharCode(e);for(let n of e)n.start1+=t,n.start2+=t,n.utf8Start1+=t,n.utf8Start2+=t;let r=e[0],i=r.diffs;if(0===i.length||0!==i[0][0])i.unshift([0,n]),r.start1-=t,r.start2-=t,r.utf8Start1-=t,r.utf8Start2-=t,r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[0][1].length){let e=i[0][1].length,a=t-e;i[0][1]=n.substring(e)+i[0][1],r.start1-=a,r.start2-=a,r.utf8Start1-=a,r.utf8Start2-=a,r.length1+=a,r.length2+=a,r.utf8Length1+=a,r.utf8Length2+=a}if(0===(i=(r=e[e.length-1]).diffs).length||0!==i[i.length-1][0])i.push([0,n]),r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[i.length-1][1].length){let e=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,e),r.length1+=e,r.length2+=e,r.utf8Length1+=e,r.utf8Length2+=e}return n}(i,a);r=l+r+l,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;for(let n=0;n<e.length;n++){if(e[n].length1<=32)continue;let r=e[n];e.splice(n--,1);let i=r.start1,a=r.start2,o="";for(;0!==r.diffs.length;){let l=u8(i-o.length,a-o.length),s=!0;if(""!==o){let e=u7(o);l.length1=o.length,l.utf8Length1=e,l.length2=o.length,l.utf8Length2=e,l.diffs.push([0,o])}for(;0!==r.diffs.length&&l.length1<32-t;){let e=r.diffs[0][0],n=r.diffs[0][1],o=u7(n);if(1===e){l.length2+=n.length,l.utf8Length2+=o,a+=n.length;let e=r.diffs.shift();e&&l.diffs.push(e),s=!1}else -1===e&&1===l.diffs.length&&0===l.diffs[0][0]&&n.length>64?(l.length1+=n.length,l.utf8Length1+=o,i+=n.length,s=!1,l.diffs.push([e,n]),r.diffs.shift()):(o=u7(n=n.substring(0,32-l.length1-t)),l.length1+=n.length,l.utf8Length1+=o,i+=n.length,0===e?(l.length2+=n.length,l.utf8Length2+=o,a+=n.length):s=!1,l.diffs.push([e,n]),n===r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(n.length))}o=(o=u0(l.diffs)).substring(o.length-t);let c=u2(r.diffs).substring(0,t),u=u7(c);""!==c&&(l.length1+=c.length,l.length2+=c.length,l.utf8Length1+=u,l.utf8Length2+=u,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push([0,c])),s||e.splice(++n,0,l)}}}(i,a);let s=0,c=[];for(let e=0;e<i.length;e++){let t=i[e].start2+s,n=u2(i[e].diffs),a,l=-1;if(n.length>32?-1!==(a=u1(r,n.substring(0,32),t))&&(-1===(l=u1(r,n.substring(n.length-32),t+n.length-32))||a>=l)&&(a=-1):a=u1(r,n,t),-1===a)c[e]=!1,s-=i[e].length2-i[e].length1;else{let u;if(c[e]=!0,s=a-t,u=-1===l?r.substring(a,a+n.length):r.substring(a,l+32),n===u)r=r.substring(0,a)+u0(i[e].diffs)+r.substring(a+n.length);else{let t=uP(n,u,{checkLines:!1});if(n.length>32&&function(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){let a=e[i][0],o=e[i][1];switch(a){case 1:n+=o.length;break;case -1:r+=o.length;break;case 0:t+=Math.max(n,r),n=0,r=0;break;default:throw Error("Unknown diff operation.")}}return t+Math.max(n,r)}(t)/n.length>o)c[e]=!1;else{t=uq(t);let n=0,o=0;for(let l=0;l<i[e].diffs.length;l++){let s=i[e].diffs[l];0!==s[0]&&(o=u5(t,n)),1===s[0]?r=r.substring(0,a+o)+s[1]+r.substring(a+o):-1===s[0]&&(r=r.substring(0,a+o)+r.substring(a+u5(t,n+s[1].length))),-1!==s[0]&&(n+=s[1].length)}}}}}return[r=r.substring(l.length,r.length-l.length),c]}var u6=Object.defineProperty,u9=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,dn=(e,t,n)=>t in e?u6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dr=(e,t)=>{for(var n in t||(t={}))de.call(t,n)&&dn(e,n,t[n]);if(u9)for(var n of u9(t))dt.call(t,n)&&dn(e,n,t[n]);return e};let di={margin:4};function da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr(dr({},di),e)}function dl(e,t,n){if("string"==typeof e&&"string"==typeof t){let r=uP(e,t,{checkLines:!0});return r.length>2&&(r=uY(r=uN(r))),ds(e,r,da(n))}if(e&&Array.isArray(e)&&typeof t>"u")return ds(u2(e),e,da(n));if("string"==typeof e&&t&&Array.isArray(t))return ds(e,t,da(n));throw Error("Unknown call format to make()")}function ds(e,t,n){if(0===t.length)return[];let r=[],i=u8(0,0),a=0,o=0,l=0,s=0,c=0,u=e,d=e;for(let e=0;e<t.length;e++){let p=t[e],[f,h]=p,m=h.length,g=u7(h);switch(!a&&0!==f&&(i.start1=o,i.start2=l,i.utf8Start1=s,i.utf8Start2=c),f){case 1:i.diffs[a++]=p,i.length2+=m,i.utf8Length2+=g,d=d.substring(0,l)+h+d.substring(l);break;case -1:i.length1+=m,i.utf8Length1+=g,i.diffs[a++]=p,d=d.substring(0,l)+d.substring(l+m);break;case 0:m<=2*n.margin&&a&&t.length!==e+1?(i.diffs[a++]=p,i.length1+=m,i.length2+=m,i.utf8Length1+=g,i.utf8Length2+=g):m>=2*n.margin&&a&&(dc(i,u,n),r.push(i),i=u8(-1,-1),a=0,u=d,o=l,s=c);break;default:throw Error("Unknown diff type")}1!==f&&(o+=m,s+=g),-1!==f&&(l+=m,c+=g)}return a&&(dc(i,u,n),r.push(i)),r}function dc(e,t,n){if(0===t.length)return;let r=t.substring(e.start2,e.start2+e.length1),i=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<32-n.margin-n.margin;)i+=n.margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=n.margin;let a=e.start2-i;a>=1&&uj(t[a])&&a--;let o=t.substring(a,e.start2);o&&e.diffs.unshift([0,o]);let l=o.length,s=u7(o),c=e.start2+e.length1+i;c<t.length&&uj(t[c])&&c++;let u=t.substring(e.start2+e.length1,c);u&&e.diffs.push([0,u]);let d=u.length,p=u7(u);e.start1-=l,e.start2-=l,e.utf8Start1-=s,e.utf8Start2-=s,e.length1+=l+d,e.length2+=l+d,e.utf8Length1+=s+p,e.utf8Length2+=s+p}let du=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function dd(e){if(!e)return[];let t=[],n=e.split("\n"),r=0;for(;r<n.length;){let e=n[r].match(du);if(!e)throw Error("Invalid patch string: ".concat(n[r]));let i=u8(dp(e[1]),dp(e[3]));for(t.push(i),""===e[2]?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):"0"===e[2]?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=dp(e[2]),i.length1=i.utf8Length1),""===e[4]?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):"0"===e[4]?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=dp(e[4]),i.length2=i.utf8Length2),r++;r<n.length;){let e,t=n[r],a=t.charAt(0);if("@"===a)break;if(""===a){r++;continue}try{e=decodeURI(t.slice(1))}catch(e){throw Error("Illegal escape in parse: ".concat(t))}let o=u7(e)-e.length;if("-"===a)i.diffs.push([-1,e]),i.length1-=o;else if("+"===a)i.diffs.push([1,e]),i.length2-=o;else if(" "===a)i.diffs.push([0,e]),i.length1-=o,i.length2-=o;else throw Error('Invalid patch mode "'.concat(a,'" in: ').concat(e));r++}}return t}function dp(e){return parseInt(e,10)}function df(e){return e.map(dh).join("")}function dh(e){let t,n,r,{utf8Length1:i,utf8Length2:a,utf8Start1:o,utf8Start2:l,diffs:s}=e;t=0===i?"".concat(o,",0"):1===i?"".concat(o+1):"".concat(o+1,",").concat(i),n=0===a?"".concat(l,",0"):1===a?"".concat(l+1):"".concat(l+1,",").concat(a);let c=["@@ -".concat(t," +").concat(n," @@\n")];for(let e=0;e<s.length;e++){switch(s[e][0]){case 1:r="+";break;case -1:r="-";break;case 0:r=" ";break;default:throw Error("Unknown patch operation.")}c[e+1]="".concat(r+encodeURI(s[e][1]),"\n")}return c.join("").replace(/%20/g," ")}let dm="before",dg="after";function dy(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e.concat(t),[])}function dv(e,t){return t.reduce(function e(t,n){var r;return Array.isArray(t)?function(t,n){let r=t.slice();if(0===n.path.length){if("setIfMissing"===n.type){if(!Array.isArray(n.value))throw Error("Cannot set value of an array to a non-array");return void 0===t?n.value:t}if("set"===n.type){if(!Array.isArray(n.value))throw Error("Cannot set value of an array to a non-array");return n.value}if("unset"===n.type)return;throw Error("Invalid array operation: ".concat(n.type))}let[i,...a]=n.path,o=function(e,t){if("number"==typeof t)return t;let n=(0,ub.default)(e,t);return -1!==n&&n}(t,i);if(!1===o)return r;if(0===a.length){if("insert"===n.type){let{position:e,items:r}=n;return function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];if(t!==dm&&t!==dg)throw Error('Invalid position "'.concat(t,'", must be either ').concat(dm," or ").concat(dg));let o=dy(...i);if(0===e.length)return o;let l=e.length,s=Math.abs((l+n)%l)%l,c=e.slice();return c.splice("after"===t?s+1:s,0,...dy(o)),c}(t,e,o,r)}else if("unset"===n.type){if("number"!=typeof o)throw Error('Expected array index to be a number, instead got "'.concat(o,'"'));return r.splice(o,1),r}}return r[o]=e(r[o],{...n,path:a}),r}(t,n):"string"==typeof t?function(e,t){if(t.path.length>0)throw Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));if("diffMatchPatch"===t.type){let[n]=u4(dd(t.value),e,{allowExceedingIndices:!0});return n}if("setIfMissing"===t.type)return void 0===e?t.value:e;if("set"===t.type)return t.value;if("unset"!==t.type)throw Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'))}(t,n):"object"!=typeof(r=t)||null===r||Array.isArray(r)?"number"==typeof t?function(e,t){if(t.path.length>0)throw Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(e=>JSON.stringify(e)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));if("set"===t.type)return t.value;if("setIfMissing"===t.type)return void 0===e?t.value:e;if("unset"!==t.type){if("inc"===t.type){if("number"!=typeof t.value)throw Error("Cannot increment with a non-number");return e+t.value}if("dec"===t.type){if("number"!=typeof t.value)throw Error("Cannot decrement with a non-number");return e-t.value}throw Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for number. This is most likely a bug.'))}}(t,n):function(e,t){if(t.path.length>0)throw Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(e=>JSON.stringify(e)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));if("set"===t.type)return t.value;if("setIfMissing"===t.type)return void 0===e?t.value:e;if("unset"!==t.type)throw Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'))}(t,n):function(t,n){let r=(0,ux.default)(t);if(0===n.path.length){if("set"===n.type){if("object"==typeof n.value&&null!==n.value&&!Array.isArray(n.value))return n.value;throw Error("Cannot set value of an object to a non-object")}if("unset"===n.type)return;throw Error("Invalid object operation: ".concat(n.type))}let[i,...a]=n.path;if("string"!=typeof i)throw Error("Expected field name to be a string, instead got: ".concat(i));return 0===a.length&&"unset"===n.type?(0,uv.default)(r,i):((i in r||!(a.length>0))&&(r[i]=e(r[i],{...n,path:a})),r)}(t,n)},e)}function db(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"setIfMissing",path:t,value:e}}function dx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{type:"diffMatchPatch",path:n,value:df(dl(e,t))}}function dC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{type:"insert",path:n,position:t,items:e}}function dk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"set",path:t,value:e}}function dw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"unset",path:e}}function d_(e){let{context:t,blockOffset:n,direction:r}=e;return sm({context:t,blockOffset:n,direction:r})||function(e){let t,{context:n,blockOffset:r}=e;for(let e of n.value)if(e._key===r.path[0]._key){t={path:[{_key:e._key}],offset:r.offset};break}return t}({context:t,blockOffset:n})}function dj(e){let{context:t,offsets:n,backward:r}=e,i=d_({context:t,blockOffset:n.anchor,direction:r?"backward":"forward"}),a=d_({context:t,blockOffset:n.focus,direction:r?"forward":"backward"});return i&&a?{anchor:i,focus:a,backward:r}:null}function dS(e){let{context:t,selectionPoint:n}=e,r=0,i=sf(n),a=sh(n);if(!(!i||!a)){for(let e of t.value)if(e._key===i&&sc(t,e))for(let i of e.children){if(i._key===a)return{path:[{_key:e._key}],offset:r+n.offset};su(t,i)&&(r+=i.text.length)}}}function dE(e){let{context:t,selectionPoint:n}=e,r=sf(n);return 1===n.path.length&&void 0!==r?{path:[{_key:r}],offset:n.offset}:dS({context:t,selectionPoint:n})}function dT(e){let{context:t,block:n}=e,r=sb(t.selection),i=sv(t.selection);if(!r||!i)return n;let a=sf(r);if(a!==sf(i)||a!==n._key)return n;let o=sh(r),l=sh(i);if(!o||!l)return n;let s=!1,c=[];for(let e of n.children){if(e._key===o){if(s=!0,su(t,e)){let t=e._key===l?e.text.slice(r.offset,i.offset):e.text.slice(r.offset);c.push({...e,text:t})}else c.push(e);if(o===l)break;continue}if(e._key===l){su(t,e)?c.push({...e,text:e.text.slice(0,i.offset)}):c.push(e);break}s&&c.push(e)}return{...n,children:c}}var dD=e.i(479393),dI=e.i(468212);let dA="u">typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.userAgent);function dO(e,t){var n,r;return n=e,r=t,(n.ctrl===r.ctrlKey||void 0===n.ctrl)&&(n.meta===r.metaKey||void 0===n.meta)&&(n.shift===r.shiftKey||void 0===n.shift)&&(n.alt===r.altKey||void 0===n.alt)&&(void 0!==e.code&&e.code.toLowerCase()===t.code.toLowerCase()||void 0!==e.key&&e.key.toLowerCase()===t.key.toLowerCase())}function dP(e){if(dA){var t;let n=null!=(t=e.apple)?t:e.default,r=n.at(0);return{guard:e=>n.some(t=>dO(t,e)),keys:[...(null==r?void 0:r.meta)?["⌘"]:[],...(null==r?void 0:r.ctrl)?["Ctrl"]:[],...(null==r?void 0:r.alt)?["Option"]:[],...(null==r?void 0:r.shift)?["Shift"]:[],...(null==r?void 0:r.key)!==void 0?[r.key]:(null==r?void 0:r.code)!==void 0?[r.code]:[]]}}let n=e.default.at(0);return{guard:t=>e.default.some(e=>dO(e,t)),keys:[...(null==n?void 0:n.meta)?["Meta"]:[],...(null==n?void 0:n.ctrl)?["Ctrl"]:[],...(null==n?void 0:n.alt)?["Alt"]:[],...(null==n?void 0:n.shift)?["Shift"]:[],...(null==n?void 0:n.key)!==void 0?[n.key]:(null==n?void 0:n.code)!==void 0?[n.code]:[]]}}let dM=dP({default:[{key:"B",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"B",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),dF=dP({default:[{key:"I",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"I",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),dR=dP({default:[{key:"'",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"'",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),dB=dP({default:[{key:"U",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"U",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),dN=(dP({default:[{key:"X",alt:!1,ctrl:!0,meta:!1,shift:!0}],apple:[{key:"X",alt:!1,ctrl:!1,meta:!0,shift:!0}]}),dP({default:[{key:"K",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"K",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"0",code:"Digit0",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"0",code:"Numpad0",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"0",code:"Digit0",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"0",code:"Numpad0",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"1",code:"Digit1",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"1",code:"Numpad1",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"1",code:"Digit1",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"1",code:"Numpad1",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"2",code:"Digit2",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"2",code:"Numpad2",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"2",code:"Digit2",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"2",code:"Numpad2",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"3",code:"Digit3",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"3",code:"Numpad3",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"3",code:"Digit3",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"3",code:"Numpad3",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"4",code:"Digit4",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"4",code:"Numpad4",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"4",code:"Digit4",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"4",code:"Numpad4",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"5",code:"Digit5",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"5",code:"Numpad5",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"5",code:"Digit5",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"5",code:"Numpad5",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"6",code:"Digit6",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"6",code:"Numpad6",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"6",code:"Digit6",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"6",code:"Numpad6",alt:!0,ctrl:!1,meta:!0,shift:!1}]}),dP({default:[{key:"Q",alt:!1,ctrl:!0,meta:!1,shift:!0}]}),dP({default:[{key:"Z",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"Z",alt:!1,ctrl:!1,meta:!0,shift:!1}]})),dL=dP({default:[{key:"Y",alt:!1,ctrl:!0,meta:!1,shift:!1},{key:"Z",alt:!1,ctrl:!0,meta:!1,shift:!0}],apple:[{key:"Z",alt:!1,ctrl:!1,meta:!0,shift:!0}]}),dz="sanity-pte:";function dV(e){let t="".concat(dz).concat(e);return tr.default&&tr.default.enabled(t)?(0,tr.default)(t):(0,tr.default)(dz)}(0,tr.default)(dz);let dU="void-child";function dH(e,t){let n=t[e._key];return n&&(0,e4.default)(e,n)?n:(t[e._key]=e,e)}function dq(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&Array.isArray(e)?e.map(e=>{let{_type:t,_key:i,...a}=e;if(e&&e._type===n.block.name){let o=!1,l=typeof e.style>"u",s=typeof e.markDefs>"u",c=typeof e.children>"u",u=(e.children||[]).map(e=>{let{_type:t,_key:n,...i}=e;return"span"!==t?(o=!0,dH({_type:t,_key:n,children:[{_key:dU,_type:"span",text:"",marks:[]}],value:i,__inline:!0},r)):e});return!(!l&&!s&&!c&&!o&&rW.isElement(e))?(l&&(a.style=n.styles[0].name),dH({_type:t,_key:i,...a,children:u},r)):e}return dH({_type:t,_key:i,children:[{_key:dU,_type:"span",text:"",marks:[]}],value:a},r)}):[]}function dW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.map(e=>{let{_key:r,_type:i}=e;if(!r||!i)throw Error("Not a valid block");if(i===t&&"children"in e&&Array.isArray(e.children)&&r){let t=!1,a=e.children.map(e=>{let{_type:r}=e;if("value"in e&&"span"!==r){t=!0;let{value:r,_key:i,_type:a,__inline:o,children:l,...s}=e;return dH({...s,...r,_key:i,_type:a},n)}return e});return t?dH({...e,children:a,_key:r,_type:i},n):e}let a="value"in e&&e.value;return dH({_key:r,_type:i,..."object"==typeof a?a:{}},n)})}function dY(e,t){var n;return void 0===e||e&&Array.isArray(e)&&0===e.length||e&&Array.isArray(e)&&1===e.length&&rW.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].name&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&1===e[0].children.length&&ie.isText(e[0].children[0])&&"span"===e[0].children[0]._type&&!(null==(n=e[0].children[0].marks)?void 0:n.join(""))&&""===e[0].children[0].text}function dK(e){var t;let{editor:n,_key:r}=e,[,i]=null!=(t=Array.from(rQ.nodes(n,{at:[],match:e=>e._key===r})).at(0))?t:[void 0,void 0],a=null==i?void 0:i.at(0);if(void 0!==a)return[a]}function dG(e){let{editor:t}=e;if(!t.selection)return[void 0,void 0];try{var n;return null!=(n=rQ.node(t,t.selection.focus.path.slice(0,1)))?n:[void 0,void 0]}catch(e){return[void 0,void 0]}}function d$(e){let{editor:t,point:n}=e;try{var r;let[e]=null!=(r=rQ.node(t,n.path.slice(0,1)))?r:[void 0,void 0];return e?[e,n.path.slice(0,1)]:[void 0,void 0]}catch(e){return[void 0,void 0]}}function dZ(e){let{editor:t,point:n}=e,[r,i]=d$({editor:t,point:n}),a=n.path.at(1);if(!r||!i||void 0===a)return[void 0,void 0];try{let e=rG.child(r,a);return e?[e,[...i,a]]:[void 0,void 0]}catch(e){return[void 0,void 0]}}function dX(e){let{editor:t}=e;if(0===t.children.length)return[void 0,void 0];let n=rQ.end(t,[]).path.at(0);try{var r;return void 0!==n&&null!=(r=rQ.node(t,[n]))?r:[void 0,void 0]}catch(e){return[void 0,void 0]}}function dJ(e){var t;let{schema:n,element:r}=e;return null==(t=dW([r],n.block.name))?void 0:t.at(0)}function dQ(e,t){let{editor:n,schema:r}=e;return rW.isElement(t)&&!n.isInline(t)&&(r.block.name===t._type||r.blockObjects.some(e=>e.name===t._type))}function d1(e){let{schema:t,editor:n,range:r}=e,[i]=d$({editor:n,point:r.anchor}),[a]=d$({editor:n,point:r.focus});if(!i||!a)return null;let[o]=i._type===t.block.name?dZ({editor:n,point:r.anchor}):[void 0,void 0],[l]=a._type===t.block.name?dZ({editor:n,point:r.focus}):[void 0,void 0],s={anchor:{path:[{_key:i._key}],offset:r.anchor.offset},focus:{path:[{_key:a._key}],offset:r.focus.offset},backward:rH.isBackward(r)};return o&&(s.anchor.path.push("children"),s.anchor.path.push({_key:o._key})),l&&(s.focus.path.push("children"),s.focus.path.push({_key:l._key})),s}function d2(e){let{editorActor:t,slateEditor:n,event:r}=e;if(t.getSnapshot().matches({setup:"setting up"}))return;let i=function(e){let{slateEditor:t,event:n}=e;return oA.hasTarget(t,n.target)?oA.toSlateNode(t,n.target):void 0}({slateEditor:n,event:r});if(!i)return;let a=function(e){var t;let{editor:n,schema:r,node:i}=e;if(rQ.isEditor(i))return;if(dQ({editor:n,schema:r},i))return dJ({schema:r,element:i});let a=null==(t=Array.from(rQ.nodes(n,{mode:"highest",at:[],match:e=>dQ({editor:n,schema:r},e)&&e.children.some(e=>e._key===i._key)})).at(0))?void 0:t.at(0);return rW.isElement(a)?dJ({schema:r,element:a}):void 0}({editor:n,schema:t.getSnapshot().context.schema,node:i}),o=function(e){let{node:t,slateEditor:n,event:r}=e,[i]=function(e){let{editor:t}=e;if(0===t.children.length)return[void 0,void 0];let n=rQ.start(t,[]).path.at(0);try{var r;return void 0!==n&&null!=(r=rQ.node(t,[n]))?r:[void 0,void 0]}catch(e){return[void 0,void 0]}}({editor:n});if(!i)return;let a=oA.toDOMNode(n,i).getBoundingClientRect();if(r.pageY<a.top)return"start";let[o]=dX({editor:n});if(!o)return;let l=oA.toDOMNode(n,o).getBoundingClientRect();if(r.pageY>l.bottom)return"end";let s=oA.toDOMNode(n,t).getBoundingClientRect(),c=s.top,u=s.height;return Math.abs(c-r.pageY)<u/2?"start":"end"}({node:i,slateEditor:n,event:r}),l=function(e){let{schema:t,slateEditor:n,event:r}=e,i=function(e,t){var n;let r,i;if(!t.target||!aH(t.target))return;let a=oA.getWindow(e);if(void 0!==a.document.caretPositionFromPoint){let e=a.document.caretPositionFromPoint(t.clientX,t.clientY);if(e)try{(r=a.document.createRange()).setStart(e.offsetNode,e.offset),r.setEnd(e.offsetNode,e.offset)}catch(e){}}else{if(void 0===a.document.caretRangeFromPoint)return void console.warn("Neither caretPositionFromPoint nor caretRangeFromPoint is supported");r=null!=(n=a.document.caretRangeFromPoint(t.clientX,t.clientY))?n:void 0}if(r){try{i=oA.toSlateRange(e,r,{exactMatch:!1,suppressThrow:!1})}catch(e){}return i}}(n,r);return i?d1({schema:t,editor:n,range:i}):null}({schema:t.getSnapshot().context.schema,slateEditor:n,event:r});if(a&&o&&!l&&!rQ.isEditor(i))return{block:o,isEditor:!1,selection:{anchor:sy({context:t.getSnapshot().context,block:{node:a,path:[{_key:a._key}]}}),focus:sT({context:t.getSnapshot().context,block:{node:a,path:[{_key:a._key}]}})}};if(!o||!l)return;let s=sf(l.focus);if(void 0!==s)return sA(l)&&a&&s!==a._key?{block:o,isEditor:!1,selection:{anchor:sy({context:t.getSnapshot().context,block:{node:a,path:[{_key:a._key}]}}),focus:sT({context:t.getSnapshot().context,block:{node:a,path:[{_key:a._key}]}})}}:{block:o,isEditor:rQ.isEditor(i),selection:l}}function d0(e,t){if(!e||!t)return null;let n=[],r=e.offset||0,i="object"==typeof e.path[0]&&"_key"in e.path[0]&&e.path[0]._key,a="object"==typeof e.path[2]&&"_key"in e.path[2]&&e.path[2]._key,o=t.find(e=>e._key===i);if(!o)return null;if(n.push({_key:o._key}),o&&"children"===e.path[1]){if(!o.children||Array.isArray(o.children)&&0===o.children.length)return null;let t=Array.isArray(o.children)&&o.children.find(e=>e._key===a);if(!t)return null;n.push("children"),n.push({_key:t._key}),r=t.text&&t.text.length>=e.offset?e.offset:t.text&&t.text.length||0}return{path:n,offset:r}}function d5(e){if(!e.context.selection)return null;if(sI(e.context.selection.anchor,e.context.selection.focus)){let t=d7(e,e.context.selection.anchor,e.context.selection.backward?"forward":"backward");return t?{anchor:t,focus:t}:null}let t=d7(e,e.context.selection.anchor,e.context.selection.backward?"forward":"backward"),n=d7(e,e.context.selection.focus,e.context.selection.backward?"backward":"forward");return t&&n?{anchor:t,focus:n}:null}function d7(e,t,n){var r;let i=sf(t);if(!i)return;let a=e.blockIndexMap.get(i);if(void 0===a)return;let o=e.context.value.at(a);if(!o)return;if(!sc(e.context,o))return{path:[a,0],offset:0};let l=sh({path:t.path}),s=l?void 0:sm({context:{schema:e.context.schema,value:[o]},blockOffset:{path:[{_key:i}],offset:t.offset},direction:n});if(!(l=s?sh(s):l))return{path:[a,0],offset:0};let c=null!=(r=null==s?void 0:s.offset)?r:t.offset,u=[],d=-1,p;for(let t of o.children)if(d++,t._key===l){p=t,su(e.context,t)?u=[d]:(u=[d,0],c=0);break}return 0===u.length?{path:[a,0],offset:0}:{path:[a].concat(u),offset:su(e.context,p)?Math.min(p.text.length,c):c}}let d3=new WeakMap,d8=new WeakMap,d4=new WeakMap,d6=new WeakMap,d9=(0,nR.createContext)({});function pe(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)("div",{contentEditable:!1,className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5},children:(0,_.jsx)("span",{})}),t[0]=e):e=t[0],e}function pt(e){let t,n,r=(0,j.c)(4);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={userSelect:"none"},r[0]=t):t=r[0],r[1]!==e.blockObject._key||r[2]!==e.blockObject._type?(n=(0,_.jsxs)("div",{style:t,children:["[",e.blockObject._type,": ",e.blockObject._key,"]"]}),r[1]=e.blockObject._key,r[2]=e.blockObject._type,r[3]=n):n=r[3],n}function pn(e){let t,n,r=(0,j.c)(4);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={userSelect:"none"},r[0]=t):t=r[0],r[1]!==e.inlineObject._key||r[2]!==e.inlineObject._type?(n=(0,_.jsxs)("span",{style:t,children:["[",e.inlineObject._type,": ",e.inlineObject._key,"]"]}),r[1]=e.inlineObject._key,r[2]=e.inlineObject._type,r[3]=n):n=r[3],n}function pr(e){let{eventSelection:t,snapshot:n}=e,r=t;if(s$({...n,context:{...n.context,selection:t}}))return r;let i=sz({context:{...n.context,selection:t}}),a=sP({...n,context:{...n.context,selection:t}}),o=sF({...n,context:{...n.context,selection:t}});i&&a&&o&&(r={anchor:sy({context:n.context,block:a}),focus:sT({context:n.context,block:a})});let l=sK(n);if(n.context.selection&&sV(n)&&l.length>1){let e=sq(n),i=sU(n);if(!e||!i)return r;let a=sy({context:n.context,block:e}),o=sT({context:n.context,block:i});ct(t)({...n,context:{...n.context,selection:{anchor:a,focus:o}}})&&(r={anchor:a,focus:o})}return r}function pi(e){return{id:sj(),name:null==e?void 0:e.name,reference:null==e?void 0:e.reference}}let pa=pi({name:"core"});function po(e){let t,n,r=(0,j.c)(5),{key:i,onSetDragPositionBlock:a}=e,o=(0,nR.useContext)(d9);r[0]!==o||r[1]!==i||r[2]!==a?(t=()=>{let e=function(e){let{key:t,onSetDragPositionBlock:n}=e;return[{behavior:{on:"drag.dragover",guard:e=>{let{snapshot:n,event:r}=e,i=sO({...n,context:{...n.context,selection:r.position.selection}});if(!i||i.node._key!==t)return!1;let a=r.dragOrigin;if(!a)return!1;let o=pr({eventSelection:a.selection,snapshot:n});return!sK({...n,context:{...n.context,selection:o}}).some(e=>e.node._key===t)&&cn({...n,context:{...n.context,selection:o}})},actions:[e=>{let{event:t}=e;return[{type:"effect",effect:()=>{n(t.position.block)}}]}]},priority:pi({reference:{priority:pa,importance:"lower"}})},{behavior:{on:"drag.*",guard:e=>{let{event:t}=e;return"drag.dragover"!==t.type},actions:[e=>{let{event:t}=e;return[{type:"effect",effect:()=>{n(void 0)}},ci(t)]}]},priority:pi({reference:{priority:pa,importance:"lower"}})}]}({key:i,onSetDragPositionBlock:a});for(let t of e)o.send({type:"add behavior",behaviorConfig:t});return()=>{for(let t of e)o.send({type:"remove behavior",behaviorConfig:t})}},n=[o,i,a],r[0]=o,r[1]=i,r[2]=a,r[3]=t,r[4]=n):(t=r[3],n=r[4]),(0,nR.useEffect)(t,n)}function pl(e){var t;let n,r,i,a,o,l,s,c,u,d=(0,j.c)(35),[p,f]=(0,nR.useState)(),h=(0,nR.useRef)(null),m=so();d[0]!==m?(n=e=>m&&null!==e.selection&&rH.isCollapsed(e.selection),d[0]=m,d[1]=n):n=d[1];let g=lK(n);if(d[2]!==e.element._key?(r={key:e.element._key,onSetDragPositionBlock:f},d[2]=e.element._key,d[3]=r):r=d[3],po(r),d[4]!==e.element._type||d[5]!==e.legacySchema.blockObjects){let t;d[7]!==e.element._type?(t=t=>t.name===e.element._type,d[7]=e.element._type,d[8]=t):t=d[8],i=e.legacySchema.blockObjects.find(t),d[4]=e.element._type,d[5]=e.legacySchema.blockObjects,d[6]=i}else i=d[6];let y=i;y||console.error('Unable to find Block Object "'.concat(e.element._type,'" in Schema')),d[9]!==e.blockObject||d[10]!==e.element._key||d[11]!==e.element._type?(a=null!=(t=e.blockObject)?t:{_key:e.element._key,_type:e.element._type},d[9]=e.blockObject,d[10]=e.element._key,d[11]=e.element._type,d[12]=a):a=d[12];let v=a;d[13]!==p?(o="start"===p?(0,_.jsx)(pe,{}):null,d[13]=p,d[14]=o):o=d[14];let b=!e.readOnly;return d[15]!==v||d[16]!==g||d[17]!==y||d[18]!==e.element._key||d[19]!==e.renderBlock||d[20]!==m?(l=e.renderBlock&&y?(0,_.jsx)(e.renderBlock,{editorElementRef:h,focused:g,path:[{_key:e.element._key}],schemaType:y,selected:m,type:y,value:v,children:(0,_.jsx)(pt,{blockObject:v})}):(0,_.jsx)(pt,{blockObject:v}),d[15]=v,d[16]=g,d[17]=y,d[18]=e.element._key,d[19]=e.renderBlock,d[20]=m,d[21]=l):l=d[21],d[22]!==b||d[23]!==l?(s=(0,_.jsx)("div",{ref:h,contentEditable:!1,draggable:b,children:l}),d[22]=b,d[23]=l,d[24]=s):s=d[24],d[25]!==p?(c="end"===p?(0,_.jsx)(pe,{}):null,d[25]=p,d[26]=c):c=d[26],d[27]!==e.attributes||d[28]!==e.children||d[29]!==e.element._key||d[30]!==e.element._type||d[31]!==o||d[32]!==s||d[33]!==c?(u=(0,_.jsxs)("div",{...e.attributes,className:"pt-block pt-object-block","data-block-key":e.element._key,"data-block-name":e.element._type,"data-block-type":"object",children:[o,e.children,s,c]}),d[27]=e.attributes,d[28]=e.children,d[29]=e.element._key,d[30]=e.element._type,d[31]=o,d[32]=s,d[33]=c,d[34]=u):u=d[34],u}function ps(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(32),u=(0,nR.useRef)(null),d=o6(),p=so();c[0]!==p?(t=e=>p&&null!==e.selection&&rH.isCollapsed(e.selection),c[0]=p,c[1]=t):t=c[1];let f=lK(t);if(c[2]!==e.element._type||c[3]!==e.legacySchema.inlineObjects){let t;c[5]!==e.element._type?(t=t=>t.name===e.element._type,c[5]=e.element._type,c[6]=t):t=c[6],n=e.legacySchema.inlineObjects.find(t),c[2]=e.element._type,c[3]=e.legacySchema.inlineObjects,c[4]=n}else n=c[4];let h=n;if(h||console.error('Unable to find Inline Object "'.concat(e.element._type,'" in Schema')),c[7]!==e.element||c[8]!==d){let t=oA.findPath(d,e.element);r=d$({editor:d,point:{path:t,offset:0}}),c[7]=e.element,c[8]=d,c[9]=r}else r=c[9];let[m]=r;m||console.error("Unable to find parent block of inline object ".concat(e.element._key)),c[10]!==e.element?(i="value"in e.element&&"object"==typeof e.element.value?e.element.value:{},c[10]=e.element,c[11]=i):i=c[11],c[12]!==e.element._key||c[13]!==e.element._type||c[14]!==i?(a={_key:e.element._key,_type:e.element._type,...i},c[12]=e.element._key,c[13]=e.element._type,c[14]=i,c[15]=a):a=c[15];let g=a,y=!e.readOnly;return c[16]===Symbol.for("react.memo_cache_sentinel")?(o={display:"inline-block"},c[16]=o):o=c[16],c[17]!==m||c[18]!==f||c[19]!==g||c[20]!==h||c[21]!==e.element._key||c[22]!==e.renderChild||c[23]!==p?(l=(0,_.jsx)("span",{ref:u,style:o,children:e.renderChild&&m&&h?(0,_.jsx)(e.renderChild,{annotations:[],editorElementRef:u,selected:p,focused:f,path:[{_key:m._key},"children",{_key:e.element._key}],schemaType:h,value:g,type:h,children:(0,_.jsx)(pn,{inlineObject:g})}):(0,_.jsx)(pn,{inlineObject:g})}),c[17]=m,c[18]=f,c[19]=g,c[20]=h,c[21]=e.element._key,c[22]=e.renderChild,c[23]=p,c[24]=l):l=c[24],c[25]!==g._key||c[26]!==g._type||c[27]!==e.attributes||c[28]!==e.children||c[29]!==y||c[30]!==l?(s=(0,_.jsxs)("span",{...e.attributes,draggable:y,className:"pt-inline-object","data-child-key":g._key,"data-child-name":g._type,"data-child-type":"object",children:[e.children,l]}),c[25]=g._key,c[26]=g._type,c[27]=e.attributes,c[28]=e.children,c[29]=y,c[30]=l,c[31]=s):s=c[31],s}function pc(e){var t,n;let r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v=(0,j.c)(77),[b,x]=(0,nR.useState)(),C=(0,nR.useRef)(null),k=so();v[0]!==k?(r=e=>k&&null!==e.selection&&rH.isCollapsed(e.selection),v[0]=k,v[1]=r):r=v[1];let w=lK(r);v[2]!==e.element._key?(i={key:e.element._key,onSetDragPositionBlock:x},v[2]=e.element._key,v[3]=i):i=v[3],po(i),v[4]!==e.textBlock._key?(a=t=>t.listIndexMap.get(e.textBlock._key),v[4]=e.textBlock._key,v[5]=a):a=v[5];let S=lK(a),E=e.children;if(e.renderStyle&&e.textBlock.style){let t;v[6]!==e.legacySchema||v[7]!==e.textBlock.style?(t=void 0!==e.textBlock.style?e.legacySchema.styles.find(t=>t.value===e.textBlock.style):void 0,v[6]=e.legacySchema,v[7]=e.textBlock.style,v[8]=t):t=v[8];let n=t;if(n){let t,r;v[9]!==e.textBlock._key?(t=[{_key:e.textBlock._key}],v[9]=e.textBlock._key,v[10]=t):t=v[10],v[11]!==E||v[12]!==w||v[13]!==n||v[14]!==e.renderStyle||v[15]!==e.textBlock||v[16]!==k||v[17]!==t?(r=(0,_.jsx)(e.renderStyle,{block:e.textBlock,editorElementRef:C,focused:w,path:t,schemaType:n,selected:k,value:e.textBlock.style,children:E}),v[11]=E,v[12]=w,v[13]=n,v[14]=e.renderStyle,v[15]=e.textBlock,v[16]=k,v[17]=t,v[18]=r):r=v[18],E=r}else console.error("Unable to find Schema type for text block style ".concat(e.textBlock.style))}if(e.renderListItem&&e.textBlock.listItem){let n;if(v[19]!==e.legacySchema.lists||v[20]!==e.textBlock.listItem){let t;v[22]!==e.textBlock.listItem?(t=t=>t.value===e.textBlock.listItem,v[22]=e.textBlock.listItem,v[23]=t):t=v[23],n=e.legacySchema.lists.find(t),v[19]=e.legacySchema.lists,v[20]=e.textBlock.listItem,v[21]=n}else n=v[21];let r=n;if(r){let n,i,a=null!=(t=e.textBlock.level)?t:1;v[24]!==e.textBlock._key?(n=[{_key:e.textBlock._key}],v[24]=e.textBlock._key,v[25]=n):n=v[25],v[26]!==E||v[27]!==w||v[28]!==r||v[29]!==e.renderListItem||v[30]!==e.textBlock||v[31]!==k||v[32]!==a||v[33]!==n?(i=(0,_.jsx)(e.renderListItem,{block:e.textBlock,editorElementRef:C,focused:w,level:a,path:n,selected:k,value:e.textBlock.listItem,schemaType:r,children:E}),v[26]=E,v[27]=w,v[28]=r,v[29]=e.renderListItem,v[30]=e.textBlock,v[31]=k,v[32]=a,v[33]=n,v[34]=i):i=v[34],E=i}else console.error("Unable to find Schema type for text block list item ".concat(e.textBlock.listItem))}let T=e.attributes;v[35]!==e.textBlock.style?(o=e.textBlock.style?["pt-text-block-style-".concat(e.textBlock.style)]:[],v[35]=e.textBlock.style,v[36]=o):o=v[36],v[37]!==e.textBlock.level||v[38]!==e.textBlock.listItem?(l=e.textBlock.listItem?["pt-list-item","pt-list-item-".concat(e.textBlock.listItem),"pt-list-item-level-".concat(null!=(n=e.textBlock.level)?n:1)]:[],v[37]=e.textBlock.level,v[38]=e.textBlock.listItem,v[39]=l):l=v[39],v[40]!==o||v[41]!==l?(s=["pt-block","pt-text-block",...o,...l],v[40]=o,v[41]=l,v[42]=s):s=v[42];let D=s.join(" ");return v[43]!==e.textBlock.listItem?(c=void 0!==e.textBlock.listItem?{"data-list-item":e.textBlock.listItem}:{},v[43]=e.textBlock.listItem,v[44]=c):c=v[44],v[45]!==e.textBlock.level?(u=void 0!==e.textBlock.level?{"data-level":e.textBlock.level}:{},v[45]=e.textBlock.level,v[46]=u):u=v[46],v[47]!==e.textBlock.style?(d=void 0!==e.textBlock.style?{"data-style":e.textBlock.style}:{},v[47]=e.textBlock.style,v[48]=d):d=v[48],v[49]!==S?(p=void 0!==S?{"data-list-index":S}:{},v[49]=S,v[50]=p):p=v[50],v[51]!==b?(f="start"===b?(0,_.jsx)(pe,{}):null,v[51]=b,v[52]=f):f=v[52],v[53]!==E||v[54]!==w||v[55]!==e.legacySchema||v[56]!==e.renderBlock||v[57]!==e.textBlock||v[58]!==k?(h=e.renderBlock?(0,_.jsx)(e.renderBlock,{editorElementRef:C,focused:w,level:e.textBlock.level,listItem:e.textBlock.listItem,path:[{_key:e.textBlock._key}],selected:k,schemaType:e.legacySchema.block,style:e.textBlock.style,type:e.legacySchema.block,value:e.textBlock,children:E}):E,v[53]=E,v[54]=w,v[55]=e.legacySchema,v[56]=e.renderBlock,v[57]=e.textBlock,v[58]=k,v[59]=h):h=v[59],v[60]!==h?(m=(0,_.jsx)("div",{ref:C,children:h}),v[60]=h,v[61]=m):m=v[61],v[62]!==b?(g="end"===b?(0,_.jsx)(pe,{}):null,v[62]=b,v[63]=g):g=v[63],v[64]!==e.attributes||v[65]!==e.spellCheck||v[66]!==e.textBlock._key||v[67]!==e.textBlock._type||v[68]!==d||v[69]!==p||v[70]!==f||v[71]!==m||v[72]!==g||v[73]!==D||v[74]!==c||v[75]!==u?(y=(0,_.jsxs)("div",{...T,className:D,spellCheck:e.spellCheck,"data-block-key":e.textBlock._key,"data-block-name":e.textBlock._type,"data-block-type":"text",...c,...u,...d,...p,children:[f,m,g]}),v[64]=e.attributes,v[65]=e.spellCheck,v[66]=e.textBlock._key,v[67]=e.textBlock._type,v[68]=d,v[69]=p,v[70]=f,v[71]=m,v[72]=g,v[73]=D,v[74]=c,v[75]=u,v[76]=y):y=v[76],y}function pu(e){let t,n,r,i=(0,j.c)(34),a=(0,nR.useContext)(d9),o=(0,nN.useSelector)(a,pp),l=(0,nN.useSelector)(a,pd),s=o6();if("__inline"in e.element&&!0===e.element.__inline){let t;return i[0]!==l||i[1]!==e.attributes||i[2]!==e.children||i[3]!==e.element||i[4]!==e.readOnly||i[5]!==e.renderChild||i[6]!==o?(t=(0,_.jsx)(ps,{attributes:e.attributes,element:e.element,legacySchema:l,readOnly:e.readOnly,renderChild:e.renderChild,schema:o,children:e.children}),i[0]=l,i[1]=e.attributes,i[2]=e.children,i[3]=e.element,i[4]=e.readOnly,i[5]=e.renderChild,i[6]=o,i[7]=t):t=i[7],t}if(i[8]!==e.element._key||i[9]!==o||i[10]!==s.blockIndexMap||i[11]!==s.value){let r=s.blockIndexMap.get(e.element._key);n=sc({schema:o},t=void 0!==r?s.value.at(r):void 0),i[8]=e.element._key,i[9]=o,i[10]=s.blockIndexMap,i[11]=s.value,i[12]=t,i[13]=n}else t=i[12],n=i[13];if(n){let n;return i[14]!==t||i[15]!==l||i[16]!==e.attributes||i[17]!==e.children||i[18]!==e.element||i[19]!==e.readOnly||i[20]!==e.renderBlock||i[21]!==e.renderListItem||i[22]!==e.renderStyle||i[23]!==e.spellCheck?(n=(0,_.jsx)(pc,{attributes:e.attributes,element:e.element,legacySchema:l,readOnly:e.readOnly,renderBlock:e.renderBlock,renderListItem:e.renderListItem,renderStyle:e.renderStyle,spellCheck:e.spellCheck,textBlock:t,children:e.children}),i[14]=t,i[15]=l,i[16]=e.attributes,i[17]=e.children,i[18]=e.element,i[19]=e.readOnly,i[20]=e.renderBlock,i[21]=e.renderListItem,i[22]=e.renderStyle,i[23]=e.spellCheck,i[24]=n):n=i[24],n}return i[25]!==t||i[26]!==l||i[27]!==e.attributes||i[28]!==e.children||i[29]!==e.element||i[30]!==e.readOnly||i[31]!==e.renderBlock||i[32]!==o?(r=(0,_.jsx)(pl,{attributes:e.attributes,blockObject:t,element:e.element,legacySchema:l,readOnly:e.readOnly,renderBlock:e.renderBlock,schema:o,children:e.children}),i[25]=t,i[26]=l,i[27]=e.attributes,i[28]=e.children,i[29]=e.element,i[30]=e.readOnly,i[31]=e.renderBlock,i[32]=o,i[33]=r):r=i[33],r}function pd(e){return e.context.getLegacySchema()}function pp(e){return e.context.schema}function pf(e){let{editorActorSnapshot:t,slateEditorInstance:n}=e;return{blockIndexMap:n.blockIndexMap,context:{converters:[...t.context.converters],keyGenerator:t.context.keyGenerator,readOnly:t.matches({"edit mode":"read only"}),schema:t.context.schema,selection:t.context.selection,value:n.value},decoratorState:n.decoratorState}}function ph(e){let t,n,r,i,a,o,l=(0,j.c)(40),s=o6(),c=(0,nR.useContext)(d9),u=(0,nN.useSelector)(c,pg),d=(0,nR.useRef)(null);l[0]!==e.leaf._key||l[1]!==s?(t=t=>{let n=pf({editorActorSnapshot:t,slateEditorInstance:s});if(!n.context.selection||!sz(n))return!1;let r=sF(n);return!!r&&r.node._key===e.leaf._key},l[0]=e.leaf._key,l[1]=s,l[2]=t):t=l[2];let p=(0,nN.useSelector)(c,t);l[3]!==e.children.props.parent||l[4]!==e.leaf._key||l[5]!==e.leaf.text||l[6]!==s?(n=t=>{let n=pf({editorActorSnapshot:t,slateEditorInstance:s});if(!n.context.selection)return!1;let r=e.children.props.parent,i=r&&sc(n.context,r)?r:void 0;return ct(i?{anchor:{path:[{_key:i._key},"children",{_key:e.leaf._key}],offset:0},focus:{path:[{_key:i._key},"children",{_key:e.leaf._key}],offset:e.leaf.text.length}}:null)(n)},l[3]=e.children.props.parent,l[4]=e.leaf._key,l[5]=e.leaf.text,l[6]=s,l[7]=n):n=l[7];let f=(0,nN.useSelector)(c,n),h=e.children.props.parent,m=h&&s.isTextBlock(h)?h:void 0;l[8]!==m||l[9]!==e.leaf._key?(r=m?[{_key:m._key},"children",{_key:e.leaf._key}]:void 0,l[8]=m,l[9]=e.leaf._key,l[10]=r):r=l[10];let g=r;if(l[11]!==m||l[12]!==c||l[13]!==p||l[14]!==u||l[15]!==g||l[16]!==e.children||l[17]!==e.leaf.marks||l[18]!==e.renderAnnotation||l[19]!==e.renderDecorator||l[20]!==f){var y,v;let t=c.getSnapshot().context.schema.decorators.map(pm),n=(0,nC.default)((null!=(y=e.leaf.marks)?y:[]).filter(e=>t.includes(e)));for(let r of(i=(null!=(v=e.leaf.marks)?v:[]).flatMap(e=>{var n;if(t.includes(e))return[];let r=null==m||null==(n=m.markDefs)?void 0:n.find(t=>t._key===e);return r?[r]:[]}),a=e.children,n)){let t=u.decorators.find(e=>e.value===r);g&&t&&e.renderDecorator&&(a=(0,_.jsx)(e.renderDecorator,{editorElementRef:d,focused:p,path:g,selected:f,schemaType:t,value:r,type:t,children:a}))}for(let t of i){let n=u.annotations.find(e=>e.name===t._type);n&&(a=m&&g&&e.renderAnnotation?(0,_.jsx)("span",{ref:d,children:(0,_.jsx)(e.renderAnnotation,{block:m,editorElementRef:d,focused:p,path:g,selected:f,schemaType:n,value:t,type:n,children:a})}):(0,_.jsx)("span",{ref:d,children:a}))}l[11]=m,l[12]=c,l[13]=p,l[14]=u,l[15]=g,l[16]=e.children,l[17]=e.leaf.marks,l[18]=e.renderAnnotation,l[19]=e.renderDecorator,l[20]=f,l[21]=i,l[22]=a}else i=l[21],a=l[22];if(m&&g&&e.renderChild){let t;if(l[23]!==m.children||l[24]!==e.leaf){let n;l[26]!==e.leaf?(n=t=>t._key===e.leaf._key,l[26]=e.leaf,l[27]=n):n=l[27],t=m.children.find(n),l[23]=m.children,l[24]=e.leaf,l[25]=t}else t=l[25];let n=t;if(n){let t;l[28]!==i||l[29]!==n||l[30]!==a||l[31]!==p||l[32]!==u.span||l[33]!==g||l[34]!==e.renderChild||l[35]!==f?(t=(0,_.jsx)(e.renderChild,{annotations:i,editorElementRef:d,focused:p,path:g,schemaType:u.span,selected:f,value:n,type:u.span,children:a}),l[28]=i,l[29]=n,l[30]=a,l[31]=p,l[32]=u.span,l[33]=g,l[34]=e.renderChild,l[35]=f,l[36]=t):t=l[36],a=t}}return l[37]!==a||l[38]!==e.attributes?(o=(0,_.jsx)("span",{...e.attributes,ref:d,children:a}),l[37]=a,l[38]=e.attributes,l[39]=o):o=l[39],o}function pm(e){return e.name}function pg(e){return e.context.getLegacySchema()}let py={position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0};function pv(e){let t,n=(0,j.c)(12),r=(0,nR.useContext)(d9),i=(0,nN.useSelector)(r,pb);if(e.leaf._type!==i.span.name)return e.children;n[0]!==e?(t=(0,_.jsx)(ph,{...e}),n[0]=e,n[1]=t):t=n[1];let a=t;if(e.renderPlaceholder&&e.leaf.placeholder&&""===e.text.text){let t,r,i;return n[2]!==e.renderPlaceholder?(t=e.renderPlaceholder(),n[2]=e.renderPlaceholder,n[3]=t):t=n[3],n[4]!==t?(r=(0,_.jsx)("span",{style:py,contentEditable:!1,children:t}),n[4]=t,n[5]=r):r=n[5],n[6]!==a||n[7]!==r?(i=(0,_.jsxs)(_.Fragment,{children:[r,a]}),n[6]=a,n[7]=r,n[8]=i):i=n[8],i}let o=e.leaf.rangeDecoration;if(o){let e;n[9]!==o||n[10]!==a?(e=o.component({children:a}),n[9]=o,n[10]=a,n[11]=e):e=n[11],a=e}return a}function pb(e){return e.context.schema}function px(e){let t,n=(0,j.c)(5);return n[0]!==e.attributes||n[1]!==e.children||n[2]!==e.text._key||n[3]!==e.text._type?(t=(0,_.jsx)("span",{...e.attributes,"data-child-key":e.text._key,"data-child-name":e.text._type,"data-child-type":"span",children:e.children}),n[0]=e.attributes,n[1]=e.children,n[2]=e.text._key,n[3]=e.text._type,n[4]=t):t=n[4],t}let pC=(0,nR.createContext)(null),pk=()=>{let e=(0,nR.useContext)(pC);if(!e)throw Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},pw="u">typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.userAgent),p_={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},pj={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:pw?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},pS={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,f20:131};function pE(e){let t={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1},n=e.replace("++","+add").split("+");for(let e of n){let r=e.endsWith("?")&&e.length>1,i=r?e.slice(0,-1):e,a=pD(i),o=p_[a],l=pj[i],s=pS[a];if(i.length>1&&void 0===o&&void 0===l&&void 0===s)throw TypeError('Unknown modifier: "'.concat(i,'"'));(1===n.length||void 0===o)&&(t.key=a,t.keyCode=function(e){var t;let n=pD(e);return null!=(t=pS[n])?t:n.toUpperCase().charCodeAt(0)}(i)),void 0!==o&&(t[o]=!r||null)}return t}function pT(e,t){return(null==e.altKey||e.altKey===t.altKey)&&(null==e.ctrlKey||e.ctrlKey===t.ctrlKey)&&(null==e.metaKey||e.metaKey===t.metaKey)&&(null==e.shiftKey||e.shiftKey===t.shiftKey)&&(void 0!==e.keyCode&&void 0!==t.keyCode?91===e.keyCode&&93===t.keyCode||e.keyCode===t.keyCode:e.keyCode===t.keyCode||e.key===t.key.toLowerCase())}function pD(e){var t;let n=e.toLowerCase();return null!=(t=pj[n])?t:n}let pI=dV("plugin:withHotKeys"),pA=(0,cl.setup)({types:{context:{},input:{},events:{}},actions:{"update pending range decorations":(0,cc.assign)({pendingRangeDecorations:e=>{let{context:t,event:n}=e;return"range decorations updated"!==n.type?t.pendingRangeDecorations:n.rangeDecorations}}),"set up initial range decorations":e=>{let{context:t}=e,n=[];for(let e of t.pendingRangeDecorations){let i=d5({context:{schema:t.schema,value:t.slateEditor.value,selection:e.selection},blockIndexMap:t.slateEditor.blockIndexMap});if(!rH.isRange(i)){var r;null==(r=e.onMoved)||r.call(e,{newSelection:null,rangeDecoration:e,origin:"local"});continue}n.push({rangeDecoration:e,...i})}t.slateEditor.decoratedRanges=n},"update range decorations":e=>{let{context:t,event:n}=e;if("range decorations updated"!==n.type)return;let r=[];for(let e of n.rangeDecorations){let n=d5({context:{schema:t.schema,value:t.slateEditor.value,selection:e.selection},blockIndexMap:t.slateEditor.blockIndexMap});if(!rH.isRange(n)){var i;null==(i=e.onMoved)||i.call(e,{newSelection:null,rangeDecoration:e,origin:"local"});continue}r.push({rangeDecoration:e,...n})}t.slateEditor.decoratedRanges=r},"move range decorations":e=>{let{context:t,event:n}=e;if("slate operation"!==n.type)return;let r=[];for(let e of t.slateEditor.decoratedRanges){var i,a,o,l;let s,c=d5({context:{schema:t.schema,value:t.slateEditor.value,selection:e.rangeDecoration.selection},blockIndexMap:t.slateEditor.blockIndexMap});if(!rH.isRange(c)){null==(i=(a=e.rangeDecoration).onMoved)||i.call(a,{newSelection:null,rangeDecoration:e.rangeDecoration,origin:"local"});continue}if((s=function(e,t){let n=r5.transform(e.anchor,t),r=r5.transform(e.focus,t);return null===n||null===r?null:r5.equals(n,e.anchor)&&r5.equals(r,e.focus)?e:{anchor:n,focus:r}}(c,n.operation))&&s!==c||null===s&&c){let n=s?d1({schema:t.schema,editor:t.slateEditor,range:s}):null;null==(o=(l=e.rangeDecoration).onMoved)||o.call(l,{newSelection:n,rangeDecoration:e.rangeDecoration,origin:"local"})}null!==s&&r.push({...s||c,rangeDecoration:{...e.rangeDecoration,selection:d1({schema:t.schema,editor:t.slateEditor,range:s})}})}t.slateEditor.decoratedRanges=r},"assign readOnly":(0,cc.assign)({readOnly:e=>{let{context:t,event:n}=e;return"update read only"!==n.type?t.readOnly:n.readOnly}}),"update decorate":(0,cc.assign)({decorate:e=>{let{context:t}=e;return{fn:pO(t.schema,t.slateEditor)}}})},actors:{"slate operation listener":(0,cs.fromCallback)(e=>{let{input:t,sendBack:n}=e,r=t.slateEditor.apply;return t.slateEditor.apply=e=>{"set_selection"!==e.type&&n({type:"slate operation",operation:e}),r(e)},()=>{t.slateEditor.apply=r}})},guards:{"has pending range decorations":e=>{let{context:t}=e;return t.pendingRangeDecorations.length>0},"has range decorations":e=>{let{context:t}=e;return t.slateEditor.decoratedRanges.length>0},"has different decorations":e=>{let{context:t,event:n}=e;if("range decorations updated"!==n.type)return!1;let r=t.slateEditor.decoratedRanges.map(e=>{var t,n;return{anchor:null==(t=e.rangeDecoration.selection)?void 0:t.anchor,focus:null==(n=e.rangeDecoration.selection)?void 0:n.focus,payload:e.rangeDecoration.payload}}),i=n.rangeDecorations.map(e=>{var t,n;return{anchor:null==(t=e.selection)?void 0:t.anchor,focus:null==(n=e.selection)?void 0:n.focus,payload:e.payload}});return!(0,e4.default)(r,i)},"not read only":e=>{let{context:t}=e;return!t.readOnly},"should skip setup":e=>{let{context:t}=e;return t.skipSetup}}}).createMachine({id:"range decorations",context:e=>{let{input:t}=e;return{readOnly:t.readOnly,pendingRangeDecorations:t.rangeDecorations,decoratedRanges:[],skipSetup:t.skipSetup,schema:t.schema,slateEditor:t.slateEditor,decorate:{fn:pO(t.schema,t.slateEditor)}}},invoke:{src:"slate operation listener",input:e=>{let{context:t}=e;return{slateEditor:t.slateEditor}}},on:{"update read only":{actions:["assign readOnly"]}},initial:"setting up",states:{"setting up":{always:[{guard:(0,cu.a)(["should skip setup","has pending range decorations"]),target:"ready",actions:["set up initial range decorations","update decorate"]},{guard:"should skip setup",target:"ready"}],on:{"range decorations updated":{actions:["update pending range decorations"]},ready:[{target:"ready",guard:"has pending range decorations",actions:["set up initial range decorations","update decorate"]},{target:"ready"}]}},ready:{initial:"idle",on:{"range decorations updated":{target:".idle",guard:"has different decorations",actions:["update range decorations","update decorate"]}},states:{idle:{on:{"slate operation":{target:"moving range decorations",guard:(0,cu.a)(["has range decorations","not read only"])}}},"moving range decorations":{entry:["move range decorations"],always:{target:"idle"}}}}}});function pO(e,t){return function(n){let[r,i]=n;if(dY(t.children,e))return[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}];if(0===i.length||!rW.isElement(r)||0===r.children.length)return[];let a=i.at(0);return void 0===a?[]:t.decoratedRanges.filter(e=>rH.isCollapsed(e)?r.children.some((t,n)=>rT.equals(e.anchor.path,[a,n])&&rT.equals(e.focus.path,[a,n])):rH.intersection(e,{anchor:{path:i,offset:0},focus:{path:i,offset:0}})||rH.includes(e,i))}}let pP=(0,nR.createContext)({}),pM=dV("component:Editable"),pF=(0,nR.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,E,T,D,I,A,O,P,M,F,R,B,N,L,z,V,U,H,q,W,Y,K,G,$,Z,X,J,Q,ee,et,en,er,ei,ea,eo,el,es,ec,eu,ed,ep=(0,j.c)(172);ep[0]!==e?({hotkeys:n,onBlur:i,onFocus:m,onBeforeInput:r,onPaste:g,onCopy:o,onCut:l,onClick:a,onDragStart:f,onDrag:s,onDragEnd:c,onDragEnter:u,onDragOver:p,onDrop:h,onDragLeave:d,rangeDecorations:v,renderAnnotation:b,renderBlock:x,renderChild:C,renderDecorator:k,renderListItem:w,renderPlaceholder:S,renderStyle:E,selection:y,scrollSelectionIntoView:D,spellCheck:I,...T}=e,ep[0]=e,ep[1]=n,ep[2]=r,ep[3]=i,ep[4]=a,ep[5]=o,ep[6]=l,ep[7]=s,ep[8]=c,ep[9]=u,ep[10]=d,ep[11]=p,ep[12]=f,ep[13]=h,ep[14]=m,ep[15]=g,ep[16]=y,ep[17]=v,ep[18]=b,ep[19]=x,ep[20]=C,ep[21]=k,ep[22]=w,ep[23]=S,ep[24]=E,ep[25]=T,ep[26]=D,ep[27]=I):(n=ep[1],r=ep[2],i=ep[3],a=ep[4],o=ep[5],l=ep[6],s=ep[7],c=ep[8],u=ep[9],d=ep[10],p=ep[11],f=ep[12],h=ep[13],m=ep[14],g=ep[15],y=ep[16],v=ep[17],b=ep[18],x=ep[19],C=ep[20],k=ep[21],w=ep[22],S=ep[23],E=ep[24],T=ep[25],D=ep[26],I=ep[27]);let ef=pk(),[eh,em]=(0,nR.useState)(!1),eg=(0,nR.useContext)(d9),ey=(0,nR.useContext)(pP),ev=(0,nN.useSelector)(eg,pR),eb=lG();ep[28]!==v?(A=null!=v?v:[],ep[28]=v,ep[29]=A):A=ep[29],ep[30]!==eg?(O=eg.getSnapshot(),ep[30]=eg,ep[31]=O):O=ep[31];let ex=!eg.getSnapshot().matches({setup:"setting up"});ep[32]!==ev||ep[33]!==eb||ep[34]!==A||ep[35]!==O.context.schema||ep[36]!==ex?(P={input:{rangeDecorations:A,readOnly:ev,schema:O.context.schema,slateEditor:eb,skipSetup:ex}},ep[32]=ev,ep[33]=eb,ep[34]=A,ep[35]=O.context.schema,ep[36]=ex,ep[37]=P):P=ep[37];let eC=(0,nN.useActorRef)(pA,P),ek=(0,nN.useSelector)(eC,pB);ep[38]!==eC||ep[39]!==ev?(M=()=>{eC.send({type:"update read only",readOnly:ev})},F=[eC,ev],ep[38]=eC,ep[39]=ev,ep[40]=M,ep[41]=F):(M=ep[40],F=ep[41]),(0,nR.useEffect)(M,F),ep[42]!==v||ep[43]!==eC?(R=()=>{eC.send({type:"range decorations updated",rangeDecorations:null!=v?v:[]})},B=[eC,v],ep[42]=v,ep[43]=eC,ep[44]=R,ep[45]=B):(R=ep[44],B=ep[45]),(0,nR.useEffect)(R,B),ev||(function(e,t,n){let r=["enter","tab","shift","delete","end"],i=null!=n?n:{};return function(n){return n.pteWithHotKeys=a=>{Object.keys(i).forEach(o=>{var l,s;if("marks"===o)for(let t in i[o]){if(r.includes(t))throw Error("The hotkey ".concat(t," is reserved!"));if(l=a.nativeEvent,pT(pE(t),l)){a.preventDefault();let r=i[o];if(r){let i=r[t];pI("HotKey ".concat(t," to toggle ").concat(i)),e.send({type:"behavior event",behaviorEvent:{type:"decorator.toggle",decorator:i},editor:n})}}}if("custom"===o)for(let e in i[o]){if(r.includes(e))throw Error("The hotkey ".concat(e," is reserved!"));if(s=a.nativeEvent,pT(pE(e),s)){let n=i[o];n&&(0,n[e])(a,t)}}})},n}})(eg,ef,n)(eb),ep[46]!==ev||ep[47]!==x||ep[48]!==C||ep[49]!==w||ep[50]!==E||ep[51]!==I?(N=e=>(0,_.jsx)(pu,{...e,readOnly:ev,renderBlock:x,renderChild:C,renderListItem:w,renderStyle:E,spellCheck:I}),ep[46]=ev,ep[47]=x,ep[48]=C,ep[49]=w,ep[50]=E,ep[51]=I,ep[52]=N):N=ep[52];let ew=N;ep[53]!==ev||ep[54]!==b||ep[55]!==C||ep[56]!==k||ep[57]!==S?(L=e=>(0,_.jsx)(pv,{...e,readOnly:ev,renderAnnotation:b,renderChild:C,renderDecorator:k,renderPlaceholder:S}),ep[53]=ev,ep[54]=b,ep[55]=C,ep[56]=k,ep[57]=S,ep[58]=L):L=ep[58];let e_=L;ep[59]!==eg||ep[60]!==y||ep[61]!==eb?(z=()=>{if(y){pM("Selection from props ".concat(JSON.stringify(y)));let e=function(e,t){if(!e||!t||0===t.length)return null;let n=null,r=null,{anchor:i,focus:a}=e;return i&&t.find(e=>(0,e4.default)({_key:e._key},i.path[0]))&&(n=d0(i,t)),a&&t.find(e=>(0,e4.default)({_key:e._key},a.path[0]))&&(r=d0(a,t)),n&&r?{anchor:n,focus:r,backward:e.backward}:null}(y,dW(eb.children,eg.getSnapshot().context.schema.block.name));if(null!==e){pM("Normalized selection from props ".concat(JSON.stringify(e)));let t=d5({context:{schema:eg.getSnapshot().context.schema,value:eb.value,selection:e},blockIndexMap:eb.blockIndexMap});t&&(iO.select(eb,t),eb.operations.some(pL)||eg.send({type:"update selection",selection:e}),eb.onChange())}}},ep[59]=eg,ep[60]=y,ep[61]=eb,ep[62]=z):z=ep[62];let ej=z;ep[63]!==eg||ep[64]!==eC||ep[65]!==ej?(V=()=>{let e=eg.on("ready",()=>{eC.send({type:"ready"}),ej()}),t=eg.on("invalid value",()=>{em(!0)}),n=eg.on("value changed",()=>{em(!1)});return()=>{e.unsubscribe(),t.unsubscribe(),n.unsubscribe()}},U=[eC,eg,ej],ep[63]=eg,ep[64]=eC,ep[65]=ej,ep[66]=V,ep[67]=U):(V=ep[66],U=ep[67]),(0,nR.useEffect)(V,U),ep[68]!==eh||ep[69]!==y||ep[70]!==ej?(H=()=>{y&&!eh&&ej()},q=[eh,y,ej],ep[68]=eh,ep[69]=y,ep[70]=ej,ep[71]=H,ep[72]=q):(H=ep[71],q=ep[72]),(0,nR.useEffect)(H,q),ep[73]!==eg||ep[74]!==o||ep[75]!==eb?(W=e=>{if(o)void 0!==o(e)&&e.preventDefault();else if(e.nativeEvent.clipboardData){e.stopPropagation(),e.preventDefault();let t=eb.selection?d1({schema:eg.getSnapshot().context.schema,editor:eb,range:eb.selection}):void 0,n=t?{selection:t}:void 0;if(!n)return void console.warn("Could not find position for copy event");eg.send({type:"behavior event",behaviorEvent:{type:"clipboard.copy",originEvent:{dataTransfer:e.nativeEvent.clipboardData},position:n},editor:eb,nativeEvent:e})}},ep[73]=eg,ep[74]=o,ep[75]=eb,ep[76]=W):W=ep[76];let eS=W;ep[77]!==eg||ep[78]!==l||ep[79]!==eb?(Y=e=>{if(l)void 0!==l(e)&&e.preventDefault();else if(e.nativeEvent.clipboardData){e.stopPropagation(),e.preventDefault();let t=eg.getSnapshot().context.selection,n=t?{selection:t}:void 0;if(!n)return void console.warn("Could not find position for cut event");eg.send({type:"behavior event",behaviorEvent:{type:"clipboard.cut",originEvent:{dataTransfer:e.nativeEvent.clipboardData},position:n},editor:eb,nativeEvent:e})}},ep[77]=eg,ep[78]=l,ep[79]=eb,ep[80]=Y):Y=ep[80];let eE=Y;ep[81]!==eg||ep[82]!==g||ep[83]!==ef||ep[84]!==ey||ep[85]!==eb?(K=e=>{var t;let n=dW(eb.children,eg.getSnapshot().context.schema.block.name,d4.get(eb)),r=(null==(t=eb.selection?d1({schema:eg.getSnapshot().context.schema,editor:eb,range:eb.selection}):null)?void 0:t.focus.path)||[],i=null==g?void 0:g({event:e,value:n,path:r,schemaTypes:ef.schemaTypes});if(i||!eb.selection)e.preventDefault(),ey.send({type:"loading"}),Promise.resolve(i).then(t=>{if(pM("Custom paste function from client resolved",t),t&&t.insert)t.insert?eg.send({type:"behavior event",behaviorEvent:{type:"insert.blocks",blocks:function(e){let{context:t,blocks:n,options:r}=e;return Array.isArray(n)?n.flatMap(e=>{let n=sk({context:t,block:e,options:r});return n?[n]:[]}):[]}({context:{keyGenerator:eg.getSnapshot().context.keyGenerator,schema:eg.getSnapshot().context.schema},blocks:t.insert,options:{validateFields:!1}}),placement:"auto"},editor:eb}):console.warn("Your onPaste function returned something unexpected:",t);else{pM("No result from custom paste handler, pasting normally");let t=eg.getSnapshot().context.selection,n=t?{selection:t}:void 0;if(!n)return void console.warn("Could not find position for paste event");eg.send({type:"behavior event",behaviorEvent:{type:"clipboard.paste",originEvent:{dataTransfer:e.clipboardData},position:n},editor:eb,nativeEvent:e})}}).catch(pz).finally(()=>{ey.send({type:"done loading"})});else if(e.nativeEvent.clipboardData){e.preventDefault(),e.stopPropagation();let t=eg.getSnapshot().context.selection,n=t?{selection:t}:void 0;if(!n)return void console.warn("Could not find position for paste event");eg.send({type:"behavior event",behaviorEvent:{type:"clipboard.paste",originEvent:{dataTransfer:e.nativeEvent.clipboardData},position:n},editor:eb,nativeEvent:e})}pM("No result from custom paste handler, pasting normally")},ep[81]=eg,ep[82]=g,ep[83]=ef,ep[84]=ey,ep[85]=eb,ep[86]=K):K=ep[86];let eT=K;ep[87]!==eg||ep[88]!==m||ep[89]!==ey||ep[90]!==eb?(G=e=>{m&&m(e),e.isDefaultPrevented()||(ey.send({type:"focused",event:e}),!eb.selection&&dY(eb.children,eg.getSnapshot().context.schema)&&(iO.select(eb,rQ.start(eb,[])),eb.onChange()))},ep[87]=eg,ep[88]=m,ep[89]=ey,ep[90]=eb,ep[91]=G):G=ep[91];let eD=G;ep[92]!==eg||ep[93]!==a||ep[94]!==eb?($=e=>{if(a&&a(e),e.isDefaultPrevented()||e.isPropagationStopped())return;let t=d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent});t&&eg.send({type:"behavior event",behaviorEvent:{type:"mouse.click",position:t},editor:eb,nativeEvent:e})},ep[92]=eg,ep[93]=a,ep[94]=eb,ep[95]=$):$=ep[95];let eI=$;ep[96]!==i||ep[97]!==ey?(Z=e=>{i&&i(e),e.isPropagationStopped()||ey.send({type:"blurred",event:e})},ep[96]=i,ep[97]=ey,ep[98]=Z):Z=ep[98];let eA=Z;ep[99]!==r?(X=e=>{r&&r(e)},ep[99]=r,ep[100]=X):X=ep[100];let eO=X;ep[101]!==eg||ep[102]!==e||ep[103]!==eb?(J=t=>{e.onKeyDown&&e.onKeyDown(t),t.isDefaultPrevented()||eb.pteWithHotKeys(t),t.isDefaultPrevented()||eg.send({type:"behavior event",behaviorEvent:{type:"keyboard.keydown",originEvent:{key:t.key,code:t.code,altKey:t.altKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey}},editor:eb,nativeEvent:t})},ep[101]=eg,ep[102]=e,ep[103]=eb,ep[104]=J):J=ep[104];let eP=J;ep[105]!==eg||ep[106]!==e||ep[107]!==eb?(Q=t=>{e.onKeyUp&&e.onKeyUp(t),t.isDefaultPrevented()||eg.send({type:"behavior event",behaviorEvent:{type:"keyboard.keyup",originEvent:{key:t.key,code:t.code,altKey:t.altKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey}},editor:eb,nativeEvent:t})},ep[105]=eg,ep[106]=e,ep[107]=eb,ep[108]=Q):Q=ep[108];let eM=Q;t:{let e;if(void 0===D){ee=void 0;break t}if(null===D){ee=nL.default;break t}ep[109]!==ef||ep[110]!==D?(e=(e,t)=>{D(ef,t)},ep[109]=ef,ep[110]=D,ep[111]=e):e=ep[111],ee=e}let eF=ee;ep[112]!==eg||ep[113]!==eb?(et=()=>{let e=oA.getWindow(eb),t=()=>{eg.send({type:"dragend"})},n=()=>{eg.send({type:"drop"})};return e.document.addEventListener("dragend",t),e.document.addEventListener("drop",n),()=>{e.document.removeEventListener("dragend",t),e.document.removeEventListener("drop",n)}},en=[eb,eg],ep[112]=eg,ep[113]=eb,ep[114]=et,ep[115]=en):(et=ep[114],en=ep[115]),(0,nR.useEffect)(et,en),ep[116]!==eg||ep[117]!==f||ep[118]!==eb?(er=e=>{if(null==f||f(e),e.isDefaultPrevented()||e.isPropagationStopped())return;let t=d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent});return t?(eg.send({type:"dragstart",origin:t}),eg.send({type:"behavior event",behaviorEvent:{type:"drag.dragstart",originEvent:{clientX:e.clientX,clientY:e.clientY,dataTransfer:e.dataTransfer},position:t},editor:eb}),!0):void console.warn("Could not find position for dragstart event")},ep[116]=eg,ep[117]=f,ep[118]=eb,ep[119]=er):er=ep[119];let eR=er;ep[120]!==eg||ep[121]!==s||ep[122]!==eb?(ei=e=>{if(null==s||s(e),!(e.isDefaultPrevented()||e.isPropagationStopped()||!d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent})))return eg.send({type:"behavior event",behaviorEvent:{type:"drag.drag",originEvent:{dataTransfer:e.dataTransfer}},editor:eb}),!0},ep[120]=eg,ep[121]=s,ep[122]=eb,ep[123]=ei):ei=ep[123];let eB=ei;ep[124]!==eg||ep[125]!==c||ep[126]!==eb?(ea=e=>{if(null==c||c(e),!(e.isDefaultPrevented()||e.isPropagationStopped()))return eg.send({type:"behavior event",behaviorEvent:{type:"drag.dragend",originEvent:{dataTransfer:e.dataTransfer}},editor:eb}),!0},ep[124]=eg,ep[125]=c,ep[126]=eb,ep[127]=ea):ea=ep[127];let eN=ea;ep[128]!==eg||ep[129]!==u||ep[130]!==eb?(eo=e=>{if(null==u||u(e),e.isDefaultPrevented()||e.isPropagationStopped())return;let t=d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent});if(t)return eg.send({type:"behavior event",behaviorEvent:{type:"drag.dragenter",originEvent:{dataTransfer:e.dataTransfer},position:t},editor:eb}),!0},ep[128]=eg,ep[129]=u,ep[130]=eb,ep[131]=eo):eo=ep[131];let eL=eo;ep[132]!==eg||ep[133]!==p||ep[134]!==eb?(el=e=>{var t;if(null==p||p(e),e.isDefaultPrevented()||e.isPropagationStopped())return;let n=d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent});if(n)return eg.send({type:"behavior event",behaviorEvent:{type:"drag.dragover",originEvent:{dataTransfer:e.dataTransfer},dragOrigin:null==(t=eg.getSnapshot().context.internalDrag)?void 0:t.origin,position:n},editor:eb,nativeEvent:e}),!0},ep[132]=eg,ep[133]=p,ep[134]=eb,ep[135]=el):el=ep[135];let ez=el;ep[136]!==eg||ep[137]!==h||ep[138]!==eb?(es=e=>{var t;if(null==h||h(e),e.isDefaultPrevented()||e.isPropagationStopped())return;let n=d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent});return n?(eg.send({type:"behavior event",behaviorEvent:{type:"drag.drop",originEvent:{dataTransfer:e.dataTransfer},dragOrigin:null==(t=eg.getSnapshot().context.internalDrag)?void 0:t.origin,position:n},editor:eb,nativeEvent:e}),!0):void console.warn("Could not find position for drop event")},ep[136]=eg,ep[137]=h,ep[138]=eb,ep[139]=es):es=ep[139];let eV=es;ep[140]!==eg||ep[141]!==d||ep[142]!==eb?(ec=e=>{if(null==d||d(e),!(e.isDefaultPrevented()||e.isPropagationStopped()||!d2({editorActor:eg,slateEditor:eb,event:e.nativeEvent})))return eg.send({type:"behavior event",behaviorEvent:{type:"drag.dragleave",originEvent:{dataTransfer:e.dataTransfer}},editor:eb}),!0},ep[140]=eg,ep[141]=d,ep[142]=eb,ep[143]=ec):ec=ep[143];let eU=ec;ep[144]!==t||ep[145]!==eb?(eu=e=>{if("function"==typeof t?t(e):t&&(t.current=e),e){let t=new MutationObserver(()=>{!function(e,t){let n;if(!e.selection)return;try{n=oA.findDocumentOrShadowRoot(e)}catch(e){}if(!n||t!==n.activeElement)return;let r=oA.getWindow(e).getSelection();if(!r||0===r.rangeCount)return;let i=r.getRangeAt(0);try{let t=oA.toDOMRange(e,e.selection);(t.startOffset!==i.startOffset||t.endOffset!==i.endOffset)&&(pM("DOM range out of sync, validating selection"),null==r||r.removeAllRanges(),r.addRange(t))}catch(t){pM("Could not resolve selection, selecting top document"),iO.deselect(e),e.children.length>0&&iO.select(e,[0,0]),e.onChange()}}(eb,e)});return t.observe(e,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{t.disconnect()}}},ep[144]=t,ep[145]=eb,ep[146]=eu):eu=ep[146];let eH=eu;return ef?(ep[147]!==eH||ep[148]!==ek||ep[149]!==eI||ep[150]!==eS||ep[151]!==eE||ep[152]!==eB||ep[153]!==eN||ep[154]!==eL||ep[155]!==eU||ep[156]!==ez||ep[157]!==eR||ep[158]!==eV||ep[159]!==eP||ep[160]!==eM||ep[161]!==eO||ep[162]!==eA||ep[163]!==eD||ep[164]!==eT||ep[165]!==eh||ep[166]!==ev||ep[167]!==ew||ep[168]!==e_||ep[169]!==T||ep[170]!==eF?(ed=eh?null:(0,_.jsx)(l7,{...T,ref:eH,"data-read-only":ev,autoFocus:!1,className:T.className||"pt-editable",decorate:ek,onBlur:eA,onCopy:eS,onCut:eE,onClick:eI,onDOMBeforeInput:eO,onDragStart:eR,onDrag:eB,onDragEnd:eN,onDragEnter:eL,onDragOver:ez,onDrop:eV,onDragLeave:eU,onFocus:eD,onKeyDown:eP,onKeyUp:eM,onPaste:eT,readOnly:ev,renderPlaceholder:void 0,renderElement:ew,renderLeaf:e_,renderText:pN,scrollSelectionIntoView:eF}),ep[147]=eH,ep[148]=ek,ep[149]=eI,ep[150]=eS,ep[151]=eE,ep[152]=eB,ep[153]=eN,ep[154]=eL,ep[155]=eU,ep[156]=ez,ep[157]=eR,ep[158]=eV,ep[159]=eP,ep[160]=eM,ep[161]=eO,ep[162]=eA,ep[163]=eD,ep[164]=eT,ep[165]=eh,ep[166]=ev,ep[167]=ew,ep[168]=e_,ep[169]=T,ep[170]=eF,ep[171]=ed):ed=ep[171],ed):null});function pR(e){return e.matches({"edit mode":"read only"})}function pB(e){var t;return null==(t=e.context.decorate)?void 0:t.fn}function pN(e){return(0,_.jsx)(px,{...e})}function pL(e){return"set_selection"===e.type}function pz(e){return console.warn(e),e}pF.displayName="ForwardRef(PortableTextEditable)";let pV=(e,t)=>{t(e);let n=e.getSnapshot().children;n&&Object.values(n).forEach(e=>{pV(e,t)})};function pU(e){var t,n;let r=[];pV(e,e=>{r.push([e,e.getSnapshot()]),e.observers=new Set});let i=null==(t=(n=e.system).getSnapshot)?void 0:t.call(n);e.stop(),e.system._snapshot=i,r.forEach(e=>{let[t,n]=e;t._processingStatus=0,t._snapshot=n})}let pH={mimeType:"application/json",serialize:e=>{let{snapshot:t,event:n}=e,r=t.context.converters.find(e=>"application/x-portable-text"===e.mimeType);return r?{...r.serialize({snapshot:t,event:n}),mimeType:"application/json",originEvent:n.originEvent}:{type:"serialization.failure",mimeType:"application/json",originEvent:n.originEvent,reason:"No application/x-portable-text Converter found"}},deserialize:e=>{let{snapshot:t,event:n}=e,r=t.context.converters.find(e=>"application/x-portable-text"===e.mimeType);return r?{...r.deserialize({snapshot:t,event:n}),mimeType:"application/json"}:{type:"deserialization.failure",mimeType:"application/json",reason:"No application/x-portable-text Converter found"}}},pq={mimeType:"application/x-portable-text",serialize:e=>{let{snapshot:t,event:n}=e;if(!t.context.selection)return{type:"serialization.failure",mimeType:"application/x-portable-text",originEvent:n.originEvent,reason:"No selection"};let r=sN(t);return 0===r.length?{type:"serialization.failure",mimeType:"application/x-portable-text",reason:"No blocks serialized",originEvent:n.originEvent}:{type:"serialization.success",data:JSON.stringify(r),mimeType:"application/x-portable-text",originEvent:n.originEvent}},deserialize:e=>{let{snapshot:t,event:n}=e,r=JSON.parse(n.data);if(!Array.isArray(r))return{type:"deserialization.failure",mimeType:"application/x-portable-text",reason:"Data is not an array"};let i=r.flatMap(e=>{let n=sk({context:t.context,block:e,options:{validateFields:!1}});return n?[n]:[]});return 0===i.length&&r.length>0?{type:"deserialization.failure",mimeType:"application/x-portable-text",reason:"No blocks were parsed"}:{type:"deserialization.success",data:i,mimeType:"application/x-portable-text"}}},pW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},pY=new Map;function pK(e,t){let n,{blockIndexMap:r,listIndexMap:i}=t;r.clear(),i.clear(),pY.clear();for(let t=0;t<e.value.length;t++){var a,o,l,s;let c=e.value.at(t);if(void 0===c)continue;if(r.set(c._key,t),!sc(e,c)||void 0===c.listItem||void 0===c.level){pY.clear(),n=void 0;continue}if(!n){let e=null!=(a=pY.get(c.listItem))?a:new Map;e.set(c.level,1),pY.set(c.listItem,e),i.set(c._key,1),n={listItem:c.listItem,level:c.level};continue}if(n.listItem===c.listItem&&n.level<c.level){let e=null!=(o=pY.get(c.listItem))?o:new Map;e.set(c.level,1),pY.set(c.listItem,e),i.set(c._key,1),n={listItem:c.listItem,level:c.level};continue}pY.forEach((e,t)=>{if(t===c.listItem)return;let n=[];e.forEach((e,t)=>{t>=c.level&&n.push(t)}),n.forEach(t=>{e.delete(t)})});let u=null!=(l=pY.get(c.listItem))?l:new Map,d=null!=(s=u.get(c.level))?s:0;u.set(c.level,d+1),pY.set(c.listItem,u),i.set(c._key,d+1),n={listItem:c.listItem,level:c.level}}}function pG(e){var t;return{_type:e.schema.block.name,_key:e.keyGenerator(),style:null!=(t=e.schema.styles[0].name)?t:"normal",markDefs:[],children:[{_type:e.schema.span.name,_key:e.keyGenerator(),text:"",marks:[]}]}}function p$(e){let t,{editor:n,blockPath:r,spanPath:i}=e;for(let[e,a]of rG.children(n,r,{reverse:!0}))if(n.isTextSpan(e)&&rT.isBefore(a,i)){t=e;break}return t}function pZ(e){let t,{editor:n,blockPath:r,spanPath:i}=e;for(let[e,a]of rG.children(n,r))if(n.isTextSpan(e)&&rT.isAfter(a,i)){t=e;break}return t}function pX(e,t){let n=pJ(e)||!1;d3.set(e,!0),t(),d3.set(e,n)}function pJ(e){return d3.get(e)}let pQ=new WeakMap,p1=new WeakMap;function p2(e){var t;return null!=(t=pQ.get(e))&&t}function p0(e){var t;return null!=(t=p1.get(e))&&t}let p5=dV("plugin:withPortableTextMarkModel");function p7(e){let[t,n]=e;return[t,n]}function p3(e,t){let n=e,r=t,i=n.length,a=r.length;if(0===i||0===a)return 0;i>a?n=n.substring(i-a):i<a&&(r=r.substring(0,i));let o=Math.min(i,a);if(n===r)return o;let l=0,s=1;for(let e=0;-1!==e;){let t=n.substring(o-s);if(-1===(e=r.indexOf(t)))break;s+=e,(0===e||n.substring(o-s)===r.substring(0,s))&&(l=s,s++)}return l}function p8(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(a,i)===t.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function p4(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(e.length-i,e.length-a)===t.substring(t.length-i,t.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function p6(e,t,n,r,i){let a=e.substring(0,n),o=t.substring(0,r),l=e.substring(n),s=t.substring(r),c=fo(a,o,{checkLines:!1,deadline:i}),u=fo(l,s,{checkLines:!1,deadline:i});return c.concat(u)}function p9(e,t,n){let r=e.slice(n,n+Math.floor(e.length/4)),i=-1,a="",o,l,s,c;for(;-1!==(i=t.indexOf(r,i+1));){let r=p8(e.slice(n),t.slice(i)),u=p4(e.slice(0,n),t.slice(0,i));a.length<u+r&&(a=t.slice(i-u,i)+t.slice(i,i+r),o=e.slice(0,n-u),l=e.slice(n+r),s=t.slice(0,i-u),c=t.slice(i+r))}return 2*a.length>=e.length?[o||"",l||"",s||"",c||"",a||""]:null}var fe=Object.defineProperty,ft=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,fi=(e,t,n)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function fa(e,t,n){if(null===e||null===t)throw Error("Null input. (diff)");let r=fo(e,t,function(e){let t;var n,r={checkLines:!0,deadline:(n=e.timeout||1,t=1,"u">typeof n&&(t=n<=0?Number.MAX_VALUE:n),Date.now()+1e3*t)},i=e;for(var a in i||(i={}))fn.call(i,a)&&fi(r,a,i[a]);if(ft)for(var a of ft(i))fr.call(i,a)&&fi(r,a,i[a]);return r}(n||{}));return function(e){for(let t=0;t<e.length;t++){let[n,r]=e[t];if(0===r.length)continue;let i=r[0];(function(e){let t=e.charCodeAt(0);return t>=55296&&t<=56319})(r[r.length-1])&&0===n&&fc(e,t,1),function(e){let t=e.charCodeAt(0);return t>=56320&&t<=57343}(i)&&0===n&&fc(e,t,-1)}for(let t=0;t<e.length;t++)0===e[t][1].length&&e.splice(t,1)}(r),r}function fo(e,t,n){let r=e,i=t;if(r===i)return r?[[0,r]]:[];let a=p8(r,i),o=r.substring(0,a);a=p4(r=r.substring(a),i=i.substring(a));let l=r.substring(r.length-a),s=function(e,t,n){let r;if(!e)return[[1,t]];if(!t)return[[-1,e]];let i=e.length>t.length?e:t,a=e.length>t.length?t:e,o=i.indexOf(a);if(-1!==o)return r=[[1,i.substring(0,o)],[0,a],[1,i.substring(o+a.length)]],e.length>t.length&&(r[0][0]=-1,r[2][0]=-1),r;if(1===a.length)return[[-1,e],[1,t]];let l=function(e,t){let n,r,i,a,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(l<=0)return null;let s=e.length>t.length?e:t,c=e.length>t.length?t:e;if(s.length<4||2*c.length<s.length)return null;let u=p9(s,c,Math.ceil(s.length/4)),d=p9(s,c,Math.ceil(s.length/2));if(u&&d)n=u[4].length>d[4].length?u:d;else{if(!u&&!d)return null;d?u||(n=d):n=u}if(!n)throw Error("Unable to find a half match.");return e.length>t.length?(r=n[0],i=n[1],a=n[2],o=n[3]):(a=n[0],o=n[1],r=n[2],i=n[3]),[r,i,a,o,n[4]]}(e,t);if(l){let e=l[0],t=l[1],r=l[2],i=l[3],a=l[4],o=fo(e,r,n),s=fo(t,i,n);return o.concat([[0,a]],s)}return n.checkLines&&e.length>100&&t.length>100?function(e,t,n){let r=e,i=t,a=function(e,t){let n=[],r={};function i(e){let t="",i=0,o=-1,l=n.length;for(;o<e.length-1;){-1===(o=e.indexOf("\n",i))&&(o=e.length-1);let s=e.slice(i,o+1);(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?t+=String.fromCharCode(r[s]):(l===a&&(s=e.slice(i),o=e.length),t+=String.fromCharCode(l),r[s]=l,n[l++]=s),i=o+1}return t}n[0]="";let a=4e4,o=i(e);return a=65535,{chars1:o,chars2:i(t),lineArray:n}}(r,i);r=a.chars1,i=a.chars2;let o=a.lineArray,l=fo(r,i,{checkLines:!1,deadline:n.deadline});(function(e,t){for(let n=0;n<e.length;n++){let r=e[n][1],i=[];for(let e=0;e<r.length;e++)i[e]=t[r.charCodeAt(e)];e[n][1]=i.join("")}})(l,o),(l=function(e){let t=e.map(e=>p7(e)),n=!1,r=[],i=0,a=null,o=0,l=0,s=0,c=0,u=0;for(;o<t.length;)0===t[o][0]?(r[i++]=o,l=c,s=u,c=0,u=0,a=t[o][1]):(1===t[o][0]?c+=t[o][1].length:u+=t[o][1].length,a&&a.length<=Math.max(l,s)&&a.length<=Math.max(c,u)&&(t.splice(r[i-1],0,[-1,a]),t[r[i-1]+1][0]=1,i--,o=--i>0?r[i-1]:-1,l=0,s=0,c=0,u=0,a=null,n=!0)),o++;for(n&&(t=fg(t)),t=fm(t),o=1;o<t.length;){if(-1===t[o-1][0]&&1===t[o][0]){let e=t[o-1][1],n=t[o][1],r=p3(e,n),i=p3(n,e);r>=i?(r>=e.length/2||r>=n.length/2)&&(t.splice(o,0,[0,n.substring(0,r)]),t[o-1][1]=e.substring(0,e.length-r),t[o+1][1]=n.substring(r),o++):(i>=e.length/2||i>=n.length/2)&&(t.splice(o,0,[0,e.substring(0,i)]),t[o-1][0]=1,t[o-1][1]=n.substring(0,n.length-i),t[o+1][0]=-1,t[o+1][1]=e.substring(i),o++),o++}o++}return t}(l)).push([0,""]);let s=0,c=0,u=0,d="",p="";for(;s<l.length;){switch(l[s][0]){case 1:u++,p+=l[s][1];break;case -1:c++,d+=l[s][1];break;case 0:if(c>=1&&u>=1){l.splice(s-c-u,c+u),s=s-c-u;let e=fo(d,p,{checkLines:!1,deadline:n.deadline});for(let t=e.length-1;t>=0;t--)l.splice(s,0,e[t]);s+=e.length}u=0,c=0,d="",p="";break;default:throw Error("Unknown diff operation.")}s++}return l.pop(),l}(e,t,n):function(e,t,n){let r=e.length,i=t.length,a=Math.ceil((r+i)/2),o=2*a,l=Array(o),s=Array(o);for(let e=0;e<o;e++)l[e]=-1,s[e]=-1;l[a+1]=0,s[a+1]=0;let c=r-i,u=c%2!=0,d=0,p=0,f=0,h=0;for(let m=0;m<a&&!(Date.now()>n);m++){for(let f=-m+d;f<=m-p;f+=2){let h,g=a+f,y=(h=f===-m||f!==m&&l[g-1]<l[g+1]?l[g+1]:l[g-1]+1)-f;for(;h<r&&y<i&&e.charAt(h)===t.charAt(y);)h++,y++;if(l[g]=h,h>r)p+=2;else if(y>i)d+=2;else if(u){let i=a+c-f;if(i>=0&&i<o&&-1!==s[i]&&h>=r-s[i])return p6(e,t,h,y,n)}}for(let d=-m+f;d<=m-h;d+=2){let p,g=a+d,y=(p=d===-m||d!==m&&s[g-1]<s[g+1]?s[g+1]:s[g-1]+1)-d;for(;p<r&&y<i&&e.charAt(r-p-1)===t.charAt(i-y-1);)p++,y++;if(s[g]=p,p>r)h+=2;else if(y>i)f+=2;else if(!u){let i=a+c-d;if(i>=0&&i<o&&-1!==l[i]){let o=l[i],s=a+o-i;if(o>=(p=r-p))return p6(e,t,o,s,n)}}}}return[[-1,e],[1,t]]}(e,t,n.deadline)}(r=r.substring(0,r.length-a),i=i.substring(0,i.length-a),n);return o&&s.unshift([0,o]),l&&s.push([0,l]),s=fg(s)}function fl(e,t,n){return 1===n?e+t:t+e}function fs(e,t){return 1===t?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function fc(e,t,n){var r,i;let a=1===n?-1:1,o=null,l=null,s=t+n;for(;s>=0&&s<e.length&&(null===o||null===l);s+=n){let[r,i]=e[s];if(0!==i.length){if(1===r){null===o&&(o=s);continue}else if(-1===r){null===l&&(l=s);continue}else if(0===r){if(null===o&&null===l){let[r,i]=fs(e[t][1],n);e[t][1]=r,e[s][1]=fl(e[s][1],i,a);return}break}}}if(null!==o&&null!==l&&(r=o,i=l,1===n?e[r][1][e[r][1].length-1]===e[i][1][e[i][1].length-1]:e[r][1][0]===e[i][1][0])){let[r,i]=fs(e[o][1],a),[s]=fs(e[l][1],a);e[o][1]=r,e[l][1]=s,e[t][1]=fl(e[t][1],i,n);return}let[c,u]=fs(e[t][1],n);e[t][1]=c,null===o?(e.splice(s,0,[1,u]),null!==l&&l>=s&&l++):e[o][1]=fl(e[o][1],u,a),null===l?e.splice(s,0,[-1,u]):e[l][1]=fl(e[l][1],u,a)}let fu=/[^a-zA-Z0-9]/,fd=/\s/,fp=/[\r\n]/,ff=/\n\r?\n$/,fh=/^\r?\n\r?\n/;function fm(e){let t=e.map(e=>p7(e));function n(e,t){if(!e||!t)return 6;let n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(fu),a=r.match(fu),o=i&&n.match(fd),l=a&&r.match(fd),s=o&&n.match(fp),c=l&&r.match(fp),u=s&&e.match(ff),d=c&&t.match(fh);return u||d?5:s||c?4:i&&!o&&l?3:o||l?2:i||a?1:0}let r=1;for(;r<t.length-1;){if(0===t[r-1][0]&&0===t[r+1][0]){let e=t[r-1][1],i=t[r][1],a=t[r+1][1],o=p4(e,i);if(o){let t=i.substring(i.length-o);e=e.substring(0,e.length-o),i=t+i.substring(0,i.length-o),a=t+a}let l=e,s=i,c=a,u=n(e,i)+n(i,a);for(;i.charAt(0)===a.charAt(0);){e+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);let t=n(e,i)+n(i,a);t>=u&&(u=t,l=e,s=i,c=a)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=s,c?t[r+1][1]=c:(t.splice(r+1,1),r--))}r++}return t}function fg(e){let t=e.map(e=>p7(e));t.push([0,""]);let n=0,r=0,i=0,a="",o="",l;for(;n<t.length;)switch(t[n][0]){case 1:i++,o+=t[n][1],n++;break;case -1:r++,a+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(l=p8(o,a))&&(n-r-i>0&&0===t[n-r-i-1][0]?t[n-r-i-1][1]+=o.substring(0,l):(t.splice(0,0,[0,o.substring(0,l)]),n++),o=o.substring(l),a=a.substring(l)),0!==(l=p4(o,a))&&(t[n][1]=o.substring(o.length-l)+t[n][1],o=o.substring(0,o.length-l),a=a.substring(0,a.length-l))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[-1,a]),n++),o.length&&(t.splice(n,0,[1,o]),n++),n++):0!==n&&0===t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break;default:throw Error("Unknown diff operation")}""===t[t.length-1][1]&&t.pop();let s=!1;for(n=1;n<t.length-1;)0===t[n-1][0]&&0===t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),s=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),s=!0)),n++;return s&&(t=fg(t)),t}var fy=Object.defineProperty,fv=Object.getOwnPropertySymbols,fb=Object.prototype.hasOwnProperty,fx=Object.prototype.propertyIsEnumerable,fC=(e,t,n)=>t in e?fy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fk=(e,t)=>{for(var n in t||(t={}))fb.call(t,n)&&fC(e,n,t[n]);if(fv)for(var n of fv(t))fx.call(t,n)&&fC(e,n,t[n]);return e};let fw={threshold:.5,distance:1e3};function f_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null===e||null===t||null===n)throw Error("Null input. (match())");let i=Math.max(0,Math.min(n,e.length));return e===t?0:e.length?e.substring(i,i+t.length)===t?i:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.length>32)throw Error("Pattern too long for this browser.");let i=fk(fk({},fw),r),a=function(e){let t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}(t);function o(e,r){let a=e/t.length,o=Math.abs(n-r);return i.distance?a+o/i.distance:o?1:a}let l=i.threshold,s=e.indexOf(t,n);-1!==s&&(l=Math.min(o(0,s),l),-1!==(s=e.lastIndexOf(t,n+t.length))&&(l=Math.min(o(0,s),l)));let c=1<<t.length-1;s=-1;let u,d,p=t.length+e.length,f=[];for(let r=0;r<t.length;r++){for(u=0,d=p;u<d;)o(r,n+d)<=l?u=d:p=d,d=Math.floor((p-u)/2+u);p=d;let i=Math.max(1,n-d+1),h=Math.min(n+d,e.length)+t.length,m=Array(h+2);m[h+1]=(1<<r)-1;for(let t=h;t>=i;t--){let u=a[e.charAt(t-1)];if(0===r?m[t]=(m[t+1]<<1|1)&u:m[t]=(m[t+1]<<1|1)&u|((f[t+1]|f[t])<<1|1)|f[t+1],m[t]&c){let e=o(r,t-1);if(e<=l)if(l=e,(s=t-1)>n)i=Math.max(1,2*n-s);else break}}if(o(r+1,n)>l)break;f=m}return s}(e,t,i,r):-1}function fj(e){let t=[];for(let n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")}function fS(e){let t=[];for(let n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")}function fE(e,t){let n=0,r=0,i=0,a=0,o;for(o=0;o<e.length&&(1!==e[o][0]&&(n+=e[o][1].length),-1!==e[o][0]&&(r+=e[o][1].length),!(n>t));o++)i=n,a=r;return e.length!==o&&-1===e[o][0]?a:a+(t-i)}function fT(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n);if(typeof r>"u")throw Error("Failed to get codepoint");t+=fD(r)}return t}function fD(e){return e<=127?1:e<=2047?2:e<=65535?3:4}function fI(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}let fA=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function fO(e){if(!e)return[];let t=[],n=e.split("\n"),r=0;for(;r<n.length;){let e=n[r].match(fA);if(!e)throw Error("Invalid patch string: ".concat(n[r]));let i=fI(fP(e[1]),fP(e[3]));for(t.push(i),""===e[2]?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):"0"===e[2]?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=fP(e[2]),i.length1=i.utf8Length1),""===e[4]?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):"0"===e[4]?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=fP(e[4]),i.length2=i.utf8Length2),r++;r<n.length;){let e,t=n[r],a=t.charAt(0);if("@"===a)break;if(""===a){r++;continue}try{e=decodeURI(t.slice(1))}catch(e){throw Error("Illegal escape in parse: ".concat(t))}let o=fT(e)-e.length;if("-"===a)i.diffs.push([-1,e]),i.length1-=o;else if("+"===a)i.diffs.push([1,e]),i.length2-=o;else if(" "===a)i.diffs.push([0,e]),i.length1-=o,i.length2-=o;else throw Error('Invalid patch mode "'.concat(a,'" in: ').concat(e));r++}}return t}function fP(e){return parseInt(e,10)}let fM=new WeakMap;function fF(e){var t;return null==(t=fM.get(e))?void 0:t.undoStepId}function fR(e){fM.set(e,{undoStepId:sj()})}function fB(e){fM.set(e,void 0)}let fN=dV("plugin:withUndoRedo"),fL=new WeakMap,fz=new WeakMap,fV=e=>{let t=fL.get(e);return void 0===t||t},fU=e=>(fz.get(e)||fz.set(e,[]),fz.get(e)||[]);function fH(e,t,n,r,i){let a={...n};if("insert"===t.type&&1===t.path.length){let e=(r||[]).findIndex(e=>(0,e4.default)({_key:e._key},t.path[0]));return fN("Adjusting block path (+".concat(t.items.length,") for '").concat(a.type,"' operation and patch '").concat(t.type,"'")),[fq(a,t.items.length,e)]}if("unset"===t.type&&1===t.path.length){let e=(i||[]).findIndex(e=>(0,e4.default)({_key:e._key},t.path[0]));return"path"in a&&Array.isArray(a.path)&&a.path[0]===e?(fN("Skipping transformation that targeted removed block"),[]):[fq(a,-1,e)]}if("unset"===t.type&&0===t.path.length)return fN("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if("diffMatchPatch"===t.type){var o,l;let n,r=(o=e,"set_selection"===(l=a).type&&o.selection?n=o.children[o.selection.focus.path[0]]:"path"in l&&(n=o.children[l.path[0]]),n);return r&&(0,e4.default)({_key:r._key},t.path[0])&&fO(t.value).forEach(e=>{let t=0,n=e.utf8Start1,{diffs:r}=e;if(r.forEach((e,i)=>{let[a,o]=e;1===a?(t+=o.length,n+=o.length):-1===a?(t-=o.length,n-=o.length):0===a&&(r.slice(i).every(e=>{let[t]=e;return 0===t})||(n+=o.length))}),"insert_text"===a.type&&n<a.offset&&(a.offset+=t),"remove_text"===a.type&&n<=a.offset-a.text.length&&(a.offset+=t),"set_selection"===a.type){var i,o,l,s;let e=(null==(i=a.properties)?void 0:i.focus)?{...a.properties.focus}:void 0,r=(null==a||null==(o=a.properties)?void 0:o.anchor)?{...a.properties.anchor}:void 0,c=(null==a||null==(l=a.newProperties)?void 0:l.focus)?{...a.newProperties.focus}:void 0,u=(null==a||null==(s=a.newProperties)?void 0:s.anchor)?{...a.newProperties.anchor}:void 0;(e&&r||c&&u)&&([e,r,c,u].forEach(e=>{e&&n<e.offset&&(e.offset+=t)}),e&&r&&(a.properties={focus:e,anchor:r}),c&&u&&(a.newProperties={focus:c,anchor:u}))}}),[a]}return[a]}function fq(e,t,n){let r={...e};if(n>=0&&"set_selection"!==r.type&&Array.isArray(r.path)&&r.path[0]>=n+t&&r.path[0]+t>-1){let e=[r.path[0]+t,...r.path.slice(1)];r.path=e}if("set_selection"===r.type){var i,a,o,l;let e=(null==(i=r.properties)?void 0:i.focus)?{...r.properties.focus}:void 0,s=(null==r||null==(a=r.properties)?void 0:a.anchor)?{...r.properties.anchor}:void 0,c=(null==r||null==(o=r.newProperties)?void 0:o.focus)?{...r.newProperties.focus}:void 0,u=(null==r||null==(l=r.newProperties)?void 0:l.anchor)?{...r.newProperties.anchor}:void 0;(e&&s||c&&u)&&([e,s,c,u].forEach(e=>{e&&e.path[0]>=n+t&&e.path[0]+t>-1&&(e.path=[e.path[0]+t,...e.path.slice(1)])}),e&&s&&(r.properties={focus:e,anchor:s}),c&&u&&(r.newProperties={focus:c,anchor:u}))}return r}function fW(e,t){let n=fV(e);fL.set(e,!1),t(),fL.set(e,n)}function fY(e,t,n){let r=oA.toDOMRange(e,t).getBoundingClientRect(),i=oA.toDOMRange(e,n).getBoundingClientRect();return fK(r,i)&&fK(i,r)}function fK(e,t){let n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n}let fG={"annotation.add":e=>{let{context:t,operation:n}=e,r=function(e){let{annotation:t,context:n,options:r}=e;if(!sC(t))return;let i=n.schema.annotations.find(e=>{let{name:n}=e;return n===t._type});if(i)return s_({object:t,context:{keyGenerator:n.keyGenerator,schemaType:i},options:r})}({annotation:{_type:n.annotation.name,...n.annotation.value},context:t,options:{validateFields:!0}});if(!r)throw Error("Failed to parse annotation ".concat(JSON.stringify(n.annotation)));let i=n.editor;if(!i.selection||rH.isCollapsed(i.selection))return;let a=rQ.nodes(i,{at:i.selection,match:e=>i.isTextBlock(e),reverse:rH.isBackward(i.selection)}),o=0;for(let[e,n]of a){var l,s;if(0===e.children.length||1===e.children.length&&""===e.children[0].text)continue;let a=0===o?r._key:t.keyGenerator(),c=null!=(l=e.markDefs)?l:[];for(let[e,t]of(void 0===c.find(e=>e._type===r._type&&e._key===a)&&iO.setNodes(i,{markDefs:[...c,{...r,_key:a}]},{at:n}),iO.setNodes(i,{},{match:ie.isText,split:!0}),rG.children(i,n))){if(!i.isTextSpan(e)||!rH.includes(i.selection,t))continue;let n=null!=(s=e.marks)?s:[];iO.setNodes(i,{marks:[...n,a]},{at:t})}o++}},"annotation.remove":e=>{var t,n,r,i,a,o,l;let{operation:s}=e,c=s.editor;if(c.selection)if(rH.isCollapsed(c.selection)){let[e,o]=rQ.node(c,c.selection,{depth:1});if(!c.isTextBlock(e))return;let l=(null!=(a=e.markDefs)?a:[]).filter(e=>e._type===s.annotation.name),[u,d]=rQ.node(c,c.selection,{depth:2});if(!c.isTextSpan(u))return;let p=null==(t=u.marks)?void 0:t.find(e=>l.some(t=>t._key===e));if(!p)return;let f=[];for(let[e,t]of rG.children(c,o,{reverse:!0}))if(c.isTextSpan(e)&&rT.isBefore(t,d))if(null==(n=e.marks)?void 0:n.includes(p))f.push([e,t]);else break;let h=[];for(let[e,t]of rG.children(c,o))if(c.isTextSpan(e)&&rT.isAfter(t,d))if(null==(r=e.marks)?void 0:r.includes(p))h.push([e,t]);else break;for(let[e,t]of[...f,[u,d],...h])iO.setNodes(c,{marks:null==(i=e.marks)?void 0:i.filter(e=>e!==p)},{at:t})}else for(let[e,t]of(iO.setNodes(c,{},{match:e=>c.isTextSpan(e),split:!0,hanging:!0}),rQ.nodes(c,{at:c.selection,match:e=>c.isTextBlock(e)})))for(let[n,r]of rG.children(c,t)){if(!c.isTextSpan(n)||!rH.includes(c.selection,r))continue;let t=null!=(o=e.markDefs)?o:[],i=null!=(l=n.marks)?l:[],a=i.filter(e=>{var n;return(null==(n=t.find(t=>t._key===e))?void 0:n._type)!==s.annotation.name});a.length!==i.length&&iO.setNodes(c,{marks:a},{at:r})}},"block.set":e=>{var t;let{context:n,operation:r}=e,i=r.editor.blockIndexMap.get(r.at[0]._key);if(void 0===i)throw Error("Unable to find block index for block at ".concat(JSON.stringify(r.at)));let a=r.editor.value.at(i);if(!a)throw Error("Unable to find block at ".concat(JSON.stringify(r.at)));let{_type:o,...l}=r.props,s={...a,...l},c=sk({context:n,block:s,options:{validateFields:!0}});if(!c)throw Error("Unable to update block at ".concat(JSON.stringify(r.at)));c.markDefs=s.markDefs;let u=null==(t=dq([c],{schemaTypes:n.schema}))?void 0:t.at(0);if(!u)throw Error("Unable to convert block to Slate value");iO.setNodes(r.editor,u,{at:[i]})},"block.unset":e=>{var t;let{context:n,operation:r}=e,i=d5({context:{schema:n.schema,value:r.editor.value,selection:{anchor:{path:r.at,offset:0},focus:{path:r.at,offset:0}}},blockIndexMap:r.editor.blockIndexMap});if(!i)throw Error("Unable to convert ".concat(JSON.stringify(r.at)," into a Slate Range"));let a=null==(t=rQ.node(r.editor,i,{depth:1}))?void 0:t[0];if(!a)throw Error("Unable to find block at ".concat(JSON.stringify(r.at)));let o=dW([a],n.schema.block.name,d4.get(r.editor)).at(0);if(!o)throw Error("Unable to parse block at ".concat(JSON.stringify(r.at)));if(sc(n,o)){let e=r.props.filter(e=>"_type"!==e),t=sk({context:n,block:(0,uv.default)(o,e),options:{validateFields:!0}});if(!t)throw Error("Unable to update block at ".concat(JSON.stringify(r.at)));let a={};for(let n of e)n in t?a[n]=t[n]:a[n]=void 0;iO.setNodes(r.editor,a,{at:i});return}let l=sk({context:n,block:(0,uv.default)(o,r.props.filter(e=>"_type"!==e)),options:{validateFields:!0}});if(!l)throw Error("Unable to update block at ".concat(JSON.stringify(r.at)));let{_type:s,_key:c,...u}=l;iO.setNodes(r.editor,{_type:s,_key:c,value:u},{at:i})},"child.set":e=>{let{context:t,operation:n}=e,r=d5({context:{schema:t.schema,value:n.editor.value,selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}},blockIndexMap:n.editor.blockIndexMap});if(!r)throw Error("Unable to convert ".concat(JSON.stringify(n.at)," into a Slate Range"));let i=rQ.node(n.editor,r,{depth:2}),a=null==i?void 0:i[0],o=null==i?void 0:i[1];if(!a||!o)throw Error("Unable to find child at ".concat(JSON.stringify(n.at)));if(n.editor.isTextSpan(a)){let{_type:e,text:t,...r}=n.props;iO.setNodes(n.editor,{...a,...r},{at:o}),"string"==typeof t&&a.text!==t&&(n.editor.apply({type:"remove_text",path:o,offset:0,text:a.text}),n.editor.apply({type:"insert_text",path:o,offset:0,text:t}));return}if(rW.isElement(a)){let e=t.schema.inlineObjects.find(e=>e.name===a._type);if(!e)throw Error("Unable to find schema definition for Inline Object type ".concat(a._type));let r="value"in a&&"object"==typeof a.value?a.value:{},{_type:i,_key:l,...s}=n.props;for(let t in s)e.fields.some(e=>e.name===t)||delete s[t];iO.setNodes(n.editor,{...a,_key:"string"==typeof l?l:a._key,value:{...r,...s}},{at:o});return}throw Error("Unable to determine the type of child at ".concat(JSON.stringify(n.at)))},"child.unset":e=>{let{context:t,operation:n}=e,r=d5({context:{schema:t.schema,value:n.editor.value,selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}},blockIndexMap:n.editor.blockIndexMap});if(!r)throw Error("Unable to convert ".concat(JSON.stringify(n.at)," into a Slate Range"));let i=rQ.node(n.editor,r,{depth:2}),a=null==i?void 0:i[0],o=null==i?void 0:i[1];if(!a||!o)throw Error("Unable to find child at ".concat(JSON.stringify(n.at)));if(n.editor.isTextSpan(a)){n.props.includes("text")&&n.editor.apply({type:"remove_text",path:o,offset:0,text:a.text});let e={};for(let r of n.props)if("_type"!==r){if("_key"===r){e._key=t.keyGenerator();continue}e[r]=null}iO.setNodes(n.editor,e,{at:o});return}if(rW.isElement(a)){let e=dv("value"in a&&"object"==typeof a.value?a.value:{},n.props.map(e=>({type:"unset",path:[e]})));iO.setNodes(n.editor,{...a,_key:n.props.includes("_key")?t.keyGenerator():a._key,value:e},{at:o});return}throw Error("Unable to determine the type of child at ".concat(JSON.stringify(n.at)))},"decorator.add":e=>{var t,n,r,i,a;let{context:o,operation:l}=e,s=l.editor,c=l.decorator,u=dW(s.children,o.schema.block.name,d4.get(s)),d=(null==(t=l.at)?void 0:t.anchor)?sm({context:{...o,value:u},blockOffset:l.at.anchor,direction:"backward"}):void 0,p=(null==(n=l.at)?void 0:n.focus)?sm({context:{...o,value:u},blockOffset:l.at.focus,direction:"forward"}):void 0,f=d&&p?{anchor:d,focus:p}:void 0,h=f&&null!=(r=d5({context:{schema:o.schema,value:l.editor.value,selection:f},blockIndexMap:l.editor.blockIndexMap}))?r:s.selection;if(!h)return;let m=d1({schema:o.schema,editor:s,range:h}),g=m?dE({context:{...o,value:u},selectionPoint:m.anchor}):void 0,y=m?dE({context:{...o,value:u},selectionPoint:m.focus}):void 0;if(!g||!y)throw Error("Unable to find anchor or focus offset");if(rH.isExpanded(h)){iO.setNodes(s,{},{at:h,match:ie.isText,split:!0,hanging:!0});let e=dW(s.children,o.schema.block.name,d4.get(s)),t=dj({context:{...o,value:e},offsets:{anchor:g,focus:y},backward:null==m?void 0:m.backward}),n=s1({blockIndexMap:s.blockIndexMap,context:{converters:[],keyGenerator:o.keyGenerator,readOnly:!1,schema:o.schema,selection:t,value:e},decoratorState:s.decoratorState});if(!n)throw Error("Unable to find trimmed selection");let r=d5({context:{schema:o.schema,value:l.editor.value,selection:n},blockIndexMap:l.editor.blockIndexMap});if(!r)throw Error("Unable to find new selection");for(let[e,t]of rH.isRange(r)?[...rQ.nodes(s,{at:r,match:e=>ie.isText(e)})]:[]){let n=[...(Array.isArray(e.marks)?e.marks:[]).filter(e=>e!==c),c];iO.setNodes(s,{marks:n},{at:t,match:ie.isText,split:!0,hanging:!0})}}else{if(!(null==(i=Array.from(rQ.nodes(s,{at:h,match:e=>s.isTextSpan(e)})))?void 0:i.at(0)))return;let[e,t]=rQ.node(s,h,{depth:1}),n=s.isTextBlock(e)&&1===e.children.length&&s.isTextSpan(e.children[0])&&""===e.children[0].text?e.children[0]:void 0;if(n){let e=null!=(a=n.marks)?a:[],r=e.filter(e=>e!==c);iO.setNodes(s,{marks:e.length===r.length?[...e,c]:r},{at:t,match:e=>s.isTextSpan(e)})}else s.decoratorState[c]=!0}if(s.selection){let e=s.selection;s.selection={...e}}},"decorator.remove":e=>{let{operation:t}=e,n=t.editor,r=t.decorator,{selection:i}=n;if(i){if(rH.isExpanded(i))iO.setNodes(n,{},{match:ie.isText,split:!0,hanging:!0}),n.selection&&[...rQ.nodes(n,{at:n.selection,match:ie.isText})].forEach(e=>{let[t,i]=e,a=n.children[i[0]];rW.isElement(a)&&a.children.includes(t)&&iO.setNodes(n,{marks:(Array.isArray(t.marks)?t.marks:[]).filter(e=>e!==r),_type:"span"},{at:i})});else{let[e,t]=rQ.node(n,i,{depth:1}),o=n.isTextBlock(e)&&1===e.children.length&&n.isTextSpan(e.children[0])&&""===e.children[0].text?e.children[0]:void 0;if(o){var a;let e=(null!=(a=o.marks)?a:[]).filter(e=>e!==r);iO.setNodes(n,{marks:e},{at:t,match:e=>n.isTextSpan(e)})}else n.decoratorState[r]=!1}if(n.selection){let e=n.selection;n.selection={...e}}}},delete:e=>{let{context:t,operation:n}=e,r=sf(n.at.anchor),i=sf(n.at.focus),a=n.at.backward?i:r,o=n.at.backward?r:i,l=n.at.backward?n.at.focus.offset:n.at.anchor.offset;if(!a)throw Error("Failed to get start block key");if(!o)throw Error("Failed to get end block key");let s=n.editor.blockIndexMap.get(a);if(void 0===s)throw Error("Failed to get start block index");let c=n.editor.value.at(s);if(!c)throw Error("Failed to get start block");let u=n.editor.blockIndexMap.get(o);if(void 0===u)throw Error("Failed to get end block index");let d=n.editor.value.at(u);if(!d)throw Error("Failed to get end block");let p=void 0!==r?dK({editor:n.editor,_key:r}):void 0,f=void 0!==i?dK({editor:n.editor,_key:i}):void 0;if(1===n.at.anchor.path.length&&1===n.at.focus.path.length&&p&&f&&p[0]===f[0]){iO.removeNodes(n.editor,{at:[p[0]]}),0===n.editor.children.length&&iO.insertNodes(n.editor,pG(t));return}let h=d5({context:{schema:t.schema,value:n.editor.value,selection:n.at},blockIndexMap:n.editor.blockIndexMap});if(!h)throw Error("Failed to get Slate Range for selection ".concat(JSON.stringify(n.at)));if("backward"===n.direction&&"line"===n.unit){let e=rQ.above(n.editor,{match:e=>rW.isElement(e)&&rQ.isBlock(n.editor,e),at:h});if(e){let[,t]=e,r=rQ.range(n.editor,t,h.anchor),i=function(e,t){let n=rQ.range(e,rH.end(t)),r=Array.from(rQ.positions(e,{at:t})),i=0,a=r.length,o=Math.floor(a/2);if(fY(e,rQ.range(e,r[i]),n))return rQ.range(e,r[i],n);if(r.length<2)return rQ.range(e,r[r.length-1],n);for(;o!==r.length&&o!==i;)fY(e,rQ.range(e,r[o]),n)?a=o:i=o,o=Math.floor((i+a)/2);return rQ.range(e,r[i],n)}(n.editor,r);if(!rH.isCollapsed(i))return void iO.delete(n.editor,{at:i})}}let m=sc(t,d)&&0===l;ao(n.editor,{at:h,reverse:"backward"===n.direction,unit:n.unit,hanging:m}),n.editor.selection&&sc(t,c)&&sc(t,d)&&af(n.editor,{anchor:n.editor.selection.focus,focus:n.editor.selection.focus})},"history.redo":e=>{let{operation:t}=e,n=t.editor,{redos:r}=n.history,i=fU(n);if(r.length>0){let e=r[r.length-1];if(fN("Redoing",e),e.operations.length>0){let t=i.filter(t=>t.time>=e.timestamp),r=e.operations;t.forEach(e=>{r=(0,td.default)(r.map(t=>fH(n,e.patch,t,e.snapshot,e.previousSnapshot)))});try{rQ.withoutNormalizing(n,()=>{!function(e,t){let n=p0(e);p1.set(e,!0),t(),p1.set(e,n)}(n,()=>{fW(n,()=>{r.forEach(e=>{n.apply(e)})})})})}catch(e){fN("Could not perform redo step",e),i.splice(0,i.length),iO.deselect(n),n.history={undos:[],redos:[]},fL.set(n,!0),p1.set(n,!1),n.onChange();return}n.history.undos.push(e),n.history.redos.pop()}}},"history.undo":e=>{let{operation:t}=e,n=t.editor,{undos:r}=n.history,i=fU(n);if(r.length>0){let e=r[r.length-1];if(fN("Undoing",e),e.operations.length>0){let t=i.filter(t=>t.time>=e.timestamp),r=e.operations;t.forEach(e=>{r=(0,td.default)(r.map(t=>fH(n,e.patch,t,e.snapshot,e.previousSnapshot)))});let a=r.map(rX.inverse).reverse();try{rQ.withoutNormalizing(n,()=>{!function(e,t){let n=p2(e);pQ.set(e,!0),t(),pQ.set(e,n)}(n,()=>{fW(n,()=>{a.forEach(e=>{n.apply(e)})})})})}catch(e){fN("Could not perform undo step",e),i.splice(0,i.length),iO.deselect(n),n.history={undos:[],redos:[]},fL.set(n,!0),pQ.set(n,!1),n.onChange();return}n.history.redos.push(e),n.history.undos.pop()}}},"insert.block":e=>{var t;let{context:n,operation:r}=e,i=sk({block:r.block,context:n,options:{validateFields:!0}});if(!i)throw Error("Failed to parse block ".concat(JSON.stringify(r.block)));let a=dq([i],{schemaTypes:n.schema})[0];if(!a)throw Error("Failed to convert block to Slate fragment ".concat(JSON.stringify(i)));!function(e){let{context:t,block:n,placement:r,select:i,editor:a}=e,[o,l]=function(e){let{editor:t}=e;if(!t.selection)return[void 0,void 0];let n=rH.start(t.selection);return d$({editor:t,point:n})}({editor:a}),[s,c]=function(e){let{editor:t}=e;if(!t.selection)return[void 0,void 0];let n=rH.end(t.selection);return d$({editor:t,point:n})}({editor:a});if(a.selection&&o&&l&&s&&c)if("before"===r){let e=a.selection,t=rH.start(e);iO.insertNodes(a,[n],{at:[t.path[0]],select:!1}),"start"===i?iO.select(a,rQ.start(a,[t.path[0]])):"end"===i&&iO.select(a,rQ.end(a,[t.path[0]]))}else if("after"===r){let e=a.selection,t=[rH.end(e).path[0]+1];iO.insertNodes(a,[n],{at:t,select:!1}),"start"===i?iO.select(a,rQ.start(a,t)):"end"===i&&iO.select(a,rQ.end(a,t))}else{let e=a.selection,r=rQ.start(a,c);if(rH.isExpanded(e)&&!a.isTextBlock(n)){iO.delete(a,{at:e});let r=a.selection,[o,l]=dG({editor:a});iO.insertNodes(a,[n],{voids:!0});let s=0===r.anchor.offset?rH.transform(r,{type:"insert_node",node:n,path:[r.anchor.path[0]]}):r;"none"===i&&s&&iO.select(a,s),o&&dY([o],t.schema)&&iO.removeNodes(a,{at:l});return}if(a.isTextBlock(s)&&a.isTextBlock(n)){var u,d,p,f;let o=rH.start(e);if(dY([s],t.schema)){let e=a.selection;iO.insertNodes(a,[n],{at:c,select:!1}),iO.removeNodes(a,{at:rT.next(c)}),"start"===i?iO.select(a,o):"end"===i?iO.select(a,rQ.end(a,c)):iO.select(a,e);return}let l=s.children.map(e=>e._key),h=null!=(p=null==(u=s.markDefs)?void 0:u.map(e=>e._key))?p:[],m=new Map,g=null==(d=n.markDefs)?void 0:d.map(e=>{if(h.includes(e._key)){let n=t.keyGenerator();return m.set(e._key,n),{...e,_key:n}}return e}),y=n.children.map(e=>{if(su(t,e)){var n,r;let i=null!=(r=null==(n=e.marks)?void 0:n.map(e=>m.get(e)||e))?r:[];if(!(0,e4.default)(e.marks,i))return{...e,_key:l.includes(e._key)?t.keyGenerator():e._key,marks:i}}return l.includes(e._key)?{...e,_key:t.keyGenerator()}:e});iO.setNodes(a,{markDefs:[...null!=(f=s.markDefs)?f:[],...null!=g?g:[]]},{at:c});let v=(0,e4.default)(n.children,y)?n:{...n,children:y};if("end"===i)return iO.insertFragment(a,[v],{voids:!0});iO.insertFragment(a,[v],{at:e,voids:!0}),"start"===i?iO.select(a,o):r5.equals(o,r)||iO.select(a,o)}else if(a.isTextBlock(s)){let r=rQ.start(a,c),o=rQ.end(a,c),l=rH.start(e),u=rH.end(e);if(rH.isCollapsed(e)&&r5.equals(l,r))iO.insertNodes(a,[n],{at:c,select:!1}),("start"===i||"end"===i)&&iO.select(a,rQ.start(a,c)),sD(t,s)&&iO.removeNodes(a,{at:rT.next(c)});else if(rH.isCollapsed(e)&&r5.equals(u,o)){let e=[c[0]+1];iO.insertNodes(a,[n],{at:e,select:!1}),("start"===i||"end"===i)&&iO.select(a,rQ.start(a,e))}else if(rH.isExpanded(e)&&r5.equals(l,r)&&r5.equals(u,o))iO.insertFragment(a,[n],{at:e}),"start"===i?iO.select(a,rQ.start(a,c)):"end"===i&&iO.select(a,rQ.end(a,c));else if(rH.isExpanded(e)&&r5.equals(l,r))iO.insertFragment(a,[n],{at:e}),"start"===i?iO.select(a,rQ.start(a,c)):"end"===i&&iO.select(a,rQ.end(a,c));else if(rH.isExpanded(e)&&r5.equals(u,o))iO.insertFragment(a,[n],{at:e}),"start"===i?iO.select(a,rQ.start(a,rT.next(c))):"end"===i&&iO.select(a,rQ.end(a,rT.next(c)));else{let e=a.selection,[t]=function(e){var t;let{editor:n}=e,[r,i]=dG({editor:n}),a=null==(t=n.selection)?void 0:t.focus.path.at(1);if(!r||!i||void 0===a)return[void 0,void 0];try{let e=rG.child(r,a);return e?[e,[...i,a]]:[void 0,void 0]}catch(e){return[void 0,void 0]}}({editor:a});if(t&&a.isTextSpan(t))iO.splitNodes(a,{at:e}),iO.insertFragment(a,[n],{at:e}),"start"===i||"end"===i?iO.select(a,[c[0]+1]):iO.select(a,e);else{let t=[c[0]+1];iO.insertNodes(a,[n],{at:t,select:!1}),iO.select(a,e),"start"===i?iO.select(a,rQ.start(a,t)):"end"===i&&iO.select(a,rQ.end(a,t))}}}else{iO.insertNodes(a,[n],{select:!1});let e=[c[0]+1];"start"===i?iO.select(a,rQ.start(a,e)):"end"===i&&iO.select(a,rQ.end(a,e))}}else{"none"!==i&&oA.focus(a);let[e,o]=dX({editor:a});if("before"===r)iO.insertNodes(a,[n],{at:[0]}),"start"===i?iO.select(a,rQ.start(a,[0])):"end"===i&&iO.select(a,rQ.end(a,[0]));else if("after"===r){let e=o?[o[0]+1]:[0];iO.insertNodes(a,[n],{at:e}),"start"===i?iO.select(a,rQ.start(a,e)):"end"===i&&iO.select(a,rQ.end(a,e))}else{if(e&&dY([e],t.schema)){iO.removeNodes(a,{at:o}),iO.insertNodes(a,[n],{at:o,select:!1}),iO.deselect(a),"start"===i?iO.select(a,rQ.start(a,o)):"end"===i&&iO.select(a,rQ.end(a,o));return}if(a.isTextBlock(n)&&e&&a.isTextBlock(e)){let e=rQ.end(a,o);iO.insertFragment(a,[n],{at:rQ.end(a,o)}),"start"===i?iO.select(a,e):"none"===i&&iO.deselect(a);return}let r=o?[o[0]+1]:[0];iO.insertNodes(a,[n],{at:r,select:!1}),"start"===i?iO.select(a,rQ.start(a,r)):"end"===i&&iO.select(a,rQ.end(a,r))}}}({context:n,block:a,placement:r.placement,select:null!=(t=r.select)?t:"start",editor:r.editor})},"insert.text":e=>{let{context:t,operation:n}=e,r={blockIndexMap:n.editor.blockIndexMap,context:{value:n.editor.value,selection:n.editor.selection?d1({schema:t.schema,editor:n.editor,range:n.editor.selection}):null,schema:t.schema,keyGenerator:t.keyGenerator,converters:[],readOnly:!1},decoratorState:n.editor.decoratorState},i=sY(r),a=s5(r),o=s2(r),[l]=function(e){let{editor:t}=e;if(!t.selection)return[void 0,void 0];try{let[e]=dG({editor:t});if(!e||!t.isTextBlock(e))return[void 0,void 0];let[n,r]=rQ.node(t,t.selection.focus.path.slice(0,2));if(t.isTextSpan(n))return[n,r]}catch(e){}return[void 0,void 0]}({editor:n.editor});if(!l)return void iO.insertText(n.editor,n.text);if(i&&"unchanged"===i.state){var s;let e=(null!=(s=i.marks)?s:[]).filter(e=>t.schema.decorators.map(e=>e.name).includes(e));if(e.length===a.length&&e.every(e=>a.includes(e)))return void iO.insertText(n.editor,n.text)}iO.insertNodes(n.editor,{_type:l._type,_key:t.keyGenerator(),text:n.text,marks:[...a,...o]}),oE.set(n.editor,n.editor.selection),n.editor.decoratorState={}},"move.backward":e=>{let{operation:t}=e;iO.move(t.editor,{unit:"character",distance:t.distance,reverse:!0})},"move.block":e=>{let{operation:t}=e,n=sf({path:t.at});if(!n)throw Error("Failed to get block key from selection point");let r=t.editor.blockIndexMap.get(n);if(void 0===r)throw Error("Failed to get block index from block key");let i=sf({path:t.to});if(!i)throw Error("Failed to get block key from selection point");let a=t.editor.blockIndexMap.get(i);if(void 0===a)throw Error("Failed to get block index from block key");iO.moveNodes(t.editor,{at:[r],to:[a],mode:"highest"})},"move.forward":e=>{let{operation:t}=e;iO.move(t.editor,{unit:"character",distance:t.distance})},select:e=>{let{context:t,operation:n}=e,r=d5({context:{schema:t.schema,value:n.editor.value,selection:n.at},blockIndexMap:n.editor.blockIndexMap});r?iO.select(n.editor,r):iO.deselect(n.editor),ov.get(n.editor)&&oy.get(n.editor)&&ov.set(n.editor,!1)}};function f$(e){let{context:t,operation:n}=e;rQ.withoutNormalizing(n.editor,()=>{try{switch(n.type){case"annotation.add":fG["annotation.add"]({context:t,operation:n});break;case"annotation.remove":fG["annotation.remove"]({context:t,operation:n});break;case"block.set":fG["block.set"]({context:t,operation:n});break;case"block.unset":fG["block.unset"]({context:t,operation:n});break;case"child.set":fG["child.set"]({context:t,operation:n});break;case"child.unset":fG["child.unset"]({context:t,operation:n});break;case"decorator.add":fG["decorator.add"]({context:t,operation:n});break;case"decorator.remove":fG["decorator.remove"]({context:t,operation:n});break;case"delete":fG.delete({context:t,operation:n});break;case"history.redo":fG["history.redo"]({context:t,operation:n});break;case"history.undo":fG["history.undo"]({context:t,operation:n});break;case"insert.block":fG["insert.block"]({context:t,operation:n});break;case"insert.text":fG["insert.text"]({context:t,operation:n});break;case"move.backward":fG["move.backward"]({context:t,operation:n});break;case"move.block":fG["move.block"]({context:t,operation:n});break;case"move.forward":fG["move.forward"]({context:t,operation:n});break;default:fG.select({context:t,operation:n})}}catch(e){console.error(Error('Executing "'.concat(n.type,'" failed due to: ').concat(e.message)))}})}let fZ=new WeakMap;function fX(e,t){let n=fZ.get(e);fZ.set(e,!0),t(),fZ.set(e,n)}function fJ(e){var t;return null!=(t=fZ.get(e))&&t}function fQ(e,t){let n=-1,r=e.find((e,r)=>{let i=sp(t[0])?e._key===t[0]._key:r===t[0];return i&&(n=r),i});if(r)return{node:r,index:n}}function f1(e,t){let n=e.node;if(!rW.isElement(n)||"children"!==t[1])return;let r=-1,i=n.children.find((e,n)=>{let i=sp(t[2])?e._key===t[2]._key:n===t[2];return i&&(r=n),i});if(i)return{node:i,index:r}}let f2=new WeakMap;function f0(e,t){var n;let r=(n=e,f2.get(n));f2.set(e,!1),t(),f2.set(e,r)}let f5=dV("plugin:withPatches"),f7=dV("plugin:withPlaceholderBlock"),f3=dV("plugin:withSchemaTypes");function f8(e){return"object"==typeof e&&null!==e&&!("_type"in e)&&"children"in e&&Array.isArray(e.children)}function f4(e,t){return sC(t)&&t._type===e.schema.block.name}function f6(e,t){return"object"==typeof t&&null!==t&&!("children"in t)&&("_type"in t?t._type===e.schema.span.name:"text"in t)}function f9(e){return"object"==typeof e&&null!==e&&"text"in e&&"string"==typeof e.text}function he(e,t){let n=t.at(0);if(void 0!==n&&1===t.length)return e.children.at(n)}function ht(e,t,n){if(0===n.length)return t;if(1===n.length)return he(t,n);if(2===n.length){let r=he(t,n.slice(0,1));return r&&f4(e,r)&&r.children.at(n[1])||void 0}}function hn(e,t,n){let r=ht(e,t,n);if(r&&f6(e,r))return r}function hr(e,t,n){if(0===n.length)return;let r=n.slice(0,-1);if(0===r.length)return t;let i=r.at(0);if(void 0===i||1!==r.length)return;let a=t.children.at(i);if(a&&f4(e,a))return a}let hi=dV("setup");function ha(e,t){return{getBlockNodes:e=>(function(e,t){if(!t.context.selection)return[];let n=d5(t);if(!n)return[];try{return Array.from(rQ.nodes(e,{at:n,mode:"highest",match:e=>!rQ.isEditor(e)})).map(t=>{let[n]=t;return oA.toDOMNode(e,n)})}catch(e){return[]}})(t,e),getChildNodes:e=>(function(e,t){if(!t.context.selection)return[];let n=d5(t);if(!n)return[];try{return Array.from(rQ.nodes(e,{at:n,mode:"lowest",match:e=>!rQ.isEditor(e)})).map(t=>{let[n]=t;return oA.toDOMNode(e,n)})}catch(e){return[]}})(t,e),setDragGhost:t=>{let{event:n,ghost:r}=t;return function(e){let{sendBack:t,event:n,ghost:r}=e;n.originEvent.dataTransfer.setDragImage(r.element,r.x,r.y),t({type:"set drag ghost",ghost:r.element})}({sendBack:e,event:n,ghost:r})}}}let ho=[{on:"annotation.add",guard:e=>{let{snapshot:t}=e;if(!sz(t))return!1;let n=(e=>{if(!e.context.selection||!sz(e))return null;let t=sP(e),n=sR(e),r=n?sg({context:e.context,selectionPoint:n}):void 0;if(!t||!n||!r)return null;let i=sB(e),a=sy({context:e.context,block:t}),o=sL({...e,context:{...e.context,selection:{anchor:i?{path:i.path,offset:0}:a,focus:n}}}).split(/\s+/).at(-1),l=(e=>{let t=sP(e),n=sH(e),r=n&&(0,W.isKeySegment)(n.path[2])?n.path[2]._key:void 0;if(!t||!r)return;let i=!1,a;for(let n of t.node.children){if(n._key===r){i=!0;continue}if(!su(e.context,n)&&i){a={node:n,path:[...t.path,"children",{_key:n._key}]};break}}return a})(e),s=sT({context:e.context,block:t}),c=sL({...e,context:{...e.context,selection:{anchor:n,focus:l?{path:l.path,offset:0}:s}}}).split(/\s+/).at(0);if((void 0===o||""===o)&&(void 0===c||""===c))return null;let u=o?{...r,offset:r.offset-o.length}:r,d=c?{...r,offset:r.offset+c.length}:r,p=sm({context:e.context,blockOffset:u,direction:"backward"}),f=sm({context:e.context,blockOffset:d,direction:"forward"});if(!p||!f)return null;let h={anchor:p,focus:f};return sV({context:{...e.context,selection:h}})?h:null})(t);return!!n&&!!sV({context:{...t.context,selection:n}})&&{caretWordSelection:n}},actions:[(e,t)=>{let{event:n}=e,{caretWordSelection:r}=t;return[ca({type:"select",at:r}),ca({type:"annotation.add",annotation:n.annotation})]}]},{on:"annotation.add",guard:e=>{let{snapshot:t,event:n}=e;return s0(n.annotation.name,{mode:"partial"})(t)},actions:[e=>{let{event:t}=e;return[ca({type:"annotation.remove",annotation:t.annotation}),ca(t)]}]}],hl={arrowDown:dP({default:[{key:"ArrowDown",alt:!1,ctrl:!1,meta:!1,shift:!1}]}),arrowUp:dP({default:[{key:"ArrowUp",alt:!1,ctrl:!1,meta:!1,shift:!1}]}),break:dP({default:[{key:"Enter",shift:!1}]}),lineBreak:dP({default:[{key:"Enter",shift:!0}]}),decorators:{strong:dM,em:dF,underline:dB,code:dR},history:{undo:dN,redo:dL},tab:dP({default:[{key:"Tab",alt:!1,ctrl:!1,meta:!1,shift:!1}]}),shiftTab:dP({default:[{key:"Tab",alt:!1,ctrl:!1,meta:!1,shift:!0}]})},hs={arrowDownOnLonelyBlockObject:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;if(!hl.arrowDown.guard(n.originEvent)||!sz(t))return!1;let r=sG(t),i=sX(t);return r&&!i},actions:[e=>{let{snapshot:t}=e;return[ca({type:"insert.block",block:{_type:t.context.schema.block.name},placement:"after"})]}]},arrowUpOnLonelyBlockObject:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;if(!hl.arrowUp.guard(n.originEvent)||!sz(t))return!1;let r=sG(t),i=sJ(t);return r&&!i},actions:[e=>{let{snapshot:t}=e;return[ca({type:"insert.block",block:{_type:t.context.schema.block.name},placement:"before"})]}]},breakingBlockObject:{on:"insert.break",guard:e=>{let{snapshot:t}=e,n=sG(t);return sz(t)&&void 0!==n},actions:[e=>{let{snapshot:t}=e;return[ca({type:"insert.block",block:{_type:t.context.schema.block.name},placement:"after"})]}]},clickingAboveLonelyBlockObject:{on:"mouse.click",guard:e=>{let{snapshot:t,event:n}=e;if(t.context.readOnly||t.context.selection&&!sz(t))return!1;let r=sG({...t,context:{...t.context,selection:n.position.selection}}),i=sJ({...t,context:{...t.context,selection:n.position.selection}});return n.position.isEditor&&"start"===n.position.block&&r&&!i},actions:[e=>{let{snapshot:t,event:n}=e;return[ca({type:"select",at:n.position.selection}),ca({type:"insert.block",block:{_type:t.context.schema.block.name},placement:"before",select:"start"})]}]},clickingBelowLonelyBlockObject:{on:"mouse.click",guard:e=>{let{snapshot:t,event:n}=e;if(t.context.readOnly||t.context.selection&&!sz(t))return!1;let r=sG({...t,context:{...t.context,selection:n.position.selection}}),i=sX({...t,context:{...t.context,selection:n.position.selection}});return n.position.isEditor&&"end"===n.position.block&&r&&!i},actions:[e=>{let{snapshot:t,event:n}=e;return[ca({type:"select",at:n.position.selection}),ca({type:"insert.block",block:{_type:t.context.schema.block.name},placement:"after",select:"start"})]}]},deletingEmptyTextBlockAfterBlockObject:{on:"delete.backward",guard:e=>{let{snapshot:t}=e,n=sP(t),r=sz(t),i=sJ(t);return!!n&&!!r&&!!i&&!(!sD(t.context,n.node)||sc(t.context,i.node))&&{focusTextBlock:n,previousBlock:i}},actions:[(e,t)=>{let{focusTextBlock:n,previousBlock:r}=t;return[ca({type:"delete.block",at:n.path}),ca({type:"select",at:{anchor:{path:r.path,offset:0},focus:{path:r.path,offset:0}}})]}]},deletingEmptyTextBlockBeforeBlockObject:{on:"delete.forward",guard:e=>{let{snapshot:t}=e,n=sP(t),r=sz(t),i=sX(t);return!!n&&!!r&&!!i&&!(!sD(t.context,n.node)||sc(t.context,i.node))&&{focusTextBlock:n,nextBlock:i}},actions:[(e,t)=>{let{focusTextBlock:n,nextBlock:r}=t;return[ca({type:"delete.block",at:n.path}),ca({type:"select",at:{anchor:{path:r.path,offset:0},focus:{path:r.path,offset:0}}})]}]}},hc={strongShortcut:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;return hl.decorators.strong.guard(n.originEvent)&&t.context.schema.decorators.some(e=>"strong"===e.name)},actions:[()=>[ca({type:"decorator.toggle",decorator:"strong"})]]},emShortcut:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;return hl.decorators.em.guard(n.originEvent)&&t.context.schema.decorators.some(e=>"em"===e.name)},actions:[()=>[ca({type:"decorator.toggle",decorator:"em"})]]},underlineShortcut:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;return hl.decorators.underline.guard(n.originEvent)&&t.context.schema.decorators.some(e=>"underline"===e.name)},actions:[()=>[ca({type:"decorator.toggle",decorator:"underline"})]]},codeShortcut:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;return hl.decorators.code.guard(n.originEvent)&&t.context.schema.decorators.some(e=>"code"===e.name)},actions:[()=>[ca({type:"decorator.toggle",decorator:"code"})]]}};function hu(e){var t;if(0===e.length)return new DOMRect(0,0,0,0);let n=e.filter(e=>e instanceof Element),r=null==(t=n.at(0))?void 0:t.getBoundingClientRect();if(!r)return new DOMRect(0,0,0,0);let i=r.left,a=r.top,o=r.right,l=r.bottom;for(let e=1;e<n.length;e++){let t=n[e].getBoundingClientRect();i=Math.min(i,t.left),a=Math.min(a,t.top),o=Math.max(o,t.right),l=Math.max(l,t.bottom)}return new DOMRect(i,a,o-i,l-a)}let hd=[{on:"drag.dragstart",guard:e=>{let{snapshot:t,dom:n,event:r}=e,i=pr({snapshot:t,eventSelection:r.position.selection}),a=cn({...t,context:{...t.context,selection:i}}),o={blockNodes:n.getBlockNodes({...t,context:{...t.context,selection:i}}),childNodes:n.getChildNodes({...t,context:{...t.context,selection:i}})};return{dragSelection:i,draggedDomNodes:o,selectingEntireBlocks:a}},actions:[(e,t)=>{let{dom:n,event:r}=e,{dragSelection:i,draggedDomNodes:a,selectingEntireBlocks:o}=t,l=document.createElement("div");if(o){for(let e of a.blockNodes.map(e=>e.cloneNode(!0)))e instanceof HTMLElement&&(e.style.position="relative"),l.appendChild(e);let e=l.querySelector("[data-pt-drag-ghost-element]");if(e&&l.replaceChildren(e),l.setAttribute("data-dragged",""),l.style.position="absolute",l.style.left="-99999px",l.style.boxSizing="border-box",document.body.appendChild(l),e){let t=e.getBoundingClientRect(),a=r.originEvent.clientX-t.left,o=r.originEvent.clientY-t.top;return l.style.width="".concat(t.width,"px"),l.style.height="".concat(t.height,"px"),[ca({type:"select",at:i}),co(()=>{n.setDragGhost({event:r,ghost:{element:l,x:a,y:o}})}),ci(r)]}{let e=hu(a.blockNodes),t=r.originEvent.clientX-e.left,o=r.originEvent.clientY-e.top;return l.style.width="".concat(e.width,"px"),l.style.height="".concat(e.height,"px"),[ca({type:"select",at:i}),co(()=>{n.setDragGhost({event:r,ghost:{element:l,x:t,y:o}})}),ci(r)]}}{for(let e of a.childNodes.map(e=>e.cloneNode(!0)))l.appendChild(e);l.style.position="absolute",l.style.left="-99999px",l.style.boxSizing="border-box",document.body.appendChild(l);let e=hu(a.childNodes),t=r.originEvent.clientX-e.left,o=r.originEvent.clientY-e.top;return l.style.width="".concat(e.width,"px"),l.style.height="".concat(e.height,"px"),[ca({type:"select",at:i}),co(()=>{n.setDragGhost({event:r,ghost:{element:l,x:t,y:o}})}),ci(r)]}}]},{on:"drag.dragover",guard:e=>{let{snapshot:t,event:n}=e,r=n.dragOrigin;return!!r&&ct(n.position.selection)({...t,context:{...t.context,selection:r.selection}})},actions:[]},{on:"drag.drop",guard:e=>{let{snapshot:t,event:n}=e,r=n.dragOrigin,i=n.position.selection;return!!r&&ct(i)({...t,context:{...t.context,selection:r.selection}})},actions:[]},{on:"drag.drop",guard:e=>{let{event:t}=e;return void 0!==t.dragOrigin},actions:[e=>{let{event:t}=e;return[ca({type:"deserialize",originEvent:t})]}]},{on:"drag.drop",actions:[e=>{let{event:t}=e;return[ca({type:"select",at:t.position.selection}),ca({type:"deserialize",originEvent:t})]}]},{on:"deserialization.success",guard:e=>{let{snapshot:t,event:n}=e;if("drag.drop"!==n.originEvent.type||void 0===n.originEvent.dragOrigin)return!1;let r=n.originEvent.dragOrigin,i=pr({eventSelection:r.selection,snapshot:t}),a=n.originEvent.position.selection,o=!!r&&ct(a)({...t,context:{...t.context,selection:i}}),l=cn({...t,context:{...t.context,selection:i}}),s=sK({...t,context:{...t.context,selection:i}});return!o&&{dropPosition:a,draggingEntireBlocks:l,draggedBlocks:s,dragOrigin:r,originEvent:n.originEvent}},actions:[(e,t)=>{let{event:n}=e,{draggingEntireBlocks:r,draggedBlocks:i,dragOrigin:a,dropPosition:o,originEvent:l}=t;return[ca({type:"select",at:o}),...r?i.map(e=>ca({type:"delete.block",at:e.path})):[ca({type:"delete",at:a.selection})],ca({type:"insert.blocks",blocks:n.data,placement:r?"start"===l.position.block?"before":"end"===l.position.block?"after":"auto":"auto"})]}]}],hp={breakingAtTheEndOfTextBlock:{on:"insert.break",guard:e=>{let{snapshot:t}=e,n=sP(t),r=sz(t);if(!t.context.selection||!n||!r)return!1;let i=s4(n)(t),a=n.node.listItem,o=n.node.level;return!!i&&{focusListItem:a,focusLevel:o}},actions:[(e,t)=>{var n;let{snapshot:r}=e,{focusListItem:i,focusLevel:a}=t;return[ca({type:"insert.block",block:{_type:r.context.schema.block.name,children:[{_type:r.context.schema.span.name,text:"",marks:[]}],markDefs:[],listItem:i,level:a,style:null==(n=r.context.schema.styles[0])?void 0:n.name},placement:"after"})]}]},breakingAtTheStartOfTextBlock:{on:"insert.break",guard:e=>{var t,n,r;let{snapshot:i}=e,a=sP(i),o=sz(i);if(!i.context.selection||!a||!o)return!1;let l=sF(i),s=null==l||null==(t=l.node.marks)?void 0:t.filter(e=>{var t;return null!=(t=i.context.schema.decorators.some(t=>t.name===e))?t:[]}),c=null!=(r=null==l||null==(n=l.node.marks)?void 0:n.filter(e=>!i.context.schema.decorators.some(t=>t.name===e)))?r:[],u=a.node.listItem,d=a.node.level;return!!s6(a)(i)&&{focusAnnotations:c,focusDecorators:s,focusListItem:u,focusLevel:d}},actions:[(e,t)=>{var n;let{snapshot:r}=e,{focusAnnotations:i,focusDecorators:a,focusListItem:o,focusLevel:l}=t;return[ca({type:"insert.block",block:{_type:r.context.schema.block.name,children:[{_type:r.context.schema.span.name,marks:0===i.length?a:[],text:""}],listItem:o,level:l,style:null==(n=r.context.schema.styles[0])?void 0:n.name},placement:"before",select:"none"})]}]},breakingEntireDocument:{on:"insert.break",guard:e=>{let{snapshot:t}=e;if(!t.context.selection||!sV(t))return!1;let n=(e=>{let t=e.context.value[0];return t?{node:t,path:[{_key:t._key}]}:void 0})(t),r=(e=>{let t=e.context.value[e.context.value.length-1]?e.context.value[e.context.value.length-1]:void 0;return t?{node:t,path:[{_key:t._key}]}:void 0})(t);if(!n||!r)return!1;let i=sy({context:t.context,block:n}),a=sb(t.context.selection),o=sT({context:t.context,block:r}),l=sv(t.context.selection);return!!(sI(i,a)&&sI(o,l))&&{selection:t.context.selection}},actions:[(e,t)=>{let{selection:n}=t;return[ca({type:"delete",at:n})]}]},breakingEntireBlocks:{on:"insert.break",guard:e=>{let{snapshot:t}=e;if(!t.context.selection||!sV(t))return!1;let n=sK(t),r=sq(t),i=sU(t);if(!r||!i)return!1;let a=sy({context:t.context,block:r}),o=sb(t.context.selection),l=sT({context:t.context,block:i}),s=sv(t.context.selection);return!!(sI(o,a)&&sI(s,l))&&{selectedBlocks:n}},actions:[(e,t)=>{let{snapshot:n}=e,{selectedBlocks:r}=t;return[ca({type:"insert.block",block:{_type:n.context.schema.block.name,children:[{_type:n.context.schema.span.name,text:"",marks:[]}]},placement:"before",select:"start"}),...r.map(e=>ca({type:"delete.block",at:e.path}))]}]},breakingInlineObject:{on:"insert.break",guard:e=>{let{snapshot:t}=e,n=sz(t),r=s$(t);return n&&r},actions:[()=>[ca({type:"move.forward",distance:1}),ca({type:"split"})]]}};function hf(e){let{context:t,block:n}=e;return!!sc(t,n)&&!!t.selection&&!!sA(t.selection)&&sh(t.selection.focus)===n.children[0]._key&&0===t.selection.focus.offset}let hh={clearListOnBackspace:{on:"delete.backward",guard:e=>{let{snapshot:t}=e,n=sP(t);return!!n&&1===n.node.level&&!!hf({context:t.context,block:n.node})&&{focusTextBlock:n}},actions:[(e,t)=>{let{focusTextBlock:n}=t;return[ca({type:"block.unset",props:["listItem","level"],at:n.path})]}]},unindentListOnBackspace:{on:"delete.backward",guard:e=>{var t;let{snapshot:n}=e,r=sz(n),i=sP(n),a=sF(n);return!!r&&!!i&&!!a&&i.node.children[0]._key===a.node._key&&(null==(t=n.context.selection)?void 0:t.focus.offset)===0&&void 0!==i.node.level&&i.node.level>1&&{focusTextBlock:i,level:i.node.level-1}},actions:[(e,t)=>{let{focusTextBlock:n,level:r}=t;return[ca({type:"block.set",props:{level:r},at:n.path})]}]},mergeTextIntoListOnDelete:{on:"delete.forward",guard:e=>{let{snapshot:t}=e,n=sZ(t),r=sX(t);return!!n&&!!r&&!!sc(t.context,r.node)&&!!sD(t.context,n.node)&&{focusListBlock:n,nextBlock:r}},actions:[(e,t)=>{let{nextBlock:n}=t;return[ca({type:"insert.block",block:n.node,placement:"auto",select:"start"}),ca({type:"delete.block",at:n.path})]}]},mergeTextIntoListOnBackspace:{on:"delete.backward",guard:e=>{let{snapshot:t}=e,n=sP(t),r=sJ(t);return!!n&&!!r&&!!hf({context:t.context,block:n.node})&&!!sw(t.context,r.node)&&!!sD(t.context,r.node)&&{focusTextBlock:n,previousBlockEndPoint:sT({context:t.context,block:r})}},actions:[(e,t)=>{let{focusTextBlock:n,previousBlockEndPoint:r}=t;return[ca({type:"select",at:{anchor:r,focus:r}}),ca({type:"insert.block",block:n.node,placement:"auto",select:"start"}),ca({type:"delete.block",at:n.path})]}]},deletingListFromStart:{on:"delete",guard:e=>{var t,n;let{snapshot:r,event:i}=e,a=sK({...r,context:{...r.context,selection:i.at}});if(a.length<2)return!1;let o=null==(t=a.at(0))?void 0:t.node,l=a.slice(1,-1),s=null==(n=a.at(-1))?void 0:n.node;if(!sw(r.context,o)||!sw(r.context,s))return!1;let c=sR({context:{...r.context,selection:i.at}}),u=sH({context:{...r.context,selection:i.at}});if(!c||!u)return!1;let d=sy({context:r.context,block:{node:o,path:[{_key:o._key}]}});if(!sI(c,d))return!1;let p=sT({context:r.context,block:{node:o,path:[{_key:o._key}]}}),f=sT({context:r.context,block:{node:s,path:[{_key:s._key}]}}),h=dT({context:{schema:r.context.schema,selection:{anchor:u,focus:f}},block:s});return{startBlockStartPoint:d,startBlockEndPoint:p,middleBlocks:l,endBlock:s,slicedEndBlock:h}},actions:[(e,t)=>{let{startBlockStartPoint:n,startBlockEndPoint:r,middleBlocks:i,endBlock:a,slicedEndBlock:o}=t;return[...i.map(e=>ca({type:"delete.block",at:e.path})),ca({type:"delete.block",at:[{_key:a._key}]}),ca({type:"select",at:{anchor:r,focus:r}}),ca({type:"insert.block",block:o,placement:"auto",select:"none"}),ca({type:"delete",at:{anchor:n,focus:r}})]}]},clearListOnEnter:{on:"insert.break",guard:e=>{let{snapshot:t}=e,n=sz(t),r=sZ(t);return!!n&&!!r&&!!sD(t.context,r.node)&&{focusListBlock:r}},actions:[(e,t)=>{let{focusListBlock:n}=t;return[ca({type:"block.unset",props:["listItem","level"],at:n.path})]}]},indentListOnTab:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;if(!hl.tab.guard(n.originEvent))return!1;let r=sK(t),i=r.flatMap(e=>sw(t.context,e.node)?[{node:e.node,path:e.path}]:[]);return i.length===r.length&&{selectedListBlocks:i}},actions:[(e,t)=>{let{selectedListBlocks:n}=t;return n.map(e=>ca({type:"block.set",props:{level:Math.min(10,Math.max(1,e.node.level+1))},at:e.path}))}]},unindentListOnShiftTab:{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;if(!hl.shiftTab.guard(n.originEvent))return!1;let r=sK(t),i=r.flatMap(e=>sw(t.context,e.node)?[{node:e.node,path:e.path}]:[]);return i.length===r.length&&{selectedListBlocks:i}},actions:[(e,t)=>{let{selectedListBlocks:n}=t;return n.map(e=>ca({type:"block.set",props:{level:Math.min(10,Math.max(1,e.node.level-1))},at:e.path}))}]},inheritListLevel:{on:"insert.blocks",guard:e=>{let{snapshot:t,event:n}=e,r=sZ(t);if(!r)return!1;let i=n.blocks.at(0),a=n.blocks.at(1),o=sw(t.context,i)?i:sw(t.context,a)?a:void 0;if(!o)return!1;let l=r.node.level-o.level;return 0!==l&&{levelDifference:l,insertedListBlock:o}},actions:[(e,t)=>{let{snapshot:n,event:r}=e,{levelDifference:i,insertedListBlock:a}=t,o=!0,l=!1;return[ca({...r,blocks:r.blocks.map(e=>(e._key===a._key&&(l=!0),o?l&&o&&sw(n.context,e)?{...e,level:Math.min(10,Math.max(1,e.level+i))}:(l&&(o=!1),e):e))})]}]},inheritListItem:{on:"insert.blocks",guard:e=>{let{snapshot:t,event:n}=e,r=sZ(t);if(!r||sD(t.context,r.node))return!1;let i=n.blocks.at(0),a=n.blocks.at(1),o=sw(t.context,i)?i:sw(t.context,a)?a:void 0;return!!o&&r.node.level===o.level&&r.node.listItem!==o.listItem&&{listItem:r.node.listItem,insertedListBlock:o}},actions:[(e,t)=>{let{snapshot:n,event:r}=e,{listItem:i,insertedListBlock:a}=t,o=!0,l=!1;return[ca({...r,blocks:r.blocks.map(e=>(e._key===a._key&&(l=!0),o?l&&o&&sw(n.context,e)?{...e,listItem:e.level===a.level?i:e.listItem}:(l&&(o=!1),e):e))})]}]},inheritListProperties:{on:"insert.block",guard:e=>{let{snapshot:t,event:n}=e;if("auto"!==n.placement||n.block._type!==t.context.schema.block.name||void 0!==n.block.listItem)return!1;let r=sZ(t);return!!r&&!!sD(t.context,r.node)&&{level:r.node.level,listItem:r.node.listItem}},actions:[(e,t)=>{let{event:n}=e,{level:r,listItem:i}=t;return[ca({...n,block:{...n.block,level:r,listItem:i}})]}]}},hm=[...ho,hc.strongShortcut,hc.emShortcut,hc.underlineShortcut,hc.codeShortcut,...hd,hs.clickingAboveLonelyBlockObject,hs.clickingBelowLonelyBlockObject,hs.arrowDownOnLonelyBlockObject,hs.arrowUpOnLonelyBlockObject,hs.breakingBlockObject,hs.deletingEmptyTextBlockAfterBlockObject,hs.deletingEmptyTextBlockBeforeBlockObject,hh.clearListOnBackspace,hh.unindentListOnBackspace,hh.mergeTextIntoListOnDelete,hh.mergeTextIntoListOnBackspace,hh.deletingListFromStart,hh.clearListOnEnter,hh.indentListOnTab,hh.unindentListOnShiftTab,hh.inheritListLevel,hh.inheritListItem,hh.inheritListProperties,hp.breakingAtTheEndOfTextBlock,hp.breakingAtTheStartOfTextBlock,hp.breakingEntireDocument,hp.breakingEntireBlocks,hp.breakingInlineObject].map(e=>({behavior:e,priority:pa})),hg=[{on:"clipboard.copy",guard:e=>{let{snapshot:t}=e,n=sF(t),r=sz(t);return n&&r},actions:[]},{on:"clipboard.copy",actions:[e=>{let{event:t}=e;return[ca({type:"serialize",originEvent:t})]}]},{on:"clipboard.cut",guard:e=>{let{snapshot:t}=e,n=sF(t),r=sz(t);return n&&r},actions:[]},{on:"clipboard.cut",guard:e=>{let{snapshot:t}=e;return!!t.context.selection&&{selection:t.context.selection}},actions:[(e,t)=>{let{event:n}=e,{selection:r}=t;return[ca({type:"serialize",originEvent:n}),ca({type:"delete",at:r})]}]},{on:"drag.dragstart",actions:[e=>{let{event:t}=e;return[ca({type:"serialize",originEvent:t})]}]},{on:"clipboard.paste",guard:e=>{let{snapshot:t}=e;return!!(t.context.selection&&sV(t))&&{selection:t.context.selection}},actions:[(e,t)=>{let{event:n}=e,{selection:r}=t;return[ca({type:"delete",at:r}),ca({type:"deserialize",originEvent:n})]}]},{on:"clipboard.paste",actions:[e=>{let{event:t}=e;return[ca({type:"deserialize",originEvent:t})]}]},{on:"input.*",actions:[e=>{let{event:t}=e;return[ca({type:"deserialize",originEvent:t})]}]},{on:"annotation.set",guard:e=>{var t;let{snapshot:n,event:r}=e,i=r.at[0]._key,a=r.at[2]._key,o=sP({...n,context:{...n.context,selection:{anchor:{path:[{_key:i}],offset:0},focus:{path:[{_key:i}],offset:0}}}});return!!o&&{blockKey:i,updatedMarkDefs:null==(t=o.node.markDefs)?void 0:t.map(e=>e._key===a?{...e,...r.props}:e)}},actions:[(e,t)=>{let{blockKey:n,updatedMarkDefs:r}=t;return[ca({type:"block.set",at:[{_key:n}],props:{markDefs:r}})]}]},{on:"annotation.toggle",guard:e=>{let{snapshot:t,event:n}=e;return s0(n.annotation.name)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"annotation.remove",annotation:t.annotation})]}]},{on:"annotation.toggle",guard:e=>{let{snapshot:t,event:n}=e;return!s0(n.annotation.name)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"annotation.add",annotation:t.annotation})]}]},{on:"decorator.toggle",guard:e=>{let{snapshot:t,event:n}=e;return s7(n.decorator)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"decorator.remove",decorator:t.decorator})]}]},{on:"decorator.toggle",guard:e=>{let{snapshot:t,event:n}=e,r=n.at?dj({context:t.context,offsets:n.at}):null;return r?!s7(n.decorator)({...t,context:{...t.context,selection:r}}):!s7(n.decorator)(t)},actions:[e=>{let{event:t}=e;return[ca({...t,type:"decorator.add"})]}]},{on:"delete.backward",guard:e=>{let{snapshot:t}=e;return!!t.context.selection&&{selection:t.context.selection}},actions:[(e,t)=>{let{event:n}=e,{selection:r}=t;return[ca({type:"delete",direction:"backward",unit:n.unit,at:r})]}]},{on:"delete",guard:e=>{let{snapshot:t,event:n}=e;if("backward"!==n.direction)return!1;let r=sJ(t),i=sP(t);if(!r||!i||!s6(i)(t))return!1;let a=sT({context:t.context,block:r});return!!sc(t.context,r.node)&&{previousBlockEndPoint:a,focusTextBlock:i}},actions:[(e,t)=>{let{previousBlockEndPoint:n,focusTextBlock:r}=t;return[ca({type:"delete.block",at:r.path}),ca({type:"select",at:{anchor:n,focus:n}}),ca({type:"insert.block",block:r.node,placement:"auto",select:"start"})]}]},{on:"delete.forward",guard:e=>{let{snapshot:t}=e;return!!t.context.selection&&{selection:t.context.selection}},actions:[(e,t)=>{let{event:n}=e,{selection:r}=t;return[ca({type:"delete",direction:"forward",unit:n.unit,at:r})]}]},{on:"delete",guard:e=>{let{snapshot:t,event:n}=e;if("forward"!==n.direction)return!1;let r=sX({...t,context:{...t.context,selection:n.at}}),i=sP({...t,context:{...t.context,selection:n.at}});return!!r&&!!i&&!!sD(t.context,i.node)&&{focusTextBlock:i,nextBlockStartPoint:sy({context:t.context,block:r})}},actions:[(e,t)=>{let{focusTextBlock:n,nextBlockStartPoint:r}=t;return[ca({type:"delete.block",at:n.path}),ca({type:"select",at:{anchor:r,focus:r}})]}]},{on:"delete",guard:e=>{let{snapshot:t,event:n}=e;if("forward"!==n.direction)return!1;let r=sX(t),i=sP(t);return!!r&&!!i&&!!s4(i)(t)&&!!sc(t.context,r.node)&&{nextBlock:r}},actions:[(e,t)=>{let{nextBlock:n}=t;return[ca({type:"delete.block",at:n.path}),ca({type:"insert.block",block:n.node,placement:"auto",select:"none"})]}]},{on:"delete.block",actions:[e=>{let{event:t}=e;return[ca({type:"delete",at:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}})]}]},{on:"delete.child",guard:e=>{let{snapshot:t,event:n}=e,r=sM({...t,context:{...t.context,selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}}});return!!r&&(su(t.context,r.node)?{selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:r.node.text.length}}}:{selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}})},actions:[(e,t)=>{let{selection:n}=t;return[ca({type:"delete",at:n})]}]},{on:"delete.text",guard:e=>{let{snapshot:t,event:n}=e,r=dj({context:t.context,offsets:n.at});if(!r)return!1;let i=s1({...t,context:{...t.context,value:t.context.value,selection:r}});return!!i&&{selection:i}},actions:[(e,t)=>{let{selection:n}=t;return[ca({type:"delete",at:n})]}]},{on:"deserialize",guard:e=>{let{event:t}=e,n=t.originEvent.originEvent.dataTransfer.getData("application/x-portable-text");if(n)return{type:"deserialize.data",mimeType:"application/x-portable-text",data:n,originEvent:t.originEvent};let r=t.originEvent.originEvent.dataTransfer.getData("application/json");if(r)return{type:"deserialize.data",mimeType:"application/json",data:r,originEvent:t.originEvent};let i=t.originEvent.originEvent.dataTransfer.getData("text/html");if(i)return{type:"deserialize.data",mimeType:"text/html",data:i,originEvent:t.originEvent};let a=t.originEvent.originEvent.dataTransfer.getData("text/plain");return!!a&&{type:"deserialize.data",mimeType:"text/plain",data:a,originEvent:t.originEvent}},actions:[(e,t)=>[ca(t)]]},{on:"deserialize",actions:[e=>{let{event:t}=e;return[ca({type:"deserialization.failure",mimeType:"*/*",reason:"No Behavior was able to handle the incoming data",originEvent:t.originEvent})]}]},{on:"deserialize.data",guard:e=>{let{snapshot:t,event:n}=e,r=t.context.converters.find(e=>e.mimeType===n.mimeType);return!!r&&r.deserialize({snapshot:t,event:{type:"deserialize",data:n.data}})},actions:[(e,t)=>{let{event:n}=e;return[ca({...t,originEvent:n.originEvent})]}]},{on:"deserialization.success",guard:e=>{let{snapshot:t,event:n}=e;if(sP(t)&&"text/plain"===n.mimeType&&"clipboard.paste"===n.originEvent.type){let e=s5(t);return{activeAnnotations:(e=>{var t,n;if(!e.context.selection)return[];let r=sK(e),i=(null!=(n=null==(t=sY(e))?void 0:t.marks)?n:[]).filter(t=>!e.context.schema.decorators.map(e=>e.name).includes(t));return r.flatMap(t=>{var n;return sc(e.context,t.node)&&null!=(n=t.node.markDefs)?n:[]}).filter(e=>i.includes(e._key))})(t),activeDecorators:e,textRuns:n.data.flatMap(e=>sc(t.context,e)?[sx(e)]:[])}}return!1},actions:[(e,t)=>{let{activeAnnotations:n,activeDecorators:r,textRuns:i}=t;return i.flatMap((e,t)=>t!==i.length-1?[ca({type:"insert.span",text:e,decorators:r,annotations:n.map(e=>{let{_key:t,_type:n,...r}=e;return{name:n,value:r}})}),ca({type:"insert.break"})]:[ca({type:"insert.span",text:e,decorators:r,annotations:n.map(e=>{let{_key:t,_type:n,...r}=e;return{name:n,value:r}})})])}]},{on:"deserialization.success",actions:[e=>{let{event:t}=e;return[ca({type:"insert.blocks",blocks:t.data,placement:"auto"})]}]},{on:"deserialization.failure",guard:e=>{let{event:t}=e;if("application/x-portable-text"===t.mimeType){let e=t.originEvent.originEvent.dataTransfer.getData("application/json");if(e)return{type:"deserialize.data",mimeType:"application/json",data:e,originEvent:t.originEvent}}if("application/json"===t.mimeType){let e=t.originEvent.originEvent.dataTransfer.getData("text/html");if(e)return{type:"deserialize.data",mimeType:"text/html",data:e,originEvent:t.originEvent}}if("text/html"===t.mimeType){let e=t.originEvent.originEvent.dataTransfer.getData("text/plain");if(e)return{type:"deserialize.data",mimeType:"text/plain",data:e,originEvent:t.originEvent}}return!1},actions:[(e,t)=>[ca(t)]]},{on:"deserialization.failure",actions:[e=>{let{event:t}=e;return[{type:"effect",effect:()=>{console.warn("Deserialization of ".concat(t.mimeType,' failed with reason "').concat(t.reason,'"'))}}]}]},{on:"insert.blocks",guard:e=>{let{event:t}=e,n=1===t.blocks.length?t.blocks.at(0):void 0;return!!n&&{onlyBlock:n}},actions:[(e,t)=>{var n;let{event:r}=e,{onlyBlock:i}=t;return[ca({type:"insert.block",block:i,placement:r.placement,select:null!=(n=r.select)?n:"end"})]}]},{on:"insert.blocks",guard:e=>{var t,n,r,i;let{snapshot:a,event:o}=e;return"before"===o.placement&&{firstBlockKey:null!=(r=null==(t=o.blocks.at(0))?void 0:t._key)?r:a.context.keyGenerator(),lastBlockKey:null!=(i=null==(n=o.blocks.at(-1))?void 0:n._key)?i:a.context.keyGenerator()}},actions:[(e,t)=>{let{snapshot:n,event:r}=e,{firstBlockKey:i,lastBlockKey:a}=t;return[...r.blocks.map((e,t)=>ca({type:"insert.block",block:e,placement:0===t?"before":"after",select:t!==r.blocks.length-1?"end":"none"})),..."none"===r.select?[ca({type:"select",at:n.context.selection})]:"start"===r.select?[ca({type:"select.block",at:[{_key:i}],select:"start"})]:[ca({type:"select.block",at:[{_key:a}],select:"end"})]]}]},{on:"insert.blocks",guard:e=>{var t,n,r,i;let{snapshot:a,event:o}=e;return"after"===o.placement&&{firstBlockKey:null!=(r=null==(t=o.blocks.at(0))?void 0:t._key)?r:a.context.keyGenerator(),lastBlockKey:null!=(i=null==(n=o.blocks.at(-1))?void 0:n._key)?i:a.context.keyGenerator()}},actions:[(e,t)=>{let{snapshot:n,event:r}=e,{firstBlockKey:i,lastBlockKey:a}=t;return[...r.blocks.map((e,t)=>ca({type:"insert.block",block:e,placement:"after",select:t!==r.blocks.length-1?"end":"none"})),..."none"===r.select?[ca({type:"select",at:n.context.selection})]:"start"===r.select?[ca({type:"select.block",at:[{_key:i}],select:"start"})]:[ca({type:"select.block",at:[{_key:a}],select:"end"})]]}]},{on:"insert.blocks",guard:e=>{var t,n,r,i;let{snapshot:a,event:o}=e;if("auto"!==o.placement)return!1;let l=sP(a);return!!l&&!!sD(a.context,l.node)&&{focusTextBlock:l,firstBlockKey:null!=(r=null==(t=o.blocks.at(0))?void 0:t._key)?r:a.context.keyGenerator(),lastBlockKey:null!=(i=null==(n=o.blocks.at(-1))?void 0:n._key)?i:a.context.keyGenerator()}},actions:[(e,t)=>{let{event:n}=e,{firstBlockKey:r,lastBlockKey:i}=t;return[...n.blocks.map((e,t)=>ca({type:"insert.block",block:e,placement:0===t?"auto":"after",select:t!==n.blocks.length-1?"end":"none"})),..."none"===n.select||"start"===n.select?[ca({type:"select.block",at:[{_key:r}],select:"start"})]:[ca({type:"select.block",at:[{_key:i}],select:"end"})]]}]},{on:"insert.blocks",guard:e=>{var t,n;let{snapshot:r,event:i}=e;if("auto"!==i.placement)return!1;let a=sP(r);if(!a||!r.context.selection)return!1;let o=sy({context:r.context,block:a}),l=sT({context:r.context,block:a}),s=dT({context:{schema:r.context.schema,selection:{anchor:r.context.selection.focus,focus:l}},block:a.node});return{firstBlockKey:null!=(n=null==(t=i.blocks.at(0))?void 0:t._key)?n:r.context.keyGenerator(),focusBlockStartPoint:o,focusBlockEndPoint:l,focusTextBlockAfter:s,selection:r.context.selection}},actions:[(e,t)=>{let{event:n}=e,{focusBlockEndPoint:r,focusTextBlockAfter:i,selection:a,firstBlockKey:o,focusBlockStartPoint:l}=t;return[...n.blocks.flatMap((e,t)=>0===t?[...sI(a.focus,r)?[]:[ca({type:"delete",at:{anchor:a.focus,focus:r}})],ca({type:"insert.block",block:e,placement:"auto",select:"end"})]:t===n.blocks.length-1?[ca({type:"insert.block",block:e,placement:"after",select:"end"}),ca({type:"insert.block",block:i,placement:"auto",select:"end"===n.select?"none":"end"})]:[ca({type:"insert.block",block:e,placement:"after",select:"end"})]),..."none"===n.select?[ca({type:"select",at:a})]:"start"===n.select?[sI(a.focus,l)?ca({type:"select.block",at:[{_key:o}],select:"start"}):ca({type:"select",at:{anchor:a.focus,focus:a.focus}})]:[]]}]},{on:"insert.blocks",guard:e=>{let{event:t}=e;return"auto"===t.placement},actions:[e=>{let{event:t}=e;return t.blocks.map((e,n)=>{var r;return ca({type:"insert.block",block:e,placement:0===n?"auto":"after",select:null!=(r=t.select)?r:"end"})})}]},{on:"insert.break",actions:[()=>[ca({type:"split"})]]},{on:"insert.inline object",actions:[e=>{let{snapshot:t,event:n}=e;return[cr({type:"insert.block",block:{_type:t.context.schema.block.name,children:[{_type:n.inlineObject.name,...n.inlineObject.value}]},placement:"auto",select:"end"})]}]},{on:"insert.soft break",actions:[()=>[ca({type:"insert.text",text:"\n"})]]},{on:"insert.span",guard:e=>{var t,n;let{snapshot:r,event:i}=e;return{markDefs:null!=(n=null==(t=i.annotations)?void 0:t.map(e=>({_type:e.name,_key:r.context.keyGenerator(),...e.value})))?n:[]}},actions:[(e,t)=>{var n;let{snapshot:r,event:i}=e,{markDefs:a}=t;return[cr({type:"insert.block",block:{_type:r.context.schema.block.name,children:[{_type:r.context.schema.span.name,text:i.text,marks:[...null!=(n=i.decorators)?n:[],...a.map(e=>e._key)]}],markDefs:a},placement:"auto",select:"end"})]}]},{on:"keyboard.keydown",guard:e=>{let{snapshot:t,event:n}=e;return hl.break.guard(n.originEvent)&&sz(t)&&s$(t)},actions:[()=>[ca({type:"insert.break"})]]},{on:"keyboard.keydown",guard:e=>{let{event:t}=e;return hl.lineBreak.guard(t.originEvent)},actions:[()=>[ca({type:"insert.soft break"})]]},{on:"keyboard.keydown",guard:e=>{let{event:t}=e;return hl.history.undo.guard(t.originEvent)},actions:[()=>[ca({type:"history.undo"})]]},{on:"keyboard.keydown",guard:e=>{let{event:t}=e;return hl.history.redo.guard(t.originEvent)},actions:[()=>[ca({type:"history.redo"})]]},{on:"list item.add",guard:e=>{let{snapshot:t,event:n}=e;return!!t.context.schema.lists.some(e=>e.name===n.listItem)&&{selectedTextBlocks:sQ(t)}},actions:[(e,t)=>{let{event:n}=e,{selectedTextBlocks:r}=t;return r.map(e=>{var t;return ca({type:"block.set",at:e.path,props:{level:null!=(t=e.node.level)?t:1,listItem:n.listItem}})})}]},{on:"list item.remove",guard:e=>{let{snapshot:t}=e;return{selectedTextBlocks:sQ(t)}},actions:[(e,t)=>{let{selectedTextBlocks:n}=t;return n.map(e=>ca({type:"block.unset",at:e.path,props:["level","listItem"]}))}]},{on:"list item.toggle",guard:e=>{let{snapshot:t,event:n}=e;return s3(n.listItem)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"list item.remove",listItem:t.listItem})]}]},{on:"list item.toggle",guard:e=>{let{snapshot:t,event:n}=e;return!s3(n.listItem)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"list item.add",listItem:t.listItem})]}]},{on:"move.block up",guard:e=>{let{snapshot:t,event:n}=e,r=sJ({...t,context:{...t.context,selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}}});return!!r&&{previousBlock:r}},actions:[(e,t)=>{let{event:n}=e,{previousBlock:r}=t;return[ca({type:"move.block",at:n.at,to:r.path})]}]},{on:"move.block down",guard:e=>{let{snapshot:t,event:n}=e,r=sX({...t,context:{...t.context,selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}}});return!!r&&{nextBlock:r}},actions:[(e,t)=>{let{event:n}=e,{nextBlock:r}=t;return[ca({type:"move.block",at:n.at,to:r.path})]}]},{on:"style.add",guard:e=>{let{snapshot:t}=e;return{selectedTextBlocks:sQ(t)}},actions:[(e,t)=>{let{event:n}=e,{selectedTextBlocks:r}=t;return r.map(e=>ca({type:"block.set",at:e.path,props:{style:n.style}}))}]},{on:"style.remove",guard:e=>{let{snapshot:t}=e;return{selectedTextBlocks:sQ(t)}},actions:[(e,t)=>{let{selectedTextBlocks:n}=t;return n.map(e=>ca({type:"block.unset",at:e.path,props:["style"]}))}]},{on:"style.toggle",guard:e=>{let{snapshot:t,event:n}=e;return s8(n.style)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"style.remove",style:t.style})]}]},{on:"style.toggle",guard:e=>{let{snapshot:t,event:n}=e;return!s8(n.style)(t)},actions:[e=>{let{event:t}=e;return[ca({type:"style.add",style:t.style})]}]},{on:"select.block",guard:e=>{let{snapshot:t,event:n}=e;if("end"!==n.select)return!1;let r=sO({...t,context:{...t.context,selection:{anchor:{path:n.at,offset:0},focus:{path:n.at,offset:0}}}});return!!r&&{blockEndPoint:sT({context:t.context,block:r})}},actions:[(e,t)=>{let{blockEndPoint:n}=t;return[ca({type:"select",at:{anchor:n,focus:n}})]}]},{on:"select.block",actions:[e=>{let{event:t}=e;return[ca({type:"select",at:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}})]}]},{on:"select.previous block",guard:e=>{let{snapshot:t}=e,n=sJ(t);return!!n&&{previousBlock:n}},actions:[(e,t)=>{let{event:n}=e,{previousBlock:r}=t;return[ca({type:"select.block",at:r.path,select:n.select})]}]},{on:"select.next block",guard:e=>{let{snapshot:t}=e,n=sX(t);return!!n&&{nextBlock:n}},actions:[(e,t)=>{let{event:n}=e,{nextBlock:r}=t;return[ca({type:"select.block",at:r.path,select:n.select})]}]},{on:"serialize",actions:[e=>{let{event:t}=e;return[ca({type:"serialize.data",mimeType:"application/x-portable-text",originEvent:t.originEvent}),ca({type:"serialize.data",mimeType:"application/json",originEvent:t.originEvent}),ca({type:"serialize.data",mimeType:"text/html",originEvent:t.originEvent}),ca({type:"serialize.data",mimeType:"text/plain",originEvent:t.originEvent})]}]},{on:"serialize.data",guard:e=>{let{snapshot:t,event:n}=e,r=t.context.converters.find(e=>e.mimeType===n.mimeType);return!!r&&r.serialize({snapshot:t,event:{type:"serialize",originEvent:n.originEvent.type}})},actions:[(e,t)=>{let{event:n}=e;return[ca({...t,originEvent:n.originEvent})]}]},{on:"serialization.success",actions:[e=>{let{event:t}=e;return[{type:"effect",effect:()=>{t.originEvent.originEvent.dataTransfer.setData(t.mimeType,t.data)}}]}]},{on:"serialization.failure",actions:[e=>{let{event:t}=e;return[{type:"effect",effect:()=>{console.warn("Serialization of ".concat(t.mimeType,' failed with reason "').concat(t.reason,'"'))}}]}]},{on:"split",guard:e=>{let{snapshot:t}=e;return sz(t)&&s$(t)},actions:[]},{on:"split",guard:e=>{let{snapshot:t}=e;return sz(t)&&sG(t)},actions:[]},{on:"split",guard:e=>{let{snapshot:t}=e,n=t.context.selection;if(!n||sA(n))return!1;let r=sq(t),i=sU(t);return!!r&&!!i&&!!(!sc(t.context,r.node)&&sc(t.context,i.node))&&{selection:n}},actions:[(e,t)=>{let{selection:n}=t;return[ca({type:"delete",at:n})]}]},{on:"split",guard:e=>{let{snapshot:t}=e,n=t.context.selection;if(!n||sA(n))return!1;let r=sq(t),i=sU(t);if(!r||!i||r.node._key===i.node._key)return!1;let a=sb(n),o=sT({context:t.context,block:r}),l=sv(n);return{startPoint:a,startBlockEndPoint:o,endPoint:l,endBlockStartPoint:sy({context:t.context,block:i}),blocksInBetween:sN(t).filter(e=>e._key!==r.node._key&&e._key!==i.node._key)}},actions:[(e,t)=>{let{startPoint:n,startBlockEndPoint:r,endPoint:i,endBlockStartPoint:a,blocksInBetween:o}=t;return[ca({type:"delete",at:{anchor:n,focus:r}}),...o.map(e=>ca({type:"delete.block",at:[{_key:e._key}]})),ca({type:"delete",at:{anchor:a,focus:i}})]}]},{on:"split",guard:e=>{let{snapshot:t}=e,n=t.context.selection;return!(!n||sA(n))&&{selection:n}},actions:[(e,t)=>{let{selection:n}=t;return[ca({type:"delete",at:n}),ca({type:"split"})]}]},{on:"split",guard:e=>{let{snapshot:t}=e,n=t.context.selection;if(!n||!sA(n))return!1;let r=sb(n),i=sP(t);if(!i)return!1;let a={anchor:r,focus:sT({context:t.context,block:i})},o=sk({block:dT({context:{...t.context,selection:a},block:i.node}),context:t.context,options:{validateFields:!1}});return!!o&&{newTextBlock:o,newTextBlockSelection:a}},actions:[(e,t)=>{let{newTextBlock:n,newTextBlockSelection:r}=t;return sA(r)?[ca({type:"insert.block",block:n,placement:"after",select:"start"})]:[ca({type:"delete",at:r}),ca({type:"insert.block",block:n,placement:"after",select:"start"})]}]}];function hy(e){return!hk(e)&&!hC(e)&&!hb(e)}let hv=["annotation.set","annotation.toggle","decorator.toggle","delete.backward","delete.block","delete.child","delete.forward","delete.text","deserialize","deserialize.data","deserialization.success","deserialization.failure","insert.blocks","insert.break","insert.inline object","insert.soft break","insert.span","list item.add","list item.remove","list item.toggle","move.block down","move.block up","select.block","select.previous block","select.next block","serialize","serialize.data","serialization.success","serialization.failure","split","style.add","style.remove","style.toggle"];function hb(e){return hv.includes(e.type)}let hx=["clipboard.copy","clipboard.cut","clipboard.paste","drag.dragstart","drag.drag","drag.dragend","drag.dragenter","drag.dragover","drag.dragleave","drag.drop","input.*","keyboard.keydown","keyboard.keyup","mouse.click"];function hC(e){return hx.includes(e.type)}function hk(e){return e.type.startsWith("custom.")}let hw=dV("behaviors:event");function h_(e){return hC(e)?"native":hb(e)?"synthetic":hk(e)?"custom":"synthetic"}let hj=dV("editor machine");function hS(e){let{event:t,slateEditor:n}=e;switch(t.type){case"blur":return{type:"blur",editor:n};case"focus":return{type:"focus",editor:n};case"insert.block object":var r;return{type:"behavior event",behaviorEvent:{type:"insert.block",block:{_type:t.blockObject.name,...null!=(r=t.blockObject.value)?r:{}},placement:t.placement},editor:n};default:return{type:"behavior event",behaviorEvent:t,editor:n}}}let hE=(0,cl.setup)({types:{context:{},events:{},emitted:{},input:{},tags:{}},actions:{"add behavior to context":(0,cc.assign)({behaviors:e=>{let{context:t,event:n}=e;return(0,cl.assertEvent)(n,"add behavior"),new Set([...t.behaviors,n.behaviorConfig])},behaviorsSorted:!1}),"remove behavior from context":(0,cc.assign)({behaviors:e=>{let{context:t,event:n}=e;return(0,cl.assertEvent)(n,"remove behavior"),t.behaviors.delete(n.behaviorConfig),new Set([...t.behaviors])}}),"emit patch event":(0,cp.emit)(e=>{let{event:t}=e;return(0,cl.assertEvent)(t,"internal.patch"),t}),"emit mutation event":(0,cp.emit)(e=>{let{event:t}=e;return(0,cl.assertEvent)(t,"mutation"),t}),"emit read only":(0,cp.emit)({type:"read only"}),"emit editable":(0,cp.emit)({type:"editable"}),"defer event":(0,cc.assign)({pendingEvents:e=>{let{context:t,event:n}=e;return(0,cl.assertEvent)(n,["internal.patch","mutation"]),[...t.pendingEvents,n]}}),"emit pending events":(0,cd.enqueueActions)(e=>{let{context:t,enqueue:n}=e;for(let e of t.pendingEvents)n.emit(e)}),"emit ready":(0,cp.emit)({type:"ready"}),"clear pending events":(0,cc.assign)({pendingEvents:[]}),"defer incoming patches":(0,cc.assign)({pendingIncomingPatchesEvents:e=>{let{context:t,event:n}=e;return"patches"===n.type?[...t.pendingIncomingPatchesEvents,n]:t.pendingIncomingPatchesEvents}}),"emit pending incoming patches":(0,cd.enqueueActions)(e=>{let{context:t,enqueue:n}=e;for(let e of t.pendingIncomingPatchesEvents)n.emit(e)}),"clear pending incoming patches":(0,cc.assign)({pendingIncomingPatchesEvents:[]}),"handle blur":e=>{let{event:t}=e;(0,cl.assertEvent)(t,"blur");try{oA.blur(t.editor)}catch(e){console.error(Error("Failed to blur editor: ".concat(e.message)))}},"handle focus":e=>{let{context:t}=e;if(!t.slateEditor)return void console.error("No Slate editor found to focus");try{let e=t.slateEditor.selection;oA.focus(t.slateEditor),e&&iO.select(t.slateEditor,e)}catch(e){console.error(Error("Failed to focus editor: ".concat(e.message)))}},"handle behavior event":e=>{let{context:t,event:n,self:r}=e;(0,cl.assertEvent)(n,["behavior event"]);try{let e=[...t.behaviors.values()].map(e=>e.behavior);!function e(t){let{mode:n,behaviors:r,remainingEventBehaviors:i,event:a,editor:o,keyGenerator:l,schema:s,getSnapshot:c,nativeEvent:u,sendBack:d}=t;"send"!==n||hC(a)||fR(o),hw("(".concat(n,":").concat(h_(a),")"),JSON.stringify(a,null,2));let p=[...i,...hg].filter(e=>{if("*"===e.on)return!0;let[t]=e.on.includes("*")&&e.on.includes(".")?e.on.split("."):[void 0],[n]=a.type.includes(".")?a.type.split("."):[void 0];return void 0!==t&&void 0!==n&&t===n||void 0!==t&&void 0===n&&t===a.type||e.on===a.type});if(0===p.length&&hy(a)){null==u||u.preventDefault(),"send"===n&&fB(o),fX(o,()=>{hw("(execute:".concat(h_(a),")"),JSON.stringify(a,null,2)),f$({context:{keyGenerator:l,schema:s},operation:{...a,editor:o}})}),o.onChange();return}let f=c(),h=!1,m=!1,g=-1;for(let t of p){g++;let y=!1;try{y=void 0===t.guard||t.guard({snapshot:f,event:a,dom:ha(d,o)})}catch(e){console.error(Error('Evaluating guard for "'.concat(a.type,'" failed due to: ').concat(e.message)))}if(y){for(let f of(m=!0,t.actions)){let t=c(),m=[];try{m=f({snapshot:t,event:a,dom:ha(d,o)},y)}catch(e){console.error(Error('Evaluating actions for "'.concat(a.type,'" failed due to: ').concat(e.message)))}if(0===m.length)continue;h=m.some(e=>"raise"===e.type||"execute"===e.type)||!m.some(e=>"forward"===e.type);let v=!1;for(let t of(m.some(e=>"execute"===e.type)&&(fR(o),v=!0),m)){if("effect"===t.type){try{t.effect({send:d})}catch(e){console.error(Error('Executing effect as a result of "'.concat(a.type,'" failed due to: ').concat(e.message)))}continue}if("forward"===t.type){e({mode:"execute"===n?"execute":"forward",behaviors:r,remainingEventBehaviors:p.slice(g+1),event:t.event,editor:o,keyGenerator:l,schema:s,getSnapshot:c,nativeEvent:u,sendBack:d});continue}if("raise"===t.type){e({mode:"execute"===n?"execute":"raise",behaviors:r,remainingEventBehaviors:"execute"===n?i:r,event:t.event,editor:o,keyGenerator:l,schema:s,getSnapshot:c,nativeEvent:u,sendBack:d});continue}e({mode:"execute",behaviors:r,remainingEventBehaviors:[],event:t.event,editor:o,keyGenerator:l,schema:s,getSnapshot:c,nativeEvent:void 0,sendBack:d})}v&&fB(o)}break}}!m&&hy(a)?(null==u||u.preventDefault(),"send"===n&&fB(o),fX(o,()=>{hw("(execute:".concat(h_(a),")"),JSON.stringify(a,null,2)),f$({context:{keyGenerator:l,schema:s},operation:{...a,editor:o}})}),o.onChange()):h&&(null==u||u.preventDefault())}({mode:"send",behaviors:e,remainingEventBehaviors:e,event:n.behaviorEvent,editor:n.editor,keyGenerator:t.keyGenerator,schema:t.schema,getSnapshot:()=>(function(e){let{converters:t,editor:n,keyGenerator:r,readOnly:i,schema:a}=e,o=n.selection?d1({schema:a,editor:n,range:n.selection}):null,l={converters:t,keyGenerator:r,readOnly:i,schema:a,selection:o,value:n.value};return{blockIndexMap:n.blockIndexMap,context:l,decoratorState:n.decoratorState}})({converters:[...t.converters],editor:n.editor,keyGenerator:t.keyGenerator,readOnly:r.getSnapshot().matches({"edit mode":"read only"}),schema:t.schema}),nativeEvent:n.nativeEvent,sendBack:e=>{if("set drag ghost"===e.type)return void r.send(e);r.send(hS({event:e,slateEditor:n.editor}))}})}catch(e){console.error(Error('Raising "'.concat(n.behaviorEvent.type,'" failed due to: ').concat(e.message)))}},"sort behaviors":(0,cc.assign)({behaviors:e=>{let{context:t}=e;return t.behaviorsSorted?t.behaviors:new Set(function(e){if(0===e.length)return[];let t=e.filter(e=>void 0!==e.priority),n=e.filter(e=>void 0===e.priority);if(0===t.length)return e;let r=new Map(t.map(e=>[e.priority.id,e])),i=new Map,a=new Map;function o(e){i.has(e)||(i.set(e,new Set),a.set(e,0))}for(let e of t)o(e.priority.id);function l(e,t){var n,r;i.has(e)&&i.has(t)&&(null==(n=i.get(e))||n.add(t),a.set(t,(null!=(r=a.get(t))?r:0)+1))}for(let e of t){let t=e.priority.id,n=new Set,r=e.priority.reference;for(;r;){let e=r.priority.id;if(o(e),n.has(e))throw Error("Circular dependency detected in priorities");n.add(e),"higher"===r.importance?l(t,e):l(e,t),r=r.priority.reference}}let s=[];for(let[e,t]of a)0===t&&s.push(e);let c=[];for(;s.length>0;){var u,d;let e=s.shift(),t=r.get(e);for(let n of(t&&c.push(t),null!=(u=i.get(e))?u:[])){let e=(null!=(d=a.get(n))?d:0)-1;a.set(n,e),0===e&&s.push(n)}}for(let e of t)c.includes(e)||c.push(e);return[...c,...n]}([...t.behaviors.values()]))},behaviorsSorted:!0})},guards:{"slate is busy":e=>{let{context:t}=e;return!!t.slateEditor&&t.slateEditor.operations.length>0}}}).createMachine({id:"editor",context:e=>{var t,n;let{input:r}=e;return{behaviors:new Set(hm),behaviorsSorted:!1,converters:new Set(null!=(t=r.converters)?t:[]),getLegacySchema:r.getLegacySchema,keyGenerator:r.keyGenerator,pendingEvents:[],pendingIncomingPatchesEvents:[],schema:r.schema,selection:null,initialReadOnly:null!=(n=r.readOnly)&&n,maxBlocks:r.maxBlocks,initialValue:r.initialValue}},on:{"add behavior":{actions:"add behavior to context"},"remove behavior":{actions:"remove behavior from context"},"update maxBlocks":{actions:(0,cc.assign)({maxBlocks:e=>{let{event:t}=e;return t.maxBlocks}})},"update selection":{actions:[(0,cc.assign)({selection:e=>{let{event:t}=e;return t.selection}}),(0,cp.emit)(e=>{let{event:t}=e;return{...t,type:"selection"}})]},"set drag ghost":{actions:(0,cc.assign)({dragGhost:e=>{let{event:t}=e;return t.ghost}})}},type:"parallel",states:{"edit mode":{initial:"read only",states:{"read only":{initial:"determine initial edit mode",on:{"behavior event":{actions:["sort behaviors","handle behavior event"],guard:e=>{let{event:t}=e;return"clipboard.copy"===t.behaviorEvent.type||"mouse.click"===t.behaviorEvent.type||"serialize"===t.behaviorEvent.type||"serialization.failure"===t.behaviorEvent.type||"serialization.success"===t.behaviorEvent.type||"select"===t.behaviorEvent.type}}},states:{"determine initial edit mode":{entry:[()=>{hj("entry: edit mode->read only->determine initial edit mode")}],exit:[()=>{hj("exit: edit mode->read only->determine initial edit mode")}],on:{"done syncing value":[{target:"#editor.edit mode.read only.read only",guard:e=>{let{context:t}=e;return t.initialReadOnly}},{target:"#editor.edit mode.editable"}]}},"read only":{entry:[()=>{hj("entry: edit mode->read only->read only")}],exit:[()=>{hj("exit: edit mode->read only->read only")}],on:{"update readOnly":{guard:e=>{let{event:t}=e;return!t.readOnly},target:"#editor.edit mode.editable",actions:["emit editable"]}}}}},editable:{on:{"update readOnly":{guard:e=>{let{event:t}=e;return t.readOnly},target:"#editor.edit mode.read only.read only",actions:["emit read only"]},"behavior event":{actions:["sort behaviors","handle behavior event"]},blur:{actions:"handle blur"},focus:{target:".focusing",actions:[(0,cc.assign)({slateEditor:e=>{let{event:t}=e;return t.editor}})]}},initial:"idle",states:{idle:{entry:[()=>{hj("entry: edit mode->editable->idle")}],exit:[()=>{hj("exit: edit mode->editable-idle")}],on:{dragstart:{actions:[(0,cc.assign)({internalDrag:e=>{let{event:t}=e;return{origin:t.origin}}})],target:"dragging internally"}}},focusing:{initial:"checking if busy",states:{"checking if busy":{entry:[()=>{hj("entry: edit mode->editable->focusing->checking if busy")}],exit:[()=>{hj("exit: edit mode->editable->focusing->checking if busy")}],always:[{guard:"slate is busy",target:"busy"},{target:"#editor.edit mode.editable.idle",actions:["handle focus"]}]},busy:{entry:[()=>{hj("entry: edit mode->editable->focusing-busy")}],exit:[()=>{hj("exit: edit mode->editable->focusing->busy")}],after:{10:{target:"checking if busy"}}}}},"dragging internally":{entry:[()=>{hj("entry: edit mode->editable->dragging internally")}],exit:[()=>{hj("exit: edit mode->editable->dragging internally")},e=>{let{context:t}=e;if(t.dragGhost)try{var n;null==(n=t.dragGhost.parentNode)||n.removeChild(t.dragGhost)}catch(e){console.error(Error("Removing the drag ghost failed due to: ".concat(e.message)))}},(0,cc.assign)({dragGhost:void 0}),(0,cc.assign)({internalDrag:void 0})],tags:["dragging internally"],on:{dragend:{target:"idle"},drop:{target:"idle"}}}}}}},setup:{initial:"setting up",states:{"setting up":{entry:[()=>{hj("entry: setup->setting up")}],exit:[()=>{hj("exit: setup->setting up")},"emit ready","emit pending incoming patches","clear pending incoming patches"],on:{"internal.patch":{actions:"defer event"},mutation:{actions:"defer event"},"done syncing value":{target:"set up"},patches:{actions:["defer incoming patches"]}}},"set up":{type:"parallel",states:{"value sync":{initial:"idle",states:{idle:{entry:[()=>{hj("entry: setup->set up->value sync->idle")}],exit:[()=>{hj("exit: setup->set up->value sync->idle")}],on:{patches:{actions:[(0,cp.emit)(e=>{let{event:t}=e;return t})]},"syncing value":{target:"syncing value"}}},"syncing value":{entry:[()=>{hj("entry: setup->set up->value sync->syncing value")}],exit:[()=>{hj("exit: setup->set up->value sync->syncing value")},"emit pending incoming patches","clear pending incoming patches"],on:{patches:{actions:["defer incoming patches"]},"done syncing value":{target:"idle"}}}}},writing:{initial:"pristine",states:{pristine:{initial:"idle",states:{idle:{entry:[()=>{hj("entry: setup->set up->writing->pristine->idle")}],exit:[()=>{hj("exit: setup->set up->writing->pristine->idle")}],on:{normalizing:{target:"normalizing"},"internal.patch":{actions:"defer event",target:"#editor.setup.set up.writing.dirty"},mutation:{actions:"defer event",target:"#editor.setup.set up.writing.dirty"}}},normalizing:{entry:[()=>{hj("entry: setup->set up->writing->pristine->normalizing")}],exit:[()=>{hj("exit: setup->set up->writing->pristine->normalizing")}],on:{"done normalizing":{target:"idle"},"internal.patch":{actions:"defer event"},mutation:{actions:"defer event"}}}}},dirty:{entry:[()=>{hj("entry: setup->set up->writing->dirty")},"emit pending events","clear pending events"],exit:[()=>{hj("exit: setup->set up->writing->dirty")}],on:{"internal.patch":{actions:"emit patch event"},mutation:{actions:"emit mutation event"}}}}}}}}}}}),hT=dV("mutation-machine"),hD=(0,cl.setup)({types:{context:{},events:{},input:{},emitted:{}},actions:{"assign readOnly":(0,cc.assign)({readOnly:e=>{let{context:t,event:n}=e;return"update readOnly"===n.type?n.readOnly:t.readOnly}}),"emit patch":(0,cp.emit)(e=>{let{event:t}=e;return(0,cl.assertEvent)(t,"patch"),{type:"patch",patch:t.patch}}),"emit has pending mutations":(0,cp.emit)({type:"has pending mutations"}),"emit mutations":(0,cd.enqueueActions)(e=>{let{context:t,enqueue:n}=e;for(let e of t.pendingMutations)n.emit({type:"mutation",patches:e.patches,snapshot:e.value})}),"clear pending mutations":(0,cc.assign)({pendingMutations:[]}),"defer mutation":(0,cc.assign)({pendingMutations:e=>{let{context:t,event:n}=e;if((0,cl.assertEvent)(n,"patch"),0===t.pendingMutations.length)return[{operationId:n.operationId,value:n.value,patches:[n.patch]}];let r=t.pendingMutations.at(-1);return r&&r.operationId===n.operationId?t.pendingMutations.slice(0,-1).concat({value:n.value,operationId:r.operationId,patches:[...r.patches,n.patch]}):t.pendingMutations.concat({value:n.value,operationId:n.operationId,patches:[n.patch]})}}),"clear pending patch events":(0,cc.assign)({pendingPatchEvents:[]}),"defer patch":(0,cc.assign)({pendingPatchEvents:e=>{let{context:t,event:n}=e;return"patch"===n.type?[...t.pendingPatchEvents,n]:t.pendingPatchEvents}}),"emit pending patch events":(0,cd.enqueueActions)(e=>{let{context:t,enqueue:n}=e;for(let e of t.pendingPatchEvents)n.emit(e)})},actors:{"type listener":(0,cs.fromCallback)(e=>{let{input:t,sendBack:n}=e,r=t.slateEditor.apply;return t.slateEditor.apply=e=>{"insert_text"===e.type||"remove_text"===e.type?n({type:"typing"}):n({type:"not typing"}),r(e)},()=>{t.slateEditor.apply=r}}),"mutation interval":(0,cs.fromCallback)(e=>{let{sendBack:t}=e,n=setInterval(()=>{t({type:"emit changes"})},1e3);return()=>{clearInterval(n)}})},guards:{"is read-only":e=>{let{context:t}=e;return t.readOnly},"slate is normalizing":e=>{let{context:t}=e;return rQ.isNormalizing(t.slateEditor)}},delays:{"type debounce":250}}).createMachine({id:"mutation",context:e=>{let{input:t}=e;return{pendingMutations:[],pendingPatchEvents:[],readOnly:t.readOnly,schema:t.schema,slateEditor:t.slateEditor}},on:{"update readOnly":{actions:["assign readOnly"]}},type:"parallel",states:{typing:{initial:"idle",invoke:{src:"type listener",input:e=>{let{context:t}=e;return{slateEditor:t.slateEditor}}},states:{idle:{entry:[()=>{hT("entry: typing->idle")}],exit:[()=>{hT("exit: typing->idle"),hT("entry: typing->typing")}],on:{typing:{target:"typing"}}},typing:{after:{"type debounce":{target:"idle",actions:[(0,cf.raise)({type:"emit changes"}),()=>{hT("exit: typing->typing")}]}},on:{"not typing":{target:"idle",actions:[(0,cf.raise)({type:"emit changes"})]},typing:{target:"typing",reenter:!0}}}}},mutations:{initial:"idle",states:{idle:{entry:[()=>{hT("entry: mutations->idle")}],exit:[()=>{hT("exit: mutations->idle")}],on:{patch:[{guard:"is read-only",actions:["defer patch","defer mutation"],target:"has pending mutations"},{actions:["emit patch","defer mutation"],target:"has pending mutations"}]}},"has pending mutations":{entry:[()=>{hT("entry: mutations->has pending mutations")},"emit has pending mutations"],exit:[()=>{hT("exit: mutations->has pending mutations")}],invoke:{src:"mutation interval"},on:{"emit changes":{guard:(0,cu.a)([(0,ch.n)("is read-only"),"slate is normalizing"]),target:"idle",actions:["emit pending patch events","clear pending patch events","emit mutations","clear pending mutations"]},patch:[{guard:"is read-only",actions:["defer patch","defer mutation"]},{actions:["emit patch","defer mutation"]}]}}}}}}),hI=dV("API:editable"),hA=(0,cl.setup)({types:{context:{},events:{},emitted:{}}}).createMachine({id:"relay",context:{prevSelection:null,lastEventWasFocused:!1},on:{focused:{actions:[(0,cc.assign)({lastEventWasFocused:!0}),(0,cp.emit)(e=>{let{event:t}=e;return t})]},selection:[{guard:e=>{let{context:t}=e;return t.lastEventWasFocused},actions:[(0,cc.assign)({prevSelection:e=>{let{event:t}=e;return t.selection}}),(0,cp.emit)(e=>{let{event:t}=e;return t}),(0,cc.assign)({lastEventWasFocused:!1})]},{guard:e=>{let{context:t,event:n}=e;return t.prevSelection!==n.selection},actions:[(0,cc.assign)({prevSelection:e=>{let{event:t}=e;return t.selection}}),(0,cp.emit)(e=>{let{event:t}=e;return t}),(0,cc.assign)({lastEventWasFocused:!1})]}],"*":{actions:[(0,cp.emit)(e=>{let{event:t}=e;return t}),(0,cc.assign)({lastEventWasFocused:!1})]}}});function hO(e,t,n){let r=null,i=!0,a=[t.span.name,...t.inlineObjects.map(e=>e.name)],o=[t.block.name,...t.blockObjects.map(e=>e.name)];return void 0===e?{valid:!0,resolution:null,value:e}:Array.isArray(e)&&0!==e.length?(e.some((e,l)=>{if(!(0,nE.default)(e))return r={patches:[dw([l])],description:"Block must be an object, got ".concat(String(e)),action:"Unset invalid item",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-object.description",action:"inputs.portable-text.invalid-value.not-an-object.action",values:{index:l}}},!0;if(!e._key||"string"!=typeof e._key)return r={patches:[dk({...e,_key:n()},[l])],description:"Block at index ".concat(l," is missing required _key."),action:"Set the block with a random _key value",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-key.description",action:"inputs.portable-text.invalid-value.missing-key.action",values:{index:l}}},!0;if(!e._type||!o.includes(e._type)){if("block"===e._type){let n=t.block.name;return r={patches:[dk({...e,_type:n},[{_key:e._key}])],description:"Block with _key '".concat(e._key,"' has invalid type name '").concat(e._type,"'. According to the schema, the block type name is '").concat(n,"'"),action:"Use type '".concat(n,"'"),item:e,i18n:{description:"inputs.portable-text.invalid-value.incorrect-block-type.description",action:"inputs.portable-text.invalid-value.incorrect-block-type.action",values:{key:e._key,expectedTypeName:n}}},!0}return r=!e._type&&sc({schema:t},{...e,_type:t.block.name})?{patches:[dk({...e,_type:t.block.name},[{_key:e._key}])],description:"Block with _key '".concat(e._key,"' is missing a type name. According to the schema, the block type name is '").concat(t.block.name,"'"),action:"Use type '".concat(t.block.name,"'"),item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-block-type.description",action:"inputs.portable-text.invalid-value.missing-block-type.action",values:{key:e._key,expectedTypeName:t.block.name}}}:e._type?{patches:[dw([{_key:e._key}])],description:"Block with _key '".concat(e._key,"' has invalid _type '").concat(e._type,"'"),action:"Remove the block",item:e,i18n:{description:"inputs.portable-text.invalid-value.disallowed-type.description",action:"inputs.portable-text.invalid-value.disallowed-type.action",values:{key:e._key,typeName:e._type}}}:{patches:[dw([{_key:e._key}])],description:"Block with _key '".concat(e._key,"' is missing an _type property"),action:"Remove the block",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-type.description",action:"inputs.portable-text.invalid-value.missing-type.action",values:{key:e._key}}},!0}if(e._type===t.block.name){if(e.children&&!Array.isArray(e.children))return r={patches:[dk({children:[]},[{_key:e._key}])],description:"Text block with _key '".concat(e._key,"' has a invalid required property 'children'."),action:"Reset the children property",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-children.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-children.action",values:{key:e._key}}},!0;if(void 0===e.children||Array.isArray(e.children)&&0===e.children.length){let i={_type:t.span.name,_key:n(),text:"",marks:[]};return r={autoResolve:!0,patches:[db([],[{_key:e._key},"children"]),dC([i],"after",[{_key:e._key},"children",0])],description:"Children for text block with _key '".concat(e._key,"' is empty."),action:"Insert an empty text",item:e,i18n:{description:"inputs.portable-text.invalid-value.empty-children.description",action:"inputs.portable-text.invalid-value.empty-children.action",values:{key:e._key}}},!0}let o=(0,nC.default)((0,td.default)(e.children.filter(e=>e._type===t.span.name).map(e=>e.marks||[])));if(Array.isArray(e.markDefs)&&e.markDefs.length>0){let t=(0,nC.default)(e.markDefs.map(e=>e._key).filter(e=>!o.includes(e)));if(t.length>0)return r={autoResolve:!0,patches:t.map(t=>dw([{_key:e._key},"markDefs",{_key:t}])),description:"Block contains orphaned data (unused mark definitions): ".concat(t.join(", "),"."),action:"Remove unused mark definition item",item:e,i18n:{description:"inputs.portable-text.invalid-value.orphaned-mark-defs.description",action:"inputs.portable-text.invalid-value.orphaned-mark-defs.action",values:{key:e._key,unusedMarkDefs:t.map(e=>e.toString())}}},!0}let l=o.filter(e=>!t.decorators.map(e=>e.name).includes(e)).filter(t=>void 0===e.markDefs||!e.markDefs.find(e=>e._key===t));if(l.length>0){let n=e.children.filter(e=>e._type===t.span.name&&Array.isArray(e.marks)&&e.marks.some(e=>l.includes(e)));if(n){let t=l.join(", ");return r={autoResolve:!0,patches:n.map(t=>dk((t.marks||[]).filter(e=>!l.includes(e)),[{_key:e._key},"children",{_key:t._key},"marks"])),description:"Block with _key '".concat(e._key,"' contains marks (").concat(t,") not supported by the current content model."),action:"Remove invalid marks",item:e,i18n:{description:"inputs.portable-text.invalid-value.orphaned-marks.description",action:"inputs.portable-text.invalid-value.orphaned-marks.action",values:{key:e._key,orphanedMarks:l.map(e=>e.toString())}}},!0}}e.children.some((i,o)=>(0,nE.default)(i)?i._key&&"string"==typeof i._key?i._type?a.includes(i._type)?i._type===t.span.name&&"string"!=typeof i.text&&(r={patches:[dk({...i,text:""},[{_key:e._key},"children",{_key:i._key}])],description:"Child with _key '".concat(i._key,"' in block with key '").concat(e._key,"' has missing or invalid text property!"),action:"Write an empty text property to the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.invalid-span-text.description",action:"inputs.portable-text.invalid-value.invalid-span-text.action",values:{key:e._key,childKey:i._key}}},!0):(r={patches:[dw([{_key:e._key},"children",{_key:i._key}])],description:"Child with _key '".concat(i._key,"' in block with key '").concat(e._key,"' has invalid '_type' property (").concat(i._type,")."),action:"Remove the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.disallowed-child-type.description",action:"inputs.portable-text.invalid-value.disallowed-child-type.action",values:{key:e._key,childKey:i._key,childType:i._type}}},!0):(r={patches:[dw([{_key:e._key},"children",{_key:i._key}])],description:"Child with _key '".concat(i._key,"' in block with key '").concat(e._key,"' is missing '_type' property."),action:"Remove the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-child-type.description",action:"inputs.portable-text.invalid-value.missing-child-type.action",values:{key:e._key,childKey:i._key}}},!0):(r={autoResolve:!0,patches:[dk({...i,_key:n()},[{_key:e._key},"children",o])],description:"Child at index ".concat(o," is missing required _key in block with _key ").concat(e._key,"."),action:"Set a new random _key on the object",item:e,i18n:{description:"inputs.portable-text.invalid-value.missing-child-key.description",action:"inputs.portable-text.invalid-value.missing-child-key.action",values:{key:e._key,index:o}}},!0):(r={patches:[dw([{_key:e._key},"children",o])],description:"Child at index '".concat(o,"' in block with key '").concat(e._key,"' is not an object."),action:"Remove the item",item:e,i18n:{description:"inputs.portable-text.invalid-value.non-object-child.description",action:"inputs.portable-text.invalid-value.non-object-child.action",values:{key:e._key,index:o}}},!0))&&(i=!1)}return!1})&&(i=!1),{valid:i,resolution:r,value:e}):{valid:!1,resolution:{patches:[dw([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-array.description",action:"inputs.portable-text.invalid-value.not-an-array.action"}},value:e}}let hP=dV("sync machine"),hM=(0,cs.fromCallback)(e=>{let{sendBack:t,input:n}=e;hR({context:n.context,sendBack:t,slateEditor:n.slateEditor,value:n.value,streamBlocks:n.streamBlocks})}),hF=(0,cl.setup)({types:{context:{},input:{},events:{},emitted:{}},actions:{"assign initial value synced":(0,cc.assign)({initialValueSynced:!0}),"assign readOnly":(0,cc.assign)({readOnly:e=>{let{event:t}=e;return(0,cl.assertEvent)(t,"update readOnly"),t.readOnly}}),"assign pending value":(0,cc.assign)({pendingValue:e=>{let{event:t}=e;return(0,cl.assertEvent)(t,"update value"),t.value}}),"clear pending value":(0,cc.assign)({pendingValue:void 0}),"assign previous value":(0,cc.assign)({previousValue:e=>{let{event:t}=e;return(0,cl.assertEvent)(t,"done syncing"),t.value}}),"emit done syncing value":(0,cp.emit)({type:"done syncing value"}),"emit syncing value":(0,cp.emit)({type:"syncing value"})},guards:{"initial value synced":e=>{let{context:t}=e;return t.initialValueSynced},"is busy":e=>{var t;let{context:n}=e,r=n.isProcessingLocalChanges,i=null!=(t=pJ(n.slateEditor))&&t,a=r||i;return hP("isBusy",{isBusy:a,isProcessingLocalChanges:r,isChanging:i}),a},"is empty value":e=>{let{event:t}=e;return"update value"===t.type&&void 0===t.value},"is empty array":e=>{let{event:t}=e;return"update value"===t.type&&Array.isArray(t.value)&&0===t.value.length},"is new value":e=>{let{context:t,event:n}=e;return"update value"===n.type&&t.previousValue!==n.value},"value changed while syncing":e=>{let{context:t,event:n}=e;return(0,cl.assertEvent)(n,"done syncing"),t.pendingValue!==n.value},"pending value equals previous value":e=>{let{context:t}=e;return(0,e4.default)(t.pendingValue,t.previousValue)}},actors:{"sync value":hM}}).createMachine({id:"sync",context:e=>{let{input:t}=e;return{initialValue:t.initialValue,initialValueSynced:!1,isProcessingLocalChanges:!1,keyGenerator:t.keyGenerator,schema:t.schema,readOnly:t.readOnly,slateEditor:t.slateEditor,pendingValue:void 0,previousValue:void 0}},entry:[(0,cf.raise)(e=>{let{context:t}=e;return{type:"update value",value:t.initialValue}})],on:{"has pending mutations":{actions:(0,cc.assign)({isProcessingLocalChanges:!0})},mutation:{actions:(0,cc.assign)({isProcessingLocalChanges:!1})},"update readOnly":{actions:["assign readOnly"]}},initial:"idle",states:{idle:{entry:[()=>{hP("entry: syncing->idle")}],exit:[()=>{hP("exit: syncing->idle")}],on:{"update value":[{guard:(0,cu.a)(["is empty value",(0,ch.n)("initial value synced")]),actions:["assign initial value synced","emit done syncing value"]},{guard:(0,cu.a)(["is empty array",(0,ch.n)("initial value synced")]),actions:["assign initial value synced",(0,cp.emit)({type:"value changed",value:[]}),"emit done syncing value"]},{guard:(0,cu.a)(["is busy","is new value"]),target:"busy",actions:["assign pending value"]},{guard:"is new value",target:"syncing",actions:["assign pending value"]},{guard:(0,ch.n)("initial value synced"),actions:[()=>{hP("no new value – setting initial value as synced")},"assign initial value synced","emit done syncing value"]},{actions:[()=>{hP("no new value and initial value already synced")}]}]}},busy:{entry:[()=>{hP("entry: syncing->busy")}],exit:[()=>{hP("exit: syncing->busy")}],after:{1e3:[{guard:"is busy",target:".",reenter:!0,actions:[()=>{hP("reenter: syncing->busy")}]},{target:"syncing"}]},on:{"update value":[{guard:"is new value",actions:["assign pending value"]}]}},syncing:{entry:[()=>{hP("entry: syncing->syncing")},"emit syncing value"],exit:[()=>{hP("exit: syncing->syncing")},"emit done syncing value"],invoke:{src:"sync value",id:"sync value",input:e=>{let{context:t}=e;return{context:{keyGenerator:t.keyGenerator,previousValue:t.previousValue,readOnly:t.readOnly,schema:t.schema},slateEditor:t.slateEditor,streamBlocks:!t.initialValueSynced,value:t.pendingValue}}},on:{"update value":{guard:"is new value",actions:["assign pending value"]},patch:{actions:[(0,cp.emit)(e=>{let{event:t}=e;return t})]},"invalid value":{actions:[(0,cp.emit)(e=>{let{event:t}=e;return t})]},"value changed":{actions:[(0,cp.emit)(e=>{let{event:t}=e;return t})]},"done syncing":[{guard:"value changed while syncing",actions:["assign previous value","assign initial value synced"],target:"syncing",reenter:!0},{target:"idle",actions:["clear pending value","assign previous value","assign initial value synced"]}]}}}});async function hR(e){let{context:t,sendBack:n,slateEditor:r,streamBlocks:i,value:a}=e,o=!1,l=!1,s=!0,c=!!r.selection;if(a&&0!==a.length||(hP("Value is empty"),rQ.withoutNormalizing(r,()=>{fW(r,()=>{pX(r,()=>{f0(r,()=>{if(o)return;c&&iO.deselect(r);let e=r.children.length;r.children.forEach((t,n)=>{iO.removeNodes(r,{at:[e-1-n]})}),iO.insertNodes(r,r.pteCreateTextBlock({decorators:[]}),{at:[0]}),c&&iO.select(r,[0,0])})})})}),l=!0),a&&a.length>0){let e=dq(a,{schemaTypes:t.schema});i?await new Promise(i=>{rQ.withoutNormalizing(r,()=>{pX(r,()=>{f0(r,()=>{if(o)return void i();l=hB({slateEditor:r,slateValueFromProps:e}),(async()=>{for await(let[i,o]of hN({slateValue:e})){let{blockChanged:e,blockValid:c}=hL({context:t,sendBack:n,block:i,index:o,slateEditor:r,value:a});if(l=e||l,!(s=s&&c))break}i()})()})})})}):rQ.withoutNormalizing(r,()=>{pX(r,()=>{f0(r,()=>{if(o)return;l=hB({slateEditor:r,slateValueFromProps:e});let i=0;for(let o of e){let{blockChanged:e,blockValid:c}=hL({context:t,sendBack:n,block:o,index:i,slateEditor:r,value:a});if(l=e||l,s=s&&c,!c)break;i++}})})})}if(!s){hP("Invalid value, returning"),o=!0,n({type:"done syncing",value:a});return}if(l){hP("Server value changed, syncing editor");try{r.onChange()}catch(e){console.error(e),n({type:"invalid value",resolution:null,value:a}),o=!0,n({type:"done syncing",value:a});return}c&&!r.selection&&(iO.select(r,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),r.onChange()),n({type:"value changed",value:a})}else hP("Server value and editor value is equal, no need to sync.");o=!0,n({type:"done syncing",value:a})}function hB(e){let{slateEditor:t,slateValueFromProps:n}=e,r=!1,i=t.children.length;if(n.length<i){for(let e=i-1;e>n.length-1;e--)iO.removeNodes(t,{at:[e]});r=!0}return r}async function*hN(e){let{slateValue:t}=e,n=0;for await(let e of t)n%10==0&&await new Promise(e=>setTimeout(e,0)),yield[e,n],n++}function hL(e){let{context:t,sendBack:n,block:r,index:i,slateEditor:a,value:o}=e,l=!1,s=!0,c=a.children[i],u=c&&!(0,e4.default)(r,c);return rQ.withoutNormalizing(a,()=>{pX(a,()=>{f0(a,()=>{var e,d,p,f,h;if(u&&s){let u=[o[i]],h=hO(u,t.schema,t.keyGenerator);!h.valid&&(null==(e=h.resolution)?void 0:e.autoResolve)&&(null==(d=h.resolution)?void 0:d.patches.length)>0&&!t.readOnly&&t.previousValue&&t.previousValue!==o&&(console.warn("".concat(h.resolution.action," for block with _key '").concat(u[0]._key,"'. ").concat(null==(p=h.resolution)?void 0:p.description)),h.resolution.patches.forEach(e=>{n({type:"patch",patch:e})})),h.valid||(null==(f=h.resolution)?void 0:f.autoResolve)?(c._key===r._key?(hP.enabled&&hP("Updating block",c,r),function(e,t,n,r){if(iO.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){let i=n.children.length;t.children.length<i&&Array.from(Array(i-t.children.length)).forEach((t,n)=>{let a=i-1-n;a>0&&(hP("Removing child"),iO.removeNodes(e,{at:[r,a]}))}),t.children.forEach((t,i)=>{let a=n.children[i],o=!(0,e4.default)(t,a),l=!(0,e4.default)(t.text,null==a?void 0:a.text),s=[r,i];if(o)if(t._key===(null==a?void 0:a._key)){hP("Updating changed child",t,a),iO.setNodes(e,t,{at:s});let n=ie.isText(t)&&"span"===t._type&&ie.isText(a)&&"span"===a._type;n&&l?(a.text.length>0&&ao(e,{at:{focus:{path:s,offset:0},anchor:{path:s,offset:a.text.length}}}),iO.insertText(e,t.text,{at:s}),e.onChange()):n||(hP("Updating changed inline object child",t),iO.setNodes(e,{_key:dU},{at:[...s,0],voids:!0}))}else a?(hP("Replacing child",t),iO.removeNodes(e,{at:[r,i]}),iO.insertNodes(e,t,{at:[r,i]}),e.onChange()):a||(hP("Inserting new child",t),iO.insertNodes(e,t,{at:[r,i]}),e.onChange())})}}(a,r,c,i)):(hP.enabled&&hP("Replacing block",c,r),function(e,t,n){let r=e.selection,i=r&&r.focus.path[0]===n;i&&iO.deselect(e),iO.removeNodes(e,{at:[n]}),iO.insertNodes(e,t,{at:[n]}),e.onChange(),i&&iO.select(e,r)}(a,r,i)),l=!0):(n({type:"invalid value",resolution:h.resolution,value:o}),s=!1)}if(!c&&s){let e=hO([o[i]],t.schema,t.keyGenerator);hP.enabled&&hP("Validating and inserting new block in the end of the value",r),e.valid||(null==(h=e.resolution)?void 0:h.autoResolve)?iO.insertNodes(a,r,{at:[i]}):(hP("Invalid",e),n({type:"invalid value",resolution:e.resolution,value:o}),s=!1)}})})}),{blockChanged:l,blockValid:s}}let hz=dV("setup");function hV(e){hz("Creating new Editor instance");let t=[],n=(0,cm.createActor)(hE,{input:function(e){var t;let{legacySchema:n,schema:r}=function(e){var t;let n=e.schemaDefinition?function(e){var t,n,r,i,a,o,l,s,c,u,d,p;let f=null!=(l=null==e||null==(t=e.blockObjects)?void 0:t.map(e=>{var t,n,r;return(0,W.defineType)({type:"object",name:null!=(n=cS[e.name])?n:e.name,title:void 0===e.title?cI[e.name]:e.title,fields:null!=(r=null==(t=e.fields)?void 0:t.map(e=>{var t;return{name:e.name,type:e.type,title:null!=(t=e.title)?t:(0,cy.default)(e.name)}}))?r:[]})}))?l:[],h=null!=(s=null==e||null==(n=e.inlineObjects)?void 0:n.map(e=>{var t,n,r;return(0,W.defineType)({type:"object",name:null!=(n=cE[e.name])?n:e.name,title:void 0===e.title?cI[e.name]:e.title,fields:null!=(r=null==(t=e.fields)?void 0:t.map(e=>{var t;return{name:e.name,type:e.type,title:null!=(t=e.title)?t:(0,cy.default)(e.name)}}))?r:[]})}))?s:[],m=(0,W.defineField)({type:"array",name:"portable-text",of:[...f.map(e=>({type:e.name})),{type:"block",name:"block",of:h.map(e=>({type:e.name})),marks:{decorators:null!=(c=null==e||null==(r=e.decorators)?void 0:r.map(e=>{var t;return{title:null!=(t=e.title)?t:(0,cy.default)(e.name),value:e.name}}))?c:[],annotations:null!=(u=null==e||null==(i=e.annotations)?void 0:i.map(e=>{var t,n;return{name:e.name,type:"object",title:e.title,fields:null!=(n=null==(t=e.fields)?void 0:t.map(e=>{var t;return{name:e.name,title:null!=(t=e.title)?t:(0,cy.default)(e.name),type:e.type}}))?n:[]}}))?u:[]},lists:null!=(d=null==e||null==(a=e.lists)?void 0:a.map(e=>{var t;return{value:e.name,title:null!=(t=e.title)?t:(0,cy.default)(e.name)}}))?d:[],styles:null!=(p=null==e||null==(o=e.styles)?void 0:o.map(e=>{var t;return{value:e.name,title:null!=(t=e.title)?t:(0,cy.default)(e.name)}}))?p:[]}]}),g=cv(cg.compile({types:[m,...f,...h]}).get("portable-text"));return{...g,portableText:{...g.portableText,of:g.portableText.of.map(e=>{if(!(0,W.isObjectSchemaType)(e))return e;let t=cT[e.name];for(let n of(e.name=null!=t?t:e.name,e.fields))if(!("children"!==n.name||!(0,W.isArraySchemaType)(n.type)))for(let e of n.type.of){let t=cD[e.name];t&&(e.name=t)}return e})},blockObjects:g.blockObjects.map(e=>void 0!==cT[e.name]?{...e,name:cT[e.name],type:{...e.type,name:cT[e.name]}}:e),inlineObjects:g.inlineObjects.map(e=>void 0!==cD[e.name]?{...e,name:cD[e.name]}:e)}}(e.schemaDefinition):cv(e.schema.hasOwnProperty("jsonType")?e.schema:(t=e.schema,cg.compile({name:"blockTypeSchema",types:[t]}).get(t.name))),r=e.schemaDefinition?function(e){var t,n,r,i,a,o,l,s,c;let u=(null!=(r=e.styles)?r:[]).map(e=>({...e,value:e.name})),d=[];if(null==(t=e.block)?void 0:t.fields)for(let t of e.block.fields){if("_type"===t.name||"_key"===t.name||"children"===t.name||"markDefs"===t.name||"style"===t.name||"listItem"===t.name||"level"===t.name){console.warn('"'.concat(t.name,'" is a reserved field name on Portable Text blocks'));continue}d.push(t)}return{block:{name:null!=(i=null==(n=e.block)?void 0:n.name)?i:"block",...d.length>0?{fields:d}:{}},span:{name:"span"},styles:u.some(e=>"normal"===e.value)?u:[{value:"normal",name:"normal",title:"Normal"},...u],lists:(null!=(a=e.lists)?a:[]).map(e=>({...e,value:e.name})),decorators:(null!=(o=e.decorators)?o:[]).map(e=>({...e,value:e.name})),annotations:(null!=(l=e.annotations)?l:[]).map(e=>{var t;return{...e,fields:null!=(t=e.fields)?t:[]}}),blockObjects:(null!=(s=e.blockObjects)?s:[]).map(e=>{var t;return{...e,fields:null!=(t=e.fields)?t:[]}}),inlineObjects:(null!=(c=e.inlineObjects)?c:[]).map(e=>{var t;return{...e,fields:null!=(t=e.fields)?t:[]}})}}(e.schemaDefinition):cb(n);return{legacySchema:n,schema:r}}(e);return{converters:[pH,pq,{mimeType:"text/html",serialize:e=>{let{snapshot:t,event:n}=e;if(!t.context.selection)return{type:"serialization.failure",mimeType:"text/html",originEvent:n.originEvent,reason:"No selection"};let r=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{components:i,onMissingComponent:a=uf}=r,o=Array.isArray(e)?e:[e],l=(0,nF.nestLists)(o,"html"),s=(t=i?function(e,t){let{block:n,list:r,listItem:i,marks:a,types:o,...l}=t;return{...e,block:um(e,t,"block"),list:um(e,t,"list"),listItem:um(e,t,"listItem"),marks:um(e,t,"marks"),types:um(e,t,"types"),...l}}(uh,i):uh,n=a||uy,function e(r){let{node:i,index:a,isInline:o}=r;return(0,nF.isPortableTextToolkitList)(i)?function(r,i){let a=r.children.map((t,n)=>e({node:t._key?t:{...t,_key:"li-".concat(i,"-").concat(n)},index:n,isInline:!1})),o=t.list,l=("function"==typeof o?o:o[r.listItem])||t.unknownList;if(l===t.unknownList){let e=r.listItem||"bullet";n(ud('list style "'.concat(e,'"'),"list"),{nodeType:"listStyle",type:e})}return l({value:r,index:i,isInline:!1,renderNode:e,children:a.join("")})}(i,a):(0,nF.isPortableTextListItemBlock)(i)?function(r,i){let a=ug({node:r,index:i,isInline:!1,renderNode:e}),o=t.listItem,l=("function"==typeof o?o:o[r.listItem])||t.unknownListItem;if(l===t.unknownListItem){let e=r.listItem||"bullet";n(ud('list item style "'.concat(e,'"'),"listItem"),{type:e,nodeType:"listItemStyle"})}let s=a.children;if(r.style&&"normal"!==r.style){let{listItem:t,...n}=r;s=e({node:n,index:i,isInline:!1})}return l({value:r,index:i,isInline:!1,renderNode:e,children:s})}(i,a):(0,nF.isPortableTextToolkitSpan)(i)?function(r){let{markDef:i,markType:a,markKey:o}=r,l=t.marks[a]||t.unknownMark,s=r.children.map((t,n)=>e({node:t,index:n,isInline:!0}));return l===t.unknownMark&&n(ud('mark type "'.concat(a,'"'),"marks"),{nodeType:"mark",type:a}),l({text:(0,nF.spanToPlainText)(r),value:i,markType:a,markKey:o,renderNode:e,children:s.join("")})}(i):(0,nF.isPortableTextBlock)(i)?function(r,i,a){let{_key:o,...l}=ug({node:r,index:i,isInline:a,renderNode:e}),s=l.node.style||"normal",c=("function"==typeof t.block?t.block:t.block[s])||t.unknownBlockStyle;return c===t.unknownBlockStyle&&n(ud('block style "'.concat(s,'"'),"block"),{nodeType:"blockStyle",type:s}),c({...l,value:l.node,renderNode:e})}(i,a,o):(0,nF.isPortableTextToolkitTextNode)(i)?function(e){if("\n"===e.text){let e=t.hardBreak;return e?e():"\n"}return t.escapeHTML(e.text)}(i):function(r,i,a){let o=t.types[r._type];return o||n(up(r._type),{nodeType:"block",type:r._type}),(o||t.unknownType)({value:r,isInline:a,index:i,renderNode:e})}(i,a,o)});return l.map((e,t)=>s({node:e,index:t,isInline:!1,renderNode:s})).join("")}(sN(t),{onMissingComponent:!1,components:{unknownType:e=>{let{children:t}=e;return void 0!==t?"".concat(t):""}}});return""===r?{type:"serialization.failure",mimeType:"text/html",originEvent:n.originEvent,reason:"Serialized HTML is empty"}:{type:"serialization.success",data:r,mimeType:"text/html",originEvent:n.originEvent}},deserialize:e=>{let{snapshot:t,event:r}=e,i=ul(r.data,n.portableText,{keyGenerator:t.context.keyGenerator,unstable_whitespaceOnPasteMode:n.block.options.unstable_whitespaceOnPasteMode}).flatMap(e=>{let n=sk({context:t.context,block:e,options:{validateFields:!1}});return n?[n]:[]});return 0===i.length?{type:"deserialization.failure",mimeType:"text/html",reason:"No blocks deserialized"}:{type:"deserialization.success",data:i,mimeType:"text/html"}}},{mimeType:"text/plain",serialize:e=>{let{snapshot:t,event:n}=e;return t.context.selection?{type:"serialization.success",data:sN(t).map(e=>{var r,i;return sc(t.context,e)?e.children.map(e=>{var r,i;return e._type===t.context.schema.span.name?e.text:"drag.dragstart"===n.originEvent?"[".concat(null!=(i=null==(r=t.context.schema.inlineObjects.find(t=>t.name===e._type))?void 0:r.title)?i:"Object","]"):""}).join(""):"drag.dragstart"===n.originEvent?"[".concat(null!=(i=null==(r=t.context.schema.blockObjects.find(t=>t.name===e._type))?void 0:r.title)?i:"Object","]"):""}).filter(e=>""!==e).join("\n\n"),mimeType:"text/plain",originEvent:n.originEvent}:{type:"serialization.failure",mimeType:"text/plain",originEvent:n.originEvent,reason:"No selection"}},deserialize:e=>{let{snapshot:t,event:r}=e,i=ul("<html><body>".concat(String(r.data).replace(/[&<>"'`=/]/g,e=>pW[e]).split(/\n{2,}/).map(e=>e?"<p>".concat(e.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),"</body></html>"),n.portableText,{keyGenerator:t.context.keyGenerator}).flatMap(e=>{let n=sk({context:t.context,block:e,options:{validateFields:!1}});return n?[n]:[]});return 0===i.length?{type:"deserialization.failure",mimeType:"text/plain",reason:"No blocks deserialized"}:{type:"deserialization.success",data:i,mimeType:"text/plain"}}}],getLegacySchema:()=>n,keyGenerator:null!=(t=e.keyGenerator)?t:sj,maxBlocks:e.maxBlocks,readOnly:e.readOnly,schema:r,initialValue:e.initialValue}}(e)}),r=(0,cm.createActor)(hA),i=function(e){var t;hi("Creating new Slate editor instance");let n=((e,t)=>{var n,r,i,a,o;let{editorActor:l,relayActor:s}=t,c=(n=l,function(e){let{apply:t,normalizeNode:r}=e;return e.apply=r=>{if(pJ(e)||p2(e)||p0(e))return void t(r);if("split_node"===r.type){let i=[...rG.descendants(e)].map(e=>{let[t]=e;return t._key});t({...r,properties:{...r.properties,_key:void 0===r.properties._key||i.includes(r.properties._key)?n.getSnapshot().context.keyGenerator():r.properties._key}});return}if("insert_node"===r.type&&!rQ.isEditor(r.node)){let i=[...rG.descendants(e)].map(e=>{let[t]=e;return t._key});t({...r,node:{...r.node,_key:void 0===r.node._key||i.includes(r.node._key)?n.getSnapshot().context.keyGenerator():r.node._key}});return}if("merge_node"===r.type){var i,a,o,l,s;let c=r.path[r.path.length-1],u=rT.previous(r.path),d=u[u.length-1];if(1!==r.path.length||1!==u.length)return void t(r);let p=e.value.at(c),f=e.value.at(d);if(!p||!f||!sc(n.getSnapshot().context,p)||!sc(n.getSnapshot().context,f))return void t(r);let h=f.children.map(e=>e._key),m=null!=(o=null==(i=f.markDefs)?void 0:i.map(e=>e._key))?o:[],g=new Map,y=null==(a=p.markDefs)?void 0:a.map(e=>{if(m.includes(e._key)){let t=n.getSnapshot().context.keyGenerator();return g.set(e._key,t),{...e,_key:t}}return e}),v=0;for(let t of p.children){if(su(n.getSnapshot().context,t)){let n=null!=(s=null==(l=t.marks)?void 0:l.map(e=>g.get(e)||e))?s:[];(0,e4.default)(t.marks,n)||iO.setNodes(e,{marks:n},{at:[c,v]})}h.includes(t._key)&&iO.setNodes(e,{_key:n.getSnapshot().context.keyGenerator()},{at:[c,v]}),v++}return void t({...r,properties:{...r.properties,markDefs:y}})}t(r)},e.normalizeNode=t=>{let[i,a]=t;if(rW.isElement(i)&&i._type===n.getSnapshot().context.schema.block.name){if(!i._key){n.send({type:"normalizing"}),iO.setNodes(e,{_key:n.getSnapshot().context.keyGenerator()},{at:a}),n.send({type:"done normalizing"});return}for(let[t,r]of rG.children(e,a))if(!t._key){n.send({type:"normalizing"}),iO.setNodes(e,{_key:n.getSnapshot().context.keyGenerator()},{at:r}),n.send({type:"done normalizing"});return}}r(t)},e}),u=function(e){let{editorActor:t}=e;return function(e){e.isTextBlock=e=>!rQ.isEditor(e)&&sc(t.getSnapshot().context,e),e.isTextSpan=e=>!rQ.isEditor(e)&&su(t.getSnapshot().context,e),e.isListBlock=e=>!rQ.isEditor(e)&&sw(t.getSnapshot().context,e),e.isVoid=e=>!rQ.isEditor(e)&&t.getSnapshot().context.schema.block.name!==e._type&&(t.getSnapshot().context.schema.blockObjects.map(e=>e.name).includes(e._type)||t.getSnapshot().context.schema.inlineObjects.map(e=>e.name).includes(e._type)),e.isInline=e=>!rQ.isEditor(e)&&t.getSnapshot().context.schema.inlineObjects.map(e=>e.name).includes(e._type)&&"__inline"in e&&!0===e.__inline;let{normalizeNode:n}=e;return e.normalizeNode=r=>{let[i,a]=r;if(void 0===i._type&&2===a.length){f3("Setting span type on text node without a type");let n=i._key||t.getSnapshot().context.keyGenerator();t.send({type:"normalizing"}),iO.setNodes(e,{...i,_type:t.getSnapshot().context.schema.span.name,_key:n},{at:a}),t.send({type:"done normalizing"});return}if(void 0===i._key&&(1===a.length||2===a.length)){f3("Setting missing key on child node without a key");let n=t.getSnapshot().context.keyGenerator();t.send({type:"normalizing"}),iO.setNodes(e,{_key:n},{at:a}),t.send({type:"done normalizing"});return}n(r)},e}}({editorActor:l}),d=function(e){var t;let n,{editorActor:r,relayActor:i,subscriptions:a}=e,o=(t=r.getSnapshot().context.schema,(e,n)=>{let r=!1;try{switch(n.type){case"insert":r=function(e,t,n){let r=fQ(e.children,t.path);if(!r||t.path.length>1&&"children"!==t.path[1])return!1;if(1===t.path.length){let{items:i,position:a}=t,o=dq(i,{schemaTypes:n},d8.get(e)),l=r.index,s="after"===a?l+1:l,c=dY(e.children,n);return iO.insertNodes(e,o,{at:[s]}),c&&"number"==typeof t.path[0]&&0===t.path[0]&&iO.removeNodes(e,{at:["before"===a?l+1:l]}),!0}let{items:i,position:a}=t,o=f1(r,t.path);if(!o)return!1;let l=dq([{...r.node,children:i}],{schemaTypes:n},d8.get(e)),s="after"===a?o.index+1:o.index,c=[r.index,s];return l&&rW.isElement(l[0])&&iO.insertNodes(e,l[0].children,{at:c}),!0}(e,n,t);break;case"unset":r=function(e,t){if(0===t.path.length){let t=e.selection;for(let[t,n]of(iO.deselect(e),rG.children(e,[],{reverse:!0})))iO.removeNodes(e,{at:n});return iO.insertNodes(e,e.pteCreateTextBlock({decorators:[]})),t&&iO.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),!0}let n=fQ(e.children,t.path);if(!n)return!1;if(1===t.path.length){if(1===e.children.length){let t=e.selection;return iO.deselect(e),iO.removeNodes(e,{at:[n.index]}),iO.insertNodes(e,e.pteCreateTextBlock({decorators:[]})),t&&iO.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),!0}return iO.removeNodes(e,{at:[n.index]}),!0}let r=f1(n,t.path);if(e.isTextBlock(n.node)&&r&&"children"===t.path[1]&&3===t.path.length)return iO.removeNodes(e,{at:[n.index,r.index]}),!0;if(r&&!ie.isText(r.node)){let i=t.path.slice(3).at(0);if(void 0===i||"string"==typeof i&&["_key","_type","children","__inline"].includes(i))return!1;let a=dv("value"in r.node&&"object"==typeof r.node.value?r.node.value:{},[{...t,path:t.path.slice(3)}]);return iO.setNodes(e,{...r.node,value:a},{at:[n.index,r.index]}),!0}if(r&&ie.isText(r.node)){let i=t.path.slice(3),a=i.at(0);if(void 0===a||"string"==typeof a&&["_key","_type"].includes(a))return!1;if("string"==typeof a&&"text"===a)return e.apply({type:"remove_text",path:[n.index,r.index],offset:0,text:r.node.text}),!0;let o=Object.keys(dv(r.node,[{...t,path:i}])),l=Object.keys(r.node).filter(e=>!o.includes(e));return iO.unsetNodes(e,l,{at:[n.index,r.index]}),!0}if(!r&&"value"in n.node){let r=dv(n.node.value,[{...t,path:t.path.slice(1)}]);return iO.setNodes(e,{...n.node,value:r},{at:[n.index]}),!0}return!1}(e,n);break;case"set":r=function(e,t){let n=t.value;"string"==typeof t.path[3]&&((n={})[t.path[3]]=t.value);let r=fQ(e.children,t.path);if(!r)return!1;let i=e.isTextBlock(r.node);if(i&&t.path.length>1&&"children"!==t.path[1])return!1;let a=f1(r,t.path);if(i&&a)if(ie.isText(a.node))if(ie.isText(n)){let t=a.node.text,i=n.text;t!==i&&(e.apply({type:"remove_text",path:[r.index,a.index],offset:0,text:t}),e.apply({type:"insert_text",path:[r.index,a.index],offset:0,text:i}),e.onChange())}else{let n=t.path.slice(3),i=n.at(0);if(void 0===i||"string"==typeof i&&["_key","_type","text"].includes(i))return!1;let o=dv(a.node,[{...t,path:n}]);iO.setNodes(e,o,{at:[r.index,a.index]})}else{let n=t.path.slice(3).at(0);if(void 0===n||"string"==typeof n&&["_key","_type","children","__inline"].includes(n))return!1;let i=dv("value"in a.node&&"object"==typeof a.node.value?a.node.value:{},[{...t,path:t.path.slice(3)}]);iO.setNodes(e,{...a.node,value:i},{at:[r.index,a.index]})}else if(rW.isElement(r.node)&&1===t.path.length){let{children:t,...i}=n,{children:a,...o}=r.node||{children:void 0};e.apply({type:"set_node",path:[r.index],properties:{...o},newProperties:i});let l=r.node;l.children.forEach((t,n)=>{e.apply({type:"remove_node",path:[r.index,l.children.length-1-n],node:t})}),Array.isArray(t)&&t.forEach((t,n)=>{e.apply({type:"insert_node",path:[r.index,n],node:t})})}else if(r&&"value"in r.node)if(!(t.path.length>1)||"children"===t.path[1])return!1;else{let n=dv(r.node.value,[{...t,path:t.path.slice(1)}]);iO.setNodes(e,{...r.node,value:n},{at:[r.index]})}return!0}(e,n);break;case"diffMatchPatch":r=function(e,t){let n=fQ(e.children,t.path);if(!n)return!1;let r=f1(n,t.path);if(!r||!(n&&e.isTextBlock(n.node)&&4===t.path.length&&"children"===t.path[1]&&"text"===t.path[3])||!ie.isText(r.node))return!1;let[i]=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e)throw Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(0===e.length)return[r,[]];let i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=0;function a(e){for(;r<e;){let e=t.codePointAt(i);if(typeof e>"u")return i;r+=fD(e),e>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==e)throw Error("Failed to determine byte offset");return i}let o=[];for(let t of e)o.push({diffs:t.diffs.map(e=>p7(e)),start1:a(t.start1),start2:a(t.start2),utf8Start1:t.utf8Start1,utf8Start2:t.utf8Start2,length1:t.length1,length2:t.length2,utf8Length1:t.utf8Length1,utf8Length2:t.utf8Length2});return o}(e,r,{allowExceedingIndices:n.allowExceedingIndices}),a=n.margin||4,o=n.deleteThreshold||.4,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n="";for(let e=1;e<=t;e++)n+=String.fromCharCode(e);for(let n of e)n.start1+=t,n.start2+=t,n.utf8Start1+=t,n.utf8Start2+=t;let r=e[0],i=r.diffs;if(0===i.length||0!==i[0][0])i.unshift([0,n]),r.start1-=t,r.start2-=t,r.utf8Start1-=t,r.utf8Start2-=t,r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[0][1].length){let e=i[0][1].length,a=t-e;i[0][1]=n.substring(e)+i[0][1],r.start1-=a,r.start2-=a,r.utf8Start1-=a,r.utf8Start2-=a,r.length1+=a,r.length2+=a,r.utf8Length1+=a,r.utf8Length2+=a}if(0===(i=(r=e[e.length-1]).diffs).length||0!==i[i.length-1][0])i.push([0,n]),r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[i.length-1][1].length){let e=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,e),r.length1+=e,r.length2+=e,r.utf8Length1+=e,r.utf8Length2+=e}return n}(i,a);r=l+r+l,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;for(let n=0;n<e.length;n++){if(e[n].length1<=32)continue;let r=e[n];e.splice(n--,1);let i=r.start1,a=r.start2,o="";for(;0!==r.diffs.length;){let l=fI(i-o.length,a-o.length),s=!0;if(""!==o){let e=fT(o);l.length1=o.length,l.utf8Length1=e,l.length2=o.length,l.utf8Length2=e,l.diffs.push([0,o])}for(;0!==r.diffs.length&&l.length1<32-t;){let e=r.diffs[0][0],n=r.diffs[0][1],o=fT(n);if(1===e){l.length2+=n.length,l.utf8Length2+=o,a+=n.length;let e=r.diffs.shift();e&&l.diffs.push(e),s=!1}else -1===e&&1===l.diffs.length&&0===l.diffs[0][0]&&n.length>64?(l.length1+=n.length,l.utf8Length1+=o,i+=n.length,s=!1,l.diffs.push([e,n]),r.diffs.shift()):(o=fT(n=n.substring(0,32-l.length1-t)),l.length1+=n.length,l.utf8Length1+=o,i+=n.length,0===e?(l.length2+=n.length,l.utf8Length2+=o,a+=n.length):s=!1,l.diffs.push([e,n]),n===r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(n.length))}o=(o=fS(l.diffs)).substring(o.length-t);let c=fj(r.diffs).substring(0,t),u=fT(c);""!==c&&(l.length1+=c.length,l.length2+=c.length,l.utf8Length1+=u,l.utf8Length2+=u,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push([0,c])),s||e.splice(++n,0,l)}}}(i,a);let s=0,c=[];for(let e=0;e<i.length;e++){let t=i[e].start2+s,n=fj(i[e].diffs),a,l=-1;if(n.length>32?-1!==(a=f_(r,n.substring(0,32),t))&&(-1===(l=f_(r,n.substring(n.length-32),t+n.length-32))||a>=l)&&(a=-1):a=f_(r,n,t),-1===a)c[e]=!1,s-=i[e].length2-i[e].length1;else{let u;if(c[e]=!0,s=a-t,u=-1===l?r.substring(a,a+n.length):r.substring(a,l+32),n===u)r=r.substring(0,a)+fS(i[e].diffs)+r.substring(a+n.length);else{let t=fa(n,u,{checkLines:!1});if(n.length>32&&function(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){let a=e[i][0],o=e[i][1];switch(a){case 1:n+=o.length;break;case -1:r+=o.length;break;case 0:t+=Math.max(n,r),n=0,r=0;break;default:throw Error("Unknown diff operation.")}}return t+Math.max(n,r)}(t)/n.length>o)c[e]=!1;else{t=fm(t);let n=0,o=0;for(let l=0;l<i[e].diffs.length;l++){let s=i[e].diffs[l];0!==s[0]&&(o=fE(t,n)),1===s[0]?r=r.substring(0,a+o)+s[1]+r.substring(a+o):-1===s[0]&&(r=r.substring(0,a+o)+r.substring(a+fE(t,n+s[1].length))),-1!==s[0]&&(n+=s[1].length)}}}}}return[r=r.substring(l.length,r.length-l.length),c]}(fO(t.value),r.node.text,{allowExceedingIndices:!0}),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.map(e=>p7(e)),r=!1,i=[],a=0,o=null,l=0,s=!1,c=!1,u=!1,d=!1;for(;l<n.length;)0===n[l][0]?(n[l][1].length<t&&(u||d)?(i[a++]=l,s=u,c=d,o=n[l][1]):(a=0,o=null),u=!1,d=!1):(-1===n[l][0]?d=!0:u=!0,o&&(s&&c&&u&&d||o.length<t/2&&3===function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e+ +!!t,0)}(s,c,u,d))&&(n.splice(i[a-1],0,[-1,o]),n[i[a-1]+1][0]=1,a--,o=null,s&&c?(u=!0,d=!0,a=0):(l=--a>0?i[a-1]:-1,u=!1,d=!1),r=!0)),l++;return r&&(n=fg(n)),n}(fa(r.node.text,i),5),o=0;for(let[t,i]of a)1===t?(e.apply({type:"insert_text",path:[n.index,r.index],offset:o,text:i}),o+=i.length):-1===t?e.apply({type:"remove_text",path:[n.index,r.index],offset:o,text:i}):0===t&&(o+=i.length);return!0}(e,n)}}catch(e){console.error(e)}return r});return function(e){d3.set(e,!1),f2.set(e,!0),n=[...e.children];let{apply:t}=e,l=[],s=t=>{let{patches:n}=t,r=n.filter(e=>"local"!==e.origin);0!==r.length&&(l=l.concat(r),(()=>{if(0===l.length)return;let t=l;l=[];let n=!1;pX(e,()=>{rQ.withoutNormalizing(e,()=>{f0(e,()=>{fW(e,()=>{for(let r of t){f5.enabled&&f5("Handling remote patch ".concat(JSON.stringify(r)));try{n=o(e,r)}catch(e){console.error("Applying patch ".concat(JSON.stringify(r)," failed due to: ").concat(e.message))}}})})}),n&&(e.normalize(),e.onChange())})})())};return a.push(()=>{f5("Subscribing to remote patches");let e=r.on("patches",s);return()=>{f5("Unsubscribing to remote patches"),e.unsubscribe()}}),e.apply=a=>{let o=[],l=dY(n=e.children,r.getSnapshot().context.schema);t(a);let s=dY(e.children,r.getSnapshot().context.schema);if(!f2.get(e))return e;switch(l&&!s&&"set_selection"!==a.type&&o.push(dC(n,"before",[0])),a.type){case"insert_text":o=[...o,...function(e,t,n,r){let i=sc({schema:e},t[n.path[0]])&&t[n.path[0]];if(!i)throw Error("Could not find block");let a=sc({schema:e},i)&&su({schema:e},i.children[n.path[1]])&&i.children[n.path[1]];if(!a)throw Error("Could not find child");let o=[{_key:i._key},"children",{_key:a._key},"text"],l=r[n.path[0]],s=sc({schema:e},l)&&l.children[n.path[1]],c=dx(su({schema:e},s)?s.text:"",a.text,o);return c.value.length?[c]:[]}(r.getSnapshot().context.schema,e.children,a,n)];break;case"remove_text":o=[...o,...function(e,t,n,r){let i=t[n.path[0]];if(!i)throw Error("Could not find block");let a=sc({schema:e},i)&&i.children[n.path[1]]||void 0,o=su({schema:e},a)?a:void 0;if(a&&!o)throw Error("Expected span");if(!o)throw Error("Could not find child");let l=[{_key:i._key},"children",{_key:o._key},"text"],s=r[n.path[0]],c=sc({schema:e},s)&&s.children[n.path[1]],u=dx(su({schema:e},c)&&c.text||"",o.text,l);return u.value?[u]:[]}(r.getSnapshot().context.schema,e.children,a,n)];break;case"remove_node":o=[...o,...function(e,t,n){let r=t[n.path[0]];if(1===n.path.length){if(r&&r._key)return[dw([{_key:r._key}])];throw Error("Block not found")}if(!sc({schema:e},r)||2!==n.path.length)return[];{let e=r.children[n.path[1]];return e?r.children.filter(e=>e._key===n.node._key).length>1?(console.warn("Multiple spans have `_key` ".concat(n.node._key,". It's ambiguous which one to remove."),JSON.stringify(r,null,2)),[]):[dw([{_key:r._key},"children",{_key:e._key}])]:[]}}(r.getSnapshot().context.schema,n,a)];break;case"split_node":o=[...o,...function(e,t,n,r){let i=[],a=t[n.path[0]];if(!sc({schema:e},a))throw Error("Block with path ".concat(JSON.stringify(n.path[0])," is not a text block and can't be split"));if(1===n.path.length){let o=r[n.path[0]];if(sc({schema:e},o)){let r=dW([t[n.path[0]+1]],e.block.name)[0];r&&(i.push(dC([r],"after",[{_key:a._key}])),o.children.slice(n.position).forEach(e=>{let t=[{_key:o._key},"children",{_key:e._key}];i.push(dw(t))}))}return i}if(2===n.path.length){let t=a.children[n.path[1]];if(su({schema:e},t)){let r=dW([{...a,children:a.children.slice(n.path[1]+1,n.path[1]+2)}],e.block.name)[0].children;i.push(dC(r,"after",[{_key:a._key},"children",{_key:t._key}])),i.push(dk(t.text,[{_key:a._key},"children",{_key:t._key},"text"]))}}return i}(r.getSnapshot().context.schema,e.children,a,n)];break;case"insert_node":o=[...o,...function(e,t,n,r){let i=r[n.path[0]];if(1===n.path.length){let t=0===n.path[0]?"before":"after",a=r[n.path[0]-1],o=0===n.path[0]?null==i?void 0:i._key:null==a?void 0:a._key;return o?[dC([dW([n.node],e.block.name)[0]],t,[{_key:o}])]:[db(r,[]),dC([dW([n.node],e.block.name)[0]],"before",[n.path[0]])]}if(sc({schema:e},i)&&2===n.path.length&&t[n.path[0]]){let t=0!==i.children.length&&i.children[n.path[1]-1]?"after":"before",r={...n.node};return!r._type&&ie.isText(r)&&(r._type="span",r.marks=[]),[dC([dW([{_key:"bogus",_type:e.block.name,children:[r]}],e.block.name)[0].children[0]],t,[{_key:i._key},"children",i.children.length<=1||!i.children[n.path[1]-1]?0:{_key:i.children[n.path[1]-1]._key}])]}return[]}(r.getSnapshot().context.schema,e.children,a,n)];break;case"set_node":o=[...o,...function(e,t,n){if(1===n.path.length){let r=t[n.path[0]];if("string"!=typeof r._key)throw Error("Expected block to have a _key");return[dk(dW([(0,dI.default)({...t[n.path[0]],...n.newProperties},dD.default)],e.block.name)[0],[{_key:r._key}])]}if(2===n.path.length){let r=t[n.path[0]];if(sc({schema:e},r)){let e=r.children[n.path[1]];if(e){let t=r._key,i=e._key,a=[],o=Object.keys(n.newProperties);return o.forEach(l=>{if(1===o.length&&"_key"===l){let i=(0,n_.default)(n.newProperties,l);a.push(dk(i,[{_key:t},"children",r.children.indexOf(e),l]))}else{let e=(0,n_.default)(n.newProperties,l);a.push(dk(e,[{_key:t},"children",{_key:i},l]))}}),a}throw Error("Could not find a valid child")}throw Error("Could not find a valid block")}throw Error("Unexpected path encountered: ".concat(JSON.stringify(n.path)))}(r.getSnapshot().context.schema,e.children,a)];break;case"merge_node":o=[...o,...function(e,t,n,r){let i=[],a=r[n.path[0]],o=t[n.path[0]];if(1===n.path.length)if(null==a?void 0:a._key){let r=dW([t[n.path[0]-1]],e.block.name)[0];i.push(dk(r,[{_key:r._key}])),i.push(dw([{_key:a._key}]))}else throw Error("Target key not found!");else if(sc({schema:e},a)&&sc({schema:e},o)&&2===n.path.length){let t=o.children[n.path[1]-1]&&su({schema:e},o.children[n.path[1]-1])?o.children[n.path[1]-1]:void 0,r=a.children[n.path[1]]&&su({schema:e},a.children[n.path[1]])?a.children[n.path[1]]:void 0;t&&(1===a.children.filter(e=>e._key===t._key).length?i.push(dk(t.text,[{_key:a._key},"children",{_key:t._key},"text"])):console.warn("Multiple spans have `_key` ".concat(t._key,". It's ambiguous which one to update."),JSON.stringify(a,null,2))),r&&(1===a.children.filter(e=>e._key===r._key).length?i.push(dw([{_key:a._key},"children",{_key:r._key}])):console.warn("Multiple spans have `_key` ".concat(r._key,". It's ambiguous which one to remove."),JSON.stringify(a,null,2)))}return i}(r.getSnapshot().context.schema,e.children,a,n)];break;case"move_node":o=[...o,...function(e,t,n){let r=[],i=t[n.path[0]],a=t[n.newPath[0]];if(!a)return r;if(1===n.path.length){let t=n.path[0]>n.newPath[0]?"before":"after";r.push(dw([{_key:i._key}])),r.push(dC([dW([i],e.block.name)[0]],t,[{_key:a._key}]))}else if(2===n.path.length&&sc({schema:e},i)&&sc({schema:e},a)){let t=i.children[n.path[1]],o=a.children[n.newPath[1]],l=n.newPath[1]===a.children.length?"after":"before",s=dW([i],e.block.name)[0].children[n.path[1]];r.push(dw([{_key:i._key},"children",{_key:t._key}])),r.push(dC([s],l,[{_key:a._key},"children",{_key:o._key}]))}return r}(r.getSnapshot().context.schema,n,a)]}if(!l&&s&&["merge_node","set_node","remove_text","remove_node"].includes(a.type)&&(o=[...o,dw([])],i.send({type:"unset",previousValue:dW(n,r.getSnapshot().context.schema.block.name,d4.get(e))})),l&&o.length>0&&(o=[db([],[]),...o]),o.length>0)for(let t of o)r.send({type:"internal.patch",patch:{...t,origin:"local"},operationId:fF(e),value:e.value});return e},e}}({editorActor:l,relayActor:s,subscriptions:t.subscriptions}),p=(r=l,function(e){let{apply:t}=e;return e.apply=n=>{var i;if(r.getSnapshot().matches({"edit mode":"read only"})||pJ(e)||p2(e)||p0(e))return void t(n);let a=null!=(i=r.getSnapshot().context.maxBlocks)?i:-1;a>0&&e.children.length>=a&&("insert_node"===n.type||"split_node"===n.type)&&1===n.path.length||t(n)},e}),f=function(e){let{editorActor:t}=e;return n=>{let r=dW(n.children,t.getSnapshot().context.schema.block.name),i=fU(n),a=fF(n);e.subscriptions.push(()=>{fN("Subscribing to patches");let e=t.on("patches",e=>{let{patches:t,snapshot:a}=e,o=!1;t.forEach(e=>{if(!o&&"local"!==e.origin&&i){if("unset"===e.type&&0===e.path.length){fN("Someone else cleared the content, resetting undo/redo history"),n.history={undos:[],redos:[]},i.splice(0,i.length),fL.set(n,!0),o=!0;return}i.push({patch:e,time:new Date,snapshot:a,previousSnapshot:r})}}),r=a});return()=>{fN("Unsubscribing to patches"),e.unsubscribe()}}),n.history={undos:[],redos:[]};let{apply:o}=n;return n.apply=e=>{let r,i;if(t.getSnapshot().matches({"edit mode":"read only"})||pJ(n)||p2(n)||p0(n))return void o(e);let{operations:l,history:s}=n,{undos:c}=s,u=c[c.length-1],d=u&&u.operations&&u.operations[u.operations.length-1],p=(r=e,!!((i=d)&&"set_selection"===r.type&&"set_selection"===i.type)),f=fV(n),h=fF(n),m=h===a;if(f){let t,r;if(u?0===l.length&&(m=void 0===h&&void 0===a?(t=e,r=d,!!("set_selection"===t.type||r&&"insert_text"===t.type&&"insert_text"===r.type&&t.offset===r.offset+r.text.length&&rT.equals(t.path,r.path)&&" "!==t.text||r&&"remove_text"===t.type&&"remove_text"===r.type&&t.offset+t.text.length===r.offset&&rT.equals(t.path,r.path))||p):m):m=!1,u&&m)u.operations.push(e);else{var g;let t={operations:[...null===n.selection?[]:[{type:"set_selection",properties:{...(g=n).selection},newProperties:{...g.selection}}],e],timestamp:new Date};c.push(t),fN("Created new undo step",u)}for(;c.length>1e3;)c.shift();"set_selection"!==e.type&&(s.redos=[])}a=h,o(e)},n}}({editorActor:l,subscriptions:t.subscriptions}),h=(i=l,function(e){let{apply:t,normalizeNode:n}=e,r=i.getSnapshot().context.schema.decorators.map(e=>e.name);return e.normalizeNode=t=>{var r,a,o,l,s,c,u;let[d,p]=t;if(e.isTextBlock(d))for(let[t,n]of rG.children(e,p)){let o=d.children[n[1]+1];if(e.isTextSpan(t)&&e.isTextSpan(o)&&(null==(r=t.marks)?void 0:r.every(e=>{var t;return null==(t=o.marks)?void 0:t.includes(e)}))&&(null==(a=o.marks)?void 0:a.every(e=>{var n;return null==(n=t.marks)?void 0:n.includes(e)}))){p5("Merging spans",JSON.stringify(t,null,2),JSON.stringify(o,null,2)),i.send({type:"normalizing"}),iO.mergeNodes(e,{at:[n[0],n[1]+1],voids:!0}),i.send({type:"done normalizing"});return}}if(e.isTextBlock(d)&&!Array.isArray(d.markDefs)){p5("Adding .markDefs to block node"),i.send({type:"normalizing"}),iO.setNodes(e,{markDefs:[]},{at:p}),i.send({type:"done normalizing"});return}if(e.isTextSpan(d)&&!Array.isArray(d.marks)){p5("Adding .marks to span node"),i.send({type:"normalizing"}),iO.setNodes(e,{marks:[]},{at:p}),i.send({type:"done normalizing"});return}if(e.isTextSpan(d)){let t=rT.parent(p),[n]=rQ.node(e,t),r=i.getSnapshot().context.schema.decorators.map(e=>e.name),a=null==(o=d.marks)?void 0:o.filter(e=>!r.includes(e));if(e.isTextBlock(n)&&""===d.text&&a&&a.length>0){p5("Removing annotations from empty span node"),i.send({type:"normalizing"}),iO.setNodes(e,{marks:null==(l=d.marks)?void 0:l.filter(e=>r.includes(e))},{at:p}),i.send({type:"done normalizing"});return}}if(e.isTextBlock(d)){let t=i.getSnapshot().context.schema.decorators.map(e=>e.name);for(let[n,r]of rG.children(e,p))if(e.isTextSpan(n)){let a=null!=(s=n.marks)?s:[],o=a.filter(e=>{var n;return!t.includes(e)&&!(null==(n=d.markDefs)?void 0:n.find(t=>t._key===e))});if(o.length>0){p5("Removing orphaned annotations from span node"),i.send({type:"normalizing"}),iO.setNodes(e,{marks:a.filter(e=>!o.includes(e))},{at:r}),i.send({type:"done normalizing"});return}}}if(e.isTextSpan(d)){let t=rT.parent(p),[n]=rQ.node(e,t);if(e.isTextBlock(n)){let t=i.getSnapshot().context.schema.decorators.map(e=>e.name),r=null!=(c=d.marks)?c:[],a=r.filter(e=>{var r;return!t.includes(e)&&!(null==(r=n.markDefs)?void 0:r.find(t=>t._key===e))});if(a.length>0){p5("Removing orphaned annotations from span node"),i.send({type:"normalizing"}),iO.setNodes(e,{marks:r.filter(e=>!a.includes(e))},{at:p}),i.send({type:"done normalizing"});return}}}if(e.isTextBlock(d)){let t=null!=(u=d.markDefs)?u:[],n=new Set,r=[];for(let e of t)n.has(e._key)||(n.add(e._key),r.push(e));if(t.length!==r.length){p5("Removing duplicate markDefs"),i.send({type:"normalizing"}),iO.setNodes(e,{markDefs:r},{at:p}),i.send({type:"done normalizing"});return}}if(e.isTextBlock(d)&&!e.operations.some(e=>"merge_node"===e.type&&"markDefs"in e.properties&&1===e.path.length)){let t=(d.markDefs||[]).filter(e=>d.children.find(t=>ie.isText(t)&&Array.isArray(t.marks)&&t.marks.includes(e._key)));if(d.markDefs&&!(0,e4.default)(t,d.markDefs)){p5("Removing markDef not in use"),i.send({type:"normalizing"}),iO.setNodes(e,{markDefs:t},{at:p}),i.send({type:"done normalizing"});return}}n(t)},e.apply=n=>{var a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,_;if(pJ(e)||p2(e)||p0(e))return void t(n);if("set_selection"===n.type&&n.properties&&n.newProperties&&n.properties.anchor&&n.properties.focus&&n.newProperties.anchor&&n.newProperties.focus){let t=rH.isCollapsed({anchor:n.properties.anchor,focus:n.properties.focus}),r=rH.isCollapsed({anchor:n.newProperties.anchor,focus:n.newProperties.focus});if(t&&r){let t=null==(a=Array.from(rQ.nodes(e,{mode:"lowest",at:n.properties.focus,match:t=>e.isTextSpan(t),voids:!1}))[0])?void 0:a[0],r=null==(o=Array.from(rQ.nodes(e,{mode:"lowest",at:n.newProperties.focus,match:t=>e.isTextSpan(t),voids:!1}))[0])?void 0:o[0],i=t&&r&&n.newProperties.focus.path[0]===n.properties.focus.path[0]&&n.newProperties.focus.path[1]===n.properties.focus.path[1]+1&&t.text.length===n.properties.focus.offset&&0===n.newProperties.focus.offset,l=t&&r&&n.newProperties.focus.path[0]===n.properties.focus.path[0]&&n.newProperties.focus.path[1]===n.properties.focus.path[1]-1&&0===n.properties.focus.offset&&r.text.length===n.newProperties.focus.offset;i||l||(e.decoratorState={})}}if("insert_node"===n.type){let{selection:t}=e;if(t){let[a,o]=rQ.node(e,t,{depth:1}),x=p$({editor:e,blockPath:o,spanPath:n.path}),C=x?null==(l=x.marks)?void 0:l.filter(e=>!r.includes(e)):[],k=pZ({editor:e,blockPath:o,spanPath:[n.path[0],n.path[1]-1]}),w=k?null==(s=k.marks)?void 0:s.filter(e=>!r.includes(e)):[],_=null!=(f=null==C?void 0:C.filter(e=>!(null==w?void 0:w.includes(e))))?f:[],j=_.length>0;if(j&&su(i.getSnapshot().context,n.node)&&(null==(c=n.node.marks)?void 0:c.some(e=>_.includes(e))))return void iO.insertNodes(e,{...n.node,_key:i.getSnapshot().context.keyGenerator(),marks:null!=(m=null==(h=n.node.marks)?void 0:h.filter(e=>!_.includes(e)))?m:[]});let S=null!=(g=null==w?void 0:w.filter(e=>!(null==C?void 0:C.includes(e))))?g:[],E=S.length>0;if(E&&su(i.getSnapshot().context,n.node)&&(null==(u=n.node.marks)?void 0:u.some(e=>S.includes(e))))return void iO.insertNodes(e,{...n.node,_key:i.getSnapshot().context.keyGenerator(),marks:null!=(v=null==(y=n.node.marks)?void 0:y.filter(e=>!S.includes(e)))?v:[]});let T=null!=(b=null==k||null==(d=k.marks)?void 0:d.filter(e=>r.includes(e)))?b:[];if(T.length>0&&j&&!E&&su(i.getSnapshot().context,n.node)&&(null==(p=n.node.marks)?void 0:p.length)===0)return void iO.insertNodes(e,{...n.node,_key:i.getSnapshot().context.keyGenerator(),marks:T})}}if("insert_text"===n.type){let r=sY(pf({editorActorSnapshot:i.getSnapshot(),slateEditorInstance:e}));return r&&"unchanged"!==r.state?void iO.insertNodes(e,{_type:"span",_key:i.getSnapshot().context.keyGenerator(),text:n.text,marks:r.marks}):void t(n)}if("remove_text"===n.type){let{selection:a}=e;if(a&&rH.isExpanded(a)){let[o,l]=rQ.node(e,a,{depth:1}),[s,c]=null!=(x=Array.from(rQ.nodes(e,{mode:"lowest",at:{path:n.path,offset:n.offset},match:t=>e.isTextSpan(t),voids:!1}))[0])?x:[void 0,void 0];if(s&&o&&sc(i.getSnapshot().context,o)){let a=null!=(w=o.markDefs)?w:[],u=null!=(_=s.marks)?_:[],d=u.some(e=>a.find(t=>t._key===e)),p=n.offset+n.text.length===s.text.length,f=0===n.offset&&p,h=p$({editor:e,blockPath:l,spanPath:c}),m=pZ({editor:e,blockPath:l,spanPath:c}),g=!!h&&(null==(C=h.marks)?void 0:C.some(e=>!r.includes(e)&&u.includes(e))),y=!!m&&(null==(k=m.marks)?void 0:k.some(e=>!r.includes(e)&&u.includes(e)));if(d&&f&&!g&&!y){let r=pf({editorActorSnapshot:i.getSnapshot(),slateEditorInstance:e});rQ.withoutNormalizing(e,()=>{t(n),iO.setNodes(e,{marks:s5(r)},{at:n.path})}),e.onChange();return}}}}if("merge_node"===n.type&&1===n.path.length&&"markDefs"in n.properties&&n.properties._type===i.getSnapshot().context.schema.block.name&&Array.isArray(n.properties.markDefs)&&n.properties.markDefs.length>0&&n.path[0]-1>=0){let[r,i]=rQ.node(e,[n.path[0]-1]);if(e.isTextBlock(r)){let a=Array.isArray(r.markDefs)&&r.markDefs||[],o=(0,nC.default)([...a,...n.properties.markDefs]);p5("Copying markDefs over to merged block",n),iO.setNodes(e,{markDefs:o},{at:i,voids:!1}),t(n);return}}t(n)},e}),m=(a=l,function(e){let{apply:t}=e;return e.apply=n=>{if(a.getSnapshot().matches({"edit mode":"read only"})||pJ(e)||p2(e)||p0(e))return void t(n);if("remove_node"===n.type){let t=n.path.at(0),r=1===n.path.length&&0===t&&1===e.children.length,i=n.node._type!==a.getSnapshot().context.schema.block.name;r&&i&&(f7("Adding placeholder block"),rQ.insertNode(e,e.pteCreateTextBlock({decorators:[]})))}t(n)},e}),g=function(e){let{editorActor:t}=e;return function(e){return e.pteCreateTextBlock=e=>dq([{_type:t.getSnapshot().context.schema.block.name,_key:t.getSnapshot().context.keyGenerator(),style:t.getSnapshot().context.schema.styles[0].name||"normal",...e.listItem?{listItem:e.listItem}:{},...e.level?{level:e.level}:{},markDefs:[],children:[{_type:"span",_key:t.getSnapshot().context.keyGenerator(),text:"",marks:e.decorators.filter(e=>t.getSnapshot().context.schema.decorators.find(t=>{let{name:n}=t;return n===e}))}]}],{schemaTypes:t.getSnapshot().context.schema})[0],e}}({editorActor:l});return(o=l,function(e){if(void 0!==o.getSnapshot().context.maxBlocks)return e;let{delete:t,select:n}=e;return e.delete=n=>{var r;if(fJ(e))return void t(n);let i=null!=(r=null==n?void 0:n.at)?r:e.selection;if(!i)return void console.error("Unexpected call to .delete(...) without `at` option");let a=rQ.range(e,i),l=d1({schema:o.getSnapshot().context.schema,editor:e,range:a});if(!l)return void console.error("Unexpected call to .delete(...) with invalid `at` option");o.send({type:"behavior event",behaviorEvent:{type:"delete",at:l,direction:(null==n?void 0:n.reverse)?"backward":"forward",unit:null==n?void 0:n.unit},editor:e})},e.deleteBackward=t=>{if(fJ(e))return void console.error("Unexpected call to .deleteBackward(...)");o.send({type:"behavior event",behaviorEvent:{type:"delete.backward",unit:t},editor:e})},e.deleteForward=t=>{if(fJ(e))return void console.error("Unexpected call to .deleteForward(...)");o.send({type:"behavior event",behaviorEvent:{type:"delete.forward",unit:t},editor:e})},e.insertBreak=()=>{if(fJ(e))return void console.error("Unexpected call to .insertBreak(...)");o.send({type:"behavior event",behaviorEvent:{type:"insert.break"},editor:e})},e.insertData=t=>{if(fJ(e))return void console.error("Unexpected call to .insertData(...)");o.send({type:"behavior event",behaviorEvent:{type:"input.*",originEvent:{dataTransfer:t}},editor:e})},e.insertSoftBreak=()=>{if(fJ(e))return void f$({context:{keyGenerator:o.getSnapshot().context.keyGenerator,schema:o.getSnapshot().context.schema},operation:{type:"insert.text",text:"\n",editor:e}});o.send({type:"behavior event",behaviorEvent:{type:"insert.soft break"},editor:e})},e.insertText=t=>{if(fJ(e))return void f$({context:{keyGenerator:o.getSnapshot().context.keyGenerator,schema:o.getSnapshot().context.schema},operation:{type:"insert.text",text:t,editor:e}});o.send({type:"behavior event",behaviorEvent:{type:"insert.text",text:t},editor:e})},e.redo=()=>{if(fJ(e))return void f$({context:{keyGenerator:o.getSnapshot().context.keyGenerator,schema:o.getSnapshot().context.schema},operation:{type:"history.redo",editor:e}});o.send({type:"behavior event",behaviorEvent:{type:"history.redo"},editor:e})},e.select=t=>{if(fJ(e))return void n(t);let r=rQ.range(e,t);o.send({type:"behavior event",behaviorEvent:{type:"select",at:d1({schema:o.getSnapshot().context.schema,editor:e,range:r})},editor:e})},e.setFragmentData=()=>{console.error("Unexpected call to .setFragmentData(...)")},e.undo=()=>{if(fJ(e))return void f$({context:{keyGenerator:o.getSnapshot().context.keyGenerator,schema:o.getSnapshot().context.schema},operation:{type:"history.undo",editor:e}});o.send({type:"behavior event",behaviorEvent:{type:"history.undo"},editor:e})},e})(u(c(h(m(g(p(f(d(function(e,t){let{apply:n}=t;return t.apply=r=>{if("set_selection"===r.type||(t.value=function(e,t,n){let r=rg({children:t});try{!function(e,t,n){var r;switch(n.type){case"insert_node":{let{path:r,node:i}=n,a=hr(e,t,r),o=r[r.length-1];if(!a||o>a.children.length)break;if(1===r.length){if(f4(e,i)){a.children.splice(o,0,{...i,children:i.children.map(e=>"__inline"in e?{_key:e._key,_type:e._type,..."value"in e&&"object"==typeof e.value?e.value:{}}:e)});break}if(rW.isElement(i)&&!("__inline"in i)){a.children.splice(o,0,{_key:i._key,_type:i._type,..."value"in i&&"object"==typeof i.value?i.value:{}});break}}if(2===r.length){if(!f4(e,a))break;if(f9(i)){a.children.splice(o,0,i);break}"__inline"in i&&a.children.splice(o,0,{_key:i._key,_type:i._type,..."value"in i&&"object"==typeof i.value?i.value:{}})}break}case"insert_text":{let{path:r,offset:i,text:a}=n;if(0===a.length)break;let o=hn(e,t,r);if(!o)break;let l=o.text.slice(0,i),s=o.text.slice(i);o.text=l+a+s;break}case"merge_node":{let{path:r}=n,i=ht(e,t,r),a=ht(e,t,rT.previous(r)),o=hr(e,t,r);if(!i||!a||!o)break;let l=r[r.length-1];if(f9(i)&&f9(a))a.text+=i.text;else if(f4(e,i)&&f4(e,a))a.children.push(...i.children);else break;o.children.splice(l,1);break}case"move_node":{let{path:r,newPath:i}=n;if(rT.isAncestor(r,i))break;let a=ht(e,t,r),o=hr(e,t,r),l=r[r.length-1];if(!a||!o)break;o.children.splice(l,1);let s=rT.transform(r,n),c=ht(e,t,rT.parent(s)),u=s[s.length-1];if(!c||!("children"in c)||!Array.isArray(c.children))break;c.children.splice(u,0,a);break}case"remove_node":{let{path:i}=n,a=i[i.length-1];null==(r=hr(e,t,i))||r.children.splice(a,1);break}case"remove_text":{let{path:r,offset:i,text:a}=n;if(0===a.length)break;let o=hn(e,t,r);if(!o)break;let l=o.text.slice(0,i),s=o.text.slice(i+a.length);o.text=l+s;break}case"set_node":{let{path:r,properties:i,newProperties:a}=n,o=ht(e,t,r);if(!o||f8(o))break;if(!f8(o)&&!f4(e,o)&&!f6(e,o)&&!f9(o)){let e="value"in i&&"object"==typeof i.value?i.value:{},t="value"in a&&"object"==typeof a.value?a.value:{};for(let e in a){if("value"===e)continue;let t=a[e];null==t?delete o[e]:o[e]=t}for(let e in i)"value"!==e&&(a.hasOwnProperty(e)||delete o[e]);for(let e in t){let n=t[e];null==n?delete o[e]:o[e]=n}for(let n in e)t.hasOwnProperty(n)||delete o[n];break}if(f4(e,o)){for(let e in a){if("children"===e||"text"===e)break;let t=a[e];null==t?delete o[e]:o[e]=t}for(let e in i)a.hasOwnProperty(e)||delete o[e];break}if(f9(o)){for(let e in a){if("text"===e)break;let t=a[e];null==t?delete o[e]:o[e]=t}for(let e in i)a.hasOwnProperty(e)||delete o[e]}break}case"split_node":{let{path:r,position:i,properties:a}=n;if(0===r.length)break;let o=hr(e,t,r),l=r[r.length-1];if(!o)break;if(f8(o)){let n=he(t,r);if(!n||!f4(e,n))break;let s=n.children.slice(0,i),c=n.children.slice(i);n.children=s;let u={...a,children:c,_type:e.schema.block.name};o.children.splice(l+1,0,u);break}if(f4(e,o)){let n=ht(e,t,r);if(!n||!f6(e,n))break;let s=n.text.slice(0,i),c=n.text.slice(i);n.text=s;let u={...a,text:c};o.children.splice(l+1,0,u)}}}}(e,r,n)}catch(e){console.error(e)}return ry(r).children}(e,t.value,r),"insert_text"===r.type||"remove_text"===r.type))return void n(r);pK({schema:e.schema,value:t.value},{blockIndexMap:t.blockIndexMap,listIndexMap:t.listIndexMap}),n(r)},t}(l.getSnapshot().context,function(e){let{editor:t,editorActor:n}=e,{onChange:r}=t;return t.onChange=()=>{r(),n.getSnapshot().matches({setup:"setting up"})||(()=>{if(t.selection){let e=d6.get(t.selection);if(e)n.send({type:"update selection",selection:e});else{let e=d1({schema:n.getSnapshot().context.schema,editor:t,range:t.selection});d6.set(t.selection,e),n.send({type:"update selection",selection:e})}}else n.send({type:"update selection",selection:null})})()},t}({editorActor:l,editor:e})))))))))))})(sl(t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{for(var n of rQ.pathRefs(e))rv.transform(n,t);for(var r of rQ.pointRefs(e))rb.transform(r,t);for(var i of rQ.rangeRefs(e))rx.transform(i,t);if(!iP.get(e)&&1){var a=rT.operationCanTransformPath(t)?e=>rT.transform(e,t):void 0;iM(e,e.getDirtyPaths(t),a)}iO.transform(e,t),e.operations.push(t),rQ.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),rw.get(e)||(rw.set(e,!0),Promise.resolve().then(()=>{rw.set(e,!1),e.onChange({operation:t}),e.operations=[]}))})(t,...n)},addMark:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>{var{selection:r}=e;if(r){var i=(t,n)=>{if(!ie.isText(t))return!1;var[r,i]=rQ.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},a=rH.isExpanded(r),o=!1;if(!a){var[l,s]=rQ.node(e,r);if(l&&i(l,s)){var[c]=rQ.parent(e,s);o=c&&e.markableVoid(c)}}if(a||o)iO.setNodes(e,{[t]:n},{match:i,split:!0,voids:!0});else{var u=iB(iB({},rQ.marks(e)||{}),{},{[t]:n});e.marks=u,rw.get(e)||e.onChange()}}})(t,...n)},deleteBackward:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var{selection:n}=e;n&&rH.isCollapsed(n)&&iO.delete(e,{unit:t,reverse:!0})})(t,...n)},deleteForward:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var{selection:n}=e;n&&rH.isCollapsed(n)&&iO.delete(e,{unit:t})})(t,...n)},deleteFragment:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iq(t,...n)},getFragment:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{var{selection:t}=e;return t?rG.fragment(e,t):[]})(t,...n)},insertBreak:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{iO.splitNodes(e,{always:!0})})(t,...n)},insertSoftBreak:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{iO.splitNodes(e,{always:!0})})(t,...n)},insertFragment:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return al(t,...n)},insertNode:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>{iO.insertNodes(e,t,n)})(t,...n)},insertText:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iJ(t,...n)},normalizeNode:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>{var[r,i]=t;if(!ie.isText(r)){if(rW.isElement(r)&&0===r.children.length)return void iO.insertNodes(e,{text:""},{at:i.concat(0),voids:!0});for(var a=!rQ.isEditor(r)&&rW.isElement(r)&&(e.isInline(r)||0===r.children.length||ie.isText(r.children[0])||e.isInline(r.children[0])),o=0,l=0;l<r.children.length;l++,o++){var s=rG.get(e,i);if(!ie.isText(s)){var c=s.children[o],u=s.children[o-1],d=l===r.children.length-1,p=ie.isText(c)||rW.isElement(c)&&e.isInline(c);if(p!==a)p?null!=n&&n.fallbackElement?iO.wrapNodes(e,n.fallbackElement(),{at:i.concat(o),voids:!0}):iO.removeNodes(e,{at:i.concat(o),voids:!0}):iO.unwrapNodes(e,{at:i.concat(o),voids:!0}),o--;else if(rW.isElement(c)){if(e.isInline(c))if(null!=u&&ie.isText(u)){if(d){var f={text:""};iO.insertNodes(e,f,{at:i.concat(o+1),voids:!0}),o++}}else{var h={text:""};iO.insertNodes(e,h,{at:i.concat(o),voids:!0}),o++}}else ie.isText(c)||"children"in c||(c.children=[]),null!=u&&ie.isText(u)&&(ie.equals(c,u,{loose:!0})?(iO.mergeNodes(e,{at:i.concat(o),voids:!0}),o--):""===u.text?(iO.removeNodes(e,{at:i.concat(o-1),voids:!0}),o--):""===c.text&&(iO.removeNodes(e,{at:i.concat(o),voids:!0}),o--))}}}})(t,...n)},removeMark:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var{selection:n}=e;if(n){var r=(t,n)=>{if(!ie.isText(t))return!1;var[r,i]=rQ.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},i=rH.isExpanded(n),a=!1;if(!i){var[o,l]=rQ.node(e,n);if(o&&r(o,l)){var[s]=rQ.parent(e,l);a=s&&e.markableVoid(s)}}if(i||a)iO.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach(function(t){rI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},rQ.marks(e)||{});delete c[t],e.marks=c,rw.get(e)||e.onChange()}}})(t,...n)},getDirtyPaths:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return((e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":var{path:n}=t;return rT.levels(n);case"insert_node":var{node:r,path:i}=t;return[...rT.levels(i),...ie.isText(r)?[]:Array.from(rG.nodes(r),e=>{var[,t]=e;return i.concat(t)})];case"merge_node":var{path:a}=t;return[...rT.ancestors(a),rT.previous(a)];case"move_node":var{path:o,newPath:l}=t;if(rT.equals(o,l))return[];var s=[],c=[];for(var u of rT.ancestors(o)){var d=rT.transform(u,t);s.push(d)}for(var p of rT.ancestors(l)){var f=rT.transform(p,t);c.push(f)}var h=c[c.length-1],m=l[l.length-1];return[...s,...c,h.concat(m)];case"remove_node":var{path:g}=t;return[...rT.ancestors(g)];case"split_node":var{path:y}=t;return[...rT.levels(y),rT.next(y)];default:return[]}})(0,...t)},shouldNormalize:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return((e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,i=42*r;if(n>i)throw Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0})(0,...t)},above:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iF(t,...n)},after:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iz(t,...n)},before:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iH(t,...n)},collapse:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return as(t,...n)},delete:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ao(t,...n)},deselect:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})})(t,...n)},edges:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>[rQ.start(e,t),rQ.end(e,t)])(t,...n)},elementReadOnly:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iK(t,...n)},end:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>rQ.point(e,t,{edge:"end"}))(t,...n)},first:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var n=rQ.path(e,t,{edge:"start"});return rQ.node(e,n)})(t,...n)},fragment:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var n=rQ.range(e,t);return rG.fragment(e,n)})(t,...n)},getMarks:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i0(t,...n)},hasBlocks:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>t.children.some(t=>rW.isElement(t)&&rQ.isBlock(e,t)))(t,...n)},hasInlines:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>t.children.some(t=>ie.isText(t)||rQ.isInline(e,t)))(t,...n)},hasPath:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>rG.has(e,t))(t,...n)},hasTexts:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return((e,t)=>t.children.every(e=>ie.isText(e)))(0,...t)},insertNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ah(t,...n)},isBlock:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>!e.isInline(t))(t,...n)},isEdge:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>rQ.isStart(e,t,n)||rQ.isEnd(e,t,n))(t,...n)},isEmpty:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&ie.isText(r)&&""===r.text&&!e.isVoid(t)})(t,...n)},isEnd:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>{var r=rQ.end(e,n);return r5.equals(t,r)})(t,...n)},isNormalizing:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{var t=r_.get(e);return void 0===t||t})(t,...n)},isStart:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>{if(0!==t.offset)return!1;var r=rQ.start(e,n);return r5.equals(t,r)})(t,...n)},last:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var n=rQ.path(e,t,{edge:"end"});return rQ.node(e,n)})(t,...n)},leaf:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iQ(t,...n)},levels:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:a}=t;if(null==a&&(a=()=>!0),n){var o=[],l=rQ.path(e,n);for(var[s,c]of rG.levels(e,l))if(a(s,c)&&(o.push([s,c]),!i&&rW.isElement(s)&&rQ.isVoid(e,s)))break;r&&o.reverse(),yield*o}}()}(t,...n)},liftNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return am(t,...n)},mergeNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ab(t,...n)},move:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ac(t,...n)},moveNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{rQ.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:a=!1}=t,{match:o}=t;if(r){null==o&&(o=rT.isPath(r)?ir(e,r):t=>rW.isElement(t)&&rQ.isBlock(e,t));var l=rQ.pathRef(e,n);for(var s of Array.from(rQ.nodes(e,{at:r,match:o,mode:i,voids:a}),t=>{var[,n]=t;return rQ.pathRef(e,n)})){var c=s.unref(),u=l.current;0!==c.length&&e.apply({type:"move_node",path:c,newPath:u}),l.current&&rT.isSibling(u,c)&&rT.isAfter(u,c)&&(l.current=rT.next(l.current))}l.unref()}})})(t,...n)},next:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i5(t,...n)},node:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i7(t,...n)},nodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var n,r,i,{at:a=e.selection,mode:o="all",universal:l=!1,reverse:s=!1,voids:c=!1,pass:u}=t,{match:d}=t;if(d||(d=()=>!0),a){if(r1.isSpan(a))n=a[0],r=a[1];else{var p=rQ.path(e,a,{edge:"start"}),f=rQ.path(e,a,{edge:"end"});n=s?f:p,r=s?p:f}var h=rG.nodes(e,{reverse:s,from:n,to:r,pass:t=>{var[n,r]=t;return!!(u&&u([n,r]))||!!rW.isElement(n)&&!!(!c&&(rQ.isVoid(e,n)||rQ.isElementReadOnly(e,n)))}}),m=[];for(var[g,y]of h){var v=i&&0===rT.compare(y,i[1]);if("highest"!==o||!v){if(!d(g,y))if(l&&!v&&ie.isText(g))return;else continue;if("lowest"===o&&v){i=[g,y];continue}var b="lowest"===o?i:[g,y];b&&(l?m.push(b):yield b),i=[g,y]}}"lowest"===o&&i&&(l?m.push(i):yield i),l&&(yield*m)}}()}(t,...n)},normalize:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i3(t,...n)},parent:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i8(t,...n)},path:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i6(t,...n)},pathRef:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i4(t,...n)},pathRefs:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{var t=rj.get(e);return t||(t=new Set,rj.set(e,t)),t})(t,...n)},point:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ae(t,...n)},pointRef:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return i9(t,...n)},pointRefs:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{var t=rS.get(e);return t||(t=new Set,rS.set(e,t)),t})(t,...n)},positions:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:a=!1}=t;if(n){var o=rQ.range(e,n),[l,s]=rH.edges(o),c=i?s:l,u=!1,d="",p=0,f=0,h=0,m=[],g=function*(t){var n=m.some(e=>rT.isAncestor(e,t));function*o(e){n||(yield e)}if(rW.isElement(y)){if(!e.isSelectable(y)){if(m.push(t),i)return rT.hasPrevious(t)&&(yield*o(rQ.end(e,rT.previous(t)))),0;var g=rT.next(t);return rQ.hasPath(e,g)&&(yield*o(rQ.start(e,g))),0}if(!a&&(e.isVoid(y)||e.isElementReadOnly(y)))return yield*o(rQ.start(e,t)),0;if(e.isInline(y))return 0;if(rQ.hasInlines(e,y)){var v=rT.isAncestor(t,s.path)?s:rQ.end(e,t),b=rT.isAncestor(t,l.path)?l:rQ.start(e,t);d=rQ.string(e,{anchor:b,focus:v},{voids:a}),u=!0}}if(ie.isText(y)){var x,C,k,w=rT.equals(t,c.path);for(w?(f=i?c.offset:y.text.length-c.offset,h=c.offset):(f=y.text.length,h=i?f:0),(w||u||"offset"===r)&&(yield*o({path:t,offset:h}),u=!1);;){if(0===p){if(""===d)break;x=d,C=r,k=i,p="character"===C?ii(x,k):"word"===C?is(x,k):"line"===C||"block"===C?x.length:1,d=ic(d,p,i)[1]}if(h=i?h-p:h+p,(f-=p)<0){p=-f;break}p=0,yield*o({path:t,offset:h})}}};for(var[y,v]of rQ.nodes(e,{at:n,reverse:i,voids:a}))if(0===(yield*g(v)))continue}}()}(t,...n)},previous:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return at(t,...n)},range:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>rH.isRange(t)&&!n?t:{anchor:rQ.start(e,t),focus:rQ.end(e,n||t)})(t,...n)},rangeRef:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return an(t,...n)},rangeRefs:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(e=>{var t=rE.get(e);return t||(t=new Set,rE.set(e,t)),t})(t,...n)},removeNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ax(t,...n)},select:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var{selection:n}=e;if(t=rQ.range(e,t),n)return void iO.setSelection(e,t);if(!rH.isRange(t))throw Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(r3.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})})(t,...n)},setNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return aC(t,...n)},setNormalizing:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{r_.set(e,t)})(t,...n)},setPoint:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ap(t,...n)},setSelection:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return af(t,...n)},splitNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ak(t,...n)},start:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>rQ.point(e,t,{edge:"start"}))(t,...n)},string:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(t,...n)},unhangRange:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return aa(t,...n)},unsetNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return aw(t,...n)},unwrapNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return a_(t,...n)},void:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return iZ(t,...n)},withoutNormalizing:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t)=>{var n=rQ.isNormalizing(e);rQ.setNormalizing(e,!1);try{t()}finally{rQ.setNormalizing(e,n)}rQ.normalize(e)})(t,...n)},wrapNodes:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return aE(t,...n)},shouldMergeNodesRemovePrevNode:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return((e,t,n)=>{var[r,i]=t;return rW.isElement(r)&&rQ.isEmpty(e,r)||ie.isText(r)&&""===r.text&&0!==i[i.length-1]})(t,...n)}}),{editorActor:e.editorActor,relayActor:e.relayActor,subscriptions:e.subscriptions});d4.set(n,{}),d8.set(n,{}),n.decoratedRanges=[],n.decoratorState={},n.value=[pG(e.editorActor.getSnapshot().context)],n.blockIndexMap=new Map,n.listIndexMap=new Map,pK({schema:e.editorActor.getSnapshot().context.schema,value:n.value},{blockIndexMap:n.blockIndexMap,listIndexMap:n.listIndexMap});let r=dq(n.value,{schemaTypes:e.editorActor.getSnapshot().context.schema});return{instance:n,initialValue:r}}({editorActor:n,relayActor:r,subscriptions:t}),a=function(e,t){let n=t.getSnapshot().context.schema;return{focus:()=>{t.send({type:"focus",editor:e})},blur:()=>{t.send({type:"blur",editor:e})},toggleMark:n=>{t.send({type:"behavior event",behaviorEvent:{type:"decorator.toggle",decorator:n},editor:e})},toggleList:n=>{t.send({type:"behavior event",behaviorEvent:{type:"list item.toggle",listItem:n},editor:e})},toggleBlockStyle:n=>{t.send({type:"behavior event",behaviorEvent:{type:"style.toggle",style:n},editor:e})},isMarkActive:n=>s5(pf({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e})).includes(n),marks:()=>{let n=pf({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e});return[...s2(n),...s5(n)]},undo:()=>{t.send({type:"behavior event",behaviorEvent:{type:"history.undo"},editor:e})},redo:()=>{t.send({type:"behavior event",behaviorEvent:{type:"history.redo"},editor:e})},select:n=>{let r=d5({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:n},blockIndexMap:e.blockIndexMap});r?iO.select(e,r):iO.deselect(e),e.onChange()},focusBlock:()=>{if(e.selection){let t=rG.descendant(e,e.selection.focus.path.slice(0,1));if(t)return dW([t],n.block.name,d4.get(e))[0]}},focusChild:()=>{if(e.selection){let t=rG.descendant(e,e.selection.focus.path.slice(0,1));if(t&&e.isTextBlock(t))return dW([t],n.block.name,d4.get(e))[0].children[e.selection.focus.path[1]]}},insertChild:(r,i)=>{var a,o,l,s;if(r.name!==n.span.name)return t.send({type:"behavior event",behaviorEvent:{type:"insert.inline object",inlineObject:{name:r.name,value:i}},editor:e}),e.selection&&null!=(l=null==(a=d1({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}))?void 0:a.focus.path)?l:[];if(!e.selection)throw Error("The editor has no selection");let[c]=Array.from(rQ.nodes(e,{at:e.selection.focus.path.slice(0,1),match:e=>e._type===n.block.name}))[0]||[void 0];if(!c)throw Error("No focused text block");if(r.name!==n.span.name&&!n.inlineObjects.some(e=>e.name===r.name))throw Error("This type cannot be inserted as a child to a text block");let u=dq([{_key:t.getSnapshot().context.keyGenerator(),_type:n.block.name,children:[{_key:t.getSnapshot().context.keyGenerator(),_type:r.name,...i||{}}]}],{schemaTypes:t.getSnapshot().context.schema})[0].children[0],d=e.selection.focus.path.slice(0,2),p=u._type===n.span.name,f=rG.get(e,d);return p&&f._type!==n.span.name&&(hI("Inserting span child next to inline object child, moving selection + 1"),e.move({distance:1,unit:"character"})),iO.insertNodes(e,u,{select:!0,at:e.selection}),e.onChange(),e.selection&&null!=(s=null==(o=d1({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}))?void 0:o.focus.path)?s:[]},insertBlock:(n,r)=>{var i,a;return t.send({type:"behavior event",behaviorEvent:{type:"insert.block",block:{_type:n.name,...r||{}},placement:"auto"},editor:e}),e.selection&&null!=(a=null==(i=d1({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}))?void 0:i.focus.path)?a:[]},hasBlockStyle:t=>{try{return function(e){let{editor:t,style:n}=e;if(!t.selection)return!1;let r=[...rQ.nodes(t,{at:t.selection,match:e=>t.isTextBlock(e)})];return r.length>0&&r.every(e=>{let[t]=e;return t.style===n})}({editor:e,style:t})}catch(e){return!1}},hasListStyle:t=>{try{return function(e){let{editor:t,listItem:n}=e;if(!t.selection)return!1;let r=[...rQ.nodes(t,{at:t.selection,match:e=>t.isTextBlock(e)})];return r.length>0&&r.every(e=>{let[r]=e;return t.isListBlock(r)&&r.listItem===n})}({editor:e,listItem:t})}catch(e){return!1}},isVoid:e=>![n.block.name,n.span.name].includes(e._type),findByPath:r=>{let i=d5({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:{focus:{path:r,offset:0},anchor:{path:r,offset:0}}},blockIndexMap:e.blockIndexMap});if(i){let[t,a]=rQ.node(e,i.focus.path.slice(0,1));if(t&&a&&"string"==typeof t._key){if(1===r.length&&1===i.focus.path.length)return[dW([t],n.block.name)[0],[{_key:t._key}]];let a=dW([t],n.block.name,d4.get(e))[0];if(e.isTextBlock(a)){let e=a.children[i.focus.path[1]];if(e)return[e,[{_key:t._key},"children",{_key:e._key}]]}}}return[void 0,void 0]},findDOMNode:t=>{let n;try{let[r]=Array.from(rQ.nodes(e,{at:[],match:e=>e._key===t._key})||[])[0]||[void 0];n=oA.toDOMNode(e,r)}catch(e){}return n},activeAnnotations:()=>{if(!e.selection||e.selection.focus.path.length<2)return[];try{let n=[];for(let[r,i]of rQ.nodes(e,{at:e.selection,match:e=>ie.isText(e)&&void 0!==e.marks&&Array.isArray(e.marks)&&e.marks.length>0})){var t;let[a]=rQ.node(e,i,{depth:1});e.isTextBlock(a)&&(null==(t=a.markDefs)||t.forEach(e=>{ie.isText(r)&&r.marks&&Array.isArray(r.marks)&&r.marks.includes(e._key)&&n.push(e)}))}return n}catch(e){return[]}},isAnnotationActive:n=>{let r=pf({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e});return s0(n)(r)},addAnnotation:(n,r)=>{var i;let a=pf({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e}),o=sN(a),l=sF(a),s=o.flatMap(e=>{var t;return sc(a.context,e)&&null!=(t=e.markDefs)?t:[]});t.send({type:"behavior event",behaviorEvent:{type:"annotation.add",annotation:{name:n.name,value:null!=r?r:{}}},editor:e});let c=pf({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e}),u=sN(c),d=sO(c),p=sF(c),f=null==p||null==(i=p.node.marks)?void 0:i.filter(e=>{var t;return!(null==l||null==(t=l.node.marks)?void 0:t.includes(e))&&!c.context.schema.decorators.map(e=>e.name).includes(e)}),h=u.flatMap(e=>{var t,n;return sc(c.context,e)&&null!=(n=null==(t=e.markDefs)?void 0:t.map(t=>({markDef:t,path:[{_key:e._key},"markDefs",{_key:t._key}]})))?n:[]}).filter(e=>!s.some(t=>t._key===e.markDef._key)),m=null==p?void 0:p.path,g=h.find(e=>null==f?void 0:f.some(t=>t===e.markDef._key));if(d&&m&&g)return{markDefPath:g.path,markDefPaths:h.map(e=>e.path),spanPath:m}},delete:(r,i)=>{if(r){let a=d5({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:r},blockIndexMap:e.blockIndexMap});if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw Error("Invalid range");if(a){if(!(null==i?void 0:i.mode)||(null==i?void 0:i.mode)==="selected"){hI("Deleting content in selection"),iO.delete(e,{at:a,hanging:!0,voids:!0}),e.onChange();return}if((null==i?void 0:i.mode)==="blocks"&&(hI("Deleting blocks touched by selection"),iO.removeNodes(e,{at:a,voids:!0,match:t=>e.isTextBlock(t)||!e.isTextBlock(t)&&rW.isElement(t)})),(null==i?void 0:i.mode)==="children"&&(hI("Deleting children touched by selection"),iO.removeNodes(e,{at:a,voids:!0,match:t=>t._type===n.span.name||!e.isTextBlock(t)&&rW.isElement(t)})),0===e.children.length){let n=pG(t.getSnapshot().context);e.children=[n],e.value=[n],pK({schema:t.getSnapshot().context.schema,value:e.value},{blockIndexMap:e.blockIndexMap,listIndexMap:e.listIndexMap})}e.onChange()}}},removeAnnotation:n=>{t.send({type:"behavior event",behaviorEvent:{type:"annotation.remove",annotation:{name:n.name}},editor:e})},getSelection:()=>{let n=null;if(e.selection){let r=d6.get(e.selection);if(r)return r;n=d1({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}),d6.set(e.selection,n)}return n},getValue:()=>dW(e.children,n.block.name,d4.get(e)),isCollapsedSelection:()=>!!e.selection&&rH.isCollapsed(e.selection),isExpandedSelection:()=>!!e.selection&&rH.isExpanded(e.selection),insertBreak:()=>{e.insertBreak(),e.onChange()},getFragment:()=>dW(e.getFragment(),n.block.name),isSelectionsOverlapping:(n,r)=>{let i=d5({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:n},blockIndexMap:e.blockIndexMap}),a=d5({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:r},blockIndexMap:e.blockIndexMap});return rH.isRange(i)&&rH.isRange(a)&&rH.includes(i,a)}}}(i.instance,n),{mutationActor:o,syncActor:l}=function(e){hz("Creating new Actors");let t=(0,cm.createActor)(hD,{input:{readOnly:e.editorActor.getSnapshot().matches({"edit mode":"read only"}),schema:e.editorActor.getSnapshot().context.schema,slateEditor:e.slateEditor}}),n=(0,cm.createActor)(hF,{input:{initialValue:e.editorActor.getSnapshot().context.initialValue,keyGenerator:e.editorActor.getSnapshot().context.keyGenerator,readOnly:e.editorActor.getSnapshot().matches({"edit mode":"read only"}),schema:e.editorActor.getSnapshot().context.schema,slateEditor:e.slateEditor}});return e.subscriptions.push(()=>{let r=t.on("*",t=>{"has pending mutations"===t.type&&n.send({type:"has pending mutations"}),"mutation"===t.type&&(n.send({type:"mutation"}),e.editorActor.send({type:"mutation",patches:t.patches,snapshot:t.snapshot,value:t.snapshot})),"patch"===t.type&&e.relayActor.send(t)});return()=>{r.unsubscribe()}}),e.subscriptions.push(()=>{let t=n.on("*",t=>{switch(t.type){case"invalid value":case"value changed":e.relayActor.send(t);break;case"patch":e.editorActor.send({...t,type:"internal.patch",value:dW(e.slateEditor.children,e.editorActor.getSnapshot().context.schema.block.name,d4.get(e.slateEditor))});break;default:e.editorActor.send(t)}});return()=>{t.unsubscribe()}}),e.subscriptions.push(()=>{let r=e.editorActor.subscribe(e=>{e.matches({"edit mode":"read only"})?(t.send({type:"update readOnly",readOnly:!0}),n.send({type:"update readOnly",readOnly:!0})):(t.send({type:"update readOnly",readOnly:!1}),n.send({type:"update readOnly",readOnly:!1}))});return()=>{r.unsubscribe()}}),e.subscriptions.push(()=>{let n=e.editorActor.on("*",n=>{switch(n.type){case"editable":case"mutation":case"ready":case"read only":case"selection":e.relayActor.send(n);break;case"internal.patch":t.send({...n,type:"patch"})}});return()=>{n.unsubscribe()}}),{mutationActor:t,syncActor:n}}({editorActor:n,relayActor:r,slateEditor:i.instance,subscriptions:t}),s={dom:ha(e=>n.send(e),i.instance),getSnapshot:()=>pf({editorActorSnapshot:n.getSnapshot(),slateEditorInstance:i.instance}),registerBehavior:e=>{let t=pi({name:"custom",reference:{priority:pa,importance:"higher"}}),r={...e,priority:t};return n.send({type:"add behavior",behaviorConfig:r}),()=>{n.send({type:"remove behavior",behaviorConfig:r})}},send:e=>{switch(e.type){case"update value":l.send(e);break;case"update readOnly":case"patches":case"update maxBlocks":n.send(e);break;default:n.send(hS({event:e,slateEditor:i.instance}))}},on:(e,t)=>r.on(e,e=>{switch(e.type){case"blurred":case"done loading":case"editable":case"focused":case"invalid value":case"loading":case"mutation":case"patch":case"read only":case"ready":case"selection":case"value changed":t(e)}}),_internal:{editable:a,editorActor:n,slateEditor:i}};return{actors:{editorActor:n,mutationActor:o,relayActor:r,syncActor:l},editor:s,subscriptions:t}}function hU(e){switch(e.type){case"blurred":return{type:"blur",event:e.event};case"patch":case"mutation":case"ready":case"selection":case"unset":return e;case"loading":return{type:"loading",isLoading:!0};case"done loading":return{type:"loading",isLoading:!1};case"focused":return{type:"focus",event:e.event};case"value changed":return{type:"value",value:e.value};case"invalid value":return{type:"invalidValue",resolution:e.resolution,value:e.value}}}let hH=dV("component:PortableTextEditor");class hq extends nR.Component{componentDidMount(){if(!this.actors)return;for(let e of this.subscriptions)this.unsubscribers.push(e());let e=this.actors.relayActor.on("*",e=>{let t=hU(e);t&&(this.props.editor||this.props.onChange(t),this.change$.next(t))});this.unsubscribers.push(e.unsubscribe),this.actors.editorActor.start(),this.actors.mutationActor.start(),this.actors.relayActor.start(),this.actors.syncActor.start()}componentDidUpdate(e){var t;this.props.editor||e.editor||this.props.schemaType===e.schemaType||console.warn("Updating schema type is no longer supported"),this.props.editor||e.editor||(this.props.readOnly!==e.readOnly&&this.editor._internal.editorActor.send({type:"update readOnly",readOnly:null!=(t=this.props.readOnly)&&t}),this.props.maxBlocks!==e.maxBlocks&&this.editor._internal.editorActor.send({type:"update maxBlocks",maxBlocks:void 0===this.props.maxBlocks?void 0:Number.parseInt(this.props.maxBlocks.toString(),10)}),this.props.value!==e.value&&this.editor.send({type:"update value",value:this.props.value}),this.props.editorRef!==e.editorRef&&this.props.editorRef&&(this.props.editorRef.current=this))}componentWillUnmount(){for(let e of this.unsubscribers)e();this.actors&&(pU(this.actors.editorActor),pU(this.actors.mutationActor),pU(this.actors.relayActor),pU(this.actors.syncActor))}render(){var e;let t=this.props.editor?void 0:null!=(e=this.props.incomingPatches$)?e:this.props.patches$;return(0,_.jsxs)(_.Fragment,{children:[t?(0,_.jsx)(hW,{editorActor:this.editor._internal.editorActor,patches$:t}):null,(0,_.jsx)(d9.Provider,{value:this.editor._internal.editorActor,children:(0,_.jsx)(pP.Provider,{value:this.actors.relayActor,children:(0,_.jsx)(sa,{editor:this.editor._internal.slateEditor.instance,initialValue:this.editor._internal.slateEditor.initialValue,children:(0,_.jsx)(pC.Provider,{value:this,children:this.props.children})})})})]})}constructor(e){if(super(e),(0,k._)(this,"change$",new ea.Subject),(0,k._)(this,"subscriptions",[]),(0,k._)(this,"unsubscribers",[]),(0,k._)(this,"setEditable",e=>{this.editor._internal.editable={...this.editor._internal.editable,...e}}),e.editor)this.editor=e.editor,this.schemaTypes=this.editor._internal.editorActor.getSnapshot().context.getLegacySchema();else{let{actors:t,editor:n,subscriptions:r}=hV({initialValue:e.value,keyGenerator:e.keyGenerator,maxBlocks:void 0===e.maxBlocks?void 0:Number.parseInt(e.maxBlocks.toString(),10),readOnly:e.readOnly,schema:e.schemaType});this.subscriptions=r,this.actors=t,this.editor=n,this.schemaTypes=t.editorActor.getSnapshot().context.getLegacySchema()}this.editable=this.editor._internal.editable}}function hW(e){let t,n,r=(0,j.c)(4);return r[0]!==e.editorActor||r[1]!==e.patches$?(t=()=>{let t=e.patches$.subscribe(t=>{e.editorActor.send({type:"patches",...t})});return()=>{t.unsubscribe()}},n=[e.editorActor,e.patches$],r[0]=e.editorActor,r[1]=e.patches$,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,nR.useEffect)(t,n),null}function hY(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(28);c[0]!==e.initialConfig?(t=()=>{let t=hV(e.initialConfig),n=new hq({editor:t.editor});return{internalEditor:t,portableTextEditor:n}},c[0]=e.initialConfig,c[1]=t):t=c[1];let[u]=(0,nR.useState)(t),{internalEditor:d,portableTextEditor:p}=u;return c[2]!==d.actors.editorActor||c[3]!==d.actors.mutationActor||c[4]!==d.actors.relayActor||c[5]!==d.actors.syncActor||c[6]!==d.subscriptions||c[7]!==p?(n=()=>{let e=[];for(let t of d.subscriptions)e.push(t());let t=d.actors.relayActor.on("*",e=>{let t=hU(e);t&&p.change$.next(t)});return e.push(t.unsubscribe),d.actors.editorActor.start(),d.actors.mutationActor.start(),d.actors.relayActor.start(),d.actors.syncActor.start(),()=>{for(let t of e)t();pU(d.actors.editorActor),pU(d.actors.mutationActor),pU(d.actors.relayActor),pU(d.actors.syncActor)}},c[2]=d.actors.editorActor,c[3]=d.actors.mutationActor,c[4]=d.actors.relayActor,c[5]=d.actors.syncActor,c[6]=d.subscriptions,c[7]=p,c[8]=n):n=c[8],c[9]!==d||c[10]!==p?(r=[d,p],c[9]=d,c[10]=p,c[11]=r):r=c[11],(0,nR.useEffect)(n,r),c[12]!==p||c[13]!==e.children?(i=(0,_.jsx)(pC.Provider,{value:p,children:e.children}),c[12]=p,c[13]=e.children,c[14]=i):i=c[14],c[15]!==d.editor._internal.slateEditor.initialValue||c[16]!==d.editor._internal.slateEditor.instance||c[17]!==i?(a=(0,_.jsx)(sa,{editor:d.editor._internal.slateEditor.instance,initialValue:d.editor._internal.slateEditor.initialValue,children:i}),c[15]=d.editor._internal.slateEditor.initialValue,c[16]=d.editor._internal.slateEditor.instance,c[17]=i,c[18]=a):a=c[18],c[19]!==d.actors.relayActor||c[20]!==a?(o=(0,_.jsx)(pP.Provider,{value:d.actors.relayActor,children:a}),c[19]=d.actors.relayActor,c[20]=a,c[21]=o):o=c[21],c[22]!==d.actors.editorActor||c[23]!==o?(l=(0,_.jsx)(d9.Provider,{value:d.actors.editorActor,children:o}),c[22]=d.actors.editorActor,c[23]=o,c[24]=l):l=c[24],c[25]!==d.editor||c[26]!==l?(s=(0,_.jsx)(nB.EditorContext.Provider,{value:d.editor,children:l}),c[25]=d.editor,c[26]=l,c[27]=s):s=c[27],s}(0,k._)(hq,"displayName","PortableTextEditor"),(0,k._)(hq,"activeAnnotations",e=>e&&e.editable?e.editable.activeAnnotations():[]),(0,k._)(hq,"isAnnotationActive",(e,t)=>!!e&&!!e.editable&&e.editable.isAnnotationActive(t)),(0,k._)(hq,"addAnnotation",(e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.addAnnotation(t,n)}),(0,k._)(hq,"blur",e=>{var t;hH("Host blurred"),null==(t=e.editable)||t.blur()}),(0,k._)(hq,"delete",(e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.delete(t,n)}),(0,k._)(hq,"findDOMNode",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.findDOMNode(t)}),(0,k._)(hq,"findByPath",(e,t)=>{var n;return(null==(n=e.editable)?void 0:n.findByPath(t))||[]}),(0,k._)(hq,"focus",e=>{var t;hH("Host requesting focus"),null==(t=e.editable)||t.focus()}),(0,k._)(hq,"focusBlock",e=>{var t;return null==(t=e.editable)?void 0:t.focusBlock()}),(0,k._)(hq,"focusChild",e=>{var t;return null==(t=e.editable)?void 0:t.focusChild()}),(0,k._)(hq,"getSelection",e=>e.editable?e.editable.getSelection():null),(0,k._)(hq,"getValue",e=>{var t;return null==(t=e.editable)?void 0:t.getValue()}),(0,k._)(hq,"hasBlockStyle",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.hasBlockStyle(t)}),(0,k._)(hq,"hasListStyle",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.hasListStyle(t)}),(0,k._)(hq,"isCollapsedSelection",e=>{var t;return null==(t=e.editable)?void 0:t.isCollapsedSelection()}),(0,k._)(hq,"isExpandedSelection",e=>{var t;return null==(t=e.editable)?void 0:t.isExpandedSelection()}),(0,k._)(hq,"isMarkActive",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.isMarkActive(t)}),(0,k._)(hq,"insertChild",(e,t,n)=>{var r;return hH("Host inserting child"),null==(r=e.editable)?void 0:r.insertChild(t,n)}),(0,k._)(hq,"insertBlock",(e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.insertBlock(t,n)}),(0,k._)(hq,"insertBreak",e=>{var t;return null==(t=e.editable)?void 0:t.insertBreak()}),(0,k._)(hq,"isVoid",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.isVoid(t)}),(0,k._)(hq,"isObjectPath",(e,t)=>{if(!t||!Array.isArray(t))return!1;let n=t.length>3&&"children"===t[1];return t.length>1&&"children"!==t[1]||n}),(0,k._)(hq,"marks",e=>{var t;return null==(t=e.editable)?void 0:t.marks()}),(0,k._)(hq,"select",(e,t)=>{var n;hH("Host setting selection",t),null==(n=e.editable)||n.select(t)}),(0,k._)(hq,"removeAnnotation",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.removeAnnotation(t)}),(0,k._)(hq,"toggleBlockStyle",(e,t)=>{var n;return hH("Host is toggling block style"),null==(n=e.editable)?void 0:n.toggleBlockStyle(t)}),(0,k._)(hq,"toggleList",(e,t)=>{var n;return null==(n=e.editable)?void 0:n.toggleList(t)}),(0,k._)(hq,"toggleMark",(e,t)=>{var n;hH("Host toggling mark",t),null==(n=e.editable)||n.toggleMark(t)}),(0,k._)(hq,"getFragment",e=>{var t;return null==(t=e.editable)?void 0:t.getFragment()}),(0,k._)(hq,"undo",e=>{var t;hH("Host undoing"),null==(t=e.editable)||t.undo()}),(0,k._)(hq,"redo",e=>{var t;hH("Host redoing"),null==(t=e.editable)||t.redo()}),(0,k._)(hq,"isSelectionsOverlapping",(e,t,n)=>{var r;return null==(r=e.editable)?void 0:r.isSelectionsOverlapping(t,n)});let hK=()=>{let e,t,n=(0,j.c)(3),r=(0,nR.useContext)(d9),[i,a]=(0,nR.useState)(null);return n[0]!==r?(e=()=>{let e=r.on("selection",e=>{(0,nR.startTransition)(()=>{a(e.selection)})});return()=>{e.unsubscribe()}},t=[r],n[0]=r,n[1]=e,n[2]=t):(e=n[1],t=n[2]),(0,nR.useEffect)(e,t),i},hG=e=>{if(!e.context.selection)return"";let t=sb(e.context.selection),n=sO({...e,context:{...e.context,selection:{anchor:t,focus:t}}});if(!n)return"";let r=sy({context:e.context,block:n});return sL({...e,context:{...e.context,selection:{anchor:r,focus:t}}})};function h$(e){let t,n,r=(0,j.c)(4),i=(0,nB.useEditor)();return r[0]!==i||r[1]!==e.behaviors?(t=()=>{let t=e.behaviors.map(e=>i.registerBehavior({behavior:e}));return()=>{t.forEach(hZ)}},n=[i,e.behaviors],r[0]=i,r[1]=e.behaviors,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),null}function hZ(e){e()}function hX(e){let t,n=(0,j.c)(4),r=(0,nB.useEditor)();return n[0]!==e.decorator||n[1]!==e.pair||n[2]!==r?(t={input:{editor:r,decorator:e.decorator,pair:e.pair}},n[0]=e.decorator,n[1]=e.pair,n[2]=r,n[3]=t):t=n[3],(0,nN.useActorRef)(hJ,t),null}let hJ=(0,cl.setup)({types:{context:{},input:{},events:{}},actors:{"emphasis listener":(0,cs.fromCallback)(e=>{let{sendBack:t,input:n}=e;return n.editor.registerBehavior({behavior:function(e){e.pair.amount<1&&console.warn("The amount of characters in the pair should be greater than 0");let t=function(e,t){let n="(?<!\\".concat(e,")"),r="\\".concat(e).repeat(Math.max(t,1)),i="([^".concat(e,"\\n]+?)"),a="\\".concat(e).repeat(Math.max(t,1)),o="(?!\\".concat(e,")");return"".concat(n).concat(r).concat("(?!\\s)").concat(i).concat("(?<!\\s)").concat(a).concat(o)}(e.pair.char,e.pair.amount),n=new RegExp("(".concat(t,")$"));return{on:"insert.text",guard:t=>{var r;let{snapshot:i,event:a}=t;if(e.pair.amount<1)return!1;let o=e.decorator({schema:i.context.schema});if(void 0===o)return!1;let l=sP(i),s=sR(i),c=s?sg({context:{schema:i.context.schema,value:i.context.value},selectionPoint:s}):void 0;if(!l||!c)return!1;let u="".concat(hG(i)).concat(a.text),d=null==(r=u.match(n))?void 0:r.at(0);if(void 0===d)return!1;let p={anchor:{path:l.path,offset:u.length-d.length},focus:{path:l.path,offset:u.length-d.length+e.pair.char.length*e.pair.amount}},f={anchor:{path:l.path,offset:c.offset+a.text.length-e.pair.char.length*e.pair.amount},focus:{path:l.path,offset:c.offset+a.text.length}};if(p.focus.offset-p.anchor.offset>1){let e=dj({context:i.context,offsets:p}),t=sB({...i,context:{...i.context,selection:e?{anchor:e.focus,focus:e.focus}:null}}),n=t?dS({context:{schema:i.context.schema,value:i.context.value},selectionPoint:{path:t.path,offset:0}}):void 0;if(n&&n.offset>p.anchor.offset&&n.offset<p.focus.offset)return!1}if(f.focus.offset-f.anchor.offset>1){let e=sB(i),t=e?dS({context:{schema:i.context.schema,value:i.context.value},selectionPoint:{path:e.path,offset:0}}):void 0;if(t&&t.offset>f.anchor.offset&&t.offset<f.focus.offset)return!1}return{prefixOffsets:p,suffixOffsets:f,decorator:o}},actions:[e=>{let{event:t}=e;return[cr(t)]},(t,n)=>{let{prefixOffsets:r,suffixOffsets:i,decorator:a}=n;return[cr({type:"decorator.add",decorator:a,at:{anchor:r.focus,focus:i.anchor}}),cr({type:"delete.text",at:i}),cr({type:"delete.text",at:r}),cr({type:"decorator.remove",decorator:a}),co(()=>{e.onDecorate({...i.anchor,offset:i.anchor.offset-(r.focus.offset-r.anchor.offset)})})]}]}}({decorator:n.decorator,pair:n.pair,onDecorate:e=>{t({type:"emphasis.add",blockOffset:e})}})})}),"delete.backward listener":(0,cs.fromCallback)(e=>{let{sendBack:t,input:n}=e;return n.editor.registerBehavior({behavior:{on:"delete.backward",actions:[()=>[cr({type:"history.undo"}),co(()=>{t({type:"delete.backward"})})]]}})}),"selection listener":(0,cs.fromCallback)(e=>{let{sendBack:t,input:n}=e;return n.editor.registerBehavior({behavior:{on:"select",guard:e=>{let{snapshot:t,event:n}=e;if(!n.at)return{blockOffsets:void 0};let r=sg({context:t.context,selectionPoint:n.at.anchor}),i=sg({context:t.context,selectionPoint:n.at.focus});return r&&i?{blockOffsets:{anchor:r,focus:i}}:{blockOffsets:void 0}},actions:[(e,n)=>{let{event:r}=e,{blockOffsets:i}=n;return[{type:"effect",effect:()=>{t({type:"selection",blockOffsets:i})}},ci(r)]}]}})})}}).createMachine({id:"decorator pair",context:e=>{let{input:t}=e;return{decorator:t.decorator,editor:t.editor,pair:t.pair}},initial:"idle",states:{idle:{invoke:[{src:"emphasis listener",input:e=>{let{context:t}=e;return{decorator:t.decorator,editor:t.editor,pair:t.pair}}}],on:{"emphasis.add":{target:"emphasis added",actions:(0,cc.assign)({offsetAfterEmphasis:e=>{let{event:t}=e;return t.blockOffset}})}}},"emphasis added":{exit:[(0,cc.assign)({offsetAfterEmphasis:void 0})],invoke:[{src:"selection listener",input:e=>{let{context:t}=e;return{editor:t.editor}}},{src:"delete.backward listener",input:e=>{let{context:t}=e;return{editor:t.editor}}}],on:{selection:{target:"idle",guard:e=>{let{context:t,event:n}=e;return!(0,e4.default)({anchor:t.offsetAfterEmphasis,focus:t.offsetAfterEmphasis},n.blockOffsets)}},"delete.backward":{target:"idle"}}}}});function hQ(e){let t,n,r=(0,j.c)(4),i=(0,nB.useEditor)();return r[0]!==i||r[1]!==e.on?(t=()=>{let t=i.on("*",e.on);return()=>{t.unsubscribe()}},n=[i,e.on],r[0]=i,r[1]=e.on,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),null}function h1(e){let t,n,r,i,a,o,l,s=(0,j.c)(17),c=(0,nB.useEditor)();return s[0]!==c||s[1]!==e.config?(t=()=>{var t;let n=(t=e.config,[{on:"insert.text",guard:e=>{var n,r,i;let{snapshot:a,event:o}=e;if(" "!==o.text)return!1;let l=sz(a),s=sP(a),c=sF(a);if(!l||!s||!c)return!1;let u=sB(a),d=sg({context:a.context,selectionPoint:{path:[{_key:s.node._key},"children",{_key:c.node._key}],offset:null!=(i=null==(n=a.context.selection)?void 0:n.focus.offset)?i:0}});if(u||!d)return!1;let p=sx(s.node),f=1===d.offset,h=/^>/.test(p),m=null==(r=t.blockquoteStyle)?void 0:r.call(t,a.context);return!!f&&!!h&&void 0!==m&&{focusTextBlock:s,style:m}},actions:[()=>[cr({type:"insert.text",text:" "})],(e,t)=>{let{focusTextBlock:n,style:r}=t;return[cr({type:"block.unset",props:["listItem","level"],at:n.path}),cr({type:"block.set",props:{style:r},at:n.path}),cr({type:"delete.text",at:{anchor:{path:n.path,offset:0},focus:{path:n.path,offset:2}}})]}]},{on:"insert.text",guard:e=>{var n,r,i;let{snapshot:a,event:o}=e;if(" "!==o.text)return!1;let l=sz(a),s=sP(a),c=sF(a);if(!l||!s||!c)return!1;let u=sg({context:a.context,selectionPoint:{path:[{_key:s.node._key},"children",{_key:c.node._key}],offset:null!=(i=null==(n=a.context.selection)?void 0:n.focus.offset)?i:0}});if(!u)return!1;let d=sB(a),p=sx(s.node),f=/^#+/.exec(p),h=f?f[0].length:void 0,m=u.offset===h;if(d||!m)return!1;let g=void 0!==h?null==(r=t.headingStyle)?void 0:r.call(t,{schema:a.context.schema,level:h}):void 0;return void 0!==h&&void 0!==g&&{focusTextBlock:s,style:g,level:h}},actions:[e=>{let{event:t}=e;return[cr(t)]},(e,t)=>{let{focusTextBlock:n,style:r,level:i}=t;return[cr({type:"block.unset",props:["listItem","level"],at:n.path}),cr({type:"block.set",props:{style:r},at:n.path}),cr({type:"delete.text",at:{anchor:{path:n.path,offset:0},focus:{path:n.path,offset:i+1}}})]}]},{on:"insert.text",guard:e=>{var n;let{snapshot:r,event:i}=e,a="-"===i.text?"-":"*"===i.text?"*":"_"===i.text?"_":void 0;if(void 0===a)return!1;let o=null==(n=t.horizontalRuleObject)?void 0:n.call(t,r.context),l=sP(r),s=sz(r);if(!o||!l||!s)return!1;let c=sB(r),u=hG(r),d={anchor:{path:l.path,offset:0},focus:{path:l.path,offset:3}};return!c&&u==="".concat(a).concat(a)&&{hrObject:o,focusBlock:l,hrCharacter:a,hrBlockOffsets:d}},actions:[(e,t)=>{let{hrCharacter:n}=t;return[cr({type:"insert.text",text:n})]},(e,t)=>{var n;let{hrObject:r,hrBlockOffsets:i}=t;return[cr({type:"insert.block",placement:"before",block:{_type:r.name,...null!=(n=r.value)?n:{}}}),cr({type:"delete.text",at:i})]}]},{on:"clipboard.paste",guard:e=>{var n,r;let{snapshot:i,event:a}=e,o=null==(n=a.originEvent.dataTransfer.getData("text/plain").match(/^(---)$|(___)$|(\*\*\*)$/))?void 0:n[0],l=null==(r=t.horizontalRuleObject)?void 0:r.call(t,i.context),s=sO(i);return!!o&&!!l&&!!s&&{hrCharacters:o,hrObject:l,focusBlock:s}},actions:[(e,t)=>{let{hrCharacters:n}=t;return[cr({type:"insert.text",text:n})]},(e,t)=>{var n,r;let{snapshot:i}=e,{hrObject:a,focusBlock:o}=t;return sc(i.context,o.node)?[cr({type:"insert.block",block:{_type:i.context.schema.block.name,children:o.node.children},placement:"after"}),cr({type:"insert.block",block:{_type:a.name,...null!=(n=a.value)?n:{}},placement:"after"}),cr({type:"delete.block",at:o.path})]:[cr({type:"insert.block",block:{_type:a.name,...null!=(r=a.value)?r:{}},placement:"after"})]}]},{on:"delete.backward",guard:e=>{var n,r;let{snapshot:i}=e,a=sz(i),o=sP(i),l=sF(i);if(!a||!o||!l)return!1;let s=o.node.children[0]._key===l.node._key&&(null==(n=i.context.selection)?void 0:n.focus.offset)===0,c=null==(r=t.defaultStyle)?void 0:r.call(t,i.context);return!!s&&!!c&&o.node.style!==c&&{defaultStyle:c,focusTextBlock:o}},actions:[(e,t)=>{let{defaultStyle:n,focusTextBlock:r}=t;return[cr({type:"block.set",props:{style:n},at:r.path})]}]},{on:"insert.text",guard:e=>{var n,r,i,a,o;let{snapshot:l,event:s}=e;if(" "!==s.text)return!1;let c=sz(l),u=sP(l),d=sF(l);if(!c||!u||!d)return!1;let p=sB(l),f=sg({context:l.context,selectionPoint:{path:[{_key:u.node._key},"children",{_key:d.node._key}],offset:null!=(o=null==(n=l.context.selection)?void 0:n.focus.offset)?o:0}});if(p||!f)return!1;let h=sx(u.node),m=null==(r=t.defaultStyle)?void 0:r.call(t,l.context),g=/^(-|\*)/.test(h),y=null==(i=t.unorderedListStyle)?void 0:i.call(t,l.context),v=1===f.offset;if(m&&v&&g&&void 0!==y)return{focusTextBlock:u,listItem:y,listItemLength:1,style:m};let b=/^1\./.test(h),x=null==(a=t.orderedListStyle)?void 0:a.call(t,l.context),C=2===f.offset;return!!m&&!!C&&!!b&&void 0!==x&&{focusTextBlock:u,listItem:x,listItemLength:2,style:m}},actions:[e=>{let{event:t}=e;return[cr(t)]},(e,t)=>{let{focusTextBlock:n,style:r,listItem:i,listItemLength:a}=t;return[cr({type:"block.set",props:{listItem:i,level:1,style:r},at:n.path}),cr({type:"delete.text",at:{anchor:{path:n.path,offset:0},focus:{path:n.path,offset:a+1}}})]}]}]).map(e=>c.registerBehavior({behavior:e}));return()=>{for(let e of n)e()}},n=[c,e.config],s[0]=c,s[1]=e.config,s[2]=t,s[3]=n):(t=s[2],n=s[3]),(0,E.useEffect)(t,n),s[4]!==e.config.boldDecorator?(r=e.config.boldDecorator?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(hX,{decorator:e.config.boldDecorator,pair:{char:"*",amount:2}}),(0,_.jsx)(hX,{decorator:e.config.boldDecorator,pair:{char:"_",amount:2}})]}):null,s[4]=e.config.boldDecorator,s[5]=r):r=s[5],s[6]!==e.config.codeDecorator?(i=e.config.codeDecorator?(0,_.jsx)(hX,{decorator:e.config.codeDecorator,pair:{char:"`",amount:1}}):null,s[6]=e.config.codeDecorator,s[7]=i):i=s[7],s[8]!==e.config.italicDecorator?(a=e.config.italicDecorator?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(hX,{decorator:e.config.italicDecorator,pair:{char:"*",amount:1}}),(0,_.jsx)(hX,{decorator:e.config.italicDecorator,pair:{char:"_",amount:1}})]}):null,s[8]=e.config.italicDecorator,s[9]=a):a=s[9],s[10]!==e.config.strikeThroughDecorator?(o=e.config.strikeThroughDecorator?(0,_.jsx)(hX,{decorator:e.config.strikeThroughDecorator,pair:{char:"~",amount:2}}):null,s[10]=e.config.strikeThroughDecorator,s[11]=o):o=s[11],s[12]!==r||s[13]!==i||s[14]!==a||s[15]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[r,i,a,o]}),s[12]=r,s[13]=i,s[14]=a,s[15]=o,s[16]=l):l=s[16],l}E.default.forwardRef((e,t)=>{let n,r,i=(0,j.c)(2),a=(0,nB.useEditor)(),o=E.default.useRef(a);return i[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>o.current,r=[],i[0]=n,i[1]=r):(n=i[0],r=i[1]),E.default.useImperativeHandle(t,n,r),null}).displayName="EditorRefPlugin";let h2=[{on:"insert.break",guard:e=>{let{snapshot:t}=e;return!!(t.context.selection&&sV(t))&&{selection:t.context.selection}},actions:[(e,t)=>{let{selection:n}=t;return[cr({type:"delete",at:n})]}]},{on:"insert.break",actions:[]},{on:"insert.block",guard:e=>{let{event:t}=e;return"before"===t.placement||"after"===t.placement},actions:[]},{on:"insert.block",guard:e=>{let{snapshot:t,event:n}=e;return!(!sP(t)||!sc(t.context,n.block))},actions:[e=>{let{event:t}=e;return[cr({type:"insert.block",block:t.block,placement:"auto",select:"end"})]}]},{on:"insert.block",actions:[]},{on:"insert.blocks",guard:e=>{let{snapshot:t,event:n}=e,r=n.blocks.filter(e=>sc(t.context,e));return 0!==r.length&&r.reduce((e,n)=>(function(e){var t,n;let{context:r,targetBlock:i,incomingBlock:a}=e,o=sk({context:r,block:a,options:{validateFields:!1}});return o&&sc(r,o)?{...i,children:[...i.children,...o.children],markDefs:[...null!=(t=i.markDefs)?t:[],...null!=(n=o.markDefs)?n:[]]}:i})({context:t.context,targetBlock:e,incomingBlock:n}))},actions:[(e,t)=>[ca({type:"insert.block",block:t,placement:"auto"})]]},{on:"insert.blocks",actions:[]}];function h0(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(h$,{behaviors:h2}),t[0]=e):e=t[0],e}var h5=e.i(973327),h7=e.i(760719),h3=e.i(480210),h8=e.i(86966),h4=e.i(37544),h6=e.i(815321);let h9=(0,tr.default)("mutator-document");class me{containerType(){return Array.isArray(this._value)?"array":null!==this._value&&"object"==typeof this._value?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return!!Array.isArray(this._value)&&(e>=this.length()?null:new me(this._value[e],this.path.concat(e)))}hasAttribute(e){return!!mt(this._value)&&this._value.hasOwnProperty(e)}attributeKeys(){return mt(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!mt(this._value))throw Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new me(this._value[e],this.path.concat(e)):null}set(e){return e===this._value?this:new me(e,this.path)}setIndex(e,t){if(!Array.isArray(this._value))throw Error("setIndex only applies to arrays");if(Object.is(t,this._value[e]))return this;let n=this._value.slice();return n[e]=t,new me(n,this.path)}setIndexAccessor(e,t){return this.setIndex(e,t.get())}unsetIndices(e){if(!Array.isArray(this._value))throw Error("unsetIndices only applies to arrays");let t=this._value.length,n=[];for(let r=0;r<t;r++)-1===e.indexOf(r)&&n.push(this._value[r]);return new me(n,this.path)}insertItemsAt(e,t){if(!Array.isArray(this._value))throw Error("insertItemsAt only applies to arrays");return new me(0===this._value.length&&0===e?t:this._value.slice(0,e).concat(t).concat(this._value.slice(e)),this.path)}setAttribute(e,t){if(!mt(this._value))throw Error("Unable to set attribute of non-object container");return Object.is(t,this._value[e])?this:new me(Object.assign({},this._value,{[e]:t}),this.path)}setAttributeAccessor(e,t){return this.setAttribute(e,t.get())}unsetAttribute(e){if(!mt(this._value))throw Error("Unable to unset attribute of non-object container");let t=Object.assign({},this._value);return delete t[e],new me(t,this.path)}constructor(e,t){(0,k._)(this,"_value",void 0),(0,k._)(this,"path",void 0),this._value=e,this.path=t||[]}}function mt(e){return null!==e&&"object"==typeof e}function mn(e){return null!==e&&"object"==typeof e}let mr=/^[a-z_$]+/;function mi(e){let t="";return e.forEach((e,n)=>{var r,i;t+=(r=e,i=0===n,"number"==typeof r?"[".concat(r,"]"):mn(r)?Object.keys(r).map(e=>!function(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}(r[e])?"":"[".concat(e,'=="').concat(r[e],'"]')).join(""):"string"==typeof r&&mr.test(r)?i?r:".".concat(r):"['".concat(r,"']"))}),t}function ma(e){if("path"!==e.type)return[e,null];let t=e.nodes;return 0===t.length?[null,null]:1===t.length?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}let mo=/[0-9]/,ml=/^[a-zA-Z0-9_]$/,ms=/^[a-zA-Z_]$/,mc={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},mu=Object.keys(mc);class md{tokenize(){let e=[];for(;!this.EOF();){this.chompWhitespace();let t=null;if(!this.tokenizers.some(e=>!!(t=e()))||!t)throw Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));e.push(t)}return e}takeWhile(e){let t=this.i,n="";for(;!this.EOF();){let t=e(this.source[this.i]);if(null===t)break;n+=t,this.i++}return this.i===t?null:n}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(e){if(this.i+e.length>this.length)throw Error("Expected ".concat(e," at end of jsonpath"));if(e===this.source.slice(this.i,this.i+e.length))this.i+=e.length;else throw Error('Expected "'.concat(e,'", but source contained "').concat(this.source.slice()))}tryConsume(e){if(this.i+e.length>this.length)return null;if(e===this.source.slice(this.i,this.i+e.length)){if(e[0].match(ml)&&this.length>this.i+e.length){let t=this.source[this.i+e.length];if(t&&t.match(ml))return null}return this.i+=e.length,e}return null}chompWhitespace(){this.takeWhile(e=>" "===e?"":null)}tokenizeQuoted(){let e=this.peek();if("'"===e||'"'===e){this.consume(e);let t=!1,n=this.takeWhile(n=>t?(t=!1,n):"\\"===n?(t=!0,""):n!=e?n:null);return this.consume(e),{type:"quoted",value:n,quote:'"'===e?"double":"single"}}return null}tokenizeIdentifier(){let e=!0,t=this.takeWhile(t=>e?(e=!1,t.match(ms)?t:null):t.match(ml)?t:null);return null!==t?{type:"identifier",name:t}:null}tokenizeNumber(){let e=this.i,t=!1,n=!1,r=!1;"-"===this.peek()&&(r=!0,this.consume("-"));let i=this.takeWhile(e=>"."===e&&!t&&n?(t=!0,e):(n=!0,e.match(mo)?e:null));return null!==i?{type:"number",value:r?-i:+i,raw:r?"-".concat(i):i}:(this.i=e,null)}tokenizeSymbol(){for(let e of mu){let t=mc[e].find(e=>this.tryConsume(e));if(t)return{type:e,symbol:t}}return null}constructor(e){(0,k._)(this,"source",void 0),(0,k._)(this,"i",void 0),(0,k._)(this,"length",void 0),(0,k._)(this,"tokenizers",void 0),this.source=e,this.length=e.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(e=>e.bind(this))}}class mp{parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){let e=this.peek();return this.i+=1,e}probe(e){let t=this.peek();return t&&Object.keys(e).every(n=>n in t&&e[n]===t[n])?t:null}match(e){return this.probe(e)?this.consume():null}parseAttribute(){let e=this.match({type:"identifier"});if(e&&"identifier"===e.type)return{type:"attribute",name:e.name};let t=this.match({type:"quoted",quote:"single"});return t&&"quoted"===t.type?{type:"attribute",name:t.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){let e=this.match({type:"number"});return e&&"number"===e.type?{type:"number",value:e.value}:null}parseNumberValue(){let e=this.parseNumber();return e?e.value:null}parseSliceSelector(){let e=this.i,t=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return null===t?(this.i=e,null):{type:"index",value:t};let n={type:"range",start:t,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(n.step=this.parseNumberValue()),null===n.start&&null===n.end?(this.i=e,null):n}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){let e=this.match({type:"quoted",quote:"double"});if(e&&"quoted"===e.type)return{type:"string",value:e.value||""};let t=this.match({type:"boolean"});return t&&"boolean"===t.type?{type:"boolean",value:"true"===t.symbol}:this.parseNumber()}parseFilterExpression(){let e=this.i,t=this.parseAttribute()||this.parseAlias();if(!t)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:t};let n=this.match({type:"comparator"});if(!n||"comparator"!==n.type)return this.i=e,null;let r=this.parseLiteralValue();if(!r)throw Error("Operator ".concat(n.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:n.symbol,lhs:t,rhs:r}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;let e=[],t=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;t&&(e.push(t),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw Error("Expected ]");if(!(t=this.parseFilterExpression()||this.parsePath()||this.parseValueReference()))throw Error("Expected expression following ','")}return{type:"union",nodes:e}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;let e=this.parsePath();if(!e)throw Error("Expected path following '..' operator");return{type:"recursive",term:e}}parsePath(){let e=[],t=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!t)return null;for(e.push(t);!this.EOF();)if(this.match({type:"operator",symbol:"."})){let t=this.parseAttribute();if(!t)throw Error("Expected attribute name following '.");e.push(t);continue}else if(this.probe({type:"paren",symbol:"["})){let t=this.parseUnion();if(!t)throw Error("Expected union following '['");e.push(t)}else{let t=this.parseRecursive();t&&e.push(t);break}return 1===e.length?e[0]:{type:"path",nodes:e}}constructor(e){(0,k._)(this,"tokens",void 0),(0,k._)(this,"length",void 0),(0,k._)(this,"i",void 0),this.tokens=new md(e).tokenize(),this.length=this.tokens.length,this.i=0}}function mf(e){let t=new mp(e).parse();if(!t)throw Error('Failed to parse JSON path "'.concat(e,'"'));return t}function mh(e,t){switch(e.type){case"attribute":return e.name;case"alias":return"self"===e.target?"@":"$";case"number":return"".concat(e.value);case"range":{let n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{let n=e.rhs?" ".concat(mh(e.rhs,!1)):"",r="".concat(mh(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{let t=[],n=e.nodes.slice();for(;n.length>0;){let e=n.shift();e&&t.push(mh(e,!1));let r=n[0];r&&"["!==mh(r,!1)[0]&&t.push(".")}return t.join("")}case"union":return"[".concat(e.nodes.map(e=>mh(e,!0)).join(","),"]");default:throw Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(mh(e.term,!1))}}class mm{isPath(){return"path"===this.expr.type}isUnion(){return"union"===this.expr.type}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return"constraint"===this.expr.type}isRecursive(){return"recursive"===this.expr.type}isExistenceConstraint(){return"constraint"===this.expr.type&&"?"===this.expr.operator}isIndex(){return"index"===this.expr.type}isRange(){return"range"===this.expr.type}expandRange(e){let t="start"in this.expr&&this.expr.start||0;t=my(t,e);let n="end"in this.expr&&this.expr.end||(()=>{if(!e)throw Error("expandRange() required a probe that was not passed");return e.length()})();return{start:t,end:n=my(n,e),step:"step"in this.expr&&this.expr.step||1}}isAttributeReference(){return"attribute"===this.expr.type}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return"alias"===this.expr.type&&"self"===this.expr.target}constraintTargetIsSelf(){return"constraint"===this.expr.type&&"alias"===this.expr.lhs.type&&"self"===this.expr.lhs.target}constraintTargetIsAttribute(){return"constraint"===this.expr.type&&"attribute"===this.expr.lhs.type}testConstraint(e){let t=this.expr;if("constraint"===t.type&&"alias"===t.lhs.type&&"self"===t.lhs.target){if("primitive"!==e.containerType())return!1;if("constraint"===t.type&&"?"===t.operator)return!0;let n=e.get(),r=t.rhs&&"value"in t.rhs?t.rhs.value:void 0;return mg(n,t.operator,r)}if("constraint"!==t.type)return!1;let n=t.lhs;if(!n)throw Error("No LHS of expression");if("attribute"!==n.type)throw Error("Constraint target ".concat(n.type," not supported"));if("object"!==e.containerType())return!1;let r=e.getAttribute(n.name);if(null==r||"primitive"!==r.containerType())return!1;if(this.isExistenceConstraint())return!0;let i=t.rhs&&"value"in t.rhs?t.rhs.value:void 0;return mg(r.get(),t.operator,i)}pathNodes(){return"path"===this.expr.type?this.expr.nodes:[this.expr]}prepend(e){return e?new mm({type:"path",nodes:e.pathNodes().concat(this.pathNodes())}):this}concat(e){return e?e.prepend(this):this}descend(){return(function(e){var t,n;let[r,i]=ma(e);if(!r)throw Error("Head cannot be null");return t=r,n=i,"union"!==t.type?[[t,n]]:t.nodes.map(e=>{if("path"===e.type){let[t,r]=ma(e);return[t,function(e,t){if(!e&&!t)return null;let n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}(r,n)]}return[e,n]})})(this.expr).map(e=>{let[t,n]=e;return{head:t?new mm(t):null,tail:n?new mm(n):null}})}unwrapRecursive(){if("recursive"!==this.expr.type)throw Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new mm(this.expr.term)}toIndicies(e){if("index"!==this.expr.type&&"range"!==this.expr.type)throw Error("Node cannot be converted to indexes");if("index"===this.expr.type)return[my(this.expr.value,e)];let t=[],n=this.expandRange(e),{start:r,end:i}=n;n.step<0&&([r,i]=[i,r]);for(let e=r;e<i;e++)t.push(e);return t}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if("attribute"===this.expr.type)return[this.expr.name];throw Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return mh(this.expr,!1)}static fromPath(e){let t=mf(e);if(!t)throw Error('Failed to parse path "'.concat(e,'"'));return new mm(t)}static attributeReference(e){return new mm({type:"attribute",name:e})}static indexReference(e){return new mm({type:"index",value:e})}constructor(e){if((0,k._)(this,"expr",void 0),!e)throw Error("Attempted to create Expression from null-value");if("expr"in e?this.expr=e.expr:this.expr=e,!("type"in this.expr))throw Error("Attempt to create Expression for expression with no type")}}function mg(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw Error("Unsupported binary operator ".concat(t))}}function my(e,t){if(e>=0)return e;if(!t)throw Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class mv{iterate(e){let t=[this];if(this.head&&this.head.isConstraint()){let n=!0;for(;n;)n=(t=(0,td.default)(t.map(t=>t.iterateConstraints(e)))).some(e=>e.head&&e.head.isConstraint())}return t}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return null===this.head&&null===this.tail}extractRecursives(){return this.head&&this.head.isRecursive()?new mv(null,this.head.unwrapRecursive().concat(this.tail)).descend():[]}iterateConstraints(e){let t=this.head;if(null===t||!t.isConstraint())return[this];let n=[];if("primitive"===e.containerType()&&t.constraintTargetIsSelf())return t.testConstraint(e)&&n.push(...this.descend()),n;if("array"===e.containerType()){let r=e.length();for(let i=0;i<r;i++){let r=e.getIndex(i);r&&t.testConstraint(r)&&n.push(new mv(new mm({type:"index",value:i}),this.tail))}return n}return"object"===e.containerType()?t.constraintTargetIsSelf()?[]:t.testConstraint(e)?this.descend():n:n}descend(){return this.tail?this.tail.descend().map(e=>new mv(e.head,e.tail)):[new mv(null,null)]}toString(){let e=["<"];return this.head&&e.push(this.head.toString()),e.push("|"),this.tail&&e.push(this.tail.toString()),e.push(">"),e.join("")}constructor(e,t){(0,k._)(this,"head",void 0),(0,k._)(this,"tail",void 0),this.head=e,this.tail=t}}class mb{setPayload(e){return this.payload=e,this}extractRecursives(){this.active=this.active.filter(e=>!e.isRecursive()||(this.recursives.push(...e.extractRecursives()),!1))}activeRecursives(e){return this.recursives.filter(t=>{let n=t.head;return!!n&&(!!(n.isConstraint()||"array"===e.containerType()&&n.isIndexReference())||"object"===e.containerType()&&n.isAttributeReference()&&e.hasAttribute(n.name()))})}match(e){return this.iterate(e).extractMatches(e)}iterate(e){let t=[];return this.active.concat(this.activeRecursives(e)).forEach(n=>{t.push(...n.iterate(e))}),new mb(t,this)}isDestination(){return this.active.some(e=>e.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(e){let t=[],n=[];if(this.active.forEach(r=>{if(r.hasArrived())return void n.push(new mm({type:"alias",target:"self"}));let i=r.head;if(i&&!("array"===e.containerType()&&!i.isIndexReference())&&!("object"===e.containerType()&&!i.isAttributeReference()))if(r.tail){let e=new mb(r.descend(),this);i.toFieldReferences().forEach(()=>{t.push({target:i,matcher:e})})}else n.push(i)}),this.hasRecursives()){let n=new mb([],this);if("array"===e.containerType()){let r=e.length();for(let e=0;e<r;e++)t.push({target:mm.indexReference(e),matcher:n})}else"object"===e.containerType()&&e.attributeKeys().forEach(e=>{t.push({target:mm.attributeReference(e),matcher:n})})}return n.length>0?{leads:t,delivery:{targets:n,payload:this.payload}}:{leads:t}}static fromPath(e){let t=mf(e);if(!t)throw Error('Failed to parse path from "'.concat(e,'"'));return new mb(new mv(null,new mm(t)).descend())}constructor(e,t){(0,k._)(this,"active",void 0),(0,k._)(this,"recursives",void 0),(0,k._)(this,"payload",void 0),this.active=e||[],t?(this.recursives=t.recursives,this.payload=t.payload):this.recursives=[],this.extractRecursives()}}class mx{containerType(){return Array.isArray(this._value)?"array":null!==this._value&&"object"==typeof this._value?"object":"primitive"}length(){if(!Array.isArray(this._value))throw Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return!!Array.isArray(this._value)&&(e>=this.length()?null:new mx(this._value[e],this.path.concat(e)))}hasAttribute(e){return!!mn(this._value)&&this._value.hasOwnProperty(e)}attributeKeys(){return mn(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!mn(this._value))throw Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new mx(this._value[e],this.path.concat(e)):null}get(){return this._value}constructor(e,t){(0,k._)(this,"_value",void 0),(0,k._)(this,"path",void 0),this._value=e,this.path=t||[]}}function mC(e,t){let n=[];if(e.isIndexReference())e.toIndicies(t).forEach(e=>{n.push(t.getIndex(e))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw Error("Unable to derive accessor for target ".concat(e.toString()));return(0,ng.default)(n)}function mk(e,t){if("string"!=typeof t)return t;let[n]=u4(e,t,{allowExceedingIndices:!0});return n}class mw{apply(e,t){let n=t;if("primitive"===n.containerType())return n;for(let r of e){if(r.isIndexReference()){for(let e of r.toIndicies(t)){let t=n.getIndex(e);if(!t)continue;let r=t.get(),i=mk(this.dmpPatch,r);n=n.setIndex(e,i)}continue}if(r.isAttributeReference()&&n.hasAttribute(r.name())){let e=n.getAttribute(r.name());if(!e)continue;let t=e.get(),i=mk(this.dmpPatch,t);n=n.setAttribute(r.name(),i);continue}throw Error("Unable to apply diffMatchPatch to target ".concat(r.toString()))}return n}constructor(e,t,n){(0,k._)(this,"path",void 0),(0,k._)(this,"dmpPatch",void 0),(0,k._)(this,"id",void 0),this.id=e,this.path=t,this.dmpPatch=dd(n)}}function m_(e,t){return"number"==typeof e&&Number.isFinite(e)?e+t:e}class mj{apply(e,t){let n=t;if("primitive"===n.containerType())return n;for(let r of e){if(r.isIndexReference()){for(let e of r.toIndicies(t)){let t=n.getIndex(e);if(!t)continue;let r=t.get();n=n.setIndex(e,m_(r,this.value))}continue}if(r.isAttributeReference()){let e=n.getAttribute(r.name());if(!e)continue;let t=e.get();n=n.setAttribute(r.name(),m_(t,this.value));continue}throw Error("Unable to apply to target ".concat(r.toString()))}return n}constructor(e,t,n){(0,k._)(this,"path",void 0),(0,k._)(this,"value",void 0),(0,k._)(this,"id",void 0),this.path=t,this.value=n,this.id=e}}function mS(e,t){let n=[];return e.forEach(e=>{e.isIndexReference()&&n.push(...e.toIndicies(t))}),n.sort()}class mE{apply(e,t){var n,r,i,a;let o=t;if("array"!==t.containerType())throw Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{let i,a=(n=e,r=t,i=(0,h4.default)(mS(n,r))||0,n.forEach(e=>{if(e.isRange()){let{start:t}=e.expandRange();t<i&&(i=t)}}),i);o=o.insertItemsAt(a,this.items);break}case"after":{let n,r=(i=e,a=t,n=(0,h8.default)(mS(i,a))||0,i.forEach(e=>{if(e.isRange()){let{end:t}=e.expandRange();t>n&&(n=t)}}),n);o=o.insertItemsAt(r+1,this.items);break}case"replace":{let n=mS(e,t);o=(o=o.unsetIndices(n)).insertItemsAt(n[0],this.items);break}default:throw Error("Unsupported location atm: ".concat(this.location))}return o}constructor(e,t,n,r){(0,k._)(this,"location",void 0),(0,k._)(this,"path",void 0),(0,k._)(this,"items",void 0),(0,k._)(this,"id",void 0),this.id=e,this.location=t,this.path=n,this.items=r}}class mT{apply(e,t){let n=t;return e.forEach(e=>{if(!e.isIndexReference())if(e.isAttributeReference())"primitive"===n.containerType()?n=n.set({[e.name()]:this.value}):n.hasAttribute(e.name())||(n=t.setAttribute(e.name(),this.value));else throw Error("Unable to apply to target ".concat(e.toString()))}),n}constructor(e,t,n){(0,k._)(this,"id",void 0),(0,k._)(this,"path",void 0),(0,k._)(this,"value",void 0),this.id=e,this.path=t,this.value=n}}class mD{apply(e,t){let n=t;return e.forEach(e=>{if(e.isSelfReference())n=n.set(this.value);else if(e.isIndexReference())e.toIndicies(t).forEach(e=>{n=n.setIndex(e,this.value)});else if(e.isAttributeReference())n="primitive"===n.containerType()?n.set({[e.name()]:this.value}):n.setAttribute(e.name(),this.value);else throw Error("Unable to apply to target ".concat(e.toString()))}),n}constructor(e,t,n){(0,k._)(this,"id",void 0),(0,k._)(this,"path",void 0),(0,k._)(this,"value",void 0),this.id=e,this.path=t,this.value=n}}class mI{apply(e,t){let n=t;switch(t.containerType()){case"array":n=n.unsetIndices(mS(e,t));break;case"object":e.forEach(e=>{n=n.unsetAttribute(e.name())});break;default:throw Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return n}constructor(e,t){(0,k._)(this,"id",void 0),(0,k._)(this,"path",void 0),(0,k._)(this,"value",void 0),this.id=e,this.path=t}}class mA{apply(e){let t=new me(e);return this.applyViaAccessor(t).get()}applyViaAccessor(e){let t=e,n=e.getAttribute("_id");if(!n)throw Error("Cannot apply patch to document with no _id");let r=n.get();for(let e of this.patches)e.id===r&&(t=function e(t,n){var r;let i=t.payload instanceof mD||t.payload instanceof mT,a=n,{leads:o,delivery:l}=t.match(n);return o.forEach(t=>{if(t.target.isIndexReference())t.target.toIndicies().forEach(n=>{let r=a.getIndex(n);if(!r)throw Error("Index out of bounds");a=a.setIndexAccessor(n,e(t.matcher,r))});else if(t.target.isAttributeReference()){i&&"primitive"===a.containerType()&&(a=a.set({}));let n=a.getAttribute(t.target.name());if(!n&&i&&(n=(a=a.setAttribute(t.target.name(),{})).getAttribute(t.target.name())),!n)return;let r=e(t.matcher,n);n!==r&&(a=a.setAttributeAccessor(t.target.name(),r))}else throw Error("Unable to handle target ".concat(t.target.toString()))}),l&&(r=l.payload)&&"object"==typeof r&&null!==r&&"apply"in r&&"function"==typeof r.apply&&(a=l.payload.apply(l.targets,a)),a}(mb.fromPath(e.path).setPayload(e),t));return t}constructor(e){(0,k._)(this,"patches",void 0),this.patches=function e(t){let n=[];if(Array.isArray(t))return t.reduce((t,n)=>t.concat(e(n)),n);let{set:r,setIfMissing:i,unset:a,diffMatchPatch:o,inc:l,dec:s,insert:c}=t;if(i&&Object.keys(i).forEach(e=>{n.push(new mT(t.id,e,i[e]))}),r&&Object.keys(r).forEach(e=>{n.push(new mD(t.id,e,r[e]))}),a&&a.forEach(e=>{n.push(new mI(t.id,e))}),o&&Object.keys(o).forEach(e=>{n.push(new mw(t.id,e,o[e]))}),l&&Object.keys(l).forEach(e=>{n.push(new mj(t.id,e,l[e]))}),s&&Object.keys(s).forEach(e=>{n.push(new mj(t.id,e,-s[e]))}),c){let e,r;if("before"in c)e="before",r=c.before;else if("after"in c)e="after",r=c.after;else if("replace"in c)e="replace",r=c.replace;else throw Error("Invalid insert patch");n.push(new mE(t.id,e,r,c.items))}return n}(e)}}let mO=h6.uuid;class mP{get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if("string"==typeof this.params.timestamp)return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=mO(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if("u">typeof this._appliesToMissingDocument)return this._appliesToMissingDocument;let e=this.mutations[0];return e?this._appliesToMissingDocument=!!(e.create||e.createIfNotExists||e.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){let e=[],t=e=>(null==e?void 0:e._createdAt)||this.params.timestamp||new Date().toISOString();this.mutations.forEach(n=>{if(n.create){let r=n.create||{};e.push(e=>e||Object.assign(r,{_createdAt:t(r)}));return}if(n.createIfNotExists){let r=n.createIfNotExists||{};e.push(e=>null===e?Object.assign(r,{_createdAt:t(r)}):e);return}if(n.createOrReplace){let r=n.createOrReplace||{};e.push(()=>Object.assign(r,{_createdAt:t(r)}));return}if(n.delete)return void e.push(()=>null);if(n.patch){if("query"in n.patch)return;let t=new mA(n.patch);e.push(e=>t.apply(e));return}throw Error("Unsupported mutation ".concat(JSON.stringify(n,null,2)))}),"string"==typeof this.params.timestamp&&e.push(e=>e?Object.assign(e,{_updatedAt:this.params.timestamp}):null);let n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=t=>{if(n&&t&&n!==t._rev)throw Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(t._rev));let i=t;for(let t of e)i=t(i);return i&&r&&(i===t&&(i=Object.assign({},t)),i._rev=r),i}}apply(e){h9("Applying mutation %O to document %O",this.mutations,e),this.compiled||this.compile();let t=this.compiled(e);return h9("  => %O",t),t}static applyAll(e,t){return t.reduce((e,t)=>t.apply(e),e)}static squash(e,t){return new mP({mutations:t.reduce((e,t)=>e.concat(...t.mutations),[])})}constructor(e){(0,k._)(this,"params",void 0),(0,k._)(this,"compiled",void 0),(0,k._)(this,"_appliesToMissingDocument",void 0),this.params=e}}class mM{reset(e){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=e,this.EDGE=e,this.considerIncoming(),this.updateConsistencyFlag()}arrive(e){this.incoming.push(e),this.considerIncoming(),this.updateConsistencyFlag()}stage(e,t){if(!e.transactionId)throw Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,h9("Staging mutation %s (pushed to pending)",e.transactionId),this.pending.push(e),this.EDGE=e.apply(this.EDGE),this.onMutation&&!t&&this.onMutation({mutation:e,document:this.EDGE,remote:!1});let n=e.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(n),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(n),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let e=!1,t,n=[];if(this.HEAD&&this.HEAD._updatedAt){let e=new Date(this.HEAD._updatedAt);this.incoming.find(t=>t.timestamp&&t.timestamp<e)&&(this.incoming=this.incoming.filter(t=>t.timestamp&&t.timestamp<e))}let r=0;do{if(this.HEAD){let e=this.HEAD;t=e._rev?this.incoming.find(t=>t.previousRev===e._rev):void 0}else t=this.incoming.find(e=>e.appliesToMissingDocument());if(t){let i=this.applyIncoming(t);if((e=e||i)&&n.push(t),r++>10)throw Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(t)))}}while(t)this.incoming.length>0&&h9.enabled&&h9("Unable to apply mutations %s",this.incoming.map(e=>e.transactionId).join(", ")),e&&this.rebase(n)}updateConsistencyFlag(){let e=this.isConsistent(),t=0===this.pending.length&&0===this.submitted.length&&0===this.incoming.length;t?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),e!=t&&this.onConsistencyChanged&&(h9(t?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(t))}applyIncoming(e){if(!e)return!1;if(!e.transactionId)throw Error("Received incoming mutation without a transaction ID");if(h9("Applying mutation %s -> %s to rev %s",e.previousRev,e.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=e.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(e),this.incoming=this.incoming.filter(t=>t.transactionId!==e.transactionId),this.hasUnresolvedMutations()){let t=this.consumeUnresolved(e.transactionId);return h9.enabled&&(h9("Incoming mutation ".concat(e.transactionId," appeared while there were pending or submitted local mutations")),h9("Submitted txnIds: ".concat(this.submitted.map(e=>e.transactionId).join(", "))),h9("Pending txnIds: ".concat(this.pending.map(e=>e.transactionId).join(", "))),h9("needRebase === %s",t)),t}return h9("Remote mutation %s arrived w/o any pending or submitted local mutations",e.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:e,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(e){if(0===this.submitted.length&&0===this.pending.length)return!1;if(0!==this.submitted.length){if(this.submitted[0].transactionId===e)return h9("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",e),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===e)return h9("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",e),this.pending.shift(),!1;return h9("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(t=>t.transactionId!==e),this.pending=this.pending.filter(t=>t.transactionId!==e),h9("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(e){let t;if(0===this.pending.length)return;let n=this.pending[0];if(n.transactionId===e){this.pending.shift(),this.submitted.push(n);return}let r=[];this.pending.forEach(n=>{if(n.transactionId===e){t=n;return}r.push(n)}),t&&this.submitted.push(t),this.pending=r,this.rebase([])}pendingFailed(e){this.pending=this.pending.filter(t=>t.transactionId!==e),this.rebase([])}rebase(e){let t=this.EDGE;this.EDGE=mP.applyAll(this.HEAD,this.submitted.concat(this.pending)),null!==t&&null!==this.EDGE&&(t._rev=this.EDGE._rev),!(0,e4.default)(this.EDGE,t)&&this.onRebase&&this.onRebase(this.EDGE,e,this.pending)}constructor(e){(0,k._)(this,"incoming",[]),(0,k._)(this,"submitted",[]),(0,k._)(this,"pending",[]),(0,k._)(this,"HEAD",void 0),(0,k._)(this,"EDGE",void 0),(0,k._)(this,"onRebase",void 0),(0,k._)(this,"onMutation",void 0),(0,k._)(this,"onConsistencyChanged",void 0),(0,k._)(this,"onRemoteMutation",void 0),(0,k._)(this,"inconsistentAt",null),(0,k._)(this,"lastStagedAt",null),this.reset(e),this.HEAD=e,this.EDGE=e}}class mF{add(e){e.mutations.forEach(e=>this.addOperation(e))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(e){this.stashStagedOperations();let t=null;return this.out.length>0&&(h9("Purged mutation buffer"),t=new mP({mutations:this.out,resultRev:e,transactionId:e})),this.out=[],this.documentPresent=!1,t}addOperation(e){var t;if(e.patch&&e.patch.set&&"id"in e.patch&&e.patch.id===(null==(t=this.PRESTAGE)?void 0:t._id)&&2===Object.keys(e.patch).length){let t=e.patch.set,n={};for(let e of Object.keys(t))t.hasOwnProperty(e)&&(this.optimiseSetOperation(e,t[e])||(n[e]=t[e]));Object.keys(n).length>0&&(h9("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:n}}),this.stashStagedOperations());return}if(e.createIfNotExists&&this.PRESTAGE&&e.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(e),this.documentPresent=!0,this.stashStagedOperations());return}h9("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(e),this.stashStagedOperations()}optimiseSetOperation(e,t){if("object"==typeof t)return!1;let n=(function(e,t){let n=[];return function e(t,n){let{leads:r,delivery:i}=t.match(n);r.forEach(t=>{mC(t.target,n).forEach(n=>{e(t.matcher,n)})}),i&&i.targets.forEach(e=>{"function"==typeof i.payload&&i.payload(mC(e,n))})}(mb.fromPath(e).setPayload(function(e){n.push(...e)}),new mx(t)),n})(e,this.PRESTAGE).map(e=>({path:e.path,value:e.get()}));if(1!==n.length)return!1;let r=n[0];if("object"==typeof r.value||!this.PRESTAGE)return!1;let i=null;if(r.value===t)i=null;else if("string"==typeof r.value&&"string"==typeof t)try{let n=df(dl(r.value,t));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[e]:n}}}}catch(e){return!1}else i={patch:{id:this.PRESTAGE._id,set:{[e]:t}}};let a=mi(r.path);return i?this.setOperations[a]=i:delete this.setOperations[a],!0}stashStagedOperations(){let e=[];Object.keys(this.setOperations).forEach(t=>{let n=this.setOperations[t];n&&e.push(n)}),e.push(...this.staged),e.length>0&&(this.PRESTAGE=new mP({mutations:e}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...e)}rebase(e){return this.stashStagedOperations(),null===e?(this.out=[],this.BASIS=e,this.PRESTAGE=e,this.documentPresent=!1):(this.BASIS=e,this.out?this.PRESTAGE=new mP({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}constructor(e){(0,k._)(this,"BASIS",void 0),(0,k._)(this,"PRESTAGE",void 0),(0,k._)(this,"setOperations",void 0),(0,k._)(this,"documentPresent",void 0),(0,k._)(this,"out",[]),(0,k._)(this,"staged",void 0),e?h9("Reset mutation buffer to rev %s",e._rev):h9("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=e,this.PRESTAGE=e}}class mR{apply(e){return mP.applyAll(e,this.mutations)}squash(e){let t=mP.squash(e,this.mutations);return t.assignRandomTransactionId(),t}constructor(e,{resolve:t,reject:n}){(0,k._)(this,"mutations",void 0),(0,k._)(this,"tries",void 0),(0,k._)(this,"resolve",void 0),(0,k._)(this,"reject",void 0),this.mutations=e,this.tries=0,this.resolve=t,this.reject=n}}let mB=(e,t)=>e.concat(t.mutations);class mN{reset(e){e?h9("Document state reset to revision %s",e._rev):h9("Document state reset to being deleted"),this.document.reset(e),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(e){this.onConsistencyChanged&&this.onConsistencyChanged(!1),h9("Staged local mutation"),this.buffer.add(e);let t=this.LOCAL;this.LOCAL=e.apply(this.LOCAL),this.onMutation&&t!==this.LOCAL&&(h9("onMutation fired"),this.onMutation({mutation:e,document:this.LOCAL,remote:!1}),null===this.LOCAL&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(e){if(h9("Remote mutation arrived %s -> %s",e.previousRev,e.resultRev),e.previousRev===e.resultRev)throw Error("Mutation ".concat(e.transactionId," has previousRev === resultRev (").concat(e.previousRev,")"));return this.document.arrive(e)}commit(){return new Promise((e,t)=>{if(!this.buffer.hasChanges())return void e();h9("Committing local changes");let n=this.buffer.purge();this.commits.push(new mR(n?[n]:[],{resolve:e,reject:t})),this.buffer=new mF(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){let e=this.commits.shift();if(!e){this.committerRunning=!1;return}this.committerRunning=!0;let t=e.squash(this.LOCAL),n=this.document.stage(t,!0),r=()=>{h9("Commit succeeded"),n.success(),e.resolve(),this._cycleCommitter()},i=()=>{h9("Commit failed"),e.tries+=1,null!==this.LOCAL&&this.commits.unshift(e),n.failure(),e.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(1e3*e.tries,6e4))},a=e=>{this.commits.forEach(t=>t.reject(e)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new mF(this.LOCAL),this.committerRunning=!1};h9("Posting commit"),this.commitHandler&&this.commitHandler({mutation:t,success:r,failure:i,cancel:a})}handleDocRebase(e,t,n){this.rebase(t,n)}handleDocumentDeleted(){h9("Document deleted"),null!==this.LOCAL&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(e){if(0===this.commits.length&&!this.buffer.hasChanges()){h9("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new mF(this.LOCAL),this.onMutation&&this.onMutation(e);return}h9("Document mutated from remote with local changes"),null===this.document.EDGE&&this.handleDocumentDeleted(),this.rebase([e.mutation],[])}rebase(e,t){h9("Rebasing document"),null===this.document.EDGE&&this.handleDocumentDeleted();let n=this.LOCAL;this.LOCAL=this.commits.reduce((e,t)=>t.apply(e),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),null!==n&&null!==this.LOCAL&&(n._rev=this.LOCAL._rev),!(0,e4.default)(this.LOCAL,n)&&this.onRebase&&this.onRebase(this.LOCAL,e.reduce(mB,[]),t.reduce(mB,[]))}handleDocConsistencyChanged(e){if(!this.onConsistencyChanged)return;let t=this.commits.length>0||this.buffer.hasChanges();e&&!t&&this.onConsistencyChanged(!0),e||this.onConsistencyChanged(!1)}constructor(e){(0,k._)(this,"mutations",void 0),(0,k._)(this,"document",void 0),(0,k._)(this,"LOCAL",void 0),(0,k._)(this,"commits",void 0),(0,k._)(this,"buffer",void 0),(0,k._)(this,"onMutation",void 0),(0,k._)(this,"onRemoteMutation",void 0),(0,k._)(this,"onRebase",void 0),(0,k._)(this,"onDelete",void 0),(0,k._)(this,"onConsistencyChanged",void 0),(0,k._)(this,"commitHandler",void 0),(0,k._)(this,"committerRunning",!1),this.buffer=new mF(e),this.document=new mM(e),this.document.onMutation=e=>this.handleDocMutation(e),this.document.onRemoteMutation=e=>this.onRemoteMutation&&this.onRemoteMutation(e),this.document.onRebase=(e,t,n)=>this.handleDocRebase(e,t,n),this.document.onConsistencyChanged=e=>this.handleDocConsistencyChanged(e),this.LOCAL=e,this.mutations=[],this.commits=[]}}var mL=e.i(73319),mz=e.i(668957),mV=e.i(633731),mU=e.i(144950),mH=e.i(312312),mq=e.i(572336),mW=e.i(148363),mY=e.i(208599),mK=e.i(150208),mG=e.i(802239);function m$(e,t,n){return delete e[t],e[t]=n,n}function mZ(e,t,n,r){let i=e.value,a=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:i,toValue:a,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:i,toValue:a,items:n}}function mX(e,t,n){if(e.length!==t.length)return;let r=[];for(let i=0;i<e.length;i++){let a=m0(e.at(i),t.at(i),n);if(a.isChanged)return;r.push({fromIndex:i,toIndex:i,hasMoved:!1,diff:a,annotation:t.annotationAt(i)})}return r}function mJ(e,t){if(void 0!==e.toIndex&&void 0!==t.toIndex)return e.toIndex-t.toIndex;if(void 0!==e.fromIndex&&void 0!==t.fromIndex)return e.fromIndex-t.fromIndex;if(void 0!==e.fromIndex&&void 0!==t.toIndex)return -1;if(void 0!==e.toIndex&&void 0!==t.fromIndex)return 1;throw Error("invalid item diff comparison")}function mQ(e,t,n){let r=e.get(t);(function(e,t){let n=e.indexOf(t);if(-1===n)throw Error("value not found");e.splice(n,1)})(r,n),0===r.length&&e.delete(t)}function m1(e){let t=new Map,n=[],r=e.length;for(let i=0;i<r;i++){let r=e.at(i),a=null;switch(r.type){case"string":a="s".concat(r.value);break;case"number":case"boolean":a=r.value;break;case"null":a="n";break;case"object":{let e=r.get("_key");if(e&&"string"===e.type&&(a="k".concat(e.value),t.has(a)))return}}if(null===a)return;n.push(a);let o=t.get(a);o||(o=[],t.set(a,o)),o.push(i)}return{keys:n,index:t}}e.s(["diffInput",()=>m0,"wrap",()=>m9],872774);let m2=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function m0(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.type!==t.type?"null"===e.type?m7(t,null):"null"===t.type?m5(e,null):{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:m5(e,void 0),toType:t.type,toValue:t.value,toDiff:m7(t,void 0),annotation:t.annotation}:function(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return function(e,t,n){let r=e.value,i=t.value,a=e.type;return r===i?{type:a,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}(t,n);case"number":return function(e,t,n){let r=e.value,i=t.value,a=e.type;return r===i?{type:a,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}(t,n);case"string":let i=t.value,a=n.value;return i===a?{type:"string",action:"unchanged",isChanged:!1,fromValue:i,toValue:a,segments:[{type:"stringSegment",action:"unchanged",text:i}]}:{type:"string",action:"changed",isChanged:!0,fromValue:i,toValue:a,annotation:n.annotation,get segments(){return m$(this,"segments",function(e,t){let n=[],r=uN(uP(e.value,t.value)),i=0,a=0;for(let[o,l]of r)switch(o){case 0:n.push({type:"stringSegment",action:"unchanged",text:l}),i+=l.length,a+=l.length;break;case -1:for(let t of e.sliceAnnotation(i,i+l.length))n.push({type:"stringSegment",action:"removed",text:t.text,annotation:t.annotation});i+=l.length;break;case 1:for(let e of t.sliceAnnotation(a,a+l.length))n.push({type:"stringSegment",action:"added",text:e.text,annotation:e.annotation});a+=l.length;break;default:throw Error('Unhandled diff-match-patch operation "'.concat(o,'"'))}return n}(t,n))}};case"array":if(t===n)return{type:"array",action:"unchanged",isChanged:!1,fromValue:t.value,toValue:n.value,get items(){let e=mX(t,n,r);if(!e)throw Error("invariant broken: equivalent input, but diff detected");return m$(this,"items",e)}};let o=m1(t),l=m1(n);if(o&&l)return function(e,t,n,r,i){var a,o;let l=[],s=!1;function c(i,a,o,c){mQ(t.index,i,a),mQ(r.index,i,o);let u=m0(e.at(a),n.at(o));l.push({fromIndex:a,toIndex:o,hasMoved:c,diff:u,annotation:n.annotationAt(o)}),(u.isChanged||a!==o)&&(s=!0)}let u=function(e,t,n){let r=t.length,i=n.length,a={sequence:[],prevIndices:[],nextIndices:[]};for(;0!==r&&0!==i;)t[r-1]===n[i-1]?(a.sequence.unshift(t[r-1]),a.prevIndices.unshift(r-1),a.nextIndices.unshift(i-1),--r,--i):e[r][i-1]>e[r-1][i]?--i:--r;return a}(function(e,t){let n=e.length,r=t.length,i=0,a=0,o=Array(n+1);for(i=0;i<n+1;i++)for(o[i]=[r+1],a=0;a<r+1;a++)o[i][a]=0;for(i=1;i<n+1;i++)for(a=1;a<r+1;a++)e[i-1]===t[a-1]?o[i][a]=o[i-1][a-1]+1:o[i][a]=Math.max(o[i-1][a],o[i][a-1]);return o}(a=t.keys,o=r.keys),a,o);for(let n=0;n<t.keys.length;n++){let i=t.keys[n],a=u.prevIndices.indexOf(n);if(-1!==a){c(i,n,u.nextIndices[a],!1);continue}let o=r.index.get(i),d=o&&o.find(e=>!u.nextIndices.includes(e));if(void 0!==d){c(i,n,d,!0);continue}let p=e.at(n);l.push({fromIndex:n,toIndex:void 0,hasMoved:!1,diff:m5(p,void 0),annotation:e.annotationAt(n)}),s=!0}for(let e of r.index.values()){for(let t of e){let e=n.at(t);l.push({fromIndex:void 0,toIndex:t,hasMoved:!1,diff:m7(e,void 0),annotation:n.annotationAt(t)})}s=!0}return l.sort(mJ),mZ(e,n,l,s)}(t,o,n,l);let s=mX(t,n,r);return s?mZ(t,n,s,!1):function(e,t,n){let r=[];for(let e=0;e<t.length;e++){let n=t.at(e);r.push({fromIndex:void 0,toIndex:e,hasMoved:!1,diff:m7(n,void 0),annotation:n.annotation})}for(let t=0;t<e.length;t++){let n=e.at(t);r.push({fromIndex:t,toIndex:void 0,hasMoved:!1,diff:m5(n,void 0),annotation:n.annotation})}return mZ(e,t,r,!0)}(t,n);case"object":return function(e,t,n){let r={},i=!1;for(let a of e.keys){if(m2.has(a))continue;let o=e.get(a),l=t.get(a);if(l){let e=m0(o,l,n);r[a]=e,e.isChanged&&(i=!0)}else r[a]=m5(o,void 0),i=!0}for(let n of t.keys){if(m2.has(n)||e.get(n))continue;let a=t.get(n);r[n]=m7(a,void 0),i=!0}let a=e.value,o=t.value;return i?{type:"object",action:"changed",isChanged:!0,fromValue:a,toValue:o,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:a,toValue:o,fields:r}}(t,n,r);default:throw Error('Unhandled diff type "'.concat(e,'"'))}}(e.type,e,t,n)}function m5(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){return m$(this,"segments",e.sliceAnnotation(0,e.value.length).map(e=>({type:"stringSegment",action:"removed",...e})))}};case"array":return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){let t=[];for(let n=0;n<e.length;n++){let r=e.at(n);t.push({fromIndex:n,toIndex:void 0,hasMoved:!1,diff:m5(r,void 0),annotation:e.annotationAt(n)})}return m$(this,"items",t)}};case"object":return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){let t={};for(let n of e.keys){let r=e.get(n);t[n]=m5(r,void 0)}return m$(this,"fields",t)}};default:throw Error("Unhandled diff type")}}function m7(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){return m$(this,"segments",e.sliceAnnotation(0,e.value.length).map(e=>({type:"stringSegment",action:"added",...e})))}};case"array":return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){let t=[];for(let n=0;n<e.length;n++){let r=e.at(n);t.push({fromIndex:void 0,toIndex:n,hasMoved:!1,diff:m7(r,void 0),annotation:e.annotationAt(n)})}return m$(this,"items",t)}};case"object":return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){let t={};for(let n of e.keys){let r=e.get(n);t[n]=m7(r,void 0)}return m$(this,"fields",t)}};default:throw Error("Unhandled diff type")}}class m3{at(e){if(e>=this.length)throw Error("out of bounds");return this.elements[e]||(this.elements[e]=m9(this.value[e],this.annotation))}annotationAt(){return this.annotation}constructor(e,t){(0,k._)(this,"type","array"),(0,k._)(this,"length",void 0),(0,k._)(this,"value",void 0),(0,k._)(this,"annotation",void 0),(0,k._)(this,"elements",[]),this.annotation=t,this.value=e,this.length=e.length}}class m8{constructor(e,t,n){(0,k._)(this,"type",void 0),(0,k._)(this,"value",void 0),(0,k._)(this,"annotation",void 0),this.type=e,this.value=t,this.annotation=n}}class m4{get(e){let t=this.fields[e];if(t)return t;if(!this.value.hasOwnProperty(e))return;let n=this.value[e];return this.fields[e]=m9(n,this.annotation)}constructor(e,t){(0,k._)(this,"type","object"),(0,k._)(this,"value",void 0),(0,k._)(this,"keys",void 0),(0,k._)(this,"annotation",void 0),(0,k._)(this,"fields",{}),this.value=Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return"u">typeof t})),this.annotation=t,this.keys=Object.keys(this.value)}}class m6{sliceAnnotation(e,t){return[{text:this.value.slice(e,t),annotation:this.annotation}]}constructor(e,t){(0,k._)(this,"type","string"),(0,k._)(this,"value",void 0),(0,k._)(this,"annotation",void 0),this.value=e,this.annotation=t}}function m9(e,t){if(Array.isArray(e))return new m3(e,t);if(null===e)return new m8("null",e,t);let n=typeof e;switch(n){case"number":case"boolean":return new m8(n,e,t);case"object":return new m4(e,t);case"string":return new m6(e,t);default:throw Error("cannot wrap value of type: ".concat(n))}}var ge=e.i(562407);function gt(e){let t,n,r,i=(0,j.c)(16),{cancelButtonIcon:a,cancelButtonText:o,confirmButtonIcon:l,confirmButtonText:s,message:c,onCancel:u,onConfirm:d,open:p,referenceElement:f,tone:h,placement:m,fallbackPlacements:g}=e,y=void 0===h?"critical":h,v=void 0===m?"top":m;i[0]!==g?(t=void 0===g?["left","bottom"]:g,i[0]=g,i[1]=t):t=i[1];let b=t;return p?(i[2]!==a||i[3]!==o||i[4]!==l||i[5]!==s||i[6]!==c||i[7]!==u||i[8]!==d||i[9]!==y?(n=(0,_.jsx)(gn,{cancelButtonIcon:a,cancelButtonText:o,confirmButtonIcon:l,confirmButtonText:s,message:c,onCancel:u,onConfirm:d,tone:y}),i[2]=a,i[3]=o,i[4]=l,i[5]=s,i[6]=c,i[7]=u,i[8]=d,i[9]=y,i[10]=n):n=i[10],i[11]!==b||i[12]!==v||i[13]!==f||i[14]!==n?(r=(0,_.jsx)(I.Popover,{content:n,constrainSize:!0,fallbackPlacements:b,open:!0,placement:v,portal:!0,preventOverflow:!0,referenceElement:f}),i[11]=b,i[12]=v,i[13]=f,i[14]=n,i[15]=r):r=i[15],r):null}function gn(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(29),{cancelButtonIcon:f,cancelButtonText:h,confirmButtonIcon:m,confirmButtonText:g,message:y,onCancel:v,onConfirm:b,tone:x}=e,{t:C}=(0,H.useTranslation)(),{isTopLayer:k}=(0,I.useLayer)(),w=(0,E.useRef)(null);return p[0]!==k||p[1]!==v?(t=e=>{"Escape"===e.key&&k&&v()},p[0]=k,p[1]=v,p[2]=t):t=p[2],(0,I.useGlobalKeyDown)(t),p[3]===Symbol.for("react.memo_cache_sentinel")?(n=()=>[w.current],p[3]=n):n=p[3],(0,I.useClickOutsideEvent)(k&&v,n),p[4]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:280,maxWidth:350},p[4]=r):r=p[4],p[5]!==y?(i=(0,_.jsx)(I.Box,{flex:1,overflow:"auto",padding:4,children:(0,_.jsx)(I.Text,{size:1,children:y})}),p[5]=y,p[6]=i):i=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(a={borderTop:"1px solid var(--card-border-color)"},p[7]=a):a=p[7],p[8]!==h||p[9]!==C?(o=h||C("common.dialog.cancel-button.text"),p[8]=h,p[9]=C,p[10]=o):o=p[10],p[11]!==f||p[12]!==v||p[13]!==o?(l=(0,_.jsx)(I.Button,{"data-testid":"confirm-popover-cancel-button",icon:f,onClick:v,mode:"ghost",padding:2,text:o,size:1}),p[11]=f,p[12]=v,p[13]=o,p[14]=l):l=p[14],p[15]!==g||p[16]!==C?(s=g||C("common.dialog.confirm-button.text"),p[15]=g,p[16]=C,p[17]=s):s=p[17],p[18]!==m||p[19]!==b||p[20]!==s||p[21]!==x?(c=(0,_.jsx)(I.Button,{"data-testid":"confirm-popover-confirm-button",icon:m,onClick:b,padding:2,text:s,tone:x,size:1}),p[18]=m,p[19]=b,p[20]=s,p[21]=x,p[22]=c):c=p[22],p[23]!==l||p[24]!==c?(u=(0,_.jsx)(I.Box,{paddingX:4,paddingY:3,style:a,children:(0,_.jsxs)(I.Grid,{columns:2,gap:2,children:[l,c]})}),p[23]=l,p[24]=c,p[25]=u):u=p[25],p[26]!==u||p[27]!==i?(d=(0,_.jsxs)(I.Flex,{direction:"column",ref:w,style:r,children:[i,u]}),p[26]=u,p[27]=i,p[28]=d):d=p[28],d}e.s(["ConfirmPopover",()=>gt,"MenuGroup",()=>gr],273638);let gr=e=>{let t,n,r,i=(0,j.c)(8),{tooltipProps:a}=e;i[0]!==a?(t=e=>(0,_.jsx)(B.Tooltip,{content:null==a?void 0:a.content,portal:!0,...a,children:(0,_.jsx)("div",{children:e})}),i[0]=a,i[1]=t):t=i[1];let o=t,l=!!a;return i[2]!==e?(n=(0,_.jsx)(I.MenuGroup,{...e,fontSize:1,padding:3}),i[2]=e,i[3]=n):n=i[3],i[4]!==o||i[5]!==l||i[6]!==n?(r=(0,_.jsx)(B.ConditionalWrapper,{condition:l,wrapper:o,children:n}),i[4]=o,i[5]=l,i[6]=n,i[7]=r):r=i[7],r};var gi=e.i(584262),ga=e.i(573086),go=e.i(487745),gl=e.i(842519),gs=e.i(749082);function gc(e){!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],a=r.variable[1].inside,o=0;o<i.length;o++)a[i[o]]=e.languages.bash[i[o]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash}(e)}function gu(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}function gd(e){e.register(gu),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source)+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}function gp(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}function gf(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var a={};a[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}function gh(e){e.register(gd),e.register(gf),function(e){var t=e.util.clone(e.languages.javascript),n=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function a(e,t){return RegExp(e=e.replace(/<S>/g,function(){return n}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return i}),t)}i=a(i).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=a(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:a(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:a(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var o=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(o).join(""):""},l=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],a=!1;if("string"!=typeof i&&("tag"===i.type&&i.content[0]&&"tag"===i.content[0].type?"</"===i.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===o(i.content[0].content[1])&&n.pop():"/>"===i.content[i.content.length-1].content||n.push({tagName:o(i.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===i.type&&"{"===i.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===i.type&&"}"===i.content?n[n.length-1].openedBraces--:a=!0),(a||"string"==typeof i)&&n.length>0&&0===n[n.length-1].openedBraces){var s=o(i);r<t.length-1&&("string"==typeof t[r+1]||"plain-text"===t[r+1].type)&&(s+=o(t[r+1]),t.splice(r+1,1)),r>0&&("string"==typeof t[r-1]||"plain-text"===t[r-1].type)&&(s=o(t[r-1])+s,t.splice(r-1,1),r--),t[r]=new e.Token("plain-text",s,null,s)}i.content&&"string"!=typeof i.content&&l(i.content)}};e.hooks.add("after-tokenize",function(e){("jsx"===e.language||"tsx"===e.language)&&l(e.tokens)})}(e)}function gm(e){var t;e.register(gd),e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"],t=e.languages.extend("typescript",{}),delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}gc.displayName="bash",gc.aliases=["sh","shell"],gu.displayName="clike",gu.aliases=[],gd.displayName="javascript",gd.aliases=["js"],gp.displayName="json",gp.aliases=["webmanifest"],gf.displayName="markup",gf.aliases=["atom","html","mathml","rss","ssml","svg","xml"],gh.displayName="jsx",gh.aliases=[],gm.displayName="typescript",gm.aliases=["ts"];let gg="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,gy="8.55.0",gv=globalThis;function gb(e,t,n){let r=n||gv,i=r.__SENTRY__=r.__SENTRY__||{},a=i[gy]=i[gy]||{};return a[e]||(a[e]=t())}let gx=["debug","info","warn","error","log","assert","trace"],gC={};function gk(e){if(!("console"in gv))return e();let t=gv.console,n={},r=Object.keys(gC);r.forEach(e=>{let r=gC[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let gw=gb("logger",function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return gg?gx.forEach(n=>{t[n]=function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];e&&gk(()=>{gv.console[n]("".concat("Sentry Logger ","[").concat(n,"]:"),...r)})}}):gx.forEach(e=>{t[e]=()=>void 0}),t});function g_(){if(!("fetch"in gv))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function gj(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}let gS="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,gE={},gT="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,gD=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function gI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{host:n,path:r,pass:i,port:a,projectId:o,protocol:l,publicKey:s}=e;return"".concat(l,"://").concat(s).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(a?":".concat(a):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function gA(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}let gO=Object.prototype.toString;function gP(e){switch(gO.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gH(e,Error)}}function gM(e,t){return gO.call(e)==="[object ".concat(t,"]")}function gF(e){return gM(e,"ErrorEvent")}function gR(e){return gM(e,"DOMError")}function gB(e){return gM(e,"String")}function gN(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function gL(e){return null===e||gN(e)||"object"!=typeof e&&"function"!=typeof e}function gz(e){return gM(e,"Object")}function gV(e){return"undefined"!=typeof Event&&gH(e,Event)}function gU(e){return!!(e&&e.then&&"function"==typeof e.then)}function gH(e,t){try{return e instanceof t}catch(e){return!1}}function gq(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}function gW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n,r=e,i=[],a=0,o=0,l=Array.isArray(t)?t:t.keyAttrs,s=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&a++<5&&(n=function(e,t){let n=[];if(!e||!e.tagName)return"";if(gv.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}n.push(e.tagName.toLowerCase());let r=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(r&&r.length)r.forEach(e=>{n.push("[".concat(e[0],'="').concat(e[1],'"]'))});else{e.id&&n.push("#".concat(e.id));let t=e.className;if(t&&gB(t))for(let e of t.split(/\s+/))n.push(".".concat(e))}for(let t of["aria-label","type","name","title","alt"]){let r=e.getAttribute(t);r&&n.push("[".concat(t,'="').concat(r,'"]'))}return n.join("")}(r,l),"html"!==n&&(!(a>1)||!(o+3*i.length+n.length>=s)));)i.push(n),o+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function gY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function gK(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let r=e[t];try{gq(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function gG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.some(t=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!gB(e)&&(gM(t,"RegExp")?t.test(e):!!gB(t)&&(n?e===t:e.includes(t)))})(e,t,n))}function g$(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&gX(i,r);try{e[t]=i}catch(n){gg&&gw.log('Failed to replace method "'.concat(t,'" in object'),e)}}function gZ(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){gg&&gw.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function gX(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,gZ(e,"__sentry_original__",t)}catch(e){}}function gJ(e){return e.__sentry_original__}function gQ(e){if(gP(e))return{message:e.message,name:e.name,stack:e.stack,...g2(e)};if(!gV(e))return e;{let t={type:e.type,target:g1(e.target),currentTarget:g1(e.currentTarget),...g2(e)};return"undefined"!=typeof CustomEvent&&gH(e,CustomEvent)&&(t.detail=e.detail),t}}function g1(e){try{return"undefined"!=typeof Element&&gH(e,Element)?gW(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function g2(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function g0(e){return function e(t,n){if(function(e){if(!gz(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.getOwnPropertyNames(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}let g5=/\(error: (.*)\)/,g7=/captureMessage|captureException/;function g3(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],a=e.split("\n");for(let e=t;e<a.length;e++){let t=a[e];if(t.length>1024)continue;let o=g5.test(t)?t.replace(g5,"$1"):t;if(!o.match(/\S*Error: /)){for(let e of r){let t=e(o);if(t){i.push(t);break}}if(i.length>=50+n)break}}var o=i.slice(n);if(!o.length)return[];let l=Array.from(o);return/sentryWrapped/.test(g8(l).function||"")&&l.pop(),l.reverse(),g7.test(g8(l).function||"")&&(l.pop(),g7.test(g8(l).function||"")&&l.pop()),l.slice(0,50).map(e=>({...e,filename:e.filename||g8(l).filename,function:e.function||"?"}))}}function g8(e){return e[e.length-1]||{}}let g4="<anonymous>";function g6(e){try{if(!e||"function"!=typeof e)return g4;return e.name||g4}catch(e){return g4}}function g9(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}function ye(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity;try{return function t(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Infinity,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}(),[l,s]=o;if(null==r||["boolean","string"].includes(typeof r)||"number"==typeof r&&Number.isFinite(r))return r;let c=function(t,n){try{if("domain"===t&&n&&"object"==typeof n&&n._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(n===e.g)return"[Global]";if("undefined"!=typeof window&&n===window)return"[Window]";if("undefined"!=typeof document&&n===document)return"[Document]";if(gq(n))return"[VueViewModel]";if(gz(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof n&&!Number.isFinite(n))return"[".concat(n,"]");if("function"==typeof n)return"[Function: ".concat(g6(n),"]");if("symbol"==typeof n)return"[".concat(String(n),"]");if("bigint"==typeof n)return"[BigInt: ".concat(String(n),"]");let r=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(n);if(/^HTML(\w*)Element$/.test(r))return"[HTMLElement: ".concat(r,"]");return"[object ".concat(r,"]")}catch(e){return"**non-serializable** (".concat(e,")")}}(n,r);if(!c.startsWith("[object "))return c;if(r.__sentry_skip_normalization__)return r;let u="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:i;if(0===u)return c.replace("object ","");if(l(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let e=r.toJSON();return t("",e,u-1,a,o)}catch(e){}let d=Array.isArray(r)?[]:{},p=0,f=gQ(r);for(let e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(p>=a){d[e]="[MaxProperties ~]";break}let n=f[e];d[e]=t(e,n,u-1,a,o),p++}return s(r),d}("",t,n,r)}catch(e){return{ERROR:"**non-serializable** (".concat(e,")")}}}function yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[e,t]}function yn(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function yr(e){return gv.__SENTRY__&&gv.__SENTRY__.encodePolyfill?gv.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}let yi={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function ya(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}class yo extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}function yl(e){return new yc(t=>{t(e)})}function ys(e){return new yc((t,n)=>{n(e)})}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(m||(m={}));class yc{then(e,t){return new yc((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new yc((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i)return void n(r);t(r)})})}__init(){this._resolve=e=>{this._setResult(m.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(m.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===m.PENDING){if(gU(t))return void t.then(this._resolve,this._reject);this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===m.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===m.RESOLVED&&e[1](this._value),this._state===m.REJECTED&&e[2](this._value),e[0]=!0)})}}constructor(e){yc.prototype.__init.call(this),yc.prototype.__init2.call(this),yc.prototype.__init3.call(this),yc.prototype.__init4.call(this),this._state=m.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}}function yu(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function yd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){let t=gE[e];if(t)return t;let n=gv[e];if(gj(n))return gE[e]=n.bind(gv);let r=gv.document;if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(t){gS&&gw.warn("Could not create sandbox iframe for ".concat(e," check, bailing to window.").concat(e,": "),t)}return n?gE[e]=n.bind(gv):n}("fetch"),n=0,r=0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ys(new yo("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new yc((n,r)=>{let i=t.length;if(!i)return n(!0);let a=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{yl(e).then(()=>{--i||(clearTimeout(a),n(!0))},r)})})}}}(e.bufferSize||64),r={};return{send:function(i){let a=[];if(yn(i,(t,n)=>{let i=yi[n];if(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return(e[t]||e.all||0)>n}(r,i)){let r=yu(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else a.push(t)}),0===a.length)return yl({});let o=yt(i[0],a),l=t=>{yn(o,(n,r)=>{let i=yu(n,r);e.recordDroppedEvent(t,yi[r],i)})};return n.add(()=>t({body:function(e){let[t,n]=e,r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[yr(r),e]:r.push("string"==typeof e?yr(e):e)}for(let e of n){let[t,n]=e;if(i("\n".concat(JSON.stringify(t),"\n")),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(ye(n))}i(e)}}return"string"==typeof r?r:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(r)}(o)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&gT&&gw.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=function(e,t){let{statusCode:n,headers:r}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),a={...e},o=r&&r["x-sentry-rate-limits"],l=r&&r["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,n,,,r]=e.split(":",5),o=parseInt(t,10),l=(isNaN(o)?60:o)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!r||r.split(";").includes("custom"))&&(a[e]=i+l):a[e]=i+l;else a.all=i+l}else l?a.all=i+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;let r=Date.parse("".concat(e));return isNaN(r)?6e4:r-t}(l,i):429===n&&(a.all=i+6e4);return a}(r,e),e),e=>{throw l("network_error"),e})).then(e=>e,e=>{if(e instanceof yo)return gT&&gw.error("Skipped sending event because buffer is full."),l("queue_overflow"),yl({});throw e})},flush:e=>n.drain(e)}}(e,function(i){let a=i.body.length;n+=a,r++;let o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return gE.fetch=void 0,ys("No fetch implementation available");try{return t(e.url,o).then(e=>(n-=a,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return gE.fetch=void 0,n-=a,r--,ys(e)}})}function yp(){return yf(gv),gv}function yf(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||gy,t[gy]=t[gy]||{}}function yh(){return Date.now()/1e3}let ym=function(){let{performance:e}=gv;if(!e||!e.now)return yh;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function yg(){let e=gv.crypto||gv.msCrypto,t=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{let t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function yy(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function yv(e){let{message:t,event_id:n}=e;if(t)return t;let r=yy(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function yb(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function yx(e,t){let n=yy(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function yC(e){if(function(e){try{return e.__sentry_captured__}catch(e){}}(e))return!0;try{gZ(e,"__sentry_captured__",!0)}catch(e){}return!1}function yk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ym(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:yg()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}(()=>{let{performance:e}=gv;if(!e||!e.now)return;let t=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,i=e.timing&&e.timing.navigationStart,a="number"==typeof i?Math.abs(i+t-n):36e5;if((r<36e5||a<36e5)&&r<=a)return e.timeOrigin})();function yw(){return yg().substring(16)}function y_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!=typeof t||n<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;let r={...e};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=y_(r[e],t[e],n-1));return r}let yj="_sentrySpan";function yS(e,t){t?gZ(e,yj,t):delete e[yj]}class yE{clone(){let e=new yE;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,yS(e,this[yj]),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&yk(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,[n,r]=t instanceof yT?[t.getScopeData(),t.getRequestSession()]:gz(t)?[e,e.requestSession]:[],{tags:i,extra:a,user:o,contexts:l,level:s,fingerprint:c=[],propagationContext:u}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),s&&(this._level=s),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,yS(this,void 0),this._attachments=[],this.setPropagationContext({traceId:yg()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:yh(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:this[yj]}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=y_(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:yw(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:yg();if(!this._client)return gw.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n&&n.event_id?n.event_id:yg();if(!this._client)return gw.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:yg();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):gw.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:yg(),spanId:yw()}}}let yT=yE;class yD{withScope(e){let t,n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return gU(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}constructor(e,t){let n,r;n=e||new yT,r=t||new yT,this._stack=[{scope:n}],this._isolationScope=r}}function yI(){let e=yf(yp());return e.stack=e.stack||new yD(gb("defaultCurrentScope",()=>new yT),gb("defaultIsolationScope",()=>new yT))}function yA(e){return yI().withScope(e)}function yO(e,t){let n=yI();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function yP(e){return yI().withScope(()=>e(yI().getIsolationScope()))}function yM(e){let t=yf(e);return t.acs?t.acs:{withIsolationScope:yP,withScope:yA,withSetScope:yO,withSetIsolationScope:(e,t)=>yP(t),getCurrentScope:()=>yI().getScope(),getIsolationScope:()=>yI().getIsolationScope()}}function yF(){return yM(yp()).getCurrentScope()}function yR(){return yM(yp()).getIsolationScope()}function yB(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=yM(yp());if(2===t.length){let[e,n]=t;return e?r.withSetScope(e,n):r.withScope(n)}return r.withScope(t[0])}function yN(){return yF().getClient()}let yL=[];function yz(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function yV(e,t,n){if(n[t.name]){gT&&gw.log("Integration skipped because it was already installed: ".concat(t.name));return}if(n[t.name]=t,-1===yL.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),yL.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}gT&&gw.log("Integration installed: ".concat(t.name))}let yU=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],yH=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"InboundFilters",processEvent:(t,n,r)=>{var i,a,o,l,s;return(i=t,(a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:yU],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions())).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(i)?(gT&&gw.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat(yv(i))),0):(o=i,l=a.ignoreErrors,!o.type&&l&&l.length&&(function(e){let t,n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push("".concat(t.type,": ").concat(t.value))),n})(o).some(e=>gG(e,l)))?(gT&&gw.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(yv(i))),0):(s=i).type||!s.exception||!s.exception.values||0===s.exception.values.length||s.message||s.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)?!function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&gG(n,t)}(i,a.ignoreTransactions)?!function(e,t){if(!t||!t.length)return!1;let n=yq(e);return!!n&&gG(n,t)}(i,a.denyUrls)?function(e,t){if(!t||!t.length)return!0;let n=yq(e);return!n||gG(n,t)}(i,a.allowUrls)||(gT&&gw.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(yv(i),".\nUrl: ").concat(yq(i))),0):(gT&&gw.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(yv(i),".\nUrl: ").concat(yq(i))),0):(gT&&gw.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(yv(i))),0):(gT&&gw.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(yv(i))),0))?t:null}}};function yq(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return gT&&gw.error("Cannot extract url for event ".concat(yv(e))),null}}let yW=new WeakMap,yY=()=>({name:"FunctionToString",setupOnce(){t=Function.prototype.toString;try{Function.prototype.toString=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=gJ(this),a=yW.has(yN())&&void 0!==i?i:this;return t.apply(a,n)}}catch(e){}},setup(e){yW.set(e,!0)}}),yK="production",yG=/^sentry-/;function y$(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,t)=>{let[n,r]=t;return n&&r&&(e[n]=r),e},{})}RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");let yZ=!1;function yX(e){return"number"==typeof e?yJ(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?yJ(e.getTime()):ym()}function yJ(e){return e>0x2540be3ff?e/1e3:e}function yQ(e){if("function"==typeof e.getSpanJSON)return e.getSpanJSON();try{var t;let{spanId:n,traceId:r}=e.spanContext();if((t=e).attributes&&t.startTime&&t.name&&t.endTime&&t.status){let{attributes:t,startTime:i,name:a,endTime:o,parentSpanId:l,status:s}=e;return g0({span_id:n,trace_id:r,data:t,description:a,parent_span_id:l,start_timestamp:yX(i),timestamp:yX(o)||void 0,status:function(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}(s),op:t["sentry.op"],origin:t["sentry.origin"],_metrics_summary:function(e){let t=e._sentryMetrics;if(!t)return;let n={};for(let[,[e,r]]of t)(n[e]||(n[e]=[])).push(g0(r));return n}(e)})}return{span_id:n,trace_id:r}}catch(e){return{}}}function y1(e){return e._sentryRootSpan||e}function y2(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=g0({environment:n.environment||yK,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function y0(e,t){let{extra:n,tags:r,user:i,contexts:a,level:o,sdkProcessingMetadata:l,breadcrumbs:s,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:p,transactionName:f,span:h}=t;y5(e,"extra",n),y5(e,"tags",r),y5(e,"user",i),y5(e,"contexts",a),e.sdkProcessingMetadata=y_(e.sdkProcessingMetadata,l,2),o&&(e.level=o),f&&(e.transactionName=f),h&&(e.span=h),s.length&&(e.breadcrumbs=[...e.breadcrumbs,...s]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function y5(e,t,n){e[t]=y_(e[t],n,1)}let y7=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function y3(e,t){return yF().captureException(e,function(e){if(e){var t;return(t=e)instanceof yT||"function"==typeof t||Object.keys(e).some(e=>y7.includes(e))?{captureContext:e}:e}}(t))}function y8(e,t){return yF().captureEvent(e,t)}function y4(e){let t=yN(),n=yR(),r=yF(),{release:i,environment:a=yK}=t&&t.getOptions()||{},{userAgent:o}=gv.navigator||{},l=function(e){let t=ym(),n={sid:yg(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var e;return e=n,g0({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}};return e&&yk(n,e),n}({release:i,environment:a,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),s=n.getSession();return s&&"ok"===s.status&&yk(s,{status:"exited"}),y6(),n.setSession(l),r.setSession(l),l}function y6(){let e,t=yR(),n=yF(),r=n.getSession()||t.getSession();r&&(e={},"ok"===r.status&&(e={status:"exited"}),yk(r,e)),y9(),t.setSession(),n.setSession()}function y9(){let e=yR(),t=yF(),n=yN(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return void y6();y9()}let vt=0;function vn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)if("function"==typeof t)return t;else return e;if(gJ(e))return e}catch(t){return e}let n=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];try{let n=r.map(e=>vn(e,t));return e.apply(this,n)}catch(e){throw vt++,setTimeout(()=>{vt--}),yB(n=>{n.addEventProcessor(e=>(t.mechanism&&(yb(e,void 0,void 0),yx(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),y3(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}gX(n,e),gZ(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(e){}return n}let vr=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&g$(gv,"setTimeout",va),t.setInterval&&g$(gv,"setInterval",va),t.requestAnimationFrame&&g$(gv,"requestAnimationFrame",vo),t.XMLHttpRequest&&"XMLHttpRequest"in gv&&g$(XMLHttpRequest.prototype,"send",vl);let e=t.eventTarget;e&&(Array.isArray(e)?e:vr).forEach(vs)}}};function va(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0];return n[0]=vn(i,{mechanism:{data:{function:g6(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function vo(e){return function(t){return e.apply(this,[vn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:g6(e)},handled:!1,type:"instrument"}})])}}function vl(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in i&&"function"==typeof i[e]&&g$(i,e,function(t){let n={mechanism:{data:{function:e,handler:g6(t)},handled:!1,type:"instrument"}},r=gJ(t);return r&&(n.mechanism.data.handler=g6(r)),vn(t,n)})}),e.apply(this,n)}}function vs(e){let t=gv[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(g$(n,"addEventListener",function(t){return function(n,r,i){try{var a;a=r,"function"==typeof a.handleEvent&&(r.handleEvent=vn(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:g6(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,vn(r,{mechanism:{data:{function:"addEventListener",handler:g6(r),target:e},handled:!1,type:"instrument"}}),i])}}),g$(n,"removeEventListener",function(e){return function(t,n,r){try{let i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}let vc={},vu={};function vd(e,t){vc[e]=vc[e]||[],vc[e].push(t)}function vp(e,t){if(!vu[e]){vu[e]=!0;try{t()}catch(t){gg&&gw.error("Error while instrumenting ".concat(e),t)}}}function vf(e,t){let n=e&&vc[e];if(n)for(let r of n)try{r(t)}catch(t){gg&&gw.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(g6(r),"\nError:"),t)}}function vh(){if(!gv.document)return;let e=vf.bind(null,"dom"),t=vm(e,!0);gv.document.addEventListener("click",t,!1),gv.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=gv[t],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(g$(r,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=r[n]=r[n]||{refCount:0};if(!a.handler){let r=vm(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch(e){}return t.call(this,n,r,i)}}),g$(r,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function vm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{var r;if(!n||n._sentryCaptured)return;let i=function(e){try{return e.target}catch(e){return null}}(n);if(r=n.type,"keypress"===r&&(!i||!i.tagName||"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!i.isContentEditable&&1))return;gZ(n,"_sentryCaptured",!0),i&&!i._sentryId&&gZ(i,"_sentryId",yg());let s="keypress"===n.type?"input":n.type;!function(e){if(e.type!==o)return!1;try{if(!e.target||e.target._sentryId!==l)return!1}catch(e){}return!0}(n)&&(e({event:n,name:s,global:t}),o=n.type,l=i?i._sentryId:void 0),clearTimeout(a),a=gv.setTimeout(()=>{l=void 0,o=void 0},1e3)}}let vg="__sentry_xhr_v3__";function vy(){if(!gv.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){let r=Error(),i=1e3*ym(),a=gB(n[0])?n[0].toUpperCase():void 0,o=function(e){if(gB(e))return e;try{return e.toString()}catch(e){}}(n[1]);if(!a||!o)return e.apply(t,n);t[vg]={method:a,url:o,request_headers:{}},"POST"===a&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let l=()=>{let e=t[vg];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}vf("xhr",{endTimestamp:1e3*ym(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(l(),e.apply(t,n))}):t.addEventListener("readystatechange",l),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){let[r,i]=n,a=t[vg];return a&&gB(r)&&gB(i)&&(a.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){let r=t[vg];return r&&(void 0!==n[0]&&(r.body=n[0]),vf("xhr",{startTimestamp:1e3*ym(),xhr:t})),e.apply(t,n)}})}function vv(e){let t="history";vd(t,e),vp(t,vb)}function vb(){if(!function(){let e=gv.chrome,t=e&&e.app&&e.app.runtime,n="history"in gv&&!!gv.history.pushState&&!!gv.history.replaceState;return!t&&n}())return;let e=gv.onpopstate;function t(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n.length>2?n[2]:void 0;if(i){let e=s,t=String(i);s=t,vf("history",{from:e,to:t})}return e.apply(this,n)}}gv.onpopstate=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=gv.location.href,a=s;if(s=i,vf("history",{from:a,to:i}),e)try{return e.apply(this,n)}catch(e){}},g$(gv.history,"pushState",t),g$(gv.history,"replaceState",t)}function vx(){"console"in gv&&gx.forEach(function(e){e in gv.console&&g$(gv.console,e,function(t){return gC[e]=t,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];vf("console",{args:n,level:e});let i=gC[e];i&&i.apply(gv.console,n)}})})}function vC(e,t){return!!e&&"object"==typeof e&&!!e[t]}function vk(e){return"string"==typeof e?e:e?vC(e,"url")?e.url:e.toString?e.toString():"":""}function vw(e,t){let n=yN(),r=yR();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:a=100}=n.getOptions();if(a<=0)return;let o={timestamp:yh(),...e},l=i?gk(()=>i(o,t)):o;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,a))}function v_(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function vj(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}let vS="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,vE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n,r,i,a,o,l,s;t.console&&function(e){let t="console";vd(t,e),vp(t,vx)}((n=e,function(e){var t;if(yN()!==n)return;let r={category:"console",data:{arguments:e.args,logger:"console"},level:"warn"===(t=e.level)?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log",message:gK(e.args," ")};if("assert"===e.level)if(!1!==e.args[0])return;else r.message="Assertion failed: ".concat(gK(e.args.slice(1)," ")||"console.assert"),r.data.arguments=e.args.slice(1);vw(r,{input:e.args,level:e.level})})),t.dom&&(vd("dom",(r=e,i=t.dom,function(e){let t,n;if(yN()!==r)return;let a="object"==typeof i?i.serializeAttribute:void 0,o="object"==typeof i&&"number"==typeof i.maxStringLength?i.maxStringLength:void 0;o&&o>1024&&(vS&&gw.warn("`dom.maxStringLength` cannot exceed ".concat(1024,", but a value of ").concat(o," was configured. Sentry will use ").concat(1024," instead.")),o=1024),"string"==typeof a&&(a=[a]);try{var l;let r=e.event,i=(l=r)&&l.target?r.target:r;t=gW(i,{keyAttrs:a,maxStringLength:o}),n=function(e){if(!gv.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(i)}catch(e){t="<unknown>"}if(0===t.length)return;let s={category:"ui.".concat(e.name),message:t};n&&(s.data={"ui.component_name":n}),vw(s,{event:e.event,name:e.name,global:e.global})})),vp("dom",vh)),t.xhr&&(vd("xhr",(a=e,function(e){if(yN()!==a)return;let{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[vg];if(!t||!n||!r)return;let{method:i,url:o,status_code:l,body:s}=r,c={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:n};vw({category:"xhr",data:{method:i,url:o,status_code:l},type:"http",level:v_(l)},c)})),vp("xhr",vy)),t.fetch&&function(e,t){let n="fetch";vd(n,e),vp(n,()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(!t||function(){if("string"==typeof EdgeRuntime)return!0;if(!g_())return!1;if(gj(gv.fetch))return!0;let e=!1,t=gv.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=gj(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){gg&&gw.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())&&g$(gv,"fetch",function(t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];let a=Error(),{method:o,url:l}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:vk(t),method:vC(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:vk(t),method:vC(t,"method")?String(t.method).toUpperCase():"GET"}}(r),s={args:r,fetchData:{method:o,url:l},startTimestamp:1e3*ym(),virtualError:a};return e||vf("fetch",{...s}),t.apply(gv,r).then(async t=>(e?e(t):vf("fetch",{...s,endTimestamp:1e3*ym(),response:t}),t),e=>{throw vf("fetch",{...s,endTimestamp:1e3*ym(),error:e}),gP(e)&&void 0===e.stack&&(e.stack=a.stack,gZ(e,"framesToPop",1)),e})}})})(void 0,void 0))}((o=e,function(e){if(yN()!==o)return;let{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error)vw({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:t,endTimestamp:n});else{let r=e.response,i={...e.fetchData,status_code:r&&r.status},a={input:e.args,response:r,startTimestamp:t,endTimestamp:n},o=v_(i.status_code);vw({category:"fetch",data:i,type:"http",level:o},a)}})),t.history&&vv((l=e,function(e){if(yN()!==l)return;let t=e.from,n=e.to,r=vj(gv.location.href),i=t?vj(t):void 0,a=vj(n);i&&i.path||(i=r),r.protocol===a.protocol&&r.host===a.host&&(n=a.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),vw({category:"navigation",data:{from:t,to:n}})})),t.sentry&&e.on("beforeSendEvent",(s=e,function(e){yN()===s&&vw({category:"sentry.".concat("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:yv(e)},{event:e})}))}}},vT=null;function vD(){vT=gv.onerror,gv.onerror=function(e,t,n,r,i){return vf("error",{column:r,error:i,line:n,msg:e,url:t}),!!vT&&vT.apply(this,arguments)},gv.onerror.__SENTRY_INSTRUMENTED__=!0}let vI=null;function vA(){vI=gv.onunhandledrejection,gv.onunhandledrejection=function(e){return vf("unhandledrejection",e),!vI||vI.apply(this,arguments)},gv.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function vO(e,t){let n=vM(e,t),r={type:function(e){let t=e&&e.name;return!t&&vR(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}(t),value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:vR(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function vP(e,t){return{exception:{values:[vO(e,t)]}}}function vM(e,t){var n,r;let i=t.stacktrace||t.stack||"",a=(n=t)&&vF.test(n.message)?1:0,o="number"==typeof(r=t).framesToPop?r.framesToPop:0;try{return e(i,a,o)}catch(e){}return[]}let vF=/Minified React error #\d+;/i;function vR(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function vB(e,t,n,r,i){let a;if(gF(t)&&t.error)return vP(e,t.error);if(gR(t)||gM(t,"DOMException")){if("stack"in t)a=vP(e,t);else{let i=t.name||(gR(t)?"DOMError":"DOMException"),o=t.message?"".concat(i,": ").concat(t.message):i;yb(a=vN(e,o,n,r),o)}return"code"in t&&(a.tags={...a.tags,"DOMException.code":"".concat(t.code)}),a}return gP(t)?vP(e,t):(gz(t)||gV(t)?yx(a=function(e,t,n,r){let i=yN(),a=i&&i.getOptions().normalizeDepth,o=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(t),l={__serialized__:function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,i=ye(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}(t,a)};if(o)return{exception:{values:[vO(e,o)]},extra:l};let s={exception:{values:[{type:gV(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,t){let{isUnhandledRejection:n}=t,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=Object.keys(gQ(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return gY(r,t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return gY(r,t)}}return""}(e),i=n?"promise rejection":"exception";if(gF(e))return"Event `ErrorEvent` captured as ".concat(i," with message `").concat(e.message,"`");if(gV(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return"Event `".concat(t,"` (type=").concat(e.type,") captured as ").concat(i)}return"Object captured as ".concat(i," with keys: ").concat(r)}(t,{isUnhandledRejection:r})}]},extra:l};if(n){let t=vM(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,i),{synthetic:!0}):(yb(a=vN(e,t,n,r),"".concat(t),void 0),yx(a,{synthetic:!0})),a)}function vN(e,t,n,r){let i={};if(r&&n){let r=vM(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),yx(i,{synthetic:!0})}if(gN(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let vL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){let t="error";vd(t,t=>{let{stackParser:n,attachStacktrace:r}=vV();if(yN()!==e||vt>0)return;let{msg:i,url:a,line:o,column:l,error:s}=t,c=function(e,t,n,r){let i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},l=o.stacktrace=o.stacktrace||{},s=l.frames=l.frames||[],c=gB(t)&&t.length>0?t:function(){try{return gv.document.location.href}catch(e){return""}}();return 0===s.length&&s.push({colno:r,filename:c,function:"?",in_app:!0,lineno:n}),e}(vB(n,s||i,void 0,r,!1),a,o,l);c.level="error",y8(c,{originalException:s,mechanism:{handled:!1,type:"onerror"}})}),vp(t,vD)}(e),vz("onerror")),t.onunhandledrejection&&(function(e){let t="unhandledrejection";vd(t,t=>{var n;let{stackParser:r,attachStacktrace:i}=vV();if(yN()!==e||vt>0)return;let a=function(e){if(gL(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),o=gL(a)?(n=a,{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(n))}]}}):vB(r,a,void 0,i,!0);o.level="error",y8(o,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})}),vp(t,vA)}(e),vz("onunhandledrejection"))}}};function vz(e){vS&&gw.log("Global Handler attached: ".concat(e))}function vV(){let e=yN();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function vU(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function vH(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}let vq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){let a=i.getOptions();!function(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!l.exception||!l.exception.values||!s||!gH(s.originalException,Error))return;let c=l.exception.values.length>0?l.exception.values[l.exception.values.length-1]:void 0;c&&(l.exception.values=(n=function e(t,n,r,i,a,o,l,s){if(o.length>=r+1)return o;let c=[...o];if(gH(i[a],Error)){vU(l,s);let o=t(n,i[a]),u=c.length;vH(o,a,u,s),c=e(t,n,r,i[a],a,[o,...c],o,u)}return Array.isArray(i.errors)&&i.errors.forEach((i,o)=>{if(gH(i,Error)){vU(l,s);let u=t(n,i),d=c.length;vH(u,"errors[".concat(o,"]"),d,s),c=e(t,n,r,i,a,[u,...c],u,d)}}),c}(e,t,o,s.originalException,a,l.exception.values,c,0),r=i,n.map(e=>(e.value&&(e.value=gY(e.value,r)),e))))}(vO,a.stackParser,a.maxValueLength,n,t,e,r)}}},vW=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{var n,r;if(n=t,(r=e)&&(function(e,t){let n=e.message,r=t.message;return(!!n||!!r)&&(!n||!!r)&&(!!n||!r)&&n===r&&!!vK(e,t)&&!!vY(e,t)&&!0}(n,r)||function(e,t){let n=vG(t),r=vG(e);return!!n&&!!r&&n.type===r.type&&n.value===r.value&&!!vK(e,t)&&!!vY(e,t)}(n,r)))return gT&&gw.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function vY(e,t){let n=g9(e),r=g9(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function vK(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch(e){return!1}}function vG(e){return e.exception&&e.exception.values&&e.exception.values[0]}let v$=()=>({name:"HttpContext",preprocessEvent(e){if(!gv.navigator&&!gv.location&&!gv.document)return;let t=e.request&&e.request.url||gv.location&&gv.location.href,{referrer:n}=gv.document||{},{userAgent:r}=gv.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},a={...e.request,...t&&{url:t},headers:i};e.request=a}}),vZ="Not capturing exception because it's already been captured.";class vX{captureException(e,t,n){let r=yg();if(yC(e))return gT&&gw.log(vZ),r;let i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){let i={event_id:yg(),...n},a=gN(e)?e:String(e),o=gL(e)?this.eventFromMessage(a,t,i):this.eventFromException(e,i);return this._process(o.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=yg();if(t&&t.originalException&&yC(t.originalException))return gT&&gw.log(vZ),r;let i={event_id:r,...t},a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,a||n)),i.event_id}captureSession(e){"string"!=typeof e.release?gT&&gw.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),yk(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):yl(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(e=>{let{name:t}=e;return t.startsWith("Spotlight")}))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];yV(this,e,this._integrations),t||yz(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){var i;let a=ya(n),o=e.type&&"replay_event"!==e.type?e.type:"event";(i=n&&n.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let l=function(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:gI(r)},...i&&{trace:g0({...i})}}}(e,a,r,t);return delete e.sdkProcessingMetadata,yt(l,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=function(e,t){let[n,r]=e;return[n,[...r,t]]}(n,function(e){let t="string"==typeof e.data?yr(e.data):e.data;return[g0({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}(e));let r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=function(e,t,n,r){let i=ya(n);return yt({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:gI(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let r="number"==typeof n?n:1,i="".concat(e,":").concat(t);gT&&gw.log('Recording outcome: "'.concat(i,'"').concat(r>1?" (".concat(r," times)"):"")),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=this._hooks[e];i&&i.forEach(e=>e(...n))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(gT&&gw.error("Error while sending envelope:",e),e)):(gT&&gw.error("Transport disabled"),yl({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&yV(e,t,n)}),n}(this,e),yz(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let a="ok"===e.status;(a&&0===e.errors||a&&n)&&(yk(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new yc(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yF(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yR(),l=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),e.type||o.setLastEventId(e.event_id||t.event_id),(function(e,t,a,o,l,s){var c,u,d,p,f,h;let{normalizeDepth:m=3,normalizeMaxBreadth:g=1e3}=e,y={...t,event_id:t.event_id||a.event_id||yg(),timestamp:t.timestamp||yh()},v=a.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:a=250}=t;e.environment=e.environment||n||yK,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=gY(e.message,a));let o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=gY(o.value,a));let l=e.request;l&&l.url&&(l.url=gY(l.url,a))})(y,e),c=y,(u=v).length>0&&(c.sdk=c.sdk||{},c.sdk.integrations=[...c.sdk.integrations||[],...u]),l&&l.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){let a=function(e){let t=gv._sentryDebugIds;if(!t)return{};let a=Object.keys(t);return i&&a.length===r?i:(r=a.length,i=a.reduce((r,i)=>{n||(n={});let a=n[i];if(a)r[a[0]]=a[1];else{let a=e(i);for(let e=a.length-1;e>=0;e--){let o=a[e],l=o&&o.filename,s=t[i];if(l&&s){r[l]=s,n[i]=[l,s];break}}}return r},{}))}(t);try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{a&&e.filename&&(e.debug_id=a[e.filename])})})}catch(e){}}(y,e.stackParser);let b=function(e,t){if(!t)return e;let n=e?e.clone():new yT;return n.update(t),n}(o,a.captureContext);a.mechanism&&yx(y,a.mechanism);let x=l?l.getEventProcessors():[],C=gb("globalScope",()=>new yT).getScopeData();s&&y0(C,s.getScopeData()),b&&y0(C,b.getScopeData());let k=[...a.attachments||[],...C.attachments];k.length&&(a.attachments=k);let{fingerprint:w,span:_,breadcrumbs:j,sdkProcessingMetadata:S}=C;return function(e,t){let{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:l}=t,s=g0(n);s&&Object.keys(s).length&&(e.extra={...s,...e.extra});let c=g0(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});let u=g0(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});let d=g0(a);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),l&&"transaction"!==e.type&&(e.transaction=l)}(y,C),_&&function(e,t){e.contexts={trace:function(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext();return g0({parent_span_id:r?t:yQ(e).parent_span_id,span_id:r?yw():t,trace_id:n})}(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:function(e){let t=yN();if(!t)return{};let n=y1(e),r=n._frozenDsc;if(r)return r;let i=n.spanContext().traceState,a=i&&i.get("sentry.dsc"),o=a&&function(e){let t=function(e){if(e&&(gB(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce((e,t)=>(Object.entries(y$(t)).forEach(t=>{let[n,r]=t;e[n]=r}),e),{}):y$(e)}(e);if(!t)return;let n=Object.entries(t).reduce((e,t)=>{let[n,r]=t;return n.match(yG)&&(e[n.slice(7)]=r),e},{});return Object.keys(n).length>0?n:void 0}(a);if(o)return o;let l=y2(e.spanContext().traceId,t),s=yQ(n),c=s.data||{},u=c["sentry.sample_rate"];null!=u&&(l.sample_rate="".concat(u));let d=c["sentry.source"],p=s.description;return"url"!==d&&p&&(l.transaction=p),function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=yN(),n=t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}()&&(l.sampled=String(function(e){let{traceFlags:t}=e.spanContext();return 1===t}(n))),t.emit("createDsc",l,n),l}(t),...e.sdkProcessingMetadata};let n=yQ(y1(t)).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(y,_),d=y,p=w,d.fingerprint=d.fingerprint?Array.isArray(d.fingerprint)?d.fingerprint:[d.fingerprint]:[],p&&(d.fingerprint=d.fingerprint.concat(p)),d.fingerprint&&!d.fingerprint.length&&delete d.fingerprint,function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(y,j),f=y,h=S,f.sdkProcessingMetadata={...f.sdkProcessingMetadata,...h},(function e(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new yc((a,o)=>{let l=t[i];if(null===n||"function"!=typeof l)a(n);else{let s=l({...n},r);gT&&l.id&&null===s&&gw.log('Event processor "'.concat(l.id,'" dropped event')),gU(s)?s.then(n=>e(t,n,r,i+1).then(a)).then(null,o):e(t,s,r,i+1).then(a).then(null,o)}})})([...x,...C.eventProcessors],y,a).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(e=>{let[t,r]=e;n.push({type:"sourcemap",code_file:t,debug_id:r})})}(e),"number"==typeof m&&m>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:ye(e.data,t,n)}}))},...e.user&&{user:ye(e.user,t,n)},...e.contexts&&{contexts:ye(e.contexts,t,n)},...e.extra&&{extra:ye(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ye(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:ye(e.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=ye(e.contexts.flags,3,n)),r}(e,m,g):e)})(l,e,t,a,this,o).then(e=>(null===e||(e.contexts={trace:function(e){let{traceId:t,spanId:n,parentSpanId:r}=e.getPropagationContext();return g0({trace_id:t,span_id:n,parent_span_id:r})}(a),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:function(e,t){let n=t.getPropagationContext();return n.dsc||y2(n.traceId,e)}(this,a),...e.sdkProcessingMetadata}),e))}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then(e=>e.event_id,e=>{gT&&(e instanceof yo&&"log"===e.logLevel?gw.log(e.message):gw.warn(e))})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,a=vQ(e),o=vJ(e),l=e.type||"error",s="before send for type `".concat(l,"`"),c=void 0===i?void 0:function(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if("number"!=typeof t||isNaN(t)||t<0||t>1){gT&&gw.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(e)," of type ").concat(JSON.stringify(typeof e),"."));return}return t}(i);if(o&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error",e),ys(new yo("Discarding event because it's not included in the random sample (sampling rate = ".concat(i,")"),"log"));let u="replay_event"===l?"replay":l,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new yo("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n="".concat(t," must return `null` or a valid event.");if(gU(e))return e.then(e=>{if(!gz(e)&&null!==e)throw new yo(n);return e},e=>{throw new yo("".concat(t," rejected with ").concat(e))});if(!gz(e)&&null!==e)throw new yo(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o}=t;if(vJ(n)&&i)return i(n,r);if(vQ(n)){if(n.spans&&o){let t=[];for(let r of n.spans){let n=o(r);n?t.push(n):(yZ||(gk(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),yZ=!0),e.recordDroppedEvent("before_send","span"))}n.spans=t}if(a){if(n.spans){let e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return a(n,r)}}return n}(this,r,n,t),s)}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",u,e),a){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new yo("".concat(s," returned `null`, will not send event."),"log")}let i=n&&n.getSession();if(!a&&i&&this._updateSessionFromEvent(i,r),a){let e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let o=r.transaction_info;return a&&o&&r.transaction!==e.transaction&&(r.transaction_info={...o,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof yo)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new yo("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(e=>{let[t,n]=e,[r,i]=t.split(":");return{reason:r,category:i,quantity:n}})}_flushOutcomes(){var e;gT&&gw.log("Flushing outcomes...");let t=this._clearOutcomes();if(0===t.length){gT&&gw.log("No outcomes to send");return}if(!this._dsn){gT&&gw.log("No dsn provided, will not send outcomes");return}gT&&gw.log("Sending outcomes:",t);let n=yt((e=this._options.tunnel&&gI(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:yh(),discarded_events:t}]]);this.sendEnvelope(n)}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?function(e){let t=gD.exec(e);if(!t)return void gk(()=>{console.error("Invalid Sentry Dsn: ".concat(e))});let[n,r,i="",a="",o="",l=""]=t.slice(1),s="",c=l,u=c.split("/");if(u.length>1&&(s=u.slice(0,-1).join("/"),c=u.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return gA({host:a,pass:i,path:s,projectId:c,port:o,protocol:n,publicKey:r})}(e):gA(e);if(t&&function(e){if(!gg)return!0;let{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(gw.error("Invalid Sentry Dsn: ".concat(t," missing")),!0))&&(n.match(/^\d+$/)?"http"!==r&&"https"!==r?(gw.error("Invalid Sentry Dsn: Invalid protocol ".concat(r)),!1):!(t&&isNaN(parseInt(t,10)))||(gw.error("Invalid Sentry Dsn: Invalid port ".concat(t)),!1):(gw.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),!1))}(t))return t}(e.dsn):gT&&gw.warn("No DSN provided, client will not send events."),this._dsn){let t=function(e,t,n){return t||"".concat("".concat(function(e){let t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}(e)).concat(e.projectId,"/envelope/"),"?").concat(function(e,t){let n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client="".concat(t.name,"/").concat(t.version)),new URLSearchParams(n).toString()}(e,n))}(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}let t=["enableTracing","tracesSampleRate","tracesSampler"].find(t=>t in e&&void 0==e[t]);t&&gk(()=>{console.warn("[Sentry] Deprecation warning: `".concat(t,"` is set to undefined, which leads to tracing being enabled. In v9, a value of `undefined` will result in tracing being disabled."))})}}function vJ(e){return void 0===e.type}function vQ(e){return"transaction"===e.type}function v1(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm",i=e._metadata||{};i.sdk||(i.sdk={name:"sentry.javascript.".concat(t),packages:n.map(e=>({name:"".concat(r,":@sentry/").concat(e),version:gy})),version:gy}),e._metadata=i}class v2 extends vX{eventFromException(e,t){return function(e,t,n,r){let i=vB(e,t,n&&n.syntheticException||void 0,r);return yx(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),yl(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=vN(e,t,r&&r.syntheticException||void 0,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),yl(a)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){vS&&gw.warn("SDK not enabled, will not capture user feedback.");return}let t=function(e,t){let{metadata:n,tunnel:r,dsn:i}=t;return yt({event_id:e.event_id,sent_at:new Date().toISOString(),...n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!r&&!!i&&{dsn:gI(i)}},[[{type:"user_report"},e]])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}constructor(e){let t={parentSpanIsAlwaysRootSpan:!0,...e};v1(t,"browser",["browser"],gv.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&gv.document&&gv.document.addEventListener("visibilitychange",()=>{"hidden"===gv.document.visibilityState&&this._flushOutcomes()})}}function v0(e,t,n,r){let i={filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let v5=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,v7=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,v3=/\((\S*)(?::(\d+))(?::(\d+))\)/,v8=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,v4=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,v6=g3([30,e=>{let t=v5.exec(e);if(t){let[,e,n,r]=t;return v0(e,"?",+n,+r)}let n=v7.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){let e=v3.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}let[e,t]=v9(n[1]||"?",n[2]);return v0(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{let t=v8.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=v4.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||"?";return[n,e]=v9(n,e),v0(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),v9=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]};e.s(["createBrowserHistory",()=>bi,"createHashHistory",()=>ba,"createMemoryHistory",()=>bo],10727);var be=e.i(931067);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(g||(g={}));var bt=function(e){return e},bn="beforeunload",br="popstate";function bi(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,bt({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(br,function(){if(a)d.call(a),a=null;else{var e=g.Pop,t=i(),n=t[0],r=t[1];if(d.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){v(-1*o)}},v(o))}}else y(e)}});var o=g.Pop,l=i(),s=l[0],c=l[1],u=bc(),d=bc();function p(e){return"string"==typeof e?e:bd(e)}function f(e,t){return void 0===t&&(t=null),bt((0,be.default)({pathname:c.pathname,hash:"",search:""},"string"==typeof e?bp(e):e,{state:t,key:bu()}))}function h(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function m(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function y(e){o=e;var t=i();s=t[0],c=t[1],u.call({action:o,location:c})}function v(e){r.go(e)}return null==s&&(s=0,r.replaceState((0,be.default)({},r.state,{idx:s}),"")),{get action(){return o},get location(){return c},createHref:p,push:function e(t,i){var a=g.Push,o=f(t,i);if(m(a,o,function(){e(t,i)})){var l=h(o,s+1),c=l[0],u=l[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}y(a)}},replace:function e(t,n){var i=g.Replace,a=f(t,n);if(m(i,a,function(){e(t,n)})){var o=h(a,s),l=o[0],c=o[1];r.replaceState(l,"",c),y(i)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return u.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(bn,bs),function(){t(),d.length||n.removeEventListener(bn,bs)}}}}function ba(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=bp(n.location.hash.substr(1)),t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,bt({pathname:void 0===t?"/":t,search:void 0===i?"":i,hash:void 0===a?"":a,state:o.usr||null,key:o.key||"default"})]}var a=null;function o(){if(a)p.call(a),a=null;else{var e=g.Pop,t=i(),n=t[0],r=t[1];if(p.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){b(-1*o)}},b(o))}}else v(e)}}n.addEventListener(br,o),n.addEventListener("hashchange",function(){bd(i()[1])!==bd(u)&&o()});var l=g.Pop,s=i(),c=s[0],u=s[1],d=bc(),p=bc();function f(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"==typeof e?e:bd(e))}function h(e,t){return void 0===t&&(t=null),bt((0,be.default)({pathname:u.pathname,hash:"",search:""},"string"==typeof e?bp(e):e,{state:t,key:bu()}))}function m(e,t){return[{usr:e.state,key:e.key,idx:t},f(e)]}function y(e,t,n){return!p.length||(p.call({action:e,location:t,retry:n}),!1)}function v(e){l=e;var t=i();c=t[0],u=t[1],d.call({action:l,location:u})}function b(e){r.go(e)}return null==c&&(c=0,r.replaceState((0,be.default)({},r.state,{idx:c}),"")),{get action(){return l},get location(){return u},createHref:f,push:function e(t,i){var a=g.Push,o=h(t,i);if(y(a,o,function(){e(t,i)})){var l=m(o,c+1),s=l[0],u=l[1];try{r.pushState(s,"",u)}catch(e){n.location.assign(u)}v(a)}},replace:function e(t,n){var i=g.Replace,a=h(t,n);if(y(i,a,function(){e(t,n)})){var o=m(a,c),l=o[0],s=o[1];r.replaceState(l,"",s),v(i)}},go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(e){return d.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&n.addEventListener(bn,bs),function(){t(),p.length||n.removeEventListener(bn,bs)}}}}function bo(e){void 0===e&&(e={});var t=e,n=t.initialEntries,r=t.initialIndex,i=(void 0===n?["/"]:n).map(function(e){return bt((0,be.default)({pathname:"/",search:"",hash:"",state:null,key:bu()},"string"==typeof e?bp(e):e))}),a=bl(null==r?i.length-1:r,0,i.length-1),o=g.Pop,l=i[a],s=bc(),c=bc();function u(e,t){return void 0===t&&(t=null),bt((0,be.default)({pathname:l.pathname,search:"",hash:""},"string"==typeof e?bp(e):e,{state:t,key:bu()}))}function d(e,t,n){return!c.length||(c.call({action:e,location:t,retry:n}),!1)}function p(e,t){o=e,l=t,s.call({action:o,location:l})}function f(e){var t=bl(a+e,0,i.length-1),n=g.Pop,r=i[t];d(n,r,function(){f(e)})&&(a=t,p(n,r))}return{get index(){return a},get action(){return o},get location(){return l},createHref:function(e){return"string"==typeof e?e:bd(e)},push:function e(t,n){var r=g.Push,o=u(t,n);d(r,o,function(){e(t,n)})&&(a+=1,i.splice(a,i.length,o),p(r,o))},replace:function e(t,n){var r=g.Replace,o=u(t,n);d(r,o,function(){e(t,n)})&&(i[a]=o,p(r,o))},go:f,back:function(){f(-1)},forward:function(){f(1)},listen:function(e){return s.push(e)},block:function(e){return c.push(e)}}}function bl(e,t,n){return Math.min(Math.max(e,t),n)}function bs(e){e.preventDefault(),e.returnValue=""}function bc(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function bu(){return Math.random().toString(36).substr(2,8)}function bd(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function bp(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var bf=e.i(313027),bh=e.i(108310);e.s(["SanityLogo",()=>bg,"SanityMonogram",()=>bv],551657);let bm="#0D0E12",bg=(0,E.forwardRef)(function(e,t){let{dark:n,...r}=e,i=n?z.white.hex:bm;return(0,_.jsxs)("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 435 154",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[(0,_.jsx)("path",{d:"M44.883 52.4463C33.4181 43.7972 21.8121 37.1021 21.8121 27.3381C21.8121 21.482 26.9827 15.4851 34.1181 15.4851C46.983 15.4851 54.5302 28.8754 61.942 45.6103H66.5538V7.11182H34.3946C7.82952 7.11182 0 23.1543 0 35.7055C0 52.1647 13.5649 61.9287 28.9416 73.365C39.7064 81.3158 48.7948 88.7092 48.7948 97.2175C48.7948 106.424 42.5006 111.723 34.5299 111.723C26.0004 111.723 13.4178 100.562 4.60595 77.4137H0V120.096H36.777C59.4302 120.096 70.7539 102.24 71.1716 87.876C71.7304 71.1411 57.3302 61.7937 44.883 52.4463Z",fill:i}),(0,_.jsx)("path",{d:"M145.002 106.841V61.7878C145.002 42.2598 132.837 37.1021 115.219 37.1021H83.8952L84.0364 68.9054H89.2071C94.6601 55.3743 102.49 45.4754 110.878 45.4754C118.149 45.4754 121.366 51.7539 121.366 58.3082V64.4459C109.619 71.4227 78.301 77.2788 78.301 98.4791C78.301 110.754 86.8306 120.935 99.2778 120.935C110.043 120.935 117.454 113.958 121.231 105.732C121.931 112.568 126.402 120.096 136.614 120.096H152.696V113.958C147.525 113.958 145.008 110.473 145.008 106.847L145.002 106.841ZM120.949 99.8639C118.713 103.074 115.213 106.7 111.019 106.7C105.148 106.7 101.372 102.234 101.372 93.3096C101.372 83.129 115.072 76.5746 120.949 71.6926V99.8697V99.8639Z",fill:i}),(0,_.jsx)("path",{d:"M270.145 28.4529C279.092 28.4529 284.686 22.1744 284.686 14.0885C284.686 6.00274 279.092 0 270.145 0C261.198 0 255.462 5.99688 255.462 14.0885C255.462 22.1802 261.474 28.4529 270.145 28.4529Z",fill:i}),(0,_.jsx)("path",{d:"M409.135 37.102V43.2397C417.947 43.2397 420.459 47.84 416.129 60.2563L405.641 88.5683L392.217 54.1186C389.141 47.4234 390.817 43.2397 397.252 43.2397V37.102H330.557V9.20654H324.263C322.446 18.6889 312.516 37.102 295.598 37.102V43.2397H306.504V100.568C306.504 110.191 309.722 121.07 328.457 121.07H357.54V89.5482H352.37C350.269 96.9417 345.94 111.723 336.569 111.723C331.399 111.723 330.557 106.002 330.557 101.401V45.8861H357.264C360.481 45.8861 363.834 46.3027 365.511 50.2106L393.894 120.231C388.441 132.647 379.07 134.595 362.293 129.437V153.988C366.629 153.988 377.811 154.129 379.77 153.572C390.817 150.362 398.364 128.745 401.441 120.378L425.488 55.521C428.147 48.4092 430.382 43.2456 434.994 43.2456V37.1079H409.129L409.135 37.102Z",fill:i}),(0,_.jsx)("path",{d:"M237.703 106.841V59.2764C237.703 44.3546 230.574 35.4238 216.45 35.4238C204.009 35.4238 196.803 44.0319 191.279 52.0414V37.0961H159.396V43.2338C164.849 43.2338 167.226 46.5785 167.226 50.4864V106.835C167.226 110.602 164.432 113.947 159.396 113.947V120.084H199.109V113.947C194.073 113.947 191.279 110.602 191.279 106.835V59.646C194.503 55.3743 198.214 50.7681 204.42 50.7681C210.291 50.7681 213.65 55.5093 213.65 61.2303V106.841C213.65 110.608 210.856 113.952 205.82 113.952V120.09H245.533V113.952C240.497 113.952 237.703 110.608 237.703 106.841Z",fill:i}),(0,_.jsx)("path",{d:"M284.127 106.841V37.1021H252.245V43.2398C257.698 43.2398 260.074 46.5844 260.074 50.4923V106.841C260.074 110.608 257.28 113.952 252.245 113.952V120.09H291.957V113.952C286.922 113.952 284.127 110.608 284.127 106.841Z",fill:i})]})}),by={light:{bg:z.white.hex,fg:bm},dark:{bg:bm,fg:z.white.hex},default:{bg:"#FF5500",fg:bm}},bv=(0,E.forwardRef)(function(e,t){let{scheme:n="default",color:r,...i}=e,a=(null==r?void 0:r.bg1)||by[n].bg,o=(null==r?void 0:r.fg)||by[n].fg;return(0,_.jsxs)("svg",{"data-sanity-icon":"sanity-monogram",height:"1em",viewBox:"0 0 192 192",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:t,children:[(0,_.jsx)("rect",{width:"192",height:"192",fill:a}),(0,_.jsx)("path",{d:"M160.077 112.697L154.865 103.629L129.659 118.981L157.655 83.3368L161.888 80.8533L160.841 79.2802L162.764 76.8232L153.929 69.4699L149.886 74.6225L68.2657 122.375L98.4429 86.0855L154.651 55.2759L149.311 44.953L118.696 61.7277L133.771 43.6096L125.134 36L91.2055 76.7966L57.5083 95.2771L83.307 61.1709L99.4731 52.757L94.3391 42.3192L47.2403 66.8361L60.0839 49.8405L51.1123 42.6551L24 78.5378L24.4207 78.8736L29.486 89.1877L59.543 73.5354L32.1474 109.745L36.6375 113.342L39.3075 118.504L70.9528 101.154L36.1052 143.065L44.742 150.674L46.4762 148.588L130.543 99.2454L102.632 134.792L103.088 135.172L103.045 135.199L108.831 145.265L145.954 122.649L131.659 145.716L141.24 152L164 115.278L160.077 112.697Z",fill:o})]})});var bb=e.i(308528);let bx={get url(){return`file://${e.P("node_modules/use-hot-module-reload/dist/use-hot-module-reload.js")}`}};var bC=(()=>{try{return!0}catch(e){return!1}})(),bk=(()=>{try{return!!(bC&&(bx.hot||bx.webpackHot))}catch(e){return!1}})();function bw(e){if(bk){var t,n;return void 0===bx.webpackHot?(t=e,void(0,E.useEffect)(()=>{if(bx.hot){let e=new Set;return bx.hot.on("vite:beforeUpdate",()=>{let n,r=window.__vite_plugin_react_timeout>0,i=setInterval(()=>{let e=window.__vite_plugin_react_timeout;r&&0===e?l():!r&&e>0&&(r=!0)},10),a=setTimeout(l,1e3,"fallback");function o(){clearInterval(i),clearTimeout(a),clearTimeout(n)}function l(){o(),n=setTimeout(t,50)}e.add(o)}),()=>{e.forEach(e=>e()),e.clear()}}},[t])):(n=e,void(0,E.useEffect)(()=>{if(bx.webpackHot){let e=e=>"idle"===e?n():void 0;return bx.webpackHot.addStatusHandler(e),()=>{var t;return null==(t=bx.webpackHot)?void 0:t.removeStatusHandler(e)}}},[n]))}}var b_=e.i(12447),bj=e.i(848513),bS=e.i(68428),bE=e.i(232241),bT=e.i(512286),bD=e.i(83107);function bI(e){var t,n,r,i;let a=function e(t){var n;return!!(n=t)&&("object"==typeof n||"function"==typeof n)&&("reference"===t.name||e(t.type))}(e)&&1===(null!=(n=e.to)?n:[]).length?e.to[0].icon:void 0;return null!=(i=null!=(r=e.icon)?r:null==(t=e.type)?void 0:t.icon)?i:a}function bA(e,t){return{query:"change query"===t.type?t.query:e.query,groups:"select group"===t.type?e.groups.map(e=>({...e,selected:t.name===e.name})):e.groups,views:"toggle view"===t.type?e.views.map(e=>({...e,selected:t.name===e.name})):e.views}}let bO="all-items",bP={gridTemplateColumns:"repeat(auto-fill, minmax(118px, 1fr))",alignItems:"start"};function bM(e){var t,n,r,i;let a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=(0,j.c)(54),k=void 0===e.showIcons||e.showIcons,w=void 0===e.filter||"auto"===e.filter?e.schemaTypes.length>5:e.filter;C[0]!==e.groups||C[1]!==e.labels?(a=e.groups?[{name:bO,title:e.labels["insert-menu.filter.all-items"],selected:!0},...e.groups.map(bB)]:[],C[0]=e.groups,C[1]=e.labels,C[2]=a):a=C[2],C[3]!==e.views?(o=null!=(t=e.views)?t:[{name:"list"}],C[3]=e.views,C[4]=o):o=C[4],C[5]!==o?(l=o.map(bR),C[5]=o,C[6]=l):l=C[6],C[7]!==a||C[8]!==l?(s={query:"",groups:a,views:l},C[7]=a,C[8]=l,C[9]=s):s=C[9];let[S,T]=(0,E.useReducer)(bA,s);if(C[10]!==e||C[11]!==w||C[12]!==k||C[13]!==S.groups||C[14]!==S.query||C[15]!==S.views){let t,a,o,l=(n=e.schemaTypes,r=S.query,i=S.groups,n.filter(e=>(function(e,t){var n;let r=t.find(e=>e.selected);return!r||r.name===bO||(null==(n=r.of)?void 0:n.includes(e.name))})(e,i)&&function(e,t){var n;let r=t.trim().toLowerCase();return e.title?null==(n=e.title)?void 0:n.toLowerCase().includes(r):e.name.includes(r)}(e,r))),s=S.views.find(bF),v=w||S.views.length>1,b=S.groups&&S.groups.length>0,x=v||b;d=I.Menu,y=0,u=I.Flex,h="column",m="fill",C[25]!==x?(t=x?{style:{borderBottom:"1px solid var(--card-border-color)"},paddingBottom:1}:{},C[25]=x,C[26]=t):t=C[26],C[27]!==e.labels||C[28]!==w||C[29]!==v||C[30]!==S.query||C[31]!==S.views?(a=v?(0,_.jsxs)(I.Flex,{flex:"none",align:"center",paddingTop:1,paddingX:1,gap:1,children:[w?(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.TextInput,{autoFocus:!0,border:!1,fontSize:1,icon:R.SearchIcon,onChange:e=>{T({type:"change query",query:e.target.value})},placeholder:e.labels["insert-menu.search.placeholder"],value:S.query})}):null,S.views.length>1?(0,_.jsx)(I.Box,{flex:"none",children:(0,_.jsx)(bz,{views:S.views,onToggle:e=>{T({type:"toggle view",name:e})},labels:e.labels})}):null]}):null,C[27]=e.labels,C[28]=w,C[29]=v,C[30]=S.query,C[31]=S.views,C[32]=a):a=C[32],C[33]!==b||C[34]!==S.groups?(o=b?(0,_.jsx)(I.Box,{paddingTop:1,paddingX:1,children:(0,_.jsx)(I.TabList,{space:1,children:S.groups.map(e=>{var t;return(0,_.jsx)(I.Tab,{id:"".concat(e.name,"-tab"),"aria-controls":"".concat(e.name,"-panel"),label:null!=(t=e.title)?t:(0,ti.default)(e.name),selected:e.selected,onClick:()=>{T({type:"select group",name:e.name})}},e.name)})})}):null,C[33]=b,C[34]=S.groups,C[35]=o):o=C[35],C[36]!==t||C[37]!==a||C[38]!==o?(g=(0,_.jsxs)(I.Box,{...t,children:[a,o]}),C[36]=t,C[37]=a,C[38]=o,C[39]=g):g=C[39],c=I.Box,p=1,f=0===l.length?(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:e.labels["insert-menu.search.no-results"]})}):s?"grid"===s.name?(0,_.jsx)(I.Grid,{autoRows:"auto",flex:1,gap:1,style:bP,children:l.map(t=>{var n;return(0,_.jsx)(bU,{icon:k?bI(t):void 0,onClick:()=>{e.onSelect(t)},previewImageUrl:null==(n=s.previewImageUrl)?void 0:n.call(s,t.name),schemaType:t},t.name)})}):(0,_.jsx)(I.Stack,{flex:1,space:1,children:l.map(t=>{var n;return(0,_.jsx)(I.MenuItem,{icon:k?bI(t):void 0,onClick:()=>{e.onSelect(t)},text:null!=(n=t.title)?n:(0,ti.default)(t.name)},t.name)})}):null,C[10]=e,C[11]=w,C[12]=k,C[13]=S.groups,C[14]=S.query,C[15]=S.views,C[16]=c,C[17]=u,C[18]=d,C[19]=p,C[20]=f,C[21]=h,C[22]=m,C[23]=g,C[24]=y}else c=C[16],u=C[17],d=C[18],p=C[19],f=C[20],h=C[21],m=C[22],g=C[23],y=C[24];return C[40]!==c||C[41]!==p||C[42]!==f?(v=(0,_.jsx)(c,{padding:p,children:f}),C[40]=c,C[41]=p,C[42]=f,C[43]=v):v=C[43],C[44]!==u||C[45]!==v||C[46]!==h||C[47]!==m||C[48]!==g?(b=(0,_.jsxs)(u,{direction:h,height:m,children:[g,v]}),C[44]=u,C[45]=v,C[46]=h,C[47]=m,C[48]=g,C[49]=b):b=C[49],C[50]!==d||C[51]!==b||C[52]!==y?(x=(0,_.jsx)(d,{padding:y,children:b}),C[50]=d,C[51]=b,C[52]=y,C[53]=x):x=C[53],x}function bF(e){return e.selected}function bR(e,t){return{...e,selected:0===t}}function bB(e){return{...e,selected:!1}}let bN={grid:R.ThLargeIcon,list:R.UlistIcon},bL={grid:"insert-menu.toggle-grid-view.tooltip",list:"insert-menu.toggle-list-view.tooltip"};function bz(e){var t;let n,r,i,a,o=(0,j.c)(11),l=e.views.findIndex(bV),s=null!=(t=e.views[l+1])?t:e.views[0],c=e.labels[bL[s.name]];o[0]!==c?(n=(0,_.jsx)(I.Text,{size:1,children:c}),o[0]=c,o[1]=n):n=o[1];let u=bN[s.name];return o[2]!==s.name||o[3]!==e?(r=()=>{e.onToggle(s.name)},o[2]=s.name,o[3]=e,o[4]=r):r=o[4],o[5]!==u||o[6]!==r?(i=(0,_.jsx)(I.Button,{mode:"bleed",icon:u,onClick:r}),o[5]=u,o[6]=r,o[7]=i):i=o[7],o[8]!==n||o[9]!==i?(a=(0,_.jsx)(I.Tooltip,{content:n,placement:"top",portal:!0,children:i}),o[8]=n,o[9]=i,o[10]=a):a=o[10],a}function bV(e){return e.selected}function bU(e){var t;let n,r,i,a,o,l,s,c,u,d=(0,j.c)(19),[p,f]=(0,E.useState)(!1),h=e.icon;d[0]===Symbol.for("react.memo_cache_sentinel")?(n={overflow:"hidden"},d[0]=n):n=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(r={backgroundColor:"var(--card-muted-bg-color)",paddingBottom:"66.6%",position:"relative"},d[1]=r):r=d[1],d[2]!==h?(i=(0,ta.isValidElementType)(h)?(0,_.jsx)(I.Flex,{align:"center",justify:"center",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(h,{})})}):null,d[2]=h,d[3]=i):i=d[3],d[4]!==p||d[5]!==e.previewImageUrl?(a=!e.previewImageUrl||p?null:(0,_.jsx)("img",{src:e.previewImageUrl,style:{objectFit:"contain",width:"100%",height:"100%",position:"absolute",inset:0},onError:()=>{f(!0)}}),d[4]=p,d[5]=e.previewImageUrl,d[6]=a):a=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0 0 0 0.5px var(--card-fg-color)",opacity:.1}}),d[7]=o):o=d[7],d[8]!==i||d[9]!==a?(l=(0,_.jsxs)(I.Box,{flex:"none",style:r,children:[i,a,o]}),d[8]=i,d[9]=a,d[10]=l):l=d[10];let m=null!=(t=e.schemaType.title)?t:e.schemaType.name;return d[11]!==m?(s=(0,_.jsx)(I.Box,{flex:1,padding:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:m})}),d[11]=m,d[12]=s):s=d[12],d[13]!==l||d[14]!==s?(c=(0,_.jsxs)(I.Flex,{direction:"column",gap:1,padding:1,children:[l,s]}),d[13]=l,d[14]=s,d[15]=c):c=d[15],d[16]!==e.onClick||d[17]!==c?(u=(0,_.jsx)(I.MenuItem,{padding:0,radius:2,onClick:e.onClick,style:n,children:c}),d[16]=e.onClick,d[17]=c,d[18]=u):u=d[18],u}let bH=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class bq{read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let e=this.read(),t=bH[e];if(!t)throw Error("Unknown opcode: ".concat(e));this["process".concat(t)].apply(this)}let e=this.outputStack.pop();return this.finalizeOutput(e)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(e,t){return e.keys||(e.keys=this.model.objectGetKeys(e.value).sort()),e.keys[t]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyArray(e.value)),e.writeValue}outputObject(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyObject(e.value)),e.writeValue}outputString(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyString(e.value)),e.writeValue}finalizeOutput(e){return e.writeValue?this.model.finalize(e.writeValue):e.value}processValue(){let e=this.model.wrap(this.read());this.outputStack.push({value:e})}processCopy(){let e=this.inputEntry();this.outputStack.push({value:e.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let e=this.outputStack.pop(),t=this.finalizeOutput(e),n=this.outputArray();this.model.arrayAppendValue(n,t)}processReturnIntoObject(){let e=this.read(),t=this.outputStack.pop(),n=this.finalizeOutput(t);n=this.model.markChanged(n);let r=this.outputObject();this.model.objectSetField(r,e,n)}processReturnIntoObjectSameKey(){let e=this.inputEntry(),t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputObject();this.model.objectSetField(r,e.key,n)}processPushField(){let e=this.read(),t=this.inputEntry(),n=this.inputKey(t,e),r=this.model.objectGetField(t.value,n);this.inputStack.push({value:r,key:n})}processPushElement(){let e=this.read(),t=this.inputEntry(),n=this.model.arrayGetElement(t.value,e);this.inputStack.push({value:n})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let e=this.read(),t=this.inputEntry(),n=this.inputKey(t,e),r=this.outputObject();this.model.objectDeleteField(r,n)}processArrayAppendValue(){let e=this.model.wrap(this.read()),t=this.outputArray();this.model.arrayAppendValue(t,e)}processArrayAppendSlice(){let e=this.read(),t=this.read(),n=this.outputArray(),r=this.inputEntry().value;this.model.arrayAppendSlice(n,r,e,t)}processStringAppendString(){let e=this.model.wrap(this.read()),t=this.outputString();this.model.stringAppendValue(t,e)}processStringAppendSlice(){let e=this.read(),t=this.read(),n=this.outputString(),r=this.inputEntry().value;this.model.stringAppendSlice(n,r,e,t)}constructor(e,t,n){(0,k._)(this,"model",void 0),(0,k._)(this,"root",void 0),(0,k._)(this,"patch",void 0),(0,k._)(this,"i",void 0),(0,k._)(this,"inputStack",void 0),(0,k._)(this,"outputStack",void 0),this.model=e,this.root=t,this.patch=n,this.i=0,this.inputStack=[],this.outputStack=[]}}function bW(e){return e>>16?4:e>>11?3:e>>7?2:1}function bY(e){let t=0;for(let n=0;n<e.length;n++){let r=bW(e.codePointAt(n));4==r&&n++,t+=r}return t}function bK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=n,i=0;for(i=n;r<t;i++){let t=bW(e.codePointAt(i));4===t&&i++,r+=t}return i}class bG{wrap(e){return this.wrapWithMeta(e,this.meta,this.meta)}wrapWithMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.meta;return{data:e,startMeta:t,endMeta:n}}asObject(e){if(!e.content){let t={};for(let[n,r]of Object.entries(e.data))t[n]=this.wrapWithMeta(r,e.startMeta);e.content={type:"object",fields:t}}return e.content}asArray(e){if(!e.content){let t=e.data.map(t=>this.wrapWithMeta(t,e.startMeta)),n=t.map(()=>this.meta);e.content={type:"array",elements:t,metas:n}}return e.content}asString(e){if(!e.content){let t=e.data,n={value:t,utf8size:bY(t),uses:[],startMeta:e.startMeta,endMeta:e.endMeta};e.content=this.stringFromParts([n])}return e.content}stringFromParts(e){let t={type:"string",parts:e};for(let n of e)n.uses.push(t);return t}objectGetKeys(e){return e.content?Object.keys(e.content.fields):Object.keys(e.data)}objectGetField(e,t){return this.asObject(e).fields[t]}arrayGetElement(e,t){return this.asArray(e).elements[t]}finalize(e){return this.updateEndMeta(e),{content:e,startMeta:this.meta,endMeta:this.meta}}markChanged(e){return this.wrap(b$(e))}updateEndMeta(e){if("string"==e.type)for(let t of e.parts)t.endMeta=this.meta;else if("array"===e.type)for(let t of e.elements)t.content&&t.endMeta!==this.meta&&this.updateEndMeta(t.content),t.endMeta=this.meta;else for(let t of Object.values(e.fields))t.content&&t.endMeta!==this.meta&&this.updateEndMeta(t.content),t.endMeta=this.meta}copyString(e){if(!e)return{type:"string",parts:[]};{let t=this.asString(e);return this.stringFromParts(t.parts.slice())}}copyObject(e){let t={type:"object",fields:{}};if(e){let n=this.asObject(e);Object.assign(t.fields,n.fields)}return t}copyArray(e){let t=e?this.asArray(e):null;return{type:"array",elements:t?t.elements:[],metas:t?t.metas:[]}}objectSetField(e,t,n){e.fields[t]=n}objectDeleteField(e,t){delete e.fields[t]}arrayAppendValue(e,t){e.elements.push(t),e.metas.push(this.meta)}arrayAppendSlice(e,t,n,r){let i=this.asArray(t),a=i.elements.length===n;if(e.elements.push(...i.elements.slice(n,r)),a)e.metas.push(...i.metas.slice(n,r));else for(let t=n;t<r;t++)e.metas.push(this.meta)}stringAppendValue(e,t){for(let n of this.asString(t).parts)this.stringAppendPart(e,n)}stringAppendPart(e,t){e.parts.push(t),t.uses.push(e)}resolveStringPart(e,t,n){if(0===n)return t;for(let r=t;r<e.parts.length;r++){let t=e.parts[r];if(n===t.utf8size)return r+1;if(n<t.utf8size)return this.splitString(t,n),r+1;n-=t.utf8size}throw Error("splitting string out of bounds")}splitString(e,t){let n,r=t,i=e.utf8size-r;if(e.utf8size!==e.value.length){let n=0;for(t=0;n<r;t++){let r=bW(e.value.codePointAt(t));4===r&&t++,n+=r}}n=e.value.slice(0,t);let a={value:e.value.slice(t),utf8size:i,uses:e.uses.slice(),startMeta:e.startMeta,endMeta:e.endMeta};for(let t of(e.value=n,e.utf8size=r,e.uses)){let n=t.parts.indexOf(e);if(-1===n)throw Error("bug: mismatch between string parts and use.");t.parts.splice(n+1,0,a)}}stringAppendSlice(e,t,n,r){let i=this.asString(t),a=this.resolveStringPart(i,0,n),o=this.resolveStringPart(i,a,r-n);for(let t=a;t<o;t++){let n=i.parts[t];this.stringAppendPart(e,n)}}constructor(e){(0,k._)(this,"meta",void 0),this.meta=e}}function b$(e){if("u">typeof e.data)return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(e=>e.value).join("");break;case"array":t=n.elements.map(e=>b$(e));break;case"object":for(let[e,r]of(t={},Object.entries(n.fields)))t[e]=b$(r)}return e.data=t,t}function bZ(e){return e.content?e.content.type:Array.isArray(e.data)?"array":null===e.data?"null":typeof e.data}var bX=Object.freeze({__proto__:null,applyPatch:function(e,t,n){return new bq(new bG(n),e,t).process()},getType:bZ,rebaseValue:function e(t,n){let r=bZ(t);if(r!==bZ(n))return n;let i=new bG(t.endMeta),a=new bG(n.endMeta);switch(r){case"object":{let r=i.asObject(t),o=a.asObject(n),l=0,s=Object.keys(r.fields).length,c=Object.keys(o.fields).length;for(let[t,n]of Object.entries(o.fields)){let i=r.fields[t];i&&(o.fields[t]=e(i,n),o.fields[t]===i&&l++)}return s===c&&s===l?t:n}case"array":{let r=i.asArray(t),o=a.asArray(n);if(r.elements.length!==o.elements.length)break;let l=0;for(let t=0;t<o.elements.length;t++)o.elements[t]=e(r.elements[t],o.elements[t]),o.elements[t]!==r.elements[t]&&l++;return 0===l?t:n}case"null":case"boolean":case"number":if(b$(t)===b$(n))return t;break;case"string":{let e=b$(t),r=b$(n);if(e===r)return t;let i=a.copyString(null),o=function(e,t){let n=Math.min(e.length,t.length),r=0;for(let i=0;i<n;){let n=e.codePointAt(i);if(n!==t.codePointAt(i))break;let a=bW(n);r+=a,i+=4===a?2:1}return r}(e,r),l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.min(e.length,t.length)-n,i=0;for(let n=0;n<r;){let r=e.codePointAt(e.length-1-n);if(r!==t.codePointAt(t.length-1-n))break;let a=bW(r);i+=a,n+=4===a?2:1}return i}(e,r,o),s=bY(r),c=bY(e);0<o&&a.stringAppendSlice(i,t,0,o),o<s-l&&a.stringAppendSlice(i,n,o,s-l),c-l<c&&a.stringAppendSlice(i,t,c-l,c);let u=a.finalize(i);if(b$(u)!==r)throw Error("incorrect string rebase");return u}}return n},unwrap:b$,wrap:function(e,t){return{data:e,startMeta:t,endMeta:t}}});class bJ{wrap(e){return e}finalize(e){return Array.isArray(e)?e:e.data}markChanged(e){return e}objectGetKeys(e){return Object.keys(e)}objectGetField(e,t){return e[t]}arrayGetElement(e,t){return e[t]}copyObject(e){let t={type:"object",data:{}};if(null!==e)for(let[n,r]of Object.entries(e))t.data[n]=r;return t}copyArray(e){return null===e?[]:e.slice()}copyString(e){return{type:"string",data:null===e?"":e}}objectSetField(e,t,n){e.data[t]=n}objectDeleteField(e,t){delete e.data[t]}arrayAppendValue(e,t){e.push(t)}arrayAppendSlice(e,t,n,r){e.push(...t.slice(n,r))}stringAppendSlice(e,t,n,r){let i=bK(t,n),a=bK(t,r,i);e.data+=t.slice(i,a)}stringAppendValue(e,t){e.data+=t}}function bQ(e,t){return new bq(new bJ,e,t).process()}e.s(["exhaustMapWithTrailing",()=>b3],408551);var b1=e.i(2223),b2=e.i(220324),b0=e.i(902965),b5=e.i(627608),b7=e.i(609831);function b3(e){return t=>(0,G.defer)(()=>{let n=new ea.Subject;return t.pipe((0,b7.throttle)(()=>n,{leading:!0,trailing:!0}),function e(t,n){return n?function(r){return r.pipe(e(function(e,r){return(0,b2.innerFrom)(t(e,r)).pipe((0,Z.map)(function(t,i){return n(e,t,r,i)}))}))}:(0,b0.operate)(function(e,n){var r=0,i=null,a=!1;e.subscribe((0,b5.createOperatorSubscriber)(n,function(e){i||(i=(0,b5.createOperatorSubscriber)(n,void 0,function(){i=null,a&&n.complete()}),(0,b2.innerFrom)(t(e,r++)).subscribe(i))},function(){a=!0,i||n.complete()}))})}((t,r)=>(0,b1.scheduled)(e(t,r),eb.asyncScheduler).pipe((0,em.finalize)(()=>{n.next()}))))})}var b8=e.i(974900),b4=e.i(160191),b6=e.i(342341);class b9{constructor(e){(0,k._)(this,"current",0),(0,k._)(this,"resolvers",[]),(0,k._)(this,"max",void 0),(0,k._)(this,"ready",()=>this.max===1/0?Promise.resolve():this.current<this.max?(this.current++,Promise.resolve()):new Promise(e=>{this.resolvers.push(e)})),(0,k._)(this,"release",()=>{if(this.max===1/0)return;let e=this.resolvers.shift();if(e)return void e();this.current=Math.max(0,this.current-1)}),this.max=e}}var xe=e.i(809054),xt=e.i(111331),xn=e.i(653336),xr=e.i(980985),xi=e.i(881283),xa=e.i(878796),xo=e.i(646922);let xl=/^[A-Za-z_][A-Za-z0-9_]*$/;function xs(e){return e.reduce((e,t,n)=>{var r;if(Array.isArray(t))return"".concat(e,"[").concat(t.join(":"),"]");if("object"==typeof(r=t)&&"string"==typeof r._key)return"".concat(e,'[_key=="').concat(t._key,'"]');if("number"==typeof t)return"".concat(e,"[").concat(t,"]");if("string"==typeof t&&!xl.test(t))return"".concat(e,"['").concat(t,"']");if("string"==typeof t)return"".concat(e).concat(0===n?"":".").concat(t);throw Error('Unsupported path segment "'.concat(t,'"'))},"")}class xc extends Error{constructor(e,t,n){let r=xs(t);super("".concat(e," (at '").concat(r,"')")),(0,k._)(this,"path",void 0),(0,k._)(this,"value",void 0),(0,k._)(this,"serializedPath",void 0),this.path=t,this.serializedPath=r,this.value=n}}let xu=/^[a-z0-9][a-z0-9_.-]+$/i,xd=/^[a-zA-Z_][a-zA-Z0-9_-]*$/,xp=/^[a-z_]/i;function xf(e,t,n){if(!xp.test(e))throw new xc("Keys must start with a letter (a-z)",n.concat(e),t);if(!xd.test(e))throw new xc("Keys can only contain letters, numbers and underscores",n.concat(e),t);if("_key"===e||"_ref"===e||"_type"===e){if("string"!=typeof t)throw new xc("Keys must be strings",n.concat(e),t);if(!xu.test(t))throw new xc("Invalid key - use less exotic characters",n.concat(e),t)}return e}let xh=["_id","_type","_createdAt","_updatedAt","_rev"],xm={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function xg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xm,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(e===t)return i;let a=Array.isArray(e)?"array":typeof e,o=Array.isArray(t)?"array":typeof t,l="undefined"===a,s="undefined"===o;if(l&&!s)return i.push({op:"set",path:r,value:t}),i;if(!l&&s)return i.push({op:"unset",path:r}),i;let c={...xm,...n,diffMatchPatch:{...xm.diffMatchPatch,...n.diffMatchPatch||{}}},u=l?o:a;return"object"===u||"array"===u?a!==o?(i.push({op:"set",path:r,value:t}),i):"array"===u?function(e,t,n,r,i){if(t.length>e.length&&i.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((e,t)=>xC(e,r,t,n))}),t.length<e.length){let a=e.length-t.length==1,o=e.slice(t.length);n.ifRevisionID||!xb(o)?i.push({op:"unset",path:r.concat([a?t.length:[t.length,""]])}):i.push(...o.map(e=>({op:"unset",path:r.concat({_key:e._key})})))}for(let e=0;e<t.length;e++)if(Array.isArray(t[e]))throw new xc("Multi-dimensional arrays not supported",r.concat(e),t[e]);let a=Math.min(e.length,t.length),o=e.slice(0,a),l=t.slice(0,a);return xb(o)&&xb(l)?function(e,t,n,r,i){var a,o;let l=xx(e),s=xx(t);if(a=l.keys,o=s.keys,!(a.length===o.length&&a.every((e,t)=>o[t]===e)))return xy(e,t,n,r,i);for(let e=0;e<s.keys.length;e++){let t=s.keys[e];xg(l.index[t],xC(s.index[t],r,e,n),n,r.concat({_key:t}),i)}return i}(o,l,n,r,i):xy(o,l,n,r,i)}(e,t,c,r,i):function(e,t,n,r,i){let a=0===r.length,o=Object.keys(e).filter(a?xv:xk).map(t=>xf(t,e[t],r)),l=o.length,s=Object.keys(t).filter(a?xv:xk).map(e=>xf(e,t[e],r)),c=s.length;for(let e=0;e<l;e++){let n=o[e];n in t||i.push({op:"unset",path:r.concat(n)})}for(let a=0;a<c;a++){let o=s[a];xg(e[o],t[o],n,r.concat([o]),i)}return i}(e,t,c,r,i):function(e,t,n,r,i){let a=function(e,t,n,r){let{enabled:i,lengthThresholdRelative:a,lengthThresholdAbsolute:o}=n.diffMatchPatch,l=r[r.length-1];if(!i||"string"!=typeof e||"string"!=typeof t||"string"==typeof l&&"_"===l[0]||t.length<o)return;let s="";try{let n=uP(e,t),r=uY(n);s=df(dl(r))}catch(e){return}return s.length>t.length*a?void 0:{op:"diffMatchPatch",path:r,value:s}}(e,t,n,r);return i.push(a||{op:"set",path:r,value:t}),i}(e,t,c,r,i)}function xy(e,t,n,r,i){for(let a=0;a<e.length;a++)xg(e[a],xC(t[a],r,a,n),n,r.concat(a),i);return i}function xv(e){return -1===xh.indexOf(e)}function xb(e){let t=[];for(let r=0;r<e.length;r++){var n;let i="object"==typeof(n=e[r])&&null!==n&&n._key;if(!i||-1!==t.indexOf(i))return!1;t.push(i)}return!0}function xx(e){return e.reduce((e,t)=>(e.keys.push(t._key),e.index[t._key]=t,e),{keys:[],index:{}})}function xC(e,t,n,r){if("u">typeof e)return e;if(!r.hideWarnings){let e=xs(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(e,"')"))}return null}function xk(e){return!0}e.i(88014);var xw=e.i(971151),x_=e.i(954402),xj=e.i(487806),xS=e.i(885963),xE=e.i(479671);function xT(e){var t="function"==typeof Map?new Map:void 0;return(xT=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if((0,xE.default)())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&(0,xS.default)(i,n.prototype),i}(e,arguments,(0,xj.default)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,xS.default)(n,e)})(e)}var xD=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,(0,xw.default)(n)}return(0,x_.default)(t,e),t}(xT(Error));function xI(e,t){return e.substr(-t.length)===t}var xA=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function xO(e){return"string"!=typeof e?e:e.match(xA)?parseFloat(e):e}var xP=function(e){return function(t,n){void 0===n&&(n="16px");var r=t,i=n;if("string"==typeof t){if(!xI(t,"px"))throw new xD(69,e,t);r=xO(t)}if("string"==typeof n){if(!xI(n,"px"))throw new xD(70,e,n);i=xO(n)}if("string"==typeof r)throw new xD(71,t,e);if("string"==typeof i)throw new xD(72,n,e);return""+r/i+e}};function xM(e){return Math.round(255*e)}function xF(e,t,n){return xM(e)+","+xM(t)+","+xM(n)}function xR(e,t,n,r){if(void 0===r&&(r=xF),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),l=0,s=0,c=0;i>=0&&i<1?(l=a,s=o):i>=1&&i<2?(l=o,s=a):i>=2&&i<3?(s=a,c=o):i>=3&&i<4?(s=o,c=a):i>=4&&i<5?(l=o,c=a):i>=5&&i<6&&(l=a,c=o);var u=n-a/2;return r(l+u,s+u,c+u)}xP("em"),xP("rem");var xB={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xN=/^#[a-fA-F0-9]{6}$/,xL=/^#[a-fA-F0-9]{8}$/,xz=/^#[a-fA-F0-9]{3}$/,xV=/^#[a-fA-F0-9]{4}$/,xU=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,xH=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,xq=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,xW=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function xY(e){if("string"!=typeof e)throw new xD(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return xB[t]?"#"+xB[t]:e}(e);if(t.match(xN))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(xL)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(xz))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(xV)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=xU.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=xH.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])>1?parseFloat(""+a[4])/100:parseFloat(""+a[4])};var o=xq.exec(t);if(o){var l="rgb("+xR(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",s=xU.exec(l);if(!s)throw new xD(4,t,l);return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var c=xW.exec(t.substring(0,50));if(c){var u="rgb("+xR(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=xU.exec(u);if(!d)throw new xD(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new xD(5)}function xK(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,a=Math.max(n,r,i),o=Math.min(n,r,i),l=(a+o)/2;if(a===o)if(void 0!==e.alpha)return{hue:0,saturation:0,lightness:l,alpha:e.alpha};else return{hue:0,saturation:0,lightness:l};var s=a-o,c=l>.5?s/(2-a-o):s/(a+o);switch(a){case n:t=(r-i)/s+6*(r<i);break;case r:t=(i-n)/s+2;break;default:t=(n-r)/s+4}return(t*=60,void 0!==e.alpha)?{hue:t,saturation:c,lightness:l,alpha:e.alpha}:{hue:t,saturation:c,lightness:l}}(xY(e))}var xG=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function x$(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function xZ(e){return x$(Math.round(255*e))}function xX(e,t,n){return xG("#"+xZ(e)+xZ(t)+xZ(n))}function xJ(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return xG("#"+x$(e)+x$(t)+x$(n));if("object"==typeof e&&void 0===t&&void 0===n)return xG("#"+x$(e.red)+x$(e.green)+x$(e.blue));throw new xD(6)}function xQ(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var i=xY(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?xJ(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?xJ(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new xD(7)}function x1(e){if("object"!=typeof e)throw new xD(8);if("number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha)return xQ(e);if("number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha))return xJ(e);if("number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha)return function(e,t,n,r){if("object"==typeof e){var i;return e.alpha>=1?(i=e.hue,xR(i,e.saturation,e.lightness,xX)):"rgba("+xR(e.hue,e.saturation,e.lightness)+","+e.alpha+")"}throw new xD(2)}(e);if("number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha))return function(e,t,n){if("object"==typeof e){var r;return r=e.hue,xR(r,e.saturation,e.lightness,xX)}throw new xD(1)}(e);throw new xD(8)}function x2(e){return function e(t,n,r){return function(){var i=r.concat(Array.prototype.slice.call(arguments));return i.length>=n?t.apply(this,i):e(t,n,i)}}(e,e.length,[])}function x0(e,t,n){return Math.max(e,Math.min(t,n))}x2(function(e,t){if("transparent"===t)return t;var n=xK(t);return x1((0,be.default)({},n,{hue:n.hue+parseFloat(e)}))}),x2(function(e,t){if("transparent"===t)return t;var n=xK(t);return x1((0,be.default)({},n,{lightness:x0(0,1,n.lightness-parseFloat(e))}))}),x2(function(e,t){if("transparent"===t)return t;var n=xK(t);return x1((0,be.default)({},n,{saturation:x0(0,1,n.saturation-parseFloat(e))}))}),x2(function(e,t){if("transparent"===t)return t;var n=xK(t);return x1((0,be.default)({},n,{lightness:x0(0,1,n.lightness+parseFloat(e))}))});var x5=x2(function(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var r=xY(t),i=(0,be.default)({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),a=xY(n),o=(0,be.default)({},a,{alpha:"number"==typeof a.alpha?a.alpha:1}),l=i.alpha-o.alpha,s=2*parseFloat(e)-1,c=((s*l==-1?s:s+l)/(1+s*l)+1)/2,u=1-c;return xQ({red:Math.floor(i.red*c+o.red*u),green:Math.floor(i.green*c+o.green*u),blue:Math.floor(i.blue*c+o.blue*u),alpha:i.alpha*parseFloat(e)+o.alpha*(1-parseFloat(e))})});function x7(){let e=(0,w._)(["\n  align-items: flex-end;\n"]);return x7=function(){return e},e}function x3(){let e=(0,w._)(["\n    bottom: ","px;\n    border-radius: ",";\n    left: ","px;\n    pointer-events: none;\n    position: absolute;\n    right: ","px;\n    top: ","px;\n    z-index: 2;\n\n    ",":focus-visible & {\n      box-shadow: ",";\n    }\n  "]);return x3=function(){return e},e}function x8(){let e=(0,w._)(["\n  bottom: 0;\n  display: none;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 1;\n\n  @media (hover: hover) {\n    &[data-enabled='true'] {\n      display: block;\n    }\n  }\n"]);return x8=function(){return e},e}function x4(){let e=(0,w._)(["\n  height: 100%;\n  outline: none;\n  overflow-x: hidden;\n  overflow-y: auto;\n  overscroll-behavior: contain;\n  width: 100%;\n"]);return x4=function(){return e},e}function x6(){let e=(0,w._)(["\n  position: relative;\n  width: 100%;\n"]);return x6=function(){return e},e}function x9(){let e=(0,w._)(["\n          bottom: 0;\n          height: 100%;\n          left: 0;\n          position: absolute;\n          right: 0;\n          top: 0;\n          width: 100%;\n        "]);return x9=function(){return e},e}function Ce(){let e=(0,w._)(["\n          min-height: 75px;\n          height: stretch;\n          height: -webkit-fill-available;\n          width: stretch;\n          width: -webkit-fill-available;\n        "]);return Ce=function(){return e},e}function Ct(){let e=(0,w._)(["\n    align-items: center;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    ","\n\n    ","\n\n    > * {\n      position: absolute;\n    }\n  "]);return Ct=function(){return e},e}function Cn(){let e=(0,w._)(["\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n    @keyframes slideUp {\n      from {\n        transform: translateY(0);\n      }\n      to {\n        transform: translateY(-15px);\n      }\n    }\n    animation: ",";\n  "]);return Cn=function(){return e},e}function Cr(){let e=(0,w._)(["\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  @keyframes slideDown {\n    from {\n      transform: translateY(0);\n    }\n    to {\n      transform: translateY(15px);\n    }\n  }\n  animation:\n    1500ms ease-out ","ms 1 normal both running fadeIn,\n    750ms ease-out ","ms 1 normal both running slideDown;\n"]);return Cr=function(){return e},e}function Ci(){let e=(0,w._)(["\n    fill: ",";\n  "]);return Ci=function(){return e},e}function Ca(){let e=(0,w._)(["\n  height: 19px;\n  width: 19px;\n  object-fit: contain;\n"]);return Ca=function(){return e},e}function Co(){let e=(0,w._)(["\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n  "]);return Co=function(){return e},e}function Cl(){let e=(0,w._)(["\n    color: var(--card-badge-","-fg-color);\n    background-color: var(--card-badge-","-bg-color);\n    border-radius: 3px;\n    text-decoration: none;\n    padding: 0px 2px;\n    font-weight: 500;\n  "]);return Cl=function(){return e},e}function Cs(){let e=(0,w._)(["\n    --card-icon-color: ",";\n    background-color: ",";\n    box-shadow: 0 0 0 1px var(--card-bg-color);\n\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    right: -3px;\n    bottom: -3px;\n    border-radius: 50%;\n  "]);return Cs=function(){return e},e}function Cc(){let e=(0,w._)(["\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n  "]);return Cc=function(){return e},e}function Cu(){let e=(0,w._)(["\n    width: 6ch;\n    height: ","px;\n  "]);return Cu=function(){return e},e}function Cd(){let e=(0,w._)(["\n  --diff-card-radius: ",";\n  --diff-card-bg-color: ",";\n\n  max-width: 100%;\n  position: relative;\n  border-radius: var(--diff-card-radius);\n  background-color: ",";\n  color: ",";\n\n  &:not(del) {\n    text-decoration: none;\n  }\n\n  &[data-hover] {\n    &::after {\n      content: '';\n      display: block;\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n\n    &:hover {\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n\n      &::after {\n        bottom: -3px;\n        border-top: 1px solid var(---diff-card-bg-color);\n        border-bottom: 2px solid currentColor;\n        border-bottom-left-radius: var(--diff-card-radius);\n        border-bottom-right-radius: var(--diff-card-radius);\n      }\n    }\n\n    [data-from-to-layout]:hover & {\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n\n      &::after {\n        bottom: -3px;\n        border-top: 1px solid var(---diff-card-bg-color);\n        border-bottom: 2px solid currentColor;\n        border-bottom-left-radius: var(--diff-card-radius);\n        border-bottom-right-radius: var(--diff-card-radius);\n      }\n    }\n  }\n"]);return Cd=function(){return e},e}function Cp(){let e=(0,w._)(["\n  border-radius: ",";\n  padding: ",";\n"]);return Cp=function(){return e},e}function Cf(){let e=(0,w._)(["\n  &:not([hidden]) {\n    color: inherit;\n  }\n"]);return Cf=function(){return e},e}function Ch(){let e=(0,w._)(["\n  display: inline-block;\n  word-wrap: break-word;\n"]);return Ch=function(){return e},e}function Cm(){let e=(0,w._)(["\n  ","\n  &:not([hidden]) {\n    display: inline-block;\n  }\n\n  [data-number='positive'] {\n    color: var(--size-diff-positive);\n  }\n\n  [data-number='negative'] {\n    color: var(--size-diff-negative);\n  }\n"]);return Cm=function(){return e},e}function Cg(){let e=(0,w._)(["\n  height: 100%;\n  max-height: 190px;\n  position: relative;\n\n  /* Ideally the checkerboard component currently in the form builder should be made available and used here */\n  background-color: ",";\n  background-image:\n    linear-gradient(45deg, "," 25%, transparent 25%),\n    linear-gradient(-45deg, "," 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, "," 75%),\n    linear-gradient(-45deg, transparent 75%, "," 75%);\n  background-size: 16px 16px;\n  background-position:\n    0 0,\n    0 8px,\n    8px -8px,\n    -8px 0;\n\n  &::after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    box-shadow: inset 0 0 0 1px var(--card-border-color);\n    pointer-events: none;\n  }\n\n  &[data-changed] {\n    opacity: 0.45;\n  }\n"]);return Cg=function(){return e},e}function Cy(){let e=(0,w._)(["\n  display: block;\n  flex: 1;\n  min-height: 0;\n  object-fit: contain;\n  width: 100%;\n  height: 100%;\n\n  &[data-action='removed'] {\n    opacity: 0.45;\n  }\n"]);return Cy=function(){return e},e}function Cv(){let e=(0,w._)(["\n  svg {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n"]);return Cv=function(){return e},e}function Cb(){let e=(0,w._)(["\n  display: inline-block;\n  word-break: break-all;\n"]);return Cb=function(){return e},e}function Cx(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: inline;\n    align-items: center;\n\n    &[data-changed] {\n      cursor: pointer;\n    }\n  }\n"]);return Cx=function(){return e},e}function CC(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: inline;\n    color: inherit;\n  }\n"]);return CC=function(){return e},e}function Ck(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: inline-flex;\n    align-items: center;\n\n    ",' [data-ui="Text"] {\n      opacity: 0.5;\n    }\n  }\n']);return Ck=function(){return e},e}function Cw(){let e=(0,w._)(["\n  min-width: 160px;\n  max-height: 40vh;\n  overflow-y: auto;\n"]);return Cw=function(){return e},e}function C_(){let e=(0,w._)(["\n  text-decoration: none;\n  display: inline;\n  position: relative;\n  border: 0;\n  padding: 0;\n  border-bottom: 2px dotted currentColor;\n  box-shadow: inset 0 0 0 1px var(--card-border-color);\n  white-space: nowrap;\n  align-items: center;\n  background-color: color(var(--card-fg-color) a(10%));\n\n  &[data-changed] {\n    cursor: pointer;\n  }\n\n  &[data-removed] {\n    text-decoration: line-through;\n  }\n\n  &:hover "," {\n    opacity: 1;\n  }\n"]);return C_=function(){return e},e}function Cj(){let e=(0,w._)(["\n  margin: 0;\n"]);return Cj=function(){return e},e}function CS(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: inline;\n    text-transform: none;\n    margin: 0;\n\n    &::before,\n    &::after {\n      content: unset;\n    }\n  }\n"]);return CS=function(){return e},e}function CE(){let e=(0,w._)(["\n  text-transform: none;\n  white-space: wrap;\n  overflow-wrap: break-word;\n  margin: 0;\n"]);return CE=function(){return e},e}function CT(){let e=(0,w._)(["\n  display: inline;\n  ","\n"]);return CT=function(){return e},e}function CD(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: inline;\n    cursor: pointer;\n    white-space: nowrap;\n    align-items: center;\n\n    &[data-removed] {\n      text-decoration: line-through;\n    }\n\n    "," {\n      display: inline-flex;\n    }\n  }\n"]);return CD=function(){return e},e}function CI(){let e=(0,w._)(["\n  word-wrap: break-word;\n"]);return CI=function(){return e},e}function CA(){let e=(0,w._)(["\n  display: inline-block;\n  word-break: break-all;\n  white-space: pre-wrap;\n"]);return CA=function(){return e},e}function CO(){let e=(0,w._)(["\n  white-space: pre-wrap;\n  word-wrap: break-word;\n"]);return CO=function(){return e},e}function CP(){let e=(0,w._)(["\n  display: grid;\n  grid-template-columns: minmax(0, 1fr);\n"]);return CP=function(){return e},e}function CM(){let e=(0,w._)(["\n  overflow-x: auto;\n  position: relative;\n"]);return CM=function(){return e},e}function CF(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return CF=function(){return e},e}function CR(){let e=(0,w._)(["\n  --field-change-error: ",";\n  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {\n    border-left: 2px solid var(--field-change-error);\n  }\n"]);return CR=function(){return e},e}function CB(){let e=(0,w._)(["\n  --field-change-error: ",";\n  --diff-inspect-padding-xsmall: ",";\n  --diff-inspect-padding-small: ",";\n\n  position: relative;\n  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)\n    var(--diff-inspect-padding-small);\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    border-left: 1px solid var(--card-border-color);\n  }\n\n  &[data-error]:hover::before,\n  &[data-revert-field-hover]:hover::before {\n    border-left: 2px solid var(--field-change-error);\n  }\n"]);return CB=function(){return e},e}function CN(){let e=(0,w._)(["\n  [data-ui='Text'] {\n    font-weight: normal;\n  }\n\n  div[data-ui='Box'] {\n    display: none;\n  }\n\n  &:not([data-disabled='true']):hover,\n  &:not([data-disabled='true']):focus {\n    --card-fg-color: ",";\n    --card-bg-color: transparent;\n    --card-border-color: transparent;\n\n    div[data-ui='Box'] {\n      display: block;\n    }\n  }\n"]);return CN=function(){return e},e}function CL(){let e=(0,w._)(["\n  display: grid;\n  grid-template-columns: minmax(0, 1fr);\n"]);return CL=function(){return e},e}function Cz(){let e=(0,w._)(["\n  --field-change-error: ",";\n  --diff-inspect-padding-xsmall: ",";\n  --diff-inspect-padding-small: ",";\n\n  position: relative;\n  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    border-left: 1px solid var(--card-border-color);\n  }\n\n  &[data-error]:hover::before,\n  &[data-revert-group-hover]:hover::before,\n  &[data-revert-all-groups-hover]::before {\n    border-left: 2px solid var(--field-change-error);\n  }\n"]);return Cz=function(){return e},e}function CV(){let e=(0,w._)(["\n  border-radius: ",";\n"]);return CV=function(){return e},e}function CU(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: inline;\n    line-height: calc(1.25em + 2px);\n  }\n\n  &:hover {\n    background-color: none !important;\n    background-image: linear-gradient(\n      to bottom,\n      var(--card-bg-color) 0,\n      var(--card-bg-color) 33.333%,\n      currentColor 33.333%,\n      currentColor 100%\n    );\n    background-size: 1px 3px;\n    background-repeat: repeat-x;\n    background-position-y: bottom;\n    padding-bottom: 3px;\n    box-shadow: 0 0 0 1px var(--card-bg-color);\n    z-index: 1;\n  }\n"]);return CU=function(){return e},e}function CH(){let e=(0,w._)(["\n  color: inherit;\n"]);return CH=function(){return e},e}function Cq(){let e=(0,w._)(["\n  display: inline-block;\n  word-break: break-all;\n  white-space: pre-wrap;\n"]);return Cq=function(){return e},e}function CW(){let e=(0,w._)(["\n    &[data-info] {\n      color: ",";\n    }\n\n    &[data-warning] {\n      color: ",";\n    }\n\n    &[data-error] {\n      color: ",";\n    }\n  "]);return CW=function(){return e},e}function CY(){let e=(0,w._)(["\n      text-decoration: none;\n      display: inline;\n      background-color: ",";\n      border-bottom: 1px dashed ",";\n      color: ",";\n\n      &[data-link] {\n        border-bottom: 1px solid ",";\n      }\n\n      &[data-custom-markers] {\n        background-color: ",";\n      }\n\n      &[data-warning] {\n        background-color: ",";\n      }\n\n      &[data-error] {\n        background-color: ",";\n      }\n    "]);return CY=function(){return e},e}function CK(){let e=(0,w._)(["\n  max-width: 250px;\n"]);return CK=function(){return e},e}function CG(){let e=(0,w._)(["\n  border-top: 1px solid var(--card-border-color);\n"]);return CG=function(){return e},e}function C$(){let e=(0,w._)(["\n  grid-template-columns: minmax(0px, 1fr);\n"]);return C$=function(){return e},e}function CZ(){let e=(0,w._)(["\n  grid-template-columns: 1fr min-content;\n"]);return CZ=function(){return e},e}function CX(){let e=(0,w._)(["\n    width: 5px;\n    height: 5px;\n    background-color: var(--card-icon-color);\n    border-radius: 999px;\n    box-shadow: 0 0 0 1px var(--card-bg-color);\n    z-index: ",";\n    &[data-status='published'] {\n      --card-icon-color: var(--card-badge-positive-dot-color);\n    }\n    &[data-status='draft'] {\n      --card-icon-color: var(--card-badge-caution-dot-color);\n    }\n    &[data-status='asap'] {\n      --card-icon-color: var(--card-badge-","-dot-color);\n    }\n    &[data-status='undecided'] {\n      --card-icon-color: var(--card-badge-","-dot-color);\n    }\n    &[data-status='scheduled'] {\n      --card-icon-color: var(--card-badge-","-dot-color);\n    }\n  "]);return CX=function(){return e},e}function CJ(){let e=(0,w._)(["\n  & > div {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n"]);return CJ=function(){return e},e}function CQ(){let e=(0,w._)(["\n  word-break: break-word;\n"]);return CQ=function(){return e},e}function C1(){let e=(0,w._)(["\n  display: block;\n  -webkit-font-smoothing: inherit;\n  appearance: none;\n  font: inherit;\n  background: none;\n  width: 100%;\n  text-align: left;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n"]);return C1=function(){return e},e}function C2(){let e=(0,w._)(["\n  transform: ",";\n"]);return C2=function(){return e},e}function C0(){let e=(0,w._)(["\n  cursor: default;\n  line-height: 0;\n"]);return C0=function(){return e},e}function C5(){let e=(0,w._)(["\n  & > div > svg {\n    transform: rotate(0);\n    transition: transform 100ms;\n  }\n\n  &[data-open] > div > svg {\n    transform: rotate(90deg);\n  }\n"]);return C5=function(){return e},e}function C7(){let e=(0,w._)(["\n  /* this is a hack to avoid layout jumps while previews are loading\n     there's probably better ways of solving this */\n  min-height: 33px;\n  position: relative;\n\n  /* TextWithTone uses its own logic to set color, and we therefore need */\n  /* to override this logic in order to set the correct color in different states */\n  &[data-selected],\n  &[data-pressed],\n  &:active {\n    [data-ui='TextWithTone'] {\n      color: inherit;\n    }\n  }\n"]);return C7=function(){return e},e}function C3(){let e=(0,w._)(["\n  max-width: ","px;\n"]);return C3=function(){return e},e}function C8(){let e=(0,w._)(["\n    /* Prevent buttons from taking up extra vertical space */\n    line-height: 1;\n    width: 100%;\n    /* For floating actions menu */\n    position: relative;\n\n    [data-ui='PresenceBox'] {\n      position: absolute;\n      bottom: 0;\n      right: ","px;\n    }\n    @media (hover: hover) {\n      // If hover is supported, we hide the floating card by default, so only add space for it when it's visible.\n      [data-ui='PresenceBox'] {\n        position: absolute;\n        bottom: 0;\n        right: ","px;\n      }\n    }\n  "]);return C8=function(){return e},e}function C4(){let e=(0,w._)(["\n    max-width: calc(100% - ","px);\n    min-width: 75%;\n  "]);return C4=function(){return e},e}function C6(){let e=(0,w._)(["\n    position: absolute;\n    bottom: 0;\n    right: ","px;\n  "]);return C6=function(){return e},e}function C9(){let e=(0,w._)(["\n  align-items: center;\n  bottom: 0;\n  position: absolute;\n  right: 0;\n  transition: opacity 150ms ease;\n  line-height: 1;\n\n  @media (hover: hover) {\n    // If hover is supported, we hide the floating card by default\n    // and only show it when it has focus within or when the field is hovered or focused.\n    opacity: 0;\n    pointer-events: none;\n\n    [data-ui='FieldActionsFlex'] {\n      opacity: 0;\n    }\n\n    &[data-actions-visible='false']:not(:focus-within) {\n      // Remove the shadow when the field actions are not visible\n      box-shadow: none;\n\n      // Since the field actions always will be present in the DOM (to make them focusable) –\n      // they will always affect the width of the floating card, even when they are not visible.\n      // Therefore, we remove the background of the floating card when the field actions are not visible.\n      background: transparent;\n    }\n\n    // Remove the shadow when the field has comments but no actions\n    &[data-has-comments='true']:not([data-has-actions='true']) {\n      box-shadow: none;\n    }\n\n    // Show the floating card when it has focus within (ie when field actions are focused).\n    &:focus-within {\n      opacity: 1;\n      pointer-events: auto;\n      width: max-content;\n\n      [data-ui='FieldActionsFlex'] {\n        opacity: 1;\n        pointer-events: auto;\n        width: max-content;\n      }\n    }\n  }\n\n  &[data-visible='true'] {\n    opacity: 1;\n    pointer-events: auto;\n    width: max-content;\n  }\n\n  &[data-actions-visible='true'] {\n    [data-ui='FieldActionsFlex'] {\n      opacity: 1;\n      pointer-events: auto;\n      width: max-content;\n    }\n  }\n"]);return C9=function(){return e},e}function ke(){let e=(0,w._)(["\n  gap: inherit;\n  transition: opacity 150ms ease;\n"]);return ke=function(){return e},e}function kt(){let e=(0,w._)(["\n  left: 8px;\n  position: relative;\n  width: 25px;\n"]);return kt=function(){return e},e}function kn(){let e=(0,w._)(["\n  max-width: 200px;\n"]);return kn=function(){return e},e}function kr(){let e=(0,w._)(["\n  /*\n   * Prevent the block size of appended elements (such as the deprecated field badge) affecting\n   * the intrinsic block size of the label.\n   */\n  contain: size;\n"]);return kr=function(){return e},e}function ki(){let e=(0,w._)(["\n  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */\n  padding: 0;\n  display: table;\n"]);return ki=function(){return e},e}function ka(){let e=(0,w._)(["\n    appearance: none;\n    border: 0;\n    background: none;\n    color: inherit;\n    -webkit-font-smoothing: inherit;\n    font: inherit;\n    outline: none;\n    border-radius: ",";\n    position: relative;\n\n    &:not([hidden]) {\n      display: flex;\n    }\n\n    &:focus {\n      box-shadow: ",";\n    }\n\n    &:focus:not(:focus-visible) {\n      box-shadow: none;\n    }\n\n    /* Added to increase the hit area of the collapsible fieldset */\n    &::after {\n      content: '';\n      position: absolute;\n      top: -10px;\n      right: -10px;\n      bottom: -10px;\n      left: -10px;\n    }\n  "]);return ka=function(){return e},e}function ko(){let e=(0,w._)(["\n  width: 9px;\n  height: 9px;\n  margin-right: 3px;\n\n  & svg {\n    transition: transform 100ms;\n  }\n"]);return ko=function(){return e},e}function kl(){let e=(0,w._)(["\n  border: none;\n\n  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */\n  body:not(:-moz-handler-blocked) & {\n    display: table-cell;\n  }\n"]);return kl=function(){return e},e}function ks(){let e=(0,w._)(["\n    outline: none;\n    border-left: ",";\n    transition:\n      border-color 0.2s ease-in-out,\n      box-shadow 0.2s ease-in-out;\n\n    ","\n\n    ","\n\n    &:focus {\n      box-shadow: ",";\n    }\n\n    &:focus:not(:focus-visible) {\n      box-shadow: none;\n    }\n  "]);return ks=function(){return e},e}function kc(){let e=(0,w._)(["\n  display: flex;\n  justify-content: flex-end;\n  box-sizing: border-box;\n  min-height: var(--avatar-height);\n  width: 77px;\n  margin-left: var(--small-padding);\n\n  &[data-max-avatars='1'] {\n    max-width: 23px;\n  }\n\n  &[data-position='top'] {\n    align-self: flex-start;\n  }\n\n  &[data-position='bottom'] {\n    align-self: flex-end;\n  }\n"]);return kc=function(){return e},e}function ku(){let e=(0,w._)(["\n      z-index: 10000;\n      /* prevents hover-effects etc on the dragged element  */\n      pointer-events: none;\n    "]);return ku=function(){return e},e}function kd(){let e=(0,w._)(["\n  ","\n"]);return kd=function(){return e},e}function kp(){let e=(0,w._)(["\n        --card-focus-box-shadow: ",";\n\n        border-radius: ",";\n        outline: none;\n        box-shadow: var(--card-focus-box-shadow);\n\n        &:focus {\n          --card-focus-box-shadow: ",";\n        }\n      "]);return kp=function(){return e},e}function kf(){let e=(0,w._)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  top: -2px;\n  left: -2px;\n  right: -2px;\n  bottom: -2px;\n  background-color: var(--card-bg-color);\n  opacity: 0.8;\n"]);return kf=function(){return e},e}function kh(){let e=(0,w._)(["\n  position: relative;\n"]);return kh=function(){return e},e}function km(){let e=(0,w._)(["\n  height: 100%;\n"]);return km=function(){return e},e}function kg(){let e=(0,w._)([""]);return kg=function(){return e},e}function ky(){let e=(0,w._)(["\n    cursor: ",";\n  "]);return ky=function(){return e},e}function kv(){let e=(0,w._)(["\n  min-height: 33px;\n"]);return kv=function(){return e},e}function kb(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 33px;\n"]);return kb=function(){return e},e}function kx(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return kx=function(){return e},e}function kC(){let e=(0,w._)(["\n  transition: border-color 250ms;\n  box-sizing: border-box;\n  position: relative;\n\n  @media (hover: hover) {\n    "," {\n      opacity: 0;\n    }\n\n    &:hover,\n    &:focus-within {\n      "," {\n        opacity: 1;\n      }\n    }\n  }\n\n  ."," & {\n    box-shadow:\n      0 0 0 0,\n      0 8px 17px 2px var(--card-shadow-umbra-color),\n      0 3px 14px 2px var(--card-shadow-penumbra-color),\n      0 5px 5px -3px var(--card-shadow-ambient-color);\n  }\n\n  &[aria-selected='true'] {\n    box-shadow: 0 0 0 2px var(--card-focus-ring-color);\n  }\n"]);return kC=function(){return e},e}function kk(){let e=(0,w._)(["\n  max-width: ","px;\n"]);return kk=function(){return e},e}function kw(){let e=(0,w._)([""]);return kw=function(){return e},e}function k_(){let e=(0,w._)(["\n  min-height: max-content;\n"]);return k_=function(){return e},e}function kj(){let e=(0,w._)(["\n    --item-height: ","px;\n    --max-items: ",";\n    --list-padding: 0.5rem;\n\n    position: relative;\n    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));\n    min-height: calc((var(--item-height) * 1));\n  "]);return kj=function(){return e},e}function kS(){let e=(0,w._)(["\n    [data-ui='Popover__wrapper'] {\n      width: 250px;\n      display: flex;\n      flex-direction: column;\n      border-radius: ","px;\n      position: relative;\n      overflow: hidden;\n      overflow: clip;\n    }\n  "]);return kS=function(){return e},e}function kE(){let e=(0,w._)(["\n    max-height: 1rem;\n    overflow: hidden;\n    min-width: 2ch;\n\n    &[data-active='true'] {\n      [data-ui='Text']:first-child {\n        font-weight: ",";\n      }\n    }\n  "]);return kE=function(){return e},e}function kT(){let e=(0,w._)(["\n  overflow: hidden;\n  padding: 8px 0;\n"]);return kT=function(){return e},e}function kD(){let e=(0,w._)(["\n  & > div:first-child {\n    flex: 1;\n    min-width: 0;\n  }\n"]);return kD=function(){return e},e}function kI(){let e=(0,w._)(["\n  height: ","px;\n  min-width: 23px;\n  vertical-align: top;\n"]);return kI=function(){return e},e}function kA(){let e=(0,w._)(["\n  position: relative;\n"]);return kA=function(){return e},e}function kO(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 13;\n"]);return kO=function(){return e},e}function kP(){let e=(0,w._)(["\n  overflow: hidden;\n  overflow: clip;\n  pointer-events: none;\n  position: absolute;\n"]);return kP=function(){return e},e}function kM(){let e=(0,w._)(["\n    ","\n\n    z-index: 100;\n    position: sticky;\n    height: 1px;\n    top: ",";\n    background-color: ",";\n  "]);return kM=function(){return e},e}function kF(){let e=(0,w._)(["\n      background: rgba(255, 0, 0, 0.25);\n      outline: 1px solid #00b;\n      visibility: visible;\n    "]);return kF=function(){return e},e}function kR(){let e=(0,w._)(["\n    ","\n\n    visibility: none;\n\n    ","\n  "]);return kR=function(){return e},e}function kB(){let e=(0,w._)(["\n    ","\n\n    position: sticky;\n    bottom: -1px;\n    height: 1px;\n    background-color: ",";\n  "]);return kB=function(){return e},e}function kN(){let e=(0,w._)(["\n  height: 40px;\n  min-height: 40px;\n"]);return kN=function(){return e},e}function kL(){let e=(0,w._)(["\n          right: -4px;\n        "]);return kL=function(){return e},e}function kz(){let e=(0,w._)(["\n          left: -4px;\n        "]);return kz=function(){return e},e}function kV(){let e=(0,w._)(["\n            right: 4px;\n          "]);return kV=function(){return e},e}function kU(){let e=(0,w._)(["\n            left: 4px;\n          "]);return kU=function(){return e},e}function kH(){let e=(0,w._)(["\n            right: 0px;\n          "]);return kH=function(){return e},e}function kq(){let e=(0,w._)(["\n            left: 0px;\n          "]);return kq=function(){return e},e}function kW(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 9px;\n  z-index: 201;\n  cursor: ew-resize;\n\n  ","\n\n  /* Border */\n  & > span:nth-child(1) {\n    display: block;\n    border-left: 1px solid var(--card-border-color);\n    position: absolute;\n    top: 0;\n    ","\n    bottom: 0;\n    transition: opacity 200ms;\n  }\n\n  /* Hover effect */\n  & > span:nth-child(2) {\n    display: block;\n    position: absolute;\n    top: 0;\n    ","\n    width: 9px;\n    bottom: 0;\n    background-color: var(--card-border-color);\n    opacity: 0;\n    transition: opacity 150ms;\n  }\n\n  @media (hover: hover) {\n    &:hover > span:nth-child(2) {\n      opacity: 0.2;\n    }\n  }\n"]);return kW=function(){return e},e}function kY(){let e=(0,w._)(["\n  position: relative;\n  flex: 1;\n  padding-left: 1px;\n"]);return kY=function(){return e},e}function kK(){let e=(0,w._)([""]);return kK=function(){return e},e}function kG(){let e=(0,w._)(["\n    --item-height: ","px;\n    --max-items: ",";\n    --list-padding: 0.5rem;\n\n    position: relative;\n    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));\n    min-height: calc((var(--item-height) * 1));\n    width: 100%;\n  "]);return kG=function(){return e},e}function k$(){let e=(0,w._)(["\n    [data-ui='Popover__wrapper'] {\n      min-width: 250px;\n      display: flex;\n      flex-direction: column;\n      border-radius: ","px;\n      position: relative;\n      overflow: hidden;\n      overflow: clip;\n    }\n  "]);return k$=function(){return e},e}function kZ(){let e=(0,w._)(["\n  border-radius: inherit;\n"]);return kZ=function(){return e},e}function kX(){let e=(0,w._)(["\n  transition: transform 0.2s ease;\n\n  &[data-expanded='true'] {\n    transform: rotate(90deg);\n  }\n"]);return kX=function(){return e},e}function kJ(){let e=(0,w._)(["\n  min-width: 23px;\n  max-width: 23px;\n"]);return kJ=function(){return e},e}function kQ(){let e=(0,w._)(["\n    margin-left: ","px;\n    box-sizing: border-box;\n    border-left: 1px solid ",";\n  "]);return kQ=function(){return e},e}function k1(){let e=(0,w._)(["\n    padding: 2px;\n    padding-right: 3px;\n    box-sizing: border-box;\n    transition: inherit;\n    border-radius: ","px;\n\n    &[data-selected='true'] {\n      background-color: ",";\n    }\n\n    [data-ui='ExpandButton'],\n    [data-ui='NavigateButton'] {\n      transition: inherit;\n      background-color: inherit;\n      box-shadow: unset;\n    }\n\n    @media (hover: hover) {\n      &:hover {\n        &[data-selected='false'] {\n          background-color: ",";\n          border-radius: ","px;\n\n          [data-ui='ExpandButton']:hover {\n            background-color: ",";\n          }\n        }\n\n        [data-ui='ExpandButton']:hover {\n          background-color: ",";\n        }\n      }\n    }\n  "]);return k1=function(){return e},e}function k2(){let e=(0,w._)(["\n  flex-direction: column;\n"]);return k2=function(){return e},e}function k0(){let e=(0,w._)(["\n  overflow-x: hidden;\n"]);return k0=function(){return e},e}function k5(){let e=(0,w._)(["\n  min-height: max-content;\n"]);return k5=function(){return e},e}function k7(){let e=(0,w._)(["\n    [data-ui='DialogCard'] {\n      padding: ","px;\n      box-sizing: border-box;\n\n      // Make the dialog full height\n      & > [data-ui='Card']:first-child {\n        flex: 1;\n      }\n    }\n  "]);return k7=function(){return e},e}function k3(){let e=(0,w._)(["\n  border-top-right-radius: inherit;\n  border-top-left-radius: inherit;\n  height: 100%;\n  position: relative;\n\n  @media (hover: hover) {\n    &:hover {\n      filter: brightness(95%);\n    }\n  }\n\n  &:focus:focus-visible {\n    box-shadow: 0 0 0 2px var(--card-focus-ring-color);\n  }\n"]);return k3=function(){return e},e}function k8(){let e=(0,w._)(["\n  position: relative;\n  border: 1px solid transparent;\n  transition: border-color 250ms;\n\n  ."," & {\n    border-color: var(--card-shadow-umbra-color);\n    box-shadow:\n      0 0 0 0,\n      0 8px 17px 2px var(--card-shadow-umbra-color),\n      0 3px 14px 2px var(--card-shadow-penumbra-color),\n      0 5px 5px -3px var(--card-shadow-ambient-color);\n  }\n\n  &:hover {\n    border-color: var(--card-shadow-umbra-color);\n  }\n\n  &[aria-selected='true'] {\n    border-color: var(--card-focus-ring-color);\n  }\n"]);return k8=function(){return e},e}function k4(){let e=(0,w._)(["\n  max-width: ","px;\n"]);return k4=function(){return e},e}function k6(){let e=(0,w._)(["\n  align-self: center;\n"]);return k6=function(){return e},e}function k9(){let e=(0,w._)(["\n    color: ",";\n    font-weight: 500;\n    margin-left: 1em;\n  "]);return k9=function(){return e},e}function we(){let e=(0,w._)(["\n    color: ",";\n    font-weight: 500;\n  "]);return we=function(){return e},e}function wt(){let e=(0,w._)(["\n    color: ",";\n    float: right;\n  "]);return wt=function(){return e},e}function wn(){let e=(0,w._)(["\n  line-height: 1;\n"]);return wn=function(){return e},e}function wr(){let e=(0,w._)(["\n  .button-small {\n    display: block;\n  }\n  .button-large {\n    display: none;\n  }\n\n  &[data-eq-min~='2'] {\n    .button-small {\n      display: none;\n    }\n    .button-large {\n      display: block;\n    }\n  }\n"]);return wr=function(){return e},e}function wi(){let e=(0,w._)(["\n  line-height: 1;\n"]);return wi=function(){return e},e}function wa(){let e=(0,w._)(["\n  /* Hide on small screens */\n  &[data-eq-max~='0'] [data-ui='TabList'] {\n    display: none;\n  }\n\n  /* Hide on medium to large screens */\n  [data-ui='Select'] {\n    display: none;\n  }\n\n  /* Show on small screens */\n  &[data-eq-max~='0'] [data-ui='Select'] {\n    display: block;\n  }\n"]);return wa=function(){return e},e}function wo(){let e=(0,w._)(["\n  margin-bottom: ","px;\n  padding-bottom: ","px;\n"]);return wo=function(){return e},e}function wl(){let e=(0,w._)(["\n  align-items: flex-end;\n"]);return wl=function(){return e},e}function ws(){let e=(0,w._)(["\n  // Disable focus ring for the object block. We instead highlight the left border on the fieldset\n  // for level > 0 to signal that you have focused on the object\n  &:focus {\n    outline: none;\n  }\n"]);return ws=function(){return e},e}function wc(){let e=(0,w._)(["\n  position: relative;\n"]);return wc=function(){return e},e}function wu(){let e=(0,w._)(["\n  z-index: 13;\n  opacity: 0;\n  transition: opacity 300ms linear;\n"]);return wu=function(){return e},e}function wd(){let e=(0,w._)(["\n  border: 1px solid var(--card-border-color);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 12;\n  transition: opacity 150ms ease-in-out;\n  opacity: 0;\n  box-sizing: border-box;\n"]);return wd=function(){return e},e}function wp(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  &:hover,\n  &:focus {\n    & "," {\n      opacity: 0.9;\n    }\n\n    & "," {\n      opacity: 1;\n    }\n  }\n"]);return wp=function(){return e},e}function wf(){let e=(0,w._)(["\n    --input-box-shadow: ",";\n\n    position: relative;\n\n    & [data-wrapper] {\n      overflow: hidden;\n      overflow: clip;\n      position: relative;\n      z-index: 1;\n      padding: ","px;\n    }\n\n    & [data-border] {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      box-shadow: var(--input-box-shadow);\n      z-index: 2;\n      border-radius: ","px;\n      pointer-events: none;\n    }\n\n    &:not([data-read-only])[data-focused] [data-border] {\n      --input-box-shadow: ",";\n    }\n  "]);return wf=function(){return e},e}function wh(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n  & > div {\n    height: 100%;\n  }\n"]);return wh=function(){return e},e}function wm(){let e=(0,w._)(["\n    /* Make sure the annotation styling is visible */\n    &[data-mark='code'] {\n      color: inherit;\n      mix-blend-mode: ",";\n    }\n  "]);return wm=function(){return e},e}function wg(){let e=(0,w._)(["\n    position: absolute;\n    border-radius: ","px;\n    top: -","px;\n    bottom: -","px;\n    left: ","px;\n    right: ","px;\n    background-color: ",";\n    pointer-events: none;\n  "]);return wg=function(){return e},e}function wy(){let e=(0,w._)(["\n        ",":after {\n          display: none;\n        }\n      "]);return wy=function(){return e},e}function wv(){let e=(0,w._)(["\n        ",":after {\n          opacity: 1;\n        }\n      "]);return wv=function(){return e},e}function wb(){let e=(0,w._)(["\n        ",":after {\n          opacity: 0;\n          pointer-events: none;\n        }\n      "]);return wb=function(){return e},e}function wx(){let e=(0,w._)(["\n        "," {\n          opacity: 0;\n        }\n      "]);return wx=function(){return e},e}function wC(){let e=(0,w._)(["\n      --change-bar-offset: 4px;\n\n      display: flex;\n      position: relative;\n\n      ",":after {\n        opacity: 0.5;\n      }\n\n      @media (hover: hover) {\n        &:hover {\n          z-index: 10;\n          ",":after {\n            opacity: 1;\n          }\n        }\n      }\n\n      /* hide when field is not changed */\n      ","\n\n      /* hide when field is not changed */\n      ","\n\n      /* hide hover effect when review changes is open */\n      ","\n    "]);return wC=function(){return e},e}function wk(){let e=(0,w._)(["\n  flex-grow: 1;\n  min-width: 0;\n"]);return wk=function(){return e},e}function ww(){let e=(0,w._)(["\n  position: relative;\n  opacity: 1;\n  transition: opacity 100ms;\n  z-index: ",";\n"]);return ww=function(){return e},e}function w_(){let e=(0,w._)(["\n    position: absolute;\n    top: -1px;\n    left: var(--change-bar-offset);\n    width: 1px;\n    bottom: -1px;\n    background-color: var(--card-bg-color);\n\n    @media (min-width: ","px) {\n      display: unset;\n    }\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 1px;\n      left: 0;\n      width: 1px;\n      bottom: 1px;\n      background-color: var(--card-badge-caution-dot-color);\n      border-radius: 0.5px;\n    }\n  "]);return w_=function(){return e},e}function wj(){let e=(0,w._)(["\n      cursor: pointer;\n      pointer-events: all;\n    "]);return wj=function(){return e},e}function wS(){let e=(0,w._)(["\n      @media (hover: hover) {\n        &:hover {\n          opacity: 0.2;\n        }\n      }\n    "]);return wS=function(){return e},e}function wE(){let e=(0,w._)(["\n    appearance: none;\n    border: 0;\n    outline: 0;\n    display: block;\n    padding: 0;\n    background: transparent;\n    opacity: 0;\n    position: absolute;\n    height: 100%;\n\n    ","\n\n    left: calc(-0.25rem + var(--change-bar-offset));\n    width: calc(1rem - 1px);\n    transition: opacity ","ms;\n\n    &:focus {\n      border: 0;\n      outline: 0;\n    }\n\n    &:focus {\n      border: 0;\n      outline: 0;\n    }\n\n    ","\n  "]);return wE=function(){return e},e}function wT(){let e=(0,w._)(["\n    width: 1px;\n    height: 100%;\n\n    & > div {\n      height: 100%;\n    }\n  "]);return wT=function(){return e},e}function wD(){let e=(0,w._)(["\n  display: flex;\n  pointer-events: all;\n"]);return wD=function(){return e},e}function wI(){let e=(0,w._)(["\n    --marker-bg-color: transparent;\n\n    mix-blend-mode: ",";\n    position: relative;\n\n    & > [data-ui='TextBlock_inner'] {\n      position: relative;\n      flex: 1;\n    }\n\n    & > div:before {\n      content: '';\n      position: absolute;\n      top: -","px;\n      bottom: -","px;\n      left: -","px;\n      right: -","px;\n      border-radius: ","px;\n      background-color: var(--marker-bg-color);\n      // This is to make sure the marker is always behind the text\n      z-index: -1;\n      pointer-events: none;\n    }\n\n    &[data-markers] {\n      --marker-bg-color: ",";\n    }\n\n    &[data-warning] {\n      --card-border-color: ",";\n      --marker-bg-color: ",";\n    }\n\n    &[data-error] {\n      --card-border-color: ",";\n      --marker-bg-color: ",";\n    }\n\n    & [data-list-prefix] {\n      position: absolute;\n      margin-left: -4.5rem;\n      width: 3.75rem;\n      text-align: right;\n      box-sizing: border-box;\n    }\n\n    &[data-list-item='number'] [data-list-prefix] {\n      font-variant-numeric: tabular-nums;\n\n      & > span:before {\n        content: counter(",") '.';\n        content: counter(",", ",") '.';\n      }\n    }\n\n    &[data-list-item='bullet'] [data-list-prefix] {\n      & > span {\n        position: relative;\n        top: -0.1875em;\n\n        &:before {\n          content: '","';\n          font-size: 0.46666em;\n        }\n      }\n    }\n\n    & [data-text] {\n      overflow-wrap: anywhere;\n      text-transform: none;\n      white-space: pre-wrap;\n      font-family: ",";\n      flex: 1;\n\n      *::selection {\n        background-color: ",";\n      }\n    }\n  "]);return wI=function(){return e},e}function wA(){let e=(0,w._)(["\n  position: relative;\n  display: flex;\n"]);return wA=function(){return e},e}function wO(){let e=(0,w._)(["\n  user-select: none;\n  white-space: nowrap;\n"]);return wO=function(){return e},e}function wP(){let e=(0,w._)(["\n  line-height: 0;\n  width: 25px;\n  position: relative;\n"]);return wP=function(){return e},e}function wM(){let e=(0,w._)(["\n    user-select: none;\n    position: absolute;\n    right: 0;\n    top: ","px;\n  "]);return wM=function(){return e},e}function wF(){let e=(0,w._)(["\n  max-width: 250px;\n"]);return wF=function(){return e},e}function wR(){let e=(0,w._)(["\n  position: relative;\n  padding-left: ","px;\n"]);return wR=function(){return e},e}function wB(){let e=(0,w._)(["\n        display: none;\n      "]);return wB=function(){return e},e}function wN(){let e=(0,w._)(["\n      position: absolute;\n      width: ","px;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      padding-left: ","px;\n      padding-right: ","px;\n      user-select: none;\n      ","\n\n      ","\n    "]);return wN=function(){return e},e}function wL(){let e=(0,w._)(["\n  display: block;\n"]);return wL=function(){return e},e}function wz(){let e=(0,w._)(["\n  position: relative;\n  display: block;\n  margin: 0;\n  padding-left: ","px;\n\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: -4px;\n    bottom: -4px;\n    width: 3px;\n    background: var(--card-border-color);\n  }\n"]);return wz=function(){return e},e}function wV(){let e=(0,w._)(["\n  &[data-fullscreen='true'] {\n    height: 100%;\n  }\n\n  &[data-fullscreen='false'] {\n    min-height: 5em;\n    resize: ",";\n    overflow: auto;\n    height: ",";\n  }\n\n  &:not([hidden]) {\n    display: flex;\n  }\n\n  flex-direction: column;\n"]);return wV=function(){return e},e}function wU(){let e=(0,w._)(["\n  z-index: 10;\n  line-height: 0;\n"]);return wU=function(){return e},e}function wH(){let e=(0,w._)(["\n  position: relative;\n  overflow: hidden;\n  overflow: clip;\n\n  & > [data-portal] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n\n    & > * {\n      pointer-events: initial;\n    }\n  }\n\n  &::selection,\n  *::selection {\n    background-color: transparent;\n  }\n"]);return wH=function(){return e},e}function wq(){let e=(0,w._)(["\n  position: relative;\n  overflow: auto;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  & > * {\n    flex: 1;\n    min-height: auto;\n  }\n"]);return wq=function(){return e},e}function wW(){let e=(0,w._)(["\n        /* Reset the list count each time a list index of 1 is encountered\n         * for the current level.\n         */\n        & [data-level='","'][data-list-index='1'] {\n          counter-set: "," 1;\n        }\n        /* Otherwise, increment the list count for the current level. */\n        & [data-level='","']:not([data-list-index='1']) {\n          counter-increment: ",";\n        }\n      "]);return wW=function(){return e},e}function wY(){let e=(0,w._)(["\n  height: 100%;\n  width: 100%;\n  counter-reset: ",";\n  overflow: hidden;\n  overflow: clip;\n\n  & > div {\n    height: 100%;\n  }\n\n  & .pt-editable {\n    display: block;\n    width: 100%;\n    height: 100%;\n\n    ","\n\n    & > .pt-list-item-bullet + .pt-list-item-number,\n    & > .pt-list-item-number + .pt-list-item-bullet {\n      margin-top: ","px;\n    }\n\n    & > :not(.pt-list-item) + .pt-list-item {\n      margin-top: ","px;\n    }\n\n    & > .pt-list-item + :not(.pt-list-item) {\n      margin-top: ","px;\n    }\n\n    & > :first-child {\n      padding-top: ","px;\n    }\n\n    padding-bottom: ","px;\n\n    & > .pt-block {\n      margin: 0 auto;\n      max-width: ","px;\n    }\n\n    /* & > .pt-block {\n      & .pt-inline-object {\n      }\n    } */\n\n    & .pt-drop-indicator {\n      pointer-events: none;\n      border: 1px solid var(--card-focus-ring-color) !important;\n      height: 0px !important;\n      border-radius: ","px;\n      margin-top: -3px;\n      left: calc(\n        "," -\n          1px\n      );\n      right: calc(\n        "," -\n          1px\n      );\n      width: calc(\n        100% -\n          "," +\n          2px\n      ) !important;\n    }\n  }\n"]);return wY=function(){return e},e}function wK(){let e=(0,w._)(["\n  border-right: 1px solid var(--card-border-color);\n  height: auto;\n\n  &[data-hidden] {\n    opacity: 0;\n  }\n"]);return wK=function(){return e},e}function wG(){let e=(0,w._)(["\n  list-style: none;\n  display: flex;\n  white-space: nowrap;\n\n  &[data-hidden='true'] {\n    opacity: 0;\n    visibility: hidden;\n  }\n"]);return wG=function(){return e},e}function w$(){let e=(0,w._)(["\n  padding: ","px;\n  margin: -","px;\n  box-sizing: border-box;\n"]);return w$=function(){return e},e}function wZ(){let e=(0,w._)(["\n  border-radius: inherit;\n  position: relative;\n"]);return wZ=function(){return e},e}function wX(){let e=(0,w._)(["\n  width: max-content;\n  &[data-hidden='true'] {\n    visibility: hidden;\n    position: relative;\n    margin-top: -1px;\n    height: 1px;\n  }\n"]);return wX=function(){return e},e}function wJ(){let e=(0,w._)(["\n  ","\n"]);return wJ=function(){return e},e}function wQ(){let e=(0,w._)(["\n  width: 1em;\n  height: 1em;\n  border-radius: inherit;\n  background-origin: content-box;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  transform: scale(0.7);\n"]);return wQ=function(){return e},e}function w1(){let e=(0,w._)(["\n  // Change the border color variable used by BlockQuote\n  // to make the border visible when the MenuItem is selected\n  &[data-selected] {\n    [data-option='blockquote'] {\n      --card-border-color: var(--card-muted-fg-color);\n    }\n  }\n"]);return w1=function(){return e},e}function w2(){let e=(0,w._)(["\n  width: 100%;\n"]);return w2=function(){return e},e}function w0(){let e=(0,w._)(["\n  width: 8em;\n"]);return w0=function(){return e},e}function w5(){let e=(0,w._)(["\n  border-right: 1px solid var(--card-border-color);\n"]);return w5=function(){return e},e}function w7(){let e=(0,w._)(["\n      max-width: max-content;\n      border-right: 1px solid var(--card-border-color);\n    "]);return w7=function(){return e},e}function w3(){let e=(0,w._)(["\n  ","\n"]);return w3=function(){return e},e}function w8(){let e=(0,w._)(["\n  border-left: 1px solid var(--card-border-color);\n"]);return w8=function(){return e},e}function w4(){let e=(0,w._)(["\n    color: ",";\n  "]);return w4=function(){return e},e}function w6(){let e=(0,w._)(["\n  display: block;\n  max-width: calc(5em + 80px);\n  position: relative;\n"]);return w6=function(){return e},e}function w9(){let e=(0,w._)(["\n  max-width: 250px;\n"]);return w9=function(){return e},e}function _e(){let e=(0,w._)(["\n    line-height: 0;\n    border-radius: ","px;\n    padding: 2px;\n    box-shadow: inset 0 0 0 1px var(--card-border-color);\n    height: calc(1em - 1px);\n    margin-top: 0.0625em;\n    cursor: default;\n\n    &:not([hidden]) {\n      display: inline-flex;\n      align-items: center;\n      vertical-align: top;\n    }\n\n    &[data-ready-only] {\n      cursor: default;\n    }\n\n    &[data-focused] {\n      box-shadow: inset 0 0 0 1px ",";\n      color: ",";\n    }\n\n    &[data-selected] {\n      background-color: ",";\n    }\n\n    &:not([data-focused]):not([data-selected]) {\n      @media (hover: hover) {\n        &:hover {\n          --card-border-color: ",";\n        }\n      }\n    }\n\n    &[data-markers] {\n      --card-bg-color: ",";\n    }\n\n    &[data-warning] {\n      --card-bg-color: ",";\n\n      @media (hover: hover) {\n        &:hover {\n          --card-border-color: ",";\n        }\n      }\n    }\n\n    &[data-invalid] {\n      --card-bg-color: ",";\n      --card-border-color: ",";\n\n      @media (hover: hover) {\n        &:hover {\n          --card-border-color: ",";\n        }\n      }\n    }\n  "]);return _e=function(){return e},e}function _t(){let e=(0,w._)(["\n  [data-ui='Popover__wrapper'] {\n    overflow: auto;\n    max-height: 60vh;\n  }\n"]);return _t=function(){return e},e}function _n(){let e=(0,w._)(["\n  /* Prevent overflow caused by change indicator */\n  overflow-x: hidden;\n"]);return _n=function(){return e},e}function _r(){let e=(0,w._)(["\n  box-shadow: 0 1px 0 var(--card-shadow-outline-color);\n  position: relative;\n  z-index: 10;\n  min-height: auto;\n"]);return _r=function(){return e},e}function _i(){let e=(0,w._)(["\n    --presence-cursor-bg: ",";\n    --presence-cursor-fg: ",";\n\n    border-left: 1px solid transparent;\n    border-color: var(--presence-cursor-bg);\n    margin-left: -1px;\n    position: relative;\n    word-break: normal;\n    white-space: normal;\n    mix-blend-mode: unset;\n    pointer-events: none;\n  "]);return _i=function(){return e},e}function _a(){let e=(0,w._)(["\n  background-color: var(--presence-cursor-bg);\n  border-radius: 50%;\n  width: ","px;\n  height: ","px;\n  position: absolute;\n  top: -","px;\n  left: -0.5px;\n  transform: translateX(-50%);\n  mix-blend-mode: unset;\n  z-index: 0;\n  pointer-events: all;\n\n  // Increase the hit area of the cursor dot\n  &:before {\n    content: '';\n    position: absolute;\n    top: -","px;\n    left: 50%;\n    transform: translateX(-50%);\n    width: ","px;\n    height: ","px;\n    opacity: 0.5;\n  }\n"]);return _a=function(){return e},e}function _o(){let e=(0,w._)(["\n    position: absolute;\n    top: -","px;\n    left: -","px;\n    transform-origin: left;\n    white-space: nowrap;\n    padding: 3px 6px;\n    box-sizing: border-box;\n    border-radius: ","px;\n    background-color: var(--presence-cursor-bg);\n    z-index: 1;\n    mix-blend-mode: unset;\n    user-select: none;\n  "]);return _o=function(){return e},e}function _l(){let e=(0,w._)(["\n  color: var(--presence-cursor-fg);\n  mix-blend-mode: unset;\n"]);return _l=function(){return e},e}function _s(){let e=(0,w._)(["\n  ","\n"]);return _s=function(){return e},e}function _c(){let e=(0,w._)(["\n  &:not([hidden]) {\n    display: flex;\n  }\n\n  align-items: center;\n"]);return _c=function(){return e},e}function _u(){let e=(0,w._)(["\n    appearance: none;\n    background: none;\n    border: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ",";\n    font-weight: ",";\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    /* &:is(textarea) */\n    &[data-as='textarea'] {\n      resize: none;\n    }\n\n    color: var(--input-fg-color);\n\n    &::placeholder {\n      color: var(--input-placeholder-color);\n    }\n\n    &[data-scheme='","'][data-tone='","'] {\n      --input-fg-color: ",";\n      --input-placeholder-color: ",";\n\n      /* enabled */\n      &:not(:invalid):not(:disabled):not(:read-only) {\n        --input-fg-color: ",";\n        --input-placeholder-color: ",";\n      }\n\n      /* disabled */\n      &:not(:invalid):disabled {\n        --input-fg-color: ",";\n        --input-placeholder-color: ",";\n      }\n\n      /* invalid */\n      &:invalid {\n        --input-fg-color: ",";\n        --input-placeholder-color: ",";\n      }\n\n      /* readOnly */\n      &:read-only {\n        --input-fg-color: ",";\n        --input-placeholder-color: ",";\n      }\n    }\n  "]);return _u=function(){return e},e}function _d(){let e=(0,w._)(["\n    --input-box-shadow: none;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n    pointer-events: none;\n    z-index: 0;\n\n    background-color: var(--card-bg-color);\n    box-shadow: var(--input-box-shadow);\n\n    border-top-left-radius: ",";\n    border-bottom-left-radius: ",";\n    border-top-right-radius: ",";\n    border-bottom-right-radius: ",";\n\n    &[data-scheme='","'][data-tone='","'] {\n      --card-bg-color: ",";\n      --card-fg-color: ",";\n\n      /* enabled */\n      *:not(:disabled) + &[data-border] {\n        --input-box-shadow: ",";\n      }\n\n      /* invalid */\n      *:not(:disabled).invalid + & {\n        --card-bg-color: ",";\n        --card-fg-color: ",";\n\n        &[data-border] {\n          --input-box-shadow: ",";\n        }\n      }\n\n      /* focused */\n      *:not(:disabled):focus + & {\n        &[data-border] {\n          --input-box-shadow: ",";\n        }\n\n        &:not([data-border]) {\n          --input-box-shadow: ",";\n        }\n      }\n\n      /* disabled */\n      *:not(.invalid):disabled + & {\n        --card-bg-color: "," !important;\n        --card-fg-color: "," !important;\n        --card-icon-color: "," !important;\n\n        &[data-border] {\n          --input-box-shadow: ",";\n        }\n      }\n\n      *.invalid:disabled + & {\n        --card-bg-color: "," !important;\n        --card-fg-color: "," !important;\n        --card-icon-color: "," !important;\n\n        &[data-border] {\n          --input-box-shadow: ",";\n        }\n      }\n\n      /* readOnly */\n      *:not(.invalid):read-only + & {\n        --card-bg-color: "," !important;\n        --card-fg-color: "," !important;\n      }\n\n      *.invalid:read-only + & {\n        --card-bg-color: "," !important;\n        --card-fg-color: "," !important;\n      }\n\n      /* hovered */\n      @media (hover: hover) {\n        *:not(:disabled):not(:read-only):not(.invalid):hover + & {\n          --card-bg-color: ",";\n          --card-fg-color: ",";\n        }\n\n        *.invalid:not(:disabled):not(:read-only):hover + & {\n          --card-bg-color: ",";\n          --card-fg-color: ",";\n        }\n\n        *:not(:disabled):not(:read-only):not(.invalid):not(:focus):hover + &[data-border] {\n          --input-box-shadow: ",";\n        }\n\n        *.invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {\n          --input-box-shadow: ",";\n        }\n      }\n    }\n  "]);return _d=function(){return e},e}function _p(){let e=(0,w._)(["\n    del {\n      opacity: 0.5;\n      text-decoration: line-through;\n\n      &::before {\n        text-decoration: line-through;\n        content: attr(data-text);\n      }\n    }\n\n    ins {\n      text-decoration: none;\n    }\n  "]);return _p=function(){return e},e}function _f(){let e=(0,w._)(["\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n"]);return _f=function(){return e},e}function _h(){let e=(0,w._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _h=function(){return e},e}function _m(){let e=(0,w._)(["\n  ","\n"]);return _m=function(){return e},e}function _g(){let e=(0,w._)(["\n  &[data-as='textarea'] {\n    resize: vertical;\n  }\n"]);return _g=function(){return e},e}function _y(){let e=(0,w._)(["\n  /* this is a hack to avoid layout jumps while previews are loading\n  or the message is not tall enough to fill the card\n  there's probably better ways of solving this */\n  min-height: 36px;\n"]);return _y=function(){return e},e}function _v(){let e=(0,w._)(["\n  & > div {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n"]);return _v=function(){return e},e}function _b(){let e=(0,w._)(["\n  word-break: break-word;\n"]);return _b=function(){return e},e}function _x(){let e=(0,w._)(["\n  /* this is a hack to avoid layout jumps while previews are loading\n  or the message is not tall enough to fill the card\n  there's probably better ways of solving this */\n  min-height: 36px;\n"]);return _x=function(){return e},e}function _C(){let e=(0,w._)(["\n  & > div {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n"]);return _C=function(){return e},e}function _k(){let e=(0,w._)(["\n  word-break: break-word;\n"]);return _k=function(){return e},e}function _w(){let e=(0,w._)(["\n  pointer-events: none;\n"]);return _w=function(){return e},e}function __(){let e=(0,w._)(["\n  * {\n    pointer-events: none;\n  }\n"]);return __=function(){return e},e}function _j(){let e=(0,w._)(["\n  background-color: transparent;\n  flex-shrink: 0;\n"]);return _j=function(){return e},e}function _S(){let e=(0,w._)([""]);return _S=function(){return e},e}function _E(){let e=(0,w._)(["\n      --card-muted-fg-color: var(--card-bg-color);\n      --card-fg-color: var(--card-bg-color);\n    "]);return _E=function(){return e},e}function _T(){let e=(0,w._)(["\n  ","\n"]);return _T=function(){return e},e}function _D(){let e=(0,w._)(["\n      --card-muted-fg-color: var(--card-bg-color);\n      --card-fg-color: var(--card-bg-color);\n\n      &:before {\n        background-color: var(--card-focus-ring-color);\n      }\n\n      "," {\n        --card-muted-fg-color: var(--card-bg-color);\n      }\n\n      "," {\n        --card-muted-fg-color: var(--card-bg-color);\n        --card-fg-color: var(--card-bg-color);\n      }\n    "]);return _D=function(){return e},e}function _I(){let e=(0,w._)(["\n      &:hover:before {\n        background-color: var(--card-bg-color);\n      }\n\n      &:focus:before {\n        background-color: var(--card-code-bg-color);\n      }\n\n      &:focus-within:before {\n        background-color: var(--card-bg-color);\n      }\n    "]);return _I=function(){return e},e}function _A(){let e=(0,w._)(["\n  box-shadow: none;\n  min-width: 0;\n  cursor: pointer;\n  position: initial;\n\n  &:before,\n  &:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 2;\n  }\n\n  &:before {\n    z-index: 0;\n    pointer-events: none;\n    border-radius: inherit;\n  }\n\n  ","\n\n  ","\n"]);return _A=function(){return e},e}function _O(){let e=(0,w._)(["\n  overflow-wrap: anywhere;\n"]);return _O=function(){return e},e}function _P(){let e=(0,w._)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n"]);return _P=function(){return e},e}function _M(){let e=(0,w._)(["\n  position: relative;\n  z-index: 1;\n  padding-bottom: 100%;\n"]);return _M=function(){return e},e}function _F(){let e=(0,w._)(["\n  position: relative;\n  display: inherit;\n"]);return _F=function(){return e},e}function _R(){let e=(0,w._)(["\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 2;\n  top: 3px;\n  right: 3px;\n\n  & button[data-selected] {\n    display: block;\n  }\n\n  @media (hover: hover) {\n    // If hover is supported, hide the buttons until the user hovers or focuses the asset\n    // Use opacity to enable the buttons to still be focusable\n    & button {\n      opacity: 0;\n    }\n\n    ",":hover & {\n      button {\n        opacity: 1;\n      }\n    }\n\n    ",":focus-within & {\n      button {\n        opacity: 1;\n      }\n    }\n  }\n"]);return _R=function(){return e},e}function _B(){let e=(0,w._)(["\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n"]);return _B=function(){return e},e}function _N(){let e=(0,w._)(["\n  border-top: 1px solid var(--card-border-color);\n  position: sticky;\n  bottom: 0;\n  z-index: 200;\n"]);return _N=function(){return e},e}function _L(){let e=(0,w._)(["\n      &:not([data-disabled='true']) {\n        &:focus-within {\n          box-shadow: ",";\n        }\n      }\n\n      // The underlying file input is rendered as children within a Sanity UI <Button> component.\n      // The below visibly hides it by targeting the input's parent <span> element, which is\n      // added by the <Button> component.\n      // TODO: refactor, avoid nth-child selector usage\n      & > span:nth-child(2) {\n        overflow: hidden;\n        overflow: clip;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        min-width: 0;\n        display: block;\n        appearance: none;\n        padding: 0;\n        margin: 0;\n        border: 0;\n        opacity: 0;\n      }\n    "]);return _L=function(){return e},e}function _z(){let e=(0,w._)(["\n      &:not([data-disabled='true']) {\n        &:focus-within {\n          box-shadow: ",";\n        }\n      }\n\n      // The underlying file input is rendered as children within a Sanity UI <Button> component.\n      // The below visibly hides it by targeting the input's parent <span> element, which is\n      // added by the <Button> component.\n      // TODO: refactor, avoid nth-child selector usage\n      & > span:nth-child(2) {\n        overflow: hidden;\n        overflow: clip;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        min-width: 0;\n        display: block;\n        appearance: none;\n        padding: 0;\n        margin: 0;\n        border: 0;\n        opacity: 0;\n      }\n    "]);return _z=function(){return e},e}function _V(){let e=(0,w._)(["\n  position: relative;\n  width: 100%;\n  min-height: 3.75rem;\n  max-height: min(calc(var(--image-height) * 1px), 30vh);\n  aspect-ratio: var(--image-width) / var(--image-height);\n\n  & img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: scale-down;\n    object-position: center;\n  }\n"]);return _V=function(){return e},e}function _U(){let e=(0,w._)(["\n  display: flex;\n  justify-content: flex-end;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  backdrop-filter: blur(10px);\n  background-color: color-mix(in srgb, transparent, var(--card-bg-color) 80%);\n"]);return _U=function(){return e},e}function _H(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return _H=function(){return e},e}function _q(){let e=(0,w._)(["\n  box-sizing: border-box;\n"]);return _q=function(){return e},e}function _W(){let e=(0,w._)(["\n  box-sizing: border-box;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n"]);return _W=function(){return e},e}function _Y(){let e=(0,w._)(["\n  position: relative;\n  width: 60%;\n"]);return _Y=function(){return e},e}function _K(){let e=(0,w._)(["\n  position: relative;\n  width: 100%;\n\n  code {\n    overflow: hidden;\n    overflow: clip;\n    text-overflow: ellipsis;\n    position: relative;\n    max-width: 200px;\n  }\n"]);return _K=function(){return e},e}function _G(){let e=(0,w._)(["\n  position: relative;\n\n  & input {\n    overflow: hidden;\n    overflow: clip;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    min-width: 0;\n    display: block;\n    appearance: none;\n    padding: 0;\n    margin: 0;\n    border: 0;\n    opacity: 0;\n  }\n"]);return _G=function(){return e},e}function _$(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return _$=function(){return e},e}function _Z(){let e=(0,w._)(["\n  height: 100%;\n"]);return _Z=function(){return e},e}function _X(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return _X=function(){return e},e}function _J(){let e=(0,w._)(["\n  position: relative;\n  padding-bottom: calc("," * 100%);\n\n  & > div {\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    right: ","px;\n    bottom: ","px;\n  }\n"]);return _J=function(){return e},e}function _Q(){let e=(0,w._)(["\n  position: relative;\n  width: 100%;\n"]);return _Q=function(){return e},e}function _1(){let e=(0,w._)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  overflow: visible;\n  touch-action: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n  -webkit-user-select: none;\n"]);return _1=function(){return e},e}function _2(){let e=(0,w._)(["\n  display: block;\n  overflow: visible;\n  shape-rendering: crispEdges;\n"]);return _2=function(){return e},e}function _0(){let e=(0,w._)(["\n  fill: rgba(0, 0, 0, 0.5);\n  pointer-events: none;\n"]);return _0=function(){return e},e}function _5(){let e=(0,w._)(["\n      stroke-width: 2px;\n      filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.3));\n    "]);return _5=function(){return e},e}function _7(){let e=(0,w._)(["\n  fill: none;\n  stroke: ",";\n  stroke-opacity: 1;\n  stroke-width: 1px;\n  outline: none;\n  ","\n"]);return _7=function(){return e},e}function _3(){let e=(0,w._)(["\n  fill: #fff;\n  stroke: ",";\n  stroke-width: 1;\n  outline: none;\n"]);return _3=function(){return e},e}function _8(){let e=(0,w._)(["\n  fill: #fff;\n  stroke: ",";\n  stroke-width: 1;\n  outline: none;\n"]);return _8=function(){return e},e}function _4(){let e=(0,w._)(["\n      stroke-width: 2px;\n    "]);return _4=function(){return e},e}function _6(){let e=(0,w._)(["\n  fill: transparent;\n  stroke: ",";\n  stroke-opacity: 1;\n  stroke-width: 1px;\n  outline: none;\n  ","\n"]);return _6=function(){return e},e}function _9(){let e=(0,w._)(["\n  fill: #fff;\n  stroke: ",";\n  stroke-width: 1;\n  outline: none;\n"]);return _9=function(){return e},e}function je(){let e=(0,w._)(["\n  fill: transparent;\n  stroke: transparent;\n  pointer-events: all;\n"]);return je=function(){return e},e}function jt(){let e=(0,w._)(["\n  fill: transparent;\n  stroke: transparent;\n  pointer-events: all;\n"]);return jt=function(){return e},e}function jn(){let e=(0,w._)(["\n      stroke: ",";\n      stroke-opacity: 0.2;\n      stroke-width: 1px;\n      stroke-dasharray: 3, 3;\n      pointer-events: none;\n    "]);return jn=function(){return e},e}function jr(){let e=(0,w._)(["\n  ","\n"]);return jr=function(){return e},e}function ji(){let e=(0,w._)(["\n  min-height: 6em;\n"]);return ji=function(){return e},e}function ja(){let e=(0,w._)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    pointer-events: none;\n    --card-fg-color: ",";\n  "]);return ja=function(){return e},e}function jo(){let e=(0,w._)(['\n  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive\n  max-width: 100%;\n']);return jo=function(){return e},e}function jl(){let e=(0,w._)(["\n    pointer-events: none;\n    content: '';\n    position: absolute;\n    top: -","px;\n    bottom: -","px;\n    left: -","px;\n    right: -","px;\n    border-radius: ","px;\n    mix-blend-mode: ",";\n  "]);return jl=function(){return e},e}function js(){let e=(0,w._)(["\n    box-shadow: 0 0 0 1px var(--card-border-color);\n    border-radius: ","px;\n    pointer-events: all;\n    position: relative;\n\n    &[data-focused] {\n      --card-border-color: var(--card-focus-ring-color);\n    }\n\n    &:not([data-focused]):not([data-selected]) {\n      @media (hover: hover) {\n        &:hover {\n          --card-border-color: ",";\n        }\n      }\n    }\n\n    &[data-markers] {\n      &:after {\n        ","\n        background-color: ",";\n      }\n    }\n\n    &[data-warning] {\n      &:after {\n        ","\n        background-color: ",";\n      }\n\n      @media (hover: hover) {\n        &:hover {\n          --card-border-color: ",";\n        }\n      }\n    }\n\n    &[data-invalid] {\n      &:after {\n        ","\n        background-color: ",";\n      }\n\n      @media (hover: hover) {\n        &:hover {\n          --card-border-color: ",";\n        }\n      }\n    }\n  "]);return js=function(){return e},e}function jc(){let e=(0,w._)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  user-select: none;\n  pointer-events: all;\n"]);return jc=function(){return e},e}function ju(){let e=(0,w._)(["\n        display: none;\n      "]);return ju=function(){return e},e}function jd(){let e=(0,w._)(["\n      position: absolute;\n      width: ","px;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      padding-left: ","px;\n      padding-right: ","px;\n      user-select: none;\n      ","\n\n      ","\n\n      [data-dragged] & {\n        visibility: hidden;\n      }\n    "]);return jd=function(){return e},e}function jp(){let e=(0,w._)(["\n  position: relative;\n\n  [data-dragged] > & {\n    opacity: 0.5;\n  }\n"]);return jp=function(){return e},e}function jf(){let e=(0,w._)(["\n  width: 25px;\n  position: relative;\n  flex-shrink: 0;\n  user-select: none;\n\n  [data-dragged] & {\n    visibility: hidden;\n  }\n"]);return jf=function(){return e},e}function jh(){let e=(0,w._)(["\n  position: absolute;\n  right: 0;\n  [data-dragged] & {\n    visibility: hidden;\n  }\n"]);return jh=function(){return e},e}function jm(){let e=(0,w._)(["\n  max-width: 250px;\n"]);return jm=function(){return e},e}function jg(){let e=(0,w._)(["\n    resize: none;\n    overflow: hidden;\n    appearance: none;\n    background: none;\n    border: 0;\n    padding: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ","px;\n    line-height: ","px;\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n    transition: height 500ms;\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  "]);return jg=function(){return e},e}function jy(){let e=(0,w._)(["\n    resize: none;\n    overflow: hidden;\n    appearance: none;\n    background: none;\n    border: 0;\n    padding: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ","px;\n    height: auto;\n    line-height: ","px;\n    margin: 0;\n    max-width: 624px;\n    position: relative;\n    z-index: 1;\n    display: block;\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  "]);return jy=function(){return e},e}function jv(){let e=(0,w._)(["\n  strong {\n    font-weight: 500;\n    color: var(--card-fg-color);\n  }\n  time {\n    white-space: nowrap;\n  }\n"]);return jv=function(){return e},e}function jb(){let e=(0,w._)(["\n  height: 100%;\n  overflow: scroll;\n"]);return jb=function(){return e},e}function jx(){let e=(0,w._)(["\n  --card-border-color: transparent;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return jx=function(){return e},e}function jC(){let e=(0,w._)(["\n  &:not([data-muted]) {\n    &[data-tone='default'] {\n      --card-fg-color: var(--card-badge-default-fg-color);\n    }\n    &[data-tone='primary'] {\n      --card-fg-color: var(--card-badge-primary-fg-color);\n    }\n    &[data-tone='positive'] {\n      --card-fg-color: var(--card-badge-positive-fg-color);\n    }\n    &[data-tone='caution'] {\n      --card-fg-color: var(--card-badge-caution-fg-color);\n    }\n    &[data-tone='critical'] {\n      --card-fg-color: var(--card-badge-critical-fg-color);\n    }\n  }\n\n  &[data-dimmed] {\n    opacity: 0.3;\n  }\n"]);return jC=function(){return e},e}function jk(){let e=(0,w._)(["\n  background: transparent;\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: -1;\n"]);return jk=function(){return e},e}function jw(){let e=(0,w._)(["\n    width: 100%;\n\n    input + span {\n      background: ",";\n    }\n\n    [data-qa='clear-button'] {\n      background: none;\n      box-shadow: none;\n      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */\n      transform: ",";\n      &:hover {\n        opacity: 0.5;\n      }\n    }\n  "]);return jw=function(){return e},e}function j_(){let e=(0,w._)(["\n  border-bottom: 1px solid ",";\n  flex-shrink: 0;\n"]);return j_=function(){return e},e}function jj(){let e=(0,w._)(["\n  box-sizing: border-box;\n"]);return jj=function(){return e},e}function jS(){let e=(0,w._)(["\n  border-top: 1px solid ",";\n  flex-shrink: 0;\n"]);return jS=function(){return e},e}function jE(){let e=(0,w._)(["\n  flex-shrink: ",";\n"]);return jE=function(){return e},e}function jT(){let e=(0,w._)(["\n  max-width: 480px;\n  min-width: 150px;\n  overflow: hidden;\n  overflow: clip;\n  width: 100%;\n"]);return jT=function(){return e},e}function jD(){let e=(0,w._)(["\n  border-radius: ",";\n"]);return jD=function(){return e},e}function jI(){let e=(0,w._)(["\n  position: absolute;\n  right: 0;\n"]);return jI=function(){return e},e}function jA(){let e=(0,w._)(["\n  align-items: center;\n  display: inline-flex;\n  max-width: 100%;\n  position: relative;\n"]);return jA=function(){return e},e}function jO(){let e=(0,w._)(["\n  border: none;\n  width: 100%;\n"]);return jO=function(){return e},e}function jP(){let e=(0,w._)(["\n  cursor: default;\n"]);return jP=function(){return e},e}function jM(){let e=(0,w._)(["\n  border-radius: ",";\n  cursor: default;\n  width: 100%;\n"]);return jM=function(){return e},e}function jF(){let e=(0,w._)(["\n  flex-shrink: 3;\n"]);return jF=function(){return e},e}function jR(){let e=(0,w._)(["\n  flex-shrink: 2;\n"]);return jR=function(){return e},e}function jB(){let e=(0,w._)(["\n  opacity: 0.8;\n  visibility: hidden;\n\n  @media (hover: hover) {\n    ",":hover & {\n      visibility: visible;\n    }\n    &:hover {\n      opacity: 0.4;\n    }\n  }\n"]);return jB=function(){return e},e}function jN(){let e=(0,w._)(["\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: relative;\n"]);return jN=function(){return e},e}function jL(){let e=(0,w._)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return jL=function(){return e},e}function jz(){let e=(0,w._)(["\n  animation: "," 500ms linear infinite;\n"]);return jz=function(){return e},e}function jV(){let e=(0,w._)(["\n  line-height: 0;\n  position: relative;\n"]);return jV=function(){return e},e}function jU(){let e=(0,w._)(["\n  box-sizing: border-box;\n"]);return jU=function(){return e},e}function jH(){let e=(0,w._)(["\n  cursor: help;\n  left: 0;\n  position: absolute;\n  top: 0;\n"]);return jH=function(){return e},e}function jq(){let e=(0,w._)(["\n  @supports (-webkit-overflow-scrolling: touch) {\n    * [data-ui='Box'] {\n      background-attachment: scroll;\n    }\n  }\n"]);return jq=function(){return e},e}function jW(){let e=(0,w._)(["\n  opacity: ",";\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: relative;\n  transition: 300ms opacity;\n  width: 100%;\n"]);return jW=function(){return e},e}function jY(){let e=(0,w._)(["\n  background-color: var(--card-backdrop-color);\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n"]);return jY=function(){return e},e}function jK(){let e=(0,w._)(["\n  display: flex !important;\n  flex-direction: column;\n  left: 50%;\n  max-height: min(\n    calc(100vh - ","vh - ","px),\n    ","px\n  );\n  position: absolute;\n  top: ","vh;\n  width: min(calc(100vw - ","px), ","px);\n"]);return jK=function(){return e},e}function jG(){let e=(0,w._)(["\n  height: ",";\n"]);return jG=function(){return e},e}function j$(){let e=(0,w._)(["\n  white-space: nowrap;\n"]);return j$=function(){return e},e}function jZ(){let e=(0,w._)(["\n  width: ",";\n  height: ",";\n"]);return jZ=function(){return e},e}function jX(){let e=(0,w._)(["\n  max-width: ","; /* 80% of 200px */\n  width: 80%;\n"]);return jX=function(){return e},e}function jJ(){let e=(0,w._)(["\n  max-width: ","; /* 60% of 200px */\n  width: 60%;\n"]);return jJ=function(){return e},e}function jQ(){let e=(0,w._)(["\n  max-width: ","; /* 90% of 200px */\n  width: 90%;\n"]);return jQ=function(){return e},e}function j1(){let e=(0,w._)(["\n    & > span {\n      max-height: ",";\n\n      /* Multi-line text overflow */\n      display: -webkit-box;\n      overflow: hidden;\n      overflow: clip;\n      text-overflow: ellipsis;\n      -webkit-line-clamp: ",";\n      -webkit-box-orient: vertical;\n    }\n  "]);return j1=function(){return e},e}function j2(){let e=(0,w._)(["\n  height: 1px;\n  background: var(--card-border-color);\n  width: 100%;\n"]);return j2=function(){return e},e}function j0(){let e=(0,w._)(["\n  // Remove margin top of first element\n  > div:first-child {\n    margin-top: 0;\n  }\n  // Remove margin bottom to last box.\n  > [data-ui='Box']:last-child {\n    margin-bottom: 0;\n  }\n"]);return j0=function(){return e},e}function j5(){let e=(0,w._)(["\n  color: var(--card-accent-fg-color);\n  --card-icon-color: var(--card-accent-fg-color);\n"]);return j5=function(){return e},e}function j7(){let e=(0,w._)(["\n    font-weight: ",";\n  "]);return j7=function(){return e},e}function j3(){let e=(0,w._)(["\n  &[data-sanity-icon] {\n    /* Forces the icon to leave the necessary space to the right or left it has surrounding text */\n    margin-left: ",";\n    margin-right: ",";\n  }\n"]);return j3=function(){return e},e}function j8(){let e=(0,w._)(["\n  font-weight: 600;\n  color: ",";\n"]);return j8=function(){return e},e}function j4(){let e=(0,w._)(["\n  display: ",";\n  font-size: calc(21 / 16 * 1rem) !important;\n  min-width: calc(21 / 16 * 1rem - 0.375rem);\n  line-height: 0;\n  > svg {\n    height: 1em;\n    width: 1em;\n    display: inline;\n    font-size: 1em !important;\n    margin: -0.375rem !important;\n    *[stroke] {\n      stroke: currentColor;\n    }\n  }\n"]);return j4=function(){return e},e}function j6(){let e=(0,w._)(["\n    object-fit: cover;\n    width: 100%;\n    border-radius: ","px;\n  "]);return j6=function(){return e},e}function j9(){let e=(0,w._)(["\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  height: 200px;\n"]);return j9=function(){return e},e}function Se(){let e=(0,w._)(["\n  max-width: 300px;\n  max-height: 200px;\n  overflow-y: auto;\n"]);return Se=function(){return e},e}function St(){let e=(0,w._)(["\n  display: inline-flex;\n  --border-color: var(--card-border-color);\n"]);return St=function(){return e},e}function Sn(){let e=(0,w._)(["\n  flex: none;\n  transition: none;\n  cursor: pointer;\n  --card-border-color: var(--border-color);\n"]);return Sn=function(){return e},e}function Sr(){let e=(0,w._)(["\n    margin: ","px;\n  "]);return Sr=function(){return e},e}function Si(){let e=(0,w._)(["\n  padding: 1.5rem;\n  [data-ui='Card']:first-child {\n    flex: 1;\n  }\n"]);return Si=function(){return e},e}function Sa(){let e=(0,w._)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ","px;\n  transform: translateY(1px);\n"]);return Sa=function(){return e},e}function So(){let e=(0,w._)(["\n  word-break: break-word;\n"]);return So=function(){return e},e}function Sl(){let e=(0,w._)(["\n  position: relative;\n  padding-bottom: 100%;\n"]);return Sl=function(){return e},e}function Ss(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: contain;\n"]);return Ss=function(){return e},e}function Sc(){let e=(0,w._)(["\n  width: min(calc(100vw - 40px), 320px);\n"]);return Sc=function(){return e},e}function Su(){let e=(0,w._)(["\n  cursor: default;\n"]);return Su=function(){return e},e}function Sd(){let e=(0,w._)(["\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n\n    circle {\n      stroke: ",";\n      stroke-width: 3;\n      fill: none;\n    }\n  "]);return Sd=function(){return e},e}function Sp(){let e=(0,w._)(["\n  position: relative;\n\n  &[data-focused='true'] {\n    z-index: 1;\n  }\n\n  &[data-start-date='true'] {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &[data-end-date='true'] {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  &[data-within-range='true'] {\n    border-radius: 0;\n  }\n"]);return Sp=function(){return e},e}function Sf(){let e=(0,w._)(["\n  grid-template-columns: repeat(7, minmax(44px, auto));\n"]);return Sf=function(){return e},e}function Sh(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return Sh=function(){return e},e}function Sm(){let e=(0,w._)(["\n  height: 100%;\n"]);return Sm=function(){return e},e}function Sg(){let e=(0,w._)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  min-height: 3.75rem;\n  aspect-ratio: var(--aspect-ratio);\n\n  /* Apply max-height constraint only for portrait videos (aspect ratio < 0.75) */\n  ","\n"]);return Sg=function(){return e},e}function Sy(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return Sy=function(){return e},e}function Sv(){let e=(0,w._)(["\n    --card-fg-color: ",";\n  "]);return Sv=function(){return e},e}function Sb(){let e=(0,w._)(["\n  svg > ellipse {\n    stroke: transparent;\n  }\n"]);return Sb=function(){return e},e}function Sx(){let e=(0,w._)(["\n    min-width: ","px;\n  "]);return Sx=function(){return e},e}function SC(){let e=(0,w._)(["\n    font-weight: ",";\n    color: var(--card-link-fg-color);\n    border-radius: 2px;\n    background-color: ",";\n    padding: 1px;\n    box-sizing: border-box;\n\n    &[data-active='true'] {\n      background-color: ",";\n    }\n  "]);return SC=function(){return e},e}function Sk(){let e=(0,w._)(["\n  word-break: break-word;\n"]);return Sk=function(){return e},e}function Sw(){let e=(0,w._)([""]);return Sw=function(){return e},e}function S_(){let e=(0,w._)(["\n    color: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-wrap: nowrap;\n    display: block;\n  "]);return S_=function(){return e},e}function Sj(){let e=(0,w._)(["\n    &[data-placement='bottom'] {\n      transform: translateY(","px);\n    }\n\n    &[data-placement='top'] {\n      transform: translateY(-","px);\n    }\n\n    [data-ui='Popover__wrapper'] {\n      border-radius: ","px;\n      display: flex;\n      flex-direction: column;\n      overflow: clip;\n      overflow: hidden;\n      position: relative;\n      width: 300px; // todo: improve\n    }\n  "]);return Sj=function(){return e},e}function SS(){let e=(0,w._)(["\n  max-height: 20vh;\n  overflow-y: auto;\n"]);return SS=function(){return e},e}function SE(){let e=(0,w._)(["\n    border-radius: ","px;\n    box-shadow: var(--input-box-shadow);\n\n    --input-box-shadow: ",";\n\n    &:not([data-expand-on-focus='false'], :focus-within) {\n      background: transparent;\n      box-shadow: unset;\n    }\n\n    &[data-focused='true']:focus-within {\n      "," {\n        min-height: 1em;\n      }\n\n      /* box-shadow: inset 0 0 0 1px var(--card-focus-ring-color); */\n      --input-box-shadow: ",";\n    }\n\n    &:focus-within {\n      "," {\n        min-height: 1em;\n      }\n    }\n\n    &[data-expand-on-focus='false'] {\n      "," {\n        min-height: 1em;\n      }\n    }\n\n    &[data-expand-on-focus='true'] {\n      [data-ui='CommentInputActions']:not([hidden]) {\n        display: none;\n      }\n\n      &:focus-within {\n        [data-ui='CommentInputActions'] {\n          display: flex;\n        }\n      }\n    }\n    &:hover {\n      --input-box-shadow: ",";\n    }\n  "]);return SE=function(){return e},e}function ST(){let e=(0,w._)(["\n    box-sizing: border-box;\n    transition:\n      background-color 100ms ease,\n      border-color 100ms ease;\n\n    // Make sure that child elements appropriately blend with the\n    // background of the highlight span\n    * {\n      mix-blend-mode: ",";\n    }\n\n    &[data-inline-comment-state='added'][data-inline-comment-nested='false'] {\n      background-color: ",";\n      border-bottom: 2px solid ",";\n    }\n\n    &[data-inline-comment-state='added'][data-inline-comment-nested='true'] {\n      background-color: ",";\n      border-bottom: 2px solid ",";\n    }\n\n    &[data-inline-comment-state='added'][data-inline-comment-nested='false'][data-hovered='true'] {\n      background-color: ",";\n      border-bottom: 2px solid ",";\n    }\n\n    &[data-inline-comment-state='authoring'] {\n      background-color: ",";\n      border-bottom: 2px solid ",";\n    }\n  "]);return ST=function(){return e},e}function SD(){let e=(0,w._)(["\n    & > [data-ui='Text']:not(:first-child) {\n      margin-top: 1em; // todo: improve\n    }\n\n    & > [data-ui='Text']:has(> span:empty) {\n      display: none;\n    }\n  "]);return SD=function(){return e},e}function SI(){let e=(0,w._)(["\n  font-family:\n    'Twemoji Mozilla', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji',\n    'EmojiOne Color', 'Android Emoji', sans-serif;\n"]);return SI=function(){return e},e}function SA(){let e=(0,w._)(["\n  max-width: 180px;\n"]);return SA=function(){return e},e}function SO(){let e=(0,w._)(["\n  display: inline-block;\n"]);return SO=function(){return e},e}function SP(){let e=(0,w._)(["\n  display: inline-block !important;\n\n  & > span {\n    white-space: break-spaces;\n  }\n"]);return SP=function(){return e},e}function SM(){let e=(0,w._)(["\n  line-height: 1;\n  text-align: center;\n"]);return SM=function(){return e},e}function SF(){let e=(0,w._)(["\n  background: none;\n"]);return SF=function(){return e},e}function SR(){let e=(0,w._)(["\n  &:empty {\n    display: none;\n  }\n"]);return SR=function(){return e},e}function SB(){let e=(0,w._)(["\n  &:not([data-hidden]) {\n    display: inline;\n  }\n"]);return SB=function(){return e},e}function SN(){let e=(0,w._)(["\n    border-left: 2px solid ",";\n    word-break: break-word;\n  "]);return SN=function(){return e},e}function SL(){let e=(0,w._)([""]);return SL=function(){return e},e}function Sz(){let e=(0,w._)(["\n    min-width: max-content;\n    --card-fg-color: ",";\n    color: var(--card-fg-color);\n  "]);return Sz=function(){return e},e}function SV(){let e=(0,w._)(["\n    min-height: ","px;\n  "]);return SV=function(){return e},e}function SU(){let e=(0,w._)(["\n    --card-fg-color: ",";\n    color: var(--card-fg-color);\n  "]);return SU=function(){return e},e}function SH(){let e=(0,w._)(["\n  transition: opacity 200ms ease;\n\n  &[data-muted='true'] {\n    transition: unset;\n    opacity: 0.5;\n  }\n"]);return SH=function(){return e},e}function Sq(){let e=(0,w._)(["\n    min-height: ","px;\n  "]);return Sq=function(){return e},e}function SW(){let e=(0,w._)(["\n  // Add not on hover\n  &:not(:hover) {\n    background-color: transparent;\n  }\n"]);return SW=function(){return e},e}function SY(){let e=(0,w._)(["\n    position: relative;\n\n    // Only show the floating layer on hover when hover is supported.\n    // Else, the layer is always visible.\n    @media (hover: hover) {\n      "," {\n        opacity: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translate(","px, -","px);\n      }\n\n      "," {\n        &:focus-within {\n          opacity: 1;\n        }\n      }\n\n      &:hover {\n        "," {\n          opacity: 1;\n        }\n      }\n    }\n\n    &[data-menu-open='true'] {\n      "," {\n        opacity: 1;\n      }\n    }\n  "]);return SY=function(){return e},e}function SK(){let e=(0,w._)(["\n      background-color: ",";\n\n      &[data-active='true'] {\n        background-color: ",";\n      }\n    "]);return SK=function(){return e},e}function SG(){let e=(0,w._)(["\n    position: relative;\n\n    &:has(> [data-ui='GhostButton']:focus:focus-visible) {\n      box-shadow:\n        inset 0 0 0 1px var(--card-border-color),\n        0 0 0 1px var(--card-bg-color),\n        0 0 0 2px var(--card-focus-ring-color);\n    }\n\n    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class\n    // since we want to show the hover styles when hovering over the menu items in the context menu as well.\n    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over\n    // the menu items.\n    &:not([data-active='true']) {\n      @media (hover: hover) {\n        &[data-hovered='true'] {\n          [data-root-menu='true'] {\n            opacity: 1;\n          }\n        }\n      }\n    }\n  "]);return SG=function(){return e},e}function S$(){let e=(0,w._)(["\n    font-weight: ",";\n  "]);return S$=function(){return e},e}function SZ(){let e=(0,w._)(["\n  opacity: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  left: 0;\n"]);return SZ=function(){return e},e}function SX(){let e=(0,w._)(["\n  min-height: 25px;\n"]);return SX=function(){return e},e}function SJ(){let e=(0,w._)(["\n    --card-fg-color: ",";\n\n    // The width is needed to make the text ellipsis work\n    // in the breadcrumbs component\n    max-width: 100%;\n  "]);return SJ=function(){return e},e}function SQ(){let e=(0,w._)(["\n  max-width: 280px;\n"]);return SQ=function(){return e},e}function S1(){let e=(0,w._)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return S1=function(){return e},e}function S2(){let e=(0,w._)(["\n  opacity: 0;\n  // Fade in the popover after 500ms\n  animation: "," 200ms 500ms forwards;\n"]);return S2=function(){return e},e}function S0(){let e=(0,w._)(["\n    object-fit: cover;\n    ","\n  "]);return S0=function(){return e},e}function S5(){let e=(0,w._)(["\n  margin: auto 0;\n"]);return S5=function(){return e},e}function S7(){let e=(0,w._)(["\n  width: 320px;\n"]);return S7=function(){return e},e}function S3(){let e=(0,w._)(["\n    mix-blend-mode: ",";\n    border-radius: ","px;\n    top: -","px;\n    left: -","px;\n    bottom: -","px;\n    right: -","px;\n    pointer-events: none;\n    position: absolute;\n    z-index: 1;\n    width: calc(100% + ","px);\n    height: calc(100% + ","px);\n    background-color: ",";\n  "]);return S3=function(){return e},e}function S8(){let e=(0,w._)(["\n  position: relative;\n"]);return S8=function(){return e},e}function S4(){let e=(0,w._)(["\n  user-select: none;\n"]);return S4=function(){return e},e}function S6(){let e=(0,w._)(["\n  width: 250px;\n"]);return S6=function(){return e},e}function S9(){let e=(0,w._)(["\n  margin-right: 0.2em;\n"]);return S9=function(){return e},e}function Ee(){let e=(0,w._)(["\n  white-space: nowrap;\n"]);return Ee=function(){return e},e}function Et(){let e=(0,w._)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n"]);return Et=function(){return e},e}function En(){let e=(0,w._)(["\n  .button-small {\n    display: block;\n  }\n  .button-large {\n    display: none;\n  }\n\n  &[data-eq-min~='2'] {\n    .button-small {\n      display: none;\n    }\n    .button-large {\n      display: block;\n    }\n  }\n"]);return En=function(){return e},e}function Er(){let e=(0,w._)(["\n    &[data-sanity-icon] {\n      color: var(--card-link-color);\n      font-size: calc("," / 16 * 1rem);\n      margin: ",";\n      margin-bottom: ",";\n    }\n  "]);return Er=function(){return e},e}function Ei(){let e=(0,w._)(["\n  .date-small {\n    display: inline;\n  }\n  .date-medium {\n    display: none;\n  }\n  .date-large {\n    display: none;\n  }\n\n  &[data-eq-min~='1'] {\n    .date-small {\n      display: none;\n    }\n    .date-medium {\n      display: inline;\n    }\n    .date-large {\n      display: none;\n    }\n  }\n\n  &[data-eq-min~='2'] {\n    .date-small {\n      display: none;\n    }\n    .date-medium {\n      display: none;\n    }\n    .date-large {\n      display: inline;\n    }\n  }\n"]);return Ei=function(){return e},e}function Ea(){let e=(0,w._)(["\n  white-space: initial;\n"]);return Ea=function(){return e},e}function Eo(){let e=(0,w._)(["\n  width: 9px;\n"]);return Eo=function(){return e},e}function El(){let e=(0,w._)(["\n  width: auto;\n"]);return El=function(){return e},e}function Es(){let e=(0,w._)(["\n  flex-direction: column;\n  &:not(:last-child) {\n    border-right: 1px solid var(--card-border-color);\n  }\n"]);return Es=function(){return e},e}function Ec(){let e=(0,w._)(["\n  position: relative;\n  [data-ui='Badge'] {\n    position: absolute;\n    top: -2px;\n    right: -2px;\n  }\n"]);return Ec=function(){return e},e}function Eu(){let e=(0,w._)(["\n  font-weight: 600;\n"]);return Eu=function(){return e},e}function Ed(){let e=(0,w._)(["\n  white-space: nowrap;\n"]);return Ed=function(){return e},e}function Ep(){let e=(0,w._)(["\n  > a {\n    color: var(--card-fg-muted-color);\n    text-decoration: underline;\n    text-underline-offset: 1px;\n    font-weight: 600;\n  }\n"]);return Ep=function(){return e},e}function Ef(){let e=(0,w._)(["\n      min-height: ","px;\n      min-width: ","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      ",";\n      ","\n    "]);return Ef=function(){return e},e}function Eh(){let e=(0,w._)(["\n  height: 100%;\n"]);return Eh=function(){return e},e}function Em(){let e=(0,w._)(["\n  width: 100%;\n"]);return Em=function(){return e},e}function Eg(){let e=(0,w._)(["\n    [data-ui='CommentsListItem'] {\n      padding-right: ","px;\n    }\n\n    // Increase the padding when the comment input is focused\n    [data-ui='CommentInputEditableWrap']:focus-within {\n      padding-bottom: ","px;\n    }\n  "]);return Eg=function(){return e},e}function Ey(){let e=(0,w._)(["\n  max-width: 15ch;\n  width: '100%';\n"]);return Ey=function(){return e},e}function Ev(){let e=(0,w._)([""]);return Ev=function(){return e},e}function Eb(){let e=(0,w._)(["\n  width: 308px;\n  border-radius: 3px;\n"]);return Eb=function(){return e},e}function Ex(){let e=(0,w._)(["\n    &[data-as='button'] {\n      border: 1px solid var(--card-border-color);\n      &:focus-within {\n        border: 1px solid var(--card-focus-ring-color);\n      }\n      --card-muted-fg-color: ",";\n    }\n  "]);return Ex=function(){return e},e}function EC(){let e=(0,w._)(["\n  padding: 3px 6px;\n"]);return EC=function(){return e},e}function Ek(){let e=(0,w._)(["\n  word-break: break-word;\n"]);return Ek=function(){return e},e}function Ew(){let e=(0,w._)(["\n    /* select CommentInputEditableWrap and change the padding */\n    [data-ui='CommentInputEditableWrap'] {\n      overflow: hidden;\n      padding: ",";\n      min-height: ","px !important;\n    }\n    #comment-input-root {\n      box-shadow: ",";\n    }\n    [data-ui='CommentInputActions'] {\n      display: none !important;\n    }\n  "]);return Ew=function(){return e},e}function E_(){let e=(0,w._)(["\n    // Reset the padding of the field header content box\n    [data-ui='fieldHeaderContentBox'] {\n      padding: 0;\n      label {\n        font-weight: ",";\n      }\n    }\n  "]);return E_=function(){return e},e}function Ej(){let e=(0,w._)(["\n    &:focus {\n      border: 1px solid var(--card-focus-ring-color);\n    }\n    &:focus-visible {\n      outline: none;\n      border: 1px solid var(--card-focus-ring-color);\n    }\n    &:hover {\n      border-color: ",";\n    }\n  "]);return Ej=function(){return e},e}function ES(){let e=(0,w._)(["\n  position: relative;\n  [data-ui='show-on-hover'] {\n    opacity: 0;\n    position: absolute;\n    right: 6px;\n    top: 4px;\n    display: flex;\n  }\n  &:focus-within,\n  &:hover {\n    padding-right: 36px;\n    /* Hides the preview status dot, the button will take it's position. */\n    [data-testid='compact-preview__status'] {\n      opacity: 0;\n    }\n    [data-ui='show-on-hover'] {\n      transition: opacity 200ms;\n      opacity: 1;\n    }\n  }\n"]);return ES=function(){return e},e}function EE(){let e=(0,w._)(["\n    text-decoration: none;\n    width: 100%;\n    overflow: hidden;\n    cursor: pointer;\n    &:focus {\n      box-shadow: 0 0 0 1px var(--card-focus-ring-color);\n    }\n    &:focus-visible {\n      outline: none;\n      box-shadow: 0 0 0 1px var(--card-focus-ring-color);\n    }\n  "]);return EE=function(){return e},e}function ET(){let e=(0,w._)(["\n    resize: none;\n    overflow: hidden;\n    appearance: none;\n    background: none;\n    border: 0;\n    padding: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ","px;\n    line-height: ","px;\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n    transition: height 500ms;\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  "]);return ET=function(){return e},e}function ED(){let e=(0,w._)(["\n    column-gap: ","px;\n    row-gap: ","px;\n  "]);return ED=function(){return e},e}function EI(){let e=(0,w._)(["\n  max-width: 268px;\n  margin: 0 auto;\n  height: 100%;\n  margin-top: 40%;\n"]);return EI=function(){return e},e}function EA(){let e=(0,w._)(["\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  animation: fadeIn 0.2s ease-in-out;\n"]);return EA=function(){return e},e}function EO(){let e=(0,w._)(["\n  width: 100%;\n  max-width: 100%;\n"]);return EO=function(){return e},e}function EP(){let e=(0,w._)(["\n  /* Checkbox width is 17px and first row gap is 12px. */\n  margin-left: 29px;\n"]);return EP=function(){return e},e}function EM(){let e=(0,w._)(["\n  [data-ui='summary-icon'] {\n    transition: transform 0.2s;\n    transform: rotate(-90deg);\n  }\n  &[open] [data-ui='summary-icon'] {\n    transform: rotate(0);\n  }\n  > summary::-webkit-details-marker {\n    display: none;\n  }\n"]);return EM=function(){return e},e}function EF(){let e=(0,w._)(["\n  list-style: none;\n"]);return EF=function(){return e},e}function ER(){let e=(0,w._)(["\n  margin-right: 0.2em;\n"]);return ER=function(){return e},e}function EB(){let e=(0,w._)(["\n  white-space: nowrap;\n  > [data-sanity-icon] {\n    --card-icon-color: var(--card-link-color);\n  }\n"]);return EB=function(){return e},e}function EN(){let e=(0,w._)(["\n  width: 220px;\n"]);return EN=function(){return e},e}function EL(){let e=(0,w._)(["\n  flex: 1;\n  flex-direction: column;\n"]);return EL=function(){return e},e}function Ez(){let e=(0,w._)(["\n  border-bottom: 1px solid var(--card-border-color);\n"]);return Ez=function(){return e},e}function EV(){let e=(0,w._)(["\n  overflow-y: scroll;\n  overflow-x: hidden;\n"]);return EV=function(){return e},e}function EU(){let e=(0,w._)(["\n    min-height: 100%;\n\n    @media (max-width: ","px) {\n      position: relative;\n    }\n  "]);return EU=function(){return e},e}function EH(){let e=(0,w._)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 360px;\n    border-left: 1px solid var(--card-border-color);\n    box-sizing: border-box;\n    overflow: hidden;\n\n    box-shadow:\n      0px 6px 8px -4px var(--card-shadow-umbra-color),\n      0px 12px 17px -1px var(--card-shadow-penumbra-color);\n\n    @media (max-width: ","px) {\n      bottom: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n    }\n\n    @media (max-width: ","px) {\n      border-left: 0;\n      min-width: 100%;\n      left: 0;\n    }\n  "]);return EH=function(){return e},e}function Eq(){let e=(0,w._)(["\n  flex-direction: column;\n  overflow: hidden;\n  overflow: clip;\n  pointer-events: all;\n  position: relative;\n"]);return Eq=function(){return e},e}function EW(){let e=(0,w._)(["\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  overflow: clip;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1;\n"]);return EW=function(){return e},e}function EY(){let e=(0,w._)(["\n  position: relative;\n  cursor: default;\n  &::before {\n    content: '';\n    position: absolute;\n    display: block;\n    inset: -4px;\n    border-radius: 9999px;\n  }\n"]);return EY=function(){return e},e}function EK(){let e=(0,w._)(["\n  ","\n"]);return EK=function(){return e},e}function EG(){let e=(0,w._)(["\n  ","\n"]);return EG=function(){return e},e}function E$(){let e=(0,w._)(["\n      &:after {\n        content: '';\n        display: block;\n        position: absolute;\n        left: var(--indicator-left);\n        bottom: -var(--indicator-bottom);\n        width: var(--indicator-width);\n        height: ",";\n        background-color: var(--card-border-color);\n      }\n    "]);return E$=function(){return e},e}function EZ(){let e=(0,w._)(["\n      > [data-ui='MenuItem'] {\n        position: relative;\n\n        &:before,\n        &:after {\n          content: '';\n          display: block;\n          position: absolute;\n          left: var(--indicator-left);\n          width: var(--indicator-width);\n          background-color: var(--card-border-color);\n        }\n\n        &:before {\n          top: 0;\n          height: var(--indicator-in-range-height);\n        }\n\n        &:after {\n          top: var(--indicator-in-range-height);\n          bottom: 0;\n        }\n      }\n    "]);return EZ=function(){return e},e}function EX(){let e=(0,w._)(["\n      > [data-ui='MenuItem']:after {\n        margin-top: -3px;\n        border-top-left-radius: ","px;\n        border-top-right-radius: ","px;\n      }\n      > [data-ui='MenuItem']:before {\n        display: none;\n      }\n    "]);return EX=function(){return e},e}function EJ(){let e=(0,w._)(["\n      > [data-ui='MenuItem']:before {\n        // dot diameter (5px) - 1.6px stroke divided by 2\n        padding-bottom: 1.7px;\n        border-bottom-left-radius: ","px;\n        border-bottom-right-radius: ","px;\n      }\n      > [data-ui='MenuItem']:after {\n        display: none;\n      }\n    "]);return EJ=function(){return e},e}function EQ(){let e=(0,w._)(["\n    position: relative;\n\n    --indicator-left: ","px;\n    --indicator-width: ","px;\n    --indicator-color: var(",");\n    --indicator-bottom: ","px;\n\n    --indicator-in-range-height: 16.5px;\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n  "]);return EQ=function(){return e},e}function E1(){let e=(0,w._)(["\n      &:before {\n        content: '';\n        display: block;\n        position: absolute;\n        left: ","px;\n        top: 0;\n        bottom: -","px;\n        width: ","px;\n        background-color: var(",");\n      }\n    "]);return E1=function(){return e},e}function E2(){let e=(0,w._)(["\n    position: relative;\n    // 4px padding + 33px release indicator width + 4px gap\n    padding-left: 41px;\n\n    ","\n  "]);return E2=function(){return e},e}function E0(){let e=(0,w._)(["\n    --card-fg-color: inherit;\n    --card-icon-color: inherit;\n\n    background-color: inherit;\n    opacity: ",";\n\n    @media (hover: hover) {\n      &:not([data-disabled='true']):hover {\n        --card-fg-color: inherit;\n        --card-icon-color: inherit;\n      }\n    }\n\n    [data-ui='MenuItem']:hover & {\n      opacity: 1;\n    }\n  "]);return E0=function(){return e},e}function E5(){let e=(0,w._)(["\n  overflow: auto;\n  max-height: 75vh;\n"]);return E5=function(){return e},e}function E7(){let e=(0,w._)(["\n    position: sticky;\n    top: 0;\n    background-color: var(--card-bg-color);\n    z-index: 10;\n    padding-bottom: ",";\n  "]);return E7=function(){return e},e}function E3(){let e=(0,w._)(["\n  min-width: 200px;\n  max-width: 320px;\n"]);return E3=function(){return e},e}function E8(){let e=(0,w._)(["\n  ","\n"]);return E8=function(){return e},e}function E4(){let e=(0,w._)(["\n  position: relative;\n  display: flex;\n  &:not([hidden]) {\n    display: flex;\n  }\n  align-items: center;\n  gap: 2px;\n  padding: 2px;\n  margin: -3px 0;\n\n  // The children in button is rendered inside a span, we need to absolutely position the dot for the error.\n  span:has(> [data-ui='error-status-icon']) {\n    position: absolute;\n    top: 6px;\n    right: 6px;\n    padding: 0;\n  }\n\n  a:hover,\n  button:hover {\n    position: relative;\n    z-index: 2;\n  }\n"]);return E4=function(){return e},e}function E6(){let e=(0,w._)(["\n  width: ",";\n  height: ",";\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n"]);return E6=function(){return e},e}function E9(){let e=(0,w._)(["\n  a {\n    color: inherit;\n  }\n"]);return E9=function(){return e},e}function Te(){let e=(0,w._)(["\n  max-width: 350px;\n  min-width: 250px;\n"]);return Te=function(){return e},e}function Tt(){let e=(0,w._)(["\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  overflow: clip;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return Tt=function(){return e},e}function Tn(){let e=(0,w._)(["\n  && {\n    background: none;\n    color: inherit;\n  }\n"]);return Tn=function(){return e},e}function Tr(){let e=(0,w._)(["\n  white-space: pre-line;\n"]);return Tr=function(){return e},e}function Ti(){let e=(0,w._)(["\n  align-items: center;\n"]);return Ti=function(){return e},e}function Ta(){let e=(0,w._)(["\n  align-items: center;\n"]);return Ta=function(){return e},e}function To(){let e=(0,w._)(["\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  overflow: clip;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 200;\n"]);return To=function(){return e},e}function Tl(){let e=(0,w._)(["\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  z-index: 20;\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: none;\n  color: white;\n  --card-fg-color: white;\n  :hover {\n    --card-fg-color: white;\n  }\n"]);return Tl=function(){return e},e}function Ts(){let e=(0,w._)(["\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  height: 196px;\n"]);return Ts=function(){return e},e}function Tc(){let e=(0,w._)(["\n  > [data-ui='DialogCard'] {\n    max-width: 22.5rem;\n  }\n"]);return Tc=function(){return e},e}function Tu(){let e=(0,w._)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return Tu=function(){return e},e}function Td(){let e=(0,w._)(["\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  height: 180px;\n"]);return Td=function(){return e},e}function Tp(){let e=(0,w._)(["\n  height: ","px;\n  width: ","px;\n"]);return Tp=function(){return e},e}function Tf(){let e=(0,w._)(["\n  border-radius: ",";\n  display: flex;\n  outline: none;\n  text-decoration: none;\n  &:focus-visible {\n    box-shadow: ",";\n  }\n"]);return Tf=function(){return e},e}function Th(){let e=(0,w._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return Th=function(){return e},e}function Tm(){let e=(0,w._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: var(--card-shadow-penumbra-color);\n"]);return Tm=function(){return e},e}function Tg(){let e=(0,w._)(["\n  position: relative;\n  pointer-events: all;\n  flex-direction: column;\n  height: 100%;\n  min-width: 200px;\n  max-width: 280px;\n  overflow: auto;\n"]);return Tg=function(){return e},e}function Ty(){let e=(0,w._)(["\n    [data-ui='Popover__wrapper'] {\n      width: 320px;\n      display: flex;\n      flex-direction: column;\n      border-radius: ","px;\n      position: relative;\n      overflow: hidden;\n      overflow: clip;\n    }\n  "]);return Ty=function(){return e},e}function Tv(){let e=(0,w._)(["\n    [data-ui='DialogCard'] {\n      justify-content: flex-start;\n    }\n  "]);return Tv=function(){return e},e}function Tb(){let e=(0,w._)([""]);return Tb=function(){return e},e}function Tx(){let e=(0,w._)(["\n  min-height: max-content;\n"]);return Tx=function(){return e},e}function TC(){let e=(0,w._)(["\n  min-height: max-content;\n"]);return TC=function(){return e},e}function Tk(){let e=(0,w._)(["\n    --item-height: ","px;\n    --max-items: ",";\n    --list-padding: 0.5rem;\n\n    position: relative;\n    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));\n    min-height: calc((var(--item-height) * 1));\n  "]);return Tk=function(){return e},e}function Tw(){let e=(0,w._)(["\n  min-height: 100px;\n"]);return Tw=function(){return e},e}function T_(){let e=(0,w._)(["\n  max-width: 260px;\n"]);return T_=function(){return e},e}function Tj(){let e=(0,w._)(["\n  position: sticky;\n  bottom: 0;\n  background-color: var(--card-bg-color);\n"]);return Tj=function(){return e},e}function TS(){let e=(0,w._)(["\n  height: ","px;\n  width: ","px;\n"]);return TS=function(){return e},e}function TE(){let e=(0,w._)(["\n  max-width: 300px;\n  min-width: 200px;\n"]);return TE=function(){return e},e}function TT(){let e=(0,w._)(["\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  background: var(--card-bg-color);\n  bottom: -4px;\n  right: -4px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid var(--card-bg-color);\n  box-sizing: content-box;\n\n  svg {\n    box-sizing: content-box;\n    border: 1px solid var(--card-hairline-soft-color);\n    border-radius: 50%;\n    padding: 2px;\n    width: 12px;\n    height: 12px;\n  }\n\n  &[data-logo='github'] {\n    svg {\n      path {\n        fill: var(--card-fg-color);\n      }\n    }\n  }\n\n  &[data-logo='saml'] {\n    svg {\n      path {\n        fill: var(--card-fg-color);\n      }\n    }\n  }\n"]);return TT=function(){return e},e}function TD(){let e=(0,w._)(["\n  min-width: 200px;\n  max-width: 300px;\n"]);return TD=function(){return e},e}function TI(){let e=(0,w._)(["\n  position: relative;\n  min-width: ","px;\n  min-height: ","px;\n"]);return TI=function(){return e},e}function TA(){let e=(0,w._)(["\n  min-height: auto;\n  position: relative;\n\n  &[data-search-open='true'] {\n    top: 0;\n    position: sticky;\n  }\n"]);return TA=function(){return e},e}function TO(){let e=(0,w._)(["\n  line-height: 0;\n"]);return TO=function(){return e},e}function TP(){let e=(0,w._)(["\n  grid-template-columns: auto auto auto;\n  @media screen and (min-width: ",") {\n    grid-template-columns: 1fr auto 1fr;\n  }\n"]);return TP=function(){return e},e}function TM(){let e=(0,w._)(["\n  list-style: none;\n  white-space: nowrap;\n  flex-shrink: 0;\n  opacity: 0;\n  visibility: hidden;\n"]);return TM=function(){return e},e}function TF(){let e=(0,w._)(["\n  opacity: 0;\n  height: 0.1px;\n  overflow: hidden;\n"]);return TF=function(){return e},e}function TR(){let e=(0,w._)(["\n    ::-webkit-resizer {\n      background-image: ",";\n      background-repeat: no-repeat;\n      background-position: bottom right;\n    }\n\n    ::-webkit-scrollbar {\n      width: ","px;\n      height: ","px;\n    }\n\n    ::-webkit-scrollbar-corner {\n      background-color: transparent;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background-clip: content-box;\n      background-color: var(--card-border-color, ",");\n      border: ","px solid transparent;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background-color: var(--card-muted-fg-color, ",");\n    }\n\n    ::-webkit-scrollbar-track {\n      background: transparent;\n    }\n\n    *::selection {\n      background-color: ",";\n    }\n\n    html {\n      background-color: ",";\n    }\n\n    body {\n      scrollbar-gutter: stable;\n    }\n\n    #sanity {\n      font-family: ",";\n    }\n\n    b {\n      font-weight: ",";\n    }\n\n    strong {\n      font-weight: ",";\n    }\n  "]);return TR=function(){return e},e}function TB(){let e=(0,w._)(["\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n"]);return TB=function(){return e},e}function TN(){let e=(0,w._)(["\n    position: relative;\n    cursor: pointer;\n    // hide the close button\n    #close-floating-button {\n      opacity: 0;\n      transition: opacity 0.2s;\n    }\n\n    &:hover {\n      > [data-ui='whats-new-card'] {\n        --card-bg-color: ",";\n        box-shadow: inset 0 0 2px 1px var(--card-skeleton-color-to);\n        background-image: linear-gradient(\n          to right,\n          var(--card-bg-color),\n          var(--card-bg-color),\n          ",",\n          var(--card-bg-color),\n          var(--card-bg-color),\n          var(--card-bg-color)\n        );\n        background-position: 100%;\n        background-size: 200% 100%;\n        background-attachment: fixed;\n        animation-name: ",";\n        animation-timing-function: ease-in;\n        animation-iteration-count: infinite;\n        animation-duration: 2000ms;\n      }\n      #close-floating-button {\n        opacity: 1;\n        background: transparent;\n\n        &:hover {\n          transition: all 0.2s;\n          box-shadow: 0 0 0 1px ",";\n        }\n      }\n    }\n  "]);return TN=function(){return e},e}function TL(){let e=(0,w._)(["\n  z-index: 1;\n  position: absolute;\n  top: 0px;\n  right: 6px;\n"]);return TL=function(){return e},e}function Tz(){let e=(0,w._)(["\n  height: 1px;\n  background: var(--card-border-color);\n  width: 100%;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n  margin: 0;\n  border: none;\n"]);return Tz=function(){return e},e}function TV(){let e=(0,w._)(["\n  overflow: auto;\n  max-height: 75vh;\n"]);return TV=function(){return e},e}function TU(){let e=(0,w._)(["\n  position: sticky;\n  display: grid;\n  grid-template-columns: 64px 1fr 64px;\n  top: 0;\n  z-index: 1;\n  background: var(--card-bg-color);\n"]);return TU=function(){return e},e}function TH(){let e=(0,w._)(["\n  position: absolute;\n  top: 12px;\n  right: 24px;\n  z-index: 2;\n"]);return TH=function(){return e},e}function Tq(){let e=(0,w._)([""]);return Tq=function(){return e},e}function TW(){let e=(0,w._)([""]);return TW=function(){return e},e}function TY(){let e=(0,w._)([""]);return TY=function(){return e},e}function TK(){let e=(0,w._)(["\n    // Make the popover scrollable if it overflows the viewport\n    [data-ui='Popover__wrapper'] {\n      overflow: auto;\n    }\n  "]);return TK=function(){return e},e}function TG(){let e=(0,w._)(["\n    position: sticky;\n    top: 0;\n    width: 100%;\n    background: var(--card-bg-color);\n    border-bottom: 1px solid var(--card-border-color);\n    border-top-left-radius: ","px;\n    border-top-right-radius: ","px;\n  "]);return TG=function(){return e},e}function T$(){let e=(0,w._)(["\n    /* TextWithTone uses its own logic to set color, and we therefore need */\n    /* to override this logic in order to set the correct color in different states */\n    &[data-selected],\n    &[data-pressed],\n    &:active {\n      [data-ui='TextWithTone'] {\n        color: inherit;\n      }\n    }\n  "]);return T$=function(){return e},e}function TZ(){let e=(0,w._)(["\n  /* this is a hack to avoid layout jumps while previews are loading\nthere's probably better ways of solving this */\n  min-height: 36px;\n"]);return TZ=function(){return e},e}function TX(){let e=(0,w._)(["\n    position: relative;\n    width: ",";\n    height: ",";\n    min-width: ",";\n    border-radius: ",";\n    display: flex;\n    overflow: hidden;\n    overflow: clip;\n    align-items: center;\n    justify-content: center;\n\n    & img {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      object-fit: contain;\n      border-radius: inherit;\n    }\n\n    & svg {\n      // Shared styles for SVG icons\n      color: var(--card-icon-color);\n      display: block;\n      flex: 1;\n\n      // Specific styles for non Sanity icons\n      &:not([data-sanity-icon]) {\n        height: 1em;\n        width: 1em;\n        max-width: 1em;\n        max-height: 1em;\n      }\n\n      // Specific styles for Sanity icons\n      &[data-sanity-icon] {\n        display: block;\n        font-size: calc("," / 16 * 1em);\n      }\n    }\n\n    & > span[data-border] {\n      display: block;\n      position: absolute;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      box-shadow: inset 0 0 0 1px var(--card-fg-color);\n      opacity: 0.1;\n      border-radius: inherit;\n      pointer-events: none;\n    }\n  "]);return TX=function(){return e},e}function TJ(){let e=(0,w._)(["\n  height: ",";\n  box-sizing: content-box;\n"]);return TJ=function(){return e},e}function TQ(){let e=(0,w._)(["\n  max-width: ",";\n  width: 80%;\n"]);return TQ=function(){return e},e}function T1(){let e=(0,w._)(["\n  height: ",";\n  box-sizing: content-box;\n"]);return T1=function(){return e},e}function T2(){let e=(0,w._)(["\n  max-width: ",";\n  width: 80%;\n"]);return T2=function(){return e},e}function T0(){let e=(0,w._)(["\n  max-width: ",";\n  width: 60%;\n"]);return T0=function(){return e},e}function T5(){let e=(0,w._)(["\n  width: ","px;\n  height: ","px;\n  transform: rotate(-90deg);\n"]);return T5=function(){return e},e}function T7(){let e=(0,w._)(["\n    fill: none;\n    stroke: ",";\n    stroke-width: ","px;\n  "]);return T7=function(){return e},e}function T3(){let e=(0,w._)(["\n    fill: none;\n    stroke: ",";\n    stroke-width: ","px;\n    transition: stroke-dashoffset 75ms;\n  "]);return T3=function(){return e},e}function T8(){let e=(0,w._)(["\n  overflow: hidden;\n  overflow: clip;\n"]);return T8=function(){return e},e}function T4(){let e=(0,w._)(["\n    height: ","rem;\n    background: ",";\n    transition: transform 75ms;\n  "]);return T4=function(){return e},e}function T6(){let e=(0,w._)(["\n  position: relative;\n"]);return T6=function(){return e},e}function T9(){let e=(0,w._)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n"]);return T9=function(){return e},e}function De(){let e=(0,w._)(["\n  width: 100%;\n  height: 100%;\n"]);return De=function(){return e},e}function Dt(){let e=(0,w._)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n\n  &:before {\n    background-color: var(--card-bg-color);\n    opacity: 0.75;\n    content: '';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  > svg {\n    position: relative;\n    z-index: 2;\n  }\n"]);return Dt=function(){return e},e}function Dn(){let e=(0,w._)(["\n  max-width: ",";\n"]);return Dn=function(){return e},e}function Dr(){let e=(0,w._)(["\n  height: ",";\n  white-space: nowrap;\n  position: relative;\n  z-index: 1;\n"]);return Dr=function(){return e},e}function Di(){let e=(0,w._)(["\n  overflow: hidden;\n  position: relative;\n  padding-bottom: ","%;\n\n  & > span {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n"]);return Di=function(){return e},e}function Da(){let e=(0,w._)(["\n  border-radius: ","px;\n"]);return Da=function(){return e},e}function Do(){let e=(0,w._)(["\n  min-height: ",";\n"]);return Do=function(){return e},e}function Dl(){let e=(0,w._)(["\n  display: inline-flex;\n  align-items: center;\n  vertical-align: top;\n  height: calc(1em - 1px);\n  max-width: 100%;\n"]);return Dl=function(){return e},e}function Ds(){let e=(0,w._)(["\n  position: relative;\n  display: inline-block;\n  width: calc(1em - 1px);\n  height: calc(1em - 1px);\n  min-width: calc(1em - 1px);\n\n  & img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: ",";\n  }\n\n  & img + span {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    box-shadow: inset 0 0 0 1px var(--card-fg-color);\n    opacity: 0.2;\n    border-radius: ",";\n  }\n\n  & svg {\n    display: block;\n    font-size: calc(14 / 16 * 1em);\n    margin: 1px 0;\n\n    &[data-sanity-icon] {\n      font-size: calc(18 / 16 * 1em);\n      margin: calc(1px + (2 / 18 * -1em)) 0;\n    }\n  }\n"]);return Ds=function(){return e},e}function Dc(){let e=(0,w._)(["\n    font-size: calc("," / 16 * 1em);\n    font-weight: ",";\n    box-sizing: border-box;\n    display: inline-block;\n    vertical-align: top;\n    line-height: ",";\n    padding-left: 0.5em;\n    padding-right: calc(0.5em - 2px);\n    min-width: 0;\n\n    & > span {\n      display: block;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      overflow: clip;\n    }\n  "]);return Dc=function(){return e},e}function Du(){let e=(0,w._)(["\n  height: 100%;\n\n  a {\n    color: currentColor;\n    text-decoration: none;\n  }\n\n  svg[data-sanity-icon] {\n    margin: 0;\n  }\n"]);return Du=function(){return e},e}function Dd(){let e=(0,w._)(["\n  height: ",";\n"]);return Dd=function(){return e},e}function Dp(){let e=(0,w._)(["\n  max-width: ",";\n  width: 80%;\n"]);return Dp=function(){return e},e}function Df(){let e=(0,w._)(["\n  max-width: ",";\n  width: 60%;\n"]);return Df=function(){return e},e}function Dh(){let e=(0,w._)(["\n  position: relative;\n  // The children in button is rendered inside a span, we need to absolutely position it.\n  & > span:nth-child(2) {\n    position: absolute;\n    top: 6px;\n    right: 6px;\n    padding: 0;\n  }\n"]);return Dh=function(){return e},e}function Dm(){let e=(0,w._)(["\n  stroke: #ccc;\n  fill: none;\n  pointer-events: none;\n  stroke-linecap: round;\n"]);return Dm=function(){return e},e}function Dg(){let e=(0,w._)(["\n  fill: none;\n  pointer-events: none;\n  stroke-linejoin: round;\n  stroke: var(--card-badge-caution-dot-color);\n"]);return Dg=function(){return e},e}function Dy(){let e=(0,w._)(["\n  fill: none;\n  pointer-events: stroke;\n  stroke: transparent;\n  cursor: pointer;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  opacity: 0;\n\n  &:hover {\n    opacity: 0.2;\n  }\n"]);return Dy=function(){return e},e}function Dv(){let e=(0,w._)(["\n  stroke: none;\n  pointer-events: none;\n  fill: var(--card-badge-caution-dot-color);\n"]);return Dv=function(){return e},e}function Db(){let e=(0,w._)(["\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n"]);return Db=function(){return e},e}function Dx(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}x2(function(e,t){if("transparent"===t)return t;var n=xY(t),r="number"==typeof n.alpha?n.alpha:1;return xQ((0,be.default)({},n,{alpha:x0(0,1,(100*r+100*parseFloat(e))/100)}))}),x2(function(e,t){if("transparent"===t)return t;var n=xK(t);return x1((0,be.default)({},n,{saturation:x0(0,1,n.saturation+parseFloat(e))}))}),x2(function(e,t){return"transparent"===t?t:x1((0,be.default)({},xK(t),{hue:parseFloat(e)}))}),x2(function(e,t){return"transparent"===t?t:x1((0,be.default)({},xK(t),{lightness:parseFloat(e)}))}),x2(function(e,t){return"transparent"===t?t:x1((0,be.default)({},xK(t),{saturation:parseFloat(e)}))}),x2(function(e,t){return"transparent"===t?t:x5(parseFloat(e),"rgb(0, 0, 0)",t)}),x2(function(e,t){return"transparent"===t?t:x5(parseFloat(e),"rgb(255, 255, 255)",t)}),x2(function(e,t){if("transparent"===t)return t;var n=xY(t),r="number"==typeof n.alpha?n.alpha:1;return xQ((0,be.default)({},n,{alpha:x0(0,1,(100*r-100*parseFloat(e)).toFixed(2)/100)}))});let DC=(0,F.styled)(I.Grid)(x7());function Dk(e){let{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&"inset 0 0 0 ".concat(a,"px var(--card-focus-ring-color)"),n&&Dx(n),a<0&&"0 0 0 ".concat(0-a,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}let Dw="a,button",D_=F.styled.div(e=>{let{theme:t,offset:n}=e;return(0,F.css)(x3(),-n,(0,I.rem)(t.sanity.radius[1]),-n,-n,-n,DS,Dk({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),Dj=F.styled.div(x8()),DS=(0,F.styled)(I.Box)(x4()),DE=(0,F.styled)(I.Box).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(x6()),DT=(0,E.forwardRef)(function(e,t){let{activeItemDataAttr:n="data-active",ariaLabel:r,ariaMultiselectable:i=!1,autoFocus:a,canReceiveFocus:o,fixedHeight:l,focusRingOffset:s=0,getItemDisabled:c,getItemKey:u,getItemSelected:d,initialIndex:p,initialScrollAlign:f="start",inputElement:h,itemHeight:m,items:g,onEndReached:y,onEndReachedIndexOffset:v=0,onlyShowSelectionWhenActive:b,overscan:x,renderItem:C,testId:k,wrapAround:w=!0,...j}=e,S=(0,E.useRef)(!1),[T]=(0,E.useState)((0,E.useId)()),D=(0,E.useRef)(null!=p?p:0),[I,A]=(0,E.useState)(null),[P,F]=(0,E.useState)(!1),[R,B]=(0,E.useState)(null),[N,L]=(0,E.useState)(null),z=(0,E.useCallback)(e=>{if(!y)return;let[t]=[...e.getVirtualItems()].reverse();t&&t.index>=g.length-v-1&&S.current&&y()},[y,g.length,v]),V=(0,O.useVirtualizer)({count:g.length,getItemKey:u,getScrollElement:()=>N,estimateSize:()=>m,onChange:z,overscan:x}),U=(0,E.useMemo)(()=>{var e,t,n;let r;return e=g,t=c,n=d,r=-1,e.reduce((e,i,a)=>{var o,l;let s=null!=(o=null==t?void 0:t(a))&&o,c=null!=(l=null==n?void 0:n(a))&&l;return s||(r+=1),e[a]={activeIndex:s?null:r,disabled:s,selected:c},e},[])},[c,d,g]),H=(0,E.useMemo)(()=>U.filter(e=>!e.disabled).length,[U]),q=(0,E.useCallback)(e=>null==R?void 0:R.setAttribute("data-enabled",(!e).toString()),[R]),W=(0,E.useCallback)(e=>"".concat(T,"-item-").concat(e),[T]),Y=(0,E.useCallback)(()=>"".concat(T,"-children"),[T]),K=(0,E.useCallback)(()=>{var e;let t=[h,N].some(e=>document.activeElement===e);(!b||t||P)&&(null==(e=Array.from((null==I?void 0:I.children)||[]))||e.forEach(e=>{var t,r,i;let a=null==(r=U[Number(null==(t=e.dataset)?void 0:t.index)])?void 0:r.activeIndex;null==(i=e.querySelector(Dw))||i.toggleAttribute(n,a===D.current)}))},[n,null==I?void 0:I.children,P,h,U,b,N]),G=(0,E.useCallback)(()=>{var e;null==(e=Array.from((null==I?void 0:I.children)||[]))||e.forEach(e=>{var t;null==(t=e.querySelector(Dw))||t.toggleAttribute(n,!1)})},[n,null==I?void 0:I.children]),$=(0,E.useMemo)(()=>(0,M.default)(K,200),[K]),Z=(0,E.useCallback)(()=>{let e=null==D?void 0:D.current;g.length>0?(null==h||h.setAttribute("aria-activedescendant",W(e)),null==N||N.setAttribute("aria-activedescendant",W(e))):(null==h||h.removeAttribute("aria-activedescendant"),null==N||N.removeAttribute("aria-activedescendant"))},[W,h,g.length,N]),X=(0,E.useCallback)(()=>{let e=null==I?void 0:I.parentElement;if(I&&e){var t,n;let r=e.getBoundingClientRect().top-I.getBoundingClientRect().top;return null!=(n=null==(t=V.getVirtualItemForOffset(r))?void 0:t.index)?n:-1}return -1},[I,V]),J=(0,E.useCallback)(e=>{let{index:t,scrollAlign:n,scrollIntoView:r=!0}=e;if(D.current=t,Z(),K(),r){let e=U.findIndex(e=>e.activeIndex===t);e>-1&&V.scrollToIndex(e,n?{align:n}:{})}},[Z,U,K,V]),Q=(0,E.useCallback)(e=>{let t=-1,n=H-1;"next"===e&&(t=D.current<H-1?D.current+1:w?0:n),"previous"===e&&(t=D.current>0?D.current-1:w?n:0),J({index:t,scrollIntoView:!0}),q(!1)},[H,q,J,w]),ee=(0,E.useCallback)(e=>{switch(e){case"input":null==h||h.focus();break;case"list":null==N||N.focus()}},[h,N]),et=(0,E.useCallback)(()=>{null==h||h.focus()},[h]),en=(0,E.useCallback)(()=>{null==N||N.focus()},[N]),er=(0,E.useCallback)(e=>()=>{J({index:e,scrollIntoView:!1})},[J]),ei=(0,E.useCallback)(()=>{K()},[K]),ea=(0,E.useCallback)(e=>t=>{let n=Array.from((null==I?void 0:I.children)||[]);if(n.length&&("ArrowDown"===t.key&&(t.preventDefault(),ee(e),Q("next")),"ArrowUp"===t.key&&(t.preventDefault(),ee(e),Q("previous")),"Enter"===t.key)){var r;t.preventDefault(),ee(e);let i=n.find(e=>Number(e.dataset.index)===U.findIndex(e=>e.activeIndex===D.current));i&&(null==i||null==(r=i.querySelector(Dw))||r.click())}},[null==I?void 0:I.children,ee,U,Q]),eo=(0,E.useCallback)(e=>ea("input")(e),[ea]),el=(0,E.useCallback)(e=>ea("list")(e),[ea]),es=(0,E.useCallback)(()=>{b&&(K(),F(!0))},[b,K]),ec=(0,E.useCallback)(()=>{b&&(G(),F(!1))},[G,b]);(0,E.useImperativeHandle)(t,()=>({focusInputElement(){et()},focusListElement(){en()},getTopIndex:()=>X(),scrollToIndex(e){J({index:e}),q(!0)}}),[q,et,en,X,J]),(0,E.useEffect)(()=>{"u">typeof p&&!S.current&&J({index:p,scrollAlign:f,scrollIntoView:!0}),S.current=!0},[p,f,b,J]),(0,E.useEffect)(()=>{function e(){q(!0)}return null==N||N.addEventListener("mousemove",e),null==N||N.addEventListener("wheel",e,{passive:!0}),()=>{null==N||N.removeEventListener("mousemove",e),null==N||N.removeEventListener("wheel",e)}},[q,N]),(0,E.useEffect)(()=>(null==h||h.addEventListener("focus",ei),null==h||h.addEventListener("keydown",eo),null==N||N.addEventListener("focus",ei),null==N||N.addEventListener("keydown",el),()=>{null==h||h.removeEventListener("focus",ei),null==h||h.removeEventListener("keydown",eo),null==N||N.removeEventListener("focus",ei),null==N||N.removeEventListener("keydown",el)}),[o,ei,ea,eo,el,G,h,K,N]),(0,E.useEffect)(()=>{Z()},[Z,g]),(0,E.useEffect)(()=>{let e=new MutationObserver($);return I&&e.observe(I,{childList:!0,subtree:!0}),()=>{e.disconnect()}},[I,$]),(0,E.useEffect)(()=>{null==h||h.setAttribute("aria-autocomplete","list"),null==h||h.setAttribute("aria-expanded","true"),null==h||h.setAttribute("aria-controls",Y()),null==h||h.setAttribute("role","combobox")},[Y,h]),(0,E.useEffect)(()=>{a&&ee(a)},[a,o,en,et,ee]);let eu=o?0:-1;return(0,_.jsxs)(DS,{id:Y(),onMouseEnter:es,onMouseLeave:ec,ref:L,sizing:"border",tabIndex:eu,"data-testid":k,...j,children:[o&&(0,_.jsx)(D_,{offset:s}),(0,_.jsx)(Dj,{"aria-hidden":"true","data-enabled":!0,ref:B}),V&&(0,_.jsx)(DE,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":r,"aria-multiselectable":i,flex:1,ref:A,role:"listbox",children:V.getVirtualItems().map(e=>{let t=e.index,{activeIndex:n,disabled:r,selected:a}=U[t],o=C(g[t],{activeIndex:n,disabled:r,selected:a,virtualIndex:t}),s=(0,E.isValidElement)(o)&&o.type!=E.Fragment?(0,E.cloneElement)(o,{tabIndex:-1}):o;return(0,_.jsx)(DA,{ref:l?void 0:V.measureElement,activeIndex:n,activeItemCount:H,ariaMultiselectable:i,disabled:r,fixedHeight:l?"".concat(e.size,"px"):void 0,getChildDescendantId:W,handleChildMouseEnter:er,selected:a,virtualIndex:t,virtualRowStart:e.start,children:s},e.key)})})]})}),DD=(0,E.memo)(DT);DD.displayName="Memo(ForwardRef(CommandList))";let DI=(0,E.forwardRef)(function(e,t){let{children:n,activeIndex:r,activeItemCount:i,ariaMultiselectable:a,disabled:o,fixedHeight:l,getChildDescendantId:s,handleChildMouseEnter:c,selected:u,virtualIndex:d,virtualRowStart:p}=e,f=(0,E.useMemo)(()=>"number"!=typeof r||o?void 0:c(r),[r,o,c]),h=(0,E.useMemo)(()=>"number"!=typeof r||o?{}:{"aria-posinset":r+1,...a?{"aria-selected":u.toString()}:{},"aria-setsize":i,id:s(r),role:"option"},[r,i,a,o,s,u]),m=(0,E.useMemo)(()=>({flex:1,height:l,left:0,position:"absolute",top:0,transform:"translateY(".concat(p,"px)"),width:"100%"}),[l,p]);return(0,_.jsx)(I.Stack,{as:"li","data-index":d,ref:t,style:m,tabIndex:-1,...h,onMouseEnter:f,children:n})}),DA=(0,E.memo)(DI);DA.displayName="Memo(ForwardRef(CommandListItem))";let DO=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(17);c[0]!==e?({mode:r,tooltipProps:a,tone:i,...n}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a):(n=c[1],r=c[2],i=c[3],a=c[4]);let u=void 0===r?"bleed":r,{t:d}=IO();return c[5]!==d||c[6]!==(null==a?void 0:a.content)?(o=(null==a?void 0:a.content)||d("common.context-menu-button.tooltip"),c[5]=d,c[6]=null==a?void 0:a.content,c[7]=o):o=c[7],c[8]!==o||c[9]!==a?(l={...a,content:o},c[8]=o,c[9]=a,c[10]=l):l=c[10],c[11]!==u||c[12]!==t||c[13]!==n||c[14]!==l||c[15]!==i?(s=(0,_.jsx)(B.Button,{...n,icon:R.EllipsisHorizontalIcon,mode:u,ref:t,tone:i,tooltipProps:l}),c[11]=u,c[12]=t,c[13]=n,c[14]=l,c[15]=i,c[16]=s):s=c[16],s});function DP(e,t){let{name:n,title:r}=e;return"string"==typeof n&&n.trim().length>0?n:DM(r,t)}function DM(e,t){let n="string"==typeof e&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function DF(){let e=(0,E.useContext)(D.WorkspacesContext);if(!e)throw Error("Could not find `workspaces` context");return e}class DR extends Error{constructor(e,t){super(e),this.name="WorkspaceValidationError",this.index=null==t?void 0:t.index,this.identifier=(null==t?void 0:t.workspace)&&DP(t.workspace,t.index)}}function DB(e,t){let{name:n,basePath:r}=e;if(r&&"string"==typeof r)return!0;throw typeof r>"u"?new DR("If more than one workspace is defined, every workspace must have a `basePath` defined. Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new DR("If more than one workspace is defined, every workspace must have a `basePath` defined. Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function DN(e,t){let{name:n,basePath:r}=e;if(!(!r||"/"===r)&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new DR("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}let DL=(0,F.styled)(I.Card)(e=>{let{$fill:t}=e;return(0,F.css)(Ct(),t?(0,F.css)(x9()):(0,F.css)(Ce()),!1)}),Dz=(0,F.styled)(I.Spinner)(e=>{let{$animatePosition:t=!0}=e;return(0,F.css)(Cn(),t?"500ms ease-out ".concat(750,"ms 1 normal both running fadeIn, 750ms ease-out ").concat(2e3,"ms 1 normal both running slideUp"):"500ms ease-out ".concat(750,"ms 1 normal both running fadeIn"))}),DV=(0,F.styled)(I.Text)(Cr(),2e3,2e3);function DU(e){let t,n,r,i=(0,j.c)(10),{fill:a,showText:o,title:l}=e,s=a?I.Layer:"div",c=!!o;return i[0]!==c?(t=(0,_.jsx)(Dz,{$animatePosition:c,muted:!0}),i[0]=c,i[1]=t):t=i[1],i[2]!==o||i[3]!==l?(n=o&&(0,_.jsx)(DH,{title:l}),i[2]=o,i[3]=l,i[4]=n):n=i[4],i[5]!==a||i[6]!==s||i[7]!==t||i[8]!==n?(r=(0,_.jsxs)(DL,{$fill:a,as:s,"data-testid":"loading-block",children:[t,n]}),i[5]=a,i[6]=s,i[7]=t,i[8]=n,i[9]=r):r=i[9],r}function DH(e){let t,n,r=(0,j.c)(5),{title:i}=e,{t:a}=IO();return r[0]!==a||r[1]!==i?(t=i||a("common.loading"),r[0]=a,r[1]=i,r[2]=t):t=r[2],r[3]!==t?(n=(0,_.jsx)(DV,{muted:!0,size:1,children:t}),r[3]=t,r[4]=n):n=r[4],n}function Dq(e){return e}function DW(e){return!("then"in e.resources&&"function"==typeof e.resources.then)}function DY(e,t){return t}let DK="studio",DG={id:"en-US",title:"English (US)",bundles:[{locale:"en-US",namespace:DK,resources:{"about-dialog.version-info.auto-updates.disabled":"Auto Updates not enabled","about-dialog.version-info.auto-updates.enabled":"Auto Updates Enabled","about-dialog.version-info.auto-updates.header":"Auto Updates","about-dialog.version-info.auto-updates.how-to-enable":"Enable","about-dialog.version-info.auto-updates.manage-version":"Manage version","about-dialog.version-info.copy-to-clipboard-button.copied-text":"Copied to Clipboard. Happy pasting!","about-dialog.version-info.copy-to-clipboard-button.text":"Copy to Clipboard","about-dialog.version-info.current-version.header":"Current version","about-dialog.version-info.how-to-upgrade":"Update now","about-dialog.version-info.latest-version.header":"Latest version","about-dialog.version-info.new-auto-update-version-available":"New version available","about-dialog.version-info.new-version.text":"New version","about-dialog.version-info.reload":"Reload","about-dialog.version-info.reload-to-update":"Reload Studio to update","about-dialog.version-info.tooltip.new-version-available":"New version available","about-dialog.version-info.tooltip.prerelease":"Prerelease","about-dialog.version-info.tooltip.up-to-date":"Up to date","about-dialog.version-info.up-to-date":"Up to date","about-dialog.version-info.update-button.text":"Update","about-dialog.version-info.update-button.tooltip":"Learn how to update Sanity Studio","about-dialog.version-info.user-agent.header":"User agent","about-dialog.version-info.view-on-github":"View on GitHub","announcement.dialog.close":"Close","announcement.dialog.close-label":"Close dialog","announcement.floating-button.dismiss":"Close","announcement.floating-button.dismiss-label":"Dismiss announcements","announcement.floating-button.open-label":"Open announcements","asset-source.asset-list.menu.delete":"Delete","asset-source.asset-list.menu.show-usage":"Show usage","asset-source.asset-usage-dialog.header_file":"Documents using file","asset-source.asset-usage-dialog.header_image":"Documents using image","asset-source.asset-usage-dialog.loading":"Loading…","asset-source.delete-dialog.action.cancel":"Cancel","asset-source.delete-dialog.action.delete":"Delete","asset-source.delete-dialog.header_file":"Delete file","asset-source.delete-dialog.header_image":"Delete image","asset-source.delete-dialog.loading":"Loading…","asset-source.delete-dialog.usage-list.confirm-delete-file_named":"You are about to delete the file <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-file_unnamed":"You are about to delete the file and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_named":"You are about to delete the image <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_unnamed":"You are about to delete the image and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.image-preview-alt":"Preview of image","asset-source.delete-dialog.usage-list.warning-file-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this file, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-file-is-in-use_unnamed":"This file cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this image, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_unnamed":"This image cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.dialog.accept-message":"Only showing assets of accepted types: <strong>{{acceptTypes}}</strong>","asset-source.dialog.button.cancel":"Cancel","asset-source.dialog.button.select":"Select","asset-source.dialog.default-title_file":"Select file","asset-source.dialog.default-title_image":"Select image","asset-source.dialog.insert-asset-error":"Error inserting asset. See the console for more information.","asset-source.dialog.load-more":"Load more","asset-source.dialog.no-assets_file":"No files","asset-source.dialog.no-assets_image":"No images","asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"Cannot delete currently selected file","asset-source.file.asset-list.action.delete.text":"Delete","asset-source.file.asset-list.action.delete.title":"Delete file","asset-source.file.asset-list.action.select-file.title":"Select the file {{filename}}","asset-source.file.asset-list.action.show-usage.title":"Show usage","asset-source.file.asset-list.delete-failed":"File could not be deleted","asset-source.file.asset-list.delete-successful":"File was deleted","asset-source.file.asset-list.header.date-added":"Date added","asset-source.file.asset-list.header.filename":"Filename","asset-source.file.asset-list.header.size":"Size","asset-source.file.asset-list.header.type":"Type","asset-source.file.title":"Uploaded files","asset-source.image.asset-list.delete-failed":"Image could not be deleted","asset-source.image.asset-list.delete-successful":"Image was deleted","asset-source.image.title":"Uploaded images","asset-source.usage-list.documents-using-file_named_one":"One document is using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_other":"{{count}} documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_zero":"No documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_unnamed_one":"One document is using this file","asset-source.usage-list.documents-using-file_unnamed_other":"{{count}} documents are using this file","asset-source.usage-list.documents-using-file_unnamed_zero":"No documents are using this file","asset-source.usage-list.documents-using-image_named_one":"One document is using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_other":"{{count}} documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_zero":"No documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_unnamed_one":"One document is using this image","asset-source.usage-list.documents-using-image_unnamed_other":"{{count}} documents are using this image","asset-source.usage-list.documents-using-image_unnamed_zero":"No documents are using this image","asset-sources.common.uploader.upload-failed.description":"See the console for more information.","asset-sources.common.uploader.upload-failed.title":"Upload failed","asset-sources.dataset.file.title":"Workspace files","asset-sources.dataset.image.title":"Workspace images","asset-sources.media-library.error.library-could-not-be-resolved":"Something went wrong trying to resolve the Media Library for this project.","asset-sources.media-library.error.no-media-library-provisioned":"No media library has been provisioned for this organization.","asset-sources.media-library.file.title":"Media Library","asset-sources.media-library.image.title":"Media Library","asset-sources.media-library.select-dialog.title":"Selecting {{assetType}} for {{targetTitle}}","asset-sources.media-library.warning.file-already-exist.description":"Using the existing file found in the library.","asset-sources.media-library.warning.file-already-exist.title":"File: '{{filename}}' already exists","banners.deleted-bundle-banner.text":"The '<strong>{{title}}</strong>' release has been deleted.","calendar.action.go-to-next-month":"Go to next month","calendar.action.go-to-next-year":"Go to next year","calendar.action.go-to-previous-month":"Go to previous month","calendar.action.go-to-previous-year":"Go to previous year","calendar.action.go-to-today":"Today","calendar.action.go-to-today-aria-label":"Go to today","calendar.action.go-to-tomorrow":"Tomorrow","calendar.action.go-to-yesterday":"Yesterday","calendar.action.include-time-label":"Include time","calendar.action.select-time":"Select time","calendar.action.set-to-current-time":"Set to current time","calendar.action.set-to-time-preset":"{{time}} on {{date, datetime}}","calendar.button.aria-label":"Open calendar","calendar.button.tooltip-text":"Select date","calendar.error.must-be-in-format":"Must be in the format: {{exampleDate}}","calendar.month-names.april":"April","calendar.month-names.august":"August","calendar.month-names.december":"December","calendar.month-names.february":"February","calendar.month-names.january":"January","calendar.month-names.july":"July","calendar.month-names.june":"June","calendar.month-names.march":"March","calendar.month-names.may":"May","calendar.month-names.november":"November","calendar.month-names.october":"October","calendar.month-names.september":"September","calendar.weekday-names.short.friday":"Fri","calendar.weekday-names.short.monday":"Mon","calendar.weekday-names.short.saturday":"Sat","calendar.weekday-names.short.sunday":"Sun","calendar.weekday-names.short.thursday":"Thu","calendar.weekday-names.short.tuesday":"Tue","calendar.weekday-names.short.wednesday":"Wed","changes.action.close-label":"Close history","changes.action.revert-all-cancel":"Cancel","changes.action.revert-all-confirm":"Revert all","changes.action.revert-all-description":"Are you sure you want to revert all {{count}} changes?","changes.action.revert-changes-confirm-change_one":"Revert change","changes.action.revert-changes-confirm-change_other":"Revert changes","changes.action.revert-changes-description":"Are you sure you want to revert the changes?","changes.action.revert-changes-description_one":"Are you sure you want to revert the change?","changes.added-label":"Added","changes.array.item-added-in-position":"Added in position {{position}}","changes.array.item-moved_down_one":"Moved {{count}} position down","changes.array.item-moved_down_other":"Moved {{count}} positions down","changes.array.item-moved_up_one":"Moved {{count}} position up","changes.array.item-moved_up_other":"Moved {{count}} positions up","changes.array.item-removed-from-position":"Removed from position {{position}}","changes.change-bar.aria-label":"Review changes","changes.changed-label":"Changed","changes.changes-by-author":"Changes by","changes.error-boundary.developer-info":"Check the developer console for more information","changes.error-boundary.title":"Rendering the changes to this field caused an error","changes.error-description":"We're unable to load the changes for this document.","changes.error-title":"Something went wrong","changes.error.incorrect-type-message":'Value error: Value is of type "<code>{{actualType}}</code>", expected "<code>{{expectedType}}</code>"',"changes.file.meta-info-fallback-title":"Untitled","changes.image.crop-changed":"Crop changed","changes.image.deleted":"Image deleted","changes.image.error-loading-image":"Error loading image","changes.image.hotspot-changed":"Hotspot changed","changes.image.meta-info-fallback-title":"Untitled","changes.image.no-asset-set":"Image not set","changes.image.no-image-placeholder":"(no image)","changes.inspector.from-label":"From","changes.inspector.meta-label":"Meta","changes.inspector.to-label":"To","changes.loading-author":"Loading…","changes.loading-changes":"Loading changes…","changes.missing-since-document-error":"We couldn't find the document revision with id: <code>{{revisionId}}</code> you're trying to compare. <Break/> This is probably due to history retention policy of your plan. <Break/> Please select a different <strong>From</strong> entry.","changes.no-changes-description":"Edit the document or select an older version in the timeline to see a list of changes appear in this panel.","changes.no-changes-title":"There are no changes","changes.not-selectable":"It is not possible to select this event","changes.portable-text.annotation_added":"Added annotation","changes.portable-text.annotation_changed":"Changed annotation","changes.portable-text.annotation_removed":"Removed annotation","changes.portable-text.annotation_unchanged":"Unchanged annotation","changes.portable-text.block-style-changed":'Changed block style from "{{fromStyle}}" to "{{toStyle}}"',"changes.portable-text.changed-formatting":"Changed formatting","changes.portable-text.empty-inline-object":"Empty {{inlineObjectType}}","changes.portable-text.empty-object-annotation":"Empty {{annotationType}}","changes.portable-text.empty-text_added":"Added empty text","changes.portable-text.empty-text_changed":"Changed empty text","changes.portable-text.empty-text_removed":"Removed empty text","changes.portable-text.inline-object_added":"Added inline object","changes.portable-text.inline-object_changed":"Changed inline object","changes.portable-text.inline-object_removed":"Removed inline object","changes.portable-text.inline-object_unchanged":"Unchanged inline object","changes.portable-text.text_added":"Added text","changes.portable-text.text_removed":"Removed text","changes.portable-text.unknown-annotation-schema-type":"Unknown schema type","changes.portable-text.unknown-inline-object-schema-type":"Unknown schema type","changes.removed-label":"Removed","changes.same-revision-selected-description":"You have selected the same <strong>from</strong> and <strong>to</strong> revision, please select different revisions to compare the changes between them.","changes.same-revision-selected-title":"Same revision selected","changes.title":"History","changes.versions.draft":"Draft","common.context-menu-button.tooltip":"Show more","common.dialog.cancel-button.text":"Cancel","common.dialog.confirm-button.text":"Confirm","common.loading":"Loading","common.reconnecting.toast.title":"Trying to connect…","configuration-issues.button.label":"Configuration issues","configuration-issues.button.tooltip":"Found configuration issues","default-menu-item.fallback-title":"Sort by {{title}}","default-orderings.caption":"Sort by Caption","default-orderings.description":"Sort by Description","default-orderings.header":"Sort by Header","default-orderings.heading":"Sort by Heading","default-orderings.label":"Sort by Label","default-orderings.name":"Sort by Name","default-orderings.title":"Sort by Title","document-status.created":"Created {{date}}","document-status.date":"{{date}}","document-status.edited":"Edited {{date}}","document-status.not-published":"Not published","document-status.published":"Published {{date}}","document-status.revision-from":"Revision from <em>{{date}}</em>","document-status.revision-not-found":"Revision not found","document.type.not-found":'Document type "{{type}}" not found',"form.error.duplicate-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.duplicate-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property of each elements has been generated non-uniquely.","form.error.duplicate-keys-alert.details.title":"Developer info","form.error.duplicate-keys-alert.generate-button.text":"Generate unique keys","form.error.duplicate-keys-alert.summary":"Several items in this list share the same identifier (key). Every item must have an unique identifier.","form.error.duplicate-keys-alert.title":"Non-unique keys","form.error.field-not-found":'Field "{{fieldName}}" not found among members – verify that it is defined in the schema and that it has not been conditionally hidden.',"form.error.missing-keys-alert.add-button.text":"Add missing keys","form.error.missing-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.missing-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property has not been included.","form.error.missing-keys-alert.details.title":"Developer info","form.error.missing-keys-alert.summary":"Some items in the list are missing their keys. This must be fixed in order to edit the list.","form.error.missing-keys-alert.title":"Missing keys","form.error.mixed-array-alert.details.description":"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list.","form.error.mixed-array-alert.details.title":"Developer info","form.error.mixed-array-alert.remove-button.text":"Remove non-object values","form.error.mixed-array-alert.summary":"Some items in this list are not objects. This must be fixed in order to edit the list.","form.error.mixed-array-alert.title":"Invalid list values","form.error.no-array-item-at-index":"No array item at index <code>{{index}}</code> found at path <code>{{path}}</code>","form.error.no-array-item-at-key":'No array item with `_key` <code>"{{key}}"</code> found at path <code>{{path}}</code>',"form.error.unhandled-runtime-error.call-stack.title":"Call Stack:","form.error.unhandled-runtime-error.component-stack.title":"Component Stack:","form.error.unhandled-runtime-error.error-message":"Error: {{message}}","form.error.unhandled-runtime-error.title":"Unhandled Runtime Error","form.field.deprecated-label":"deprecated","form.field.untitled-field-label":"Untitled","form.validation.has-error-aria-label":"Has error","form.validation.has-info-aria-label":"Has information","form.validation.has-warning-aria-label":"Has warning","form.validation.summary.errors-count_one":"{{count}} error","form.validation.summary.errors-count_other":"{{count}} errors","form.validation.summary.warnings-count_one":"{{count}} warning","form.validation.summary.warnings-count_other":"{{count}} warnings","free-trial.tooltip.days-count_one":"{{count}} day left in trial","free-trial.tooltip.days-count_other":"{{count}} days left in trial","free-trial.tooltip.trial-finished":"Upgrade your project","help-resources.action.contact-sales":"Contact sales","help-resources.action.help-and-support":"Help and support","help-resources.action.join-our-community":"Join our community","help-resources.latest-sanity-version":"Latest version is v{{latestVersion}}","help-resources.studio-auto-update-now":"Reload to update to v{{newVersion}}","help-resources.studio-version":"Sanity Studio v{{studioVersion}}","help-resources.title":"Help and resources","input.files.common.cancel-upload":"Cancel","input.files.common.upload-placeholder.file-input-button.default-source.badge":"Default","input.files.common.upload-placeholder.file-input-button.text":"Upload","input.files.common.upload-progress":"Uploading <FileName/>","input.reference.document-cannot-be-opened.failed-to-resolve-url":"This document cannot be opened (unable to resolve URL to Studio)","inputs.array.action.add-after":"Add item after","inputs.array.action.add-before":"Add item before","inputs.array.action.add-item":"Add item","inputs.array.action.add-item-select-type":"Add item...","inputs.array.action.copy":"Copy","inputs.array.action.drag.tooltip":"Drag to re-order","inputs.array.action.duplicate":"Duplicate","inputs.array.action.edit":"Edit {{itemTypeTitle}}","inputs.array.action.remove":"Remove","inputs.array.action.remove-invalid-item":"Remove","inputs.array.action.view":"View {{itemTypeTitle}}","inputs.array.error.can-delete-but-no-edit-description":"You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found.","inputs.array.error.cannot-resolve-initial-value-title":"Unable to resolve initial value for type: {{schemaTypeTitle}}: {{errorMessage}}.","inputs.array.error.cannot-upload-unable-to-convert_one":"The following item can't be uploaded because there's no known conversion from content type to array item:","inputs.array.error.cannot-upload-unable-to-convert_other":"The following items can't be uploaded because there's no known conversion from content types to array item:","inputs.array.error.current-schema-not-declare-description":"The current schema does not declare items of type <code>{{typeName}}</code> as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed.","inputs.array.error.json-representation-description":"JSON representation of this item:","inputs.array.error.type-is-incompatible-prompt":"Item of type <code>{{typeName}}</code> not valid for this list","inputs.array.error.type-is-incompatible-title":"Why is this happening?","inputs.array.error.unexpected-error":"Unexpected Error: {{error}}","inputs.array.insert-menu.filter.all-items":"All","inputs.array.insert-menu.search.no-results":"No items found","inputs.array.insert-menu.search.placeholder":"Search","inputs.array.insert-menu.toggle-grid-view.tooltip":"Toggle grid view","inputs.array.insert-menu.toggle-list-view.tooltip":"Toggle list view","inputs.array.no-items-label":"No items","inputs.array.read-only-label":"This field is read-only","inputs.array.resolving-initial-value":"Resolving initial value…","inputs.boolean.disabled":"Disabled","inputs.dateTime.past-date-warning":"Select a date in the future.","inputs.datetime.placeholder":"e.g. {{example}}","inputs.file.actions-menu.file-options.aria-label":"Open file options menu","inputs.file.browse-button.text":"Select","inputs.file.dialog.title":"Select file","inputs.file.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.file.invalid-file-warning.description":"The value of this field is not a valid file. Resetting this field will let you choose a new file.","inputs.file.invalid-file-warning.reset-button.text":"Reset value","inputs.file.invalid-file-warning.title":"Invalid file value","inputs.file.multi-browse-button.text":"Select","inputs.file.upload-failed.description":"The upload could not be completed at this time.","inputs.file.upload-failed.title":"Upload failed","inputs.files.common.actions-menu.clear-field.label":"Clear field","inputs.files.common.actions-menu.copy-url.label":"Copy URL","inputs.files.common.actions-menu.download.label":"Download","inputs.files.common.actions-menu.notification.url-copied":"The URL is copied to the clipboard","inputs.files.common.actions-menu.replace.label":"Replace","inputs.files.common.actions-menu.upload.label":"Upload","inputs.files.common.drop-message.drop-to-upload":"Drop to upload","inputs.files.common.drop-message.drop-to-upload-multi_one":"Drop to upload {{count}} file","inputs.files.common.drop-message.drop-to-upload-multi_other":"Drop to upload {{count}} files","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_one":"Can't upload this file here","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_other":"Can't upload any of these files here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_one":"{{count}} file can't be uploaded here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_other":"{{count}} files can't be uploaded here","inputs.files.common.placeholder.cannot-upload-some-files_one":"Cannot upload file","inputs.files.common.placeholder.cannot-upload-some-files_other":"Cannot upload {{count}} files","inputs.files.common.placeholder.drag-or-paste-to-upload_file":"Drag or paste file here","inputs.files.common.placeholder.drag-or-paste-to-upload_image":"Drag or paste image here","inputs.files.common.placeholder.drop-to-upload_file":"Drop to upload file","inputs.files.common.placeholder.drop-to-upload_image":"Drop to upload image","inputs.files.common.placeholder.read-only":"Read only","inputs.files.common.placeholder.select-asset-source-upload-destination":"Upload files to:","inputs.files.common.placeholder.upload-not-supported":"Can't upload files here","inputs.files.common.stale-upload-warning.clear":"Clear upload","inputs.files.common.stale-upload-warning.description":"An upload has made no progress for at least {{staleThresholdMinutes}} minutes and likely got interrupted. You can safely clear the incomplete upload and try uploading again.","inputs.files.common.stale-upload-warning.title":"Incomplete upload","inputs.image.actions-menu.crop-image-tooltip":"Crop image","inputs.image.actions-menu.edit-details.aria-label":"Open image edit dialog","inputs.image.actions-menu.options.aria-label":"Open image options menu","inputs.image.browse-menu.text":"Select","inputs.image.drag-overlay.cannot-upload-here":"Cannot upload this file here","inputs.image.drag-overlay.drop-to-upload-image":"Drop image to upload","inputs.image.drag-overlay.this-field-is-read-only":"This field is read only","inputs.image.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.image.hotspot-dialog.title":"Edit hotspot and crop","inputs.image.invalid-image-warning.description":"The value of this field is not a valid image. Resetting this field will let you choose a new image.","inputs.image.invalid-image-warning.reset-button.text":"Reset value","inputs.image.invalid-image-warning.title":"Invalid image value","inputs.image.preview-uploaded-image":"Preview of uploaded image","inputs.image.upload-error.description":"The upload could not be completed at this time.","inputs.image.upload-error.title":"Upload failed","inputs.imagetool.description":"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.","inputs.imagetool.load-error":"Error: {{errorMessage}}","inputs.imagetool.title":"Hotspot & Crop","inputs.imagetool.vector-warning.developer-info":"The Asset Pipeline does not support hotspot and crop for vector formats. To enable hotspot & crop, output this image to any of the supported raster formats. For example: <code>fm=jpg</code> to the <ImageUrlDocumentationLink>image URL</ImageUrlDocumentationLink> or call <code>.format('png')</code> with <ImageUrlPackageDocumentationLink>@sanity/image-url</ImageUrlPackageDocumentationLink>.","inputs.imagetool.vector-warning.expand-developer-info":"See developer info","inputs.imagetool.vector-warning.title":"Warning: Hotspot and crop might not be applied to this image where it's presented.","inputs.invalid-value.convert-button.text":"Convert to {{targetType}}","inputs.invalid-value.current-type":"The current value (<code>{{actualType}}</code>)","inputs.invalid-value.description":"The property value is stored as a value type that does not match the expected type.","inputs.invalid-value.details.description":"The value of this property must be of type <code>{{validType}}</code> according to the schema.","inputs.invalid-value.details.multi-type-description":"Only the following types are valid here according to schema:","inputs.invalid-value.details.possible-reason":"Mismatching value types typically occur when the schema has recently been changed.","inputs.invalid-value.details.title":"Developer info","inputs.invalid-value.reset-button.text":"Reset value","inputs.invalid-value.title":"Invalid property value","inputs.object.field-group-tabs.all-fields-title":"All fields","inputs.object.field-group-tabs.aria-label":"Field groups","inputs.object.unknown-fields.read-only.description":"This field is <strong>read only</strong> according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the <code>readOnly</code> field from the enclosing type in the schema.","inputs.object.unknown-fields.remove-field-button.text":"Remove field","inputs.object.unknown-fields.warning.description_one":"Encountered a field that is not defined in the schema.","inputs.object.unknown-fields.warning.description_other":"Encountered {{count}} fields that are not defined in the schema.","inputs.object.unknown-fields.warning.details.description_one":"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.description_other":"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.title":"Developer info","inputs.object.unknown-fields.warning.title_one":"Unknown field found","inputs.object.unknown-fields.warning.title_other":"Unknown fields found","inputs.portable-text.action.collapse-editor":"Collapse editor","inputs.portable-text.action.edit-annotation-aria-label":"Edit annotation","inputs.portable-text.action.expand-editor":"Expand editor","inputs.portable-text.action.insert-block":"Insert {{typeName}}","inputs.portable-text.action.insert-block-aria-label":"Insert {{typeName}} (block)","inputs.portable-text.action.insert-inline-object":"Insert {{typeName}}","inputs.portable-text.action.insert-inline-object-aria-label":"Insert {{typeName}} (inline)","inputs.portable-text.action.remove-annotation-aria-label":"Remove annotation","inputs.portable-text.activate-on-focus-message_click":"Click to activate","inputs.portable-text.activate-on-focus-message_click-focused":"Click or press space to activate","inputs.portable-text.activate-on-focus-message_tap":"Tap to activate","inputs.portable-text.annotation-aria-label":"Annotation object","inputs.portable-text.annotation-editor.title":"Edit {{schemaType}}","inputs.portable-text.annotation.link":"Link","inputs.portable-text.block.aria-label":"Block object","inputs.portable-text.block.edit":"Edit","inputs.portable-text.block.open-menu-aria-label":"Open menu","inputs.portable-text.block.open-reference":"Open reference","inputs.portable-text.block.remove":"Remove","inputs.portable-text.block.view":"View","inputs.portable-text.decorator.code":"Code","inputs.portable-text.decorator.emphasis":"Italic","inputs.portable-text.decorator.strike-through":"Strike","inputs.portable-text.decorator.strong":"Strong","inputs.portable-text.decorator.underline":"Underline","inputs.portable-text.empty-placeholder":"Empty","inputs.portable-text.inline-block.aria-label":"Inline object","inputs.portable-text.inline-object.edit":"Edit object","inputs.portable-text.inline-object.edit-aria-label":"Edit object","inputs.portable-text.inline-object.remove":"Remove object","inputs.portable-text.inline-object.remove-aria-label":"Remove object","inputs.portable-text.invalid-value.action-disclaimer":"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio.","inputs.portable-text.invalid-value.disallowed-child-type.action":"Remove the object","inputs.portable-text.invalid-value.disallowed-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is of type <code>{{childType}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.disallowed-type.action":"Remove the block","inputs.portable-text.invalid-value.disallowed-type.description":"Block with key <code>{{key}}</code> is of type <code>{{typeName}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.empty-children.action":"Insert empty text span","inputs.portable-text.invalid-value.empty-children.description":"Text block with key <code>{{key}}</code> has no text spans.","inputs.portable-text.invalid-value.ignore-button.text":"Ignore","inputs.portable-text.invalid-value.incorrect-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.incorrect-block-type.description":"Block with key <code>{{key}}</code> has an invalid type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.invalid-span-text.action":"Set empty text value","inputs.portable-text.invalid-value.invalid-span-text.description":"Span with key {{childKey}} of block with key <code>{{key}}</code> has a missing or invalid <code>text</code> property.","inputs.portable-text.invalid-value.missing-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.missing-block-type.description":"Block with key <code>{{key}}</code> is missing a type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.missing-child-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-child-key.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is missing <code>_key</code> property.","inputs.portable-text.invalid-value.missing-child-type.action":"Remove the object","inputs.portable-text.invalid-value.missing-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is missing <code>_type</code> property.","inputs.portable-text.invalid-value.missing-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-key.description":"Block at index <code>{{index}}</code> is missing required <code>_key</code> property.","inputs.portable-text.invalid-value.missing-or-invalid-children.action":"Remove the block","inputs.portable-text.invalid-value.missing-or-invalid-children.description":"Text block with key <code>{{key}}</code> has an invalid or missing `children` property.","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action":"Add property","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description":"Text block with key <code>{{key}}</code> has an invalid or missing `markDefs` property.","inputs.portable-text.invalid-value.missing-type.action":"Remove the block","inputs.portable-text.invalid-value.missing-type.description":"Block with key <code>{{key}}</code> is missing a type name.","inputs.portable-text.invalid-value.non-object-child.action":"Remove the item","inputs.portable-text.invalid-value.non-object-child.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is not an object.","inputs.portable-text.invalid-value.not-an-array.action":"Unset the value","inputs.portable-text.invalid-value.not-an-array.description":"Value must be an array of Portable Text blocks, or undefined.","inputs.portable-text.invalid-value.not-an-object.action":"Remove item","inputs.portable-text.invalid-value.not-an-object.description":"Item at <code>{{index}}</code> is not an object,.","inputs.portable-text.invalid-value.orphaned-marks.action":"Remove disallowed marks","inputs.portable-text.invalid-value.orphaned-marks.description":"Text block with key <code>{{key}}</code> contains marks <code>({{orphanedMarks, list}})</code> that are not allowed by the schema.","inputs.portable-text.invalid-value.title":"Invalid Portable Text value","inputs.portable-text.list-type.bullet":"Bulleted list","inputs.portable-text.list-type.number":"Numbered list","inputs.portable-text.style.h1":"Heading 1","inputs.portable-text.style.h2":"Heading 2","inputs.portable-text.style.h3":"Heading 3","inputs.portable-text.style.h4":"Heading 4","inputs.portable-text.style.h5":"Heading 5","inputs.portable-text.style.h6":"Heading 6","inputs.portable-text.style.multiple":"Multiple","inputs.portable-text.style.none":"No style","inputs.portable-text.style.normal":"Normal","inputs.portable-text.style.quote":"Quote","inputs.reference.action.clear":"Clear","inputs.reference.action.copy":"Copy","inputs.reference.action.create-new-document":"Create","inputs.reference.action.create-new-document-select":"Create…","inputs.reference.action.duplicate":"Duplicate","inputs.reference.action.open-in-new-tab":"Open in new tab","inputs.reference.action.remove":"Remove","inputs.reference.action.replace":"Replace","inputs.reference.action.replace-cancel":"Cancel replace","inputs.reference.cross-dataset.feature-disabled-actions":"You can still clear this field's existing reference, but it cannot be changed to a different document as long as the feature is disabled.","inputs.reference.cross-dataset.feature-disabled-description":"This feature has been disabled. Read how to enable it in <DocumentationLink>the documentation</DocumentationLink>.","inputs.reference.cross-dataset.feature-unavailable-title":"Unavailable feature: Cross dataset reference","inputs.reference.cross-dataset.invalid-type":"The referenced document is of invalid type ({{typeName}}) <JsonValue/>","inputs.reference.document-opens-in-new-tab":"This document opens in a new tab","inputs.reference.error.document-unavailable-title":"Document unavailable","inputs.reference.error.failed-to-load-document-title":"Failed to load referenced document","inputs.reference.error.invalid-search-result-type-title":'Search returned a type that\'s not valid for this reference: "{{returnedType}}"',"inputs.reference.error.invalid-type-description":"Referenced document (<code>{{documentId}}</code>) is of type <code>{{actualType}}</code>. According to the schema, referenced documents can only be of type <AllowedTypes/>.","inputs.reference.error.invalid-type-title":"Document of invalid type","inputs.reference.error.missing-read-permissions-description":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.error.missing-read-permissions-title":"Insufficient permissions","inputs.reference.error.nonexistent-document-description":"The referenced document does not exist (ID: <code>{{documentId}}</code>). You can either remove the reference or replace it with another document.","inputs.reference.error.nonexistent-document-title":"Not found","inputs.reference.error.nonexistent-document.clear-button-label":"Clear","inputs.reference.error.search-failed-title":"Reference search failed","inputs.reference.global.invalid-type":"The referenced document is of invalid type ({{typeName}})","inputs.reference.image-preview-alt-text":"Image preview of referenced document","inputs.reference.incomplete-reference.finalize-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be finalized.","inputs.reference.incomplete-reference.finalize-action-title":"Finalize reference","inputs.reference.incomplete-reference.strengthen-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be converted to a strong reference.","inputs.reference.incomplete-reference.strengthen-action-title":"Convert to strong reference","inputs.reference.incomplete-reference.strengthen-button-label":"Convert to strong reference","inputs.reference.metadata-error.retry-button-label":"Retry","inputs.reference.metadata-error.title":"Unable to load reference metadata","inputs.reference.no-results-for-query":"No results for <strong>“{{searchTerm}}”</strong>","inputs.reference.preview.edited-at-time":"Edited <RelativeTime/>","inputs.reference.preview.has-no-unpublished-changes-aria-label":"No unpublished edits","inputs.reference.preview.has-unpublished-changes-aria-label":"Edited","inputs.reference.preview.is-not-published-aria-label":"Not published","inputs.reference.preview.is-published-aria-label":"Published","inputs.reference.preview.no-unpublished-edits":"No unpublished edits","inputs.reference.preview.not-published":"Not published","inputs.reference.preview.published-at-time":"Published <RelativeTime/>","inputs.reference.referenced-document-does-not-exist":"The referenced document no longer exist and might have been deleted (document ID: <code>{{documentId}}</code>).","inputs.reference.referenced-document-insufficient-permissions":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.resolving-initial-value":"Resolving initial value…","inputs.reference.search-placeholder":"Type to search","inputs.reference.strength-mismatch.is-strong-consquences":"It will not be possible to delete the reference document without first removing this reference or converting it to weak.","inputs.reference.strength-mismatch.is-strong-description":"This reference is <em>strong</em>, but according to the current schema it should be <em>weak</em>.","inputs.reference.strength-mismatch.is-weak-consquences":"This makes it possible to delete the referenced document without first deleting this reference, leaving this field referencing a nonexisting document.","inputs.reference.strength-mismatch.is-weak-description":"This reference is <em>weak</em>, but according to the current schema it should be <em>strong</em>.","inputs.reference.strength-mismatch.strengthen-button-label":"Convert to strong reference","inputs.reference.strength-mismatch.title":"Reference strength mismatch","inputs.reference.strength-mismatch.weaken-button-label":"Convert to weak reference","inputs.slug.action.generate":"Generate","inputs.slug.action.generating":"Generating…","inputs.slug.error.missing-source":"Source is missing. Check source on type {{schemaType}} in schema","inputs.tags.placeholder":"Enter tag and press ENTER…","inputs.tags.placeholder_touch":"Enter tag…","inputs.untyped-value.convert-button.text":"Convert to {{targetType}}","inputs.untyped-value.description":"Encountered an object value without a <code>_type</code> property.","inputs.untyped-value.details.description":"Either remove the <code>name</code> property of the object declaration, or set <code>_type</code> property on items.","inputs.untyped-value.details.json-dump-prefix":"Current value (<code>object</code>):","inputs.untyped-value.details.multi-type-description":"The following types are valid here according to schema:","inputs.untyped-value.details.title":"Developer info","inputs.untyped-value.title":"Property value missing <code>_type</code>","inputs.untyped-value.unset-item-button.text":"Unset value","insufficient-permissions-message.not-authorized-explanation":"You do not have permission to access this feature.","insufficient-permissions-message.not-authorized-explanation_create-any-document":"You do not have permission to create a document.","insufficient-permissions-message.not-authorized-explanation_create-document":"You do not have permission to create this document.","insufficient-permissions-message.not-authorized-explanation_create-document-type":"You do not have permission to create this kind of document.","insufficient-permissions-message.not-authorized-explanation_create-new-reference":"You do not have permission to create a new reference.","insufficient-permissions-message.not-authorized-explanation_delete-document":"You do not have permission to delete this document.","insufficient-permissions-message.not-authorized-explanation_delete-schedules":"You do not have permission to delete schedules.","insufficient-permissions-message.not-authorized-explanation_discard-changes":"You do not have permission to discard changes in this document.","insufficient-permissions-message.not-authorized-explanation_duplicate-document":"You do not have permission to duplicate this document.","insufficient-permissions-message.not-authorized-explanation_edit-schedules":"You do not have permission to edit schedules.","insufficient-permissions-message.not-authorized-explanation_execute-schedules":"You do not have permission to execute schedules.","insufficient-permissions-message.not-authorized-explanation_publish-document":"You do not have permission to publish this document.","insufficient-permissions-message.not-authorized-explanation_unpublish-document":"You do not have permission to unpublish this document.","insufficient-permissions-message.roles":"Your roles: <Roles/>","insufficient-permissions-message.title":"Insufficient permissions","member-field-error.unexpected-error":"Unexpected error: {{error}}","network-check.slow-protocol-warning.description":"Your browser is using an outdated HTTP protocol to communicate with Sanity. This may result in substantially degraded performance.","network-check.slow-protocol-warning.learn-more-button.text":"Learn more","network-check.slow-protocol-warning.snooze-button.text":"Don't show again for this session","network-check.slow-protocol-warning.title":"You've got your breaks on","new-document.button":"Create","new-document.create-new-document-label":"New document…","new-document.filter-placeholder":"Search document types","new-document.loading":"Loading…","new-document.new-document-aria-label":"New document","new-document.no-document-types-found":"No document types found","new-document.no-document-types-label":"No document types","new-document.no-results":"No results for <strong>{{searchQuery}}</strong>","new-document.open-dialog-aria-label":"Create new document","new-document.title":"Create new document","package-version.new-package-available.reload-button":"Push to reload","package-version.new-package-available.title":"Sanity Studio is ready to update!","presence.action.manage-members":"Invite members","presence.aria-label":"Global presence","presence.no-one-else-description":"Invite people to the project to see their online status.","presence.no-one-else-title":"No one else is here","presence.not-in-a-document":"Not in a document","presence.tooltip-content":"Who is here","preview.default.title-fallback":"Untitled","preview.fallback.no-value":"(no value)","preview.image.file-is-being-uploaded.alt-text":"The image currently being uploaded","relative-time.just-now":"just now","release.action.add-to-new-release":"Add to release","release.action.add-to-release":"Add to {{title}}","release.action.already-in-release":"Already in release {{title}}","release.action.copy-to":"Copy version to","release.action.create-new":"New release","release.action.delete-schedule":"Delete schedule","release.action.discard-version":"Discard version","release.action.discard-version.failure":"Failed to discard version","release.action.edit-schedule":"Edit schedule","release.action.new-release":"New release","release.action.new-release.limit-reached":"This workspace is limited to {{count}} release","release.action.new-release.limit-reached_other":"This workspace is limited to {{count}} releases","release.action.permission.error":"You do not have permission to perform this action","release.action.publish-now":"Publish now","release.action.revert-unpublish-version.failure.description":"Please try again or check your connection. The document is still going to be unpublished upon release.","release.action.revert-unpublish-version.failure.title":"Failed to revert from setting to unpublish on release.","release.action.revert-unpublish-version.success.description":"You can now edit this version.","release.action.revert-unpublish-version.success.title":"Successfully reverted from setting to unpublish on release.","release.action.unpublish-version.failure":"Failed to set version to be unpublished on release","release.action.unpublish-version.success":"Successfully set <strong>{{title}}</strong> to be unpublished on release","release.action.view-release":"View release","release.banner.scheduled-for-publishing-on":"Scheduled to be published on {{date}}","release.chip.draft":"Draft","release.chip.global.drafts":"Drafts","release.chip.published":"Published","release.chip.tooltip.archived":"This release is archived and cannot be edited.","release.chip.tooltip.created-date":"Created {{date}}","release.chip.tooltip.draft-disabled.live-edit":"This document is in live edit mode, drafts are disabled","release.chip.tooltip.edited-date":"Edited {{date}}","release.chip.tooltip.intended-for-date":"Intended for {{date}}","release.chip.tooltip.no-edits":"No edits","release.chip.tooltip.not-published":"Not published","release.chip.tooltip.published-date":"Published {{date}}","release.chip.tooltip.scheduled-for-date":"Scheduled for {{date}}","release.chip.tooltip.unknown-date":"Unknown date","release.deleted-tooltip":"This release has been deleted","release.dialog.copy-to-release.title":"Copy version to new release","release.dialog.create.confirm":"Create release","release.dialog.create.title":"New release","release.dialog.delete-schedule-draft.body":"Are you sure you want to delete this scheduled draft? This action cannot be undone.","release.dialog.delete-schedule-draft.confirm":"Yes, delete schedule","release.dialog.delete-schedule-draft.header":"Delete scheduled draft","release.dialog.edit-schedule.body":"Select a new date and time for the scheduled publish.","release.dialog.edit-schedule.confirm":"Update schedule","release.dialog.edit-schedule.header":"Change schedule","release.dialog.publish-scheduled-draft.body":"Are you sure you want to publish this scheduled draft immediately?","release.dialog.publish-scheduled-draft.confirm":"Yes, run now","release.dialog.publish-scheduled-draft.header":"Publish draft now","release.dialog.tooltip.description":"The intended release time is used to create better previews and hints about whether documents conflict.","release.dialog.tooltip.note":"You can always change it later.","release.dialog.tooltip.title":"Approximate time of release","release.form.placeholder-describe-release":"Describe the release…","release.layer.hide":"Hide release","release.menu.label":"Release menu","release.menu.tooltip":"Actions","release.navbar.drafts":"Drafts","release.navbar.published":"Published","release.navbar.tooltip":"Releases","release.placeholder-untitled-release":"Untitled release","release.schedule-dialog.publish-date-in-past-warning":"Schedule this release for a future time and date.","release.schedule-dialog.select-publish-date-label":"Schedule on","release.toast.archived-release.description":"This release has been unpinned","release.toast.archived-release.title":"The '{{title}}' release was archived","release.toast.create-release-error.title":"Failed to create release","release.toast.delete-schedule-draft.error":"Failed to delete the scheduled draft document <strong>{{title}}</strong>: {{error}}","release.toast.delete-schedule-draft.success":"The scheduled draft document <strong>{{title}}</strong> has been deleted.","release.toast.not-found-release.title":"The '{{title}}' release could not be found","release.toast.publish-scheduled-draft.error":"Failed to publish the scheduled draft document <strong>{{title}}</strong>: {{error}}","release.toast.publish-scheduled-draft.success":"The scheduled draft document <strong>{{title}}</strong> has been published.","release.toast.published-release.description":"This release has been unpinned","release.toast.published-release.title":"The '{{title}}' release was published","release.toast.reschedule-scheduled-draft.error":"Failed to reschedule the scheduled draft document <strong>{{title}}</strong>: {{error}}","release.toast.reschedule-scheduled-draft.success":"The scheduled draft document <strong>{{title}}</strong> has been rescheduled.","release.tooltip.already-added":"A version of this document has already been added","release.tooltip.locked":"This release has been scheduled. Unschedule it to add more documents.","release.type.asap":"ASAP","release.type.scheduled":"At time","release.type.undecided":"Undecided","release.version-list.tooltip":"See all document versions","schedule-publish-dialog.confirm":"Schedule","schedule-publish-dialog.description":"Select when this document should be published.","schedule-publish-dialog.header":"Schedule draft for Publish","search.action-open-aria-label":"Open search","search.action.add-filter":"Add filter","search.action.clear-filters":"Clear filters","search.action.clear-recent-searches":"Clear recent searches","search.action.clear-type-filters-aria-label":"Clear checked filters","search.action.clear-type-filters-label":"Clear","search.action.close-search-aria-label":"Close search","search.action.filter-by-document-type-aria-label":"Filter by document type","search.action.remove-filter-aria-label":"Remove filter","search.action.search-all-types":"Search all documents","search.action.search-specific-types":"Search for {{types, list}}","search.action.search-specific-types-truncated":"Search for {{types, list}} +{{count}} more","search.action.select-asset":"Select asset","search.action.select-asset_file":"Select file","search.action.select-asset_image":"Select image","search.action.toggle-filters-aria-label_hide":"Hide filters","search.action.toggle-filters-aria-label_show":"Show filters","search.action.toggle-filters-label_hide":"Hide filters","search.action.toggle-filters-label_show":"Show filters","search.button.tooltip":"Search","search.document-type-list":"{{types, list}}","search.document-type-list-all-types":"All types","search.document-type-list-truncated":"{{types, list}} +{{count}} more","search.document-types-aria-label":"Document types","search.document-types-no-matches-found":"No matches for {{filter}}","search.error.display-filter-description":"This may indicate invalid options defined in your schema.","search.error.display-filter-title":"An error occurred whilst displaying this filter.","search.error.no-valid-asset-source-check-config-description":"Please ensure it's enabled in your studio configuration file.","search.error.no-valid-asset-source-only-default-description":"Currently, only the default asset source is supported.","search.error.no-valid-asset-source-title":"No valid asset sources found.","search.error.unspecified-error-help-description":"Please try again or check your connection","search.error.unspecified-error-title":"Something went wrong while searching","search.filter-all-fields-header":"All fields","search.filter-asset-change_file":"Change file","search.filter-asset-change_image":"Change image","search.filter-asset-clear":"Clear","search.filter-asset-select_file":"Select file","search.filter-asset-select_image":"Select image","search.filter-boolean-false":"False","search.filter-boolean-true":"True","search.filter-by-title-aria-label":"Filter by title","search.filter-date-aria-label":"Date","search.filter-date-range-end-date-aria-label":"End date","search.filter-date-range-start-date-aria-label":"Start date","search.filter-date-unit-aria-label":"Select unit","search.filter-date-unit_days":"Days","search.filter-date-unit_months":"Months","search.filter-date-unit_years":"Years","search.filter-date-value-aria-label":"Unit value","search.filter-field-tooltip-description":"Field description","search.filter-field-tooltip-name":"Field name","search.filter-field-tooltip-used-in-document-types":"Used in document types","search.filter-no-matches-found":"No matches for {{filter}}","search.filter-number-max-value-placeholder":"Max value","search.filter-number-min-value-placeholder":"Min value","search.filter-number-value-placeholder":"Value","search.filter-placeholder":"Filter","search.filter-reference-clear":"Clear","search.filter-shared-fields-header":"Shared fields","search.filter-string-value-placeholder":"Value","search.filter-string-value-select-predefined-value":"Select…","search.filters-aria-label_one":"Filter","search.filters-aria-label_other":"Filters","search.instructions":"Use <ControlsIcon/> to refine your search","search.no-results-help-description":"Try another keyword or adjust your filters","search.no-results-title":"No results found","search.operator.array-count-equal.description_one":"<Field/> <Operator>has</Operator> <Value>{{count}} item</Value>","search.operator.array-count-equal.description_other":"<Field/> <Operator>has</Operator> <Value>{{count}} items</Value>","search.operator.array-count-equal.name":"quantity is","search.operator.array-count-gt.description_one":"<Field/> <Operator>has ></Operator> <Value>{{count}} item</Value>","search.operator.array-count-gt.description_other":"<Field/> <Operator>has ></Operator> <Value>{{count}} items</Value>","search.operator.array-count-gt.name":"quantity greater than","search.operator.array-count-gte.description_one":"<Field/> <Operator>has ≥</Operator> <Value>{{count}} item</Value>","search.operator.array-count-gte.description_other":"<Field/> <Operator>has ≥</Operator> <Value>{{count}} items</Value>","search.operator.array-count-gte.name":"quantity greater than or equal to","search.operator.array-count-lt.description_one":"<Field/> <Operator>has <</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lt.description_other":"<Field/> <Operator>has <</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lt.name":"quantity less than","search.operator.array-count-lte.description_one":"<Field/> <Operator>has ≤</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lte.description_other":"<Field/> <Operator>has ≤</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lte.name":"quantity less than or equal to","search.operator.array-count-not-equal.description_one":"<Field/> <Operator>does not have</Operator> <Value>{{count}} item</Value>","search.operator.array-count-not-equal.description_other":"<Field/> <Operator>does not have</Operator> <Value>{{count}} items</Value>","search.operator.array-count-not-equal.name":"quantity is not","search.operator.array-count-range.description":"<Field/> <Operator>has between</Operator> <Value>{{from}} → {{to}} items</Value>","search.operator.array-count-range.name":"quantity is between","search.operator.array-list-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-list-includes.name":"includes","search.operator.array-list-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-list-not-includes.name":"does not include","search.operator.array-reference-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-reference-includes.name":"includes","search.operator.array-reference-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-reference-not-includes.name":"does not include","search.operator.asset-file-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-file-equal.name":"is","search.operator.asset-file-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-file-not-equal.name":"is not","search.operator.asset-image-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-image-equal.name":"is","search.operator.asset-image-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-image-not-equal.name":"is not","search.operator.boolean-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.boolean-equal.name":"is","search.operator.date-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-after.name":"after","search.operator.date-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-before.name":"before","search.operator.date-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-equal.name":"is","search.operator.date-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-last.name":"last","search.operator.date-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-not-equal.name":"is not","search.operator.date-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-range.name":"is between","search.operator.date-time-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-time-after.name":"after","search.operator.date-time-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-time-before.name":"before","search.operator.date-time-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-time-equal.name":"is","search.operator.date-time-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-time-last.name":"last","search.operator.date-time-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-time-not-equal.name":"is not","search.operator.date-time-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-time-range.name":"is between","search.operator.defined.description":"<Field/> <Operator>is</Operator> <Value>not empty</Value>","search.operator.defined.name":"not empty","search.operator.not-defined.description":"<Field/> <Operator>is</Operator> <Value>empty</Value>","search.operator.not-defined.name":"empty","search.operator.number-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.number-equal.name":"is","search.operator.number-gt.description":"<Field/> <Operator>></Operator> <Value>{{value}}</Value>","search.operator.number-gt.name":"greater than","search.operator.number-gte.description":"<Field/> <Operator>≥</Operator> <Value>{{value}}</Value>","search.operator.number-gte.name":"greater than or equal to","search.operator.number-lt.description":"<Field/> <Operator><</Operator> <Value>{{value}}</Value>","search.operator.number-lt.name":"less than","search.operator.number-lte.description":"<Field/> <Operator>≤</Operator> <Value>{{value}}</Value>","search.operator.number-lte.name":"less than or equal to","search.operator.number-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.number-not-equal.name":"is not","search.operator.number-range.description":"<Field/> <Operator>is between</Operator> <Value>{{from}} → {{to}}</Value>","search.operator.number-range.name":"is between","search.operator.portable-text-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.portable-text-contains.name":"contains","search.operator.portable-text-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.portable-text-equal.name":"is","search.operator.portable-text-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-contains.name":"does not contain","search.operator.portable-text-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-equal.name":"is not","search.operator.reference-asset-file.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-asset-file.name":"file","search.operator.reference-asset-image.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-asset-image.name":"image","search.operator.reference-document.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-document.name":"document","search.operator.reference-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.reference-equal.name":"is","search.operator.reference-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.reference-not-equal.name":"is not","search.operator.slug-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.slug-contains.name":"contains","search.operator.slug-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.slug-equal.name":"is","search.operator.slug-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.slug-not-contains.name":"does not contain","search.operator.slug-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.slug-not-equal.name":"is not","search.operator.string-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.string-contains.name":"contains","search.operator.string-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-equal.name":"is","search.operator.string-list-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-list-equal.name":"is","search.operator.string-list-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-list-not-equal.name":"is not","search.operator.string-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.string-not-contains.name":"does not contain","search.operator.string-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-not-equal.name":"is not","search.ordering.best-match-label":"Best match","search.ordering.created-ascending-label":"Created: Oldest first","search.ordering.created-descending-label":"Created: Newest first","search.ordering.updated-ascending-label":"Updated: Oldest first","search.ordering.updated-descending-label":"Updated: Newest first","search.placeholder":"Search","search.recent-searches-aria-label":"Recent searches","search.recent-searches-label":"Recent searches","search.search-results-aria-label":"Search results","sheet-list.edit-columns":"Edit columns","sheet-list.hide-field":"Remove from table","sheet-list.reset-columns":"Reset columns","sheet-list.select-fields":"Select up to 5 field types","status-button.aria-label":"Configuration status","time-zone.action.search-for-timezone-placeholder":"Search for a city or time zone","time-zone.action.select-local-time-zone":"Select local time zone","time-zone.dialog-info.content-releases":"The selected time zone will change how dates are represented in content releases.","time-zone.dialog-info.input":"The selected time zone will change how dates are represented only for this input in this document.","time-zone.dialog-info.scheduled-publishing":"The selected time zone will change how dates are represented in schedules.","time-zone.local-time":"local time","time-zone.time-zone":"Time zone","time-zone.time-zone-tooltip-content-releases":"Displaying releases in {{alternativeName}} GMT{{offset}}","time-zone.time-zone-tooltip-input":"Displaying <em>{{title}}</em> in {{alternativeName}} GMT{{offset}}","time-zone.time-zone-tooltip-scheduled-publishing":"Displaying schedules in {{alternativeName}} GMT{{offset}}","timeline.changes.title":"Changes by","timeline.error.load-document-changes-description":"Document history transactions have not been affected.","timeline.error.load-document-changes-title":"An error occurred whilst retrieving document changes.","timeline.error.load-document-changes-version-description":"Enable the events API through the Studio config to view document history.","timeline.error.load-document-changes-version-title":"Version documents history is only available through the Events API.","timeline.error.no-document-history-description":"When changing the content of the document, the document versions will appear in this menu.","timeline.error.no-document-history-title":"No document history","timeline.error.unable-to-load-revision":"Unable to load revision","timeline.latest":"Latest","timeline.latest-revision":"Latest revision","timeline.latest-version":"Latest revision","timeline.list.aria-label":"Document revisions","timeline.loading-history":"Loading history…","timeline.no-previous-events":"No previous events","timeline.operation.created":"Created","timeline.operation.created-initial":"Created","timeline.operation.created-initial_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.created_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.deleted":"Deleted","timeline.operation.deleted_timestamp":"Deleted: {{timestamp, datetime}}","timeline.operation.draft-created":"Draft created","timeline.operation.draft-created_timestamp":"Draft created: {{timestamp, datetime}}","timeline.operation.draft-discarded":"Discarded draft","timeline.operation.draft-discarded_timestamp":"Discarded draft: {{timestamp, datetime}}","timeline.operation.edited-draft":"Edited","timeline.operation.edited-draft_timestamp":"Edited: {{timestamp, datetime}}","timeline.operation.edited-live":"Live edited","timeline.operation.edited-live_timestamp":"Live edited: {{timestamp, datetime}}","timeline.operation.history-cleared":"Deleted by retention policy","timeline.operation.published":"Published","timeline.operation.published_timestamp":"Published: {{timestamp, datetime}}","timeline.operation.unpublished":"Unpublished","timeline.operation.unpublished_timestamp":"Unpublished: {{timestamp, datetime}}","timeline.operation.version-created":"Version created","timeline.operation.version-created_timestamp":"Version created: {{timestamp, datetime}}","timeline.operation.version-discarded":"Version discarded","timeline.operation.version-discarded_timestamp":"Version discarded: {{timestamp, datetime}}","timeline.since":"{{timestamp, datetime}}","timeline.since-version-missing":"Since: unknown version","toolbar.portable-text.action-button-aria-label":"{{action}}","tree-editing-dialog.breadcrumbs.menu":"Breadcrumb menu","tree-editing-dialog.search-placeholder":"Search","tree-editing-dialog.search.menu-label":"Search menu","tree-editing-dialog.search.no-results-title":"No results found","tree-editing-dialog.sidebar.action.close":"Close sidebar","tree-editing-dialog.sidebar.action.collapse":"Collapse","tree-editing-dialog.sidebar.action.done":"Done","tree-editing-dialog.sidebar.action.expand":"Expand","tree-editing-dialog.sidebar.action.open":"Open sidebar","user-menu.action.free-trial-finished":"Upgrade from free","user-menu.action.free-trial_one":"{{count}} day left in trial","user-menu.action.free-trial_other":"{{count}} days left in trial","user-menu.action.invite-members":"Invite members","user-menu.action.invite-members-aria-label":"Invite members","user-menu.action.manage-project":"Manage project","user-menu.action.manage-project-aria-label":"Manage project","user-menu.action.portable-text.annotation-disabled_empty-block":"Cannot apply {{name}} to empty block","user-menu.action.portable-text.annotation-disabled_multiple-blocks":"Cannot apply {{name}} to multiple blocks","user-menu.action.sign-out":"Sign out","user-menu.appearance-title":"Appearance","user-menu.close-menu":"Close menu","user-menu.color-scheme.dark-description":"Use dark appearance","user-menu.color-scheme.dark-title":"Dark","user-menu.color-scheme.light-description":"Use light appearance","user-menu.color-scheme.light-title":"Light","user-menu.color-scheme.system-description":"Use system appearance","user-menu.color-scheme.system-title":"System","user-menu.locale-title":"Language","user-menu.login-provider":"Signed in with {{providerTitle}}","user-menu.open-menu":"Open menu","workspaces.action.add-workspace":"Add workspace","workspaces.action.choose-another-workspace":"Choose another workspace","workspaces.choose-your-workspace-label":"Choose your workspace","workspaces.select-workspace-aria-label":"Select workspace","workspaces.select-workspace-label":"Select workspace","workspaces.select-workspace-tooltip":"Select workspace","workspaces.title":"Workspaces"}},{locale:"en-US",namespace:"validation",resources:{"array.exact-length":"Must have exactly {{wantedLength}} items","array.exact-length_blocks":"Must have exactly {{wantedLength}} blocks","array.item-duplicate":"Can't be a duplicate","array.maximum-length":"Must have at most {{maxLength}} items","array.maximum-length_blocks":"Must have at most {{maxLength}} blocks","array.minimum-length":"Must have at least {{minLength}} items","array.minimum-length_blocks":"Must have at least {{minLength}} blocks","date.invalid-format":"Must be a valid ISO-8601 formatted date string","date.maximum":"Must be at or before {{maxDate}}","date.minimum":"Must be at or after {{minDate}}","generic.incorrect-type":'Expected type "{{expectedType}}", got "{{actualType}}"',"generic.not-allowed":"Value did not match any allowed values","generic.not-allowed_hint":'Value "{{hint}}" did not match any allowed values',"generic.required":"Required","number.greater-than":"Must be greater than {{threshold}}","number.less-than":"Must be less than {{threshold}}","number.maximum":"Must be lower than or equal to {{maxNumber}}","number.maximum-precision":"Max precision is {{limit}}","number.minimum":"Must be greater than or equal to {{minNumber}}","number.non-integer":"Must be an integer","object.asset-required":"Asset is required","object.asset-required_file":"File is required","object.asset-required_image":"Image is required","object.media-not-found":"The asset could not be found in the Media Library","object.not-media-library-asset":"Must be a reference to a Media Library asset","object.not-reference":"Must be a reference to a document","object.reference-not-published":"Referenced document must be published","panel.close-button-aria-label":"Close validation","panel.no-errors-message":"No validation errors","panel.title":"Validation","panel.unpublish-message":"Document is going to unpublish, no validation errors are shown","slug.missing-current":"Slug must have a value","slug.not-object":"Slug must be an object","slug.not-unique":"Slug is already in use","string.email":"Must be a valid email address","string.exact-length":"Must be exactly {{wantedLength}} characters long","string.lowercase":"Must be all lowercase characters","string.maximum-length":"Must be at most {{maxLength}} characters long","string.minimum-length":"Must be at least {{minLength}} characters long","string.regex-does-not-match":'Does not match "{{name}}"-pattern',"string.regex-match":'Should not match "{{name}}"-pattern',"string.uppercase":"Must be all uppercase characters","string.url.disallowed-scheme":"Does not match allowed protocols/schemes","string.url.includes-credentials":"Username/password not allowed","string.url.invalid":"Not a valid URL","string.url.not-absolute":"Relative URLs are not allowed","string.url.not-relative":"Only relative URLs are allowed"}},{locale:"en-US",namespace:"copy-paste",resources:{"copy-paste.field-action-copy-button.document.title":"Copy document","copy-paste.field-action-copy-button.field.title":"Copy field","copy-paste.field-action-paste-button.document.title":"Paste document","copy-paste.field-action-paste-button.field.title":"Paste field","copy-paste.on-paste.validation.read-only-target.description":"The target is read-only","copy-paste.on-paste.validation.schema-type-incompatible.description":"Source and target schema types are not compatible","copy-paste.on-paste.validation.reference-type-incompatible.description":'References of type "{{sourceReferenceType}}" is not allowed in reference field that accepts types "{{targetReferenceTypes}}"',"copy-paste.on-paste.validation.reference-filter-incompatible.description":"Reference is not allowed in reference field according to filter","copy-paste.on-paste.validation.reference-validation-failed.description":'The referenced document "{{ref}}" does not exist',"copy-paste.on-paste.validation.image-file-incompatible.description":'A "{{sourceSchemaType}}" is not allowed in a "{{targetSchemaType}}"',"copy-paste.on-paste.validation.array-type-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.array-value-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.string-value-incompatible.description":'Value "{{value}}" is not allowed in "{{allowedStrings}}"',"copy-paste.on-paste.validation.primitive-type-incompatible.description":'Value of type "{{type}}" is not allowed in this field',"copy-paste.on-paste.validation.clipboard-empty.title":"Nothing to paste","copy-paste.on-paste.validation.clipboard-invalid.title":"Invalid clipboard item","copy-paste.on-paste.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-paste.validation.partial-warning.title":"Could not paste all values","copy-paste.on-paste.validation.mime-type-incompatible.description":'MIME type "{{mimeType}}" is not accepted for this field',"copy-paste.on-paste.validation.mime-type-validation-failed.description":"MIME type validation failed","copy-paste.on-copy.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-copy.validation.no-value.title":"Empty value, nothing to copy","copy-paste.on-copy.validation.clipboard-not-supported.description":"Clipboard access required to copy this content. Allow clipboard permissions in your browser settings, then try copying again.","copy-paste.on-copy.validation.clipboard-not-supported.title":"Clipboard access blocked"}}],weekInfo:{firstDay:7,weekend:[6,7],minimalDays:1}},D$=(()=>{let e="__tmp_supports_local_storage";try{return!(typeof localStorage>"u")&&(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch(e){return!1}})();function DZ(e,t){return["sanity-locale",e,t].join(":")}function DX(e){let t,n=(0,j.c)(6),{projectId:r,name:i,i18n:a,__internal:o}=eii(),{locales:l}=a,{i18next:s}=o;return n[0]!==s||n[1]!==l||n[2]!==r||n[3]!==e||n[4]!==i?(t=(0,_.jsx)(DJ,{...e,projectId:r,sourceId:i,locales:l,i18next:s}),n[0]=s,n[1]=l,n[2]=r,n[3]=e,n[4]=i,n[5]=t):t=n[5],t}function DJ(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(24),{projectId:u,sourceId:d,locales:p,i18next:f,children:h}=e;c[0]!==f?(t=e=>(f.on("languageChanged",e),()=>f.off("languageChanged",e)),c[0]=f,c[1]=t):t=c[1];let m=t;c[2]!==f.language||c[3]!==p?(n=()=>p.find(e=>f.language===e.id)||DG,c[2]=f.language,c[3]=p,c[4]=n):n=c[4];let g=(0,E.useSyncExternalStore)(m,n);c[5]!==f?(r={i18next:f},c[5]=f,c[6]=r):r=c[6],c[7]!==f||c[8]!==u||c[9]!==d?(i=async e=>{D$&&localStorage.setItem(DZ(u,d),e),await f.changeLanguage(e)},c[7]=f,c[8]=u,c[9]=d,c[10]=i):i=c[10],c[11]!==g||c[12]!==p||c[13]!==r||c[14]!==i?(a={locales:p,currentLocale:g,__internal:r,changeLocale:i},c[11]=g,c[12]=p,c[13]=r,c[14]=i,c[15]=a):a=c[15];let y=a;return c[16]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsx)(DU,{}),c[16]=o):o=c[16],c[17]!==h||c[18]!==y||c[19]!==g.id?(l=(0,_.jsx)(D.LocaleContext.Provider,{value:y,children:h},g.id),c[17]=h,c[18]=y,c[19]=g.id,c[20]=l):l=c[20],c[21]!==f||c[22]!==l?(s=(0,_.jsx)(E.Suspense,{fallback:o,children:(0,_.jsx)(U.I18nextProvider,{i18n:f,children:l})}),c[21]=f,c[22]=l,c[23]=s):s=c[23],s}function DQ(e){return t=>{let n=0,r=(0,J.catchError)((t,i)=>e(t,++n,i).pipe(r));return t.pipe((0,eh.tap)(()=>{n=0}),r)}}function D1(e,t){let n=[t,!0],r={type:"tuple",tuple:n};return function(t){let i=(0,E.useMemo)(()=>(0,Y.of)(t).pipe((0,Q.switchMap)(t=>(0,K.concat)((0,Y.of)({type:"loading"}),e(t).pipe((0,Z.map)(e=>({type:"value",value:e}))))),(0,eO.scan)((e,t)=>{let[n]=e;return"loading"===t.type?[n,!0]:[t.value,!1]},n),(0,ed.distinctUntilChanged)((e,t)=>{let[n,r]=e,[i,a]=t;return n===i&&r===a}),(0,Z.map)(e=>({type:"tuple",tuple:e})),(0,J.catchError)(e=>(0,Y.of)({type:"error",error:e}))),[t]),a=(0,te.useObservable)(i,r);if("error"===a.type)throw a.error;return a.tuple}}function D2(e){return null!=e}function D0(e){let{version:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("drafts"===t||"published"===t)throw Error('Version can not be "published" or "drafts"');return{publishedId:(0,th.getPublishedId)(e),draftId:(0,th.getDraftId)(e),...t?{versionId:(0,th.getVersionId)(e,t)}:{}}}"".concat(th.DRAFTS_FOLDER).concat(".");let D5=["drafts","published"];function D7(e){return D5.includes(e)}let D3=["draft","published"];function D8(e){return D3.includes(e)}function D4(e){return Array.from(e.reduce((e,t)=>{let n=(0,th.getPublishedId)(t._id),r=e.get(n);return r||(r={id:n,type:t._type,published:void 0,draft:void 0,versions:[]},e.set(n,r)),(0,th.isPublishedId)(t._id)&&(r.published=t),(0,th.isDraftId)(t._id)&&(r.draft=t),(0,th.isVersionId)(t._id)&&r.versions.push(t),e},new Map).values())}function D6(e){return D4(e).map(e=>e.draft||e.published||e.versions[0]).filter(D2)}let D9=Object.freeze({}),Ie=Object.freeze([]),It=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,tx.formatRelative)(...t);if((0,tC.isValid)((0,tk.parse)(r,"MM/dd/yyyy",new Date))){let[e]=t;return new Date(e).toLocaleDateString()}return r};function In(e){return(0,th.isDraftId)(e)?"draft":(0,th.isVersionId)(e)?"version":"published"}function Ir(e){return e instanceof Error?e.message:String(e)}let Ii="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof self?self:e.g;function Ia(e){return Array.isArray(e)}function Io(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function Il(e){return"string"==typeof e}let Is="system.release",Ic="_.releases",Iu=["asap","scheduled","undecided"];function Id(e){return"object"==typeof e&&null!==e&&"_type"in e&&e._type===Is}function Ip(e){var t;return(null==(t=e.metadata)?void 0:t.cardinality)==="one"}function If(e){return Id(e)&&Ip(e)}let Ih="object"==typeof document&&"object"==typeof window&&window.ResizeObserver?window.ResizeObserver:N.ResizeObserver,Im=(()=>{let e=(0,L.default)(),t=new Ih(t=>e.publish(t));return{observe:(n,r,i)=>{let a=e.subscribe(e=>{let t=e.find(e=>e.target===n);t&&r(t)});return t.observe(n,i),()=>{a(),t.unobserve(n)}},unobserve:e=>t.unobserve(e)}})();function Ig(e){let t=function(e){let t=new h7.default(e);return{get(e){let n=t.get(e);if(!n)throw Error("Key not found in LRU cache: ".concat(e));return n.value},set(e,n){t.set(e,{value:n})},delete(e){t.delete(e)},has:e=>t.has(e)}}(e);return function(e){return n=>(0,K.concat)((0,G.defer)(()=>t.has(e)?(0,Y.of)({fromCache:!0,value:t.get(e)}):$.EMPTY),n.pipe((0,eh.tap)(n=>t.set(e,n)),(0,Z.map)(e=>({fromCache:!1,value:e}))))}}let Iy=["sanity.imageAsset","sanity.fileAsset"];function Iv(e){return"document"===e.type&&!("document"===e.type&&Iy.includes(e.name))}let Ib=["match","in","asc","desc","true","false","null"],Ix=/^[a-zA-Z_][a-zA-Z0-9_]*$/,IC=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),Ik="object"==typeof Intl&&"Segmenter"in Intl?new Intl.Segmenter:void 0;function Iw(e,t){let n=function(e,t,n){if(n<0)throw Error("End must be greater than start, use `String.prototype.slice()` for negative values");if(!Ik)return e.slice(0,n);let r=0,i="";for(let t of Ik.segment(e)){if(r===n)break;i+=t.segment,r++}return i}(e,0,t);return n===e?n:"".concat(n,"…")}let I_={isLoading:!0,value:void 0,error:null};function Ij(e,t){let n,r,i=(0,j.c)(4);i[0]!==t?(n=typeof t>"u"?I_:{isLoading:!1,value:t,error:null},i[0]=t,i[1]=n):n=i[1];let a=n;return i[2]!==e?(r=e.pipe(e=>e.pipe((0,Z.map)(e=>({isLoading:!1,value:e,error:null})),(0,J.catchError)(e=>(0,Y.of)({isLoading:!1,value:void 0,error:e})))),i[2]=e,i[3]=r):r=i[3],(0,te.useObservable)(r,a)}function IS(e,t){return null!==e&&e.roles.some(e=>e.name===t)}function IE(e){let[t,n]=(0,E.useState)(e);return(0,e4.default)(t,e)?t:(n(e),e)}let IT=!(typeof C.default>"u")&&(null==(v=C.default)||null==(y=v.env)?void 0:y.SANITY_STUDIO_DEBUG_I18N),ID={reverse:e=>"‮".concat(e),triangles:e=>"◤ ".concat(e," ◢")};function II(e){let t="reverse"===IT||"triangles"===IT?ID[IT]:null;return t?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e(...r))}:e}let IA={bindI18n:!1};function IO(e,t){let n,r,i,a=(0,j.c)(6);a[0]!==t?(n=t?{keyPrefix:t.keyPrefix,lng:t.lng,...IA}:IA,a[0]=t,a[1]=n):n=a[1];let{t:o}=(0,H.useTranslation)(e,n);return a[2]!==o?(r=II(o),a[2]=o,a[3]=r):r=a[3],a[4]!==r?(i={t:r},a[4]=r,a[5]=i):i=a[5],i}function IP(e){let t=JSON.stringify((Array.isArray(e)?e:[e]).flatMap(e=>(null==e?void 0:e.i18n)?Object.values(e.i18n).map(e=>{let{ns:t}=e;return t}):[]).filter(D2).sort()),{t:n}=IO((0,E.useMemo)(()=>JSON.parse(t),[t]));return(0,E.useCallback)(function(e){let{i18n:t}=e;return t?new Proxy(e,{get:(e,r)=>{let i=e[r];if("string"==typeof r&&r in t){let{key:e,ns:a}=t[r];return n(e,{ns:a,..."string"==typeof i&&{defaultValue:i}})}return i}}):e},[n])}function IM(e){let{t}=IO((0,E.useMemo)(()=>e.i18n?Array.from(new Set(Object.values(e.i18n).map(e=>{let{ns:t}=e;return t}))).sort():[],[e.i18n]));return(0,E.useMemo)(()=>{let{i18n:n}=e;return n?new Proxy(e,{get:(e,r)=>{let i=e[r];if("string"==typeof r&&r in n){let{key:e,ns:a}=n[r];return t(e,{ns:a,..."string"==typeof i&&{defaultValue:i}})}return i}}):e},[e,t])}function IF(){return IR().currentLocale}function IR(){let e=(0,E.useContext)(D.LocaleContext);if(!e)throw Error("Sanity LocaleContext value missing. Is this hook being used outside LocaleContext.Provider?");return e}let IB=(()=>{let e={dateTimeFormat:IN(),listFormat:IN(),numberFormat:IN(),relativeTimeFormat:IN()};return{dateTimeFormat:function(t,n){let r=IL(t,n),i=e.dateTimeFormat[r];return i||(i=new Intl.DateTimeFormat(t,n),e.dateTimeFormat[r]=i,i)},listFormat:function(t,n){let r=IL(t,n),i=e.listFormat[r];return i||(i=new Intl.ListFormat(t,n),e.listFormat[r]=i,i)},numberFormat:function(t,n){let r=IL(t,n),i=e.numberFormat[r];return i||(i=new Intl.NumberFormat(t,n),e.numberFormat[r]=i,i)},relativeTimeFormat:function(t,n){let r=IL(t,n),i=e.relativeTimeFormat[r];return i||(i=new Intl.RelativeTimeFormat(t,n),e.relativeTimeFormat[r]=i,i)}}})();function IN(){return Object.create(null)}function IL(e,t){return"".concat(e,"-").concat(JSON.stringify(function(e){let t=[];for(let[n,r]of Object.entries(e))t.push("".concat(n,"=").concat(JSON.stringify(r)));return t.sort().join("\n")}(t)))}function Iz(e){var t;let n=void 0===e?{}:e,r=null==(t=(0,E.useContext)(D.LocaleContext))?void 0:t.currentLocale.id;return r?IB.listFormat(r,n):IB.listFormat("en-US",{...n,style:"narrow"})}let IV=RegExp("^<(?<tag>[^\\s\\d<][^/?><]+)\\/?>"),IU=RegExp("<\\/(?<tag>[^>]+)>"),IH=/<[^>]+\/>/,Iq=/^[A-Z][A-Za-z0-9]+$/,IW=/^[a-z]+$/,IY=/{{\s*?([^}]+)\s*?}}/g;function IK(e){let t=[],n=e.matchAll(IY),r=0;for(let i of n){if(typeof i.index>"u")continue;let n=e.slice(r,i.index);n.length>0&&t.push({type:"text",text:n}),t.push(function(e){let[t,...n]=e.replace(/^\{\{|\}\}$/g,"").trim().split(/\s*,\s*/);if(1===n.length&&"list"===n[0])return{type:"interpolation",variable:t,formatters:n};if(n.length>0)throw Error('Interpolations with formatters are not supported when using <Translate>. Found "'.concat(e,'". Utilize "useTranslation" instead, or format the values passed to <Translate> ahead of time.'));return{type:"interpolation",variable:t}}(i[0])),r+=n.length+i[0].length}return r<e.length&&t.push({type:"text",text:e.slice(r)}),t}let IG=/^[A-Z]/,I$=new Set(["abbr","address","cite","code","del","em","ins","kbd","q","samp","strong","sub","sup"]);function IZ(e){let t=e.t(e.i18nKey,{context:e.context,skipInterpolation:!0,count:e.values&&"count"in e.values&&"number"==typeof e.values.count?e.values.count:void 0}),n=(0,E.useMemo)(()=>(function(e){let t=[],n="",r="",i=e;for(;i.length>0;)if(r||"<"!==i[0])if(r&&"<"===i[0]&&"<"!==i[1]){let e=i.match(IU);if(e){let a=e.groups.tag;if("/"!==i[1])throw Error("Expected closing tag for <".concat(r,">, but found new opening tag <").concat(a,">. Nested tags is not supported."));if(a!==r)throw Error("Expected closing tag for <".concat(r,">, but found closing tag </").concat(a,"> instead. Make sure each opening tag has a matching closing tag."));n&&(t.push(...IK(n)),n=""),t.push({type:"tagClose",name:a}),r="",i=i.slice(e[0].length)}else n+=i[0],i=i.slice(1)}else n+=i[0],i=i.slice(1);else{let e=i.match(IV);if(e){var a;let o=e.groups.tag;(function(e){if(!(Iq.test(e)||IW.test(e)))throw Error(e.trim()===e?'Invalid tag "<'.concat(e,'>". Tag names must be lowercase HTML tags or start with an uppercase letter and can only include letters and numbers.'):'Invalid tag "<'.concat(e,'>". No whitespace allowed in tags.'))})(o),n&&(t.push(...IK(n)),n=""),(a=e[0],IH.test(a))?t.push({type:"tagOpen",selfClosing:!0,name:o}):(t.push({type:"tagOpen",name:o}),r=o),i=i.slice(e[0].length)}else n+=i[0],i=i.slice(1)}if(r)throw Error("No matching closing tag for <".concat(r,'> found. Either make it self closing (e.g. "<').concat(r,'/>") or close it (e.g "<').concat(r,">...</").concat(r,'>").'));return n&&t.push(...IK(n)),t})(t),[t]),r=Iz();return(0,_.jsx)(_.Fragment,{children:function e(t,n,r,i){let[a,...o]=t;if(!a)return null;if("interpolation"===a.type){let t=n?n[a.variable]:void 0;if(typeof t>"u")return"{{".concat(a.variable,"}}");let l=function(e,t,n){let r=e;for(let i of t)if("list"===i)if(Array.isArray(e))r=n.list(e);else throw Error("List formatter used on non-array value");return"".concat(r)}(t,a.formatters||[],i);return(0,_.jsxs)(_.Fragment,{children:[l,e(o,n,r,i)]})}if("text"===a.type)return(0,_.jsxs)(_.Fragment,{children:[a.text,e(o,n,r,i)]});if("tagOpen"===a.type&&a.selfClosing){let t=r[a.name];if(!t)throw Error("Component not found: ".concat(a.name));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(t,{}),e(o,n,r,i)]})}if("tagOpen"===a.type&&!a.selfClosing){let t=o.findIndex(e=>"tagClose"===e.type),l=o[t];if(l&&a.name!==l.name)throw Error("Nested tags is not allowed");let s=r[a.name];if(!s&&IG.test(a.name))throw Error("Component not defined: ".concat(a.name));if(!s&&!I$.has(a.name))throw Error('HTML tag "'.concat(a.name,'" is not allowed'));let c=o.slice(0,t),u=o.slice(t+1),d=s||a.name;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d,{children:e(c,n,r,i)}),e(u,n,r,i)]})}return null}(n,e.values,e.components||{},{list:e=>r.format(e)})})}let IX=!1;class IJ extends Error{constructor(e,t,n){super(e),this.message=e,this.error=t,this.code=n}}function IQ(e){if(e instanceof IJ)return(0,Y.of)({status:"error",error:e});throw e}function I1(e){let t,n,r=(0,j.c)(20),{onSetMediaLibraryIds:i}=e,{t:a}=IO(),{id:o,organizationId:l,status:s,error:c}=function(e){let t,n,r,i=(0,j.c)(12);if("library"===e.from&&!e.libraryId)throw Error("libraryId is required to fetch organizationId");if("project"===e.from&&!e.projectId)throw Error("projectId is required to fetch organizationId");i[0]===Symbol.for("react.memo_cache_sentinel")?(t={apiVersion:"v2025-02-19"},i[0]=t):t=i[0];let a=eTt(t).observable;e:{let t;if(i[1]!==a||i[2]!==e.from||i[3]!==e.libraryId||i[4]!==e.projectId){var o,l;let r,s=(0,X.defaultIfEmpty)({status:"inactive"}),c=(0,J.catchError)(IQ);if("library"===e.from){let t;i[7]!==e.libraryId?(t=t=>({organizationId:t,status:"active",id:e.libraryId}),i[7]=e.libraryId,i[8]=t):t=i[8],n=(o=e.libraryId,a.request({uri:"/media-libraries/".concat(o),method:"GET"}).pipe((0,et.concatMap)(async e=>{if(e.organizationId)return e.organizationId;throw new IJ("Library ID not found","Library ID not found","ERROR_NO_LIBRARY_FOUND")}))).pipe((0,Z.map)(t),s,c);break e}i[9]!==a?(r=e=>a.request({uri:"/media-libraries?organizationId=".concat(e),method:"GET"}).pipe((0,Q.switchMap)(e=>Array.isArray(e.data)?(0,en.from)(e.data):$.EMPTY)).pipe((0,Z.map)(t=>{let{id:n}=t;return{organizationId:e,status:"active",id:n}})),i[9]=a,i[10]=r):r=i[10],t=(l=e.projectId,a.request({uri:"/projects/".concat(l),method:"GET"}).pipe((0,et.concatMap)(async e=>{if(e.organizationId)return e.organizationId;throw new IJ("Organization ID not found","Organization ID not found","ERROR_NO_ORGANIZATION_FOUND")}))).pipe((0,Q.switchMap)(r),(0,ee.take)(1),s,c),i[1]=a,i[2]=e.from,i[3]=e.libraryId,i[4]=e.projectId,i[5]=t,i[6]=n}else t=i[5],n=i[6];n=t}let s=n;return i[11]===Symbol.for("react.memo_cache_sentinel")?(r={status:"loading"},i[11]=r):r=i[11],(0,te.useObservable)(s,r)}(e.mediaLibraryInfo);if(r[0]!==o||r[1]!==i||r[2]!==l||r[3]!==s?(t=()=>{"active"===s&&o&&l&&i({libraryId:o,organizationId:l})},n=[o,i,l,s],r[0]=o,r[1]=i,r[2]=l,r[3]=s,r[4]=t,r[5]=n):(t=r[4],n=r[5]),(0,E.useEffect)(t,n),"inactive"===s){let e,t,n;return r[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),r[6]=e):e=r[6],r[7]!==a?(t=a("asset-sources.media-library.error.no-media-library-provisioned"),r[7]=a,r[8]=t):t=r[8],r[9]!==t?(n=(0,_.jsx)(I.Card,{padding:4,radius:4,tone:"caution","data-testid":"media-library-absent-warning",children:(0,_.jsxs)(I.Flex,{gap:3,children:[e,(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:t})]})}),r[9]=t,r[10]=n):n=r[10],n}if("error"===s&&c){let e,t,n,i,o=c.code;return r[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),r[11]=e):e=r[11],r[12]!==c.message||r[13]!==a?(t=c.message||a("asset-sources.media-library.error.library-could-not-be-resolved"),r[12]=c.message,r[13]=a,r[14]=t):t=r[14],r[15]!==t?(n=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:t}),r[15]=t,r[16]=n):n=r[16],r[17]!==o||r[18]!==n?(i=(0,_.jsx)(I.Card,{padding:4,radius:4,tone:"critical","data-testid":"media-library-provision-error",children:(0,_.jsxs)(I.Flex,{gap:3,children:[e,(0,_.jsx)(I.Stack,{space:4,"data-testid":o,children:n})]})}),r[17]=o,r[18]=n,r[19]=i):i=r[19],i}return null}let I2=new Map;function I0(e){let t,n,r,i,a,o,l=(0,j.c)(23),{projectId:s,libraryId:c,children:u}=e;l[0]!==c||l[1]!==s?(t=()=>s&&I2.get(s)||c&&I2.get(s)||null,l[0]=c,l[1]=s,l[2]=t):t=l[2];let[d,p]=(0,E.useState)(t),[f,h]=(0,E.useState)(null),{t:m}=IO();l[3]!==s?(n=e=>{p(e),s&&I2.set(s,e),I2.set(e.libraryId,e)},l[3]=s,l[4]=n):n=l[4];let g=n;l[5]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{let{error:t,info:n}=e;console.error(t,n),h(t)},l[5]=r):r=l[5];let y=r;if(f){let e,t,n;return l[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),l[6]=e):e=l[6],l[7]!==m||l[8]!==f.message?(t=f.message||m("asset-sources.media-library.error.library-could-not-be-resolved"),l[7]=m,l[8]=f.message,l[9]=t):t=l[9],l[10]!==t?(n=(0,_.jsx)(I.Card,{padding:4,radius:4,tone:"critical","data-testid":"media-library-provision-error",children:(0,_.jsxs)(I.Flex,{gap:3,children:[e,(0,_.jsx)(I.Stack,{space:4,"data-testid":"MEDIA_LIBRARY_ERROR_UNEXPECTED",children:(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:t})})]})}),l[10]=t,l[11]=n):n=l[11],n}return l[12]!==u||l[13]!==g||l[14]!==c||l[15]!==d||l[16]!==s?(i=d?u:(0,_.jsx)(I1,{mediaLibraryInfo:c?{from:"library",libraryId:c}:{from:"project",projectId:s},onSetMediaLibraryIds:g}),l[12]=u,l[13]=g,l[14]=c,l[15]=d,l[16]=s,l[17]=i):i=l[17],l[18]!==i?(a=(0,_.jsx)(B.ErrorBoundary,{onCatch:y,children:i}),l[18]=i,l[19]=a):a=l[19],l[20]!==d||l[21]!==a?(o=(0,_.jsx)(D.MediaLibraryIdsContext.Provider,{value:d,children:a}),l[20]=d,l[21]=a,l[22]=o):o=l[22],o}let I5=(0,tc.defineEvent)({name:"Version Document Added to Release ",version:1,description:"User added a document to a release"}),I7=(0,tc.defineEvent)({name:"Release Created",version:1,description:"User created a release"});(0,tc.defineEvent)({name:"Release Updated",version:1,description:"User updated a release"});let I3=(0,tc.defineEvent)({name:"Release Deleted",version:1,description:"User deleted a release"}),I8=(0,tc.defineEvent)({name:"Release Published",version:1,description:"User published a release"}),I4=(0,tc.defineEvent)({name:"Release Scheduled",version:1,description:"User scheduled a release"}),I6=(0,tc.defineEvent)({name:"Release Unscheduled",version:1,description:"User unscheduled a release"}),I9=(0,tc.defineEvent)({name:"Release Archived",version:1,description:"User archived a release"}),Ae=(0,tc.defineEvent)({name:"Release Unarchived",version:1,description:"User unarchived a release"}),At=(0,tc.defineEvent)({name:"Release Reverted",version:1,description:"User reverted a release"}),An=(0,tc.defineEvent)({name:"Release Duplicated",version:1,description:"User duplicated a release"});function Ar(){let e=(0,E.useContext)(D.PerspectiveContext);if(!e)throw Error("usePerspective must be used within a PerspectiveProvider");return e}let Ai=()=>(0,_.jsx)(E.Fragment,{});function Aa(e){let t,n=(0,j.c)(4),{options:r}=eii().__internal,{defaultComponent:i,pick:a}=e;if(n[0]!==i||n[1]!==r||n[2]!==a){let e=[...euQ(r,[])];e.reverse(),t=function(e,t){function n(t){return(0,_.jsx)(e,{...t})}return function(e){let r,i,a=(0,j.c)(4),o=n;if(a[0]===Symbol.for("react.memo_cache_sentinel")){for(let e of t){let t=o;o=n=>(0,_.jsx)(e,{...n,renderDefault:t})}a[0]=o}else o=a[0];return a[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(A.Skeleton,{padding:3,radius:1,animated:!0}),a[1]=r):r=a[1],a[2]!==e?(i=(0,_.jsx)(E.Suspense,{fallback:r,children:o({...e,renderDefault:Ai})}),a[2]=e,a[3]=i):i=a[3],i}}(i,e.map(e=>{let{config:t}=e;return a(t)}).filter(Boolean)),n[0]=i,n[1]=r,n[2]=a,n[3]=t}else t=n[3];return t}function Ao(e){return e.type?Ao(e.type):"block"===e.name}function Al(e){return"field"===e.kind&&"array"===e.field.schemaType.jsonType}let As=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ac=/_key\s*==\s*['"](.*)['"]/;function Au(e){if(!Array.isArray(e))throw Error("Path is not an array");return e.reduce((e,t,n)=>{if((0,W.isIndexSegment)(t))return"".concat(e,"[").concat(t,"]");if((0,W.isKeySegment)(t)&&t._key)return"".concat(e,'[_key=="').concat(t._key,'"]');if((0,W.isIndexTuple)(t)){let[n,r]=t;return"".concat(e,"[").concat(n,":").concat(r,"]")}if("string"==typeof t)return"".concat(e).concat(0===n?"":".").concat(t);throw Error("Unsupported path segment `".concat(JSON.stringify(t),"`"))},"")}function Ad(e,t){let n=t[0];if(typeof n>"u")return e;let r=t.slice(1);if((0,W.isIndexSegment)(n))return Ad(Array.isArray(e)?e[n]:void 0,r);if((0,W.isKeySegment)(n))return Ad(Array.isArray(e)?e.find(e=>e._key===n._key):void 0,r);if("string"==typeof n)return Ad(Io(e)?e[n]:void 0,r);throw Error("Unknown segment type ".concat(JSON.stringify(n)))}function Ap(e){return(0,W.isIndexSegment)(e)?Number(e.replace(/[^\d]/g,"")):(0,W.isKeySegment)(e)?function(e){let t=e.match(Ac);if(!t)throw Error("Invalid key segment");return{_key:t[1]}}(e):(0,W.isIndexTuple)(e)?function(e){let[t,n]=e.split(":").map(e=>""===e?e:Number(e));return[t,n]}(e):e}function Af(e,t){return e.length===t.length&&e.every((e,n)=>{let r=t[n];return(0,W.isKeySegment)(e)&&(0,W.isKeySegment)(r)?e._key===r._key:(0,W.isIndexSegment)(e)?Number(e)===Number(r):(0,W.isIndexTuple)(e)&&(0,W.isIndexTuple)(r)?e[0]===r[0]&&e[1]===r[1]:e===r})}function Ah(e){return(0,W.isKeyedObject)(e)?e._key:void 0}function Am(e){let t=Ah(e);return t?{_key:t}:void 0}function Ag(e,t){return e.get((null==t?void 0:t.author)||null)}function Ay(e,t){var n=e,r=Array.isArray(t)?t:function(e){let t=e.match(As);if(!t)throw Error("Invalid path string");return t.map(Ap)}(t);let i=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===n.length)return t;let i=n[0],a=n.slice(1);if((0,W.isIndexTuple)(i))throw Error("Index tuples are not supported in diff paths");if((0,W.isIndexSegment)(i)||(0,W.isKeySegment)(i)){let n=(0,W.isIndexSegment)(i)?"at index ".concat(i):"with key ".concat(i._key);if("array"!==t.type)return void"".concat(n).concat(Au(r));let o=t.items.find((0,W.isIndexSegment)(i)?e=>e.toIndex===i:e=>(function(e,t){let n=e.diff;return"object"===n.type&&!!n.toValue&&n.toValue._key===t})(e,i));return o?e(o.diff,a,r.concat(i)):void"".concat(n).concat(Au(r))}if("object"!==t.type)return void"".concat(i).concat(Au(r));let o=t.fields[i];return typeof o>"u"?void"".concat(i).concat(Au(r)):e(o,a,r.concat(i))}(n,r);return i&&"unchanged"!==i.action&&i.annotation||void 0}function Av(){let e=(0,E.useContext)(D.UserColorManagerContext);if(!e)throw Error("UserColorManager: missing context value");return e}function Ab(e){let t,n,r=(0,j.c)(5),i=Av();r[0]!==i||r[1]!==e?(t=e?i.listen(e):$.EMPTY,r[0]=i,r[1]=e,r[2]=t):t=r[2];let a=t;return r[3]!==i?(n=i.get(null),r[3]=i,r[4]=n):n=r[4],(0,te.useObservable)(a,n)}let Ax=["green","red","gray"],AC=z.COLOR_HUES.filter(e=>!Ax.includes(e)),Ak=e=>{let t="dark"===e;return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}};function Aw(e){let t,n,r=(0,j.c)(6),{children:i,manager:a}=e,o=ews();r[0]!==a||r[1]!==o?(t=a||function(e){let t,{anonymousColor:n,colors:r,currentUserColor:i,scheme:a}=e,o=r||(e=>{let{background:t,border:n,text:r}=Ak(e);return AC.reduce((e,i)=>(e[i]={name:i,background:z.hues[i][t].hex,border:z.hues[i][n].hex,text:z.hues[i][r].hex,tints:z.hues[i]},e),{})})(a),l=n||(e=>{let{background:t,border:n,text:r}=Ak(e);return{name:"gray",background:z.hues.gray[t].hex,border:z.hues.gray[n].hex,text:z.hues.gray[r].hex,tints:z.hues.gray}})(a),s=i||"purple";if(!o.hasOwnProperty(s))throw Error("'colors' must contain 'currentUserColor' (".concat(s,")"));let c=Object.keys(o),u=new Map,d=new Map,p=c.reduce((e,t)=>(e[t]=0,e),{}),f=new Map;return(null==e?void 0:e.userStore)&&e.userStore.me.subscribe(e=>{var n;t=n=e?e.id:null,p[s]+=n?1:-1}),{get:function(e){return e?o[h(e)]:l},listen:function(e){var t,n;let r=u.get(e);if(r)return r;let i=h(e);return t=e,n=i,r=new er.Observable(e=>{let r=o[n];return e.next(r),()=>{u.delete(t),f.delete(t),p[n]--}}).pipe((0,ep.shareReplay)({refCount:!0})),u.set(e,r),r}};function h(e){var n;let r,i;if(e===t)return s;let a=f.get(e);if(a)return a;let o=d.get(e);if(o&&(0===p[o]||!c.find(e=>0===p[e])))return m(e,o);let l=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return c[Math.abs(t)%c.length]}(e);return 0===p[l]?m(e,l):m(e,(n=o,r=1/0,i=[],c.forEach(e=>{let t=p[e];t===r?i.push(e):t<r&&(r=t,i=[e])}),n&&i.includes(n)?n:i[0]))}function m(e,t){return f.set(e,t),d.set(e,t),p[t]++,t}}({scheme:o}),r[0]=a,r[1]=o,r[2]=t):t=r[2];let l=t;return r[3]!==i||r[4]!==l?(n=(0,_.jsx)(D.UserColorManagerContext.Provider,{value:l,children:i}),r[3]=i,r[4]=l,r[5]=n):n=r[5],n}function A_(e){let t,n=(0,j.c)(3),r=Av();return n[0]!==e||n[1]!==r?(t=Ag(r,e),n[0]=e,n[1]=r,n[2]=t):t=n[2],t}function Aj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Av(),r=(0,E.useMemo)(()=>Ay(e,t),[e,t]);return(0,E.useMemo)(()=>Ag(n,r),[r,n])}let AS=function(){if(!D$){let e=Object.create(null);return{getKey:t=>e[t]||null,setKey(t,n){e[t]=n}}}return{getKey:function(e){let t=localStorage.getItem(e);return null===t?null:function(e){try{return JSON.parse(e)}catch(e){return console.warn("Failed to parse settings: ".concat(e.message)),null}}(t)},setKey:function(e,t){typeof t>"u"||null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))}}}(),AE={apiVersion:"2025-02-19"},AT={"x-sanity-app":"studio@".concat(e9.SANITY_VERSION)},AD=(e,t)=>t?e.withConfig({apiVersion:t}):e;class AI extends Error{constructor({projectId:e,isStaging:t}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e,this.isStaging=t}}let AA={};function AO(e,t){D$?localStorage[e]=t:AA[e]=t}function AP(e){D$?localStorage.removeItem(e):delete AA[e]}let AM=F.styled.svg(e=>{let{theme:t}=e,{fg:n}=t.sanity.color.base;return(0,F.css)(Ci(),n)}),AF=F.styled.img(Ca());function AR(e){let t,n=(0,j.c)(3),{provider:r}=e;return n[0]!==r.logo||n[1]!==r.name?(t=r.logo?(0,_.jsx)(AF,{src:r.logo,alt:"Logo for ".concat(r.name)}):void 0,n[0]=r.logo,n[1]=r.name,n[2]=t):t=n[2],t}let AB={google:()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsxs)("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[(0,_.jsx)("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),(0,_.jsx)("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),(0,_.jsx)("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),(0,_.jsx)("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]}),t[0]=e):e=t[0],e},github:()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(AM,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:(0,_.jsx)("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),t[0]=e):e=t[0],e}},AN="sanity:last_used_provider";async function AL(e){let{client:t,mode:n,providers:r=[]}=e;if("replace"===n&&Array.isArray(r))return r;let{providers:i}=await t.request({uri:"/auth/providers"});return"function"==typeof r?r(i):0===r.length?i:"replace"===n?r:i.filter(e=>r.some(t=>t.url!==e.url)).concat(r)}function Az(e){let{loginMethod:t="dual",projectId:n,url:r,redirectPath:i}=e,a=new URLSearchParams;return a.set("origin","".concat(window.location.origin).concat(i)),a.set("projectId",n),"token"===t?a.set("withSid","true"):a.set("type",t),"".concat(r,"?").concat(a)}function AV(e){let t,n,r,i,a,o=(0,j.c)(7);return o[0]===Symbol.for("react.memo_cache_sentinel")?(t={width:"100%"},o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Badge,{radius:2,tone:"primary",style:{alignSelf:"start",marginBottom:"8px"},children:"Last used"}),o[1]=n):n=o[1],o[2]!==e?(r=(0,_.jsx)(AU,{autoFocus:!0,tone:"primary",...e}),o[2]=e,o[3]=r):r=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{size:0,align:"center",style:{margin:"13px 0 13px 0"},children:"OR"}),o[4]=i):i=o[4],o[5]!==r?(a=(0,_.jsxs)(I.Flex,{direction:"column",style:t,children:[n,r,i]}),o[5]=r,o[6]=a):a=o[6],a}function AU(e){let t,n,r,i,a,o=(0,j.c)(15),{href:l,provider:s,tone:c,autoFocus:u}=e,d=void 0===c?"default":c,p=void 0!==u&&u;o[0]!==p?(t=e=>{p&&(null==e||e.focus())},o[0]=p,o[1]=t):t=o[1];let f=t;o[2]!==s.name?(n=()=>{localStorage.setItem(AN,s.name)},o[2]=s.name,o[3]=n):n=o[3];let h=n,m=AB[s.name]||AR;return o[4]===Symbol.for("react.memo_cache_sentinel")?(r={width:"100%"},o[4]=r):r=o[4],o[5]!==m||o[6]!==s?(i=(0,_.jsx)(m,{provider:s}),o[5]=m,o[6]=s,o[7]=i):i=o[7],o[8]!==f||o[9]!==h||o[10]!==l||o[11]!==s.title||o[12]!==i||o[13]!==d?(a=(0,_.jsx)(B.Button,{ref:f,as:"a",href:l,mode:"ghost",size:"large",tone:d,style:r,text:s.title,icon:i,onClick:h}),o[8]=f,o[9]=h,o[10]=l,o[11]=s.title,o[12]=i,o[13]=d,o[14]=a):a=o[14],a}let AH=/sid=([^&]{20,})&?/,Aq=function(){if(typeof window>"u"||"object"!=typeof window.location)return null;let e=window.location.hash,[,t]=e.match(AH)||[];if(!t)return null;let n=e.replace(AH,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}(),AW=e=>{if(!e)throw Error("Invalid project id");return"__studio_auth_token_".concat(e)},AY=e=>{let t=(e=>{try{let t=function(e){return D$?localStorage[e]:AA[e]}(AW(e));if(!t)return null;let{token:n}=JSON.parse(t);return n&&"string"==typeof n?n:null}catch(e){return console.error(e),null}})(e),n=(()=>{if(typeof window>"u"||"object"!=typeof window.location)return null;let e=/token=([^&]{32,})&?/,[,t]=window.location.hash.match(e)||[];if(!t)return null;let n=window.location.hash.replace(e,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t})();return n&&(!t||n!==t)?(AG({token:n,projectId:e}),n):t||null},AK=e=>{try{AP(AW(e))}catch(e){console.error("Failed to clear auth token from storage:",e)}},AG=e=>{let{token:t,projectId:n}=e;try{AO(AW(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(e){console.error("Failed to save auth token to storage:",e)}},A$=async(e,t)=>{try{let t=await e.request({uri:"/users/me",tag:"users.get-current"});return"string"==typeof(null==t?void 0:t.id)?t:null}catch(r){var n;if(401===r.statusCode)return AK(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new AI({isStaging:e.config().apiHost.endsWith(".work"),projectId:null==(n=e.config())?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){let e=new URL(r.request.url).host;throw Error("Unknown network error attempting to reach ".concat(e))}throw r}},AZ=(0,e6.default)(function(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:i,loginMethod:a="dual",...o}=e,{broadcast:l,messages:s}=function(e){let t=typeof window>"u"?(0,Y.of)():(0,eo.fromEvent)(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new ea.Subject;return{messages:(0,ei.merge)(r,t.pipe((0,ew.filter)(e=>e.key===n),(0,Z.map)(e=>e.newValue),(0,ew.filter)(D2),(0,Z.map)(e=>JSON.parse(e)))).pipe((0,ep.shareReplay)(1)),broadcast:function(e){try{AO(n,JSON.stringify(e)),AP(n),r.next(e)}catch(e){}}}}("dual_mode_auth_".concat(n)),c=null!=t?t:e8.createClient,u=s.pipe((0,eI.startWith)(["dual","token"].includes(a)?AY(n):null)),d={};i?d.apiHost=i:"u">typeof __SANITY_STAGING__&&!0===__SANITY_STAGING__&&(d.apiHost="https://api.sanity.work");let p=u.pipe((0,Z.map)(e=>c({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...e?{token:e}:{withCredentials:!0},perspective:"raw",requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,headers:AT,...d})),(0,Q.switchMap)(e=>(0,G.defer)(async()=>{let t=await A$(e,l);return{currentUser:t,client:e,authenticated:!!t}})),(0,ed.distinctUntilChanged)((e,t)=>(0,e4.default)(e.currentUser,t.currentUser)),(0,ep.shareReplay)(1));async function f(){let e,t=(()=>{let e=Aq;return e&&(Aq=null),e})();if(!t)return void l("cookie"===a?null:AY(n));let i=c({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",headers:AT,...d});if(("dual"===a||"cookie"===a)&&(e=await A$(i,l)),e||"cookie"===a)return void l(null);let o=await h(i,t);l(null!=o?o:null)}async function h(e,t){let{token:r}=await e.request({method:"GET",uri:"/auth/fetch",query:{sid:t},tag:"auth.fetch-token"});return AG({token:r,projectId:n}),r}async function m(){let e=AY(n),t=c({projectId:n,dataset:r,useCdn:!0,...e?{token:e}:{withCredentials:!0},apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",headers:AT,...d});AK(n),await t.request({uri:"/auth/logout",method:"POST"}),l(null)}let g=function(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...i}=e,a=D1(t);function o(e){if(!e||e.length<=1)return;let t=localStorage.getItem(AN);return null==e?void 0:e.find(e=>{let{name:n}=e;return n===t})}return function(e){let t,l,s,c,u,d,p,f,h,m=(0,j.c)(22),{projectId:g,...y}=e,v=y.redirectPath||y.basePath||"/";m[0]===Symbol.for("react.memo_cache_sentinel")?(t={providers:[],isLoading:!0},m[0]=t):t=m[0];let[b,x]=(0,E.useState)(t),[C,k]=(0,E.useState)(null);if(C)throw C;let[w]=a();m[1]!==w?(l=async()=>{let e=[];if(!w)return[];try{e=await AL({client:w,...i})}catch(e){k(e)}return e},m[1]=w,m[2]=l):l=m[2];let S=l;m[3]!==w||m[4]!==S?(s=()=>{w&&(async()=>{let e=await S(),t=o(e);x({providers:e,lastUsedProvider:t,isLoading:!1})})()},c=[w,o,S],m[3]=w,m[4]=S,m[5]=s,m[6]=c):(s=m[5],c=m[6]),(0,E.useEffect)(s,c);let{providers:T,lastUsedProvider:D,isLoading:A}=b,O=r&&(null==T?void 0:T.length)===1&&(null==T?void 0:T[0])&&Az({loginMethod:n,projectId:g,url:T[0].url,redirectPath:v}),P=A||O;m[7]!==(null==D?void 0:D.name)?(u=e=>{let{name:t}=e;return t!==(null==D?void 0:D.name)},m[7]=null==D?void 0:D.name,m[8]=u):u=m[8];let M=T.filter(u);if((0,E.useEffect)(()=>{O&&(window.location.href=O)},[O]),P){let e;return m[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{showText:!0}),m[9]=e):e=m[9],e}let F=I.Stack;m[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,_.jsx)(I.Heading,{align:"center",size:1,children:"Choose login provider"}),m[10]=d):d=m[10];let R=I.Stack,B=D&&(0,_.jsx)(AV,{provider:D,href:Az({loginMethod:n,projectId:g,url:D.url,redirectPath:v})}),N=I.Stack,L=null==M?void 0:M.map((e,t)=>(0,_.jsx)(AU,{provider:e,href:Az({loginMethod:n,projectId:g,url:e.url,redirectPath:v})},"".concat(e.url,"_").concat(t)));return m[11]!==N||m[12]!==L?(p=(0,_.jsx)(N,{space:2,children:L}),m[11]=N,m[12]=L,m[13]=p):p=m[13],m[14]!==R||m[15]!==p||m[16]!==B?(f=(0,_.jsxs)(R,{children:[B,p]}),m[14]=R,m[15]=p,m[16]=B,m[17]=f):f=m[17],m[18]!==F||m[19]!==f||m[20]!==d?(h=(0,_.jsxs)(F,{space:4,children:[d,f]}),m[18]=F,m[19]=f,m[20]=d,m[21]=h):h=m[21],h}}({...o,getClient:()=>p.pipe((0,Z.map)(e=>e.client)),loginMethod:a});return{handleCallbackUrl:f,token:u,state:p,LoginComponent:g,logout:m}},function e(t){return"object"!=typeof t||null===t?"".concat(t):JSON.stringify(Object.fromEntries(Object.entries(t).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r,"en")}).map(t=>{let[n,r]=t;return[n,e(r)]})))});function AX(e){return"google"===e?"Google":"github"===e?"GitHub":"sanity"===e?"Sanity":(null==e?void 0:e.startsWith("saml-"))?"SAML/SSO":void 0}let AJ=typeof window>"u"?(0,Y.of)({}):(0,eo.fromEvent)(window,"online"),AQ=typeof window>"u"?(0,Y.of)({}):(0,eo.fromEvent)(window,"offline"),A1={type:"connecting"},A2=(0,tt.observableCallback)(),A0=A2[0];A2[1];let A5="object"==typeof location?location.search:"",A7={name:"default",metadata:{}},A3={coreUi:{globalUserMenu:!0,globalWorkspaceControl:!0,comlink:!0},default:{}},A8=D1(e=>{let[t,n]=e;return(0,en.from)(t.getUser(n).catch(e=>(console.error(e),null)))});function A4(e){let t,n=(0,j.c)(3),r=Fl();return n[0]!==e||n[1]!==r?(t=[r,e],n[0]=e,n[1]=r,n[2]=t):t=n[2],A8(t)}function A6(){let{currentUser:e}=eii();return e}let A9=e=>{let t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Oe=e=>({type:"snapshot",document:e}),Ot=e=>e.document,On=(e,t)=>{let n=(e=>{let t=new ea.Subject,n=new ef.BehaviorSubject(!0),r=new ea.Subject,i=new ea.Subject,a=new ea.Subject,o=new ea.Subject,l=e.pipe((0,eO.scan)((e,t)=>"snapshot"===t.type?(e&&e.commit(),n.next(!0),(e=>{let t=new mN(e);return t.onMutation=e=>{let{mutation:n,remote:i}=e;r.next({type:"mutation",document:A9(t),mutations:n.mutations,origin:i?"remote":"local"})},t.onRemoteMutation=e=>{a.next({type:"remoteMutation",head:t.document.HEAD,transactionId:e.transactionId,timestamp:e.timestamp,author:e.identity,effects:e.effects})},t.onRebase=(e,t,n)=>{i.next({type:"rebase",document:e,remoteMutations:t,localMutations:n})},t.onConsistencyChanged=e=>{n.next(e)},t.commitHandler=e=>o.next(e),t})(t.document||null)):null===e?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',t.type),null):e,null),(0,ew.filter)(e=>null!==e),(0,ed.distinctUntilChanged)(),(0,eG.publishReplay)(1),(0,e$.refCount)()),s=e.pipe((0,ew.filter)(e=>"mutation"===e.type),(0,eZ.withLatestFrom)(l),(0,Z.map)(e=>{let[t,n]=e;return n.arrive(new mP(t)),A9(n)})),c=t.pipe((0,eZ.withLatestFrom)(l),(0,eh.tap)(e=>{let[t,n]=e;"mutation"===t.type&&n.add(new mP({mutations:t.mutations})),"commit"===t.type&&n.commit()}),(0,eY.mergeMapTo)($.EMPTY),(0,eg.share)()),u=e=>{let n;return n={type:"mutation",mutations:e},t.next(n)},d=(0,ei.merge)(l.pipe((0,Z.map)(e=>e.LOCAL)),r.pipe((0,Z.map)(Ot)),i.pipe((0,Z.map)(Ot)),s).pipe((0,Z.map)(Oe),(0,eG.publishReplay)(1),(0,e$.refCount)()),p=(0,ei.merge)(l.pipe((0,Z.map)(e=>e.document.HEAD),(0,Z.map)(Oe)),a).pipe((0,eG.publishReplay)(1),(0,e$.refCount)());return{updates$:(0,ei.merge)(d,c,r,i),consistency$:n.pipe((0,ed.distinctUntilChanged)(),(0,eG.publishReplay)(1),(0,e$.refCount)()),remoteSnapshot$:p,commitRequest$:o,addMutation:e=>u([e]),addMutations:u,commit:()=>{l.pipe((0,ee.take)(1),(0,eh.tap)(e=>e.commit())).subscribe()}}})(t),r=t=>{let{_id:n,_rev:r,_updatedAt:i,...a}=t;return{_id:e,...a}},i={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:t=>t.map(t=>({patch:{...t,id:e}})),create:e=>({create:r(e)}),createIfNotExists:e=>({createIfNotExists:r(e)}),createOrReplace:e=>({createOrReplace:r(e)}),delete:()=>i,mutate:e=>n.addMutations(e),commit:()=>n.commit()}};function Or(e,t){var n;return n="function"==typeof e?{predicate:e,...t}:e,e=>{let t,r=!1,{predicate:i,...a}=n,o=e.pipe((0,eh.tap)(e=>{n.predicate(e)&&(r=!0,t=e)}),(0,em.finalize)(()=>{r=!1,t=void 0}),(0,eg.share)(a)),l=new er.Observable(e=>{r&&e.next(t),e.complete()});return(0,ei.merge)(o,l)}}let Oi=(0,tr.default)("sanity:document-store"),Oa=[];function Oo(e){let{resolveChainDeadline:t=3e4,maxBufferSize:n=20}={};return e=>e.pipe((0,eO.scan)((e,t)=>{var r,i;if("mutation"===t.type&&!e.base)throw Error("Invalid state. Cannot create a sequence without a base");if("snapshot"===t.type)return{base:{revision:null==(r=t.document)?void 0:r._rev},buffer:Oa,emitEvents:[t]};if("mutation"===t.type){let r=(function(e){let t={};return e.forEach(n=>{t[n.resultRev]=e.find(e=>e.resultRev===n.previousRev)}),Object.entries(t).filter(e=>{let[,t]=e;return!t}).map(t=>{let[n]=t,r=e.find(e=>e.resultRev===n),i=[];for(;r;)i.push(r),r=e.find(e=>e.previousRev===(null==r?void 0:r.resultRev));return i})})(e.buffer.concat(t)).map(t=>{let[n,r]=function(e,t){var n,r;let i=e.findIndex(e=>e.resultRev===t);return n=e,(r=i+1)<0?[[],n]:[n.slice(0,r),n.slice(r)]}(t,e.base.revision);return n.length>0&&Oi("Discarded %d mutations already applied to document",n.length),r}),[a,o]=(0,mz.default)(r,t=>{var n;return e.base.revision===(null==(n=t[0])?void 0:n.previousRev)}),l=o.flat().toSorted((e,t)=>e.messageReceivedAt.localeCompare(t.messageReceivedAt));if(a.length>1)throw Error("Expected at most one resolved chain");if(a.length>0&&a[0].length>0){let t=a[0].at(-1),n="disappear"===t.transition||null==t?void 0:t.resultRev;return e.buffer.length>0&&(Oi("Resolved chain: %s => %s",a[0][0].previousRev,null==(i=a[0].at(-1))?void 0:i.resultRev),l.length>0?Oi("There are still %d unchainable mutations",l.length):Oi("All chains were resolved")),{base:{revision:n},emitEvents:a[0],buffer:l}}if(l.length>=n)throw new Oc("Too many unchainable mutation events: ".concat(e.buffer.length),e);return{...e,buffer:l,emitEvents:Oa}}return{...e,emitEvents:[t]}},{emitEvents:Oa,base:void 0,buffer:Oa}),(0,Q.switchMap)(e=>{if(e.buffer.length>0){let n=new Date(e.buffer[0].messageReceivedAt),r=t-(Date.now()-n.getTime());return Oi("There are %d listener event(s) that can't be applied in sequence. This could be due to events arriving out of order. Will throw an error if chain can't be resolved within %dms",e.buffer.length,r),Oi("Buffered events: %O",e.buffer),(0,K.concat)((0,Y.of)(e),(0,es.timer)(r).pipe((0,eC.mergeMap)(()=>(0,el.throwError)(()=>new Os("Did not resolve chain within a deadline of ".concat(t,"ms"),e)))))}return(0,Y.of)(e)}),(0,eC.mergeMap)(e=>e.emitEvents))}class Ol extends Error{constructor(e,t){super(e),this.name="OutOfSyncError",this.state=t}}class Os extends Ol{constructor(e,t){super(e,t),this.name="DeadlineExceededError"}}class Oc extends Ol{constructor(e,t){super(e,t),this.name="MaxBufferExceededError"}}let Ou={type:"pending",phase:"begin"},Od={type:"pending",phase:"end"};function Op(e,t){return{type:"snapshot",documentId:e,document:t}}let Of={apiVersion:"v2025-02-19"},Oh=e=>!!Array.isArray(e);function Om(e,t){return t.versionId?e.withConfig(Of):e.withConfig({apiVersion:"2025-02-19"})}function Og(e,t){return t.versionId?e.withConfig(Of):e}let Oy=e=>t=>("snapshot"===t.type||"mutation"===t.type)&&t.documentId===e;function Ov(e){return t=>({...t,version:e})}function Ob(e,t,n){let{resultRev:r,...i}=n;return Og(e,t).dataRequest("mutate",i,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Ox(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{publishedId:i,draftId:a,versionId:o}=t,{onReportLatency:l,onSyncErrorRecovery:s,tag:c}=r,u=(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{publishedId:r,draftId:i,versionId:a}=t,o=t.versionId?e.withConfig(Of):e;if(t.versionId&&"published"===(0,th.getVersionFromId)(t.versionId)||t.versionId&&"drafts"===(0,th.getVersionFromId)(t.versionId))throw Error('VersionId cannot be "published" or "drafts"');let l=(0,G.defer)(()=>o.observable.listen("*[_id in $ids]",{ids:[r,i,a].filter(e=>"u">typeof e)},{includeResult:!1,includeAllVersions:!0,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"}).pipe(function(){let{ttl:e=12e4,max:t=1e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>n.pipe((0,eO.scan)((e,t)=>{let{seen:n}=e;if("mutation"!==t.type)return{emit:[t],seen:n};let r="".concat(t.transactionId,"#").concat(t.documentId);return n.has(r)?(Oi("Ignoring duplicate listener event: ",r),{seen:n,emit:[]}):(n.set(r,null),{seen:n,emit:[t]})},{emit:[],seen:new b8.default({ttl:e,max:t})}),(0,eC.mergeMap)(e=>e.emit))}(),(0,Z.map)(e=>"mutation"===e.type?{...e,messageReceivedAt:new Date().toString()}:e),Or({predicate:e=>"welcome"===e.type||"reconnect"===e.type}))).pipe((0,eO.scan)((e,t)=>({event:t,disconnectedAt:"reconnect"===t.type?(null==e?void 0:e.disconnectedAt)||new Date:void 0,disconnectedTime:"welcome"===t.type&&(null==e?void 0:e.disconnectedAt)?e.disconnectedAt&&Date.now()-e.disconnectedAt.getTime():void 0}),void 0),(0,ew.filter)(Boolean),(0,et.concatMap)((e,t)=>{let{event:n,disconnectedTime:l}=e,s="welcome"===n.type&&0===t||l&&l>2e4;return(l||0)>0&&Oi("Reconnected after being disconnected for: %dms",l),s?o.observable.getDocuments([r,i,a].filter(e=>"string"==typeof e),{tag:"document.snapshots"}).pipe((0,Z.map)(e=>{let[t,n,r]=e;return{draft:n,published:t,version:r}})).pipe((0,eC.mergeMap)(e=>{let{draft:t,published:n,version:o}=e;return[Op(i,t),Op(r,n),...a?[Op(a,o)]:[]]})):(0,Y.of)(n)}),(0,eO.scan)((e,t)=>{if("mutation"!==t.type)return{next:[t],buffer:[]};let n=e.buffer.length>0,r=t.transactionTotalEvents>1;if(!r&&!n)return{next:[t],buffer:[]};if(!r)return{next:[],buffer:e.buffer.concat(t)};let i=e.buffer.concat(t);return Object.values((0,nu.default)(i.filter(e=>"mutation"===e.type),e=>e.transactionId)).every(e=>e.length===e[0].transactionTotalEvents)?{next:i.concat(Od),buffer:[]}:{next:1===i.length?[Ou]:[],buffer:i}},{next:[],buffer:[]}),(0,eC.mergeMap)(e=>e.next),(0,eg.share)()),s=l.pipe((0,ew.filter)(e=>"mutation"!==e.type&&"snapshot"!==e.type||e.documentId===i),Oo()),c=l.pipe((0,ew.filter)(e=>"mutation"!==e.type&&"snapshot"!==e.type||e.documentId===r),Oo()),u=l.pipe((0,ew.filter)(e=>"mutation"!==e.type&&"snapshot"!==e.type||e.documentId===a),Oo());return(0,ei.merge)(s,c,u).pipe((0,J.catchError)((e,t)=>e instanceof Ol?(Oi("Recovering from OutOfSyncError: %s",e.name),"function"==typeof(null==n?void 0:n.onSyncErrorRecovery)?null==n||n.onSyncErrorRecovery(e):console.error(e),t):(0,el.throwError)(()=>e)))})(e,t,{onSyncErrorRecovery:s,tag:c}).pipe((0,eg.share)()),d=u.pipe((0,ew.filter)(e=>"reconnect"===e.type||"welcome"===e.type)),p=On(a,u.pipe((0,ew.filter)(Oy(a)))),f=typeof o>"u"?void 0:On(o,u.pipe((0,ew.filter)(Oy(o)))),h=On(i,u.pipe((0,ew.filter)(Oy(i)))),m=u.pipe((0,ew.filter)(e=>"pending"===e.type)),g=(0,ei.merge)(p.commitRequest$,h.commitRequest$,f?f.commitRequest$:$.EMPTY).pipe((0,eC.mergeMap)(r=>n.pipe((0,ee.take)(1),(0,eC.mergeMap)(n=>{var i;return(0,en.from)(n?!function(e,t){let{resultRev:n,...r}=e;return r.mutations.flatMap(e=>{let t=Object.values(e);if(t.length>1)throw Error("Did not expect multiple mutations in the same payload");return t[0].id||t[0]._id}).every(e=>e===t)}(i=r.mutation.params,t.publishedId)?Om(e,t).observable.action(function(e,t){let n=t.mutations.flatMap(t=>{var n;if(t.createIfNotExists)return[];if(t.create)return function(e){if(!e._id)throw Error("Expected document to have an _id")}(t.create),{actionType:"sanity.action.document.create",publishedId:e.publishedId,attributes:t.create,ifExists:"fail"};if(t.patch)return{actionType:"sanity.action.document.edit",draftId:null!=(n=e.versionId)?n:e.draftId,publishedId:e.publishedId,patch:(0,uv.default)(t.patch,"id")};throw Error("Cannot map mutation to action")});return 0===n.length?[{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:{unset:["_empty_action_guard_pseudo_field_"]}}]:n}(t,i),{tag:"document.commit",transactionId:i.transactionId}):Ob(e,t,i):Ob(e,t,r.mutation.params)).pipe((0,eh.tap)({error:e=>{"statusCode"in e&&"number"==typeof e.statusCode&&e.statusCode>=400&&e.statusCode<=500?r.cancel(e):r.failure(e)},next:()=>r.success()}))})))),y=(0,G.defer)(()=>l?function(e){let{client:t,commits$:n,listenerEvents$:r,onReportLatency:i}=e,a=fetch(t.getUrl(t.getDataUrl("ping")),{signal:AbortSignal.timeout(2e4)}).then(e=>e.headers.get("X-Sanity-Shard")||void 0).catch(()=>{}),o=n.pipe((0,Z.map)(e=>({type:"submit",transactionId:e.transactionId,timestamp:new Date})),(0,eg.share)()),l=r.pipe((0,ew.filter)(e=>"mutation"===e.type),(0,Z.map)(e=>({type:"receive",transactionId:e.transactionId,timestamp:new Date})),(0,eg.share)());return(0,ei.merge)(o,l).pipe((0,eO.scan)((e,t)=>{let n=e.pending.findIndex(e=>e.transactionId===t.transactionId);if(n>-1){let r=e.pending[n],[i,a]="submit"==r.type?[r,t]:[t,r];return{event:{transactionId:t.transactionId,submittedAt:i.timestamp,receivedAt:i.timestamp,deltaMs:a.timestamp.getTime()-i.timestamp.getTime()},pending:e.pending.toSpliced(n,1)}}return{event:void 0,pending:e.pending.concat(t)}},{event:void 0,pending:[]}),(0,Z.map)(e=>e.event),(0,ew.filter)(e=>!!e),(0,eZ.withLatestFrom)(a),(0,eh.tap)(e=>{let[t,n]=e;return null==i?void 0:i({latencyMs:t.deltaMs,shard:n,transactionId:t.transactionId})}))}({commits$:g,listenerEvents$:u,client:e,onReportLatency:l}):(0,ei.merge)(g,u)).pipe((0,eC.mergeMap)(()=>$.EMPTY),(0,eg.share)());return{transactionsPendingEvents$:m,draft:{...p,events:(0,ei.merge)(y,d,p.events).pipe((0,Z.map)(Ov("draft"))),remoteSnapshot$:p.remoteSnapshot$.pipe((0,Z.map)(Ov("draft")))},...typeof f>"u"?{}:{version:{...f,events:(0,ei.merge)(y,d,f.events).pipe((0,Z.map)(Ov("version"))),remoteSnapshot$:f.remoteSnapshot$.pipe((0,Z.map)(Ov("version")))}},published:{...h,events:(0,ei.merge)(y,d,h.events).pipe((0,Z.map)(Ov("published"))),remoteSnapshot$:h.remoteSnapshot$.pipe((0,Z.map)(Ov("published")))}}}function OC(e,t){let n=Object.create(null);return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];let o=t(...i);return o in n||(n[o]=e(...i)),n[o]}}function Ok(e,t,n){var r,i,a;let o=e.config();return"".concat(null!=(r=o.dataset)?r:"","-").concat(null!=(i=o.projectId)?i:"","-").concat(t.publishedId,"-").concat(null!=(a=t.versionId)?a:"","-").concat(n)}let Ow=OC((e,t,n,r,i)=>new er.Observable(n=>{var a,o;let l=Ox(e,t,r,i);return(0,ei.merge)((0,Y.of)(l),l.draft.events.pipe((0,eC.mergeMap)(()=>$.EMPTY)),l.published.events.pipe((0,eC.mergeMap)(()=>$.EMPTY)),null!=(o=null==(a=l.version)?void 0:a.events.pipe((0,eC.mergeMap)(()=>$.EMPTY)))?o:$.EMPTY).subscribe(n)}).pipe((0,eg.share)({connector:()=>new ey.ReplaySubject(1),resetOnComplete:!0,resetOnRefCountZero:()=>(0,es.timer)(1e4)})),Ok);function O_(e){return"snapshot"===e.type}function Oj(e){return{snapshots$:e.events.pipe((0,ew.filter)(O_),(0,Z.map)(e=>e.document),(0,eG.publishReplay)(1),(0,e$.refCount)()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}let OS=OC((e,t,n,r,i)=>Ow(e,t,n,r,i).pipe((0,Z.map)(e=>{let{published:t,draft:n,version:r,transactionsPendingEvents$:i}=e;return{transactionsPendingEvents$:i,published:Oj(t),draft:Oj(n),...r?{version:Oj(r)}:{}}}),(0,eG.publishReplay)(1),(0,e$.refCount)()),Ok),OE=(e,t)=>{var n;return(null==(n=e.get(t))?void 0:n.liveEdit)===!0},OT=Ig({maxSize:50}),OD={enabled:!0},OI={enabled:!1},OA=OC((e,t,n)=>{let r=OE(e.schema,n),i="u">typeof t.versionId||r;return OS(e.client,t,n,e.serverActionsEnabled,e.extraOptions).pipe((0,Q.switchMap)(e=>(0,ev.combineLatest)([e.draft.snapshots$,e.published.snapshots$,e.transactionsPendingEvents$.pipe((0,Z.map)(e=>"begin"===e.phase?OD:OI),(0,eI.startWith)(OI)),typeof e.version>"u"?(0,Y.of)(null):e.version.snapshots$])),OT("".concat(t.publishedId,"-").concat(t.draftId,"-").concat(t.versionId)),(0,Z.map)(e=>{let{value:[a,o,l,s],fromCache:c}=e;return{id:t.publishedId,type:n,draft:a,published:o,version:typeof t.versionId>"u"?null:s,liveEdit:i,liveEditSchemaType:r,ready:!c,transactionSyncLock:c?null:l,release:t.versionId?(0,th.getVersionFromId)(t.versionId):void 0}}),(0,eI.startWith)({id:t.publishedId,type:n,draft:null,published:null,version:null,liveEdit:i,liveEditSchemaType:r,ready:!1,transactionSyncLock:null,release:t.versionId?(0,th.getVersionFromId)(t.versionId):void 0}),(0,eG.publishReplay)(1),(0,e$.refCount)())},(e,t,n)=>Ok(e.client,t,n)),OO=OC((e,t,n,r,i)=>Ow(e,t,n,r,i).pipe((0,Q.switchMap)(e=>{let{draft:t,published:n}=e;return(0,ev.combineLatest)([t.consistency$,n.consistency$])}),(0,Z.map)(e=>{let[t,n]=e;return t&&n}),(0,ed.distinctUntilChanged)(),(0,eG.publishReplay)(1),(0,e$.refCount)()),Ok),OP=OC((e,t,n)=>OS(e.client,t,n,e.serverActionsEnabled,e.pairListenerOptions).pipe((0,Q.switchMap)(r=>(0,ev.combineLatest)([r.draft.snapshots$,r.published.snapshots$,e.serverActionsEnabled,...typeof r.version>"u"?[]:[r.version.snapshots$]]).pipe((0,Z.map)(i=>{let[a,o,l,s]=i;return{...e,serverActionsEnabled:l,idPair:t,typeName:n,snapshots:{published:o,draft:a,...s?{version:s}:{}},...r.version?{version:r.version}:{},draft:r.draft,published:r.published}}))),(0,eG.publishReplay)(1),(0,e$.refCount)()),(e,t,n)=>Ok(e.client,t,n)),OM={disabled:()=>!1,execute:e=>{let{draft:t,published:n,version:r}=e;return null==r||r.commit(),t.commit(),n.commit(),$.EMPTY}},OF={disabled:e=>{let{snapshots:t}=e;return!t.draft&&!t.published&&"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:i}=e,a=Og(t,r).observable.transaction().delete(r.publishedId);return OE(n,i)?a.commit({tag:"document.delete"}):a.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}},OR={disabled:e=>{let{snapshots:t}=e;return t.draft?!t.published&&"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return Og(t,n).observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},OB=["_createdAt","_updatedAt"],ON=e=>e,OL={disabled:e=>{let{snapshots:t}=e;return!t.published&&!t.draft&&!t.version&&"NOTHING_TO_DUPLICATE"},execute:function(e,t){let{schema:n,client:r,snapshots:i,typeName:a,idPair:o}=e,{mapDocument:l=ON}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.version||i.draft||i.published;if(!s)throw Error("cannot execute on empty document");let c=(e=>{let{versionSnapshot:t,dupeId:n,liveEdit:r}=e;if(t){let e=(0,th.getVersionFromId)(t._id);if(e)return(0,th.getVersionId)(n,e)}return r?n:(0,th.getDraftId)(n)})({versionSnapshot:i.version,dupeId:t,liveEdit:OE(n,a)});return Og(r,o).observable.create((0,uv.default)(l({...s,_id:c,_type:s._type}),OB),{tag:"document.duplicate"})}},Oz={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:i,published:a,version:o,typeName:l}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;if(o)return void o.mutate([o.createIfNotExists({_type:l,...c}),...o.patch(s)]);OE(t,l)?a.mutate([a.createIfNotExists({_type:l,...c}),...a.patch(s)]):i.mutate([i.createIfNotExists({...c,...n.published,_id:r.draftId,_type:l}),...i.patch(s)])}},OV={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return OE(t,n)?"LIVE_EDIT_ENABLED":!r.draft&&(r.published?"ALREADY_PUBLISHED":"NO_CHANGES")},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw Error('cannot execute "publish" when draft is missing');let i=function e(t){return(0,W.isReference)(t)?t._strengthenOnPublish?(0,uv.default)(t,["_strengthenOnPublish"].concat(t._strengthenOnPublish.weak?[]:["_weak"])):t:"object"==typeof t&&t?Array.isArray(t)?t.map(e):Object.fromEntries(Object.entries(t).map(t=>{let[n,r]=t;return[n,e(r)]})):t}((0,uv.default)(r.draft,"_updatedAt")),a=Og(t,n).observable.transaction();if(!r.draft)throw Error('cannot execute "publish" when draft is missing');return r.published?(a.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),a.createOrReplace({...i,_id:n.publishedId,_type:r.draft._type})):a.create({...i,_id:n.publishedId,_type:r.draft._type}),a.delete(n.draftId),a.commit({tag:"document.publish",visibility:"async"})}},OU={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:i,typeName:a}=e,o=i.versionId?i.versionId:OE(r,a)?i.publishedId:i.draftId;return n.restore(i.publishedId,o,t)}},OH={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return OE(t,r)?"LIVE_EDIT_ENABLED":!n.published&&"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,i=Og(t,n).observable.transaction().delete(n.publishedId);return r.published&&(i=i.createIfNotExists({...(0,uv.default)(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),i.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Oq={disabled:e=>{let{snapshots:t}=e;return!t.draft&&!t.published&&"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:i,snapshots:a}=e;return OE(n,i)?t.observable.transaction().delete(r.publishedId).commit({tag:"document.delete"}):a.published?Om(t,r).observable.action({actionType:"sanity.action.document.delete",includeDrafts:a.draft?[r.draftId]:[],publishedId:r.publishedId},{tag:"document.delete",skipCrossDatasetReferenceValidation:!0}):Om(t,r).observable.action({actionType:"sanity.action.document.discard",draftId:r.draftId},{tag:"document.delete"})}},OW={disabled:e=>{let{snapshots:t}=e;return t.draft?!t.published&&"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return Om(t,n).observable.action({actionType:"sanity.action.document.discard",draftId:n.draftId},{tag:"document.discard-changes"})}},OY={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:i,published:a,version:o,typeName:l}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;if(o){let e=o.patch(s),t=n.version?o.patch([{unset:["_empty_action_guard_pseudo_field_"]}]):[o.create({...c,_id:r.draftId,_type:l})];o.mutate([...t,...e]);return}if(OE(t,l)){let e=a.patch(s),t=n.published?e:[a.createIfNotExists({_type:l,...c})];a.mutate(t);return}let u=i.patch(s);if(n.published)return void i.mutate([i.createIfNotExists({...c,...n.published,_id:r.draftId,_type:l}),...u]);let d=n.draft?i.patch([{unset:["_empty_action_guard_pseudo_field_"]}]):[i.create({...c,_id:r.draftId,_type:l})];i.mutate([...d,...u])}},OK={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return OE(t,n)?"LIVE_EDIT_ENABLED":!r.draft&&(r.published?"ALREADY_PUBLISHED":"NO_CHANGES")},execute:e=>{var t;let{client:n,idPair:r,snapshots:i}=e;if(!i.draft)throw Error('cannot execute "publish" when draft is missing');return Om(n,r).observable.action({actionType:"sanity.action.document.publish",draftId:r.draftId,publishedId:r.publishedId,ifPublishedRevisionId:null==(t=i.published)?void 0:t._rev},{tag:"document.publish"})}},OG={disabled:()=>!1,execute:(e,t)=>{let{snapshots:n,historyStore:r,schema:i,idPair:a,typeName:o}=e,l=a.versionId?a.versionId:OE(i,o)?a.publishedId:a.draftId;return r.restore(a.publishedId,l,t,{fromDeleted:!n.draft&&!n.published,useServerDocumentActions:!0})}},O$={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return OE(t,r)?"LIVE_EDIT_ENABLED":!n.published&&"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n}=e;return Om(t,n).observable.action({actionType:"sanity.action.document.unpublish",draftId:n.draftId,publishedId:n.publishedId},{tag:"document.unpublish",skipCrossDatasetReferenceValidation:!0})}},OZ={del:OF,delete:OF,publish:OV,patch:Oz,commit:OM,discardChanges:OR,unpublish:OH,duplicate:OL,restore:OU},OX={...OZ,del:Oq,delete:Oq,discardChanges:OW,patch:OY,publish:OK,unpublish:O$,restore:OG},OJ=new ea.Subject;function OQ(e,t,n,r){OJ.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}let O1=["publish","unpublish","discardChanges","delete"],O2=OC(e=>{let t=OJ.pipe((0,eX.groupBy)(e=>e.idPair.publishedId),(0,eC.mergeMap)(t=>t.pipe((0,Q.switchMap)(t=>OP(e,t.idPair,t.typeName).pipe((0,ee.take)(1),(0,Q.switchMap)(n=>{let r=O1.includes(t.operationName);r&&(n.published.commit(),n.draft.commit());let i=OO(e.client,t.idPair,t.typeName,e.serverActionsEnabled,e.extraOptions).pipe((0,ew.filter)(Boolean));return(r?i.pipe((0,ee.take)(1)):(0,Y.of)(!0)).pipe((0,Q.switchMap)(()=>((e,t,n,r)=>{let i=r?OX[e]:OZ[e];return(0,G.defer)(()=>(0,ei.merge)((0,Y.of)(null),function(e){return typeof e>"u"?(0,Y.of)(null):e}(i.execute(t,...n)))).pipe((0,eQ.last)())})(t.operationName,n,t.extraArgs,n.serverActionsEnabled)))}),(0,Z.map)(()=>({type:"success",args:t})),(0,J.catchError)(e=>(0,Y.of)({type:"error",args:t,error:e})))))),(0,eg.share)()),n=t.pipe((0,ew.filter)(e=>"success"===e.type&&"patch"===e.args.operationName),(0,eJ.throttleTime)(1e3,eb.asyncScheduler,{leading:!0,trailing:!0}),(0,et.concatMap)(e=>window.SLOW?(0,es.timer)(1e4).pipe((0,Z.map)(()=>e)):(0,Y.of)(e)),(0,eh.tap)(e=>{OQ("commit",e.args.idPair,e.args.typeName,[])}));return(0,ei.merge)(t,n.pipe((0,eY.mergeMapTo)($.EMPTY)))},e=>{var t,n;let r=e.client.config();return"".concat(null!=(t=r.dataset)?t:"","-").concat(null!=(n=r.projectId)?n:"").concat(e.serverActionsEnabled?"-serverActionsEnabled":"")}),O0=OC((e,t,n,r,i)=>Ow(e,t,n,r,i).pipe((0,Q.switchMap)(e=>{var t;let{published:n,draft:r,version:i}=e;return(0,ei.merge)(n.remoteSnapshot$,r.remoteSnapshot$,null!=(t=null==i?void 0:i.remoteSnapshot$)?t:$.EMPTY)})),Ok);function O5(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t,n)=>{let r=typeof t;if("number"===r)return"".concat(e,"[").concat(t,"]");if("string"===r)return"".concat(e).concat(0===n?"":".").concat(t);if((0,W.isKeyedObject)(t))return"".concat(e,'[_key=="').concat(t._key,'"]');throw Error('Unsupported path segment "'.concat(t,'"'))},"")}function O7(e){return null!==e||void 0!==e}function O3(e,t,n){if(!n)throw Error("missing context");if(!0===e)return[];if(Array.isArray(e))return e.flatMap(e=>O3(e,t,n)).filter(O7);if("string"==typeof e)return O3({message:e},t,n);if("string"!=typeof e.message)throw Error("".concat(O5(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));let{message:r}=e,i=[];for(let t of(e.path&&i.push(e.path),e.paths||[]))i.push(t);return i.length?i.map(e=>({path:(n.path||[]).concat(e),level:t||"error",item:{message:r},message:r})):[{level:t||"error",item:{message:r},message:r,path:n.path||[]}]}function O8(e,t){let{currentLocale:n}=t,r=n.id;if(e[r])return e[r];if(r.includes("-")){let t=r.split("-",1)[0];if(e[t])return e[t]}return e["en-US"]||e["en-GB"]||e.en||"Unknown validation error (not localized)"}function O4(e){return!0!==e&&"u">typeof e&&"string"!=typeof e&&(0,nE.default)(e)&&!("message"in e)}function O6(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!O6(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let e=0;e<n.length;e++)if("_key"!==n[e]&&!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let r=0;r<n.length;r++){let i=n[r];if("_key"!==i&&!O6(e[i],t[i]))return!1}return!0}return!1}let O9={}.toString,Pe=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Pt(e){let t=O9.call(e).slice(8,-1);if(null==e)return t.toLowerCase();let n=e.constructor;return n&&!function(e){for(let t=0;t<Pe.length;t++)if(Pe[t]===e)return!0;return!1}(n)?n.name:t}let Pn=e=>{var t;return e.message?e.message:1===e.results.length?null==(t=e.results[0])?void 0:t.message:e.i18n.t("{{messages, list}}",{messages:e.results.map(e=>{var t;return e.message||(null==(t=e.item)?void 0:t.message)}),formatParams:{messages:{style:"long",type:e.operation}}})},Pr={type:(e,t,n,r)=>{let{i18n:i}=r,a=Pt(t);return a===e||"undefined"===a||n||i.t("validation:generic.incorrect-type",{actualType:a,expectedType:e})},presence:(e,t,n,r)=>{let{i18n:i}=r;return void 0!==t||"required"!==e||n||i.t("validation:generic.required")},all:async(e,t,n,r)=>{let i=(await Promise.all(e.map(e=>e.validate(t,r)))).flat();return 0===i.length||Pn({message:n,results:i,operation:"conjunction",i18n:r.i18n})},either:async(e,t,n,r)=>{let i=await Promise.all(e.map(e=>e.validate(t,r))),a=i.flat();return!!i.find(e=>!e.length)||Pn({message:n,results:a,operation:"disjunction",i18n:r.i18n})},valid:(e,t,n,r)=>{let{i18n:i}=r,a=typeof t;if("undefined"===a)return!0;let o=("number"===a||"string"===a)&&"".concat(t),l=o&&o.length>30?"".concat(o.slice(0,30),"…"):o;return!!e.some(e=>O6(e,t))||n||i.t("validation:generic.not-allowed",o?{context:"hint",replace:{hint:l}}:{})},custom:async(e,t,n,r)=>{let i,a=setTimeout(()=>{"studio"===r.environment&&console.warn("Custom validator at ".concat(O5(r.path)," has taken more than ").concat(5e3,"ms to respond"))},5e3);try{i=await e(t,r)}finally{clearTimeout(a)}return O4(i)?O8(i,r.i18n):"string"==typeof i&&n||i}},Pi={...Pr,min:(e,t,n,r)=>{let{i18n:i,type:a}=r;if(!t||t.length>=e)return!0;let o=(0,W.isArrayOfBlocksSchemaType)(a)?"blocks":void 0;return n||i.t("validation:array.minimum-length",{minLength:e,context:o})},max:(e,t,n,r)=>{let{i18n:i,type:a}=r;if(!t||t.length<=e)return!0;let o=(0,W.isArrayOfBlocksSchemaType)(a)?"blocks":void 0;return n||i.t("validation:array.maximum-length",{maxLength:e,context:o})},length:(e,t,n,r)=>{let{i18n:i,type:a}=r;if(!t||t.length===e)return!0;let o=(0,W.isArrayOfBlocksSchemaType)(a)?"blocks":void 0;return n||i.t("validation:array.exact-length",{wantedLength:e,context:o})},presence:(e,t,n,r)=>{let{i18n:i}=r;return"required"!==e||!!t||n||i.t("validation:generic.required",{context:"array"})},valid:(e,t,n,r)=>{let{i18n:i}=r;if(typeof t>"u")return!0;let a=[];for(let n=0;n<t.length;n++){let r=t[n];if(e.some(e=>O6(e,r)))continue;let i=r&&r._key?{_key:r._key}:n;a.push([i])}let o=n||i.t("validation:generic.not-allowed");return a.map(e=>({message:o,path:e}))},unique:(e,t,n,r)=>{let{i18n:i}=r,a=[];if(!t)return!0;for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)O6(t[e],t[n])&&(-1===a.indexOf(e)&&a.push(e),-1===a.indexOf(n)&&a.push(n));let o=a.map(e=>{let n=t[e];return[n&&n._key?{_key:n._key}:e]}),l=n||i.t("validation:array.item-duplicate");return o.map(e=>({message:l,path:e}))}},Pa={...Pr,presence:(e,t,n,r)=>{let{i18n:i}=r;return"required"!==e||"boolean"==typeof t||n||i.t("validation:generic.required",{context:"boolean"})}};function Po(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let Pl=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Ps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=(null==n?void 0:n.dateFormat)||tm.DEFAULT_DATE_FORMAT,i=(null==n?void 0:n.timeFormat)||tm.DEFAULT_TIME_FORMAT;return tm.format(t,"date"===e?r:"".concat(r," ").concat(i),{useUTC:"date"===e})};function Pc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;if("now"===e)return new Date;let n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}let Pu={...Pr,type:(e,t,n,r)=>{let{i18n:i}=r;return!!(typeof t>"u"||Pl.test("".concat(t)))||n||i.t("validation:date.invalid-format")},min:(e,t,n,r)=>{let{type:i,i18n:a}=r,o=Pc(t),l=Pc(e,!0);if(!o||!t||o>=l)return!0;if(!i)throw Error("`type` was not provided in validation context.");let s=Po(i.options)?i.options:{};return n||a.t("validation:date.minimum",{minDate:Ps(i.name,l,s),providedMinDate:e})},max:(e,t,n,r)=>{let{type:i,i18n:a}=r,o=Pc(t),l=Pc(e,!0);if(!o||!t||o<=l)return!0;if(!i)throw Error("`type` was not provided in validation context.");let s=Po(i.options)?i.options:{};return n||a.t("validation:date.maximum",{maxDate:Ps(i.name,l,s),providedMaxDate:e})}},Pd=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Pp={...Pr,integer:(e,t,n,r)=>{let{i18n:i}=r;return!!Number.isInteger(t)||n||i.t("validation:number.non-integer")},precision:(e,t,n,r)=>{let{i18n:i}=r;if(void 0===t)return!0;let a=t.toString().match(Pd);return!(Math.max((a[1]?a[1].length:0)-(a[2]?parseInt(a[2],10):0),0)>e)||n||i.t("validation:number.maximum-precision",{limit:e})},min:(e,t,n,r)=>{let{i18n:i}=r;return t>=e||n||i.t("validation:number.minimum",{minNumber:e})},max:(e,t,n,r)=>{let{i18n:i}=r;return t<=e||n||i.t("validation:number.maximum",{maxNumber:e})},greaterThan:(e,t,n,r)=>{let{i18n:i}=r;return t>e||n||i.t("validation:number.greater-than",{threshold:e})},lessThan:(e,t,n,r)=>{let{i18n:i}=r;return t<e||n||i.t("validation:number.less-than",{threshold:e})}},Pf=["_key","_type","_weak"],Ph={...Pr,presence:(e,t,n,r)=>{let{i18n:i}=r;if("required"!==e)return!0;let a=t&&Object.keys(t).filter(e=>!Pf.includes(e));return void 0!==t&&(!a||0!==a.length)||n||i.t("validation:generic.required",{context:"object"})},reference:async(e,t,n,r)=>{if(!t)return!0;let{type:i,document:a,getDocumentExists:o,i18n:l}=r;if(!(0,W.isReference)(t))return n||l.t("validation:object.not-reference");if(!i)throw Error("`type` was not provided in validation context");if("weak"in i&&i.weak)return!0;if(!o)throw Error("`getDocumentExists` was not provided in validation context");let s=null==a?void 0:a._id;return!!(s&&t._ref==(0,th.getPublishedId)(s)||await o({id:t._ref}))||l.t("validation:object.reference-not-published",{documentId:t._ref})},assetRequired:(e,t,n,r)=>{let{i18n:i}=r;return!!t&&!!t.asset&&!!t.asset._ref||n||i.t("validation:object.asset-required",{context:e.assetType||""})},media:async(e,t,n,r)=>{let i=setTimeout(()=>{"studio"===r.environment&&console.warn("Media validator at ".concat(O5(r.path)," has taken more than ").concat(5e3,"ms to respond"))},5e3);if(!t)return!0;if(!t||!t.media||!t.media._ref)return r.i18n.t("validation:object.not-media-library-asset");let a=!0;try{let[n,i,o]=t.media._ref.split(":",3),l=await r.getClient({apiVersion:"2025-02-19"}).withConfig({"~experimental_resource":{type:n,id:i}}).fetch("*[_id == $id] { ..., 'currentVersion': @.currentVersion-> { ... }  }[0]",{id:o});if(!l)return console.warn("".concat(r.i18n.t("validation:object.media-not-found"),"\nAsset ID: ").concat(t.media._ref)),r.i18n.t("validation:object.media-not-found");a=await e({media:{asset:l},value:t},r)}catch(e){throw Error("Media validator at ".concat(O5(r.path)," failed with an error: ").concat(e instanceof Error?e.message:String(e)),{cause:e})}finally{clearTimeout(i)}return O4(a)?O8(a,r.i18n):"string"==typeof a&&n||a}},Pm="http://sanity",Pg=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Py={Boolean:Pa,Number:Pp,String:{...Pr,min:(e,t,n,r)=>{let{i18n:i}=r;return!t||t.length>=e||n||i.t("validation:string.minimum-length",{minLength:e})},max:(e,t,n,r)=>{let{i18n:i}=r;return!t||t.length<=e||n||i.t("validation:string.maximum-length",{maxLength:e})},length:(e,t,n,r)=>{let{i18n:i}=r;return(t||"").length===e||n||i.t("validation:string.exact-length",{wantedLength:e})},uri:(e,t,n,r)=>{let i,{i18n:a}=r,o=t||"";if(!o)return!0;let{options:l}=e,{allowCredentials:s,relativeOnly:c}=l,u=l.allowRelative||c;try{i=u?new URL(o,Pm):new URL(o)}catch(e){return n||a.t("validation:string.url.invalid")}if(c&&i.origin!==Pm)return n||a.t("validation:string.url.not-relative");if(!u&&i.origin===Pm&&/^\.*\//.test(o))return n||a.t("validation:string.url.not-absolute");if(!s&&(i.username||i.password))return n||a.t("validation:string.url.includes-credentials");let d=i.protocol.replace(/:$/,"");return!!l.scheme.some(e=>e.test(d))||n||a.t("validation:string.url.disallowed-scheme",{scheme:d})},stringCasing:(e,t,n,r)=>{let{i18n:i}=r,a=t||"";return"uppercase"===e&&a!==a.toLocaleUpperCase()?n||i.t("validation:string.uppercase"):"lowercase"!==e||a===a.toLocaleLowerCase()||n||i.t("validation:string.lowercase")},presence:(e,t,n,r)=>{let{i18n:i}=r;return"required"!==e||!!t||n||i.t("validation:generic.required",{context:"string"})},regex:(e,t,n,r)=>{let{i18n:i}=r,{pattern:a,name:o,invert:l}=e,s=o||"".concat(a.toString());a.lastIndex=0;let c=a.test(t||"");return(!!l||!!c)&&(!l||!c)||n||(l?i.t("validation:string.regex-match",{name:s}):i.t("validation:string.regex-does-not-match",{name:s}))},email:(e,t,n,r)=>{let{i18n:i}=r,a="".concat(t||"").trim();return!!(!a||Pg.test(a))||n||i.t("validation:string.email")}},Array:Pi,Object:Ph,Date:Pu},Pv=[],Pb=(x=class e extends nh.Rule{clone(){let t=new e;return t._type=this._type,t._message=this._message,t._required=this._required,t._rules=[...this._rules],t._level=this._level,t._fieldRules=this._fieldRules,t._typeDef=this._typeDef,t}async validate(e,t){let{__internal:n={},...r}=t,{customValidationConcurrencyLimiter:i}=n,a=null==e;if(a&&"optional"===this._required)return Pv;let o=void 0===this._required&&a?this._rules.filter(e=>"custom"===e.flag):this._rules,l=this._type&&Py[this._type]||Pr;return(await Promise.all(o.map(async t=>{let n;if(void 0===t.flag)throw Error('Invalid rule, did not contain "flag"-property');let a=l[t.flag];if(!a){let e=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw Error('Validator for flag "'.concat(t.flag,'" not found for ').concat(e))}let o="constraint"in t?t.constraint:null;if("object"==typeof(n=o)&&n&&n.type===Pb.FIELD_REF&&(o=(0,n_.default)(r.parent,o.path)),"custom"===t.flag&&i&&!(null==o?void 0:o.bypassConcurrencyLimit)){let e=o;o=async function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];await i.ready();try{return await e(...n)}finally{i.release()}}}let s=O4(this._message)?O8(this._message,r.i18n):this._message;try{let t=await a(o,e,s,r);return O3(t,this._level,r)}catch(e){return O3({message:"".concat(O5(r.path),": Exception occurred while validating value: ").concat(e.message)},"error",r)}}))).flat()}},(0,k._)(x,"array",e=>new x(e).type("Array")),(0,k._)(x,"object",e=>new x(e).type("Object")),(0,k._)(x,"string",e=>new x(e).type("String")),(0,k._)(x,"number",e=>new x(e).type("Number")),(0,k._)(x,"boolean",e=>new x(e).type("Boolean")),(0,k._)(x,"dateTime",e=>new x(e).type("Date")),x),Px=(0,e6.default)(function(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method\nTo disable this message, set `disableArrayWarning: true` on the slug `options` field'].join("\n"))});function PC(e){return e.reduce((e,t,n)=>{let r="number"==typeof t,i=(0,W.isKeyedObject)(t),a=r||i?"[]":"".concat(0===n?"":".").concat(t);return"".concat(e).concat(a)},"")}let Pk=(e,t)=>{let{getClient:n,document:r,path:i,type:a}=t,o=null==a?void 0:a.options;if(!r)throw Error("`document` was not provided in validation context.");if(!i)throw Error("`path` was not provided in validation context.");let l=(null==o?void 0:o.disableArrayWarning)||!1,s=r._type,c=PC(i.concat("current"));!l&&c.includes("[]")&&"studio"===t.environment&&Px(PC(i));let u=["_type == $docType","!sanity::versionOf($published)","".concat(c," == $slug")].join(" && ");return n({apiVersion:AE.apiVersion}).withConfig({perspective:"raw"}).fetch("!defined(*[".concat(u,"][0]._id)"),{docType:s,published:(0,th.getPublishedId)(r._id),slug:e},{tag:"validation.slug-is-unique"})},Pw=async(e,t)=>{var n,r;if(!e)return!0;let{i18n:i}=t;if("object"!=typeof e||Array.isArray(e))return i.t("validation:slug.not-object");if(!(0,W.isSlug)(e)||0===e.current.trim().length)return i.t("validation:slug.missing-current");let a=(null==t||null==(r=t.type)||null==(n=r.options)?void 0:n.isUnique)||Pk,o={...t,parent:t.parent,type:t.type,defaultIsUnique:Pk};return!!await a(e.current,o)||i.t("validation:slug.not-unique",{slug:e.current})},P_={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0};function Pj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return e?t.has(e)?[]:(t.add(e),[...e.type?Pj(e.type,t):[],e]):[]}function PS(e,t){let n=e;t.jsonType in P_&&(n=n.type(t.jsonType));let r=(null==t?void 0:t.options)&&"object"==typeof t.options&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(e=>{var n,r;return n=e,"object"===(r=t).jsonType&&function e(t){return!!t&&("fields"in t||!t.type?"fields"in t&&!!Array.isArray(t.fields)&&t.fields.some(e=>"value"===e.name):e(t.type))}(r)||void 0===n.value?n:n.value}))),"datetime"===t.name||"date"===t.name?n.type("Date"):"url"===t.name?n.uri():"slug"===t.name?n.custom(Pw,{bypassConcurrencyLimit:!0}):"reference"===t.name?n.reference():"email"===t.name?n.email():n}function PE(e){if(!e)return[];let t=e.validation;if(Array.isArray(t))return t.flatMap(t=>PE({...e,validation:t}));if(t&&"object"==typeof t)return[t];let n=Object.values(Pj(e).reduce((e,t)=>(e[t.name]=t,e),{})).reduce(PS,new Pb(e));return t?PE({...e,validation:t(n)}):[n]}function PT(e){return e.getLocalTypeNames().forEach(t=>{let n=e.get(t);n&&function e(t,n){if(!n.has(t)){if(n.add(t),t.validation=PE(t),"fields"in t)for(let r of t.fields)e(r.type,n);if("of"in t)for(let r of t.of)e(r,n);if(t.annotations)for(let r of t.annotations)e(r,n)}}(n,new Set)}),e}let PD=typeof window>"u"||typeof document>"u",PI=[DG],PA=(0,e6.default)(function(){let e=function(){var e;let t={[DG.id]:{}},n=(null==(e=DG.bundles)?void 0:e.filter(DW))||[],r=new Set;for(let e of n)t[DG.id][e.namespace]=e.resources,r.add(e.namespace);return(0,tb.createInstance)({ns:Array.from(r),defaultNS:DK,initImmediate:!0,partialBundledLanguages:!0,fallbackLng:DG.id,lng:DG.id,supportedLngs:[DG.id],debug:!1,load:"currentOnly",resources:t,interpolation:{escapeValue:PD}})}();return e.init(),{currentLocale:DG,locales:PI,loadNamespaces:e.loadNamespaces,t:e.t}}),PO=typeof window>"u"?void 0:window,PP=(null==PO?void 0:PO.requestIdleCallback)||function(e,t){let n=Date.now();return window.setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,Date.now()-n)})},0)},PM=(null==PO?void 0:PO.cancelIdleCallback)||function(e){return window.clearTimeout(e)},PF=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),PR=e=>null!=e,PB=new WeakMap;function PN(e){let{value:t,type:n,path:r=[],parent:i,customValidationConcurrencyLimiter:a,environment:o,...l}=e,s=e=>(null==n?void 0:n.jsonType)==="object"&&Pj(n).find(e=>["object","document","file","image"].includes(e.name))&&"studio"!==o?e.custom(e=>{var t;if("object"!=typeof e||!e)return!0;let r=new Set(null==(t=n.fields)?void 0:t.map(e=>e.name));return Object.keys(e).filter(e=>!e.startsWith("_")).filter(e=>!r.has(e)).map(e=>({message:"Field '".concat(e,"' does not exist on type '").concat(n.name,"'"),path:[e]}))},{bypassConcurrencyLimit:!0}).warning():e,c=PE(n),u=c.map(s).map(e=>(0,G.defer)(()=>e.validate(t,{...l,environment:o,parent:i,path:r,type:n,__internal:{customValidationConcurrencyLimiter:a}}))),d=[],p=c.some(e=>e.isRequired());if((null==n?void 0:n.jsonType)==="object"&&(t||null==t&&p)){let e=n.fields.reduce((e,t)=>(e[t.name]=t.type,e),{});d=(d=d.concat(c.map(e=>e._fieldRules).filter(PR).flatMap(e=>Object.entries(e)).flatMap(n=>{let[i,c]=n,u=e[i];return PE({...u,validation:c}).map(s).map(e=>{let n=PF(t)?t[i]:void 0;return(0,G.defer)(()=>e.validate(n,{...l,parent:t,path:r.concat(i),type:u,environment:o,__internal:{customValidationConcurrencyLimiter:a}}))})}))).concat(n.fields.map(e=>PN({...l,parent:t,value:PF(t)?t[e.name]:void 0,path:r.concat(e.name),type:e.type,environment:o,customValidationConcurrencyLimiter:a})))}return(null==n?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(d=d.concat(t.map((e,i)=>PN({...l,parent:t,value:e,path:r.concat((0,W.isKeyedObject)(e)?{_key:e._key}:i),type:function(e,t){if(1===t.length)return t[0];let n=(0,W.isTypedObject)(e)&&e._type,r=null==e||!n&&Pt(e).toLowerCase();return r&&"object"!==r?t.find(e=>e.jsonType===r):t.find(e=>{var t;return(null==(t=e.type)?void 0:t.name)===n})||t.find(e=>e.name===n)||t.find(e=>"object"===e.name&&"object"===r)}(e,n.of),environment:o,customValidationConcurrencyLimiter:a})))),(0,G.defer)(()=>(0,ei.merge)([...u,...d])).pipe((0,eC.mergeMap)(e=>(0,K.concat)(new er.Observable(e=>{let t=PP(()=>{e.complete()},void 0);return()=>PM(t)}),e),40),(0,e1.mergeAll)(),(0,eV.toArray)(),(0,Z.map)(td.default),(0,Z.map)(e=>c.some(e=>e._fieldRules)?(0,ns.default)(e,e=>JSON.stringify(e)):e))}let PL={isValidating:!0,validation:[]},Pz=[];function PV(){return(0,ep.shareReplay)({bufferSize:1,refCount:!0})}function PU(e,t){let n=t.pipe((0,Z.map)(e=>(0,b6.reduce)(e,(e,t)=>((0,W.isReference)(t)&&!(0,W.isGlobalDocumentReference)(t)&&e.add(t._ref),e),new Set)),(0,eC.mergeMap)(e=>(0,en.from)(e))),r=t.pipe((0,Z.map)(e=>({versionId:(0,th.getVersionFromId)((null==e?void 0:e._id)||"")})),(0,ed.distinctUntilChanged)()),i=(0,ev.combineLatest)([r,n]).pipe((0,eX.groupBy)(e=>{let[t,n]=e;return n},{duration:()=>(0,es.timer)(18e5)}),(0,eC.mergeMap)(t=>t.pipe((0,e2.distinct)(),(0,eC.mergeMap)(t=>{let[{versionId:n},r]=t;return(0,e.observeDocumentPairAvailability)(r,{version:n}).pipe((0,Z.map)(e=>{let{published:t,version:n}=e;return(!!(null==n?void 0:n.available)||(null==n?void 0:n.reason)!=="VERSION_DELETED")&&(t.available||(null==n?void 0:n.available)||!1)})).pipe((0,Z.map)(e=>[r,e]))}))),(0,eO.scan)((e,t)=>{let[n,r]=t;return e[n]===r?e:{...e,[n]:r}},{}),(0,ed.distinctUntilChanged)(nP.default),PV()),a=e=>{let{id:t}=e;return(0,e_.lastValueFrom)(i.pipe((0,e0.first)(e=>t in e),(0,Z.map)(e=>e[t])))},o=i.pipe((0,eN.skip)(1),(0,eJ.throttleTime)(1e3,eb.asyncScheduler,{leading:!0,trailing:!0}));return(0,ev.combineLatest)([t,(0,K.concat)((0,Y.of)(null),o)]).pipe((0,Z.map)(e=>{let[t]=e;return t}),b3(t=>(0,G.defer)(()=>(null==t?void 0:t._type)?(0,K.concat)((0,Y.of)({isValidating:!0,revision:t._rev}),(function(e){let{document:t,getClient:n,i18n:r=PA(),schema:i,getDocumentExists:a,environment:o,maxCustomValidationConcurrency:l}=e;if("string"!=typeof(null==t?void 0:t._type))throw Error("Tried to validated a value without a '_type'");let s=i.get(t._type);if(!s)return"studio"===o?(console.warn('Schema type for object type "%s" not found, skipping validation',t._type),(0,Y.of)([])):(0,Y.of)([{level:"warning",message:"Could not find schema type for type '".concat(t._type,"', skipping validation"),path:[]}]);let c=PB.get(i);c||(c=new b9(null!=l?l:5),PB.set(i,c));let u={getClient:n,schema:i,parent:void 0,value:t,path:[],document:t,type:s,i18n:r,getDocumentExists:a,environment:o,customValidationConcurrencyLimiter:c};return(0,en.from)(r.loadNamespaces(["validation"])).pipe((0,Q.switchMap)(()=>PN(u)),(0,J.catchError)(e=>{console.error(e);let t=(null==e?void 0:e.message)||"Unknown error";return(0,Y.of)([{level:"error",message:t,item:{message:t},path:[]}])}))})({document:t,getClient:e.getClient,getDocumentExists:a,i18n:e.i18n,schema:e.schema,environment:"studio"}).pipe((0,Z.map)(e=>({validation:e,isValidating:!1})))):(0,Y.of)({validation:Pz,isValidating:!1}))),(0,eO.scan)((e,t)=>({...e,...t}),PL),PV())}let PH=OC((e,t,n)=>{let{draftId:r,publishedId:i,versionId:a}=t,o=OA(e,{draftId:r,publishedId:i,versionId:a},n).pipe((0,Z.map)(e=>{let{version:t,draft:n,published:r}=e;return t||n||r}),(0,eJ.throttleTime)(200,eb.asyncScheduler,{trailing:!0}),(0,ed.distinctUntilChanged)((e,t)=>(null==e?void 0:e._rev)===(null==t?void 0:t._rev)||(0,nP.default)((0,uv.default)(e,"_rev","_updatedAt"),(0,uv.default)(t,"_rev","_updatedAt"))),(0,ep.shareReplay)({bufferSize:1,refCount:!0}));return PU(e,o)},(e,t,n)=>Ok(e.client,t,n)),Pq=OC((e,t,n,r,i)=>Ow(e,t,n,r,i).pipe((0,Q.switchMap)(e=>{let{draft:t,published:n}=e;return(0,ei.merge)(t.events,n.events)})),Ok);function PW(e){return{disabled:"NOT_READY",execute:()=>{throw Error("Called ".concat(e," before it was ready."))}}}let PY={commit:PW("commit"),delete:PW("delete"),del:PW("del"),publish:PW("publish"),patch:PW("patch"),discardChanges:PW("discardChanges"),unpublish:PW("unpublish"),duplicate:PW("duplicate"),restore:PW("restore")};function PK(e,t,n){let r,i;return{disabled:t.disabled(n),execute:(r=n.idPair,i=n.typeName,function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return OQ(e,r,i,n)})}}function PG(e){let t={commit:PK("commit",OM,e),delete:PK("delete",OF,e),del:PK("delete",OF,e),publish:PK("publish",OV,e),patch:PK("patch",Oz,e),discardChanges:PK("discardChanges",OR,e),unpublish:PK("unpublish",OH,e),duplicate:PK("duplicate",OL,e),restore:PK("restore",OU,e)};return e.serverActionsEnabled?{...t,delete:PK("delete",Oq,e),del:PK("delete",Oq,e),discardChanges:PK("discardChanges",OW,e),patch:PK("patch",OY,e),publish:PK("publish",OK,e),unpublish:PK("unpublish",O$,e),restore:PK("restore",OG,e)}:t}let P$=OC((e,t,n)=>{let r=O2(e),i=OP(e,t,n).pipe((0,Z.map)(PG));return(0,K.concat)((0,Y.of)(PY),(0,ei.merge)(r.pipe((0,eC.mergeMap)(()=>$.EMPTY)),i)).pipe((0,ep.shareReplay)({refCount:!0,bufferSize:1}))},(e,t,n)=>Ok(e.client,t,n));function PZ(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"scheduler"in window&&"function"==typeof(null==(t=window.scheduler)?void 0:t.postTask)?window.scheduler.postTask(e,n):e()}function PX(e){return(0,nE.default)(e)}function PJ(e,t){let n={...e,...t};return Object.keys(n).forEach(r=>{let i=t[r],a=e[r];PX(i)&&PX(a)&&(n[r]=PJ(a,i))}),n}let PQ=["_dataset","_projectId","_strengthenOnPublish","_key","_ref","_type","_weak"];function P1(e){return e&&e.length>0?'"'.concat(e,'"'):e}function P2(e,t){let n=e=>'Template "'.concat(t.id,'" initial value: ').concat(e);if(!PX(e))throw Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))return t.map((t,r)=>{if(Array.isArray(t))throw Error('multidimensional arrays are not supported (at path "'.concat((0,S.toString)(n),'")'));return e(t,n.concat(r),!0)});if(!PX(t))return t;let i=r&&!t._key?{_key:(0,nw.randomKey)()}:{};return n.length>0&&!t._type&&t._ref&&(i._type="reference"),t._ref&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e._type&&e.type)throw Error('Reference is missing "_type", but has a "type" property at path "'.concat((0,S.toString)(t),'"'));let n=Object.keys(e).filter(e=>!PQ.includes(e));if(n.length>0){let e=n.length>1?"properties":"property";throw Error("Disallowed ".concat(e," found in reference: ").concat(n.map(P1).join(", "),' at path "').concat((0,S.toString)(t),'"'))}}(t,n),Object.keys(t).reduce((r,i)=>(r[i]=e(t[i],n.concat([i])),r),i)}(e)}catch(e){throw e.message=n(e.message),e}}let P0=new WeakMap;async function P5(e,t,n,r){let i=null==r?void 0:r.useCache;if("function"==typeof e){var a;let r=P0.get(e),o=JSON.stringify([t,n.projectId,n.dataset,null==(a=n.currentUser)?void 0:a.id]);if(i&&(null==r?void 0:r[o]))return r[o];let l=e(t,n);return i&&P0.set(e,{...r,[o]:l}),l}return e}async function P7(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(PX(t)&&"function"==typeof t.serialize)return P7(e,t.serialize(),n,r,i);let{id:a,schemaType:o,value:l}=t;if(!l)throw Error('Template "'.concat(a,'" has invalid "value" property'));let s=await P5(l,n,r,i);if(!PX(s))throw Error('Template "'.concat(a,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));PX(s)&&!Object.keys(s).length&&(s={_type:o}),s=P2(s,t);let c=e.get(o);if(!c)throw Error('Could not find schema type with name "'.concat(o,'".'));return P2(PJ(await P8(c,n,P3,r,i)||{},s),t)}let P3=10,P8=(e=>{let t=new WeakMap,n=e=>null!==e&&"object"==typeof e?Array.isArray(e)?"[".concat(e.map(n).join(","),"]"):"{".concat(Object.keys(e).sort().map(t=>"".concat(JSON.stringify(t),":").concat(n(e[t]))).join(","),"}"):JSON.stringify(e);return async function(r,i,a,o,l){var s;if(!(null==l?void 0:l.useCache))return e(r,i,a,o,l);let c=t.get(r);c||(c=new Map,t.set(r,c));let u=n({params:i,context:{schemaName:o.schema.name,projectId:o.projectId,dataset:o.dataset,currentUser:null==(s=o.currentUser)?void 0:s.id}}),d=c.get(u);if(d)return d;let p=await e(r,i,a,o,l);return c.has(u)||c.set(u,p),p}})(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P3,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return n<=0?Promise.resolve(void 0):(0,W.isObjectSchemaType)(e)?PZ(()=>P6(e,t,n,r,i)):(0,W.isArraySchemaType)(e)?PZ(()=>P4(e,t,n,r,i)):P5(e.initialValue,t,r,i)});async function P4(e,t,n,r,i){let a=await P5(e.initialValue,void 0,r,i);if(Array.isArray(a))return Promise.all(a.map(async a=>{let o=function(e,t){let n=(0,nw.resolveTypeName)(t);return"object"===n&&1===e.of.length?e.of[0]:e.of.find(e=>e.name===n)}(e,a);return(0,W.isObjectSchemaType)(o)?{...a,...await P8(o,t,n-1,r,i),_key:(0,nw.randomKey)()}:a}))}async function P6(e,t,n,r,i){let a={...await P5(e.initialValue,t,r,i)||{}},o={};await Promise.all(e.fields.map(async e=>{let a=await P8(e.type,t,n-1,r,i);null!=a&&(o[e.name]=a)}));let l=PJ(o,a);if(!(0,nw.isDeepEmpty)(l))return"object"!==e.name&&(l._type=e.name),l}let P9={type:"loading"};function Me(e){return"welcome"===e.type}function Mt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i="string"==typeof t?t:t.fetch,a="string"==typeof t?t:t.listen,o=(0,G.defer)(()=>e.listen(a,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",includeAllVersions:!0,tag:r.tag})).pipe((0,eC.mergeMap)((e,t)=>0!==t||Me(e)?(0,Y.of)(e):(0,el.throwError)(()=>Error("reconnect"===e.type?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(e.type,'"')))),(0,eg.share)()),[l,s]=(0,ej.partition)(o,Me),c=()=>(0,G.defer)(()=>e.observable.fetch(i,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective}));return(0,ei.merge)(l.pipe((0,ee.take)(1)),s.pipe((0,ew.filter)(e=>!r.transitions||"mutation"!==e.type||r.transitions.includes(e.transition)),(0,eJ.throttleTime)(r.throttleTime||1e3,eb.asyncScheduler,{leading:!0,trailing:!0}))).pipe(b3(e=>"mutation"===e.type&&"query"!==e.visibility?(0,es.timer)(1200).pipe((0,eC.mergeMap)(c)):c()))}function Mn(e,t){if("published"===t||"drafts"===t)throw Error('Version Id cannot be "published" or "drafts"');if((0,th.isVersionId)(e))throw Error("editOpsOf does not expect a version id.");if((0,th.isDraftId)(e))throw Error("editOpsOf does not expect a draft id.");return D0(e,{version:t})}let Mr={isLoaded:!1,documentType:void 0};function Mi(e,t){let n,r,i,a,o,l,s=(0,j.c)(14),c=void 0===t?"*":t,u=Fd();s[0]!==e?(n=(0,th.getPublishedId)(e),s[0]=e,s[1]=n):n=s[1];let d=n,p=!!(c&&"*"!==c);s[2]!==c?(r={documentType:c,isLoaded:!0},s[2]=c,s[3]=r):r=s[3];let f=r,[h,m]=(0,E.useState)(p?f:Mr);return s[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>m(Mr),s[4]=i):i=s[4],s[5]!==d||s[6]!==c?(a=[d,c],s[5]=d,s[6]=c,s[7]=a):a=s[7],(0,E.useEffect)(i,a),s[8]!==u||s[9]!==p||s[10]!==d||s[11]!==c?(o=()=>{if(p)return;let e=u.resolveTypeForDocument(d,c).subscribe(e=>m({documentType:e,isLoaded:!0}));return()=>e.unsubscribe()},l=[u,d,c,p],s[8]=u,s[9]=p,s[10]=d,s[11]=c,s[12]=o,s[13]=l):(o=s[12],l=s[13]),(0,E.useEffect)(o,l),p?f:h}function Ma(e){if(null==e?void 0:e.ready)return[e.draft,e.published,e.version].every(e=>null===e)}function Mo(e){let t,n,r,i,a,o=(0,j.c)(17),{documentId:l,documentType:s,templateName:c,templateParams:u,version:d}=e,p=IE(u),f=Fd(),h=Ml();o[0]!==l||o[1]!==d?(t=d?(0,th.getVersionId)(l,d):l,o[0]=l,o[1]=d,o[2]=t):t=o[2],o[3]!==s||o[4]!==t?(n={_id:t,_type:s},o[3]=s,o[4]=t,o[5]=n):n=o[5];let m=n;o[6]!==m?(r={loading:!1,error:null,value:m},o[6]=m,o[7]=r):r=o[7];let[g,y]=(0,E.useState)(r);return o[8]!==h||o[9]!==m||o[10]!==l||o[11]!==f||o[12]!==s||o[13]!==c||o[14]!==p?(i=()=>{let e=f.initialValue({documentId:l,documentType:s,templateName:c,templateParams:p},h).subscribe(e=>{"loading"===e.type&&y({loading:!0,error:null,value:m}),"success"===e.type&&y({loading:!1,error:null,value:e.value?{...m,...e.value}:m}),"error"===e.type&&y({loading:!1,error:e.error,value:m})});return y({loading:!0,error:null,value:m}),()=>e.unsubscribe()},a=[m,l,f,s,c,p,h],o[8]=h,o[9]=m,o[10]=l,o[11]=f,o[12]=s,o[13]=c,o[14]=p,o[15]=i,o[16]=a):(i=o[15],a=o[16]),(0,E.useEffect)(i,a),g}function Ml(){let e,t=(0,j.c)(6),n=eii(),r=el3(),i=A6(),a=erh(),o=erf(),l=n.getClient;return t[0]!==i||t[1]!==o||t[2]!==l||t[3]!==a||t[4]!==r?(e={projectId:a,dataset:o,getClient:l,schema:r,currentUser:i},t[0]=i,t[1]=o,t[2]=l,t[3]=a,t[4]=r,t[5]=e):e=t[5],e}function Ms(){let e,t=(0,j.c)(2),n=Ml();return t[0]!==n?(e=(e,t)=>P8(e,t,P3,n),t[0]=n,t[1]=e):e=t[1],e}let Mc=(0,tc.defineEvent)({name:"Document Desynced",version:1,description:'Occurs when a "hole" in events from the document pair listener is detected and recovered from.'}),Mu=(0,tc.defineEvent)({name:"High Listener Latency Detected",version:1,description:"Emits when a high listener latency is detected"}),Md=D1(function(e){let{client:t,grantsStore:n,schema:r,id:i,permission:a,type:o,serverActionsEnabled:l,version:s,pairListenerOptions:c}=e;if("*"===o)return(0,Y.of)({granted:!1,reason:"Type specified was `*`"});let u=!!function(e,t){let n=e.get(t);if(!n)throw Error("No such schema type: ".concat(t));return n}(r,o).liveEdit;return OS(t,D0(i,{version:s}),o,l,c).pipe((0,Q.switchMap)(e=>{var t;return(0,ev.combineLatest)([e.draft.snapshots$,e.published.snapshots$,(null==(t=e.version)?void 0:t.snapshots$)||(0,Y.of)(null)]).pipe((0,Z.map)(e=>{let[t,n,r]=e;return{draft:t,published:n,version:r}}))}),(0,Q.switchMap)(e=>{let{draft:t,published:r,version:i}=e,o=(function(e){let{grantsStore:t,permission:n,draft:r,version:i,published:a,liveEdit:o}=e,l=i||r||a,s=l===i?i:l===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return o?[["delete published document (live-edit)",c("update",a)]]:[["delete draft document",c("update",r)],["delete published document",c("update",a)]];case"discardDraft":return o?[]:[["delete draft document",c("update",r)]];case"discardVersion":return o?[]:[["delete version",c("update",i||null)]];case"publish":return o?[]:[["update published document at its current state",c("update",a)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:(0,th.getPublishedId)(r._id)})]];case"unpublish":return o?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",a)],["create draft document from published version",c("create",a&&{...a,_id:(0,th.getDraftId)(a._id)})]];case"update":return o?[["update published document (live-edit)",c("update",a)]]:[["update ".concat(s," document"),c("update",l)]];case"duplicate":return o?[["create new published document from existing document (live-edit)",c("create",{...a,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(s," document"),c("create",{...l,_id:(0,th.getDraftId)("dummy-id")})]];default:throw Error("Could not match permission: ".concat(n))}})({grantsStore:n,permission:a,draft:t,version:i,published:r,liveEdit:u}).map(e=>{let[t,n]=e;return n.pipe((0,Z.map)(e=>{let{granted:n,reason:r}=e;return{granted:n,reason:n?"":"not allowed to ".concat(t,": ").concat(r),label:t,permission:a}}))});return o.length?(0,ev.combineLatest)(o).pipe((0,Z.map)(e=>{let t=e.every(e=>e.granted),n=t?"":"Unable to ".concat(a,":\n	").concat(e.filter(e=>!e.granted).map(e=>e.reason).join("\n	"));return{granted:t,reason:n}})):(0,Y.of)({granted:!0,reason:""})}))});function Mp(e){var t,n;let r,i,a,o=(0,j.c)(14),{id:l,type:s,version:c,permission:u,client:d,schema:p,grantsStore:f,pairListenerOptions:h}=e,m=eTt(AE),g=el3(),y=Fs(),v=FU(),b=d||m,x=p||g,C=f||y;o[0]!==(null==(t=v.__internal_serverDocumentActions)?void 0:t.enabled)?(r=()=>{var e;let t=null==(e=v.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof t?(0,Y.of)(t):(0,Y.of)(!0)},o[0]=null==(n=v.__internal_serverDocumentActions)?void 0:n.enabled,o[1]=r):r=o[1],o[2]!==r?(i=r(),o[2]=r,o[3]=i):i=o[3];let k=i;return o[4]!==b||o[5]!==C||o[6]!==l||o[7]!==h||o[8]!==u||o[9]!==x||o[10]!==k||o[11]!==s||o[12]!==c?(a={client:b,schema:x,grantsStore:C,id:l,permission:u,type:s,serverActionsEnabled:k,pairListenerOptions:h,version:c},o[4]=b,o[5]=C,o[6]=l,o[7]=h,o[8]=u,o[9]=x,o[10]=k,o[11]=s,o[12]=c,o[13]=a):a=o[13],Md(a)}function Mf(e){let{grantsStore:t,document:n,permission:r}=e,{checkDocumentPermission:i}=t;return i(r,n)}let Mh=[void 0,!0];function Mm(e,t){let[n,r]=e;switch(t.type){case"loading":return[n,!0];case"value":return!r&&(0,e4.default)(t.value,n)?e:[t.value,!1];case"error":throw t.error;default:throw Error("Invalid action type: ".concat(t))}}function Mg(e,t){return(0,e4.default)(e,t)}let My="_debug_",Mv=typeof window>"u"?(0,Y.of)({}):(0,eo.fromEvent)(window,"hashchange"),Mb=(0,K.concat)((0,Y.of)(0),Mv).pipe((0,Z.map)(()=>typeof document>"u"?"#":document.location.hash),(0,ed.distinctUntilChanged)(),(0,Z.map)(e=>e.slice(1).split(";").filter(e=>e.toLowerCase().startsWith(My)).map(e=>e.slice(My.length)))),Mx=Mb.pipe((0,Z.map)(e=>e.find(e=>e.startsWith("roles="))),(0,Z.map)(e=>(null==e?void 0:e.split("roles=")[1].split(",").map(e=>e.trim()))||[])),MC=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Mk=[{filter:'_id in path("**")',permissions:["read","history"]}],Mw={administrator:[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],editor:MC,developer:[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],contributor:[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],viewer:Mk,restricted:[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],requiresApproval:[{filter:"!locked",permissions:["read","create","update"]}],read:Mk,write:MC},M_=Mx.pipe((0,Z.map)(e=>e.length?e.filter(e=>!!e&&e in Mw).flatMap(e=>Mw[e]||[]):null));async function Mj(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get"})}let MS=new Map;async function ME(e,t,n){var r;MS.has(t)||MS.set(t,(0,bD.parse)("*[".concat(t,"]")));let i=MS.get(t),a=function(e){let t={};return null!==e&&(t.identity=e),t}(e),{identity:o}=a,l={...a};return(null==(r=await (await (0,bD.evaluate)(i,{dataset:[n],identity:o,params:l})).get())?void 0:r.length)===1}async function MT(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};let i=[];for(let n of t)await ME(e,n.filter,r)&&i.push(n);let a=i.some(e=>e.permissions.some(e=>e===n));return{granted:a,reason:a?"Matching grant":"No matching grants found"}}let MD=D1(function(e){let{grantsStore:t,templateItems:n,templates:r,schema:i,context:a}=e;return(null==n?void 0:n.length)?(0,G.defer)(()=>(0,en.from)(n).pipe((0,et.concatMap)(async e=>{let t=function e(t){return"object"==typeof t&&null!==t&&"serialize"in t?e(t.serialize()):t}(e),n=r.find(e=>e.id===t.templateId);if(!n)throw Error('template not found: "'.concat(t.templateId,'"'));let o=await P7(i,n,t.parameters,a,{useCache:!0});return{item:t,template:n,resolvedInitialValue:o}}),(0,Z.map)(e=>{let{item:n,template:r,resolvedInitialValue:a}=e,o=i.get(r.schemaType);if(!o)throw Error('schema type not found: "'.concat(r.schemaType,'"'));let l=null==o?void 0:o.liveEdit,{initialDocumentId:s="dummy-id"}=n;return Mf({grantsStore:t,permission:"create",document:{_id:l?(0,th.getPublishedId)(s):(0,th.getDraftId)(s),...a}}).pipe((0,Z.map)(e=>{let{granted:t,reason:i}=e;return{...n,granted:t,reason:i,resolvedInitialValue:a,template:r,i18n:n.i18n||r.i18n,title:n.title||r.title,subtitle:o.title===(n.title||r.title)?void 0:o.title,description:n.description||r.description,icon:n.icon||r.icon}}))}),(0,eV.toArray)(),(0,Q.switchMap)(e=>(0,ev.combineLatest)(e)))):(0,Y.of)([])});function MI(e){let t,n,r,i=(0,j.c)(9);i[0]!==e?({templateItems:n,...t}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let a=el3(),o=eTm(),l=Fs(),s=Ml(),c=t.grantsStore||l,u=t.schema||a,d=t.templates||o;return i[3]!==s||i[4]!==c||i[5]!==u||i[6]!==d||i[7]!==n?(r={templateItems:n,grantsStore:c,schema:u,templates:d,context:s},i[3]=s,i[4]=c,i[5]=u,i[6]=d,i[7]=n,i[8]=r):r=i[8],MD(r)}function MA(e,t){var n,r;if(e.end!==t.start)throw Error("chunks are not next to each other");let i=MM(e.draftState,t.draftState),a=MM(e.publishedState,t.publishedState);if("delete"===e.type&&"editDraft"===t.type)return[e,{...t,type:"create",draftState:i,publishedState:a}];if("delete"===t.type){if("missing"===i&&"present"===a)return[e,{...t,type:"discardDraft",draftState:i,publishedState:a}];if("present"===i&&"missing"===a)return[e,{...t,type:"unpublish",draftState:i,publishedState:a}]}if(("create"===(n=e.type)||"editDraft"===n)&&"editDraft"===t.type&&(r=e.endTimestamp,Date.parse(t.startTimestamp)-Date.parse(r)<3e5)){let n=new Set;for(let t of e.authors)n.add(t);for(let e of t.authors)n.add(e);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:n,draftState:i,publishedState:a}}return[e,{...t,draftState:i,publishedState:a}]}function MO(e){let t=!!e;return e&&MF(null==e?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function MP(e){let t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&MF(e.draftEffect.apply),i=e.publishedEffect&&MF(e.publishedEffect.apply),a=function(e){let t=MO(e.draftEffect),n=MO(e.publishedEffect);if("unedited"===n){if("deleted"===t)return"delete";if("upsert"===t)return"editDraft"}if("deleted"===n)return"delete";if("upsert"===n){if("unedited"===t)return"editLive";if("deleted"===t)return"publish"}return"editLive"}(e);return{index:0,id:e.id,type:a,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?i?"missing":"present":"unknown"}}function MM(e,t){return"unknown"===t?e:t}function MF(e){return 0===e[0]&&null===e[1]}function MR(e){return e.draft||e.published}class MB{at(e){if(e>=this.length)throw Error("out of bounds");return this.elements[e]||(this.elements[e]=Mz(this.content.elements[e],this.value[e],this.extractor))}annotationAt(e){let t=this.content.metas[e];return this.extractor.fromMeta(t)}constructor(e,t,n,r){(0,k._)(this,"type","array"),(0,k._)(this,"elements",[]),this.content=e,this.value=t,this.annotation=n,this.extractor=r,this.length=e.elements.length}}class MN{get(e){let t=this.fields[e];if(t)return t;let n=this.content.fields[e];if(n)return this.fields[e]=Mz(n,this.value[e],this.extractor)}constructor(e,t,n,r){(0,k._)(this,"type","object"),(0,k._)(this,"fields",{}),this.content=e,this.value=t,this.annotation=n,this.extractor=r,this.keys=Object.keys(e.fields)}}class ML{sliceAnnotation(e,t){let n=[],r=0;for(let i of this.content.parts){let a=i.value.length,o=Math.max(0,e-r);if(o<a){let e=Math.min(a,t-r);if(e<=0)break;!function(e,t){if(n.length>0){var r;let i=n[n.length-1];if(r=i.annotation,r&&t?r.author===t.author&&r.timestamp===t.timestamp:!r&&!t){i.text+=e;return}}n.push({text:e,annotation:t})}(i.value.slice(o,e),this.extractor.fromValue(i))}r+=a}return n}constructor(e,t,n,r){(0,k._)(this,"type","string"),this.content=e,this.value=t,this.annotation=n,this.extractor=r}}function Mz(e,t,n){let r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new MB(e.content,t,r,n);case"object":return new MN(e.content,t,r,n);case"string":return new ML(e.content,t,r,n)}return m9(t,r)}function MV(e,t,n){return n?MH(e,n.transactionIndex+1,n.chunk.index):t?MH(e,t.start,t.index):null}function MU(e,t){return t?MH(e,t.transactionIndex,t.chunk.index):null}function MH(e,t,n){let r=e.transactionByIndex(t);if(!r)return null;let i=e.chunkByTransactionIndex(t,n);return i?{chunk:i,timestamp:r.timestamp,author:r.author}:null}class Mq{addToEnd(e){e.index=this._postive.length,this._postive.push(e)}addToBeginning(e){if(0==this.length)return void this.addToEnd(e);e.index=-(this._negative.length+1),this._negative.push(e)}mergeAtEnd(e,t){if(0===this.length)return void this.addToEnd(e);let n=this.lastIdx,r=t(this.get(n),e);Array.isArray(r)?(this.set(n,r[0]),this.addToEnd(r[1])):this.set(n,r)}mergeAtBeginning(e,t){if(0===this.length)return void this.addToEnd(e);let n=this.firstIdx,r=t(e,this.get(n));Array.isArray(r)?(this.set(n,r[1]),this.addToBeginning(r[0])):this.set(n,r)}removeFromEnd(){0===this._postive.length?this._negative.shift():this._postive.pop()}has(e){return e>=0?e<this._postive.length:-(e+1)<this._negative.length}get(e){return e>=0?this._postive[e]:this._negative[-(e+1)]}set(e,t){e>=0?(t.index=e,this._postive[e]=t):(t.index=e,this._negative[-(e+1)]=t)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}constructor(){(0,k._)(this,"_postive",[]),(0,k._)(this,"_negative",[])}}class MW{get chunkCount(){return this._chunks.length}mapChunks(e){let t=[],n=this._chunks.firstIdx,r=this._chunks.lastIdx;for(let i=r;i>=n;i--)t.push(e(this._chunks.get(i),i));return t}reset(){this._transactions=new Mq,this._chunks=new Mq,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(e){this._trace&&this._trace.push({type:"addRemoteMutation",event:e});let t=this._possiblePendingTransactions.get(e.transactionId),n=t?t.transaction:{index:0,id:e.transactionId,timestamp:e.timestamp.toISOString(),author:e.author};"draft"===e.version?n.draftEffect=e.effects:n.publishedEffect=e.effects,t?(this._possiblePendingTransactions.delete(e.transactionId),this._invalidateTransactionFrom(t.idx)):(this._transactions.addToEnd(n),this._possiblePendingTransactions.set(e.transactionId,{transaction:n,idx:this._transactions.lastIdx}))}addTranslogEntry(e){this._trace&&this._trace.push({type:"addTranslogEntry",event:e}),this._transactions.addToBeginning({index:0,id:e.id,author:e.author,timestamp:e.timestamp,draftEffect:e.effects[this.draftId],publishedEffect:e.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){let e=this._chunks.last;if(this._recreateTransactionsFrom<e.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){let e=this._transactions.firstIdx,t=this._transactions.lastIdx,n=this._chunks.length>0?this._chunks.last.end:e;for(let e=n;e<=t;e++){let t=this._transactions.get(e);this._chunks.mergeAtEnd(MP(t),MA)}if(0==this._chunks.length)return;let r=this._chunks.first.start;for(let t=r-1;t>=e;t--){let e=this._transactions.get(t);this._chunks.mergeAtBeginning(MP(e),MA)}}_invalidateTransactionFrom(e){(void 0===this._recreateTransactionsFrom||e<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=e)}_createInitialChunk(){if(this.reachedEarliestEntry){var e;if((null==(e=this._chunks.first)?void 0:e.type)==="initial")return;let t=this._transactions.first;if(!t)return;let n=MP(t);n.type="initial",n.id="@initial",n.end=n.start,this._chunks.addToBeginning(n)}}parseTimeId(e){if(0===this._chunks.length)return this.reachedEarliestEntry?"invalid":"loading";let t=e.split("/",3),n=t.shift(),r=t.shift(),i=Number(n);for(let e=this._chunks.lastIdx;e>=this._chunks.firstIdx;e--){let t=this._chunks.get(e);if(t.id===r)return t;if(Date.parse(t.endTimestamp)+36e5<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(e){for(let t=e?e.index-1:this._chunks.lastIdx;t>=this._chunks.firstIdx;t--){let e=this._chunks.get(t);if("publish"===e.type||"initial"===e.type)return e}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(e){return e===this._chunks.last}createTimeId(e){return"".concat(e.endTimestamp.valueOf(),"/").concat(e.id)}lastChunk(){return this._chunks.last}transactionByIndex(e){return this._transactions.has(e)?this._transactions.get(e):null}chunkByTransactionIndex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;for(;;){let t=this._chunks.get(n);if(!t)throw Error("transaction does not belong in any chunk");if(e>=t.end)n++;else{if(!(e<t.start))return t;n--}}}replayBackwardsBetween(e,t,n){let r=n.draft,i=n.published;for(let n=t;n>=e;n--){let e=this._transactions.get(n);e.draftEffect&&(r=bQ(r,e.draftEffect.revert)),e.publishedEffect&&(i=bQ(i,e.publishedEffect.revert))}return{draft:r,published:i}}replayBackwardsUntil(e,t){return this.replayBackwardsBetween(e,this._transactions.lastIdx,t)}calculateDiff(e,t,n,r){let i=bX.wrap(e.draft,null),a=bX.wrap(e.published,null),o=(d=i,p=a,"null"===bX.getType(d)?p:d),l=MR(e),s=null;for(let e=n;e<=r;e++){let t=this._chunks.get(e);s||(s=t);for(let e=t.start;e<t.end;e++){let n=this._transactions.get(e),r={chunk:t,transactionIndex:e},o=i,l=a;n.draftEffect&&(i=bX.applyPatch(i,n.draftEffect.apply,r)),n.publishedEffect&&(a=bX.applyPatch(a,n.publishedEffect.apply,r));let s="null"!==bX.getType(o),c="null"!==bX.getType(i);"null"===bX.getType(a)||c||(a=bX.rebaseValue(o,a)),c&&!s&&(i=bX.rebaseValue(l,i))}}let c="null"===bX.getType(i)?a:i,u=MR(t);var d,p,f=this,h=s;return m0(Mz(o,l,{fromValue:e=>MV(f,h,e.endMeta),fromMeta:e=>MV(f,h,e)}),Mz(c,u,{fromValue:e=>MU(f,e.startMeta),fromMeta:e=>MU(f,e)}))}constructor(e){(0,k._)(this,"reachedEarliestEntry",!1),(0,k._)(this,"_transactions",new Mq),(0,k._)(this,"_chunks",new Mq),(0,k._)(this,"_possiblePendingTransactions",new Map),this.publishedId=e.publishedId,this.draftId="drafts.".concat(e.publishedId),e.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:e.publishedId}),window.__sanityTimelineTrace=this._trace)}}function MY(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function MK(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},"string"!=typeof e.attrs._rev)throw Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class MG{appendRemoteSnapshotEvent(e){if("version"===e.version)return;let t=this._states[e.version];if("snapshot"===e.type){this._maybeInvalidateHistory(),MK(t,e.document);return}"remoteMutation"===e.type&&(t.aligned?(this._apply(t,e),this.timeline.addRemoteMutation(e)):t.hasAttrs?t.events.push(e):MK(t,e.head))}prependHistoryEvent(e){if(!this.acceptsHistory)throw Error("cannot prepend history at this point");for(let t of Object.values(this._states))if(!t.aligned){let n=function(e,t){let n=t.events.findIndex(t=>e.id===t.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}(e,t);n>=0&&this._alignAtIndex(t,n)}this.timeline.addTranslogEntry(e),this.earliestTransactionId=e.id}didReachEarliestEntry(){for(let e of Object.values(this._states))if(!e.aligned){if(null!==e.attrs)throw Error("unable to find translog entry to align to");this._alignAtIndex(e,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(e=>e.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(e,t){for(let n of e.events.slice(0,t))this._apply(e,n);for(let n of e.events.slice(t))this._apply(e,n),this.timeline.addRemoteMutation(n);e.events=[],e.aligned=!0}get _isComplete(){return Object.values(this._states).every(e=>e.hasAttrs)}_apply(e,t){e.attrs=bQ(e.attrs,t.effects.apply),e.rev=t.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(let e of Object.values(this._states))e.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}constructor(e){(0,k._)(this,"earliestTransactionId",null),this.timeline=e,this._states={draft:MY(e.draftId),published:MY(e.publishedId)}}}async function M$(e,t){let n=t?{headers:{...AT,Authorization:"Bearer ".concat(t)}}:{credentials:"include",headers:AT};return function(e){let t=e.body;if(!t)throw Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(e){n=t.getReader();let i=new TextDecoder,a="";n.read().then(function t(o){if(o.done)return r?void 0:0===(a=a.trim()).length?void e.close():(e.enqueue(JSON.parse(a)),void e.close());let l=(a+=i.decode(o.value,{stream:!0})).split("\n");for(let t=0;t<l.length-1;++t){let i=l[t].trim();if(0!==i.length)try{e.enqueue(JSON.parse(i))}catch(t){e.error(t),r=!0,n.cancel();return}}return a=l[l.length-1],n.read().then(t).catch(t=>e.error(t))}).catch(t=>e.error(t))},cancel(){r=!0,n.cancel()}})}(await fetch(e,n))}class MZ{same(e,t){return this.start===e&&this.end===t}endAttributes(){return MX(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return MX(this.startDocument())}startDocument(){if(!this.start)throw Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}constructor(e,t,n,r){this.timeline=e,this.start=n,this.end=r,this.doc=t}}function MX(e){return e.draft||e.published}class MJ{clearRange(){this.setRange(null,null)}setRange(e,t){t!==this._rev&&this.setRevTime(t),e!==this._since&&this.setSinceTime(e);let n=10;if("loading"!==this._sinceTime&&"loading"!==this._revTime&&this._aligner.isAligned)if("invalid"===this._sinceTime||"invalid"===this._revTime)this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";let e=this._revTime||this.timeline.lastChunk();this._sinceTime.index>e.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,e)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",n=0);else this.selectionState="loading";this._fetchAtLeast=n,this.start()}setLoadMore(e){this._fetchMore=e,this.start()}get sinceTime(){return this._sinceTime&&"object"==typeof this._sinceTime?this._sinceTime:null}get revTime(){return this._revTime&&"object"==typeof this._revTime?this._revTime:null}get isLoading(){return this._isRunning}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&("range"===this.selectionState||"rev"===this.selectionState)}findRangeForNewRev(e){let t=this.timeline.isLatestChunk(e)?null:this.timeline.createTimeId(e);if(!this._since)return[null,t];let n=this.sinceTime;return n&&n.index<e.index?[this._since,t]:["@lastPublished",t]}findRangeForNewSince(e){let t=this.revTime;return t&&e.index<t.index?[this.timeline.createTimeId(e),this._rev]:[this.timeline.createTimeId(e),null]}setRevTime(e){this._rev=e,this._revTime=e?this.timeline.parseTimeId(e):null,"@lastPublished"===this._since&&(this._since=null,this._sinceTime=null)}setSinceTime(e){"@lastPublished"===e?"string"==typeof this._revTime?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=e?this.timeline.parseTimeId(e):null,this._since=e}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(e,t){this._reconstruction&&this._reconstruction.same(e,t)||(this._reconstruction=new MZ(this.timeline,this._aligner.currentDocument,e,t))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){let e=this.currentDiff();if(e){if("null"===e.type)return null;if("object"!==e.type)throw Error("ObjectDiff expected, got ".concat(e.type))}return e}handleRemoteMutation(e){this._aligner.appendRemoteSnapshotEvent(e),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){if(!(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&("loading"===this.selectionState||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended)){this._isRunning=!1;return}try{await this.fetchMoreTransactions()}catch(t){var e;this._didErr=!0,null==(e=this.handler)||e.call(this,t,this);return}await this.tick()}async fetchMoreTransactions(){let e=this.timeline.publishedId,t=this.timeline.draftId,n=this.client.config(),r="tag=sanity.studio.structure.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(50),i=this._aligner.earliestTransactionId;i&&(r+="&toTransaction=".concat(i));let a=this.client.getUrl("/data/history/".concat(n.dataset,"/transactions/").concat(e,",").concat(t,"?").concat(r)),o=(await M$(a,n.token)).getReader(),l=0;for(;;){let e=await o.read();if(e.done)break;if("error"in e.value)throw Error(e.value.error.description||e.value.error.type);if(l++,e.value.id!==i){if(this._aligner.earliestTransactionId!==i||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(e.value),i=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId===i&&this._aligner.acceptsHistory&&(l<50&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var e;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,null==(e=this.handler)||e.call(this,null,this)}constructor(e){(0,k._)(this,"version",0),(0,k._)(this,"selectionState","inactive"),(0,k._)(this,"_fetchMore",!1),(0,k._)(this,"_fetchAtLeast",0),(0,k._)(this,"_isRunning",!1),(0,k._)(this,"_isSuspended",!1),(0,k._)(this,"_didErr",!1),(0,k._)(this,"_since",null),(0,k._)(this,"_sinceTime",null),(0,k._)(this,"_rev",null),(0,k._)(this,"_revTime",null),this.timeline=e.timeline,this.client=e.client,this.handler=e.handler,this._aligner=new MG(this.timeline),this.markChange()}}let MQ=Object.create(null),M1=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Array.isArray(t)?t:[t],{time:i,revision:a}=n;if(i&&a)throw Error("getHistory can't handle both time and revision parameters");let o="/data/history/".concat(e.config().dataset,"/documents/").concat(r.join(","));if(a)o="".concat(o,"?revision=").concat(a);else{let e=i||new Date().toISOString();o="".concat(o,"?time=").concat(e)}return e.request({url:o})},M2=(e,t,n)=>{let r=(0,th.getPublishedId)(t),i=(0,th.getDraftId)(t),a=(0,nn.isVersionId)(t)?t:void 0,o=[r,i,a].filter(Boolean),l="lastRevision"===n;if(!l){let e=MQ["".concat(t,"@").concat(n)];if(e)return e}let s="/data/history/".concat(e.config().dataset,"/documents/").concat(o.join(","),"?").concat(l?"lastRevision=true":"revision=".concat(n)),c=e.request({url:s,tag:"history-revision"}).then(e=>{let t=e.documents||[],n=t.find(e=>e._id===r),o=t.find(e=>e._id===i);return(a?t.find(e=>e._id===a):void 0)||o||n});return l||(MQ["".concat(t,"@").concat(n)]=c),c},M0=e=>{let{client:t,documentId:n,documentType:r}=e,i=new MW({enableTrace:IX,publishedId:n});return new MJ({client:t,documentId:n,documentType:r,timeline:i})},M5=async(e,t)=>{let n=Array.isArray(t)?t:[t],r=e.config().dataset,i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:{excludeContent:"true",includeIdentifiedDocumentsOnly:"true"}})).toString("utf8").split("\n").filter(Boolean).map(e=>JSON.parse(e))};function M7(e,t){if(!e)throw Error("Passed timelineStore is undefined, if your are using the events timeline, call useEvents() instead. If you need to use this hook, opt in by setting the beta.eventsAPI.enabled feature flag to false");return(0,bf.useSyncExternalStoreWithSelector)(e.subscribe,e.getSnapshot,null,t)}let M3={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function M8(e){var t;let{documentId:n,documentType:r,onError:i,rev:a,since:o}=e,l=Fc(),s=(0,E.useRef)(null),c=(0,E.useRef)(M3),u=eTt(AE),d=FU(),p=(0,E.useMemo)(()=>l.getTimelineController({client:u,documentId:n,documentType:r}),[u,n,r,l]),f=(0,E.useMemo)(()=>new ef.BehaviorSubject(p),[p]);(0,E.useEffect)(()=>(p.setRange(o||null,a||null),f.next(p),p.handler=(e,t)=>{e?f.error(e):setTimeout(()=>{t.setRange(o||null,a||null),f.next(t)},0)},p.resume(),()=>p.suspend()),[a,o,p,f]);let h=(0,E.useMemo)(()=>{var e;let t=null==(e=d.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof t?(0,Y.of)(t):(0,Y.of)(!0)},[null==(t=d.__internal_serverDocumentActions)?void 0:t.enabled]);return(0,E.useEffect)(()=>(s.current||(s.current=O0(u,{draftId:"drafts.".concat(n),publishedId:n},r,h).subscribe(e=>{p.handleRemoteMutation(e)})),()=>{s.current&&(s.current.unsubscribe(),s.current=null)}),[u,p,n,r,h]),(0,E.useMemo)(()=>({findRangeForRev:e=>p.findRangeForNewRev(e),findRangeForSince:e=>p.findRangeForNewSince(e),loadMore:()=>{p.setLoadMore(!0)},getSnapshot:()=>c.current,subscribe:e=>{let t=f.pipe((0,Z.map)(e=>{var t;let n=e.timeline.mapChunks(e=>e),r=n.filter(e=>!["delete","initial"].includes(e.type)),i=!e.timeline.reachedEarliestEntry;i&&n.length>16&&e.setLoadMore(!1);let a=!["invalid","loading"].includes(e.selectionState);return{chunks:n,diff:e.sinceTime?e.currentObjectDiff():null,isLoading:e.isLoading,isPristine:a?0===n.length&&!1===i:null,hasMoreChunks:!e.timeline.reachedEarliestEntry,lastNonDeletedRevId:null==r||null==(t=r[0])?void 0:t.id,onOlderRevision:e.onOlderRevision(),realRevChunk:e.realRevChunk,revTime:e.revTime,selectionState:e.selectionState,sinceAttributes:e.sinceAttributes(),sinceTime:e.sinceTime,timelineDisplayed:e.displayed(),timelineReady:a}}),(0,ed.distinctUntilChanged)(T.default),(0,J.catchError)(e=>(null==i||i(e),(0,Y.of)(M3))),(0,eh.tap)(e=>{c.current=e}),(0,eh.tap)(e)).subscribe();return()=>t.unsubscribe()}}),[p,i,f])}let M4=e=>{if("rollCall"===e.type)return{type:"rollCall",userId:e.i,sessionId:e.session};if("state"===e.type){let{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if("disconnect"===e.type)return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw Error("Got unknown presence event: ".concat(JSON.stringify(e)))},M6=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],M9=(0,G.defer)(()=>(0,es.timer)(0,1e4)).pipe((0,eY.mergeMapTo)(["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"]),(0,Z.map)((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:(0,go.default)(M6)}]})),(0,ep.shareReplay)()),Fe="presence_session_id",Ft=function(){try{return window.sessionStorage.getItem(Fe)}catch(e){}return null}()||function(e){try{window.sessionStorage.setItem(Fe,e)}catch(e){}return e}((0,tv.nanoid)(16)),Fn=OC(e=>e.observable.request({url:"/projects/".concat(e.config().projectId),tag:"get-org-id",query:{includeMembers:"false",includeFeatures:"false",includeOrganization:"true"}}).pipe((0,Z.map)(e=>e.organizationId),(0,eT.repeat)({delay:3e5}),(0,ep.shareReplay)(1),(0,J.catchError)(()=>(0,Y.of)(null))),e=>"".concat(e.config().projectId,"-").concat(e.config().dataset));function Fr(e){let t,n=(0,j.c)(3),{children:r}=e,[i]=(0,E.useState)(Fi);return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(D.ResourceCacheContext.Provider,{value:i,children:r}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}function Fi(){let e=new Map,t={},n=[t],r=e=>e.length?e.map(e=>null===e?t:e):n;return{get:t=>{var n;let{namespace:i,dependencies:a}=t,o=r(a);return null==(n=e.get(i))?void 0:n.get(o)},set:t=>{let{namespace:n,dependencies:i,value:a}=t,o=e.get(n)||function(){let e=new WeakMap,t=new WeakMap;function n(e){return Array.from(new Set(e)).map(e=>[function(e){let n=t.get(e);if(n)return n;let r=Array.from({length:10}).map(()=>Math.floor(255*Math.random()).toString(16).padStart(2,"0")).join("");return t.set(e,r),r}(e),e]).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r,"en")}).map(e=>{let[,t]=e;return t})}return{get:function(t){return function e(t,n){if(!t.length)return;let[r,...i]=t,a=n.get(r);if(a)return i.length?e(i,a.next):a.value}(n(t),e)},set:function(t,r){!function e(t,n,r){if(!t.length)return;let[i,...a]=t,o=n.get(i)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(n.set(i,o),!a.length){o.value=r;return}e(a,o.next,r)}(n(t),e,r)}}}(),l=r(i);e.set(n,o),o.set(l,a)}}}function Fa(){let e=(0,E.useContext)(D.ResourceCacheContext);if(!e)throw Error("Could not find `cache` context");return e}let Fo=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Fl(){let{getClient:e,currentUser:t}=eii(),n=Fa(),r=e(AE);return(0,E.useMemo)(()=>{let e=n.get({namespace:"userStore",dependencies:[r,t]})||function(e){let{client:t,currentUser:n}=e,r=t.withConfig({apiVersion:"2021-06-07"}),i=new t9.default(async e=>{let t=await r.request({uri:"/users/".concat(e.join(",")),tag:"users.get"}),n=(Array.isArray(t)?t:[t]).reduce((e,t)=>((null==t?void 0:t.id)&&(e[t.id]=t),e),{});return e.map(e=>n[e]||null)},{batchScheduleFn:e=>(0,xa.default)(e),maxBatchSize:400}),a=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return i.prime("me",a),(null==a?void 0:a.id)&&i.prime(a.id,a),Fo.forEach(e=>i.prime(e.id,e)),{getUser:async e=>{if(!e)return Promise.resolve(null);try{return await i.load(e)}catch(e){if(403===e.statusCode)return Promise.resolve(null);throw e}},getUsers:async e=>(await i.loadMany(e)).filter(e=>Io(e)&&"string"==typeof e.id)}}({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:e}),e},[r,t,n])}function Fs(){let{getClient:e}=eii(),t=e(AE),n=A6(),r=Fa();return(0,E.useMemo)(()=>{let e=r.get({namespace:"grantsStore",dependencies:[t,n]})||function(e){var t;let{client:n}=e,r=n.withConfig({apiVersion:"2021-06-07"}),i="userId"in e?e.userId:(null==e||null==(t=e.currentUser)?void 0:t.id)||null,a=(0,G.defer)(()=>(0,Y.of)(r.config())).pipe((0,Q.switchMap)(e=>{let{projectId:t,dataset:n}=e;if(!t||!n)throw Error("Missing projectId or dataset");return Mj(r,t,n)})),o=M_.pipe((0,Q.switchMap)(e=>e?(0,Y.of)(e):a),(0,eG.publishReplay)(1),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eS.asapScheduler;return n=>{let r=null,i=null,a=new ea.Subject,o=a.pipe((0,eO.scan)((e,t)=>e+t,0),(0,Q.switchMap)(a=>0===a?(0,es.timer)(e,t).pipe((0,eh.tap)(()=>{r&&(r.unsubscribe(),r=null),i&&(i.unsubscribe(),i=null)})):!r&&a>0?(0,es.timer)(0,t).pipe((0,eh.tap)(()=>{r||(r=n.connect())})):ec.NEVER));return(0,eE.using)(()=>(i||(i=o.subscribe()),a.next(1),{unsubscribe:()=>a.next(-1)}),()=>n)}}(1e3));return{checkDocumentPermission:(e,t)=>o.pipe((0,Q.switchMap)(n=>MT(i,n,e,t)),(0,ed.distinctUntilChanged)(nP.default))}}({client:t,userId:(null==n?void 0:n.id)||null});return r.set({namespace:"grantsStore",dependencies:[t,n],value:e}),e},[t,n,r])}function Fc(){let e,t=(0,j.c)(3),n=eTt(AE),r=Fa();return t[0]!==n||t[1]!==r?(e=r.get({namespace:"historyStore",dependencies:[n]})||function(e){let{client:t}=e;return{getDocumentAtRevision:(e,n)=>M2(t,e,n),getHistory:(e,n)=>M1(t,e,n),getTransactions:e=>M5(t,e),restore:(e,n,r,i)=>(0,en.from)(M2(t,n,r)).pipe((0,eC.mergeMap)(n=>{if(!n)throw Error("Unable to find document with ID ".concat(e," at revision ").concat(r));if("lastRevision"!==r&&(null==n?void 0:n._rev)!==r)throw Error("Restored revision ".concat(null==n?void 0:n._rev," does not match expected revision ").concat(r));let i=(0,b6.reduce)(n,(e,t)=>(0,W.isReference)(t)&&!e.includes(t._ref)?[...e,t._ref]:e,[]).map(e=>'"'.concat(e,'": defined(*[_id=="').concat(e,'"]._id)')).join(",");return t.observable.fetch("{".concat(i,"}")).pipe((0,Z.map)(e=>{let t;return t=t=>e[t._ref]?t:void 0,function e(t,n){return Array.isArray(t)?n(t.map(t=>e(t,n)).filter(e=>"u">typeof e)):Io(t)?n(Object.keys(t).reduce((r,i)=>{let a=e(t[i],n);return"u">typeof a&&(r[i]=a),r},{})):n(t)}(n,e=>(0,W.isReference)(e)?t(e):e)}))}),(0,Z.map)(e=>{let{_updatedAt:t,...r}=e;return{...r,_id:n}}),(0,eC.mergeMap)(n=>{if(null==i?void 0:i.useServerDocumentActions){let r={actionType:"sanity.action.document.replaceDraft",publishedId:e,attributes:n};return Om(t,D0(e,{version:(0,th.getVersionFromId)(e)})).observable.action(i.fromDeleted?[{actionType:"sanity.action.document.create",publishedId:e,attributes:n,ifExists:"fail"},r]:r)}return t.observable.createOrReplace(n,{visibility:"async"})}),(0,Z.map)(()=>{})),getTimelineController:M0}}({client:n}),r.set({namespace:"historyStore",dependencies:[n],value:e}),t[0]=n,t[1]=r,t[2]=e):e=t[2],e}function Fu(){let e,t=(0,j.c)(3),n=eTt(AE),r=Fa();return t[0]!==n||t[1]!==r?(e=r.get({namespace:"documentPreviewStore",dependencies:[n]})||function(e){let{client:t}=e,n=t.withConfig({apiVersion:"2025-02-19"}),r=n.listen("*",{},{events:["welcome","mutation","reconnect"],includeResult:!1,includePreviousRevision:!1,includeMutations:!1,includeAllVersions:!0,visibility:"query",effectFormat:"mendoza",tag:"preview.global"}).pipe(Or({predicate:e=>"welcome"===e.type||"reconnect"===e.type,resetOnRefCountZero:()=>(0,es.timer)(1e4)})).pipe((0,ew.filter)(e=>"mutation"===e.type||"welcome"===e.type)),i=r.pipe((0,Z.map)(e=>"welcome"===e.type?{type:"connected"}:e)),a=function(e){let{mutationChannel:t,client:n}=e,r=(0,e6.default)(function(e){let t=n.withConfig(e);return enQ(function(e){return t.observable.fetch("*[_id in $ids]",{ids:(0,nC.default)(e.flat())},{tag:"preview.observe-document"}).pipe((0,Z.map)(t=>e.map(e=>{let[n]=e;return t.find(e=>e._id===n)})))},100)},e=>e.dataset+e.projectId+e.apiVersion),i={};return function(e,a){let o=a?"".concat(e,"-").concat(JSON.stringify(a)):e;return o in i||(i[o]=(function(e,i){let a=r({dataset:(null==i?void 0:i.dataset)||n.config().dataset,projectId:(null==i?void 0:i.projectId)||n.config().projectId,apiVersion:(null==i?void 0:i.apiVersion)||n.config().apiVersion});return t.pipe((0,et.concatMap)(t=>"welcome"===t.type?a(e).pipe((0,Z.map)(e=>({type:"sync",document:e}))):t.documentId===e?(0,Y.of)(t):$.EMPTY),(0,eO.scan)((e,t)=>{if("sync"===t.type)return t.document;if("mutation"===t.type){var n=e,r=t;if(r.previousRev!==(null==n?void 0:n._rev))return console.warn("Document out of sync, skipping mutation"),n;if(!r.effects)throw Error("Mutation event is missing effects. Is the listener set up with effectFormat=mendoza?");if(!r.effects)throw Error("Mutation event is missing effects. Is the listener set up with effectFormat=mendoza?");let i=en0(n,r.effects.apply,r.previousRev);return i?{...i,_rev:r.resultRev}:void 0}throw Error('Unexpected event type: "'.concat(t.type,'"'))},void 0))})(e,a).pipe((0,em.finalize)(()=>delete i[o]),(0,ep.shareReplay)({bufferSize:1,refCount:!0}))),i[o]}}({client:t,mutationChannel:r}),o=JF({observeFields:function(e){let{client:t,invalidationChannel:n}=e;function r(e,t){return function(n){let r=(0,xr.default)(n.reduce((e,t,n)=>{let[r,i]=t,a=(0,nl.default)(i.join(","),xn.default).join(".");e[a]||(e[a]={fields:i,ids:[],map:[]});let o=e[a].ids.length;return e[a].ids[o]=r,e[a].map[o]=n,e},{}));return AD(e,t&&t.length>0||r.some(e=>e.ids.some(th.isVersionId))?Of.apiVersion:void 0).observable.fetch("[".concat(r.map(erc).join(","),"][0...").concat(r.length,"]"),{},{tag:"preview.document-paths",perspective:t}).pipe((0,eF.retry)({delay:(e,t)=>(0,es.timer)(Math.min(3e4,1e3*t))}),(0,Z.map)(e=>e.reduce((e,t,n)=>(r[n].map.forEach((i,a)=>{let o=r[n].ids[a],l=t.find(e=>e._id===o);e[i]=l||null}),e),[])))}}let i=new Map,a={},o=(0,e6.default)(function(e){return enQ(r(t.withConfig(e),["published"]),10)},e=>e.dataset+e.projectId),l=(0,eo.fromEvent)(document,"visibilitychange").pipe((0,eI.startWith)(0),(0,Z.map)(()=>"visible"===document.visibilityState),(0,Q.switchMap)(e=>e?(0,es.timer)(0,1e4):$.EMPTY),(0,eg.share)());return function(e,s,c,u){let d=c?"".concat(c.projectId,":").concat(c.dataset,":").concat(e):"$current$-".concat(e,"-").concat((null==u?void 0:u.join("-"))||"raw");d in a||(a[d]=[]);let p=a[d];(0,mV.default)(s,(0,td.default)(p.map(e=>e.fields))).length>0&&p.push(function(e,a,s,c){let u,d=(0,ei.merge)((0,G.defer)(()=>void 0===u?$.EMPTY:(0,Y.of)(u)),s?l.pipe((0,eI.startWith)(0)).pipe((0,Q.switchMap)(()=>o(s)(e,a))):function(e,a,o){let{fast:l,slow:s}=function(e){let n=(null==e?void 0:e.join("-"))||"raw";if(i.has(n))return i.get(n);let a={fast:enQ(r(t,e),100),slow:enQ(r(t,e),1e3)};return i.set(n,a),a}(o),c=o&&o.length>0,u=c?(0,th.getPublishedId)(e):e;return n.pipe((0,ew.filter)(t=>"connected"===t.type||(c?!!(0,th.isPublishedId)(e)||o.some(t=>"drafts"===t?(0,th.isDraftId)(e):(0,th.getVersionFromId)(e)===t):t.documentId===e)),(0,Q.switchMap)(e=>"connected"===e.type||"query"===e.visibility?l(u,a).pipe((0,eC.mergeMap)(e=>(0,K.concat)((0,Y.of)(e),null===e?s(u,a):[]))):s(u,a)))}(e,a,c)).pipe((0,eh.tap)(e=>u=e),(0,ep.shareReplay)({refCount:!0,bufferSize:1}));return{id:e,fields:a,changes$:d}}(e,s,c,u));let f=p.filter(e=>e.fields.some(e=>s.includes(e))).map(e=>e.changes$);return(0,ev.combineLatest)(f).pipe((0,Z.map)(e=>e.filter(Boolean)),(0,ew.filter)(e=>(function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ero;for(let i=0;i<e.length;i++){if(0===i){t=r(e[i]);continue}if(t!==(n=r(e[i])))return!1;t=n}return!0})(e,e=>e._rev)),(0,Z.map)(e=>{var t;return 0===e.length?null:(t=e,[...enK,...s].reduce((e,n)=>{var r,i;let a,o=(r=t,i=n,r.some(e=>i in e&&(a=e[i],!0)),a);return void 0!==o&&(e[n]=o),e},{}))}),(0,ed.distinctUntilChanged)((e,t)=>e===t||!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&s.every(n=>e[n]===t[n])))}}({client:n,invalidationChannel:i})});function l(e,t,n){return o({_type:"reference",_ref:e},["_type"],t,n).pipe((0,Z.map)(e=>Io(e)&&"string"==typeof e._type?e._type:void 0),(0,ed.distinctUntilChanged)())}let s=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{insert:i="sorted",apiVersion:a}=r,o="*[".concat(e,"]._id");return AD(n,a).observable.listen("*[".concat(e,"]"),t,{visibility:"transaction",events:["welcome","mutation","reconnect"],includeResult:!1,includeMutations:!1,includeAllVersions:!0,tag:"preview.observe-document-set.listen"}).pipe((0,eC.mergeMap)(e=>"welcome"===e.type?AD(n,a).observable.fetch(o,t,{tag:"preview.observe-document-set.fetch"}).pipe((0,eh.tap)(e=>{if(!Array.isArray(e))throw Error("Expected query to return array of documents, but got ".concat(typeof e))})).pipe((0,Z.map)(e=>({type:"fetch",result:e}))):(0,Y.of)(e)),(0,eO.scan)((e,t)=>{if("reconnect"===t.type)return{documentIds:(null==e?void 0:e.documentIds)||[],...e,status:"reconnecting"};if("fetch"===t.type)return{...e,status:"connected",documentIds:t.result};if("mutation"===t.type){if("update"===t.transition)return e;if("appear"===t.transition){var n,r,a;let o;return{status:"connected",documentIds:(n=(null==e?void 0:e.documentIds)||[],r=t.documentId,o="prepend"===(a=i)?0:"append"===a?n.length:(0,xt.default)(n,r),n.toSpliced(o,0,r))}}if("disappear"===t.transition)return{status:"connected",documentIds:(null==e?void 0:e.documentIds)?e.documentIds.filter(e=>e!==t.documentId):[]}}return e},void 0),(0,ed.distinctUntilChanged)(),(0,ew.filter)(e=>void 0!==e))},c=function(e){let{observeDocumentTypeFromId:t,observePaths:n}=e;return function e(r,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{viewOptions:o={},apiConfig:l,perspective:s}=a;if((0,W.isCrossDatasetReferenceSchemaType)(i)){if(!(0,W.isCrossDatasetReference)(r))return(0,Y.of)({snapshot:void 0});let n={projectId:r._projectId,dataset:r._dataset};return t(r._ref,n,s).pipe((0,Q.switchMap)(t=>{if(t){let a=i.to.find(e=>e.type===t);if(a)return e(r,a,{apiConfig:n,viewOptions:o,perspective:s})}return(0,Y.of)({snapshot:void 0})}))}if((0,W.isReferenceSchemaType)(i))return(0,nE.default)(r)?t(r._ref).pipe((0,Q.switchMap)(t=>{if(t){let n=i.to.find(e=>e.name===t);if(n)return e(r,n,{perspective:s})}return(0,Y.of)({snapshot:void 0})})):(0,Y.of)({snapshot:void 0});let c=en7(i.preview);return c?n(r,c,l,s).pipe((0,Z.map)(e=>({type:i,snapshot:e?era(e,i,o):null}))):(0,Y.of)({type:i,snapshot:r&&(0,nE.default)(r)?err(i,r,o).returnValue:null})}}({observeDocumentTypeFromId:l,observePaths:o}),u=function(e,t){function n(e){return t({_ref:e},[["_rev"],["_system"]]).pipe((0,Z.map)(e=>{var t;return{hasRev:Io(e)&&!!("_rev"in e&&(null==e?void 0:e._rev)),isDeleted:Io(e)&&(null==(t=e._system)?void 0:t.delete)===!0}}),(0,ed.distinctUntilChanged)(),(0,Q.switchMap)(t=>{let{hasRev:n,isDeleted:i}=t;return i?(0,Y.of)(enX):n?(0,Y.of)(enG):r(e)}),en1(e),(0,Z.map)(e=>e.value))}let r=enQ(function(e){let t=[...new Set((0,td.default)(e))];return(0,en.from)(function(e){let t=[],n=0,r=[];for(let i of e)n+i.length+1>=11164&&(r.push(t),t=[],n=0),n+=i.length+1,t.push(i);return r.includes(t)||r.push(t),r}(t)).pipe((0,eC.mergeMap)(i,10),(0,eB.reduce)(en2,[]),(0,Z.map)(n=>e.map(e=>{let[r]=e;return n[t.indexOf(r)]})))},1);function i(t){return(0,G.defer)(()=>{let n={uri:e.getDataUrl("doc",t.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(n).pipe((0,Z.map)(e=>{let n=(0,h5.default)(e.omitted||[],e=>e.id);return t.map(e=>{let t=n[e];if(!t)return enG;if("existence"===t.reason)return enZ;if("permission"===t.reason)return en$;throw Error('Unexpected reason for omission: "'.concat(t.reason,'"'))})}))})}return function(e){let{version:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,th.getDraftId)(e),i=(0,th.getPublishedId)(e),a=t?(0,th.getVersionId)(e,t):void 0;return(0,ev.combineLatest)([n(r),n(i),...a?[n(a)]:[]]).pipe((0,ed.distinctUntilChanged)(nP.default),(0,Z.map)(e=>{let[t,n,r]=e;return{draft:t,published:n,...r?{version:r}:{}}}))}}(n,o),d=function(e){let{observeDocumentPairAvailability:t,observePaths:n}=e,r=[["_updatedAt"],["_createdAt"],["_type"]];return function(e,i){let{version:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{draftId:o,publishedId:l,versionId:s}=D0(e,{version:a});return t(o,{version:a}).pipe((0,Q.switchMap)(e=>{var t;if(!e.draft.available&&!e.published.available&&!(null==(t=e.version)?void 0:t.available))return(0,Y.of)({id:l,type:null,draft:{availability:e.draft,snapshot:void 0},published:{availability:e.published,snapshot:void 0},...e.version?{version:{availability:e.version,snapshot:void 0}}:{}});let c=[...i,...r];return(0,ev.combineLatest)([n({_type:"reference",_ref:o},c),n({_type:"reference",_ref:l},c),...a?[n({_type:"reference",_ref:s},c)]:[]]).pipe((0,Z.map)(t=>{let[n,r,i]=t,a=Io(i)&&"_type"in i&&i._type||Io(n)&&"_type"in n&&n._type||Io(r)&&"_type"in r&&r._type||null;return{id:l,type:"string"==typeof a?a:null,draft:{availability:e.draft,snapshot:n},published:{availability:e.published,snapshot:r},...e.version?{version:{availability:e.version,snapshot:i}}:{}}}))}))}}({observeDocumentPairAvailability:u,observePaths:o});return{observePaths:o,observeForPreview:c,observeDocumentTypeFromId:l,unstable_observeDocumentIdSet:s,unstable_observeDocument:a,unstable_observeDocuments:e=>(0,ev.combineLatest)(e.map(e=>a(e))),unstable_observeDocumentPairAvailability:u,unstable_observePathsDocumentPair:d}}({client:n}),r.set({namespace:"documentPreviewStore",dependencies:[n],value:e}),t[0]=n,t[1]=r,t[2]=e):e=t[2],e}function Fd(){var e;let{getClient:t,i18n:n}=eii(),r=el3(),i=eTm(),a=Fa(),o=Fc(),l=Fu(),s=FU(),c=(0,E.useMemo)(()=>{var e;let t=null==(e=s.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof t?(0,Y.of)(t):(0,Y.of)(!0)},[null==(e=s.__internal_serverDocumentActions)?void 0:e.enabled]),u=(0,tp.useTelemetry)(),d=(0,E.useCallback)(e=>{u.log(Mc,{errorName:e.name})},[u]),p=(0,E.useCallback)(e=>{e.latencyMs>1e3&&u.log(Mu,{latency:e.latencyMs,shard:e.shard,transactionId:e.transactionId})},[u]);return(0,E.useMemo)(()=>{let e=a.get({namespace:"documentStore",dependencies:[t,l,o,r,n,s]})||function(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:i,schema:a,i18n:o,serverActionsEnabled:l,extraOptions:s={}}=e,c=n.unstable_observeDocumentPairAvailability,u=t(AE),{onSyncErrorRecovery:d,onReportLatency:p}=s,f={client:u,getClient:t,observeDocumentPairAvailability:c,historyStore:r,schema:a,i18n:o,serverActionsEnabled:l,extraOptions:s};return{checkoutPair:e=>Ox(u,e,l,{onSyncErrorRecovery:d,onReportLatency:p}),initialValue:(e,t)=>(function(e,t,n,r,i){let a=n.observePaths({_type:"reference",_ref:(0,th.getDraftId)(r.documentId)},["_type"]),o=n.observePaths({_type:"reference",_ref:(0,th.getPublishedId)(r.documentId)},["_type"]);return(0,ei.merge)(a.pipe((0,Z.map)(e=>({draft:e}))),o.pipe((0,Z.map)(e=>({published:e})))).pipe((0,eO.scan)((e,t)=>({...e,...t}),{}),(0,ew.filter)(e=>"draft"in e&&"published"in e),(0,Z.map)(e=>e.draft||e.published),(0,ed.distinctUntilChanged)((e,t)=>!!e!=!!t),(0,eW.debounceTime)(25)).pipe((0,Q.switchMap)(n=>{if(n)return(0,Y.of)({type:"success",value:null});if(!r.templateName)return(0,Y.of)({isResolving:!1,initialValue:void 0,type:"success"});let a=t.find(e=>e.id===r.templateName);if(!a)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),(0,Y.of)({isResolving:!1,initialValue:void 0,type:"success"});let o=(0,en.from)(P7(e,a,r.templateParams,i)).pipe((0,Z.map)(e=>({isResolving:!1,initialValue:e}))).pipe((0,J.catchError)(e=>(console.group("Failed to resolve initial value"),console.error(e),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),(0,Y.of)({type:"error",error:e}))));return(0,ei.merge)((0,Y.of)({isResolving:!0}),o).pipe((0,Q.switchMap)(e=>{let{isResolving:t,initialValue:n,resolveError:r}=e;return r?(0,Y.of)({type:"error",message:"Failed to resolve initial value"}):t?(0,Y.of)(P9):(0,Y.of)({type:"success",value:n})}))}),(0,eI.startWith)(P9),(0,ed.distinctUntilChanged)())})(a,i,n,e,t),listenQuery:(e,t,n)=>Mt(u,e,t,n),resolveTypeForDocument:(e,t)=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return n&&"*"!==n?(0,Y.of)(n):e.observable.fetch("*[sanity::versionOf($publishedId)][0]._type",{publishedId:(0,th.getPublishedId)(t)},{tag:"document.resolve-type"})})(u,e,t),pair:{consistencyStatus:(e,t,n)=>OO(f.client,Mn(e,n),t,l,s),documentEvents:(e,t,n)=>Pq(f.client,Mn(e,n),t,l,s),editOperations:(e,t,n)=>P$(f,Mn(e,n),t),editState:(e,t,n)=>OA(f,Mn(e,n),t),operationEvents:(e,t)=>O2({client:u,historyStore:r,schema:a,serverActionsEnabled:l,extraOptions:s}).pipe((0,ew.filter)(n=>n.args.idPair.publishedId===e&&n.args.typeName===t),(0,Z.map)(e=>{let{operationName:t,idPair:n}=e.args;return"success"===e.type?{type:"success",op:t,id:n.publishedId}:{type:"error",op:t,id:n.publishedId,error:e.error}})),validation:(e,t,n)=>PH(f,Mn(e,n),t)}}}({getClient:t,documentPreviewStore:l,historyStore:o,initialValueTemplates:i,schema:r,i18n:n,serverActionsEnabled:c,extraOptions:{onReportLatency:p,onSyncErrorRecovery:d}});return a.set({namespace:"documentStore",dependencies:[t,l,o,r,n,s],value:e}),e},[a,t,l,o,r,n,s,i,c,p,d])}function Fp(){let e,t=(0,j.c)(5),{__internal:n}=eii(),{bifur:r}=n,i=Fa(),a=Fl(),o=function(){let e,t=(0,j.c)(3),{bifur:n}=eii().__internal,r=Fa();return t[0]!==n||t[1]!==r?(e=r.get({namespace:"connectionStatusStore",dependencies:[n]})||function(e){let{bifur:t}=e;return{connectionStatus$:(0,ei.merge)(t.heartbeats,AQ.pipe((0,eY.mergeMapTo)((0,el.throwError)(Error("The browser went offline"))))).pipe((0,Z.map)(e=>({type:"connected",lastHeartbeat:e})),DQ((e,t,n)=>{let r=Math.min(24e4,100*Math.pow(2,t)),i=new Date(new Date().getTime()+r),a=(0,es.timer)(i),o=!navigator.onLine,l=(e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:i}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:i}})({error:e,retryAt:i,isOffline:o,attemptNo:t}),s=ec.NEVER.pipe((0,eK.takeUntil)(o?AJ:(0,ei.merge)(a,AJ,A0)));return(0,K.concat)((0,Y.of)(l),s.pipe((0,ee.take)(1)),n)}),(0,eI.startWith)(A1))}}({bifur:n}),r.set({namespace:"connectionStatusStore",dependencies:[n],value:e}),t[0]=n,t[1]=r,t[2]=e):e=t[2],e}();return t[0]!==r||t[1]!==o||t[2]!==i||t[3]!==a?(e=i.get({namespace:"presenceStore",dependencies:[r,o,a]})||function(e){let{bifur:t,connectionStatusStore:n,userStore:r}=e,[i,a]=[t.listen("presence").pipe((0,Z.map)(M4)).pipe((0,eg.share)()),e=>"rollCall"===e.type?t.request("presence_rollcall",{session:Ft}):"state"===e.type?t.request("presence_announce",{data:{locations:e.locations,sessionId:Ft}}):"disconnect"===e.type?t.request("presence_disconnect",{session:Ft}):$.EMPTY],o=new ef.BehaviorSubject([]),l=o.pipe((0,ed.distinctUntilChanged)()),s=e=>a({type:"state",locations:e}),c=i.pipe((0,ew.filter)(e=>"rollCall"===e.type),(0,ew.filter)(e=>e.sessionId!==Ft)),u=(0,es.timer)(0,3e4),d=(0,G.defer)(()=>(0,ei.merge)(l,c)).pipe((0,Q.switchMap)(()=>u),(0,eZ.withLatestFrom)(o),(0,Z.map)(e=>{let[,t]=e;return t}),(0,e5.auditTime)(200),(0,Q.switchMap)(e=>s(e)),(0,eY.mergeMapTo)($.EMPTY),(0,eg.share)()),p=(0,G.defer)(()=>a({type:"rollCall"})).pipe((0,eY.mergeMapTo)($.EMPTY)),f=n.connectionStatus$.pipe((0,Z.map)(e=>e.type),(0,ew.filter)(e=>"connected"===e||"error"===e),(0,ed.distinctUntilChanged)()),h=Mb.pipe((0,Z.map)(e=>e.find(e=>e.startsWith("presence="))),(0,Z.map)(e=>(null==e?void 0:e.split("presence=")[1].split(",").map(e=>e.trim()))||[])),m=h.pipe((0,ew.filter)(e=>e.includes("fake_others")),(0,eh.tap)(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),(0,e7.switchMapTo)(M9)),g=h.pipe((0,Z.map)(e=>e.includes("show_own"))),y=(0,ei.merge)(p,i).pipe((0,ew.filter)(e=>"state"===e.type||"disconnect"===e.type)),v=(0,ei.merge)(y,m).pipe((0,eO.scan)((e,t)=>"disconnect"===t.type?(0,uv.default)(e,t.sessionId):{...e,[t.sessionId]:{lastActiveAt:t.timestamp,locations:t.locations,sessionId:t.sessionId,userId:t.userId}},{})),b=f.pipe((0,Q.switchMap)(e=>"connected"===e?(0,ei.merge)(v,d):ec.NEVER),(0,Z.map)(e=>Object.values(e)),(0,Q.switchMap)(e=>{let t=(0,nC.default)(e.map(e=>e.userId));return(0,en.from)(r.getUsers(t)).pipe((0,Z.map)(t=>e.map(e=>({user:t.find(t=>t.id===e.userId),session:e})).filter(x)))}),(0,eK.takeUntil)((0,eo.fromEvent)(window,"beforeunload").pipe((0,Q.switchMap)(()=>a({type:"disconnect"})))),(0,ep.shareReplay)({refCount:!0,bufferSize:1}));function x(e){return!!(e.user&&e.session)}let C=b.pipe((0,Z.map)(e=>{let t=(0,nu.default)(e.map(e=>e.session),e=>e.userId);return Object.keys(t).map(n=>{var r;return{user:null==(r=e.find(e=>e.user.id===n))?void 0:r.user,sessions:t[n]}})}),(0,eZ.withLatestFrom)(g),(0,Z.map)(e=>{let[t,n]=e;return t.filter(e=>n||!e.sessions.some(e=>e.sessionId===Ft))}),(0,Z.map)(e=>e.map(e=>{var t;return{user:e.user,status:"online",lastActiveAt:null==(t=e.sessions.sort()[0])?void 0:t.lastActiveAt,locations:(0,td.default)((e.sessions||[]).map(e=>e.locations||[])).map(e=>({type:e.type,documentId:e.documentId,path:e.path,lastActiveAt:e.lastActiveAt})).reduce((e,t)=>e.concat(t),[])}}))),k=(0,ev.combineLatest)([b,g]).pipe((0,Z.map)(e=>{let[t,n]=e;return t.flatMap(e=>(e.session.locations||[]).map(t=>({documentId:t.documentId,presence:{user:e.user,lastActiveAt:e.session.lastActiveAt,path:t.path||[],sessionId:e.session.sessionId,selection:null==t?void 0:t.selection}}))).filter(e=>n||e.presence.sessionId!==Ft)}),(0,ep.shareReplay)(1));return{setLocation:e=>{o.next(e)},reportLocations:s,debugPresenceParam$:h,globalPresence$:C,documentPresence:(e,t)=>k.pipe((0,Z.map)(n=>n.filter(n=>{var r;return(null==t?void 0:t.excludeVersions)?n.documentId===e:(r=n.documentId,(0,th.getPublishedId)(r)===(0,th.getPublishedId)(e))}).map(e=>({...e.presence,documentId:e.documentId}))),(0,ed.distinctUntilChanged)((e,t)=>(0,e4.default)(e,t)))}}({bifur:r,connectionStatusStore:o,userStore:a}),i.set({namespace:"presenceStore",dependencies:[r,o,a],value:e}),t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=e):e=t[4],e}function Ff(){let e,t=(0,j.c)(3),n=eTt(AE),r=Fa();return t[0]!==n||t[1]!==r?(e=r.get({namespace:"projectStore",dependencies:[n]})||function(e){let{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});return{get:function(){return r.observable.request({url:"/projects/".concat(n)})},getDatasets:function(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})},getOrganizationId:()=>Fn(r)}}({client:n}),r.set({namespace:"projectStore",dependencies:[n],value:e}),t[0]=n,t[1]=r,t[2]=e):e=t[2],e}function Fh(){var e;let t,n=(0,j.c)(4),r=Fa(),i=FU(),a=eTt(AE);return n[0]!==a||n[1]!==r||n[2]!==i?(t=r.get({dependencies:[i],namespace:"KeyValueStore"})||(e=function(e){let{client:t}=e,n=function(e){let{client:t}=e,n=t.withConfig(AE),r=new t9.default(async e=>{let t=(await n.request({uri:"/users/me/keyvalue/".concat(e.join(","))}).catch(t=>(console.error("Error fetching data:",t),Array(e.length).fill(null)))||[]).reduce((e,t)=>((null==t?void 0:t.key)&&(e[t.key]=t.value),e),{});return e.map(e=>t[e]||null)});return{getKey:e=>r.load(e),setKey:(e,t)=>n.request({method:"PUT",uri:"/users/me/keyvalue",body:[{key:e,value:t}]}).then(e=>{let t=e[0];return r.clear(t.key),r.prime(t.key,t.value),t.value},e=>(console.error("Error setting data:",e),null))}}({client:t}),r=new ea.Subject;return{getKey:e=>(0,K.concat)(n.getKey(e),r.pipe((0,ew.filter)(t=>t.key===e),(0,Z.map)(e=>e.value),(0,ed.distinctUntilChanged)(e4.default))),setKey:function(e,t){return r.next({type:"optimistic",key:e,value:t}),n.setKey(e,t).then(t=>(r.next({type:"commit",key:e,value:t}),t))}}}({client:a}),{getKey:function(t){return(0,ei.merge)((0,Y.of)(AS.getKey(t)),e.getKey(t).pipe((0,eh.tap)(e=>{AS.setKey(t,e)}))).pipe((0,ed.distinctUntilChanged)(e4.default))},setKey:function(t,n){return AS.setKey(t,n),e.setKey(t,n)}}),r.set({dependencies:[i],namespace:"KeyValueStore",value:t}),n[0]=a,n[1]=r,n[2]=i,n[3]=t):t=n[3],t}function Fm(){let e,t=(0,j.c)(2),n=Fa();return t[0]!==n?(e=n.get({dependencies:[],namespace:"RenderingContextStore"})||function(){let e=(0,Y.of)(void 0).pipe(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A5;return(0,eu.pipe)((0,Q.switchMap)(t=>t?(0,Y.of)(t):(0,Y.of)(e).pipe((0,ed.distinctUntilChanged)(),(0,Z.map)(e=>new URLSearchParams(e).get("_context")),(0,Z.map)(e=>{if(null===e)return;let{mode:t,env:n}=JSON.parse(e),r={name:"core-ui"===t?"coreUi":void 0,metadata:{environment:n}};if(null!==r&&"name"in r&&"coreUi"===r.name&&"metadata"in r&&"object"==typeof r.metadata&&null!==r.metadata&&"environment"in r.metadata&&"string"==typeof r.metadata.environment)return r}),(0,J.catchError)(e=>(console.warn("Error parsing rendering context:",e),(0,Y.of)(void 0))))))}(),(0,Z.map)(e=>null!=e?e:A7),(0,ep.shareReplay)(1)),t=e.pipe((0,Z.map)(e=>A3[e.name]),(0,ep.shareReplay)(1));return{renderingContext:e,capabilities:t}}(),n.set({dependencies:[],namespace:"RenderingContextStore",value:e}),t[0]=n,t[1]=e):e=t[1],e}function Fg(){let e,t,n=(0,j.c)(4),r=Fa(),i=Fm();n[0]===Symbol.for("react.memo_cache_sentinel")?(e={},n[0]=e):e=n[0];let a=(0,te.useObservable)(i.capabilities,e);return n[1]!==a||n[2]!==r?(t=r.get({dependencies:[a],namespace:"ComlinkStore"})||function(e){let{capabilities:t}=e;if(!t.comlink)return{};let n=(0,xi.createNode)({name:"dashboard/nodes/sdk",connectTo:"dashboard/channels/sdk"});return n.start(),{node:n}}({capabilities:a}),r.set({dependencies:[a],namespace:"ComlinkStore",value:t}),n[1]=a,n[2]=r,n[3]=t):t=n[3],t}let Fy=[],Fv=(0,Y.of)(Fy);function Fb(e){let t,n,r,i=(0,j.c)(6),[a,o]=(0,E.useReducer)(Fx,!1);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(0,E.startTransition)(o),n=[],i[0]=t,i[1]=n):(t=i[0],n=i[1]),(0,E.useEffect)(t,n);let l=Fp();return i[2]!==e||i[3]!==a||i[4]!==l?(r=a?l.documentPresence(e):Fv,i[2]=e,i[3]=a,i[4]=l,i[5]=r):r=i[5],(0,te.useObservable)(r,Fy)}function Fx(){return!0}let FC=[],Fk=(0,Y.of)(FC);function Fw(){return!0}function F_(e){let t,n=(0,j.c)(3),{value:r,children:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(D.EventsContext.Provider,{value:r,children:i}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t}function Fj(){let e=(0,E.useContext)(D.EventsContext);if(null===e)throw Error("useEvents must be used within a EventsProvider");return e}let FS=e=>"createDocumentVersion"===e.type,FE=e=>"deleteDocumentVersion"===e.type,FT=e=>"publishDocumentVersion"===e.type,FD=e=>"unpublishDocument"===e.type,FI=e=>"scheduleDocumentVersion"===e.type,FA=e=>"unscheduleDocumentVersion"===e.type,FO=e=>"deleteDocumentGroup"===e.type,FP=e=>"editDocumentVersion"===e.type,FM="".concat(Ic,".");function FF(e){if(!e.startsWith(FM))throw Error("Release document ID was ".concat(e," but should start with ").concat(Ic));return e.slice(FM.length)}let FR='_type=="'.concat(Is,'" && _id in path("').concat(Ic,'.*")'),FB="order(".concat("_createdAt"," ").concat("desc",")"),FN="*[".concat(FR,"] ").concat('{\n  _id,\n  _type,\n  _rev,\n  _createdAt,\n  _updatedAt,\n  state,\n  finalDocumentStates,\n  publishAt,\n  publishedAt,\n  "metadata": coalesce(metadata, {\n    "title": "",\n    "releaseType": "'.concat("undecided",'",\n  }),\n  // Content Lake initially encoded non-error states as {error: {message: ""}}. This projection\n  // ensures the error field only appears if the document has a non-empty error message.\n  ...select(\n    length(error.message) > 0 => { error },\n    {}\n  ),\n}')," | ").concat(FB),FL={releases:new Map,state:"initialising"};function Fz(){let e,t=(0,j.c)(5),n=Fa(),r=FU(),i=Fu(),a=eTt(Of);return t[0]!==i||t[1]!==n||t[2]!==a||t[3]!==r?(e=n.get({dependencies:[r,i],namespace:"ReleasesStore"})||function(e){let{client:t}=e,n=new ea.Subject,r=new ef.BehaviorSubject(!1),i=(0,Y.of)({action:{type:"LOADING_STATE_CHANGED",payload:{loading:!0,error:void 0}}}).pipe((0,ew.filter)(()=>!r.value),(0,eh.tap)(()=>r.next(!0)),(0,eA.concatWith)(Mt(t,FN,{},{tag:"releases.listen"}).pipe((0,eh.tap)(()=>r.next(!1)),(0,Z.map)(e=>({response:e})))),(0,J.catchError)(e=>(0,Y.of)({action:{type:"LOADING_STATE_CHANGED",payload:{loading:!1,error:e}}})),(0,Q.switchMap)(e=>"action"in e?(0,Y.of)(e.action):(0,Y.of)({type:"RELEASES_SET",payload:e.response},{type:"LOADING_STATE_CHANGED",payload:{loading:!1,error:void 0}}))),a=(0,K.concat)((0,ei.merge)(i,n)).pipe((0,ew.filter)(e=>"u">typeof e),(0,eO.scan)((e,t)=>(function(e,t){switch(t.type){case"LOADING_STATE_CHANGED":return{...e,state:t.payload.loading?"loading":"loaded",error:t.payload.error};case"RELEASES_SET":{var n;let r=(null!=(n=t.payload)?n:[]).reduce((e,t)=>(e.set(t._id,t),e),new Map);return{...e,releases:r}}default:return e}})(e,t),FL),(0,eI.startWith)(FL),(0,ep.shareReplay)(1)),o=a.pipe((0,eu.pipe)((0,Q.switchMap)(e=>{let{releases:t}=e;return(0,en.from)(t.values()).pipe((0,ew.filter)(e=>"active"===e.state),(0,ew.filter)(e=>"u">typeof e.error),(0,eP.count)())}),(0,ed.distinctUntilChanged)()),(0,ep.shareReplay)(1));return{state$:a,errorCount$:o,getMetadataStateForSlugs$:(e=>{let t=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(null==t?void 0:t.length)||!e)return(0,Y.of)({data:null,error:null,loading:!1});let{subquery:r,projection:i}=t.reduce((e,t)=>{let{subquery:n,projection:r}=e,i=FF(t),a="release_".concat(i.replaceAll("-","_"));return{subquery:"".concat(n,'"').concat(a,'": *[sanity::partOfRelease("').concat(i,'")]{_updatedAt, "docId": string::split(_id, ".")[2] } | order(_updatedAt desc),'),projection:"".concat(r,'"').concat(t,'": {\n              "updatedAt": ').concat(a,'[0]._updatedAt,\n              "documentIds": ').concat(a,"[].docId,\n            },")}},{subquery:"",projection:""}),a=e.observable.fetch("{".concat(r,"}{").concat(i,"}"),{},{tag:"release-docs.fetch"}).pipe((0,Q.switchMap)(e=>(0,Y.of)({data:Object.entries(e).reduce((e,t)=>{var n;let[r,i]=t;return{...e,[r]:{...i,documentCount:(null==(n=i.documentIds)?void 0:n.length)||0}}},{}),error:null,loading:!1})),(0,J.catchError)(e=>(console.error("Failed to fetch release metadata",e),(0,Y.of)({data:null,error:e,loading:!1}))));return(0,eD.iif)(()=>n,a.pipe((0,eI.startWith)({loading:!0,data:null,error:null})),a)};return n=>{let r;return(0,ei.merge)(t(n,!0),(null==(r=n)?void 0:r.length)&&e?e.observable.listen("*[(".concat(r.reduce((e,t,n)=>"".concat(e).concat(0===n?"":" ||",' sanity::partOfRelease("').concat(t,'")'),""),")]"),{},{includeResult:!0,includeAllVersions:!0,visibility:"query",events:["mutation"],tag:"release-docs.listen"}).pipe((0,J.catchError)(e=>(console.error("Failed to listen for release metadata",e),$.EMPTY)),(0,ex.bufferTime)(1e3),(0,ew.filter)(e=>e.length>0),(0,Q.switchMap)(e=>{let n=e.reduce((e,t)=>{if("type"in t&&"mutation"===t.type){let n=t.documentId.split(".")[1];return e.includes(n)?e:[...e,n]}return e},[]);return n.length?t(n):$.EMPTY})):$.EMPTY)}})(t),dispatch:function(e){n.next(e)}}}({client:a}),n.set({dependencies:[r,i],namespace:"ReleasesStore",value:e}),t[0]=i,t[1]=n,t[2]=a,t[3]=r,t[4]=e):e=t[4],e}function FV(e){let t,n=(0,j.c)(3),{children:r,workspace:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(D.WorkspaceContext.Provider,{value:i,children:r}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}function FU(){let e=(0,E.useContext)(D.WorkspaceContext);if(!e)throw Error("Workspace: missing context value");return e}function FH(e){return"".concat(Ic,".").concat(e)}function Fq(e,t){return 3e5>Math.abs(Date.parse(e)-Date.parse(t))}async function FW(e,t,n){let r=e.config(),i=r.dataset,a=new URLSearchParams({tag:"sanity.studio.transactions-log",excludeContent:"true",limit:"50",includeIdentifiedDocumentsOnly:"true"});Object.entries(n).forEach(e=>{let[t,n]=e;void 0!==n&&a.set(t,n.toString())});let o=e.getUrl("/data/history/".concat(i,"/transactions/").concat(Array.isArray(t)?t.join(","):t,"?").concat(a.toString())),l=await M$(o,r.token),s=[],c=l.getReader();for(;;){let e=await c.read();if(e.done)break;if("error"in e.value)throw Error(e.value.error.description||e.value.error.type);s.push(e.value)}return s}let FY=Object.create(null);async function FK(e){let{documentId:t,client:n,toTransaction:r,fromTransaction:i}=e,a="".concat(t,"-").concat(r,"-").concat(i);if(FY[a]&&"u">typeof r)return FY[a];let o=i!==r,l=await FW(n,t,{tag:"sanity.studio.documents.history",effectFormat:"mendoza",excludeContent:!0,includeIdentifiedDocumentsOnly:!0,limit:50,fromTransaction:i,toTransaction:r});if(o&&(l=l.filter(e=>e.id!==i)),(o?49===l.length:50===l.length)&&(r&&l[l.length-1].id!==r||!r)){let e=await FK({documentId:t,client:n,toTransaction:r,fromTransaction:l[l.length-1].id});return l.concat(e)}return FY[a]=l,l}function FG(e){let t=!!e,n=e&&F$(null==e?void 0:e.apply),r=e&&F$(null==e?void 0:e.revert);return n?"deleted":r?"created":t?"modified":"noop"}function F$(e){return 0===e[0]&&null===e[1]}let FZ=e=>({type:"editTransaction",author:e.author,timestamp:e.timestamp,revisionId:e.id});function FX(e,t,n){let r=e.filter(e=>"modified"===FG(e.effects[t])).sort((e,t)=>Date.parse(t.timestamp)-Date.parse(e.timestamp)),i=[];for(let e of r){let r=n?{id:e.id,timestamp:e.timestamp,type:"updateLiveDocument",documentId:t,revisionId:e.id,author:e.author,documentVariantType:In(t)}:{type:"editDocumentVersion",documentId:t,id:e.id,timestamp:e.timestamp,author:e.author,contributors:[e.author],releaseId:(0,th.getVersionFromId)(t),revisionId:e.id,transactions:[FZ(e)],documentVariantType:In(t)};if(0===i.length){i.push(r);continue}let a=i[i.length-1];Fq(a.timestamp,r.timestamp)?FP(a)&&(a.transactions.push(FZ(e)),a.contributors.includes(r.author)||a.author===r.author||a.contributors.push(r.author)):i.push(r)}return i}let FJ="history-cleared",FQ={events:[],nextCursor:"",loading:!0,error:null},F1=e=>{if(!e)return{};let{_id:t,_rev:n,_createdAt:r,_updatedAt:i,_type:a,...o}=JSON.parse(JSON.stringify(e));return o};function F2(e){let{_rev:t,...n}=e;return n}function F0(e,t,n){let r=e[t];return r?{timestamp:r.timestamp,author:r.author,event:n}:null}function F5(e,t){return t?F0(e,t.transactionIndex+1,t.event):null}function F7(e,t){return t?F0(e,t.transactionIndex,t.event):null}class F3 extends Error{constructor(e){super("Missing since document for revision ".concat(e)),this.name="MissingSinceDocumentError",this.revisionId=e}}let F8=Object.create(null);function F4(e){let{client:t,documentId:n,revisionId:r}=e;if(r===FJ)return(0,Y.of)({document:null,loading:!1,revisionId:r});let i="".concat(n,"@").concat(r),a=t.config().dataset;return F8[i]||(F8[i]=t.observable.request({url:"/data/history/".concat(a,"/documents/").concat(n,"?revision=").concat(r),tag:"get-document-revision"}).pipe((0,Z.map)(e=>({document:e.documents[0],loading:!1,revisionId:r})),(0,J.catchError)(e=>(console.error("Error fetching document at revision",e),[{document:null,loading:!1,revisionId:r}])),(0,eI.startWith)({document:null,loading:!0,revisionId:r}),(0,ep.shareReplay)(1))),F8[i]}let F6={events:[],nextCursor:"",loading:!0,error:null};function F9(e){var t,n;let{documentId:r,documentType:i,rev:a,since:o}=e,l=eTt(Of),{state$:s}=Fz(),c=FU(),u=(0,E.useMemo)(()=>{var e;let t=null==(e=c.__internal_serverDocumentActions)?void 0:e.enabled;return"boolean"==typeof t?(0,Y.of)(t):(0,Y.of)(!0)},[null==(t=c.__internal_serverDocumentActions)?void 0:t.enabled]),d=!!(null==(n=el3().get(i))?void 0:n.liveEdit),p=(0,E.useMemo)(()=>(function(e){let{client:t,documentId:n,documentType:r,releases$:i,serverActionsEnabled:a,isLiveEdit:o}=e,l=function(e){let{client:t,documentId:n}=e,r=In(n),i=new ef.BehaviorSubject({cursor:null,origin:"initial"}),a="";return{events$:i.pipe((0,Q.switchMap)(e=>{let{cursor:i,origin:a}=e;return(e=>{let{limit:i,nextCursor:a}=e,o=new URLSearchParams({limit:i.toString()});return a&&o.append("nextCursor",a),t.observable.request({url:"/data/history/".concat(t.config().dataset,"/events/documents/").concat(n,"?").concat(o.toString()),tag:"get-document-events"}).pipe((0,Z.map)(e=>{var t;return{events:(null==(t=e.events[n])?void 0:t.map(e=>{var t,n;let i;return t=e,n=r,i="",FS(t)?i="published"===n?t.revisionId||"publishCreation--".concat(t.timestamp):t.versionRevisionId:FE(t)?i="published"===n?"deleteAt-".concat(t.timestamp):t.versionRevisionId:FT(t)?i="published"===n?t.revisionId:t.versionRevisionId||t.revisionId:FD(t)?i="published"===n?"unpublishAt-".concat(t.timestamp):"":FI(t)||FA(t)?i="published"===n?"":t.versionRevisionId:FO(t)?i="deleted-".concat(t.timestamp):("createLiveDocument"===t.type||"updateLiveDocument"===t.type||FP(t))&&(i=t.revisionId),{...t,id:i}}))||[],nextCursor:e.nextCursor,loading:!1,error:null}}))})({nextCursor:i,limit:"reload"===a?10:100}).pipe((0,Q.switchMap)(e=>"published"===r||"loadMore"===a?(0,Y.of)({...e,origin:a}):(e=>{let i="version"===r?e.find(FS):e.find(e=>"versionRevisionId"in e&&e.versionRevisionId),a=i&&"versionRevisionId"in i&&i.versionRevisionId;return(0,en.from)(FK({client:t,documentId:n,fromTransaction:a||"",toTransaction:void 0})).pipe((0,Z.map)(t=>{let i=FX(t,n,!1);if(0===e.length&&t.length>0&&i.length>0){let e=new Date(i[i.length-1].timestamp).getTime()-1;i.unshift({type:"historyCleared",documentId:n,id:FJ,timestamp:new Date(e).toISOString(),author:"",documentVariantType:r})}return i}))})(e.events).pipe((0,Z.map)(t=>({...e,events:[...t,...e.events],origin:a})))),(0,J.catchError)(e=>(console.error("Error fetching events",e),[{events:[],nextCursor:"",loading:!1,error:e,origin:a}])),(0,eI.startWith)({events:[],nextCursor:"",loading:!0,error:null,origin:a}))}),(0,eO.scan)((e,t)=>({events:Array.from([...e.events,...t.events].reduce((e,t)=>{if(e.has(t.id)){let n=e.get(t.id);return FP(n)&&!FP(t)&&e.set(t.id,t),n.type!==t.type&&e.set("".concat(t.id,"-").concat(t.type),t),e}return e.set(t.id,t)},new Map).values()),nextCursor:"reload"===t.origin?e.nextCursor:t.nextCursor,loading:t.loading,error:t.error}),FQ),(0,eh.tap)(e=>{a=e.nextCursor}),(0,ep.shareReplay)(1)),reloadEvents:()=>i.next({cursor:null,origin:"reload"}),loadMore:()=>{let e=i.getValue().cursor;a&&e!==a&&i.next({origin:"loadMore",cursor:a})}}}({client:t,documentId:n}),{expandedEvents$:s,handleExpandEvent:c}=function(e){let{documentId:t,client:n}=e,r=new ef.BehaviorSubject(new Map);return{handleExpandEvent:async e=>{if(!r.getValue().has(e.id))if((FT(e)||FE(e))&&e.versionRevisionId&&e.creationEvent){let i=FX(await FK({client:n,documentId:t,fromTransaction:e.creationEvent.versionRevisionId,toTransaction:e.versionRevisionId}),t,!1).map(t=>({...t,parentId:e.id})),a=r.getValue();a.set(e.id,i),r.next(a)}else console.error("This event can't be expanded",e)},expandedEvents$:r.pipe((0,Z.map)(e=>Array.from(e.values()).flatMap(e=>e)))}}({client:t,documentId:n}),{remoteEdits$:u,remoteTransactions$:d,subscribe:p}=function(e){let{client:t,isLiveEdit:n,documentId:r,documentType:i,serverActionsEnabled:a,onRefetch:o}=e,l=new ef.BehaviorSubject([]),s=l.pipe((0,Z.map)(e=>FX(e,r,n))),c=In(r),u=e=>{if(!e)return;let t=e.version;if(t!==c)return;if("published"===t&&!n)return void o();let r=FG({apply:e.effects.apply,revert:e.effects.revert});if("created"===r||"deleted"===r){o(),l.next([]);return}l.next([...l.value,{author:e.author,documentIDs:[],id:e.transactionId,timestamp:e.timestamp.toISOString(),effects:{[e.head._id]:{apply:e.effects.apply,revert:e.effects.revert}}}])},d=O0(t,{draftId:(0,th.getDraftId)(r),publishedId:(0,th.getPublishedId)(r),...(0,th.isVersionId)(r)?{versionId:r}:{}},i,a).pipe((0,ew.filter)(e=>"remoteMutation"===e.type));return{remoteTransactions$:l,remoteEdits$:s,subscribe:()=>d.subscribe(u)}}({client:t,documentId:n,documentType:r,isLiveEdit:o,serverActionsEnabled:a,onRefetch:l.reloadEvents}),f=function(e){let{releases$:t,events$:n,remoteEdits$:r,expandedEvents$:i,documentId:a}=e,o=In(a);return(0,ev.combineLatest)([t,n,r,i]).pipe((0,Z.map)(e=>{let[t,{events:n,nextCursor:r,loading:i,error:a},l,s]=e,c=function(e){let{remoteEdits:t,events:n,expandedEvents:r}=e;return[...t,...n,...r].sort((e,t)=>FT(e)&&FP(t)&&e.versionRevisionId===t.revisionId?-1:FT(t)&&FP(e)&&t.versionRevisionId===e.revisionId?1:Date.parse(t.timestamp)-Date.parse(e.timestamp))}({remoteEdits:l,events:n,expandedEvents:s});return"published"===o?{events:c.map(e=>{if(FT(e)){let n=(0,th.getVersionFromId)(e.versionId);if(n){let r=FH(n),i=t.releases.get(r);return{...e,release:i||{_id:r}}}}return e}),nextCursor:r,loading:i,error:a}:"draft"===o?{events:function(e){let t=JSON.parse(JSON.stringify(e));return t.forEach((e,n)=>{var r;if(FT(e)||FE(e)){e.documentId=e.versionId;for(let r=n;r<t.length;r++){let n=t[r];if(FP(n)&&(n.parentId=e.id),FS(n)){e.creationEvent=n,n.parentId=e.id;break}}}FP(e)&&e.parentId===e.id&&(null==(r=e.transactions[1])?void 0:r.revisionId)&&(e.id=e.transactions[1].revisionId)}),t}(c),nextCursor:r,loading:i,error:a}:{events:c.map(e=>FT(e)?{...e,documentId:e.versionId}:e),nextCursor:r,loading:i,error:a}}),(0,Z.map)(e=>{let t;return{...e,events:(t=e.events,t.map(e=>({...e,documentVariantType:o})))}}),(0,Z.map)(e=>({...e,events:e.events.reduce((e,t)=>{if("updateLiveDocument"===t.type){let n=e[e.length-1];if(n&&"updateLiveDocument"===n.type&&Fq(n.timestamp,t.timestamp)&&n.author===t.author)return e}return e.push(t),e},[])})))}({documentId:n,events$:l.events$,remoteEdits$:u,expandedEvents$:s,releases$:i});return{eventsObservable$:f,getDocumentChanges:(e,r)=>(function(e){let{eventsObservable$:t,documentId:n,client:r,to$:i,since$:a,remoteTransactions$:o}=e,l=null,s=null,c=[];return(0,ev.combineLatest)(i,a,t).pipe((0,Q.switchMap)(e=>{let t,[i,a,{events:u}]=e,d=null==i?void 0:i.document;if(null==a?void 0:a.document)t=null==a?void 0:a.document;else{let e=u.find(e=>e.id===(null==d?void 0:d._rev));e&&FS(e)&&d&&(t={_type:d._type,_id:d._id,_rev:d._rev})}return t?o.pipe((0,Q.switchMap)(e=>{let i=!(null==d?void 0:d._rev);return(t._rev===FJ?(0,Y.of)([]):i&&l===t._rev?(0,Y.of)(function(e){let t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))}(c.concat(e))):l&&l===t._rev&&s&&s===(null==d?void 0:d._rev)?(0,Y.of)(c):(0,en.from)(FK({documentId:n,client:r,toTransaction:null==d?void 0:d._rev,fromTransaction:t._rev}))).pipe((0,eh.tap)(e=>{l=t._rev,c=e,(null==d?void 0:d._rev)&&(s=d._rev)}),(0,Z.map)(e=>({loading:!1,diff:function(e){let{initialDoc:t,documentId:n,transactions:r,events:i=[]}=e,a=bX.wrap(F2(t),null),o=bX.wrap(F2(t),null),l=F2(t);return r.forEach((e,t)=>{let r={transactionIndex:t,event:i.find(t=>!FP(t)&&"revisionId"in t&&t.revisionId===e.id)},a=e.effects[n];a&&(o=bX.applyPatch(o,a.apply,r),l=bQ(l,a.apply))}),function(e){let{transactions:t,fromValue:n,fromRaw:r,toValue:i,toRaw:a}=e;return m0(Mz(n,r,{fromValue:e=>F5(t,e.endMeta),fromMeta:e=>F5(t,e)}),Mz(i,a,{fromValue:e=>F7(t,e.startMeta),fromMeta:e=>F7(t,e)}))}({transactions:r,fromValue:a,fromRaw:t,toValue:o,toRaw:l})}({documentId:n,initialDoc:t,transactions:e,events:u}),error:null})))}),(0,J.catchError)(e=>(console.error(e),(0,Y.of)({loading:!1,diff:null,error:e}))),(0,eI.startWith)({loading:!0,error:null,diff:t&&d?m0(m9(F1(t),null),m9(F1(d),null)):null}),(0,ep.shareReplay)(1)):(0,Y.of)({loading:!1,diff:null,error:a&&!a.loading&&a.revisionId?new F3(null==a?void 0:a.revisionId):null})}))})({client:t,eventsObservable$:f,documentId:n,remoteTransactions$:d,to$:e,since$:r}),handleExpandEvent:c,loadMoreEvents:l.loadMore,reloadEvents:l.reloadEvents,remoteTransactionsListener:p}})({client:l,documentId:r,documentType:i,releases$:s,serverActionsEnabled:u,isLiveEdit:d}),[l,r,i,s,u,d]),{events:f,loading:h,error:m,nextCursor:g}=(0,te.useObservable)(p.eventsObservable$,F6);(0,E.useEffect)(()=>{let e=p.remoteTransactionsListener();return()=>{e.unsubscribe()}},[p]);let y=(0,E.useMemo)(()=>{var e;if("@lastPublished"===a)return(null==(e=f.find(FT))?void 0:e.id)||null;if("@lastEdited"===a){let e=f.find(FP);if(e)return e.revisionId}if(null==a?void 0:a.startsWith("@release:")){let e=a.split(":")[1],t=f.find(t=>FT(t)&&t.releaseId===e);if(t)return t.id;f.length>0&&!h&&p.loadMoreEvents()}if(!a){let[e]=f;if(e&&FT(e))return e.id}return a},[f,a,p,h]),v=(0,E.useMemo)(()=>y?F4({client:l,documentId:r,revisionId:y}):(0,Y.of)(null),[l,r,y]),b=(0,te.useObservable)(v,null),x=(0,E.useMemo)(()=>{var e,t,n;if(o&&"@lastPublished"!==o)return o;if(!f)return null;if("@lastPublished"===o||!o){let e=f.findIndex(e=>e.id===y),t=null==(n=f.slice(e+1).find(FT))?void 0:n.id;if(t)return t;let r=f.find(FS);if(r)return r.id}if(!y)return null==(e=f[1])?void 0:e.id;let r=f.findIndex(e=>e.id===y);return -1===r?null:(null==(t=f[r+1])?void 0:t.id)||null},[f,y,o]),C=(0,E.useMemo)(()=>x?F4({client:l,documentId:r,revisionId:x}):(0,Y.of)(null),[x,l,r]),k=(0,E.useCallback)(()=>p.getDocumentChanges(v,C),[p,v,C]),w=(0,te.useObservable)(C,null),_=In(r),j=(0,E.useCallback)(e=>{if(!f)return[null,null];let t=f.findIndex(t=>t.id===e);if(0===t)return"version"===_&&FT(f[0])?[o||null,e]:[o||null,null];if(!o){let n=f.findIndex(e=>e.id===y);return -1===n||-1===t||t>n?[null,e]:[y||null,e]}let n=f.findIndex(e=>e.id===o);return -1===n||-1===t||n<t||n===t?[null,e]:[o,e]},[f,o,_,y]),S=(0,E.useCallback)(e=>{if(!f)return[null,null];if(!a||!y)return[e,null];let t=f.findIndex(e=>e.id===y),n=f.findIndex(t=>t.id===e);return -1===n||-1===t||n<t||n===t?[e,null]:[e,y]},[f,a,y]);return{events:f,nextCursor:g,loading:h,error:m,revision:b,sinceRevision:w,findRangeForRevision:j,findRangeForSince:S,loadMoreEvents:p.loadMoreEvents,expandEvent:p.handleExpandEvent,getChangesList:k}}let Re=(0,F.styled)(A.Skeleton)(e=>{var t;let n=(0,ne.getTheme_v2)(e.theme),r=null!=(t=e.$size)?t:1;return(0,F.css)(Co(),n.avatar.sizes[r].size,n.avatar.sizes[r].size)}),Rt=RegExp("[^\\p{Alpha}\\p{White_Space}]","gu"),Rn=RegExp("\\p{White_Space}+","u"),Rr={small:0,medium:1,large:2};function Ri(e){let t,n,r,i,a=(0,j.c)(13);if(a[0]!==e?({user:n,withTooltip:r,...t}=e,a[0]=e,a[1]=t,a[2]=n,a[3]=r):(t=a[1],n=a[2],r=a[3]),Io(n)){let e;if(r){let e,r=n;return a[4]!==t||a[5]!==r?(e=(0,_.jsx)(Ra,{...t,user:r}),a[4]=t,a[5]=r,a[6]=e):e=a[6],e}let i=n;return a[7]!==t||a[8]!==i?(e=(0,_.jsx)(Ro,{...t,user:i}),a[7]=t,a[8]=i,a[9]=e):e=a[9],e}let o=n;return a[10]!==e||a[11]!==o?(i=(0,_.jsx)(Rl,{...e,user:o}),a[10]=e,a[11]=o,a[12]=i):i=a[12],i}function Ra(e){let t,n,r,i=(0,j.c)(6),{user:a}=e,{displayName:o}=a;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"inline-block"},i[0]=t):t=i[0],i[1]!==e?(n=(0,_.jsx)("div",{style:t,children:(0,_.jsx)(Ro,{...e})}),i[1]=e,i[2]=n):n=i[2],i[3]!==o||i[4]!==n?(r=(0,_.jsx)(B.Tooltip,{content:o,placement:"top",portal:!0,children:n}),i[3]=o,i[4]=n,i[5]=r):r=i[5],r}let Ro=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d=(0,j.c)(22);d[0]!==e?({user:s,animateArrowFrom:n,position:r,size:a,status:o,tone:l,...i}=e,d[0]=e,d[1]=n,d[2]=r,d[3]=i,d[4]=a,d[5]=o,d[6]=l,d[7]=s):(n=d[1],r=d[2],i=d[3],a=d[4],o=d[5],l=d[6],s=d[7]);let[p,f]=(0,E.useState)(null),h=Ab(s.id),m=p||null==s?void 0:s.imageUrl;d[8]!==s.displayName?(c=(null==s?void 0:s.displayName)&&function(e){let t=e.replace(Rt,"").split(Rn);return 1===t.length?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}(s.displayName),d[8]=s.displayName,d[9]=c):c=d[9];let g="string"==typeof a?Rr[a]:a,y=null==s?void 0:s.displayName;return d[10]!==n||d[11]!==m||d[12]!==r||d[13]!==t||d[14]!==i||d[15]!==o||d[16]!==c||d[17]!==g||d[18]!==y||d[19]!==l||d[20]!==h.name?(u=(0,_.jsx)(I.Avatar,{__unstable_hideInnerStroke:!0,animateArrowFrom:n,arrowPosition:r,color:h.name,"data-legacy-tone":l,initials:c,src:m,onImageLoadError:f,ref:t,size:g,status:o,title:y,...i}),d[10]=n,d[11]=m,d[12]=r,d[13]=t,d[14]=i,d[15]=o,d[16]=c,d[17]=g,d[18]=y,d[19]=l,d[20]=h.name,d[21]=u):u=d[21],u});function Rl(e){let t,n,r,i=(0,j.c)(10);i[0]!==e?({user:n,...t}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let[a,o]=A4(n);if(o){let e;return i[3]!==t.size?(e=(0,_.jsx)(Re,{$size:t.size,animated:!0}),i[3]=t.size,i[4]=e):e=i[4],e}if(!a){let e;return i[5]!==t.size?(e=(0,_.jsx)(Re,{$size:t.size,animated:!1}),i[5]=t.size,i[6]=e):e=i[6],e}return i[7]!==t||i[8]!==a?(r=(0,_.jsx)(Ri,{...t,user:a}),i[7]=t,i[8]=a,i[9]=r):r=i[9],r}function Rs(e){let t,n,r=(0,j.c)(5);r[0]!==e?(t=void 0===e?{}:e,r[0]=e,r[1]=t):t=r[1];let i=t,a=IF().id;return r[2]!==a||r[3]!==i?(n=IB.dateTimeFormat(a,i),r[2]=a,r[3]=i,r[4]=n):n=r[4],n}let Rc={month:"short",day:"numeric"},Ru={...Rc,year:"numeric"},Rd={...Ru,hour:"numeric",minute:"numeric"};function Rp(e,t){let n,r,i,a=(0,j.c)(5);a[0]!==t?(n=void 0===t?{}:t,a[0]=t,a[1]=n):n=a[1];let o=n,[l,s]=(0,E.useReducer)(Rh,null,Rf),c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{t:r}=IO(),i=IF().id,{timeZone:a,minimal:o}=n,l=e instanceof Date?e:new Date(e),s=!!n.useTemporalPhrase,c=(0,E.useCallback)(function(e,t){let n="day"===t&&1===Math.abs(e),r="week"===t&&1===Math.abs(e);return s||n?IB.relativeTimeFormat(i,{style:o&&!r?"short":"long",numeric:"auto"}).format(e,t):IB.numberFormat(i,{style:"unit",unit:t,unitDisplay:o?"short":"long"}).format(Math.abs(e))},[i,s,o]);if(!l.getTime())return{timestamp:"",refreshInterval:null};let u=(0,tw.differenceInMonths)(t,l),d=(0,t_.differenceInYears)(t,l);if(u||d)return o&&0===d?{timestamp:IB.dateTimeFormat(i,{...Rc,timeZone:a}).format(l),refreshInterval:null}:o?{timestamp:IB.dateTimeFormat(i,{...Ru,timeZone:a}).format(l),refreshInterval:null}:{timestamp:IB.dateTimeFormat(i,{...Rd,timeZone:a}).format(l),refreshInterval:null};let p=(0,tj.differenceInWeeks)(l,t);if(p)return{timestamp:c(p,"week"),refreshInterval:36e5};let f=(0,tS.differenceInDays)(l,t);if(f)return{timestamp:c(f,"day"),refreshInterval:36e5};let h=(0,tE.differenceInHours)(l,t);if(h)return{timestamp:c(h,"hour"),refreshInterval:6e4};let m=(0,tT.differenceInMinutes)(l,t);if(m)return{timestamp:c(m,"minute"),refreshInterval:2e4};let g=(0,tD.differenceInSeconds)(l,t);return Math.abs(g)>10?{timestamp:c(g,"second"),refreshInterval:5e3}:{timestamp:r("relative-time.just-now"),refreshInterval:5e3}}(e,o.relativeTo||l,o);return a[2]!==c.refreshInterval?(r=()=>{let e;return null!==c.refreshInterval&&function t(n){e=window.setTimeout(()=>{s(),e=window.setTimeout(()=>t(n),n)},n)}(c.refreshInterval),()=>{null!==e&&clearTimeout(e)}},i=[c.refreshInterval],a[2]=c.refreshInterval,a[3]=r,a[4]=i):(r=a[3],i=a[4]),(0,E.useEffect)(r,i),c.timestamp}function Rf(){return Date.now()}function Rh(){return Date.now()}let Rm="drafts",Rg="published",Ry="asap",Rv=["archived","published"],Rb={asap:{tone:"caution"},scheduled:{tone:"suggest"},undecided:{tone:"neutral"}},Rx=(0,tv.customAlphabet)("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8);function RC(){return"".concat(Ic,".r").concat(Rx())}function Rk(e){let t=e.publishedAt||e.publishAt||e.metadata.intendedPublishAt;return t?new Date(t):null}function Rw(e){let t=Rk(e);return t?It(t,new Date):""}function R_(e){return"published"===e}function Rj(e){return e===Rm}function RS(e){return"scheduled"===e.metadata.releaseType&&("scheduled"===e.state||"scheduling"===e.state)}let RE=()=>({_id:RC(),metadata:{title:"",description:"",releaseType:Ry,cardinality:"many"}});function RT(e){return t=>{let n=Ip(t);return"drafts"===e?n:!n}}function RD(e){if(R_(e))return"positive";if(Rj(e))return"default";if(Id(e)){var t,n,r;if("archived"===e.state)return"default";if((null==e||null==(t=e.metadata)?void 0:t.releaseType)==="asap")return Rb.asap.tone;if((null==e||null==(n=e.metadata)?void 0:n.releaseType)==="undecided")return Rb.undecided.tone;if((null==e||null==(r=e.metadata)?void 0:r.releaseType)==="scheduled")return Rb.scheduled.tone}return"default"}let RI=F.styled.span(e=>{let{$tone:t}=e;return(0,F.css)(Cl(),null!=t?t:"default",null!=t?t:"default")}),RA=e=>{let t,n=(0,j.c)(3),{children:r,$tone:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(RI,{$tone:i,children:r}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t},RO=e=>{let t=RD(null!=e?e:Rm);return e=>{let n,r=(0,j.c)(2),{children:i}=e;return r[0]!==i?(n=(0,_.jsx)(RA,{$tone:t,children:i}),r[0]=i,r[1]=n):n=r[1],n}},RP={historyCleared:R.TimelineIcon,createDocumentVersion:R.AddCircleIcon,createLiveDocument:R.AddCircleIcon,deleteDocumentGroup:R.TrashIcon,deleteDocumentVersion:R.CloseIcon,editDocumentVersion:R.EditIcon,updateLiveDocument:R.EditIcon,publishDocumentVersion:R.PublishIcon,unpublishDocument:R.UnpublishIcon,scheduleDocumentVersion:R.CalendarIcon,unscheduleDocumentVersion:R.CircleIcon},RM={historyCleared:"orange",createDocumentVersion:"green",createLiveDocument:"blue",updateLiveDocument:"green",editDocumentVersion:"yellow",unpublishDocument:"orange",deleteDocumentVersion:"orange",deleteDocumentGroup:"orange",scheduleDocumentVersion:"cyan",unscheduleDocumentVersion:"cyan",publishDocumentVersion:"green"},RF={published:{createDocumentVersion:"timeline.operation.created",historyCleared:"timeline.operation.history-cleared",publishDocumentVersion:"timeline.operation.published",updateLiveDocument:"timeline.operation.edited-live",editDocumentVersion:"timeline.operation.edited-draft",unpublishDocument:"timeline.operation.unpublished",deleteDocumentVersion:"timeline.operation.draft-discarded",deleteDocumentGroup:"timeline.operation.deleted",scheduleDocumentVersion:"timeline.operation.published",unscheduleDocumentVersion:"timeline.operation.published",createLiveDocument:"timeline.operation.created"},draft:{createDocumentVersion:"timeline.operation.draft-created",historyCleared:"timeline.operation.history-cleared",publishDocumentVersion:"timeline.operation.published",updateLiveDocument:"timeline.operation.edited-live",editDocumentVersion:"timeline.operation.edited-draft",unpublishDocument:"timeline.operation.unpublished",deleteDocumentVersion:"timeline.operation.draft-discarded",deleteDocumentGroup:"timeline.operation.deleted",scheduleDocumentVersion:"timeline.operation.published",unscheduleDocumentVersion:"timeline.operation.published",createLiveDocument:"timeline.operation.created"},version:{createDocumentVersion:"timeline.operation.version-created",historyCleared:"timeline.operation.history-cleared",publishDocumentVersion:"timeline.operation.published",updateLiveDocument:"timeline.operation.edited-live",editDocumentVersion:"timeline.operation.edited-draft",unpublishDocument:"timeline.operation.unpublished",deleteDocumentVersion:"timeline.operation.version-discarded",deleteDocumentGroup:"timeline.operation.deleted",scheduleDocumentVersion:"timeline.operation.published",unscheduleDocumentVersion:"timeline.operation.published",createLiveDocument:"timeline.operation.created"}};function RR(e){let t,n,r=(0,j.c)(9),{maxLength:i,userIds:a,size:o,withTooltip:l}=e,s=void 0===l||l;if(r[0]!==a||r[1]!==s){let e;r[3]!==s?(e=e=>(0,_.jsx)(Ri,{user:e,withTooltip:s},e),r[3]=s,r[4]=e):e=r[4],t=a.map(e),r[0]=a,r[1]=s,r[2]=t}else t=r[2];return r[5]!==i||r[6]!==o||r[7]!==t?(n=(0,_.jsx)(I.AvatarStack,{maxLength:i,size:o,children:t}),r[5]=i,r[6]=o,r[7]=t,r[8]=n):n=r[8],n}let RB=(0,F.styled)(I.Flex)(e=>{let t=(0,ne.getTheme_v2)(e.theme),n=e.$color;return(0,F.css)(Cs(),t.color.avatar[n].fg,t.color.avatar[n].bg,t.avatar.sizes[0].size,t.avatar.sizes[0].size)}),RN={minimal:!0,useTemporalPhrase:!0},RL=(0,F.styled)(A.Skeleton)(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Cc(),t.avatar.sizes[1].size,t.avatar.sizes[1].size)}),Rz=(0,F.styled)(A.Skeleton)(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Cu(),t.font.text.sizes[0].lineHeight)}),RV=e=>{let t,n,r,i=(0,j.c)(10),{userId:a}=e,[o,l]=A4(a);return i[0]!==l||i[1]!==o?(t=(0,_.jsx)(I.Box,{children:l||!o?(0,_.jsx)(RL,{animated:!0}):(0,_.jsx)(Ri,{user:o})}),i[0]=l,i[1]=o,i[2]=t):t=i[2],i[3]!==l||i[4]!==o?(n=(0,_.jsx)(I.Box,{children:!l&&(null==o?void 0:o.displayName)?(0,_.jsx)(I.Text,{muted:!0,size:1,children:o.displayName}):(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(Rz,{animated:!0})})}),i[3]=l,i[4]=o,i[5]=n):n=i[5],i[6]!==t||i[7]!==n||i[8]!==a?(r=(0,_.jsxs)(I.Flex,{align:"center",gap:2,padding:1,children:[t,n]},a),i[6]=t,i[7]=n,i[8]=a,i[9]=r):r=i[9],r},RU=e=>{let t,n,r,i,a=(0,j.c)(9),{collaborators:o}=e,{t:l}=IO("studio");return a[0]!==l?(t=l("timeline.changes.title"),a[0]=l,a[1]=t):t=a[1],a[2]!==t?(n=(0,_.jsx)(I.Box,{padding:1,paddingBottom:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:t})}),a[2]=t,a[3]=n):n=a[3],a[4]!==o?(r=o.map(Rq),a[4]=o,a[5]=r):r=a[5],a[6]!==n||a[7]!==r?(i=(0,_.jsxs)(I.Stack,{paddingBottom:1,children:[n,r]}),a[6]=n,a[7]=r,a[8]=i):i=a[8],i};function RH(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w=(0,j.c)(55),{event:S,showChangesBy:E}=e,T=void 0===E?"tooltip":E,{t:D}=IO("studio"),{type:A,timestamp:O,documentVariantType:P}=S,M=RP[A];w[0]!==S?(n="contributors"in S&&S.contributors||[],w[0]=S,w[1]=n):n=w[1];let F=n;w[2]===Symbol.for("react.memo_cache_sentinel")?(r={dateStyle:"medium",timeStyle:"short"},w[2]=r):r=w[2];let R=Rs(r);w[3]!==O?(i=new Date(O),w[3]=O,w[4]=i):i=w[4];let N=Rp(i||"",RN);if(w[5]!==R||w[6]!==O){let e=new Date(O);a=R.format(e),w[5]=R,w[6]=O,w[7]=a}else a=w[7];let L=a;w[8]!==S?(o=FP(S)?S.contributors:[S.author],w[8]=S,w[9]=o):o=w[9];let z=o;w[10]===Symbol.for("react.memo_cache_sentinel")?(l={position:"relative"},w[10]=l):l=w[10],w[11]!==z?(s=z.filter(Boolean),w[11]=z,w[12]=s):s=w[12],w[13]!==s?(c=(0,_.jsx)(RR,{maxLength:3,userIds:s,size:2}),w[13]=s,w[14]=c):c=w[14];let V=RM[A];w[15]!==M?(u=M&&(0,_.jsx)(M,{}),w[15]=M,w[16]=u):u=w[16],w[17]!==u?(d=(0,_.jsx)(I.Text,{size:0,children:u}),w[17]=u,w[18]=d):d=w[18],w[19]!==V||w[20]!==d?(p=(0,_.jsx)(RB,{align:"center",justify:"center",$color:V,children:d}),w[19]=V,w[20]=d,w[21]=p):p=w[21],w[22]!==p||w[23]!==c?(f=(0,_.jsxs)("div",{style:l,children:[c,p]}),w[22]=p,w[23]=c,w[24]=f):f=w[24];let U=RF[P][A];return w[25]!==D||w[26]!==U?(h=D(U),w[25]=D,w[26]=U,w[27]=h):h=w[27],w[28]!==P||w[29]!==S||w[30]!==D?(m=FT(S)&&"published"===P&&(0,_.jsxs)(_.Fragment,{children:[" ",S.release?(0,_.jsx)(RA,{$tone:Id(S.release)?RD(S.release):"default",children:(null==(t=S.release.metadata)?void 0:t.title)||D("release.placeholder-untitled-release")}):(0,_.jsx)(RA,{$tone:"caution",children:D("changes.versions.draft")})]}),w[28]=P,w[29]=S,w[30]=D,w[31]=m):m=w[31],w[32]!==h||w[33]!==m?(g=(0,_.jsxs)(I.Text,{size:1,weight:"medium",children:[h,m]}),w[32]=h,w[33]=m,w[34]=g):g=w[34],w[35]!==L||w[36]!==O||w[37]!==N?(y=(0,_.jsx)(I.Text,{as:"time",size:1,muted:!0,dateTime:O,title:L,children:N}),w[35]=L,w[36]=O,w[37]=N,w[38]=y):y=w[38],w[39]!==g||w[40]!==y?(v=(0,_.jsxs)(I.Stack,{space:2,children:[g,y]}),w[39]=g,w[40]=y,w[41]=v):v=w[41],w[42]!==F||w[43]!==T?(b=F.length>0&&"tooltip"==T&&(0,_.jsx)(I.Flex,{flex:1,justify:"flex-end",align:"center",children:(0,_.jsx)(B.Tooltip,{placement:"top",content:(0,_.jsx)(RU,{collaborators:F}),portal:!0,children:(0,_.jsx)(I.Box,{paddingLeft:2,paddingY:2,children:(0,_.jsx)(RR,{maxLength:3,userIds:F,size:0,withTooltip:!1})})})}),w[42]=F,w[43]=T,w[44]=b):b=w[44],w[45]!==f||w[46]!==v||w[47]!==b?(x=(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[f,v,b]}),w[45]=f,w[46]=v,w[47]=b,w[48]=x):x=w[48],w[49]!==F||w[50]!==T?(C=F.length>0&&"inline"===T&&(0,_.jsx)(I.Box,{paddingTop:2,children:(0,_.jsx)(RU,{collaborators:F})}),w[49]=F,w[50]=T,w[51]=C):C=w[51],w[52]!==x||w[53]!==C?(k=(0,_.jsxs)(_.Fragment,{children:[x,C]}),w[52]=x,w[53]=C,w[54]=k):k=w[54],k}function Rq(e){return(0,_.jsx)(RV,{userId:e},e)}function RW(e){let t,n,r,i,a,o,l,s=(0,j.c)(16);if(!("diff"in e)){let t;return s[0]!==e?(t=(0,_.jsx)(RY,{...e}),s[0]=e,s[1]=t):t=s[1],t}s[2]!==e?({diff:t,path:r,...n}=e,s[2]=e,s[3]=t,s[4]=n,s[5]=r):(t=s[3],n=s[4],r=s[5]),s[6]!==r?(i=void 0===r?[]:r,s[6]=r,s[7]=i):i=s[7];let c=i;s[8]!==t||s[9]!==c?(a=Ay(t,c),s[8]=t,s[9]=c,s[10]=a):a=s[10];let u=a;return s[11]!==u?(o=u?[u]:[],s[11]=u,s[12]=o):o=s[12],s[13]!==n||s[14]!==o?(l=(0,_.jsx)(RY,{...n,annotations:o}),s[13]=n,s[14]=o,s[15]=l):l=s[15],l}function RY(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(22);p[0]!==e?({annotations:t,children:n,description:r,...i}=e,p[0]=e,p[1]=t,p[2]=n,p[3]=r,p[4]=i):(t=p[1],n=p[2],r=p[3],i=p[4]);let{t:f}=IO();if(!t)return n;p[5]===Symbol.for("react.memo_cache_sentinel")?(a={minWidth:"240px"},p[5]=a):a=p[5],p[6]!==r||p[7]!==f?(o=r||f("changes.changed-label"),p[6]=r,p[7]=f,p[8]=o):o=p[8],p[9]!==o?(l=(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:o}),p[9]=o,p[10]=l):l=p[10],p[11]!==t?(s=t.map(RK),p[11]=t,p[12]=s):s=p[12],p[13]!==s?(c=(0,_.jsx)(I.Stack,{space:2,children:s}),p[13]=s,p[14]=c):c=p[14],p[15]!==l||p[16]!==c?(u=(0,_.jsxs)(I.Stack,{space:2,style:a,paddingTop:1,children:[l,c]}),p[15]=l,p[16]=c,p[17]=u):u=p[17];let h=u;return p[18]!==n||p[19]!==h||p[20]!==i?(d=(0,_.jsx)(eDd,{zOffset:"paneFooter",children:(0,_.jsx)(B.Tooltip,{content:h,portal:!0,...i,children:n})}),p[18]=n,p[19]=h,p[20]=i,p[21]=d):d=p[21],d}function RK(e,t){return(0,_.jsx)(RG,{annotation:e},t)}function RG(e){let t,n,r=(0,j.c)(9),{annotation:i}=e,{author:a,timestamp:o}=i,[l]=A4(a),s=A_(i);r[0]===Symbol.for("react.memo_cache_sentinel")?(t={minimal:!0},r[0]=t):t=r[0];let c=Rp(o,t),{t:u}=IO();return r[1]!==i.event||r[2]!==a||r[3]!==s||r[4]!==u||r[5]!==c||r[6]!==o||r[7]!==l?(n=(0,_.jsx)(_.Fragment,{children:i.event?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Card,{borderBottom:!0,marginBottom:2}),(0,_.jsx)(RH,{event:i.event,showChangesBy:"inline"})]}):(0,_.jsxs)(I.Inline,{space:2,children:[(0,_.jsx)(I.Flex,{align:"center",paddingRight:3,style:{backgroundColor:s.background,color:s.text,borderRadius:"calc(23px / 2)"},children:a&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(Ri,{user:a}),(0,_.jsx)(I.Inline,{paddingLeft:2,children:(0,_.jsx)(I.Text,{muted:!0,size:1,style:{color:s.text},children:l?l.displayName:u("changes.loading-author")})})]})}),(0,_.jsx)(I.Text,{as:"time",muted:!0,size:1,dateTime:o,children:c})]})}),r[1]=i.event,r[2]=a,r[3]=s,r[4]=u,r[5]=c,r[6]=o,r[7]=l,r[8]=n):n=r[8],n}let R$=(0,F.styled)(I.Card)(Cd(),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg},e=>{let{$annotationColor:t}=e;return t.backgroundColor},e=>{let{$annotationColor:t}=e;return t.color}),RZ=[],RX=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(35);g[0]!==e?({annotation:n,as:s,children:r,className:i,diff:a,disableHoverEffect:o,path:c,style:u,tooltip:d,...l}=e,g[0]=e,g[1]=n,g[2]=r,g[3]=i,g[4]=a,g[5]=o,g[6]=l,g[7]=s,g[8]=c,g[9]=u,g[10]=d):(n=g[1],r=g[2],i=g[3],a=g[4],o=g[5],l=g[6],s=g[7],c=g[8],u=g[9],d=g[10]);let y=void 0===s?"div":s,v=void 0===c?RZ:c;g[11]!==u?(p=void 0===u?{}:u,g[11]=u,g[12]=p):p=g[12];let b=p;g[13]!==n||g[14]!==a||g[15]!==v?(f=n||Ay(a,v),g[13]=n,g[14]=a,g[15]=v,g[16]=f):f=g[16];let x=f,C=A_(x),k=o||!x?void 0:"";g[17]!==C.background||g[18]!==C.text?(h={backgroundColor:C.background,color:C.text},g[17]=C.background,g[18]=C.text,g[19]=h):h=g[19],g[20]!==y||g[21]!==r||g[22]!==i||g[23]!==t||g[24]!==l||g[25]!==b||g[26]!==k||g[27]!==h?(m=(0,_.jsx)(R$,{...l,as:y,className:i,"data-hover":k,"data-ui":"diff-card",ref:t,radius:1,$annotationColor:h,style:b,children:r}),g[20]=y,g[21]=r,g[22]=i,g[23]=t,g[24]=l,g[25]=b,g[26]=k,g[27]=h,g[28]=m):m=g[28];let w=m;if(d&&x){let e,t;g[29]!==x?(e=[x],g[29]=x,g[30]=e):e=g[30];let n=d&&"object"==typeof d&&d.description;return g[31]!==w||g[32]!==e||g[33]!==n?(t=(0,_.jsx)(RW,{annotations:e,description:n,children:w}),g[31]=w,g[32]=e,g[33]=n,g[34]=t):t=g[34],t}return w}),RJ=F.styled.div(Cp(),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[2])},e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.space[1])}),RQ=(0,F.styled)(I.Text)(Cf());function R1(e){let t,n=(0,j.c)(15),{change:r,segment:i}=e;if("string"==typeof i){let e;return n[0]!==i?(e=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{title:i,size:1,weight:"medium",textOverflow:"ellipsis",children:i})}),n[0]=i,n[1]=e):e=n[1],e}let{hasMoved:a,fromIndex:o,toIndex:l,annotation:s}=i,c=typeof l>"u";if(typeof o>"u"){let e;return n[2]!==s||n[3]!==r||n[4]!==l?(e=(0,_.jsx)(R2,{annotation:s,change:r,toIndex:l}),n[2]=s,n[3]=r,n[4]=l,n[5]=e):e=n[5],e}if(c){let e;return n[6]!==s||n[7]!==o?(e=(0,_.jsx)(R0,{annotation:s,fromIndex:o}),n[6]=s,n[7]=o,n[8]=e):e=n[8],e}if(a&&"u">typeof l&&"u">typeof o){let e;return n[9]!==s||n[10]!==o||n[11]!==l?(e=(0,_.jsx)(R5,{annotation:s,fromIndex:o,toIndex:l}),n[9]=s,n[10]=o,n[11]=l,n[12]=e):e=n[12],e}let u=(l||0)+1;return n[13]!==u?(t=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsxs)(I.Text,{size:1,weight:"medium",children:["#",u]})}),n[13]=u,n[14]=t):t=n[14],t}function R2(e){let t,n,r,i,a=(0,j.c)(18),{annotation:o,change:l,toIndex:s}=e,{t:c}=IO(),u=(void 0===s?0:s)+1;a[0]!==u||a[1]!==c?(t=c("changes.array.item-added-in-position",{position:u}),a[0]=u,a[1]=c,a[2]=t):t=a[2];let d=t;a[3]!==u?(n=(0,_.jsxs)(_.Fragment,{children:["#",u]}),a[3]=u,a[4]=n):n=a[4];let p=n;a[5]!==l?(r=(null==l?void 0:l.diff)?Ay(l.diff,[]):void 0,a[5]=l,a[6]=r):r=a[6];let f=r||o;if(f){let e,t,n,r;return a[7]!==d?(e={description:d},a[7]=d,a[8]=e):e=a[8],a[9]===Symbol.for("react.memo_cache_sentinel")?(t={textDecoration:"none"},a[9]=t):t=a[9],a[10]!==p?(n=(0,_.jsx)(RQ,{size:1,weight:"medium",forwardedAs:"ins",style:t,children:p}),a[10]=p,a[11]=n):n=a[11],a[12]!==f||a[13]!==e||a[14]!==n?(r=(0,_.jsx)(RX,{annotation:f,tooltip:e,as:RJ,children:n}),a[12]=f,a[13]=e,a[14]=n,a[15]=r):r=a[15],r}return a[16]!==p?(i=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:p}),a[16]=p,a[17]=i):i=a[17],i}function R0(e){let t,n,r,i,a=(0,j.c)(11),{annotation:o,fromIndex:l}=e,{t:s}=IO(),c=(void 0===l?0:l)+1;a[0]!==c||a[1]!==s?(t=s("changes.array.item-removed-from-position",{position:c}),a[0]=c,a[1]=s,a[2]=t):t=a[2];let u=t,d=o||null;return a[3]!==u?(n={description:u},a[3]=u,a[4]=n):n=a[4],a[5]!==c?(r=(0,_.jsxs)(RQ,{size:1,weight:"medium",forwardedAs:"del",children:["#",c]}),a[5]=c,a[6]=r):r=a[6],a[7]!==d||a[8]!==n||a[9]!==r?(i=(0,_.jsx)(RX,{annotation:d,as:RJ,tooltip:n,children:r}),a[7]=d,a[8]=n,a[9]=r,a[10]=i):i=a[10],i}function R5(e){let t,n,r,i,a,o,l,s=(0,j.c)(19),{annotation:c,fromIndex:u,toIndex:d}=e,{t:p}=IO(),f=d-u,h=f<0?"↑":"↓";s[0]!==f||s[1]!==p?(t=p("changes.array.item-moved",{count:Math.abs(f),context:f<0?"up":"down"}),s[0]=f,s[1]=p,s[2]=t):t=s[2];let m=t,g=d+1;return s[3]!==g?(n=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsxs)(RQ,{size:1,weight:"medium",children:["#",g]})}),s[3]=g,s[4]=n):n=s[4],s[5]!==m?(r={description:m},s[5]=m,s[6]=r):r=s[6],s[7]!==f?(i=Math.abs(f),s[7]=f,s[8]=i):i=s[8],s[9]!==h||s[10]!==i?(a=(0,_.jsxs)(RQ,{size:1,weight:"medium",children:[h,i]}),s[9]=h,s[10]=i,s[11]=a):a=s[11],s[12]!==c||s[13]!==r||s[14]!==a?(o=(0,_.jsx)(RX,{annotation:c,as:RJ,tooltip:r,children:a}),s[12]=c,s[13]=r,s[14]=a,s[15]=o):o=s[15],s[16]!==n||s[17]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[n,o]}),s[16]=n,s[17]=o,s[18]=l):l=s[18],l}function R7(e){let t,n,r,i=(0,j.c)(8),{change:a,titlePath:o}=e;if(i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.ChevronRightIcon,{})}),i[0]=t):t=i[0],i[1]!==a||i[2]!==o){let e;i[4]!==a?(e=(e,t)=>"string"==typeof e||!a||a.showIndex?(0,_.jsx)(R1,{change:a,segment:e},t):null,i[4]=a,i[5]=e):e=i[5],n=o.map(e),i[1]=a,i[2]=o,i[3]=n}else n=i[3];return i[6]!==n?(r=(0,_.jsx)(A.Breadcrumbs,{maxLength:4,separator:t,children:n}),i[6]=n,i[7]=r):r=i[7],r}let R3=e=>{let t,n=(0,j.c)(5),{checkProperty:r,checkPropertyKey:i,document:a,parent:o,value:l}=e,s=IE(l),c=A6();return n[0]!==c||n[1]!==a||n[2]!==o||n[3]!==s?(t={currentUser:c,document:a,parent:o,value:s},n[0]=c,n[1]=a,n[2]=o,n[3]=s,n[4]=t):t=n[4],function(e,t,n){let r,i=(0,j.c)(9),{currentUser:a,document:o,parent:l,value:s}=n;e:{let n,u;if("boolean"==typeof e||void 0===e){r=e||!1;break e}if(i[0]!==e||i[1]!==t||i[2]!==a||i[3]!==o||i[4]!==l||i[5]!==s){var c;try{n=e({document:o,parent:l,value:s,currentUser:a})}catch(e){console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(e.message)),r=!1;break e}u=Io(c=n)&&"function"==typeof(null==c?void 0:c.then),i[0]=e,i[1]=t,i[2]=a,i[3]=o,i[4]=l,i[5]=s,i[6]=u,i[7]=n,i[8]=r}else u=i[6],n=i[7],r=i[8];if(u){console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),r=!1;break e}typeof n>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),r=n}return r}(void 0!==r&&r,i,t)};function R8(e,t){var n;let r=(0,W.isTypedObject)(t)?t._type:Array.isArray(n=t)?"array":null===n?"null":typeof n;return e.of.find(e=>e.name===r)||(1===e.of.length?e.of[0]:void 0)}let R4=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],R6=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],R9=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Be=R6.map(e=>e[0]).concat(R4.map(e=>e[0])),Bt=R6.map(e=>e[1]).concat(R4.map(e=>e[1])),Bn=Be.concat(Bt).concat(R9).concat("").concat("⁠"),Br=RegExp("".concat(Bn.join("|")),"g"),Bi=RegExp("".concat(Bn.join("|"),"|\n"),"g");function Ba(e){return"object"===e.jsonType&&"block"===e.name}function Bo(e,t){return e.fields.children.items.filter(e=>e.diff.isChanged&&(e.diff.toValue===t||e.diff.fromValue===t)).map(e=>e.diff).map(e=>e)[0]}function Bl(e,t){let n=e.find(e=>"children"===e.name);return n&&n.type&&"array"===n.type.jsonType&&n.type.of.find(e=>e.name===t._type)||void 0}function Bs(e){return e.decorators?(0,nd.default)(e.decorators,["value"],["asc"]):[]}function Bc(e,t){return Bs(t).some(t=>t.value===e)}function Bu(e,t,n,r,i){return t?t.children.map(t=>{var a,o;let l=(0,W.isPortableTextSpan)(t)?null==(a=t.text)?void 0:a.replace(Br,""):"";if((0,W.isPortableTextSpan)(t)){let i=null==(o=Bp(e,t))?void 0:o.fields.text;i&&i.toValue===t.text&&"string"===i.type&&"unchanged"!==i.action&&(l=i.segments.filter(e=>"removed"!==e.action).map(e=>e.text.replace(Br,"")).join("⁠")),t.marks&&t.marks.forEach(e=>{n[e]?l="".concat(n[e][0]).concat(l).concat(n[e][1]):r[e]&&(l="".concat(r[e][0]).concat(l).concat(r[e][1]))})}else l=i[t._key];return"".concat("").concat(l)}).join(""):""}function Bd(e){let t=e.toValue?e.toValue.children.filter(e=>"span"!==e._type):[];return(e.fromValue?e.fromValue.children.filter(e=>"span"!==e._type):[]).forEach(e=>{t.some(t=>e._key===t._key)||t.push(e)}),(0,nd.default)(t,["_key"],["asc"])}function Bp(e,t){let n=e.fields.children&&"unchanged"!==e.fields.children.action&&"array"===e.fields.children.type&&e.fields.children.items.find(e=>e.diff&&"object"===e.diff.type&&("removed"===e.diff.action?e.diff.fromValue&&e.diff.fromValue._key===t._key:(e.diff.toValue&&e.diff.toValue._key)===t._key));if(n)return n.diff}function Bf(e){return e&&(0,e4.default)(Object.keys(e),["_key","_type"])||!1}function Bh(e){let t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(e=>{t.some(t=>e._key===t._key)||t.push(e)}),(0,nd.default)(t,["_key"],["asc"])}function Bm(e){let t=typeof e;if("object"===t){if(null===e)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&"Object"!==e.constructor.name)return e.constructor.name}return t}function Bg(e,t){let{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(null!==e&&"undefined"!==r){var i;if(r!==n)return{messageKey:"changes.error.incorrect-type-message",value:e,expectedType:n,actualType:Bm(e)};if("object"===t.jsonType&&null!==(i=e)&&!Array.isArray(i)&&"object"==typeof i)for(let n of t.fields){let t=Bg(e[n.name],n.type);if(t)return t}}}function By(e){return"field"===e.type}let Bv=[];function Bb(e){let t,n,r,i,a=(0,j.c)(11),{checked:o,color:l}=e,s=null==l?void 0:l.background;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),a[0]=t):t=a[0],a[1]!==o||a[2]!==(null==l?void 0:l.text)?(n=typeof o>"u"&&(0,_.jsx)("path",{d:"M4.07996 8.5H12.92",stroke:null==l?void 0:l.text,strokeWidth:"2"}),a[1]=o,a[2]=null==l?void 0:l.text,a[3]=n):n=a[3],a[4]!==o||a[5]!==(null==l?void 0:l.text)?(r=o&&(0,_.jsx)("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:null==l?void 0:l.text,strokeWidth:"2"}),a[4]=o,a[5]=null==l?void 0:l.text,a[6]=r):r=a[6],a[7]!==s||a[8]!==n||a[9]!==r?(i=(0,_.jsxs)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:s,children:[t,n,r]}),a[7]=s,a[8]=n,a[9]=r,a[10]=i):i=a[10],i}function Bx(e){let t,n,r,i,a,o=(0,j.c)(13),{checked:l,color:s}=e,c=l?null==s?void 0:s.border:null==s?void 0:s.background;return o[0]!==c?(t=(0,_.jsx)("rect",{width:"38",height:"22",rx:"11",fill:c}),o[0]=c,o[1]=t):t=o[1],o[2]!==l?(n=typeof l>"u"&&(0,_.jsx)("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),o[2]=l,o[3]=n):n=o[3],o[4]!==l?(r=l&&(0,_.jsx)("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),o[4]=l,o[5]=r):r=o[5],o[6]!==l?(i="boolean"==typeof l&&!l&&(0,_.jsx)("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),o[6]=l,o[7]=i):i=o[7],o[8]!==t||o[9]!==n||o[10]!==r||o[11]!==i?(a=(0,_.jsxs)("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[t,n,r,i]}),o[8]=t,o[9]=n,o[10]=r,o[11]=i,o[12]=a):a=o[12],a}let BC=F.styled.div(Ch()),Bk=function(e){let t,n,r=(0,j.c)(5),{value:i,schemaType:a}=e;return r[0]!==a||r[1]!==i?(t=function(e,t){let{options:n,name:r}=t,i=(null==n?void 0:n.dateFormat)||tm.DEFAULT_DATE_FORMAT,a=(null==n?void 0:n.timeFormat)||tm.DEFAULT_TIME_FORMAT;return tm.format(new Date(e),"date"===r?i:"".concat(i," ").concat(a))}(i,a),r[0]=a,r[1]=i,r[2]=t):t=r[2],r[3]!==t?(n=(0,_.jsx)(I.Box,{as:BC,paddingX:2,paddingY:1,children:t}),r[3]=t,r[4]=n):n=r[4],n},Bw=e=>{let t,n=(0,j.c)(3),{diff:r,schemaType:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(NX,{align:"center",diff:r,layout:"grid",previewComponent:Bk,schemaType:i}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t};function B_(){let e=(0,E.useContext)(D.DocumentChangeContext);if(!e)throw Error("DocumentChange: missing context value");return e}function Bj(e){let t,n,r=(0,j.c)(4),[i,a]=(0,E.useState)(void 0),o=eTt(AE);return r[0]!==o||r[1]!==e?(t=()=>{if(!e)return;let t=o.observable.getDocument(e).subscribe(a);return()=>{t.unsubscribe()}},n=[o,e],r[0]=o,r[1]=e,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),e?i:void 0}function BS(e,t){return e<1e3?t(e,"byte"):e<1e6?t(e/1e3,"kilobyte"):e<1e9?t(e/1e6,"megabyte"):e<1e12?t(e/1e9,"gigabyte"):t(e/1e12,"terabyte")}let BE=F.styled.div(Cm(),e=>{let{theme:t}=e;return"\n    --size-diff-positive: ".concat(t.sanity.color.solid.positive.enabled.bg,";\n    --size-diff-negative: ").concat(t.sanity.color.solid.critical.enabled.bg,";\n  ")});function BT(e){let[t]=e;return t}function BD(e){return e.name}function BI(e,t){return"rgba(".concat((/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(e=>parseInt(e,16)).concat(t).join(", "),")")}function BA(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(40);f[0]!==e?({crop:t,diff:n,hash:r,hotspot:i,width:o,height:l,...a}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=i,f[5]=a,f[6]=o,f[7]=l):(t=f[1],n=f[2],r=f[3],i=f[4],a=f[5],o=f[6],l=f[7]);let h=void 0===o?100:o,m=void 0===l?100:l,{t:g}=IO(),y=Aj(n,"crop"),v=Aj(n,"hotspot"),b="0 0 ".concat(h," ").concat(m);return f[8]!==t||f[9]!==r||f[10]!==m||f[11]!==i||f[12]!==h?(s=t&&i&&(0,_.jsxs)("mask",{id:"mask-hotspot-".concat(r),children:[(0,_.jsx)("rect",{x:0,y:0,width:h,height:m,fill:"#fff"}),(0,_.jsx)(BP,{hotspot:i,fill:"#000",offset:1,width:h,height:m,stroke:"#000",strokeWidth:3})]}),f[8]=t,f[9]=r,f[10]=m,f[11]=i,f[12]=h,f[13]=s):s=f[13],f[14]!==s?(c=(0,_.jsx)("defs",{children:s}),f[14]=s,f[15]=c):c=f[15],f[16]!==t||f[17]!==y||f[18]!==n||f[19]!==r||f[20]!==m||f[21]!==i||f[22]!==g||f[23]!==h?(u=t&&(0,_.jsx)(RW,{diff:n,path:"crop",description:g("changes.image.crop-changed"),children:(0,_.jsx)("g",{children:(0,_.jsx)(BO,{crop:t,fill:BI(y.border,.25),mask:i?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:y.border,strokeWidth:1,width:h,height:m})})}),f[16]=t,f[17]=y,f[18]=n,f[19]=r,f[20]=m,f[21]=i,f[22]=g,f[23]=h,f[24]=u):u=f[24],f[25]!==n||f[26]!==m||f[27]!==i||f[28]!==v||f[29]!==g||f[30]!==h?(d=i&&(0,_.jsx)(RW,{diff:n,path:"hotspot",description:g("changes.image.crop-changed"),children:(0,_.jsx)("g",{children:(0,_.jsx)(BP,{hotspot:i,fill:BI(v.border,.25),stroke:v.border,strokeWidth:1,width:h,height:m})})}),f[25]=n,f[26]=m,f[27]=i,f[28]=v,f[29]=g,f[30]=h,f[31]=d):d=f[31],f[32]!==m||f[33]!==a||f[34]!==b||f[35]!==c||f[36]!==u||f[37]!==d||f[38]!==h?(p=(0,_.jsxs)("svg",{...a,fill:"none",width:h,height:m,viewBox:b,children:[c,u,d]}),f[32]=m,f[33]=a,f[34]=b,f[35]=c,f[36]=u,f[37]=d,f[38]=h,f[39]=p):p=f[39],p}function BO(e){let t,n,r,i,a,o,l,s=(0,j.c)(14);s[0]!==e?({crop:t,width:i,height:n,...r}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i):(t=s[1],n=s[2],r=s[3],i=s[4]);let c=t.left*i,u=t.top*n,d=(1-t.right-t.left)*i,p=(1-t.bottom-t.top)*n;s[5]!==c||s[6]!==u||s[7]!==d||s[8]!==p?(a={x:c,y:u,width:d,height:p},s[5]=c,s[6]=u,s[7]=d,s[8]=p,s[9]=a):a=s[9];let f=a;return s[10]===Symbol.for("react.memo_cache_sentinel")?(o={vectorEffect:"non-scaling-stroke"},s[10]=o):o=s[10],s[11]!==f||s[12]!==r?(l=(0,_.jsx)("rect",{...r,...f,style:o}),s[11]=f,s[12]=r,s[13]=l):l=s[13],l}function BP(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(15);c[0]!==e?({hotspot:n,offset:i,width:a,height:t,...r}=e,c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=a):(t=c[1],n=c[2],r=c[3],i=c[4],a=c[5]);let u=void 0===i?0:i,d=n.x*a,p=n.y*t,f=n.width/2*a+u,h=n.height/2*t+u;c[6]!==d||c[7]!==p||c[8]!==f||c[9]!==h?(o={cx:d,cy:p,rx:f,ry:h},c[6]=d,c[7]=p,c[8]=f,c[9]=h,c[10]=o):o=c[10];let m=o;return c[11]===Symbol.for("react.memo_cache_sentinel")?(l={vectorEffect:"non-scaling-stroke"},c[11]=l):l=c[11],c[12]!==m||c[13]!==r?(s=(0,_.jsx)("ellipse",{...r,...m,style:l}),c[12]=m,c[13]=r,c[14]=s):s=c[14],s}let BM=["originalFilename"],BF=()=>{let e,t,n=(0,j.c)(4),{t:r}=IO();return n[0]!==r?(e=r("changes.image.no-image-placeholder"),n[0]=r,n[1]=e):e=n[1],n[2]!==e?(t=(0,_.jsx)(I.Card,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:(0,_.jsx)(I.Flex,{align:"center",justify:"center",height:"fill",children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:e})})}),n[2]=e,n[3]=t):t=n[3],t},BR=F.styled.div(Cg(),z.hues.gray[100].hex,z.hues.gray[50].hex,z.hues.gray[50].hex,z.hues.gray[50].hex,z.hues.gray[50].hex),BB=F.styled.img(Cy()),BN=F.styled.div(Cv());function BL(e){var t,n,r,i;let a,{id:o,action:l,diff:s,hotspot:c,crop:u,is:d}=e,{t:p}=IO(),f=eTt(AE),[h,m]=(0,E.useState)(),{value:g}=function(e,t){let n,r=(0,j.c)(4),i=Fu();return r[0]!==e||r[1]!==i||r[2]!==t?(n=e?i.observePaths({_type:"reference",_ref:e},t):(0,Y.of)(void 0),r[0]=e,r[1]=i,r[2]=t,r[3]=n):n=r[3],Ij(n)}(o,BM),y=(0,tg.getImageDimensions)(o),v=(0,E.useMemo)(()=>(0,ty.default)(f),[f]),b=null===g,x=g&&g.originalFilename,C=v.image(o).height(190).dpr(Math.min(3,Math.max(1,Math.ceil(window.devicePixelRatio||1)))).fit("max"),k=(null==(n=s.fromValue)||null==(t=n.asset)?void 0:t._ref)!==(null==(i=s.toValue)||null==(r=i.asset)?void 0:r._ref);return l&&"changed"!==l&&(a=p("added"===l?"changes.added-label":"changes.removed-label")),(0,_.jsxs)(I.Flex,{direction:"column",height:"fill",flex:1,children:[(0,_.jsx)(I.Box,{flex:1,padding:2,paddingBottom:0,children:(0,_.jsxs)(I.Flex,{as:BR,direction:"column","data-changed":"from"===d&&k?"":void 0,"data-error":h?"":void 0,children:[!b&&!h&&(0,_.jsx)(BB,{src:C.toString()||"",alt:x,"data-action":"changed"===l?void 0:l,onError:m,width:y.width,height:y.height}),(b||h)&&(0,_.jsx)(I.Box,{paddingY:5,children:(0,_.jsx)(I.Text,{size:1,muted:!0,align:"center",children:p(b?"changes.image.deleted":"changes.image.error-loading-image")})}),(0,_.jsx)(BN,{children:(0,_.jsx)(BA,{crop:u&&!(0,tg.isDefaultCrop)(u)?u:void 0,diff:s,hash:function(e){let t=0;if(0==e.length)return t.toString();for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t.toString()}("".concat(C.toString()||"","-").concat(d)),hotspot:c&&!(0,tg.isDefaultHotspot)(c)?c:void 0,width:y.width,height:y.height})})]})}),(0,_.jsx)(Lf,{title:x||p("changes.image.meta-info-fallback-title"),icon:R.ImageIcon,markRemoved:k&&"from"===d,children:a?(0,_.jsx)("div",{children:a}):(0,_.jsxs)("div",{children:[y.width," × ",y.height]})})]})}let Bz=["asset","media","crop","hotspot"],BV={flex:1};function BU(e){return e.name}let BH=F.styled.div(Cb()),Bq=e=>{let t,n=(0,j.c)(2),{value:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{as:BH,paddingX:2,paddingY:1,children:r}),n[0]=r,n[1]=t):t=n[1],t},BW=(0,F.styled)(I.Box)(Cx()),BY=(0,F.styled)(I.Text)(CC()),BK=(0,F.styled)(I.Box)(Ck(),BW),BG=(0,F.styled)(I.Box)(Cw()),B$=F.styled.div(C_(),BK);function BZ(e){let t,n,r,i,a,o,l,s=(0,j.c)(21);s[0]!==e?({children:t,diff:n,object:r,schemaType:o,path:i,...a}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s[6]=o):(t=s[1],n=s[2],r=s[3],i=s[4],a=s[5],o=s[6]);let{t:c}=IO();if(!o){let e,t;return s[7]!==c?(e=c("changes.portable-text.unknown-annotation-schema-type"),s[7]=c,s[8]=e):e=s[8],s[9]!==a||s[10]!==e?(t=(0,_.jsx)(B$,{...a,children:e}),s[9]=a,s[10]=e,s[11]=t):t=s[11],t}if(n&&"unchanged"!==n.action){let e;return s[12]!==t||s[13]!==n||s[14]!==r||s[15]!==i||s[16]!==a||s[17]!==o?(e=(0,_.jsx)(BX,{...a,diff:n,object:r,schemaType:o,path:i,children:t}),s[12]=t,s[13]=n,s[14]=r,s[15]=i,s[16]=a,s[17]=o,s[18]=e):e=s[18],e}return s[19]!==t?(l=(0,_.jsx)(B$,{children:t}),s[19]=t,s[20]=l):l=s[20],l}function BX(e){let{diff:t,children:n,object:r,schemaType:i,path:a,...o}=e,{onSetFocus:l}=(0,E.useContext)(D.ReviewChangesContext),{path:s}=(0,E.useContext)(D.DiffContext),c=(0,E.useRef)(null),{t:u}=IO(),d=Aj(t,[]),p=(0,E.useMemo)(()=>d?{background:d.background,color:d.text}:{},[d]),f="removed"===t.action,[h,m]=(0,E.useState)(!1),g=r&&Bf(r),y=(0,E.useMemo)(()=>[a[0]].concat(["markDefs",{_key:r._key}]),[r._key,a]),v=(0,E.useMemo)(()=>s.slice(0,s.findIndex(e=>(0,W.isKeySegment)(e)&&e._key===r._key)),[s,r._key]),b=(0,E.useMemo)(()=>v.concat(a),[a,v]),x=(0,E.useMemo)(()=>v.concat(y),[y,v]),C="field-".concat((0,S.toString)(x)),k=LQ(),w=(0,E.useMemo)(()=>k.filter(e=>{let[t]=e;return t.startsWith(C)}).length>0,[C,k]);(0,E.useEffect)(()=>{!h&&w&&(m(!0),l(x))},[w,x,l,h]);let j=(0,E.useCallback)(e=>{e.stopPropagation(),m(!0),f||(e.preventDefault(),l(b),setTimeout(()=>l(x),10))},[b,f,x,l]);(0,I.useClickOutsideEvent)(!w&&(()=>m(!1)),()=>[c.current]);let T="unchanged"!==t.action&&t.annotation||null,A=(0,E.useMemo)(()=>T?[T]:[],[T]),O=(0,E.useMemo)(()=>({path:x}),[x]),P=(0,_.jsx)(D.DiffContext.Provider,{value:O,children:(0,_.jsx)(BG,{padding:3,children:(0,_.jsxs)("div",{children:[g&&(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:u("changes.portable-text.empty-object-annotation",{annotationType:i.title||i.name})}),!g&&(0,_.jsx)(Li,{diff:t,schemaType:i})]})})});return(0,_.jsx)(B$,{...o,onClick:j,style:p,"data-changed":"","data-removed":"removed"===t.action?"":void 0,children:(0,_.jsx)(B.Popover,{content:P,open:h,ref:c,portal:!0,children:(0,_.jsx)(BK,{paddingLeft:1,children:(0,_.jsx)(RW,{annotations:A,description:u("changes.portable-text.annotation",{context:t.action}),children:(0,_.jsxs)(BW,{style:{display:"inline-flex"},children:[(0,_.jsx)("span",{children:n}),(0,_.jsx)(I.Flex,{align:"center",paddingX:1,children:(0,_.jsx)(BY,{size:0,children:(0,_.jsx)(R.ChevronDownIcon,{})})})]})})})})})}let BJ=F.styled.blockquote(Cj());function BQ(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)("div",{children:(0,_.jsx)(BJ,{children:r})}),n[0]=r,n[1]=t):t=n[1],t}let B1={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},B2=(0,F.styled)(I.Heading)(CS());function B0(e){let t,n=(0,j.c)(3),{style:r,children:i}=e,a=B1[r];return n[0]!==i||n[1]!==a?(t=(0,_.jsx)(B2,{size:a,children:i}),n[0]=i,n[1]=a,n[2]=t):t=n[2],t}let B5=F.styled.div(CE());function B7(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(B5,{children:r}),n[0]=r,n[1]=t):t=n[1],t}let B3=[];function B8(e){var t,n,r;let i,a,o=(0,j.c)(41),{diff:l,block:s,children:c}=e,u=Aj(l,B3),{path:d}=(0,E.useContext)(D.DiffContext),{onSetFocus:p}=(0,E.useContext)(D.ReviewChangesContext),{t:f}=IO(),h="removed"===l.action,m=c,g;o[0]!==d||o[1]!==h||o[2]!==p?(g=e=>{e.stopPropagation(),h||p(d)},o[0]=d,o[1]=h,o[2]=p,o[3]=g):g=o[3];let y=g;if("blockquote"===s.style){let e;o[4]!==m?(e=(0,_.jsx)(BQ,{children:m}),o[4]=m,o[5]=e):e=o[5],m=e}else if(s.style&&(0,W.isPortableTextTextBlock)(s)&&s.style&&["h1","h2","h3","h4","h5","h6"].includes(s.style)){let e;o[6]!==s.style||o[7]!==m?(e=(0,_.jsx)(B0,{style:s.style,children:m}),o[6]=s.style,o[7]=m,o[8]=e):e=o[8],m=e}else{let e;o[9]!==m?(e=(0,_.jsx)(B7,{children:m}),o[9]=m,o[10]=e):e=o[10],m=e}if("changed"===l.origin.action&&l.origin.fields.style&&"changed"===l.origin.fields.style.action&&l.origin.fields.style.annotation){let e,a,c,d,p,h,g,y,v;i=null==l||null==(n=l.origin)||null==(t=n.fromValue)?void 0:t.style,o[11]!==u?(e=u?{background:u.background,color:u.text}:{},o[11]=u,o[12]=e):e=o[12];let b=e;o[13]===Symbol.for("react.memo_cache_sentinel")?(a={borderStyle:"dotted"},o[13]=a):a=o[13];let x=l.action,C="changed_from_style_".concat(i||"undefined"),k=null==(r=l.origin.fields.style)?void 0:r.annotation;o[14]!==k?(c=[k],o[14]=k,o[15]=c):c=o[15];let w=l.origin.fields.style;o[16]!==s.style||o[17]!==i||o[18]!==f?(d=f("changes.portable-text.block-style-changed",{fromStyle:i,toStyle:s.style}),o[16]=s.style,o[17]=i,o[18]=f,o[19]=d):d=o[19],o[20]!==d?(p=(0,_.jsx)(I.Text,{size:0,children:d}),o[20]=d,o[21]=p):p=o[21],o[22]!==l.origin.fields.style||o[23]!==c||o[24]!==p?(h=(0,_.jsx)(RW,{annotations:c,diff:w,children:p}),o[22]=l.origin.fields.style,o[23]=c,o[24]=p,o[25]=h):h=o[25],o[26]!==m||o[27]!==b?(g=(0,_.jsx)(I.Box,{style:b,children:m}),o[26]=m,o[27]=b,o[28]=g):g=o[28],o[29]!==h||o[30]!==g?(y=(0,_.jsxs)(I.Stack,{space:2,children:[h,g]}),o[29]=h,o[30]=g,o[31]=y):y=o[31],o[32]!==l.action||o[33]!==y||o[34]!==C?(v=(0,_.jsx)(I.Card,{padding:3,border:!0,radius:2,style:a,"diff-block-action":x,"data-block-note":C,children:y}),o[32]=l.action,o[33]=y,o[34]=C,o[35]=v):v=o[35],m=v}let v="changed_from_style_".concat(i||"undefined");return o[36]!==l.action||o[37]!==y||o[38]!==m||o[39]!==v?(a=(0,_.jsx)("div",{onClick:y,"data-diff-block-action":l.action,"data-block-note":v,children:m}),o[36]=l.action,o[37]=y,o[38]=m,o[39]=v,o[40]=a):a=o[40],a}let B4=F.styled.span(CT(),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return"\n          font-family: ".concat(t.sanity.fonts.code.family,";\n          background: ").concat(t.sanity.color.muted.default.enabled.bg,";\n        ");default:return""}});function B6(e){let t,n=(0,j.c)(3),{mark:r,children:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(B4,{decoration:r,children:i}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t}let B9=(0,F.styled)(I.Card)(CD(),BW);function Ne(e){let t,n,r,i,a,o=(0,j.c)(19);o[0]!==e?({diff:t,object:n,schemaType:i,...r}=e,o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i):(t=o[1],n=o[2],r=o[3],i=o[4]);let{t:l}=IO();if(!i){let e,t;return o[5]!==n._type||o[6]!==l?(e=l("changes.portable-text.unknown-inline-object-schema-type",{schemaType:n._type}),o[5]=n._type,o[6]=l,o[7]=e):e=o[7],o[8]!==r||o[9]!==e?(t=(0,_.jsx)(B9,{...r,border:!0,radius:1,children:e}),o[8]=r,o[9]=e,o[10]=t):t=o[10],t}if(t){let e;return o[11]!==t||o[12]!==n||o[13]!==r||o[14]!==i?(e=(0,_.jsx)(Nt,{...r,diff:t,object:n,schemaType:i}),o[11]=t,o[12]=n,o[13]=r,o[14]=i,o[15]=e):e=o[15],e}return o[16]!==n||o[17]!==i?(a=(0,_.jsx)(B9,{children:(0,_.jsx)(enW,{schemaType:i,value:n,layout:"inline"})}),o[16]=n,o[17]=i,o[18]=a):a=o[18],a}function Nt(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,T,A,O,P=(0,j.c)(65);P[0]!==e?({diff:t,object:n,path:r,schemaType:a,...i}=e,P[0]=e,P[1]=t,P[2]=n,P[3]=r,P[4]=i,P[5]=a):(t=P[1],n=P[2],r=P[3],i=P[4],a=P[5]);let{path:M}=(0,E.useContext)(D.DiffContext),{onSetFocus:F}=(0,E.useContext)(D.ReviewChangesContext),{t:N}=IO();P[6]===Symbol.for("react.memo_cache_sentinel")?(o=[],P[6]=o):o=P[6];let L=Aj(t,o);P[7]!==L?(l=L?{background:L.background,color:L.text}:{},P[7]=L,P[8]=l):l=P[8];let z=l,[V,U]=(0,E.useState)(!1);P[9]!==n?(s=n&&Bf(n),P[9]=n,P[10]=s):s=P[10];let H=s,q="removed"===t.action;if(P[11]!==M||P[12]!==n||P[13]!==r){let e;P[16]!==n?(e=e=>(0,W.isKeySegment)(e)&&e._key===n._key,P[16]=n,P[17]=e):e=P[17],c=M.slice(0,M.findIndex(e)).concat(r),u=(0,S.toString)(c),P[11]=M,P[12]=n,P[13]=r,P[14]=c,P[15]=u}else c=P[14],u=P[15];let Y="field-".concat(u),K=LQ().filter(e=>{let[t]=e;return t.startsWith(Y)}).length>0;P[18]!==M||P[19]!==r?(d=M.slice(0,-1).concat(r).concat([S.FOCUS_TERMINATOR]),P[18]=M,P[19]=r,P[20]=d):d=P[20];let G=d;P[21]!==G||P[22]!==K||P[23]!==F?(p=()=>{K&&(U(!0),F(G))},f=[G,K,F],P[21]=G,P[22]=K,P[23]=F,P[24]=p,P[25]=f):(p=P[24],f=P[25]),(0,E.useEffect)(p,f),P[26]!==G||P[27]!==q||P[28]!==F?(h=e=>{if(e.stopPropagation(),U(!0),!q)return void F(G);e.preventDefault()},P[26]=G,P[27]=q,P[28]=F,P[29]=h):h=P[29];let $=h;P[30]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{U(!1)},P[30]=m):m=P[30];let Z=m;P[31]!==c?(g={path:c},P[31]=c,P[32]=g):g=P[32];let X=g;P[33]!==t||P[34]!==H||P[35]!==a?(y=(0,_.jsx)(Nn,{diff:t,emptyObject:H,onClose:Z,schemaType:a}),P[33]=t,P[34]=H,P[35]=a,P[36]=y):y=P[36],P[37]!==y||P[38]!==X?(v=(0,_.jsx)(D.DiffContext.Provider,{value:X,children:y}),P[37]=y,P[38]=X,P[39]=v):v=P[39];let J=v,Q="unchanged"!==t.action&&t.annotation||null;P[40]!==Q?(b=Q?[Q]:[],P[40]=Q,P[41]=b):b=P[41];let ee=b,et="removed"===t.action?"":void 0;return P[42]!==t.action||P[43]!==N?(x=N("changes.portable-text.inline-object",{context:t.action}),P[42]=t.action,P[43]=N,P[44]=x):x=P[44],P[45]!==n||P[46]!==a?(C=(0,_.jsx)(enW,{schemaType:a,value:n,layout:"inline"}),P[45]=n,P[46]=a,P[47]=C):C=P[47],P[48]===Symbol.for("react.memo_cache_sentinel")?(k=(0,_.jsx)(I.Flex,{align:"center",paddingX:1,children:(0,_.jsx)(BY,{size:0,children:(0,_.jsx)(R.ChevronDownIcon,{})})}),P[48]=k):k=P[48],P[49]!==C?(w=(0,_.jsxs)(BW,{children:[C,k]}),P[49]=C,P[50]=w):w=P[50],P[51]!==ee||P[52]!==x||P[53]!==w?(T=(0,_.jsx)(BK,{children:(0,_.jsx)(RW,{annotations:ee,description:x,children:w})}),P[51]=ee,P[52]=x,P[53]=w,P[54]=T):T=P[54],P[55]!==V||P[56]!==J||P[57]!==T?(A=(0,_.jsx)(B.Popover,{content:J,open:V,portal:!0,children:T}),P[55]=V,P[56]=J,P[57]=T,P[58]=A):A=P[58],P[59]!==$||P[60]!==i||P[61]!==z||P[62]!==et||P[63]!==A?(O=(0,_.jsx)(B9,{...i,onClick:$,style:z,"data-removed":et,border:!0,radius:2,children:A}),P[59]=$,P[60]=i,P[61]=z,P[62]=et,P[63]=A,P[64]=O):O=P[64],O}function Nn(e){let t,n,r,i,a=(0,j.c)(12),{diff:o,emptyObject:l,onClose:s,schemaType:c}=e,{t:u}=IO(),d=(0,E.useRef)(null);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>[d.current],a[0]=t):t=a[0],(0,I.useClickOutsideEvent)(s,t),a[1]!==l||a[2]!==c||a[3]!==u?(n=l&&(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:u("changes.portable-text.empty-inline-object",{inlineObjectType:c.title||c.name})}),a[1]=l,a[2]=c,a[3]=u,a[4]=n):n=a[4],a[5]!==o||a[6]!==l||a[7]!==c?(r=!l&&(0,_.jsx)(Li,{diff:o,schemaType:c}),a[5]=o,a[6]=l,a[7]=c,a[8]=r):r=a[8],a[9]!==n||a[10]!==r?(i=(0,_.jsxs)(BG,{ref:d,padding:3,children:[n,r]}),a[9]=n,a[10]=r,a[11]=i):i=a[11],i}function Nr(e){let t,n,r,i,a,o,l,s=(0,j.c)(16);s[0]!==e?({diff:r,childDiff:t,children:n,path:i,segment:o,...a}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s[6]=o):(t=s[1],n=s[2],r=s[3],i=s[4],a=s[5],o=s[6]);let c=r||t;if(c&&"unchanged"!==c.action&&"unchanged"!==o.action){let e;return s[7]!==t||s[8]!==n||s[9]!==r||s[10]!==i||s[11]!==a||s[12]!==o?(e=(0,_.jsx)(Ni,{...a,childDiff:t,diff:r,segment:o,path:i,children:n}),s[7]=t,s[8]=n,s[9]=r,s[10]=i,s[11]=a,s[12]=o,s[13]=e):e=s[13],e}return s[14]!==n?(l=(0,_.jsx)(BW,{children:n}),s[14]=n,s[15]=l):l=s[15],l}function Ni(e){let{diff:t,childDiff:n,children:r,path:i,segment:a,...o}=e,{onSetFocus:l}=(0,E.useContext)(D.ReviewChangesContext),{path:s}=(0,E.useContext)(D.DiffContext),c=(0,E.useMemo)(()=>i.slice(-2,1)[0],[i]),{t:u}=IO(),d=t&&"removed"===t.action,p=s.slice(0,s.findIndex(e=>(0,W.isKeySegment)(e)&&(0,W.isKeySegment)(c)&&e._key===c._key)).concat(i),f=(0,E.useCallback)(e=>{e.stopPropagation(),d||(e.preventDefault(),l(p))},[p,d,l]),h=t&&t.segments.find(e=>e.text===a.text),m=h||t||n,g=m&&"unchanged"!==m.action&&m.annotation||h&&t&&"unchanged"!==t.action&&"removed"===h.action&&t.annotation||null,y=g&&"unchanged"!==a.action?(0,_.jsx)(RX,{annotation:g,as:"removed"===a.action?"del":"ins",tooltip:{description:u("changes.portable-text.text",{context:a.action})},children:r}):null;return(0,_.jsx)(BW,{...o,onClick:f,"data-changed":"",children:(0,_.jsx)("span",{children:(0,_.jsx)(_.Fragment,{children:y||r})})})}let Na=R6.map(e=>e[0]),No=R6.map(e=>e[1]),Nl=R4.map(e=>e[0]),Ns=R4.map(e=>e[1]),Nc=Na.concat(Nl),Nu=No.concat(Ns),Nd=Na.concat(No),Np=RegExp("".concat(Nd.concat(Nu).join("|")),"g");function Nf(e){let{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,{t:i}=IO(),a=(0,E.useMemo)(()=>t.origin.toValue?Bd(t.origin):[],[t.origin]),o=(0,E.useCallback)(e=>{let o=Bl(n.fields,e),l=[];if(o){var s,c;let e;l=Bs(o);let u=t.fields.children,d=u.items[0].diff&&"object"===u.items[0].diff.type&&"string"===u.items[0].diff.fields.text.type&&u.items[0].diff.fields.text.segments||[],p=[],f={};if(s=r,c=t,1===s.children.length&&"span"===s.children[0]._type&&"string"==typeof s.children[0].text&&""===s.children[0].text&&"unchanged"!==c.origin.action&&("added"===t.origin.action||"removed"===t.origin.action)){let e=Bo(t.origin,r.children[0])||t.origin;if(e&&"unchanged"!==e.action)return(0,_.jsx)(RX,{annotation:e.annotation,as:"removed"===e.action?"del":"ins",tooltip:{description:i("changes.portable-text.empty-text",{context:e.action})},children:(0,_.jsx)("span",{children:"↲"})},"empty-block-".concat(r._key))}let h=-1,m=-1,g=[],y=Bh(t.origin);return d.forEach(s=>{var c,u,d,v,b,x,C;m++;let k=R9.includes(s.text),w=Nc.includes(s.text),j=Nu.includes(s.text),S=""===s.text,E="removed"===s.action;if(S)E||h++;else if(w||j){if(w&&Nl.includes(s.text)){let e=y[Nl.indexOf(s.text)];e&&g.push({mark:e._key,symbols:[s.text,Ns[Nl.indexOf(s.text)]],object:e})}j&&Ns.includes(s.text)&&(e=g.pop())}else if(k){let e=R9.findIndex(e=>e===s.text),i=null==(c=a[e])?void 0:c._key,o=a[e];if(i){let e=Bl(n.fields,o),i=Bo(t.origin,o);p.push((0,_.jsx)(Ne,{object:o,path:[{_key:r._key},"children",{_key:o._key}],diff:i,schemaType:e},"inline-object-".concat(o._key)))}}else if(s.text){let n=r.children[h]||(null==(v=t.origin.fromValue)?void 0:v.children.find(e=>e.text&&e.text.match(s.text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")))),a=n&&Bp(t.origin,n);if(!n)throw Error("Could not find child");let c=(null==a||null==(u=a.fields)?void 0:u.text)?null==a||null==(d=a.fields)?void 0:d.text:void 0,y=(0,_.jsx)(Nr,{diff:c,path:[{_key:r._key},"children",{_key:n._key}],childDiff:a,segment:s,children:function(e){let{diff:t,child:n,decoratorTypes:r,seg:i,segIndex:a,spanSchemaType:o,t:l}=e;if("\n"===i.text)return(0,_.jsx)("br",{});let s=(0,_.jsx)("span",{children:i.text.replace(/ /g," ")},"text-".concat(a)),c=n&&Bp(t.origin,n),u=(0,W.isPortableTextSpan)(n)&&n.marks||[];return c&&(s=function(e){var t;let{activeMarks:n,decoratorTypes:r,diff:i,children:a,seg:o,segIndex:l,spanDiff:s,spanSchemaType:c,t:u}=e,d=(0,_.jsx)("span",{children:a},"text-segment-".concat(l)),p=i.origin.fromValue&&i.fromValue&&i.fromValue.children[0].text||"",f=s&&"unchanged"!==s.action&&s.annotation||void 0,h=null==s||null==(t=s.fields)?void 0:t.marks,m=h&&"unchanged"!==h.action&&h.annotation||f,g=[],y=p.split("").filter(e=>!!e).join(""),v=y.slice(0,Math.max(0,y.indexOf(o.text)+o.text.length)),b=v.slice(0,Math.max(0,v.indexOf(o.text))),x=[];return[...b.matchAll(Np)].forEach(e=>{let t=e[0],n=R6.concat(R4).find(e=>e.indexOf(t)>-1);if(n){var i;let e=(null==(i=r[t===n[0]?Na.indexOf(t):No.indexOf(t)])?void 0:i.value)||t;b.lastIndexOf(t)>b.lastIndexOf(n[1])&&x.push(e)}}),g=(0,xo.default)(n,(0,nC.default)(x)),m&&g.length>0&&g.some(e=>Bc(e,c))&&(d=(0,_.jsx)(RX,{annotation:m,as:"ins",tooltip:{description:u("changes.portable-text.changed-formatting")},children:d},"diffcard-annotation-".concat(l,"-").concat(g.join("-")))),d}({activeMarks:u,decoratorTypes:r,diff:t,children:s,seg:i,segIndex:a,spanDiff:c,spanSchemaType:o,t:l})),u&&u.length>0&&u.forEach(e=>{Bc(e,o)&&(s=(0,_.jsx)(B6,{mark:e,children:s},"decorator-".concat(e,"-").concat(n._key,"-").concat(a)))}),s}({diff:t,child:n,decoratorTypes:l,seg:s,segIndex:m,spanSchemaType:o,t:i})},"text-".concat(n._key,"-").concat(m));if(g.length>0&&g.forEach(e=>{f[e.mark]=f[e.mark]||[],f[e.mark].push(y)}),e){let i="annotation-".concat(e.object._key),a=p[p.length-1];if(a&&a.key!==i){let a=(b=t.origin,x=e.mark,b.fields.markDefs&&b.fields.markDefs.isChanged&&"array"===b.fields.markDefs.type&&(null==(C=b.fields.markDefs.items.find(e=>e.diff&&"object"===e.diff.type&&(e.diff.toValue&&e.diff.toValue._key&&e.diff.toValue._key===x||e.diff.fromValue&&e.diff.fromValue._key&&e.diff.fromValue._key===x)))?void 0:C.diff)||void 0),l=e&&o.annotations&&o.annotations.find(t=>e&&e.object&&t.name===e.object._type);p.push((0,_.jsx)(BZ,{object:e.object,diff:a,path:[{_key:r._key},"children",{_key:n._key}],schemaType:l,children:(0,_.jsx)(_.Fragment,{children:f[e.mark]})},i))}e=void 0}0===g.length&&p.push(y)}}),(0,_.jsx)("div",{children:p},r._key)}throw Error("'span' schemaType not found")},[r,t,a,n,i]);return(0,_.jsx)(B8,{block:t.displayValue,diff:t,children:(0,_.jsx)(_.Fragment,{children:(t.displayValue.children||[]).map(e=>o(e))})})}let Nh=F.styled.div(CI()),Nm=e=>{let t,n=(0,j.c)(3),{value:r,schemaType:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(I.Box,{as:Nh,padding:2,children:(0,_.jsx)(enW,{schemaType:i,value:r,layout:"default"})}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t},Ng=F.styled.div(CA()),Ny=e=>{let t,n=(0,j.c)(2),{value:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{as:Ng,paddingX:2,paddingY:1,children:r}),n[0]=r,n[1]=t):t=n[1],t},Nv=F.styled.div(CO()),Nb={block:e=>{let t,n,r,i=(0,j.c)(9),{diff:a,schemaType:o}=e;i[0]!==a||i[1]!==o?(t=function(e,t){let n="removed"===e.action?e.fromValue:e.toValue,r={...e,origin:e};if(n){let i={},a={},o={},l=Bl(t.fields,{_type:"span"});l&&Bs(l).forEach((e,t)=>{a[e.value]=R6[t]}),Bh(r.origin).forEach((e,t)=>{i[e._key]=R4[t]}),Bd(r.origin).forEach((e,t)=>{o[e._key]=R9[t]});let s=Bu(r.origin,r.fromValue,a,i,o),c=Bu(r.origin,r.toValue,a,i,o),u={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:c,marks:[]}]},d={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:s,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:u,fromValue:d,toValue:u,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:s,toValue:c,segments:(function(e,t){let n=[],r=uY(uP(e,t)),i=0,a=0;for(let[o,l]of r)switch(o){case 0:n.push({type:"stringSegment",action:"unchanged",text:l}),i+=l.length,a+=l.length;break;case -1:n.push({type:"stringSegment",action:"removed",text:e.slice(i,i+l.length),annotation:null}),i+=l.length;break;case 1:n.push({type:"stringSegment",action:"added",text:t.slice(a,a+l.length),annotation:null}),a+=l.length}return(0,td.default)(n.map(e=>{let t=[];if(e.text.length>1){let n=[...e.text.matchAll(Bi)],r=-1;n.forEach(i=>{let a=i.index||0;a>r&&(t.push({...e,text:e.text.slice(r+1,a)}),t.push({...e,text:i[0]})),i===n[n.length-1]&&t.push({...e,text:e.text.slice(Math.max(0,a+1))}),r=a}),0===n.length&&t.push(e)}else t.push(e);return t}))})(s,c).map(e=>({...e,..."unchanged"!==r.action&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:d.children[0],toValue:u.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:d.children,toValue:u.children}}}}throw Error("Can not display this diff")}(a,o),i[0]=a,i[1]=o,i[2]=t):t=i[2];let l=t;return i[3]!==l||i[4]!==o?(n=(0,_.jsx)(Nf,{diff:l,schemaType:o}),i[3]=l,i[4]=o,i[5]=n):n=i[5],i[6]!==a.action||i[7]!==n?(r=(0,_.jsx)("div",{"data-diff-action":a.action,children:n}),i[6]=a.action,i[7]=n,i[8]=r):r=i[8],r},boolean:{component:e=>{let t,n,r,i,a,o,l,s=(0,j.c)(24),{diff:c,schemaType:u}=e,{fromValue:d,toValue:p}=c,{title:f,options:h}=u,m=(null==h?void 0:h.layout)==="checkbox"?Bb:Bx;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],s[0]=t):t=s[0];let g=Aj(c,t),{showFromValue:y}=B_(),v=null!=p;return s[1]!==m||s[2]!==d||s[3]!==y||s[4]!==g?(n=y&&(0,_.jsx)(m,{checked:d,color:g}),s[1]=m,s[2]=d,s[3]=y,s[4]=g,s[5]=n):n=s[5],s[6]!==m||s[7]!==y||s[8]!==v||s[9]!==p||s[10]!==g?(r=v&&(0,_.jsxs)(_.Fragment,{children:[y&&(0,_.jsx)(I.Box,{marginX:2,children:(0,_.jsx)(NB,{})}),(0,_.jsx)(m,{checked:p,color:g})]}),s[6]=m,s[7]=y,s[8]=v,s[9]=p,s[10]=g,s[11]=r):r=s[11],s[12]!==n||s[13]!==r?(i=(0,_.jsxs)(I.Flex,{align:"center",children:[n,r]}),s[12]=n,s[13]=r,s[14]=i):i=s[14],s[15]!==c||s[16]!==i?(a=(0,_.jsx)(RW,{diff:c,children:i}),s[15]=c,s[16]=i,s[17]=a):a=s[17],s[18]!==v||s[19]!==f?(o=v&&f&&(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:f})}),s[18]=v,s[19]=f,s[20]=o):o=s[20],s[21]!==a||s[22]!==o?(l=(0,_.jsxs)(I.Flex,{align:"center",children:[a,o]}),s[21]=a,s[22]=o,s[23]=l):l=s[23],l},showHeader:!1},date:Bw,datetime:Bw,file:e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(53),{diff:y,schemaType:v}=e,{fromValue:b,toValue:x,fields:C}=y,k=null==b?void 0:b.asset,w=null==x?void 0:x.asset,{t:S}=IO(),E=Bj(null==k?void 0:k._ref),T=Bj(null==w?void 0:w._ref);g[0]===Symbol.for("react.memo_cache_sentinel")?(t={unitDisplay:"short",maximumFractionDigits:2},g[0]=t):t=g[0];let D=edk(t);g[1]===Symbol.for("react.memo_cache_sentinel")?(n=["_type","media"],g[1]=n):n=g[1];let A=n;g[2]!==C?(r=Object.entries(C).filter(e=>{let[t,n]=e;return n.isChanged&&!A.includes(t)}).map(BT),g[2]=C,g[3]=r):r=g[3];let O=r,P=O.includes("asset");if(g[4]!==O||g[5]!==v.fields){let e;g[7]!==O?(e=e=>"asset"!==e.name&&O.includes(e.name),g[7]=O,g[8]=e):e=g[8],i=v.fields.filter(e).map(BD),g[4]=O,g[5]=v.fields,g[6]=i}else i=g[6];let M=i,F=function(e,t){return e&&t?Math.round((t-e)/e*100):0}(null==E?void 0:E.size,null==T?void 0:T.size);g[9]!==D||g[10]!==E?(a=(null==E?void 0:E.size)&&BS(E.size,D),g[9]=D,g[10]=E,g[11]=a):a=g[11];let B=a;g[12]!==D||g[13]!==T?(o=(null==T?void 0:T.size)&&BS(T.size,D),g[12]=D,g[13]=T,g[14]=o):o=g[14];let N=o;g[15]===Symbol.for("react.memo_cache_sentinel")?(l={display:"block",flex:1},g[15]=l):l=g[15];let L=l;g[16]!==y||g[17]!==E||g[18]!==B||g[19]!==S?(s=E&&(0,_.jsx)(RX,{as:"del",diff:y,path:"asset._ref",style:L,children:(0,_.jsx)(Lf,{title:E.originalFilename||S("changes.file.meta-info-fallback-title"),icon:R.DocumentIcon,children:(0,_.jsx)(I.Text,{size:0,style:{color:"inherit"},children:B})})}),g[16]=y,g[17]=E,g[18]=B,g[19]=S,g[20]=s):s=g[20];let z=s;g[21]!==y||g[22]!==T||g[23]!==N||g[24]!==F||g[25]!==S?(c=T&&(0,_.jsx)(RX,{as:"ins",diff:y,path:"asset._ref",style:L,children:(0,_.jsx)(Lf,{title:T.originalFilename||S("changes.file.meta-info-fallback-title"),icon:R.DocumentIcon,children:(0,_.jsxs)(I.Flex,{align:"center",children:[(0,_.jsx)(I.Text,{size:0,style:{color:"inherit"},children:N}),0!==F&&(0,_.jsx)(I.Card,{radius:2,padding:1,as:BE,marginLeft:2,children:(0,_.jsxs)(I.Text,{size:0,"data-number":F>0?"positive":"negative",children:[F>0?"+":"-",F,"%"]})})]})})}),g[21]=y,g[22]=T,g[23]=N,g[24]=F,g[25]=S,g[26]=c):c=g[26];let V=c;g[27]!==y||g[28]!==z||g[29]!==S||g[30]!==V?(u=z&&!V&&(0,_.jsx)(RW,{diff:y,path:"asset._ref",description:S("changes.removed-label"),children:z}),g[27]=y,g[28]=z,g[29]=S,g[30]=V,g[31]=u):u=g[31],g[32]!==y||g[33]!==z||g[34]!==V?(d=z&&V&&(0,_.jsx)(RW,{diff:y,path:"asset._ref",children:(0,_.jsx)(N$,{from:z,layout:"grid",to:V})}),g[32]=y,g[33]=z,g[34]=V,g[35]=d):d=g[35],g[36]!==y||g[37]!==z||g[38]!==S||g[39]!==V?(p=!z&&V&&(0,_.jsx)(RW,{diff:y,path:"asset._ref",description:S("changes.added-label"),children:V}),g[36]=y,g[37]=z,g[38]=S,g[39]=V,g[40]=p):p=g[40],g[41]!==u||g[42]!==d||g[43]!==p?(f=(0,_.jsxs)(_.Fragment,{children:[u,d,p]}),g[41]=u,g[42]=d,g[43]=p,g[44]=f):f=g[44];let U=P&&f;return g[45]!==P||g[46]!==y||g[47]!==M||g[48]!==v?(h=M.length>0&&(0,_.jsx)(I.Box,{marginTop:P?4:3,children:(0,_.jsx)(Li,{diff:y,schemaType:v,fields:M})}),g[45]=P,g[46]=y,g[47]=M,g[48]=v,g[49]=h):h=g[49],g[50]!==U||g[51]!==h?(m=(0,_.jsxs)(_.Fragment,{children:[U,h]}),g[50]=U,g[51]=h,g[52]=m):m=g[52],m},image:e=>{var t,n;let r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(55),{diff:h,schemaType:m}=e,{t:g}=IO(),{showFromValue:y}=B_(),{fromValue:v,toValue:b,fields:x,isChanged:C}=h,k=null==v||null==(t=v.asset)?void 0:t._ref,w=null==b||null==(n=b.asset)?void 0:n._ref;f[0]!==h?(r=Ay(h,["asset","_ref"]),f[0]=h,f[1]=r):r=f[1];let S=r;f[2]!==x?(i=Object.keys(x),f[2]=x,f[3]=i):i=f[3],f[4]!==x||f[5]!==i?(a=i.filter(e=>x[e].isChanged&&"_type"!==e),f[4]=x,f[5]=i,f[6]=a):a=f[6];let E=a;if(f[7]!==E||f[8]!==m.fields){let e;f[10]!==E?(e=e=>!Bz.includes(e.name)&&E.includes(e.name),f[10]=E,f[11]=e):e=f[11],o=m.fields.filter(e).map(BU),f[7]=E,f[8]=m.fields,f[9]=o}else o=f[9];let T=o,D="changed";!k&&w?D="added":!w&&k&&(D="removed");let A=E.includes("asset"),O=E.includes("crop"),P=E.includes("hotspot"),M=O||P,F=A||M,R=M&&!A;f[12]!==D||f[13]!==S||f[14]!==O||f[15]!==P||f[16]!==h||f[17]!==k||f[18]!==v||f[19]!==R?(l=v&&k?(0,_.jsx)(RX,{annotation:S,style:BV,children:(0,_.jsx)(BL,{is:"from",id:k,diff:h,action:D,hotspot:R&&P?v.hotspot:void 0,crop:R&&O?v.crop:void 0})}):(0,_.jsx)(BF,{}),f[12]=D,f[13]=S,f[14]=O,f[15]=P,f[16]=h,f[17]=k,f[18]=v,f[19]=R,f[20]=l):l=f[20];let B=l;f[21]!==S||f[22]!==O||f[23]!==P||f[24]!==h||f[25]!==R||f[26]!==w||f[27]!==b?(s=b&&w?(0,_.jsx)(RX,{annotation:S,style:BV,children:(0,_.jsx)(BL,{is:"to",id:w,diff:h,hotspot:R&&P?b.hotspot:void 0,crop:R&&O?b.crop:void 0})}):(0,_.jsx)(BF,{}),f[21]=S,f[22]=O,f[23]=P,f[24]=h,f[25]=R,f[26]=w,f[27]=b,f[28]=s):s=f[28];let N=s;if(!B&&!N){let e,t;return f[29]!==g?(e=g("changes.image.no-asset-set"),f[29]=g,f[30]=e):e=f[30],f[31]!==e?(t=(0,_.jsx)(I.Card,{padding:4,radius:2,tone:"transparent",children:(0,_.jsx)(I.Text,{muted:!0,size:1,align:"center",children:e})}),f[31]=e,f[32]=t):t=f[32],t}if(!C){let e;return f[33]!==S||f[34]!==h||f[35]!==w?(e=w?(0,_.jsx)(RX,{annotation:S,style:BV,children:(0,_.jsx)(BL,{id:w,is:"to",diff:h})}):null,f[33]=S,f[34]=h,f[35]=w,f[36]=e):e=f[36],e}let L=y?B:void 0;f[37]!==L||f[38]!==N?(c=(0,_.jsx)(N$,{align:"center",from:L,layout:"grid",to:N}),f[37]=L,f[38]=N,f[39]=c):c=f[39];let z=c;return f[40]!==D||f[41]!==S||f[42]!==A||f[43]!==z||f[44]!==F||f[45]!==g?(u=F&&(A?(0,_.jsx)(RW,{annotations:S?[S]:[],description:function(e,t){switch(e){case"changed":return t("changes.changed-label");case"added":return t("changes.added-label");case"removed":return t("changes.removed-label");default:return"Unknown change"}}(D,g),children:z}):z),f[40]=D,f[41]=S,f[42]=A,f[43]=z,f[44]=F,f[45]=g,f[46]=u):u=f[46],f[47]!==h||f[48]!==T||f[49]!==m||f[50]!==F?(d=T.length>0&&(0,_.jsx)(I.Box,{marginTop:F?4:3,children:(0,_.jsx)(Li,{diff:h,schemaType:m,fields:T})}),f[47]=h,f[48]=T,f[49]=m,f[50]=F,f[51]=d):d=f[51],f[52]!==d||f[53]!==u?(p=(0,_.jsxs)(_.Fragment,{children:[u,d]}),f[52]=d,f[53]=u,f[54]=p):p=f[54],p},number:e=>{let t,n=(0,j.c)(3),{diff:r,schemaType:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(NX,{diff:r,schemaType:i,previewComponent:Bq,layout:"inline"}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t},reference:e=>{let t,n=(0,j.c)(3),{diff:r,schemaType:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(NX,{align:"center",diff:r,layout:"grid",path:"_ref",previewComponent:Nm,schemaType:i}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t},string:e=>{let t,n=(0,j.c)(5),{diff:r,schemaType:i}=e,{options:a}=i;if(null==a?void 0:a.list){let e;return n[0]!==r||n[1]!==i?(e=(0,_.jsx)(NX,{diff:r,previewComponent:Ny,schemaType:i}),n[0]=r,n[1]=i,n[2]=e):e=n[2],e}return n[3]!==r?(t=(0,_.jsx)(Nv,{children:(0,_.jsx)(Lu,{diff:r})}),n[3]=r,n[4]=t):t=n[4],t}};function Nx(e,t){let n=e;for(;n;){var r;let e=(null==n||null==(r=n.components)?void 0:r.diff)||function(e,t){let n;for(let r of Bv){if("function"!=typeof r){console.error("Diff component resolver is not a function: ",r);continue}if(n=r({schemaType:e,parentSchemaType:t}))return n}}(n,t)||Nb[n.name];if(e)return e;n=n.type}return Nb[["date","datetime"].includes(e.name)?e.name:e.jsonType]}function NC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!Nx(e,i.parentSchema)){if("object"===e.jsonType&&"object"===t.type)return Nk(e,t,n,r,i);if("array"===e.jsonType&&"array"===t.type)return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.items.filter(e=>e.hasMoved&&e.fromIndex!==e.toIndex||"unchanged"!==e.diff.action);if(0===i.length)return[];let a=e.of.some(Ba),o=i.reduce((i,o)=>{var l;let s=(l=o.diff,"added"===l.action?{toType:R8(e,l.toValue)}:"changed"===l.action?{fromType:R8(e,l.fromValue),toType:R8(e,l.toValue)}:"removed"===l.action?{fromType:R8(e,l.fromValue)}:{toType:R8(e,l.toValue)}),c=s.toType||s.fromType;if(!c)return console.warn("Could not determine schema type for item at %s",Au(n)),i;let u=Am(o.diff.fromValue)||Am(o.diff.toValue)||t.items.indexOf(o),d=n.concat(u),p={itemDiff:o,parentDiff:t,parentSchema:e},f=r.concat({hasMoved:o.hasMoved,toIndex:o.toIndex,fromIndex:o.fromIndex,annotation:"unchanged"===o.diff.action?o.annotation:o.diff.annotation}),h=NC(c,o.diff,d,f,p).map(e=>("field"===e.type&&Af(d,e.path)&&(e.itemDiff=o),e));return a&&h.filter(By).forEach((e,t,n)=>{e.showHeader=1===n.length,e.showIndex=o.fromIndex!==o.toIndex&&o.hasMoved}),0===h.length?i.push(...Nw(c,o.diff,d,f,p)):i.push(...h),i},[]);return o.length>1?[{type:"group",key:Au(n)||"root",path:n,titlePath:r,changes:N_(o,r.length),schemaType:e}]:o}(e,t,n,r)}return Nw(e,t,n,r,i)}function Nk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=[],o={...i,parentSchema:e};for(let i of e.fieldsets||e.fields.map(e=>({single:!0,field:e})))i.single?a.push(...function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},{fieldFilter:a,...o}=i,l=t.fields[e.name];if(!l||!l.isChanged||a&&!a.includes(e.name))return[];let s=n.concat([e.name]),c=r.concat([e.type.title||e.name]);return NC(e.type,l,s,c,o)}(i.field,t,n,r,o)):a.push(...function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},{fields:a,name:o,title:l,readOnly:s,hidden:c}=e,{fieldFilter:u,...d}=i,p=r.concat([l||o]),f=[];for(let e of a){let r=t.fields[e.name];if(!r||!r.isChanged||u&&!u.includes(e.name))continue;let i=n.concat([e.name]),a=p.concat([e.type.title||e.name]);f.push(...NC({readOnly:s,hidden:c,...e.type},r,i,a,d))}return f.length<2?f:[{type:"group",key:Au(n)||"root",fieldsetName:o,path:n,titlePath:p,changes:N_(f,p.length),readOnly:s,hidden:c}]}(i,t,n,r,o));return a.length<2?a:[{type:"group",key:Au(n)||"root",path:n,titlePath:r,changes:N_(a,r.length),schemaType:e}]}function Nw(e,t,n,r){let i,{itemDiff:a,parentDiff:o,parentSchema:l}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},{fromValue:s,toValue:c,type:u}=t;if("array"===u&&Nj(s)&&Nj(c))return[];"u">typeof s&&(i=Bg(s,e)),!i&&"u">typeof c&&(i=Bg(c,e));let d=!0,p,f=Nx(e,l);return f&&"function"==typeof f?p=f:f&&(p=f.component,d=typeof f.showHeader>"u"?d:f.showHeader),[{type:"field",diff:t,path:n,error:i,itemDiff:a,parentDiff:o,titlePath:r,schemaType:e,showHeader:d,showIndex:!0,key:Au(n)||"root",diffComponent:i?void 0:p,parentSchema:l}]}function N_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map(e=>(e.titlePath=e.titlePath.slice(t),e))}function Nj(e){return Array.isArray(e)&&0===e.length||null===e||typeof e>"u"}let NS=e=>"field"===e.type&&"added"===e.diff.action,NE=e=>{if("group"!==e.type)return[e];let t=[];return e.changes.forEach(e=>{t.push(...NE(e))}),t},NT=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},ND=(e,t)=>{let n=Ah(e[t]);return n?{_key:n}:Array.isArray(e)?parseInt(t,10):t},NI={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function NA(e,t,n){if(!t)return;let r=[];if("group"===e.type){let i=NE(e),a=i.filter(NS);i.filter(e=>!NS(e)).forEach(e=>NA(e,t,n)),r.push(...NO(t,a.map(e=>e.path).reverse()))}else"added"===e.diff.action?r.push(...NO(t,[e.path])):"field"===e.type&&e.itemDiff&&e.parentDiff&&"array"===e.parentDiff.type&&e.itemDiff.hasMoved?r.push(...function(e,t,n){let r,i=n.slice(0,-1),{parentValue:a,fromIndex:o,fromValue:l}=function(e,t){if(e.fromValue&&"number"==typeof t.fromIndex){let n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw Error("Failed to find item at index ".concat(t.fromIndex))}(t,e);if(0===o)r={before:Au([...i,0])};else{let e=o-1;r={after:Au([...i,Am(a[e])||e])}}return[{unset:[Au(n)]},{insert:{...r,items:[l]}}]}(e.itemDiff,e.parentDiff,e.path)):r.push(...function(e,t,n){let r=xg(e.toValue,e.fromValue,NI,n),i=r.filter(e=>"insert"===e.op).map(e=>{let{after:t,items:n}=e;return{insert:{after:Au(t),items:n}}}),a=r.filter(e=>"unset"===e.op).reduce((e,t)=>e.concat(Au(t.path)),[]),o=new Set,l=[],s=!1,c=r.filter(e=>"set"===e.op).reduce((e,n)=>(s=!0,l.push(...function(e,t,n){let r=t.fromValue,i=t.toValue,a=[];for(let t=1;t<=e.length;t++){let o=e.slice(0,t),l=Au(o);if(n.has(l))continue;let s=e[t],c=(0,W.isKeySegment)(s)||(0,W.isIndexSegment)(s),u=Ad(r,o),d=NP(u);if(c&&Array.isArray(u)&&!Ad(i,e.slice(0,t+1))){let e=function(e,t){return"number"==typeof t||(0,W.isKeySegment)(t)?"number"==typeof t?t:e.findIndex(e=>(0,W.isKeyedObject)(e)&&e._key===t._key):-1}(u,s),n=u[e-1],i=Ad(r,o.concat(s)),c=(0,W.isKeyedObject)(n)?{_key:n._key}:e-1,d=Au(o.concat(e<1?0:c));a.push({setIfMissing:{[l]:[]}}),a.push({insert:{after:d,items:[NP(i)]}}),t++;continue}typeof d>"u"||(n.add(l),a.push({setIfMissing:{[l]:d}}))}return a}(n.path,t,o)),e[Au(n.path)]=n.value,e),{});return[...l,...i,...a.length>0?[{unset:a}]:[],...s?[{set:c}]:[]]}(e.diff,t,e.path));n.patch.execute(r)}function NO(e,t){let n=[];for(let i=0;i<t.length;i++){var r;n.some(e=>NT(t[i],e))||n.push((r=t[i],function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(arguments.length>3&&arguments[3],n.length<=0)throw Error("Root has no ancestor");let i=n.slice(0,-1),a=Ad(t,i),o=[i,...r.filter(e=>!NT(e,i))];return function e(t,n,r){let i=null==r?void 0:r.some(e=>Au(e)===Au(n)),a=Array.isArray(t)&&t.length<=0;return i||null==t||a||"object"==typeof t&&null!==t&&Object.keys(t).length<=0||function(t,n,r){if(!Io(t)||!Array.isArray(t))return!1;for(let i in t){if(!Object.prototype.hasOwnProperty.call(t,i)||"_type"===i||"_key"===i)continue;let a=[...n,ND(t,i)];if(!e(t[i],a,r))return!1}return!0}(t,n,r)}(a,i,r)?e(t,i,o):n}(e.toValue,r,t)))}return[{unset:[...new Set(n.map(Au))]}]}function NP(e){if(Array.isArray(e))return[];if("object"!=typeof e||null===e)return;let t={};return(0,W.isKeyedObject)(e)&&(t._key=e._key),(0,W.isTypedObject)(e)&&(t._type=e._type),t}let NM=F.styled.div(CP());class NF extends E.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){console.error("Error rendering diff component: "),console.error(e)}render(){let{t:e}=this.props,{error:t}=this.state;return t?(0,_.jsx)(I.Card,{padding:3,radius:2,tone:"critical",children:(0,_.jsxs)(I.Flex,{children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),(0,_.jsxs)(I.Box,{paddingLeft:3,children:[(0,_.jsx)(I.Text,{as:"h3",size:1,weight:"medium",children:e("changes.error-boundary.title")}),IX&&(0,_.jsx)(I.Box,{marginTop:2,children:(0,_.jsx)(I.Text,{as:"p",size:1,children:e("changes.error-boundary.developer-info")})})]})]})}):this.props.children}constructor(...e){super(...e),(0,k._)(this,"state",{})}}let NR={down:R.ArrowDownIcon,right:R.ArrowRightIcon};function NB(e){let t,n,r,i,a=(0,j.c)(8);a[0]!==e?({direction:n,...t}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]);let o=NR[void 0===n?"right":n];return a[3]!==o?(r=(0,_.jsx)(o,{}),a[3]=o,a[4]=r):r=a[4],a[5]!==t||a[6]!==r?(i=(0,_.jsx)(I.Text,{muted:!0,size:1,...t,children:r}),a[5]=t,a[6]=r,a[7]=i):i=a[7],i}let NN=F.styled.pre(CM()),NL=F.styled.div(CF());function Nz(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(18);p[0]!==e?({children:r,as:t,change:n,...i}=e,p[0]=e,p[1]=t,p[2]=n,p[3]=r,p[4]=i):(t=p[1],n=p[2],r=p[3],i=p[4]);let f=(0,E.useRef)(!1),[h,m]=(0,E.useState)(!1);p[5]===Symbol.for("react.memo_cache_sentinel")?(a=()=>m(NV),p[5]=a):a=p[5];let g=a;p[6]===Symbol.for("react.memo_cache_sentinel")?(o=()=>f.current=!0,p[6]=o):o=p[6];let y=o;p[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>f.current=!1,p[7]=l):l=p[7];let v=l;return p[8]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{let e=function(e){let{metaKey:t,key:n}=e;t&&"i"===n&&f.current&&g()};return window.addEventListener("keydown",e,!1),()=>window.removeEventListener("keydown",e,!1)},c=[g],p[8]=s,p[9]=c):(s=p[8],c=p[9]),(0,E.useEffect)(s,c),p[10]!==n||p[11]!==r||p[12]!==h?(u=h?(0,_.jsx)(NH,{change:n}):r,p[10]=n,p[11]=r,p[12]=h,p[13]=u):u=p[13],p[14]!==t||p[15]!==i||p[16]!==u?(d=(0,_.jsx)(I.Box,{as:t,onMouseEnter:y,onMouseLeave:v,...i,children:u}),p[14]=t,p[15]=i,p[16]=u,p[17]=d):d=p[17],d}function NV(e){return!e}let NU=e=>{let t,n=(0,j.c)(2),{title:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{padding:3,display:"inline-block",as:NL,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:r})}),n[0]=r,n[1]=t):t=n[1],t};function NH(e){var t,n,r,i,a,o,l,s,c;let u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,E,T,D=(0,j.c)(43),{change:A}=e,{t:O}=IO();return D[0]!==O?(u=O("changes.inspector.meta-label"),D[0]=O,D[1]=u):u=D[1],D[2]!==u?(d=(0,_.jsx)(NU,{title:u}),D[2]=u,D[3]=d):d=D[3],D[4]!==A.diff.action||D[5]!==A.diff.isChanged||D[6]!==(null==(t=A.itemDiff)?void 0:t.fromIndex)||D[7]!==(null==(n=A.itemDiff)?void 0:n.hasMoved)||D[8]!==(null==(r=A.itemDiff)?void 0:r.toIndex)||D[9]!==A.path?(p=function(e){let t=[];return Object.entries(e).forEach(e=>{let[n,r]=e;"u">typeof r&&null!==r&&t.push("".concat(n,": ").concat(r))}),t.join("\n")}({path:Au(A.path),fromIndex:null==(i=A.itemDiff)?void 0:i.fromIndex,toIndex:null==(a=A.itemDiff)?void 0:a.toIndex,hasMoved:null==(o=A.itemDiff)?void 0:o.hasMoved,action:A.diff.action,isChanged:A.diff.isChanged}),D[4]=A.diff.action,D[5]=A.diff.isChanged,D[6]=null==(l=A.itemDiff)?void 0:l.fromIndex,D[7]=null==(s=A.itemDiff)?void 0:s.hasMoved,D[8]=null==(c=A.itemDiff)?void 0:c.toIndex,D[9]=A.path,D[10]=p):p=D[10],D[11]!==p?(f=(0,_.jsx)(I.Code,{language:"json",size:1,children:p}),D[11]=p,D[12]=f):f=D[12],D[13]!==d||D[14]!==f?(h=(0,_.jsxs)(I.Card,{padding:3,tone:"transparent",as:NN,radius:1,children:[d,f]}),D[13]=d,D[14]=f,D[15]=h):h=D[15],D[16]!==O?(m=O("changes.inspector.from-label"),D[16]=O,D[17]=m):m=D[17],D[18]!==m?(g=(0,_.jsx)(NU,{title:m}),D[18]=m,D[19]=g):g=D[19],D[20]!==A.diff.fromValue?(y=Nq(A.diff.fromValue),D[20]=A.diff.fromValue,D[21]=y):y=D[21],D[22]!==y?(v=(0,_.jsx)(I.Code,{language:"json",size:1,children:y}),D[22]=y,D[23]=v):v=D[23],D[24]!==g||D[25]!==v?(b=(0,_.jsxs)(I.Card,{as:NN,tone:"critical",padding:3,radius:1,children:[g,v]}),D[24]=g,D[25]=v,D[26]=b):b=D[26],D[27]===Symbol.for("react.memo_cache_sentinel")?(x=(0,_.jsx)(I.Card,{children:(0,_.jsx)(NB,{direction:"down",align:"center"})}),D[27]=x):x=D[27],D[28]!==O?(C=O("changes.inspector.to-label"),D[28]=O,D[29]=C):C=D[29],D[30]!==C?(k=(0,_.jsx)(NU,{title:C}),D[30]=C,D[31]=k):k=D[31],D[32]!==A.diff.toValue?(w=Nq(A.diff.toValue),D[32]=A.diff.toValue,D[33]=w):w=D[33],D[34]!==w?(S=(0,_.jsx)(I.Code,{language:"json",size:1,children:w}),D[34]=w,D[35]=S):S=D[35],D[36]!==k||D[37]!==S?(E=(0,_.jsxs)(I.Card,{as:NN,tone:"positive",padding:3,radius:1,children:[k,S]}),D[36]=k,D[37]=S,D[38]=E):E=D[38],D[39]!==b||D[40]!==E||D[41]!==h?(T=(0,_.jsxs)(I.Stack,{space:3,children:[h,b,x,E]}),D[39]=b,D[40]=E,D[41]=h,D[42]=T):T=D[42],T}function Nq(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function NW(e){return null!==e&&"u">typeof e&&""!==e}let NY={flexShrink:0},NK={alignItems:"stretch"},NG={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},N$=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(28);f[0]!==e?({align:a,layout:o,from:n,to:l,style:i,...r}=e,f[0]=e,f[1]=n,f[2]=r,f[3]=i,f[4]=a,f[5]=o,f[6]=l):(n=f[1],r=f[2],i=f[3],a=f[4],o=f[5],l=f[6]);let h=void 0===a?"top":a,m=void 0===o?"inline":o,g=(0,I.useTheme)(),y="inline"===m?I.Flex:I.Grid;f[7]!==m||f[8]!==g?(s="inline"===m?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat((0,I.rem)(g.sanity.space[5])," minmax(0, 1fr)")},f[7]=m,f[8]=g,f[9]=s):s=f[9],f[10]!==i||f[11]!==s?(c={...i,...s},f[10]=i,f[11]=s,f[12]=c):c=f[12];let v=c,b="inline"===m?NY:NK;f[13]!==h||f[14]!==b||f[15]!==n?(u=n&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Flex,{align:NG[h],style:b,children:n}),(0,_.jsx)(I.Flex,{align:"center",justify:"center",padding:2,children:(0,_.jsx)(NB,{})})]}),f[13]=h,f[14]=b,f[15]=n,f[16]=u):u=f[16];let x=NG[h];return f[17]!==b||f[18]!==x||f[19]!==l?(d=(0,_.jsx)(I.Flex,{align:x,style:b,children:l}),f[17]=b,f[18]=x,f[19]=l,f[20]=d):d=f[20],f[21]!==y||f[22]!==v||f[23]!==t||f[24]!==r||f[25]!==u||f[26]!==d?(p=(0,_.jsxs)(y,{...r,ref:t,style:v,"data-from-to-layout":!0,children:[u,d]}),f[21]=y,f[22]=v,f[23]=t,f[24]=r,f[25]=u,f[26]=d,f[27]=p):p=f[27],p}),NZ={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function NX(e){let t,n,r,i,a=(0,j.c)(39),{align:o,cardClassName:l,diff:s,layout:c,path:u,previewComponent:d,schemaType:p}=e,{action:f}=s,h=function(e){let t,n=(0,j.c)(6),{t:r}=IO(),i=NW(e.fromValue),a=NW(e.toValue);if(!i&&a){let e;return n[0]!==r?(e=r("changes.added-label"),n[0]=r,n[1]=e):e=n[1],e}if(!a&&i){let e;return n[2]!==r?(e=r("changes.removed-label"),n[2]=r,n[3]=e):e=n[3],e}return n[4]!==r?(t=r("changes.changed-label"),n[4]=r,n[5]=t):t=n[5],t}(s);if("unchanged"===f){let e,t;return a[0]!==d||a[1]!==s.toValue||a[2]!==p?(e=(0,_.jsx)(d,{schemaType:p,value:s.toValue}),a[0]=d,a[1]=s.toValue,a[2]=p,a[3]=e):e=a[3],a[4]!==l||a[5]!==e?(t=(0,_.jsx)(RX,{className:l,style:NZ,children:e}),a[4]=l,a[5]=e,a[6]=t):t=a[6],t}a[7]!==d||a[8]!==l||a[9]!==s||a[10]!==u||a[11]!==p?(t=void 0!==s.fromValue&&null!==s.fromValue&&(0,_.jsx)(RX,{as:"del",className:l,diff:s,path:u,style:NZ,children:(0,_.jsx)(d,{schemaType:p,value:s.fromValue})}),a[7]=d,a[8]=l,a[9]=s,a[10]=u,a[11]=p,a[12]=t):t=a[12];let m=t;a[13]!==d||a[14]!==l||a[15]!==s||a[16]!==u||a[17]!==p?(n=void 0!==s.toValue&&null!==s.toValue&&(0,_.jsx)(RX,{as:"ins",className:l,diff:s,path:u,style:NZ,children:(0,_.jsx)(d,{schemaType:p,value:s.toValue})}),a[13]=d,a[14]=l,a[15]=s,a[16]=u,a[17]=p,a[18]=n):n=a[18];let g=n;if(m&&!g){let e;return a[19]!==h||a[20]!==s||a[21]!==m||a[22]!==u?(e=(0,_.jsx)(RW,{description:h,diff:s,path:u,children:m}),a[19]=h,a[20]=s,a[21]=m,a[22]=u,a[23]=e):e=a[23],e}if(!m&&g){let e;return a[24]!==h||a[25]!==s||a[26]!==u||a[27]!==g?(e=(0,_.jsx)(RW,{description:h,diff:s,path:u,children:g}),a[24]=h,a[25]=s,a[26]=u,a[27]=g,a[28]=e):e=a[28],e}return a[29]!==o||a[30]!==m||a[31]!==c||a[32]!==g?(r=(0,_.jsx)(N$,{align:o,from:m,layout:c,to:g}),a[29]=o,a[30]=m,a[31]=c,a[32]=g,a[33]=r):r=a[33],a[34]!==h||a[35]!==s||a[36]!==u||a[37]!==r?(i=(0,_.jsx)(RW,{description:h,diff:s,path:u,children:r}),a[34]=h,a[35]=s,a[36]=u,a[37]=r,a[38]=i):i=a[38],i}let NJ=e=>{let t,n=(0,j.c)(3),{value:r,schemaType:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(enW,{schemaType:i,value:r,layout:"default"})}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t},NQ=e=>{let t,n=(0,j.c)(3),{diff:r,schemaType:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(NX,{diff:r,schemaType:i,previewComponent:NJ,layout:"grid"}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t},N1=F.styled.div(CR(),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),N2=F.styled.div(CB(),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.space[1])},e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.space[2])}),N0=(0,F.styled)(B.Button)(CN(),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),N5=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(12);l[0]!==e?({selected:i,changeCount:n,...r}=e,l[0]=e,l[1]=n,l[2]=r,l[3]=i):(n=l[1],r=l[2],i=l[3]);let{t:s}=IO();return l[4]!==n||l[5]!==s?(a=s("changes.action.revert-changes-confirm-change",{count:n}),l[4]=n,l[5]=s,l[6]=a):a=l[6],l[7]!==t||l[8]!==r||l[9]!==i||l[10]!==a?(o=(0,_.jsx)(N0,{icon:R.RevertIcon,selected:i,text:a,mode:"bleed",ref:t,tooltipProps:null,...r}),l[7]=t,l[8]=r,l[9]=i,l[10]=a,l[11]=o):o=l[11],o});function N7(e){let t,n,r,i,a,o=(0,j.c)(17),{open:l,onConfirm:s,onCancel:c,changeCount:u,referenceElement:d}=e,{t:p}=IO();return o[0]!==p?(t=p("changes.action.revert-all-cancel"),o[0]=p,o[1]=t):t=o[1],o[2]!==u||o[3]!==p?(n=u>1?p("changes.action.revert-all-confirm"):p("changes.action.revert-changes-confirm-change",{count:1}),o[2]=u,o[3]=p,o[4]=n):n=o[4],o[5]!==u||o[6]!==p?(r=p(u>1?"changes.action.revert-all-description":"changes.action.revert-changes-description",{count:u}),o[5]=u,o[6]=p,o[7]=r):r=o[7],o[8]===Symbol.for("react.memo_cache_sentinel")?(i=["left","left-start","left-end"],o[8]=i):i=o[8],o[9]!==c||o[10]!==s||o[11]!==l||o[12]!==d||o[13]!==t||o[14]!==n||o[15]!==r?(a=(0,_.jsx)(gt,{cancelButtonText:t,confirmButtonText:n,message:r,onCancel:c,onConfirm:s,open:l,referenceElement:d,tone:"critical",placement:"left",fallbackPlacements:i}),o[9]=c,o[10]=s,o[11]=l,o[12]=d,o[13]=t,o[14]=n,o[15]=r,o[16]=a):a=o[16],a}function N3(e){let t,n,r,i=(0,j.c)(8),{error:a}=e,{t:o}=IO();return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.ErrorOutlineIcon,{})})}),i[0]=t):t=i[0],i[1]!==a.actualType||i[2]!==a.expectedType||i[3]!==a.messageKey||i[4]!==o?(n=o(a.messageKey,{expectedType:a.expectedType,actualType:a.actualType}),i[1]=a.actualType,i[2]=a.expectedType,i[3]=a.messageKey,i[4]=o,i[5]=n):n=i[5],i[6]!==n?(r=(0,_.jsx)(I.Card,{tone:"critical",padding:3,children:(0,_.jsxs)(I.Flex,{align:"flex-start",children:[t,(0,_.jsx)(I.Box,{flex:1,paddingLeft:3,children:(0,_.jsx)(I.Text,{size:1,as:"p",children:n})})]})}),i[6]=n,i[7]=r):r=i[7],r}let N8=e=>{let t=(0,j.c)(8),{children:n,path:r,hasRevertHover:i,wrap:a}=e,{FieldWrapper:o}=B_(),l=void 0===o?E.Fragment:o;if(a){let e,a,o=0;for(let e=0;e<r.length;e++)"string"!=typeof r[e]&&(o=e);return t[0]!==o||t[1]!==r?(e=r.slice(0,o+1),t[0]=o,t[1]=r,t[2]=e):e=t[2],t[3]!==l||t[4]!==n||t[5]!==i||t[6]!==e?(a=(0,_.jsx)(l,{path:e,hasRevertHover:i,children:n}),t[3]=l,t[4]=n,t[5]=i,t[6]=e,t[7]=a):a=t[7],a}return n};function N4(e){var t;let{change:n,hidden:r,readOnly:i,addParentWrapper:a,...o}=e,l=n.diffComponent||NQ,{documentId:s,schemaType:c,rootDiff:u,isComparingCurrent:d,FieldWrapper:p=E.Fragment}=B_(),{selectedReleaseId:f}=Ar(),h=euu(s,c.name,f),[m,g]=(0,E.useState)(!1),[y,v]=(0,E.useState)(!1),b=(0,E.useRef)(null),{t:x}=IO(),[C,k]=Mp({id:s,type:c.name,permission:"update"}),w=(0,E.useCallback)(()=>{NA(n,u,h),g(!1)},[n,u,h]),j=(0,E.useCallback)(()=>{g(!0)},[]),S=(0,E.useCallback)(()=>{g(!1)},[]),T=(0,E.useCallback)(()=>{v(!0)},[]),A=(0,E.useCallback)(()=>{v(!1)},[]),O=(null==(t=n.parentSchema)?void 0:t.jsonType)!=="array"||n.parentSchema.of.some(e=>{var t;return(null==(t=e.type)?void 0:t.name)==="block"})?n.path:n.path.slice(0,-1),P=(0,E.useMemo)(()=>({path:n.path}),[n.path]);return(0,E.useMemo)(()=>r?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(I.Stack,{space:1,as:N1,...o,children:[n.showHeader&&(0,_.jsx)(R7,{change:n,titlePath:n.titlePath}),(0,_.jsx)(N8,{path:O,hasRevertHover:y,wrap:!!a,children:(0,_.jsx)(p,{path:O,hasRevertHover:y,children:(0,_.jsxs)(Nz,{change:n,as:N2,"data-revert-field-hover":y?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,"data-ui":"field-diff-inspect-wrapper",children:[n.error?(0,_.jsx)(N3,{error:n.error}):(0,_.jsx)(NF,{t:x,children:(0,_.jsx)(D.DiffContext.Provider,{value:P,children:(0,_.jsx)(l,{diff:n.diff,schemaType:n.schemaType})})}),d&&!k&&(null==C?void 0:C.granted)&&(0,_.jsx)(N5,{changeCount:1,onClick:j,onMouseEnter:T,onMouseLeave:A,selected:m,disabled:i,ref:b,"data-testid":"single-change-revert-button-".concat(null==n?void 0:n.key)})]})})})]}),(0,_.jsx)(N7,{open:m,onConfirm:w,onCancel:S,changeCount:1,referenceElement:b.current})]}),[r,n,O,y,a,p,o,x,P,l,d,k,null==C?void 0:C.granted,j,T,A,i,m,w,S])}function N6(){}let N9=F.styled.div(CL()),Le=F.styled.div(Cz(),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.space[1])},e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.space[2])});function Lt(e){var t;let{change:n,readOnly:r,hidden:i,...a}=e,{titlePath:o,changes:l,path:s}=n,{path:c}=(0,E.useContext)(D.DiffContext),{documentId:u,schemaType:d,FieldWrapper:p=E.Fragment,rootDiff:f,isComparingCurrent:h}=B_();IO();let m=l.every(e=>By(e)&&Ba(e.schemaType)),g=Af(c,s),[y,v]=function(){let e,t,n,r=(0,j.c)(4),i=(0,E.useRef)(null),[a,o]=(0,E.useState)(!1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{let e=i.current;if(!e)return N6;let t=()=>o(!0),n=()=>o(!1);return e.addEventListener("mouseover",t),e.addEventListener("mouseout",n),()=>{e.removeEventListener("mouseover",t),e.removeEventListener("mouseout",n)}},t=[],r[0]=e,r[1]=t):(e=r[0],t=r[1]),(0,E.useEffect)(e,t),r[2]!==a?(n=[i,a],r[2]=a,r[3]=n):n=r[3],n}(),{selectedReleaseId:b}=Ar(),x=euu(u,d.name,b),[C,k]=(0,E.useState)(!1),[w,S]=Mp({id:u,type:d.name,permission:"update"}),T=(0,E.useCallback)(()=>{NA(n,f,x),k(!1)},[n,f,x]),A=(0,E.useCallback)(()=>{k(!0)},[]),O=(0,E.useCallback)(()=>{k(!1)},[]),P=(0,E.useMemo)(()=>i?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(I.Stack,{space:1,as:Le,"data-ui":"group-change-content","data-revert-group-hover":v?"":void 0,"data-portable-text":m?"":void 0,children:[(0,_.jsx)(I.Stack,{as:N9,space:5,"data-ui":"group-change-list",children:l.map(e=>(0,_.jsx)(Ln,{change:e,readOnly:r,hidden:i,addParentWrapper:e.path.length-n.path.length>1},e.key))}),h&&!S&&(null==w?void 0:w.granted)&&(0,_.jsx)(I.Box,{children:(0,_.jsx)(N5,{changeCount:l.length,onClick:A,ref:y,selected:C,disabled:r,"data-testid":"group-change-revert-button-".concat(n.fieldsetName)})})]}),(0,_.jsx)(N7,{open:C,onConfirm:T,onCancel:O,changeCount:l.length,referenceElement:y.current})]}),[l,C,n.fieldsetName,n.path.length,A,i,h,S,m,v,null==w?void 0:w.granted,r,y,T,O]),M=(null==(t=n.schemaType)?void 0:t.jsonType)==="array"&&n.schemaType.of.some(e=>"block"===e.name);return i?null:(0,_.jsxs)(I.Stack,{space:1,...a,children:[(0,_.jsx)(R7,{titlePath:o}),g||M?P:(0,_.jsx)(p,{hasRevertHover:v,path:s,children:P})]})}function Ln(e){var t,n;let r,i,a,o=(0,j.c)(18),{change:l,hidden:s,readOnly:c}=e,{value:u}=B_(),d=void 0===u?E.Fragment:u,p=s||(null==(t=l.schemaType)?void 0:t.hidden),f="field"===l.type?l.diff.toValue:void 0;o[0]!==d||o[1]!==p||o[2]!==f?(r={document:d,checkProperty:p,checkPropertyKey:"hidden",value:f},o[0]=d,o[1]=p,o[2]=f,o[3]=r):r=o[3];let h=R3(r),m=c||(null==(n=l.schemaType)?void 0:n.readOnly),g="field"===l.type?l.diff.toValue:void 0;o[4]!==d||o[5]!==m||o[6]!==g?(i={document:d,checkProperty:m,checkPropertyKey:"readOnly",value:g},o[4]=d,o[5]=m,o[6]=g,o[7]=i):i=o[7];let y=R3(i);if(h)return null;if("field"===l.type){let t;return o[8]!==l||o[9]!==y||o[10]!==e.addParentWrapper?(t=(0,_.jsx)(N4,{change:l,readOnly:y,addParentWrapper:e.addParentWrapper}),o[8]=l,o[9]=y,o[10]=e.addParentWrapper,o[11]=t):t=o[11],t}if("group"===l.type){let e,t="group-change-".concat(l.fieldsetName);return o[12]!==l||o[13]!==y||o[14]!==t?(e=(0,_.jsx)(Lt,{change:l,"data-testid":t,readOnly:y}),o[12]=l,o[13]=y,o[14]=t,o[15]=e):e=o[15],e}let v=l.type||"undefined";return o[16]!==v?(a=(0,_.jsxs)(I.Text,{children:["Unknown change type: ",(0,_.jsx)("code",{children:v})]}),o[16]=v,o[17]=a):a=o[17],a}function Lr(){let e,t,n,r,i,a=(0,j.c)(11),{t:o}=IO();return a[0]!==o?(e=o("changes.no-changes-title"),a[0]=o,a[1]=e):e=a[1],a[2]!==e?(t=(0,_.jsx)(I.Text,{size:1,weight:"medium",as:"h3",children:e}),a[2]=e,a[3]=t):t=a[3],a[4]!==o?(n=o("changes.no-changes-description"),a[4]=o,a[5]=n):n=a[5],a[6]!==n?(r=(0,_.jsx)(I.Text,{as:"p",size:1,muted:!0,children:n}),a[6]=n,a[7]=r):r=a[7],a[8]!==t||a[9]!==r?(i=(0,_.jsxs)(I.Stack,{space:3,paddingTop:2,children:[t,r]}),a[8]=t,a[9]=r,a[10]=i):i=a[10],i}function Li(e){let{diff:t,fields:n,schemaType:r}=e,{documentId:i,isComparingCurrent:a,value:o}=B_(),{selectedReleaseId:l}=Ar(),s=euu(i,r.name,l),{path:c}=(0,E.useContext)(D.DiffContext),u=0===c.length,[d,p]=(0,E.useState)(!1),[f,h]=(0,E.useState)(!1),m=(0,E.useRef)(null),{t:g}=IO(),y=R3({document:o,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if("object"!==r.jsonType)throw Error("Only object schema types are allowed in ChangeList");let[v,b]=Mp({id:i,type:r.name,permission:"update"}),x=(0,E.useMemo)(()=>Nk(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),C=(0,E.useMemo)(()=>{var e;return n&&0===n.length?[]:1===(e=x).length&&"group"===e[0].type&&0===e[0].path.length?e[0].changes:e},[x,n]),k=x[0],w=(0,E.useCallback)(()=>{NA(k,t,s),p(!1)},[k,t,s]),j=(0,E.useCallback)(()=>{p(!0)},[]),S=(0,E.useCallback)(()=>{h(!0)},[]),T=(0,E.useCallback)(()=>{h(!1)},[]),A=(0,E.useCallback)(()=>{p(!1)},[]);if(0===C.length)return u?(0,_.jsx)(Lr,{}):null;let O=u&&C.length>1;return(0,_.jsxs)(I.Card,{children:[(0,_.jsxs)(I.Stack,{space:5,children:[(0,_.jsx)(I.Stack,{as:NM,space:5,children:C.map(e=>(0,_.jsx)("div",{children:(0,_.jsx)(Ln,{change:e,"data-revert-all-changes-hover":f?"":void 0,readOnly:y||(null==e?void 0:e.readOnly),hidden:null==e?void 0:e.hidden,addParentWrapper:e.path.length>1},e.key)},e.key))}),O&&a&&!b&&(null==v?void 0:v.granted)&&(0,_.jsx)(I.Stack,{children:(0,_.jsx)(B.Button,{tone:"critical",mode:"ghost",text:g("changes.action.revert-all-confirm"),icon:R.RevertIcon,onClick:j,onMouseEnter:S,onMouseLeave:T,disabled:y,size:"large",ref:m})})]}),(0,_.jsx)(N7,{open:d,onConfirm:w,onCancel:A,changeCount:C.length,referenceElement:m.current})]})}function La(e){let t,n,r,i,a,o,l=(0,j.c)(16),{error:s}=e,{t:c}=IO(),u=s instanceof F3;return l[0]!==c?(t=c("changes.error-title"),l[0]=c,l[1]=t):t=l[1],l[2]!==t?(n=(0,_.jsx)(I.Text,{size:1,weight:"medium",as:"h3",children:t}),l[2]=t,l[3]=n):n=l[3],l[4]!==c?(r=c("changes.error-description"),l[4]=c,l[5]=r):r=l[5],l[6]!==r?(i=(0,_.jsx)(I.Text,{as:"p",size:1,muted:!0,children:r}),l[6]=r,l[7]=i):i=l[7],l[8]!==s||l[9]!==u||l[10]!==c?(a=u&&(0,_.jsx)(I.Box,{paddingTop:2,children:(0,_.jsx)(I.Text,{as:"p",size:1,muted:!0,children:(0,_.jsx)(IZ,{i18nKey:"changes.missing-since-document-error",t:c,values:{revisionId:s.revisionId},components:{Break:Lo}})})}),l[8]=s,l[9]=u,l[10]=c,l[11]=a):a=l[11],l[12]!==n||l[13]!==i||l[14]!==a?(o=(0,_.jsx)(I.Card,{tone:"caution",padding:3,children:(0,_.jsxs)(I.Stack,{space:3,children:[n,i,a]})}),l[12]=n,l[13]=i,l[14]=a,l[15]=o):o=l[15],o}function Lo(){return(0,_.jsx)("br",{})}let Ll=F.styled.span(CV(),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[1])}),Ls=(0,F.styled)(I.Text)(CU());function Lc(e){let t,n,r=(0,j.c)(24),{segment:i}=e,{text:a}=i,{t:o}=IO();if("added"===i.action){let e,t,n,l,s,c=i.annotation;return r[0]!==o?(e=o("changes.added-label"),r[0]=o,r[1]=e):e=r[1],r[2]!==e?(t={description:e},r[2]=e,r[3]=t):t=r[3],r[4]===Symbol.for("react.memo_cache_sentinel")?(n={textDecoration:"none"},r[4]=n):n=r[4],r[5]!==a?(l=(0,_.jsx)(Ls,{as:"ins",style:n,children:a}),r[5]=a,r[6]=l):l=r[6],r[7]!==i.annotation||r[8]!==t||r[9]!==l?(s=(0,_.jsx)(RX,{annotation:c,disableHoverEffect:!0,tooltip:t,as:Ll,children:l}),r[7]=i.annotation,r[8]=t,r[9]=l,r[10]=s):s=r[10],s}if("removed"===i.action){let e,t,n,l,s=i.annotation;return r[11]!==o?(e=o("changes.removed-label"),r[11]=o,r[12]=e):e=r[12],r[13]!==e?(t={description:e},r[13]=e,r[14]=t):t=r[14],r[15]!==a?(n=(0,_.jsx)(Ls,{as:"del",children:a}),r[15]=a,r[16]=n):n=r[16],r[17]!==i.annotation||r[18]!==t||r[19]!==n?(l=(0,_.jsx)(RX,{annotation:s,as:Ll,disableHoverEffect:!0,tooltip:t,children:n}),r[17]=i.annotation,r[18]=t,r[19]=n,r[20]=l):l=r[20],l}return r[21]===Symbol.for("react.memo_cache_sentinel")?(t={display:"inline"},r[21]=t):t=r[21],r[22]!==a?(n=(0,_.jsx)(I.Card,{as:"span",radius:2,style:t,children:a}),r[22]=a,r[23]=n):n=r[23],n}function Lu(e){let t,n,r,i=(0,j.c)(6),{diff:a}=e;return i[0]!==a.segments?(t=a.segments||[],i[0]=a.segments,i[1]=t):t=i[1],i[2]!==t?(n=t.map(Ld),i[2]=t,i[3]=n):n=i[3],i[4]!==n?(r=(0,_.jsx)(_.Fragment,{children:n}),i[4]=n,i[5]=r):r=i[5],r}function Ld(e,t){return(0,_.jsx)(Lc,{segment:e},t)}let Lp=(0,F.styled)(I.Text)(CH());function Lf(e){let t,n,r,i,a,o,l=(0,j.c)(17),{title:s,action:c,icon:u,children:d,markRemoved:p}=e;l[0]!==u||l[1]!==p?(t=u&&(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(Lp,{size:4,forwardedAs:p?"del":"div",children:(0,_.jsx)(u,{})})}),l[0]=u,l[1]=p,l[2]=t):t=l[2];let f=p?"del":"h3";return l[3]!==f||l[4]!==s?(n=(0,_.jsx)(Lp,{size:1,weight:"medium",forwardedAs:f,textOverflow:"ellipsis",children:s}),l[3]=f,l[4]=s,l[5]=n):n=l[5],l[6]!==c?(r=c&&(0,_.jsx)("div",{children:c}),l[6]=c,l[7]=r):r=l[7],l[8]!==d?(i=(0,_.jsx)(Lp,{size:0,textOverflow:"ellipsis",children:d}),l[8]=d,l[9]=i):i=l[9],l[10]!==n||l[11]!==r||l[12]!==i?(a=(0,_.jsxs)(I.Stack,{space:2,paddingLeft:2,children:[n,r,i]}),l[10]=n,l[11]=r,l[12]=i,l[13]=a):a=l[13],l[14]!==t||l[15]!==a?(o=(0,_.jsxs)(I.Flex,{padding:2,align:"center",children:[t,a]}),l[14]=t,l[15]=a,l[16]=o):o=l[16],o}F.styled.div(Cq());let Lh=["_key","_type","_weak"];function Lm(e){return Object.keys(e).every(e=>Lh.includes(e))}function Lg(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function Ly(e){return!("object"!=typeof e||!e||!("jsonType"in e)||"string"!=typeof e.jsonType||!("name"in e)||"string"!=typeof e.name)}function Lv(e){return e}let Lb=function(){let{decorator:e=Lv}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e(function(e,n){if(e===n||null===e||"object"!=typeof e||"object"!=typeof n)return n;if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return n;let r=n.map((n,r)=>t(e[r],n));return r.every((t,n)=>t===e[n])?e:r}if(Ly(e)||Ly(n)||!Lg(e)||!Lg(n))return n;let r={},i=!1,a=new Set(Object.keys(n));for(let o of Object.getOwnPropertyNames(n))if(o in e){let l=t(e[o],n[o]);a.has(o)?r[o]=l:Object.defineProperty(r,o,{value:l,enumerable:!1}),i=i||l!==e[o]}else a.has(o)?r[o]=n[o]:Object.defineProperty(r,o,{value:n[o],enumerable:!1}),i=!0;for(let t of Object.getOwnPropertyNames(e))if(!(t in n)){i=!0;break}return i?r:e});return t}();function Lx(e){let t,n=(0,j.c)(3);return n[0]!==e.children||n[1]!==e.presence?(t=(0,_.jsx)(D.PresenceContext.Provider,{value:e.presence,children:e.children}),n[0]=e.children,n[1]=e.presence,n[2]=t):t=n[2],t}function LC(){let e=(0,E.useContext)(D.PresenceContext);if(!e)throw Error("Form context not provided");return e}function Lk(e,t){let n=LC(),r=(0,E.useRef)(n),i=Lb(r.current,n.filter(n=>(0,S.startsWith)(e,n.path)&&t));return r.current=i,i}function Lw(){let e=(0,E.useContext)(D.FormBuilderContext);if(!e)throw Error("FormBuilder: missing context value");return e}Lx.displayName="PresenceProvider";let L_=(0,F.styled)(I.Text)(e=>{let{theme:t}=e;return(0,F.css)(CW(),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function Lj(e){let t,n,r,i=(0,j.c)(10),{markers:a,validation:o,renderCustomMarkers:l}=e,{CustomMarkers:s}=Lw().__internal.components;return 0===a.length&&0===o.length?null:(i[0]!==o?(t=o.length>0&&o.map((e,t)=>{let{message:n,level:r}=e;return(0,_.jsxs)(I.Flex,{children:[(0,_.jsx)(I.Box,{marginRight:2,marginBottom:2*(t+1!==o.length),children:(0,_.jsx)(L_,{size:1,"data-error":"error"===r?"":void 0,"data-warning":"warning"===r?"":void 0,"data-info":"info"===r?"":void 0,children:"error"===r?(0,_.jsx)(R.ErrorOutlineIcon,{}):"warning"===r?(0,_.jsx)(R.WarningOutlineIcon,{}):(0,_.jsx)(R.InfoOutlineIcon,{})})}),(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:n||"Error"})})]},"validationItem-".concat(t))}),i[0]=o,i[1]=t):t=i[1],i[2]!==s||i[3]!==a||i[4]!==l||i[5]!==o.length?(n=a.length>0&&(0,_.jsxs)(I.Box,{marginTop:3*(o.length>0),children:[l&&l(a),!l&&(0,_.jsx)(s,{markers:a})]}),i[2]=s,i[3]=a,i[4]=l,i[5]=o.length,i[6]=n):n=i[6],i[7]!==t||i[8]!==n?(r=(0,_.jsxs)(I.Stack,{space:1,children:[t,n]}),i[7]=t,i[8]=n,i[9]=r):r=i[9],r)}function LS(e){let t,n=(0,j.c)(3);return n[0]!==e.children||n[1]!==e.validation?(t=(0,_.jsx)(D.ValidationContext.Provider,{value:e.validation,children:e.children}),n[0]=e.children,n[1]=e.validation,n[2]=t):t=n[2],t}function LE(e,t){let n,r=(0,j.c)(7),i=void 0!==t&&t,a=function(){let e=(0,E.useContext)(D.ValidationContext);if(!e)throw Error("Form context not provided");return e}();if(r[0]!==i||r[1]!==e||r[2]!==a){let t;r[4]!==i||r[5]!==e?(t=t=>(0,S.startsWith)(e,t.path)&&(i||!(0,S.isEqual)(e,t.path)),r[4]=i,r[5]=e,r[6]=t):t=r[6],n=a.filter(t).map(LT),r[0]=i,r[1]=e,r[2]=a,r[3]=n}else n=r[3];return n}function LT(e){return{message:e.message,level:e.level,path:e.path}}let LD=["@@_NONEXISTENT_PATH_@@"];function LI(e){let t=(0,E.useRef)(null),n=(null==e?void 0:e.validation)&&e.validation.length>0?e.validation:Ie,r=LE((null==e?void 0:e.path)||LD),i=(0,E.useMemo)(()=>(null==e?void 0:e.schemaType)&&Ao(null==e?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[a,o,l]=(0,E.useMemo)(()=>[i.filter(e=>"error"===e.level).length>0,i.filter(e=>"warning"===e.level).length>0,i.filter(e=>"info"===e.level).length>0],[i]),s=Lb(t.current,i);return t.current=s,(0,E.useMemo)(()=>({validation:s,hasError:a,hasWarning:o,hasInfo:l}),[s,a,o,l])}function LA(e){let t,n=(0,j.c)(5),r=(0,E.useContext)(D.PortableTextMarkersContext);if(!r)throw Error("Form context not provided");if(n[0]!==r||n[1]!==e){let i;n[3]!==e?(i=t=>(0,S.isEqual)(t.path,e),n[3]=e,n[4]=i):i=n[4],t=r.filter(i),n[0]=r,n[1]=e,n[2]=t}else t=n[2];return t}function LO(e){return(0,W.isObjectSchemaType)(e.field.schemaType)}function LP(e){return(0,W.isArraySchemaType)(e.field.schemaType)&&e.field.schemaType.of.every(e=>(0,W.isObjectSchemaType)(e))}let LM=Symbol.for("sanity.patch");function LF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{patchType:LM,type:"setIfMissing",path:t,value:e}}function LR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{patchType:LM,type:"insert",path:n,position:t,items:e}}function LB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{patchType:LM,type:"set",path:t,value:e}}function LN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{patchType:LM,type:"unset",path:e}}function LL(e){let t,n=(0,j.c)(5),r=(0,E.useContext)(D.PortableTextMemberItemsContext);if(!r)throw Error("Form context not provided");if(n[0]!==r||n[1]!==e){let i;n[3]!==e?(i=t=>t.key===e,n[3]=e,n[4]=i):i=n[4],t=r.find(i),n[0]=r,n[1]=e,n[2]=t}else t=n[2];return t}function Lz(){let e=(0,E.useContext)(D.PortableTextMemberItemsContext);if(!e)throw Error("Form context not provided");return e}let LV=F.styled.span(e=>{var t,n,r,i;let{$toneKey:a="default",theme:o}=e;return(0,F.css)(CY(),null==(t=o.sanity.color.selectable)?void 0:t[a].enabled.bg,null==(n=o.sanity.color.selectable)?void 0:n[a].enabled.fg,null==(r=o.sanity.color.selectable)?void 0:r[a].enabled.fg,null==(i=o.sanity.color.selectable)?void 0:i[a].enabled.fg,o.sanity.color.dark?z.hues.purple[950].hex:z.hues.purple[50].hex,o.sanity.color.muted.caution.hovered.bg,o.sanity.color.muted.critical.hovered.bg)}),LU=(0,F.styled)(I.Box).attrs({forwardedAs:"span"})(CK()),LH=["top","bottom"];function Lq(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=(0,j.c)(51),{annotationOpen:k,annotationTextSelected:w,floatingBoundary:S,onOpenAnnotation:T,onRemoveAnnotation:D,referenceBoundary:A,referenceElement:O,title:P}=e,[M,F]=(0,E.useState)(!1),[N,L]=(0,E.useState)(null),z=(0,E.useRef)(null),{sanity:V}=(0,I.useTheme)(),{t:U}=IO(),H=(0,E.useRef)(null),q=(0,E.useRef)(null),W=(0,E.useRef)(null),Y=V.color.dark?"light":"dark",K=pk();e:{let e;if(!N){t=null;break e}C[0]!==N?(e={getBoundingClientRect:()=>N},C[0]=N,C[1]=e):e=C[1],t=e}let G=t;C[2]!==K?(n=()=>{hq.focus(K),F(!1),W.current=null},C[2]=K,C[3]=n):n=C[3];let $=n;C[4]!==w||C[5]!==K||C[6]!==$||C[7]!==M?(r=e=>{if(M){if("Tab"===e.key){if(w&&e.target instanceof HTMLElement&&e.target.contentEditable&&null===W.current){var t;e.preventDefault(),null==(t=H.current)||t.focus(),W.current=H.current;return}if(e.target===q.current){e.preventDefault(),e.stopPropagation(),W.current=null,hq.focus(K);return}}"Escape"===e.key&&$()}},C[4]=w,C[5]=K,C[6]=$,C[7]=M,C[8]=r):r=C[8],(0,I.useGlobalKeyDown)(r),C[9]!==k||C[10]!==O?(i=()=>{if(k){F(!1),L(null);return}let e=window.getSelection();if(!e||0===e.rangeCount)return;W.current=null;let t=e.getRangeAt(0);if(!(null==O?void 0:O.contains(t.commonAncestorContainer))){F(!1),L(null);return}let n=null==t?void 0:t.getBoundingClientRect();n&&(L(n),F(!0))},C[9]=k,C[10]=O,C[11]=i):i=C[11];let Z=i;C[12]!==Z?(a=()=>(document.addEventListener("selectionchange",Z,{passive:!0}),()=>{document.removeEventListener("selectionchange",Z)}),o=[Z],C[12]=Z,C[13]=a,C[14]=o):(a=C[13],o=C[14]),(0,E.useEffect)(a,o),C[15]!==T?(l=()=>{F(!1),T()},C[15]=T,C[16]=l):l=C[16];let X=l;C[17]!==D?(s=()=>{F(!1),D()},C[17]=D,C[18]=s):s=C[18];let J=s;C[19]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{z.current&&L(z.current.getBoundingClientRect())},C[19]=c):c=C[19];let Q=c;return C[20]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{let e=window.getSelection();e&&e.rangeCount>0&&(z.current=e.getRangeAt(0))},C[20]=u):u=C[20],C[21]!==M?(d=[M],C[21]=M,C[22]=d):d=C[22],(0,E.useEffect)(u,d),C[23]!==S||C[24]!==M||C[25]!==A?(p=()=>(M&&(null==S||S.addEventListener("scroll",Q),null==A||A.addEventListener("scroll",Q)),()=>{null==S||S.removeEventListener("scroll",Q),null==A||A.removeEventListener("scroll",Q)}),f=[M,A,S,Q],C[23]=S,C[24]=M,C[25]=A,C[26]=p,C[27]=f):(p=C[26],f=C[27]),(0,E.useEffect)(p,f),C[28]!==P?(h=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{weight:"medium",size:1,children:P})}),C[28]=P,C[29]=h):h=C[29],C[30]!==U?(m=U("inputs.portable-text.action.edit-annotation-aria-label"),C[30]=U,C[31]=m):m=C[31],C[32]!==X||C[33]!==m?(g=(0,_.jsx)(B.Button,{"aria-label":m,"data-testid":"edit-annotation-button",icon:R.EditIcon,mode:"bleed",onClick:X,ref:H,tabIndex:0,tooltipProps:null}),C[32]=X,C[33]=m,C[34]=g):g=C[34],C[35]!==U?(y=U("inputs.portable-text.action.remove-annotation-aria-label"),C[35]=U,C[36]=y):y=C[36],C[37]!==J||C[38]!==y?(v=(0,_.jsx)(B.Button,{"aria-label":y,"data-testid":"remove-annotation-button",icon:R.TrashIcon,mode:"bleed",onClick:J,ref:q,tabIndex:0,tone:"critical",tooltipProps:null}),C[37]=J,C[38]=y,C[39]=v):v=C[39],C[40]!==h||C[41]!==g||C[42]!==v?(b=(0,_.jsx)(I.Box,{padding:1,"data-testid":"annotation-toolbar-popover",children:(0,_.jsxs)(I.Flex,{gap:1,children:[h,g,v]})}),C[40]=h,C[41]=g,C[42]=v,C[43]=b):b=C[43],C[44]!==G||C[45]!==S||C[46]!==M||C[47]!==Y||C[48]!==A||C[49]!==b?(x=(0,_.jsx)(B.Popover,{open:M,floatingBoundary:S,constrainSize:!0,content:b,fallbackPlacements:LH,placement:"top",portal:!0,preventOverflow:!0,referenceBoundary:A,referenceElement:G,scheme:Y}),C[44]=G,C[45]=S,C[46]=M,C[47]=Y,C[48]=A,C[49]=b,C[50]=x):x=C[50],x}function LW(e){var t;let{children:n,editorNodeFocused:r,floatingBoundary:i,focused:a,onItemClose:o,onItemOpen:l,onPathFocus:s,path:c,readOnly:u,referenceBoundary:d,renderAnnotation:p,renderBlock:f,renderCustomMarkers:h,renderField:m,renderInlineBlock:g,renderInput:y,renderItem:v,renderPreview:b,schemaType:x,selected:C,setElementRef:k,value:w}=e,{Markers:j=Lj}=Lw().__internal.components,T=pk(),D=(0,E.useMemo)(()=>c.slice(0,c.length-2).concat(["markDefs",{_key:w._key}]),[c,w._key]),[I,A]=(0,E.useState)(null),O=LL(Au(D)),{validation:P}=LI(null==O?void 0:O.node),M=LA(c),F=(0,E.useMemo)(()=>(0,_.jsx)("span",{"data-annotation":"",children:n}),[n]),R=(0,E.useCallback)(()=>{O&&(hq.blur(T),l(O.node.path))},[T,O,l]),N=(0,E.useCallback)(()=>{o(),Lm(w)&&hq.removeAnnotation(T,x),hq.focus(T)},[T,o,x,w]),L=(0,E.useCallback)(()=>{hq.removeAnnotation(T,x),hq.focus(T)},[T,x]),z=(0,E.useMemo)(()=>P.length>0||M.length>0?(0,_.jsx)(B.Tooltip,{placement:"bottom",portal:"default",content:(0,_.jsx)(LU,{children:(0,_.jsx)(j,{markers:M,renderCustomMarkers:h,validation:P})}),children:F}):void 0,[j,M,h,F,P]),V=Lk(c,!0),U=(0,E.useMemo)(()=>V.filter(e=>(0,S.isEqual)(e.path,c)),[c,V]),H=!!(null==O?void 0:O.member.open),q=null==O?void 0:O.input,W=(null==O?void 0:O.node.path)||Ie,Y=(0,E.useMemo)(()=>({__unstable_floatingBoundary:i,__unstable_referenceBoundary:d,__unstable_referenceElement:I,__unstable_textElementFocus:r,children:q,focused:a,markers:M,onClose:N,onOpen:R,onPathFocus:s,onRemove:L,open:H,parentSchemaType:T.schemaTypes.block,path:W,presence:U,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderField:m,renderInlineBlock:g,renderInput:y,renderPreview:b,renderItem:v,renderDefault:LY,schemaType:x,selected:C,textElement:z||F,validation:P,value:w}),[T.schemaTypes.block,r,i,a,q,H,M,z,W,N,R,s,L,u,d,I,p,f,m,g,y,v,b,U,x,C,F,P,w]),K=null==(t=x.components)?void 0:t.annotation,G=(0,E.useCallback)(e=>{O&&k({key:O.member.key,elementRef:e}),A(e)},[O,k,A]);return(0,E.useMemo)(()=>(0,_.jsx)("span",{ref:G,style:void 0,children:K?(0,_.jsx)(K,{...Y}):(0,_.jsx)(LY,{...Y})}),[K,Y,G])}let LY=e=>{let t,n,r,i,a=(0,j.c)(25),{__unstable_floatingBoundary:o,__unstable_referenceBoundary:l,__unstable_referenceElement:s,children:c,markers:u,onOpen:d,onRemove:p,open:f,readOnly:h,schemaType:m,selected:g,textElement:y,validation:v}=e,b="link"===m.name,x=v.some(LK),C=v.some(LG),k=u.length>0,w=!!c,{t:S}=IO();e:{if(x){t="critical";break e}if(C){t="caution";break e}if(b){t="primary";break e}t="default"}let E=t;a[0]!==S?(n=S("inputs.portable-text.annotation-aria-label"),a[0]=S,a[1]=n):n=a[1];let T=b?"":void 0,D=x?"":void 0,I=C?"":void 0,A=k||void 0,O=h?d:void 0;return a[2]!==o||a[3]!==w||a[4]!==d||a[5]!==p||a[6]!==f||a[7]!==l||a[8]!==s||a[9]!==m.i18nTitleKey||a[10]!==m.name||a[11]!==m.title||a[12]!==g||a[13]!==S?(r=w&&(0,_.jsx)(Lq,{annotationOpen:f,floatingBoundary:o,onOpenAnnotation:d,onRemoveAnnotation:p,referenceBoundary:l,referenceElement:s,annotationTextSelected:g,title:m.i18nTitleKey?S(m.i18nTitleKey):m.title||m.name}),a[2]=o,a[3]=w,a[4]=d,a[5]=p,a[6]=f,a[7]=l,a[8]=s,a[9]=m.i18nTitleKey,a[10]=m.name,a[11]=m.title,a[12]=g,a[13]=S,a[14]=r):r=a[14],a[15]!==n||a[16]!==T||a[17]!==D||a[18]!==I||a[19]!==A||a[20]!==O||a[21]!==r||a[22]!==y||a[23]!==E?(i=(0,_.jsxs)(LV,{$toneKey:E,"aria-label":n,"data-link":T,"data-error":D,"data-warning":I,"data-markers":A,onClick:O,children:[y,r]}),a[15]=n,a[16]=T,a[17]=D,a[18]=I,a[19]=A,a[20]=O,a[21]=r,a[22]=y,a[23]=E,a[24]=i):i=a[24],i};function LK(e){return"error"===e.level}function LG(e){return"warning"===e.level}function L$(){let[e]=(0,E.useState)(()=>new Map),[t,n]=(0,E.useReducer)(()=>Array.from(e.entries()),[]),r=(0,E.useMemo)(()=>(0,nc.default)(n,10,{trailing:!0}),[]);return{store:(0,E.useMemo)(()=>({add:function(t,n){e.has(t),e.set(t,n),r()},remove:function(t){e.has(t),e.delete(t),r()},update:function(t,n){e.has(t),e.set(t,n),r()}}),[r,e]),snapshot:t}}function LZ(e,t,n,r){let i,a,o,l=(0,j.c)(10),s=void 0===r?Object.is:r,c=(0,E.useRef)(null),u=(0,E.useRef)(null);l[0]!==t||l[1]!==e||l[2]!==n?(i=()=>{if(null===t||null===e)return;let r=n();return e.add(t,r),c.current=t,u.current=r,()=>{e.remove(t),c.current=null,u.current=null}},a=[t,e,n],l[0]=t,l[1]=e,l[2]=n,l[3]=i,l[4]=a):(i=l[3],a=l[4]),(0,E.useLayoutEffect)(i,a),l[5]!==t||l[6]!==s||l[7]!==e||l[8]!==n?(o=()=>{if(null===t||null===c.current||null===e||t!==c.current)return;let r=n();s(u.current,r)||(e.update(t,r),u.current=r)},l[5]=t,l[6]=s,l[7]=e,l[8]=n,l[9]=o):o=l[9],(0,E.useLayoutEffect)(o)}let LX=(0,E.memo)(function(e){let t,n,r=(0,j.c)(6),{children:i}=e,{store:a,snapshot:o}=L$();return r[0]!==i||r[1]!==o?(t=(0,_.jsx)(D.ChangeIndicatorTrackerContextGetSnapshot.Provider,{value:o,children:i}),r[0]=i,r[1]=o,r[2]=t):t=r[2],r[3]!==a||r[4]!==t?(n=(0,_.jsx)(D.ChangeIndicatorTrackerContextStore.Provider,{value:a,children:t}),r[3]=a,r[4]=t,r[5]=n):n=r[5],n}),LJ=[];function LQ(){let e=(0,E.useContext)(D.ChangeIndicatorTrackerContextGetSnapshot);return null===e?(console.warn(Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReportedValues()", is wrapped inside a <ChangeIndicatorsTracker> element')),LJ):e}let L1=(e,t,n)=>{let r=(0,E.useContext)(D.ChangeIndicatorTrackerContextStore);null===r&&console.warn(Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReporter()", is wrapped inside a <ChangeIndicatorsTracker> element')),LZ(r,e,t,n)};function L2(){let e,t=(0,j.c)(2),n=LQ();t[0]!==n?(e=n.filter(L5).sort(L0),t[0]=n,t[1]=e):e=t[1];let r=e[0];if(r){let[,e]=r;return e}}function L0(e,t){return t[1].path.length-e[1].path.length}function L5(e){let[,t]=e;return t.hasHover}let L7=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(14),h=(0,E.useRef)(e);f[0]!==e?(t=()=>{h.current=e},n=[e],f[0]=e,f[1]=t,f[2]=n):(t=f[1],n=f[2]),(0,E.useEffect)(t,n),f[3]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{var t,n,r;return null!=(r=null==(n=h.current)||null==(t=n.transformPatches)?void 0:t.call(n,e))?r:[]},f[3]=r):r=f[3];let m=r;f[4]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{h.current.onChange(e)},f[4]=i):i=f[4];let g=i;f[5]===Symbol.for("react.memo_cache_sentinel")?(a=(e,t)=>{h.current.onPathFocus(e,t)},f[5]=a):a=f[5];let y=a;f[6]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{h.current.onPathBlur(e)},f[6]=o):o=f[6];let v=o;f[7]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{h.current.onPathOpen(e)},f[7]=l):l=f[7];let b=l;f[8]===Symbol.for("react.memo_cache_sentinel")?(s=(e,t)=>{h.current.onSetPathCollapsed(e,t)},f[8]=s):s=f[8];let x=s;f[9]===Symbol.for("react.memo_cache_sentinel")?(c=(e,t)=>{h.current.onSetFieldSetCollapsed(e,t)},f[9]=c):c=f[9];let C=c;f[10]===Symbol.for("react.memo_cache_sentinel")?(u=(e,t)=>{h.current.onFieldGroupSelect(e,t)},f[10]=u):u=f[10];let k=u;f[11]===Symbol.for("react.memo_cache_sentinel")?(d={transformPatches:m,onChange:g,onPathFocus:y,onPathBlur:v,onPathOpen:b,onSetPathCollapsed:x,onSetFieldSetCollapsed:C,onFieldGroupSelect:k},f[11]=d):d=f[11];let w=d;return f[12]!==e.children?(p=(0,_.jsx)(D.FormCallbacksContext.Provider,{value:w,children:e.children}),f[12]=e.children,f[13]=p):p=f[13],p});function L3(){let e=(0,E.useContext)(D.FormCallbacksContext);if(!e)throw Error("Form context not provided");return e}function L8(){return(0,E.useContext)(D.ReferenceInputOptionsContext)}function L4(e){let t,n,r=(0,j.c)(9),{children:i,activePath:a,EditReferenceLinkComponent:o,onEditReference:l,initialValueTemplateItems:s,disableNew:c}=e;r[0]!==o||r[1]!==a||r[2]!==c||r[3]!==s||r[4]!==l?(t={activePath:a,EditReferenceLinkComponent:o,onEditReference:l,initialValueTemplateItems:s,disableNew:c},r[0]=o,r[1]=a,r[2]=c,r[3]=s,r[4]=l,r[5]=t):t=r[5];let u=t;return r[6]!==i||r[7]!==u?(n=(0,_.jsx)(D.ReferenceInputOptionsContext.Provider,{value:u,children:i}),r[6]=i,r[7]=u,r[8]=n):n=r[8],n}function L6(e){let t,n,r=(0,j.c)(5);r[0]!==e.id?(t={id:e.id},r[0]=e.id,r[1]=t):t=r[1];let i=t;return r[2]!==e.children||r[3]!==i?(n=(0,_.jsx)(D.DocumentIdContext.Provider,{value:i,children:e.children}),r[2]=e.children,r[3]=i,r[4]=n):n=r[4],n}function L9(){let e,t=(0,j.c)(2),n=function(){let e=(0,E.useContext)(D.DocumentIdContext);if(!e)throw Error("useDocumentId must be used within a DocumentIdProvider");return e.id}();return t[0]!==n?(e=(0,th.getPublishedId)(n),t[0]=n,t[1]=e):e=t[1],e}let ze={placement:"right",fallbackPlacements:["top","bottom"]};function zt(e){let t,n,r=(0,j.c)(14),{group:i}=e,{title:a}=IM(i);if(i.expanded){let e,t,n;return r[0]!==a?(e=(0,_.jsx)(I.Box,{padding:2,paddingTop:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:a})}),r[0]=a,r[1]=e):e=r[1],r[2]!==i.children?(t=i.children.map((e,t)=>{var n;return(0,_.jsx)(zr,{action:e,isFirst:0===t,prevIsGroup:(null==(n=i.children[t-1])?void 0:n.type)==="group"},t)}),r[2]=i.children,r[3]=t):t=r[3],r[4]!==e||r[5]!==t?(n=(0,_.jsxs)(_.Fragment,{children:[e,t]}),r[4]=e,r[5]=t,r[6]=n):n=r[6],n}let o=i.icon,l=i.tone;return r[7]!==i.children?(t=i.children.map((e,t)=>{var n;return(0,_.jsx)(zr,{action:e,isFirst:0===t,prevIsGroup:(null==(n=i.children[t-1])?void 0:n.type)==="group"},t)}),r[7]=i.children,r[8]=t):t=r[8],r[9]!==i.icon||r[10]!==i.tone||r[11]!==t||r[12]!==a?(n=(0,_.jsx)(gr,{icon:o,popover:ze,text:a,tone:l,children:t}),r[9]=i.icon,r[10]=i.tone,r[11]=t,r[12]=a,r[13]=n):n=r[13],n}function zn(e){let t,n,r,i,a=(0,j.c)(15),{action:o}=e,{title:l}=IM(o);a[0]!==o?(t=()=>{o.onAction()},a[0]=o,a[1]=t):t=a[1];let s=t;a[2]!==o.disabled?(n="object"==typeof o.disabled&&(0,_.jsx)(I.Text,{size:1,children:o.disabled.reason}),a[2]=o.disabled,a[3]=n):n=a[3];let c=n,u=!!o.disabled,d=o.iconRight||(o.selected?R.CheckmarkIcon:void 0);return a[4]!==o.icon||a[5]!==o.selected||a[6]!==o.tone||a[7]!==s||a[8]!==u||a[9]!==d||a[10]!==l?(r=(0,_.jsx)(B.MenuItem,{disabled:u,icon:o.icon,iconRight:d,onClick:s,pressed:o.selected,text:l,tone:o.tone}),a[4]=o.icon,a[5]=o.selected,a[6]=o.tone,a[7]=s,a[8]=u,a[9]=d,a[10]=l,a[11]=r):r=a[11],a[12]!==c||a[13]!==r?(i=(0,_.jsx)(eDc,{content:c,placement:"left",children:r}),a[12]=c,a[13]=r,a[14]=i):i=a[14],i}function zr(e){let t,n,r,i=(0,j.c)(15),{action:a,isFirst:o,prevIsGroup:l}=e;if("divider"===a.type){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.MenuDivider,{}),i[0]=e):e=i[0],e}if("group"===a.type){let e,t,n;return i[1]!==o?(e=!o&&(0,_.jsx)(I.MenuDivider,{}),i[1]=o,i[2]=e):e=i[2],i[3]!==a?(t=(0,_.jsx)(zt,{group:a}),i[3]=a,i[4]=t):t=i[4],i[5]!==e||i[6]!==t?(n=(0,_.jsxs)(_.Fragment,{children:[e,t]}),i[5]=e,i[6]=t,i[7]=n):n=i[7],n}return i[8]!==l?(t=l&&(0,_.jsx)(I.MenuDivider,{}),i[8]=l,i[9]=t):t=i[9],i[10]!==a?(n=(0,_.jsx)(zn,{action:a}),i[10]=a,i[11]=n):n=i[11],i[12]!==t||i[13]!==n?(r=(0,_.jsxs)(_.Fragment,{children:[t,n]}),i[12]=t,i[13]=n,i[14]=r):r=i[14],r}let zi={placement:"top"};function za(e){return"renderAsButton"in e&&e.renderAsButton}let zo=(0,E.memo)(function(e){let{nodes:t,onMenuOpenChange:n}=e,[r,i]=(0,E.useState)(!1),a=(0,E.useCallback)(()=>{n(!0),i(!0)},[n]),o=(0,E.useCallback)(()=>{n(!1),i(!1)},[n]),l=(0,E.useMemo)(()=>t.filter(za),[t]),s=(0,E.useMemo)(()=>t.filter(e=>!za(e)),[t]),c=(0,E.useMemo)(()=>{let e=s.length;if(0===e||e>1)return s;let t=s[0];return"group"===t.type?[{...t,expanded:!0}]:s},[s]),u=(0,E.useMemo)(()=>[...c.length?[{type:"group",children:c,icon:R.EllipsisHorizontalIcon,title:"Field actions"}]:[],...l],[l,c]);return(0,_.jsx)(_.Fragment,{children:u.map((e,t)=>(0,_.jsx)(zl,{node:e,onOpen:a,onClose:o,open:r},t))})}),zl=(0,E.memo)(function(e){let t,n=(0,j.c)(12),{node:r,onOpen:i,onClose:a,open:o}=e;if("divider"===r.type){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Card,{borderLeft:!0,flex:"none"}),n[0]=e):e=n[0],e}if("action"===r.type){let e,t;return n[1]!==r.title?(e={...zi,content:r.title},n[1]=r.title,n[2]=e):e=n[2],n[3]!==r.icon||n[4]!==r.onAction||n[5]!==e?(t=(0,_.jsx)(B.Button,{icon:r.icon,mode:"bleed",onClick:r.onAction,tooltipProps:e}),n[3]=r.icon,n[4]=r.onAction,n[5]=e,n[6]=t):t=n[6],t}return n[7]!==r||n[8]!==a||n[9]!==i||n[10]!==o?(t=(0,_.jsx)(zc,{node:r,onOpen:i,onClose:a,open:o}),n[7]=r,n[8]=a,n[9]=i,n[10]=o,n[11]=t):t=n[11],t}),zs={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function zc(e){let t,n,r,i,a,o=(0,j.c)(16),{node:l,onOpen:s,onClose:c,open:u}=e,{title:d}=IM(l),p=u?void 0:d;o[0]!==l.title?(t={...zi,content:l.title},o[0]=l.title,o[1]=t):t=o[1],o[2]!==l.icon||o[3]!==p||o[4]!==t?(n=(0,_.jsx)(B.Button,{"aria-label":p,"data-testid":"field-actions-trigger",icon:l.icon,mode:"bleed",tabIndex:0,tooltipProps:t}),o[2]=l.icon,o[3]=p,o[4]=t,o[5]=n):n=o[5];let f=(0,E.useId)();return o[6]!==l.children?(r=l.children.map((e,t)=>{var n;return(0,_.jsx)(zr,{action:e,isFirst:0===t,prevIsGroup:(null==(n=l.children[t-1])?void 0:n.type)==="group"},t)}),o[6]=l.children,o[7]=r):r=o[7],o[8]!==r?(i=(0,_.jsx)(I.Menu,{children:r}),o[8]=r,o[9]=i):i=o[9],o[10]!==c||o[11]!==s||o[12]!==n||o[13]!==f||o[14]!==i?(a=(0,_.jsx)(B.MenuButton,{button:n,id:f,menu:i,onOpen:s,onClose:c,popover:zs}),o[10]=c,o[11]=s,o[12]=n,o[13]=f,o[14]=i,o[15]=a):a=o[15],a}let zu=(0,E.memo)(function(e){let t,n,r,i,a,o=(0,j.c)(20),{actions:l,children:s,path:c,focused:u,__internal_comments:d,__internal_slot:p}=e,{onMouseEnter:f,onMouseLeave:h,store:m}=(0,E.useContext)(D.HoveredFieldContext);o[0]!==m||o[1]!==c?(t=()=>{let[e]=m.getSnapshot();return IC||!!e&&Au(c)===e},o[0]=m,o[1]=c,o[2]=t):t=o[2];let g=(0,E.useSyncExternalStore)(m.subscribe,t);o[3]!==f||o[4]!==c?(n=()=>{f(c)},o[3]=f,o[4]=c,o[5]=n):n=o[5];let y=n;o[6]!==h||o[7]!==c?(r=()=>{h(c)},o[6]=h,o[7]=c,o[8]=r):r=o[8];let v=r;o[9]!==d||o[10]!==p||o[11]!==l||o[12]!==u||o[13]!==y||o[14]!==v||o[15]!==g?(i={actions:l,focused:u,hovered:g,__internal_comments:d,__internal_slot:p,onMouseEnter:y,onMouseLeave:v},o[9]=d,o[10]=p,o[11]=l,o[12]=u,o[13]=y,o[14]=v,o[15]=g,o[16]=i):i=o[16];let b=i;return o[17]!==s||o[18]!==b?(a=(0,_.jsx)(D.FieldActionsContext.Provider,{value:b,children:s}),o[17]=s,o[18]=b,o[19]=a):a=o[19],a});zu.displayName="Memo(FieldActionsProvider)";let zd=(0,E.memo)(function(e){let{actions:t,documentId:n,documentType:r,onActions:i,path:a,schemaType:o}=e,l=t.length,s=(0,E.useRef)(l),[c,u]=(0,E.useState)(()=>Array.from(Array(l))),d=(0,E.useRef)(c),p=(0,E.useCallback)((e,t)=>{u(n=>{let r=[...n];return r[e]=t,r})},[]);(0,E.useEffect)(()=>{d.current!==c&&(d.current=c,i(function e(t){return t.filter(Boolean).filter(e=>!("hidden"in e)||!0!==e.hidden).map(t=>"group"===t.type?{...t,children:e(t.children)}:t)}(c)))},[c,i]),(0,E.useEffect)(()=>{if(s.current!==l){let e=Array.from(Array(l));for(let t=0;t<l;t++)e[t]=d.current[t];s.current=l,u(e),d.current=e}},[l]);let f=(0,E.useMemo)(()=>t.map((e,t)=>(function(e){let{action:t,documentId:n,documentType:r,index:i,path:a,schemaType:o,setFieldAction:l}=e,{useAction:s}=t;return(0,E.memo)(function(){let e,t,c,u=(0,j.c)(4);u[0]===Symbol.for("react.memo_cache_sentinel")?(e={documentId:n,documentType:r,path:a,schemaType:o},u[0]=e):e=u[0];let d=IE(s(e));return u[1]!==d?(t=()=>{l(i,d)},c=[d],u[1]=d,u[2]=t,u[3]=c):(t=u[2],c=u[3]),(0,E.useEffect)(t,c),null})})({action:e,documentId:n,documentType:r,index:t,path:a,schemaType:o,setFieldAction:p})),[t,n,r,a,o,p]);return(0,_.jsx)(_.Fragment,{children:f.map((e,t)=>(0,_.jsx)(e,{},t))})});function zp(){return(0,E.useContext)(D.FieldActionsContext)}let zf=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(17),{children:u}=e,[d]=(0,E.useState)(zh);c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let p=(0,E.useRef)(t);c[1]!==d?(n=e=>{let t=Au(e);if(!p.current.includes(t))for(let e of(p.current=[t,...p.current],d))e()},c[1]=d,c[2]=n):n=c[2];let f=n;c[3]!==d?(r=e=>{let t=Au(e);if(p.current.includes(t))for(let e of(p.current=p.current.filter(e=>e!==t),d))e()},c[3]=d,c[4]=r):r=c[4];let h=r;c[5]!==d?(i=e=>(d.add(e),()=>{d.delete(e)}),c[5]=d,c[6]=i):i=c[6],c[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>p.current,c[7]=a):a=c[7],c[8]!==i?(o={subscribe:i,getSnapshot:a},c[8]=i,c[9]=o):o=c[9];let m=o;c[10]!==f||c[11]!==h||c[12]!==m?(l={store:m,onMouseEnter:f,onMouseLeave:h},c[10]=f,c[11]=h,c[12]=m,c[13]=l):l=c[13];let g=l;return c[14]!==u||c[15]!==g?(s=(0,_.jsx)(D.HoveredFieldContext.Provider,{value:g,children:u}),c[14]=u,c[15]=g,c[16]=s):s=c[16],s});function zh(){return new Set}function zm(e,t,n){let r,i,a=(0,j.c)(5),o=void 0===n?nP.default:n,l=(0,E.useRef)(void 0);a[0]!==o||a[1]!==e||a[2]!==t?(r=()=>{o(l.current,e)||(t(l.current,e),l.current=e)},i=[o,e,t],a[0]=o,a[1]=e,a[2]=t,a[3]=r,a[4]=i):(r=a[3],i=a[4]),(0,E.useEffect)(r,i)}function zg(e,t){let n,r=(0,j.c)(2);return r[0]!==e?(n=(t,n)=>{e.current&&!t&&n&&aR(e.current,{scrollMode:"always"})},r[0]=e,r[1]=n):n=r[1],zm(t,n)}function zy(e){let t,n,r,i,a,o,l=(0,j.c)(27),s=(0,E.useRef)(null),{schemaType:c,path:u,open:d,inputId:p,children:f,inputProps:h}=e;l[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],l[0]=t):t=l[0];let[m,g]=(0,E.useState)(t),y=L9();zg(s,d),l[1]===Symbol.for("react.memo_cache_sentinel")?(n=(e,t)=>{!e&&t&&s.current&&s.current.focus()},l[1]=n):n=l[1],zm(h.focused,n),l[2]!==y||l[3]!==u||l[4]!==e.actions||l[5]!==c?(r=y&&e.actions&&e.actions.length>0&&(0,_.jsx)(zd,{actions:e.actions,documentId:y,documentType:c.name,onActions:g,path:u,schemaType:c}),l[2]=y,l[3]=u,l[4]=e.actions,l[5]=c,l[6]=r):r=l[6];let v=!!e.inputProps.focused;return l[7]!==f||l[8]!==m||l[9]!==p||l[10]!==e.__internal_comments||l[11]!==e.__internal_slot||l[12]!==e.description||l[13]!==e.level||l[14]!==e.presence||l[15]!==e.schemaType.deprecated||l[16]!==e.title||l[17]!==e.validation?(i=(0,_.jsx)(Hq,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:m,__unstable_presence:e.presence,description:e.description,inputId:p,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:f}),l[7]=f,l[8]=m,l[9]=p,l[10]=e.__internal_comments,l[11]=e.__internal_slot,l[12]=e.description,l[13]=e.level,l[14]=e.presence,l[15]=e.schemaType.deprecated,l[16]=e.title,l[17]=e.validation,l[18]=i):i=l[18],l[19]!==m||l[20]!==u||l[21]!==v||l[22]!==i?(a=(0,_.jsx)(zu,{actions:m,focused:v,path:u,children:i}),l[19]=m,l[20]=u,l[21]=v,l[22]=i,l[23]=a):a=l[23],l[24]!==r||l[25]!==a?(o=(0,_.jsxs)(_.Fragment,{children:[r,a]}),l[24]=r,l[25]=a,l[26]=o):o=l[26],o}function zv(e,t){return(0,n_.default)(e.options,t)}let zb=["array","file","image","reference","slug"],zx=["asset","crop","hotspot","_ref","_weak","media"],zC=["tags"],zk=["slug"];function zw(e,t){if(!e||t.has(e))return[];t.add(e);let n=e.type?zw(e.type,t):[];return[e,...n]}let z_=[];function zj(e){let t,n,r,i,a=(0,j.c)(20),o=L9(),[l,s]=(0,E.useState)(z_),c=!!e.inputProps.focused;a[0]!==o||a[1]!==e.actions||a[2]!==e.path||a[3]!==e.schemaType?(t=o&&e.actions&&e.actions.length>0&&(0,_.jsx)(zd,{actions:e.actions,documentId:o,documentType:e.schemaType.name,onActions:s,path:e.path,schemaType:e.schemaType}),a[0]=o,a[1]=e.actions,a[2]=e.path,a[3]=e.schemaType,a[4]=t):t=a[4];let u=!!e.inputProps.focused;return a[5]!==e.__internal_comments||a[6]!==e.__internal_slot||a[7]!==e.children||a[8]!==e.path||a[9]!==l||a[10]!==c?(n=(0,_.jsx)(zu,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,actions:l,focused:c,path:e.path,children:e.children}),a[5]=e.__internal_comments,a[6]=e.__internal_slot,a[7]=e.children,a[8]=e.path,a[9]=l,a[10]=c,a[11]=n):n=a[11],a[12]!==e.inputProps.changed||a[13]!==e.path||a[14]!==u||a[15]!==n?(r=(0,_.jsx)($j,{hasFocus:u,isChanged:e.inputProps.changed,path:e.path,children:n}),a[12]=e.inputProps.changed,a[13]=e.path,a[14]=u,a[15]=n,a[16]=r):r=a[16],a[17]!==t||a[18]!==r?(i=(0,_.jsxs)(_.Fragment,{children:[t,r]}),a[17]=t,a[18]=r,a[19]=i):i=a[19],i}function zS(e){let t,n,r,i=(0,j.c)(15),a=L9(),[o,l]=(0,E.useState)(z_),s=!!e.inputProps.focused;return i[0]!==a||i[1]!==e.actions||i[2]!==e.path||i[3]!==e.schemaType?(t=a&&e.actions&&e.actions.length>0&&(0,_.jsx)(zd,{actions:e.actions,documentId:a,documentType:e.schemaType.name,onActions:l,path:e.path,schemaType:e.schemaType}),i[0]=a,i[1]=e.actions,i[2]=e.path,i[3]=e.schemaType,i[4]=t):t=i[4],i[5]!==e.__internal_comments||i[6]!==e.__internal_slot||i[7]!==e.children||i[8]!==e.path||i[9]!==o||i[10]!==s?(n=(0,_.jsx)(zu,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,actions:o,focused:s,path:e.path,children:e.children}),i[5]=e.__internal_comments,i[6]=e.__internal_slot,i[7]=e.children,i[8]=e.path,i[9]=o,i[10]=s,i[11]=n):n=i[11],i[12]!==t||i[13]!==n?(r=(0,_.jsxs)(_.Fragment,{children:[t,n]}),i[12]=t,i[13]=n,i[14]=r):r=i[14],r}function zE(e){let t,n,r,i,a,o,l=(0,j.c)(35),[s,c]=(0,E.useState)(z_),u=L9(),d=!!e.inputProps.focused;l[0]!==u||l[1]!==e.actions||l[2]!==e.path||l[3]!==e.schemaType?(t=u&&e.actions&&e.actions.length>0&&(0,_.jsx)(zd,{actions:e.actions,documentId:u,documentType:e.schemaType.name,onActions:c,path:e.path,schemaType:e.schemaType}),l[0]=u,l[1]=e.actions,l[2]=e.path,l[3]=e.schemaType,l[4]=t):t=l[4];let p="field-".concat(e.inputId);return l[5]!==e.children||l[6]!==e.inputProps.changed||l[7]!==e.path||l[8]!==d?(n=(0,_.jsx)($j,{hasFocus:d,isChanged:e.inputProps.changed,path:e.path,children:e.children}),l[5]=e.children,l[6]=e.inputProps.changed,l[7]=e.path,l[8]=d,l[9]=n):n=l[9],l[10]!==e.__internal_comments||l[11]!==e.__internal_slot||l[12]!==e.description||l[13]!==e.inputId||l[14]!==e.level||l[15]!==e.presence||l[16]!==e.schemaType.deprecated||l[17]!==e.title||l[18]!==e.validation||l[19]!==s||l[20]!==n?(r=(0,_.jsx)(Hq,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:s,__unstable_presence:e.presence,description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:n}),l[10]=e.__internal_comments,l[11]=e.__internal_slot,l[12]=e.description,l[13]=e.inputId,l[14]=e.level,l[15]=e.presence,l[16]=e.schemaType.deprecated,l[17]=e.title,l[18]=e.validation,l[19]=s,l[20]=n,l[21]=r):r=l[21],l[22]!==p||l[23]!==r?(i=(0,_.jsx)("div",{"data-testid":p,children:r}),l[22]=p,l[23]=r,l[24]=i):i=l[24],l[25]!==e.__internal_comments||l[26]!==e.__internal_slot||l[27]!==e.path||l[28]!==s||l[29]!==d||l[30]!==i?(a=(0,_.jsx)(zu,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,actions:s,focused:d,path:e.path,children:i}),l[25]=e.__internal_comments,l[26]=e.__internal_slot,l[27]=e.path,l[28]=s,l[29]=d,l[30]=i,l[31]=a):a=l[31],l[32]!==t||l[33]!==a?(o=(0,_.jsxs)(_.Fragment,{children:[t,a]}),l[32]=t,l[33]=a,l[34]=o):o=l[34],o}function zT(e){var t,n;let r,i,a,o,l,s=(0,j.c)(36),[c,u]=(0,E.useState)(z_),d=L9(),p=!!e.inputProps.focused,f=(null==(t=e.schemaType.options)?void 0:t.disableActions)||z_;s[0]!==f||s[1]!==e.actions?(r=null==(n=e.actions)?void 0:n.filter(e=>"pasteField"===e.name?!f.includes("add"):"copyField"!==e.name||!f.includes("copy")),s[0]=f,s[1]=e.actions,s[2]=r):r=s[2];let h=r;s[3]!==h||s[4]!==d||s[5]!==e.actions||s[6]!==e.path||s[7]!==e.schemaType?(i=d&&e.actions&&e.actions.length>0&&(0,_.jsx)(zd,{actions:h||z_,documentId:d,documentType:e.schemaType.name,onActions:u,path:e.path,schemaType:e.schemaType}),s[3]=h,s[4]=d,s[5]=e.actions,s[6]=e.path,s[7]=e.schemaType,s[8]=i):i=s[8];let m="field-".concat(e.inputId);return s[9]!==e.__internal_comments||s[10]!==e.__internal_slot||s[11]!==e.children||s[12]!==e.collapsed||s[13]!==e.collapsible||s[14]!==e.description||s[15]!==e.inputId||s[16]!==e.level||s[17]!==e.onCollapse||s[18]!==e.onExpand||s[19]!==e.presence||s[20]!==e.schemaType.deprecated||s[21]!==e.title||s[22]!==e.validation||s[23]!==c||s[24]!==m?(a=(0,_.jsx)(HJ,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:c,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":m,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children}),s[9]=e.__internal_comments,s[10]=e.__internal_slot,s[11]=e.children,s[12]=e.collapsed,s[13]=e.collapsible,s[14]=e.description,s[15]=e.inputId,s[16]=e.level,s[17]=e.onCollapse,s[18]=e.onExpand,s[19]=e.presence,s[20]=e.schemaType.deprecated,s[21]=e.title,s[22]=e.validation,s[23]=c,s[24]=m,s[25]=a):a=s[25],s[26]!==e.__internal_comments||s[27]!==e.__internal_slot||s[28]!==e.path||s[29]!==c||s[30]!==p||s[31]!==a?(o=(0,_.jsx)(zu,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,actions:c,focused:p,path:e.path,children:a}),s[26]=e.__internal_comments,s[27]=e.__internal_slot,s[28]=e.path,s[29]=c,s[30]=p,s[31]=a,s[32]=o):o=s[32],s[33]!==i||s[34]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[i,o]}),s[33]=i,s[34]=o,s[35]=l):l=s[35],l}function zD(e){let t,n,r,i,a,o=(0,j.c)(32),[l,s]=(0,E.useState)(z_),c=L9(),u=!!e.inputProps.focused;if(o[0]!==e.inputProps.members||o[1]!==e.presence){let n=e.inputProps.members.find(zI);t=(null==n?void 0:n.open)?e.presence:e.presence.concat((null==n?void 0:n.field.presence)||z_),o[0]=e.inputProps.members,o[1]=e.presence,o[2]=t}else t=o[2];let d=t;return o[3]!==c||o[4]!==e.actions||o[5]!==e.path||o[6]!==e.schemaType?(n=c&&e.actions&&e.actions.length>0&&(0,_.jsx)(zd,{actions:e.actions,documentId:c,documentType:e.schemaType.name,onActions:s,path:e.path,schemaType:e.schemaType}),o[3]=c,o[4]=e.actions,o[5]=e.path,o[6]=e.schemaType,o[7]=n):n=o[7],o[8]!==e.__internal_comments||o[9]!==e.__internal_slot||o[10]!==e.children||o[11]!==e.collapsed||o[12]!==e.collapsible||o[13]!==e.description||o[14]!==e.inputId||o[15]!==e.level||o[16]!==e.onCollapse||o[17]!==e.onExpand||o[18]!==e.schemaType.deprecated||o[19]!==e.title||o[20]!==e.validation||o[21]!==l||o[22]!==d?(r=(0,_.jsx)(HJ,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:l,__unstable_presence:d,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children}),o[8]=e.__internal_comments,o[9]=e.__internal_slot,o[10]=e.children,o[11]=e.collapsed,o[12]=e.collapsible,o[13]=e.description,o[14]=e.inputId,o[15]=e.level,o[16]=e.onCollapse,o[17]=e.onExpand,o[18]=e.schemaType.deprecated,o[19]=e.title,o[20]=e.validation,o[21]=l,o[22]=d,o[23]=r):r=o[23],o[24]!==e.path||o[25]!==l||o[26]!==u||o[27]!==r?(i=(0,_.jsx)(zu,{actions:l,focused:u,path:e.path,children:r}),o[24]=e.path,o[25]=l,o[26]=u,o[27]=r,o[28]=i):i=o[28],o[29]!==n||o[30]!==i?(a=(0,_.jsxs)(_.Fragment,{children:[n,i]}),o[29]=n,o[30]=i,o[31]=a):a=o[31],a}function zI(e){return"field"===e.kind&&"hotspot"===e.name}function zA(e){var t;if(null==(t=e.components)?void 0:t.field)return e.components.field;if((0,W.isBooleanSchemaType)(e))return zj;if((0,W.isDateTimeSchemaType)(e))return zS;let n=zw(e,new Set);return n.some(e=>"image"===e.name||"file"===e.name)?zD:n.some(e=>(0,W.isCrossDatasetReferenceSchemaType)(e))||n.some(e=>"slug"===e.name)?zE:n.some(e=>(0,W.isReferenceSchemaType)(e))?zy:"object"!==e.jsonType&&"array"!==e.jsonType?zE:zT}function zO(e,t){return t.name===e||!!(t.type&&zO(e,t.type))}let zP={isLoading:!0,settings:{partialIndexSettings:{maxFieldDepth:0}}},zM=new Map;function zF(e){var t,n,r,i,a;let o=null==(n=FU().search)||null==(t=n.unstable_partialIndexing)?void 0:t.enabled,l=eTt(AE),s=(0,E.useMemo)(()=>e||l,[e,l]),c=(0,E.useMemo)(()=>s.config().dataset,[s]);o||zM.set(c,(0,Y.of)(zP.settings)),zM.has(c)||zM.set(c,(function(e){let{client:t}=e,{projectId:n,dataset:r}=t.config();return t.observable.request({uri:"/projects/".concat(n,"/datasets/").concat(r,"/settings/indexing"),tag:"search.getPartialIndexSettings"})})({client:s}).pipe((0,ep.shareReplay)()));let u=(0,E.useMemo)(()=>zM.get(c).pipe((0,Z.map)(e=>({isLoading:!1,settings:e})),(0,eI.startWith)(zP),(0,J.catchError)(e=>(console.error(e),(0,Y.of)({isLoading:!1,enabled:!0,settings:{partialIndexSettings:{maxFieldDepth:0}}})))),[c]),d=null==(a=(0,te.useObservable)(u,zP))||null==(i=a.settings)||null==(r=i.partialIndexSettings)?void 0:r.maxFieldDepth;return(0,gl.default)(d)?Math.min(d,nh.DEFAULT_MAX_FIELD_DEPTH):nh.DEFAULT_MAX_FIELD_DEPTH}function zR(e){let t,n,r=(0,j.c)(5);r[0]!==e.value?(t={value:e.value},r[0]=e.value,r[1]=t):t=r[1];let i=t;return r[2]!==e.children||r[3]!==i?(n=(0,_.jsx)(D.FormValueContext.Provider,{value:i,children:e.children}),r[2]=e.children,r[3]=i,r[4]=n):n=r[4],n}function zB(e){let t=(0,S.pathFor)(e),n=(0,E.useContext)(D.FormValueContext);if(!n)throw Error("useFormValue must be used within a FormValueProvider");return Ad(null==n?void 0:n.value,t)}let zN={warning:"caution",error:"critical"},zL=(0,F.styled)(I.Box)(CG());function zz(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(30);m[0]!==e?({children:t,status:i,suffix:r,title:a,...n}=e,m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=i,m[5]=a):(t=m[1],n=m[2],r=m[3],i=m[4],a=m[5]);let g=void 0===i?"warning":i,y=zN[g];return m[6]!==g?(o="warning"===g&&(0,_.jsx)(R.WarningOutlineIcon,{}),m[6]=g,m[7]=o):o=m[7],m[8]!==g?(l="error"===g&&(0,_.jsx)(R.ErrorOutlineIcon,{}),m[8]=g,m[9]=l):l=m[9],m[10]!==o||m[11]!==l?(s=(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:[o,l]})}),m[10]=o,m[11]=l,m[12]=s):s=m[12],m[13]!==a?(c=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:a}),m[13]=a,m[14]=c):c=m[14],m[15]!==t?(u=t&&(0,_.jsx)(I.Box,{marginTop:3,children:t}),m[15]=t,m[16]=u):u=m[16],m[17]!==c||m[18]!==u?(d=(0,_.jsxs)(I.Box,{flex:1,marginLeft:3,children:[c,u]}),m[17]=c,m[18]=u,m[19]=d):d=m[19],m[20]!==s||m[21]!==d?(p=(0,_.jsxs)(I.Flex,{padding:4,children:[s,d]}),m[20]=s,m[21]=d,m[22]=p):p=m[22],m[23]!==r?(f=r&&(0,_.jsx)(zL,{children:r}),m[23]=r,m[24]=f):f=m[24],m[25]!==n||m[26]!==y||m[27]!==p||m[28]!==f?(h=(0,_.jsxs)(I.Card,{radius:2,tone:y,...n,"data-ui":"Alert",children:[p,f]}),m[25]=n,m[26]=y,m[27]=p,m[28]=f,m[29]=h):h=m[29],h}function zV(){let e=[];return{publish(t){for(let n of e)n(t)},subscribe:t=>(e.push(t),()=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)})}}class zU{static from(e){return e instanceof zU?e:new zU(Array.isArray(e)?(0,td.default)(e):[e])}prepend(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return zU.from([...(0,td.default)(t),...this.patches])}append(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return zU.from([...this.patches,...(0,td.default)(t)])}prefixAll(e){return zU.from(this.patches.map(t=>({...t,path:[e,...t.path]})))}constructor(e){this.patches=e}}let zH=(0,F.css)(C$()),zq=(0,F.css)(CZ()),zW=(0,F.styled)(I.Grid)(e=>e.$narrow?zH:zq),zY=(0,E.forwardRef)(function(e,t){var n;let r,i,a=(0,j.c)(6),[o,l]=(0,E.useState)(null);a[0]!==t?(r=e=>{var n,r;n=t,r=e,"function"==typeof n?n(r):n&&(n.current=r),l(e)},a[0]=t,a[1]=r):r=a[1];let s=r,c=480>((null==(n=(0,A.useElementRect)(o))?void 0:n.width)||480);return a[2]!==s||a[3]!==e.children||a[4]!==c?(i=(0,_.jsx)(zW,{ref:s,gap:1,$narrow:c,children:e.children}),a[2]=s,a[3]=e.children,a[4]=c,a[5]=i):i=a[5],i}),zK={display:"inline-flex"},zG={width:"100%"},z$={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function zZ(e){let t,n,r,i,a,o,l=(0,j.c)(25);l[0]!==e?({createOptions:t,onCreate:i,id:n,menuRef:r,...a}=e,l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=a):(t=l[1],n=l[2],r=l[3],i=l[4],a=l[5]);let s=A6(),{t:c}=IO(),u=IP(t);if(!t.some(zX)){let e,t,n,r;return l[6]!==s?(e=(0,_.jsx)(es3,{currentUser:s,context:"create-new-reference"}),l[6]=s,l[7]=e):e=l[7],l[8]!==c?(t=c("inputs.reference.action.create-new-document"),l[8]=c,l[9]=t):t=l[9],l[10]!==t?(n=(0,_.jsx)("div",{style:zK,children:(0,_.jsx)(B.Button,{text:t,mode:"ghost",disabled:!0,icon:R.AddIcon,style:zG})}),l[10]=t,l[11]=n):n=l[11],l[12]!==e||l[13]!==n?(r=(0,_.jsx)(B.Tooltip,{content:e,children:n}),l[12]=e,l[13]=n,l[14]=r):r=l[14],r}return l[15]!==t||l[16]!==s||l[17]!==u||l[18]!==n||l[19]!==r||l[20]!==i||l[21]!==e.readOnly||l[22]!==a||l[23]!==c?(o=t.length>1?(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{...a,disabled:e.readOnly,text:c("inputs.reference.action.create-new-document-select"),mode:"ghost",icon:R.AddIcon,size:"large"}),id:n,menu:(0,_.jsx)(I.Menu,{ref:r,children:t.map(e=>(0,_.jsx)(B.Tooltip,{disabled:e.permission.granted,content:(0,_.jsx)(es3,{currentUser:s,context:"create-document-type"}),portal:!0,children:(0,_.jsx)("div",{children:(0,_.jsx)(B.MenuItem,{disabled:!e.permission.granted,icon:e.icon,text:u(e).title,onClick:()=>i(e)})})},e.id))}),popover:z$}):(0,_.jsx)(B.Button,{...a,text:c("inputs.reference.action.create-new-document-select"),mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>i(t[0]),icon:R.AddIcon,size:"large","data-testid":"create-new-document-select-".concat(n)}),l[15]=t,l[16]=s,l[17]=u,l[18]=n,l[19]=r,l[20]=i,l[21]=e.readOnly,l[22]=a,l[23]=c,l[24]=o):o=l[24],o}function zX(e){return e.permission.granted}function zJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e].sort((e,t)=>{if("undecided"===e.metadata.releaseType&&"undecided"!==t.metadata.releaseType)return -1;if("undecided"!==e.metadata.releaseType&&"undecided"===t.metadata.releaseType)return 1;if("undecided"===e.metadata.releaseType&&"undecided"===t.metadata.releaseType)return new Date(t._createdAt).getTime()-new Date(e._createdAt).getTime();if("scheduled"===e.metadata.releaseType&&"scheduled"===t.metadata.releaseType){let n=e.publishAt||e.metadata.intendedPublishAt;if(!n)return 1;let r=t.publishAt||t.metadata.intendedPublishAt;return r?new Date(r).getTime()-new Date(n).getTime():-1}return"asap"===e.metadata.releaseType&&"asap"!==t.metadata.releaseType?1:"asap"!==e.metadata.releaseType&&"asap"===t.metadata.releaseType?-1:"asap"===e.metadata.releaseType&&"asap"===t.metadata.releaseType?new Date(t._createdAt).getTime()-new Date(e._createdAt).getTime():0})}let zQ=["drafts"],z1=["published"],z2=[];function z0(){let e,t,n,r=(0,j.c)(8),{state$:i,dispatch:a}=Fz(),o=(0,te.useObservable)(i);r[0]!==o.releases?(e=zJ(Array.from(o.releases.values()).filter(z5)).reverse(),r[0]=o.releases,r[1]=e):e=r[1];let l=e,s=o.error;r[2]===Symbol.for("react.memo_cache_sentinel")?(t=["loading","initialising"],r[2]=t):t=r[2];let c=t.includes(o.state);return r[3]!==a||r[4]!==l||r[5]!==o.error||r[6]!==c?(n={data:l,dispatch:a,error:s,loading:c},r[3]=a,r[4]=l,r[5]=o.error,r[6]=c,r[7]=n):n=r[7],n}function z5(e){return!Rv.includes(e.state)}let z7=F.styled.div(e=>{let{$index:t}=e,n={asap:Rb.asap.tone,scheduled:Rb.scheduled.tone,undecided:Rb.undecided.tone};return(0,F.css)(CX(),t,n.asap,n.undecided,n.scheduled)});function z3(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(21),{draft:u,published:d,versions:p}=e,{data:f}=z0(),{document:h}=FU(),{drafts:m}=h,{enabled:g}=m;c[0]!==f||c[1]!==p?(t=p?Object.entries(p).map(e=>{var t;let[n,r]=e;return r?null==f||null==(t=f.find(e=>FF(e._id)===n))?void 0:t.metadata.releaseType:void 0}):[],c[0]=f,c[1]=p,c[2]=t):t=c[2];let y=t,v=!!d;c[3]!==v?(n={status:"published",show:v},c[3]=v,c[4]=n):n=c[4];let b=g&&!!u;c[5]!==b?(r={status:"draft",show:b},c[5]=b,c[6]=r):r=c[6];let x=y.includes("asap");c[7]!==x?(i={status:"asap",show:x},c[7]=x,c[8]=i):i=c[8];let C=y.includes("scheduled");c[9]!==C?(a={status:"scheduled",show:C},c[9]=C,c[10]=a):a=c[10];let k=y.includes("undecided");c[11]!==k?(o={status:"undecided",show:k},c[11]=k,c[12]=o):o=c[12],c[13]!==a||c[14]!==o||c[15]!==n||c[16]!==r||c[17]!==i?(l=[n,r,i,a,o],c[13]=a,c[14]=o,c[15]=n,c[16]=r,c[17]=i,c[18]=l):l=c[18];let w=l;return c[19]!==w?(s=(0,_.jsx)(I.Flex,{children:w.filter(z4).map(z8)}),c[19]=w,c[20]=s):s=c[20],s}function z8(e,t){let{status:n}=e;return(0,_.jsx)(z7,{"data-status":n,$index:t+1},n)}function z4(e){let{show:t}=e;return t}function z6(e){let{id:t,layout:n,refType:r,renderPreview:i,showTypeLabel:a}=e,o=Fb(t),l=ea_(t),s=(0,E.useMemo)(()=>({_id:t,_type:r.name}),[t,r.name]),c=(0,E.useMemo)(()=>({children:(0,_.jsx)(I.Box,{paddingLeft:3,children:(0,_.jsxs)(I.Inline,{space:3,children:[a&&(0,_.jsx)(I.Badge,{mode:"outline",children:r.title}),o&&o.length>0&&(0,_.jsx)(ecQ,{presence:o}),(0,_.jsx)(z3,{draft:l.draft,published:l.published,versions:l.versions})]})}),layout:n,schemaType:r,tooltip:(0,_.jsx)(eTv,{draft:l.draft,published:l.published,versions:l.versions}),value:s}),[o,n,s,r,a,l.draft,l.published,l.versions]);return i(c)}let z9=()=>{},Ve={isLoading:!0,result:void 0,error:void 0,retry:z9},Vt={isLoading:!1,result:void 0,error:void 0,retry:z9};function Vn(e,t){let n,r=(0,j.c)(10),[i]=(0,E.useState)(Vr),[a,o]=i;if(r[0]!==t||r[1]!==e||r[2]!==o||r[3]!==a){let i,l;r[5]!==e?(i=()=>e,r[5]=e,r[6]=i):i=r[6],r[7]!==t||r[8]!==o?(l=e=>e?t(e).pipe((0,Z.map)(e=>({isLoading:!1,result:e,error:void 0,retry:o})),(0,eI.startWith)(Ve),(0,J.catchError)(e=>(console.error(e),(0,Y.of)({isLoading:!1,result:void 0,error:e,retry:o})))):(0,Y.of)(Vt),r[7]=t,r[8]=o,r[9]=l):l=r[9],n=(0,K.concat)((0,Y.of)(null),a).pipe((0,Z.map)(i),(0,et.concatMap)(l)),r[0]=t,r[1]=e,r[2]=o,r[3]=a,r[4]=n}else n=r[4];return(0,te.useObservable)(n,Ve)}function Vr(){return(0,tt.observableCallback)()}function Vi(e){let t,n,r=(0,j.c)(28),{getReferenceInfo:i,id:a,renderPreview:o}=e,{isLoading:l,result:s,error:c}=Vn(a,i),{t:u}=IO();if(l){let e,t;return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{style:{maxWidth:320},radius:1,animated:!0}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsxs)(I.Stack,{space:2,padding:1,children:[e,(0,_.jsx)(A.TextSkeleton,{style:{maxWidth:200},radius:1,size:1,animated:!0})]}),r[1]=t):t=r[1],t}if(c){let e,t,n;return r[2]!==u?(e=u("inputs.reference.error.failed-to-load-document-title"),r[2]=u,r[3]=e):e=r[3],r[4]!==c.message?(t=(0,_.jsx)(I.Text,{muted:!0,size:1,children:c.message}),r[4]=c.message,r[5]=t):t=r[5],r[6]!==e||r[7]!==t?(n=(0,_.jsx)(I.Stack,{space:2,padding:1,children:(0,_.jsx)(zz,{title:e,children:t})}),r[6]=e,r[7]=t,r[8]=n):n=r[8],n}if(!s)return null;if("PERMISSION_DENIED"===s.availability.reason){let e,t;return r[9]!==u?(e=u("inputs.reference.error.missing-read-permissions-description"),r[9]=u,r[10]=e):e=r[10],r[11]!==e?(t=(0,_.jsx)(I.Stack,{space:2,padding:1,children:e}),r[11]=e,r[12]=t):t=r[12],t}if(r[13]!==e.type.to||r[14]!==s.type){let n;r[16]!==s.type?(n=e=>e.name===s.type,r[16]=s.type,r[17]=n):n=r[17],t=e.type.to.find(n),r[13]=e.type.to,r[14]=s.type,r[15]=t}else t=r[15];let d=t;if(!d){let e,t;return r[18]!==s.type||r[19]!==u?(e=u("inputs.reference.error.invalid-search-result-type-title",{returnedType:s.type}),r[18]=s.type,r[19]=u,r[20]=e):e=r[20],r[21]!==e?(t=(0,_.jsx)(I.Stack,{space:2,padding:1,children:e}),r[21]=e,r[22]=t):t=r[22],t}return r[23]!==e.type.to.length||r[24]!==d||r[25]!==s||r[26]!==o?(n=s&&d&&(0,_.jsx)(z6,{id:s.id,layout:"default",refType:d,renderPreview:o,showTypeLabel:e.type.to.length>1}),r[23]=e.type.to.length,r[24]=d,r[25]=s,r[26]=o,r[27]=n):n=r[27],n}let Va=(0,F.styled)(B.Popover)(CJ()),Vo=(0,F.styled)(I.Text)(CQ()),Vl=["top-start","bottom-start"],Vs=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(18);c[0]!==e?({searchString:o,loading:n,portalRef:r,referenceElement:i,...a}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o):(n=c[1],r=c[2],i=c[3],a=c[4],o=c[5]);let{t:u}=IO(),d=e.options&&e.options.length>0;c[6]!==d||c[7]!==n||c[8]!==r||c[9]!==i||c[10]!==o||c[11]!==u?(l=(e,t)=>{let{content:a,hidden:l,inputElement:s,onMouseEnter:c,onMouseLeave:p}=e;return(0,_.jsx)(Va,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Vl,arrow:!1,constrainSize:!0,onMouseEnter:c,onMouseLeave:p,content:(0,_.jsx)("div",{ref:t,children:d?a:(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",children:(0,_.jsx)(Vo,{align:"center",muted:!0,children:(0,_.jsx)(IZ,{t:u,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:o||""}})})})})}),open:!n&&!l,ref:r,portal:!0,referenceElement:i||s,matchReferenceWidth:!0})},c[6]=d,c[7]=n,c[8]=r,c[9]=i,c[10]=o,c[11]=u,c[12]=l):l=c[12];let p=l;return c[13]!==n||c[14]!==t||c[15]!==p||c[16]!==a?(s=(0,_.jsx)(A.Autocomplete,{...a,loading:n,ref:t,renderPopover:p}),c[13]=n,c[14]=t,c[15]=p,c[16]=a,c[17]=s):s=c[17],s});function Vc(e){var t,n,r,i,a,o,l;let s,c,u=(0,j.c)(64),{layout:d,referenceInfo:p,renderPreview:f,type:h,value:m,showTypeLabel:g}=e,y=void 0===d?"default":d,{t:v}=IO();if(p.isLoading||p.error){let e;return u[0]!==y?(e=(0,_.jsx)(q8,{isPlaceholder:!0,layout:y}),u[0]=y,u[1]=e):e=u[1],e}if((null==(t=p.result)?void 0:t.availability.reason)==="NOT_FOUND"&&m._strengthenOnPublish){let e,t,n,s,c,d,p,v,b,x,C,k=h.to;if(u[2]!==y||u[3]!==f||u[4]!==h.to||u[5]!==m){p=Symbol.for("react.early_return_sentinel");e:{let g;if(u[13]!==(null==(r=m._strengthenOnPublish)?void 0:r.type)?(g=e=>{var t;return e.name===(null==m||null==(t=m._strengthenOnPublish)?void 0:t.type)},u[13]=null==(i=m._strengthenOnPublish)?void 0:i.type,u[14]=g):g=u[14],!(n=k.find(g))){let e,t,n=m._ref,r=null==(l=m._strengthenOnPublish)?void 0:l.type;u[15]!==h.to?(e=h.to.map(Vd),u[15]=h.to,u[16]=e):e=u[16],u[17]!==r||u[18]!==e||u[19]!==m._ref?(t=(0,_.jsx)(Vf,{documentId:n,actualType:r,declaredTypes:e}),u[17]=r,u[18]=e,u[19]=m._ref,u[20]=t):t=u[20],p=t;break e}let v=(null==(a=m._strengthenOnPublish)?void 0:a.type)?{_id:m._ref,_type:null==(o=m._strengthenOnPublish)?void 0:o.type}:m;t=I.Flex,d="center",e=I.Box,s=1,c=f({layout:y,schemaType:n,value:v,skipVisibilityCheck:!0})}u[2]=y,u[3]=f,u[4]=h.to,u[5]=m,u[6]=e,u[7]=t,u[8]=n,u[9]=s,u[10]=c,u[11]=d,u[12]=p}else e=u[6],t=u[7],n=u[8],s=u[9],c=u[10],d=u[11],p=u[12];return p!==Symbol.for("react.early_return_sentinel")?p:(u[21]!==e||u[22]!==s||u[23]!==c?(v=(0,_.jsx)(e,{flex:s,children:c}),u[21]=e,u[22]=s,u[23]=c,u[24]=v):v=u[24],u[25]!==n||u[26]!==g?(b=g&&(0,_.jsx)(I.Badge,{mode:"outline",children:n.title}),u[25]=n,u[26]=g,u[27]=b):b=u[27],u[28]!==b?(x=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Inline,{space:4,children:b})}),u[28]=b,u[29]=x):x=u[29],u[30]!==t||u[31]!==d||u[32]!==v||u[33]!==x?(C=(0,_.jsxs)(t,{align:d,children:[v,x]}),u[30]=t,u[31]=d,u[32]=v,u[33]=x,u[34]=C):C=u[34],C)}let b=p.result.availability,x="NOT_FOUND"===b.reason,C="PERMISSION_DENIED"===b.reason;if(C||x){let e,t,n,r;return u[35]!==v?(e=v("inputs.reference.error.document-unavailable-title"),u[35]=v,u[36]=e):e=u[36],u[37]!==e?(t=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(I.Box,{flex:1,paddingY:2,children:(0,_.jsx)(I.Text,{muted:!0,children:e})})})}),u[37]=e,u[38]=t):t=u[38],u[39]!==C||u[40]!==x||u[41]!==v||u[42]!==m?(n=C||x?(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.Tooltip,{portal:!0,content:x?(0,_.jsx)(Vp,{title:v("inputs.reference.error.nonexistent-document-title"),icon:R.HelpCircleIcon,children:(0,_.jsx)(IZ,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:v,values:{documentId:m._ref}})}):(0,_.jsx)(Vp,{title:v("inputs.reference.error.missing-read-permissions-title"),icon:R.AccessDeniedIcon,children:v("inputs.reference.error.missing-read-permissions-description")}),children:(0,_.jsx)(eiD,{tone:"default",children:(0,_.jsx)(R.HelpCircleIcon,{})})})}):null,u[39]=C,u[40]=x,u[41]=v,u[42]=m,u[43]=n):n=u[43],u[44]!==t||u[45]!==n?(r=(0,_.jsxs)(I.Inline,{space:2,children:[t,n]}),u[44]=t,u[45]=n,u[46]=r):r=u[46],r}let k=null==(n=p.result)?void 0:n.type;if(u[47]!==k||u[48]!==h.to){let e;u[50]!==k?(e=e=>e.name===k,u[50]=k,u[51]=e):e=u[51],s=h.to.find(e),u[47]=k,u[48]=h.to,u[49]=s}else s=u[49];let w=s;if(!w){let e,t,n=m._ref,r=k||"<unknown>";return u[52]!==h.to?(e=h.to.map(Vu),u[52]=h.to,u[53]=e):e=u[53],u[54]!==r||u[55]!==e||u[56]!==m._ref?(t=(0,_.jsx)(Vf,{documentId:n,actualType:r,declaredTypes:e}),u[54]=r,u[55]=e,u[56]=m._ref,u[57]=t):t=u[57],t}return u[58]!==y||u[59]!==w||u[60]!==f||u[61]!==g||u[62]!==m._ref?(c=(0,_.jsx)(z6,{id:m._ref,layout:y,refType:w,renderPreview:f,showTypeLabel:g}),u[58]=y,u[59]=w,u[60]=f,u[61]=g,u[62]=m._ref,u[63]=c):c=u[63],c}function Vu(e){return e.name}function Vd(e){return e.name}function Vp(e){let t,n,r,i,a,o=(0,j.c)(12),l=e.icon;return o[0]!==l?(t=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(l,{})}),o[0]=l,o[1]=t):t=o[1],o[2]!==e.title?(n=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:e.title}),o[2]=e.title,o[3]=n):n=o[3],o[4]!==e.children?(r=(0,_.jsx)(I.Box,{marginTop:3,children:(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:e.children})}),o[4]=e.children,o[5]=r):r=o[5],o[6]!==n||o[7]!==r?(i=(0,_.jsxs)(I.Box,{flex:1,marginLeft:3,children:[n,r]}),o[6]=n,o[7]=r,o[8]=i):i=o[8],o[9]!==t||o[10]!==i?(a=(0,_.jsxs)(I.Flex,{children:[t,i]}),o[9]=t,o[10]=i,o[11]=a):a=o[11],a}function Vf(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(19),{declaredTypes:u,documentId:d,actualType:p}=e,{t:f}=IO();return c[0]!==f?(t=f("inputs.reference.error.invalid-type-title"),c[0]=f,c[1]=t):t=c[1],c[2]!==t?(n=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(I.Box,{flex:1,paddingY:2,children:(0,_.jsx)(I.Text,{muted:!0,children:t})})})}),c[2]=t,c[3]=n):n=c[3],c[4]!==p||c[5]!==d?(r={documentId:d,actualType:p},c[4]=p,c[5]=d,c[6]=r):r=c[6],c[7]!==u?(i={AllowedTypes:()=>(0,_.jsx)(Vh,{values:u})},c[7]=u,c[8]=i):i=c[8],c[9]!==f||c[10]!==r||c[11]!==i?(a=(0,_.jsx)(I.Stack,{space:3,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:f,i18nKey:"inputs.reference.error.invalid-type-description",values:r,components:i})})}),c[9]=f,c[10]=r,c[11]=i,c[12]=a):a=c[12],c[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(eiD,{tone:"default",children:(0,_.jsx)(R.HelpCircleIcon,{})})}),c[13]=o):o=c[13],c[14]!==a?(l=(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.Tooltip,{portal:!0,content:a,children:o})}),c[14]=a,c[15]=l):l=c[15],c[16]!==n||c[17]!==l?(s=(0,_.jsxs)(I.Flex,{align:"center",justify:"flex-start",children:[n,l]}),c[16]=n,c[17]=l,c[18]=s):s=c[18],s}function Vh(e){let t,n,r,i,a=(0,j.c)(8);a[0]===Symbol.for("react.memo_cache_sentinel")?(t={type:"disjunction"},a[0]=t):t=a[0];let o=Iz(t);if(a[1]!==o||a[2]!==e.values){let t=o.formatToParts(e.values);n=E.Fragment,r=t.map(Vm),a[1]=o,a[2]=e.values,a[3]=n,a[4]=r}else n=a[3],r=a[4];return a[5]!==n||a[6]!==r?(i=(0,_.jsx)(n,{children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i}function Vm(e){return"element"===e.type?(0,_.jsx)("code",{children:e.value},e.value):e.value}let Vg=F.styled.button(C1()),Vy=(0,F.styled)(R.ToggleArrowRightIcon)(C2(),e=>e.open?"rotate(90deg)":""),Vv=(0,F.styled)(I.Flex)(C0()),Vb=(0,F.styled)(I.Flex)(C5());function Vx(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(30);g[0]!==e?({children:t,open:r,icon:n,title:a,...i}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a):(t=g[1],n=g[2],r=g[3],i=g[4],a=g[5]);let y=void 0===a?"Details":a,[v,b]=(0,E.useState)(r||!1);g[6]===Symbol.for("react.memo_cache_sentinel")?(o=()=>b(VC),g[6]=o):o=g[6];let x=o;g[7]!==r?(l=()=>b(r||!1),s=[r],g[7]=r,g[8]=l,g[9]=s):(l=g[8],s=g[9]),(0,E.useEffect)(l,s);let C=v?"":void 0;g[10]!==v?(c=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(Vy,{open:v})}),g[10]=v,g[11]=c):c=g[11],g[12]!==C||g[13]!==c?(u=(0,_.jsx)(Vb,{"data-open":C,children:c}),g[12]=C,g[13]=c,g[14]=u):u=g[14],g[15]!==n?(d=n&&(0,_.jsx)(I.Box,{marginLeft:1,children:n}),g[15]=n,g[16]=d):d=g[16],g[17]!==y?(p=(0,_.jsx)(I.Box,{flex:1,marginLeft:1,children:(0,_.jsx)(I.Text,{textOverflow:"ellipsis",size:1,weight:"medium",children:y})}),g[17]=y,g[18]=p):p=g[18],g[19]!==u||g[20]!==d||g[21]!==p?(f=(0,_.jsx)(Vg,{type:"button",onClick:x,children:(0,_.jsx)(Vv,{children:(0,_.jsxs)(I.Flex,{align:"center",children:[u,d,p]})})}),g[19]=u,g[20]=d,g[21]=p,g[22]=f):f=g[22];let k=!v;return g[23]!==t||g[24]!==k?(h=(0,_.jsx)(I.Box,{hidden:k,marginTop:3,children:t}),g[23]=t,g[24]=k,g[25]=h):h=g[25],g[26]!==i||g[27]!==h||g[28]!==f?(m=(0,_.jsxs)(I.Box,{...i,children:[f,h]}),g[26]=i,g[27]=h,g[28]=f,g[29]=m):m=g[29],m}function VC(e){return!e}let Vk={warning:"caution",error:"critical",info:"positive"},Vw={warning:(0,_.jsx)(R.WarningOutlineIcon,{}),error:(0,_.jsx)(R.ErrorOutlineIcon,{}),info:(0,_.jsx)(R.InfoOutlineIcon,{})};function V_(e){let t,n,r,i,a,o,l,s=(0,j.c)(15);s[0]!==e?({children:t,status:r,title:i,...n}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i):(t=s[1],n=s[2],r=s[3],i=s[4]);let c=void 0===r?"warning":r,u=Vk[c];return s[5]!==t||s[6]!==c||s[7]!==i?(a=t&&(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(Vx,{icon:Vw[c],title:i,children:(0,_.jsx)(I.Box,{marginLeft:3,marginTop:3,children:t})})}),s[5]=t,s[6]=c,s[7]=i,s[8]=a):a=s[8],s[9]!==a?(o=(0,_.jsx)(I.Flex,{padding:1,children:a}),s[9]=a,s[10]=o):o=s[10],s[11]!==n||s[12]!==u||s[13]!==o?(l=(0,_.jsx)(I.Card,{radius:2,tone:u,...n,"data-ui":"Alert",children:o}),s[11]=n,s[12]=u,s[13]=o,s[14]=l):l=s[14],l}function Vj(e){let t,n,r,i,a,o,l=(0,j.c)(17),{schemaType:s,handleRemoveStrengthenOnPublish:c}=e,{t:u}=IO(),d=s.weak?"inputs.reference.incomplete-reference.finalize-action-title":"inputs.reference.incomplete-reference.strengthen-action-title";l[0]!==u||l[1]!==d?(t=u(d),l[0]=u,l[1]=d,l[2]=t):t=l[2];let p=s.weak?"inputs.reference.incomplete-reference.finalize-action-description":"inputs.reference.incomplete-reference.strengthen-action-description";return l[3]!==u||l[4]!==p?(n=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:u,i18nKey:p})}),l[3]=u,l[4]=p,l[5]=n):n=l[5],l[6]!==u?(r=u("inputs.reference.incomplete-reference.strengthen-button-label"),l[6]=u,l[7]=r):r=l[7],l[8]!==c||l[9]!==r?(i=(0,_.jsx)(B.Button,{mode:"ghost",onClick:c,size:"large",text:r,tone:"positive"}),l[8]=c,l[9]=r,l[10]=i):i=l[10],l[11]!==n||l[12]!==i?(a=(0,_.jsxs)(I.Stack,{space:3,children:[n,i]}),l[11]=n,l[12]=i,l[13]=a):a=l[13],l[14]!==t||l[15]!==a?(o=(0,_.jsx)(V_,{padding:1,title:t,status:"info","data-testid":"alert-reference-published",children:a}),l[14]=t,l[15]=a,l[16]=o):o=l[16],o}let VS=(0,F.styled)(I.Card)(C7()),VE=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s=(0,j.c)(13);s[0]!==e?({as:n,documentId:i,documentType:a,...r}=e,s[0]=e,s[1]=n,s[2]=r,s[3]=i,s[4]=a):(n=s[1],r=s[2],i=s[3],a=s[4]),s[5]!==n||s[6]!==i||s[7]!==a?(o=i&&a&&{"data-as":"a",forwardedAs:n,documentId:i,documentType:a},s[5]=n,s[6]=i,s[7]=a,s[8]=o):o=s[8];let c=o;return s[9]!==r||s[10]!==c||s[11]!==t?(l=(0,_.jsx)(VS,{...r,...c,"data-ui":"ReferenceLinkCard",ref:t}),s[9]=r,s[10]=c,s[11]=t,s[12]=l):l=s[12],l});function VT(e){let t,n,r,i,a,o,l=(0,j.c)(15),{errorMessage:s,onHandleRetry:c}=e,{t:u}=IO();return l[0]!==u?(t=u("inputs.reference.metadata-error.title"),l[0]=u,l[1]=t):t=l[1],l[2]!==s?(n=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:s}),l[2]=s,l[3]=n):n=l[3],l[4]!==u?(r=u("inputs.reference.metadata-error.retry-button-label"),l[4]=u,l[5]=r):r=l[5],l[6]!==c||l[7]!==r?(i=(0,_.jsx)(B.Button,{mode:"ghost",onClick:c,size:"large",text:r,tone:"primary"}),l[6]=c,l[7]=r,l[8]=i):i=l[8],l[9]!==n||l[10]!==i?(a=(0,_.jsxs)(I.Stack,{space:3,children:[n,i]}),l[9]=n,l[10]=i,l[11]=a):a=l[11],l[12]!==t||l[13]!==a?(o=(0,_.jsx)(V_,{padding:1,title:t,status:"warning","data-testid":"alert-reference-info-failed",children:a}),l[12]=t,l[13]=a,l[14]=o):o=l[14],o}function VD(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(23),{actualStrength:u,handleFixStrengthMismatch:d}=e,p="weak"===u?"strong":"weak",{t:f}=IO();c[0]!==f?(t=f("inputs.reference.strength-mismatch.title"),c[0]=f,c[1]=t):t=c[1];let h="weak"===u?"inputs.reference.strength-mismatch.is-weak-description":"inputs.reference.strength-mismatch.is-strong-description";c[2]!==f||c[3]!==h?(n=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:f,i18nKey:h})}),c[2]=f,c[3]=h,c[4]=n):n=c[4];let m="weak"===p?"inputs.reference.strength-mismatch.is-strong-consquences":"inputs.reference.strength-mismatch.is-weak-consquences";c[5]!==f||c[6]!==m?(r=f(m),c[5]=f,c[6]=m,c[7]=r):r=c[7],c[8]!==r?(i=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:r}),c[8]=r,c[9]=i):i=c[9];let g="weak"===p?"inputs.reference.strength-mismatch.weaken-button-label":"inputs.reference.strength-mismatch.strengthen-button-label";return c[10]!==f||c[11]!==g?(a=f(g),c[10]=f,c[11]=g,c[12]=a):a=c[12],c[13]!==d||c[14]!==a?(o=(0,_.jsx)(B.Button,{mode:"ghost",onClick:d,size:"large",text:a,tone:"caution"}),c[13]=d,c[14]=a,c[15]=o):o=c[15],c[16]!==n||c[17]!==i||c[18]!==o?(l=(0,_.jsxs)(I.Stack,{space:3,children:[n,i,o]}),c[16]=n,c[17]=i,c[18]=o,c[19]=l):l=c[19],c[20]!==t||c[21]!==l?(s=(0,_.jsx)(V_,{padding:1,title:t,status:"warning","data-testid":"alert-reference-strength-mismatch",children:l}),c[20]=t,c[21]=l,c[22]=s):s=c[22],s}let VI=new WeakMap,VA={title:10,subtitle:5,description:1.5},VO={_id:{weight:1,type:"string"},_type:{weight:1,type:"string"}},VP=["reference","crossDatasetReference","slug"],VM=e=>e?[e,...VM(e.type)]:[],VF=e=>(null==e?void 0:e.jsonType)==="array"&&e.of.some(e=>VM(e).some(e=>{let{name:t}=e;return"block"===t})),VR=e=>VM(e).some(e=>{let{jsonType:t,name:n}=e;return"object"===t&&"slug"===n}),VB=e=>Io(e)&&"search"in e&&Io(e.search);function VN(e){return"u">typeof e&&"name"in e}function VL(e,t){return VR(e)?[t,"current"].join("."):t}function Vz(e,t,n){return VN(e)?(function e(r,i,a){var o,l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!r||a>t)return s;let c=VM(r);if(r&&(null==r?void 0:r.jsonType)==="string"||VF(r)){let e=n(r,i);return"number"==typeof e&&s.push({path:i,weight:e,type:VF(r)?"pt":"string"}),s}if(VR(r)){let e=n(r,i);return"number"==typeof e&&s.push({path:VL(r,i),weight:e,type:VF(r)?"pt":"string"}),s}let u=s;for(let t of c)if("object"===t.jsonType&&(null==(o=t.fields)?void 0:o.length)&&!VP.includes(t.name))for(let n of t.fields)u=e(n.type,(0,S.toString)([i,n.name].filter(Boolean)),a+1,u);else if("array"===t.jsonType&&(null==(l=t.of)?void 0:l.length))for(let n of t.of)u=e(n,"".concat(i,"[]"),a+1,u);return u})(e,"",0).reduce((e,t)=>{let{path:n,weight:r,type:i}=t;return e[n]={weight:r,type:i,path:n},e},{}):{}}let VV=e=>{var t;let n=VM(e).map(e=>e.options).find(VB);return"number"==typeof(null==n||null==(t=n.search)?void 0:t.weight)?n.search.weight:null},VU=e=>VM(e).some(e=>e.hidden)?0:null,VH=e=>{var t;return"number"==typeof(null!=(t=VV(e))?t:VU(e))?null:1},Vq=new WeakMap,VW={title:10,subtitle:5,description:1.5},VY={_id:{weight:1},_type:{weight:1}},VK=["reference","crossDatasetReference","slug","globalDocumentReference"],VG=e=>e?[e,...VG(e.type)]:[],V$=e=>VG(e).some(e=>{let{jsonType:t,name:n}=e;return"object"===t&&"slug"===n}),VZ=e=>Io(e)&&"search"in e&&Io(e.search);function VX(e){return"u">typeof e&&"name"in e}function VJ(e,t){return V$(e)?[t,"current"].join("."):t}function VQ(e,t,n){return VX(e)?(function e(r,i,a){var o,l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!r||a>t)return s;let c=VG(r);if(r&&(null==r?void 0:r.jsonType)==="string"||(null==r?void 0:r.jsonType)==="array"&&r.of.some(e=>VG(e).some(e=>{let{name:t}=e;return"block"===t}))){let e=n(r,i);return"number"==typeof e&&s.push({path:i,weight:e}),s}if(V$(r)){let e=n(r,i);return"number"==typeof e&&s.push({path:VJ(r,i),weight:e}),s}let u=s;for(let t of c)if("object"===t.jsonType&&(null==(o=t.fields)?void 0:o.length)&&!VK.includes(t.name))for(let n of t.fields)u=e(n.type,(0,S.toString)([i,n.name].filter(Boolean)),a+1,u);else if("array"===t.jsonType&&(null==(l=t.of)?void 0:l.length))for(let n of t.of)u=e(n,"".concat(i,"[]"),a+1,u);return u})(e,"",0).reduce((e,t)=>{let{path:n,weight:r,type:i}=t;return e[n]={weight:r,type:i,path:n},e},{}):{}}let V1=e=>{var t;let n=VG(e).map(e=>e.options).find(VZ);return"number"==typeof(null==n||null==(t=n.search)?void 0:t.weight)?n.search.weight:null},V2=e=>VG(e).some(e=>e.hidden)?0:null,V0=e=>{var t;return"number"==typeof(null!=(t=V1(e))?t:V2(e))?null:1},V5=e=>"object"===e.jsonType,V7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.getTypeNames().map(t=>e.get(t)).filter(D2).filter(e=>!!(e.type&&"document"===e.type.name)&&!(e.name.startsWith("sanity.")&&"sanity.previewUrlSecret"!==e.name)||t.includes(e.name)).filter(V5)};function V3(e){return!!e&&(Il(e)?"raw"===e:e.some(e=>"raw"===e))}let V8=/(?:[^\s"]+|"[^"]*")+/g;function V4(e,t){var n,r,i;let{includeDrafts:a=!0,perspective:o,...l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.types.map(e=>(function(e){let{schemaType:t,maxDepth:n,isCrossDataset:r,processPaths:i=e=>e}=e,a=Vq.get(t);if(a)return a;let o=VQ(t,n,V1),l=VQ(t,n,V2),s=VQ(t,n,V0),c=((e,t,n)=>{var r;let i=null==e||null==(r=e.preview)?void 0:r.select;if(!i)return null;let a=Object.fromEntries(Object.entries(i).map(e=>{let[t,n]=e;return[n.replace(/\.\d+/g,"[]"),t]})),o=Object.fromEntries(Object.entries(VQ(e,t,V0)).map(e=>{let[t,{type:n}]=e;return{path:t,type:n}}).filter(e=>{let{path:t}=e;return a[t]}).map(e=>{var t;let{path:n,type:r}=e;return[n,{type:r,weight:null!=(t=VW[a[n]])?t:0}]}));return n?Object.fromEntries(Object.entries(a).map(e=>{var t;let[n,r]=e;return[n,{path:n,type:"string",weight:null!=(t=VW[r])?t:0}]})):VQ(e,t,(e,t)=>{let n=o[VJ(e,t)];return n?n.weight:null})})(t,n,r),u={...VY,...s,...l,...c,...o},d={typeName:VX(t)?t.name:t.type,paths:i(Object.entries(u).map(e=>{let[t,{weight:n}]=e;return{path:t,weight:n}}))};return Vq.set(t,d),d})({schemaType:e,maxDepth:l.maxDepth||nh.DEFAULT_MAX_FIELD_DEPTH,isCrossDataset:l.isCrossDataset,processPaths:e=>e.filter(e=>{let{weight:t}=e;return 1!==t})})).filter(e=>{let{paths:t}=e;return 0!==t.length}).flatMap(e=>{let{typeName:t,paths:n}=e;return n.map(e=>({...e,typeName:t}))}),c=(0,nu.default)(s,e=>[e.path,e.weight].join(":")),u="([@, _id] match text::query($__query) || references($__rawQuery))",d=Object.entries(c).flatMap(e=>{let[,t]=e;return t.some(e=>{let{weight:t}=e;return 0===t})?[]:"boost(_type in ".concat(JSON.stringify(t.map(e=>e.typeName))," && ").concat(t[0].path," match text::query($__query), ").concat(t[0].weight,")")}).concat(u),p=null!=(n=null==l?void 0:l.sort)?n:[{field:"_score",direction:"desc"}],f=p.some(e=>{let{field:t}=e;return"_score"===t}),h=o;(typeof o>"u"||Array.isArray(o)&&0===o.length)&&(h="raw");let m=V3(h),g=["_type in $__types",f?[]:u,l.filter?"(".concat(l.filter,")"):[],e.filter?"(".concat(e.filter,")"):[],m?[]:'!(_id in path("versions.**"))',!1===a?"!(_id in path('drafts.**'))":[],null!=(r=l.cursor)?r:[]].flat(),y=p.map(e=>{let{field:t}=e;return t}).concat("_type","_id","_originalId").join(", "),v=["*[".concat(g.join(" && "),"]"),f?["|","score(".concat(d.join(", "),")")]:[],["|","order(".concat((p||[]).map(e=>[e.mapWith?"".concat(e.mapWith,"(").concat(e.field,")"):e.field,(e.direction||"").toLowerCase()].map(e=>e.trim()).filter(Boolean).join(" ")).join(","),")")],f?"[_score > 0]":[],"[0...$__limit]","{".concat(y,"}")].flat().join(" "),b="string"==typeof t?t:t.query,x={__types:e.types.map(e=>"u">typeof e&&"name"in e?e.name:e.type),__limit:(null!=(i=null==l?void 0:l.limit)?i:1e3)+1,__query:function(e){var t;let n=(null!=(t=e.match(V8))?t:[]).map(e=>e.trim()),r=n.findLastIndex(e=>!("u">typeof e&&"-"===e.trim().at(0))&&![null==e?void 0:e.at(0),null==e?void 0:e.at(-1)].every(e=>'"'===e)),i=n[r];if(0===n.length)return"*";if("u">typeof i&&"*"===i.trim().at(-1)||typeof i>"u")return n.join(" ");let a=[...n];return a.splice(r,1,"".concat(i).concat("*")),a.join(" ")}(b),__rawQuery:b,...l.params};return{query:[["findability-mvi:".concat(5)].concat((null==l?void 0:l.comments)||[]).map(e=>"// ".concat(e)).join("\n"),v].join("\n"),options:{tag:l.tag,perspective:h},params:x,sortOrder:p}}function V6(e){let{lastResult:t,sortOrder:n}=e;if(!t)return;let r=n.some(e=>{let{field:t}=e;return"_id"===t});return n.concat(r?[]:{field:"_id",direction:"asc"}).reduce((e,r,i)=>{let a=n.slice(0,i).map(e=>Ue(e,t,"==")).concat(Ue(r,t)).filter(e=>"u">typeof e).join(" && ");return[e,"(".concat(a,")")].filter(e=>"u">typeof e).join(" || ")},void 0)}let V9={asc:">",desc:"<"};function Ue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V9[e.direction];if("_id"!=e.field||"=="!=n)return[e.field,n,JSON.stringify(t[e.field])].join(" ")}function Ut(e){return e.replace(/^"(.*)"$/,"$1")}let Un=(0,ny.default)([td.default,nx.default,ng.default]),Ur=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n},Ui=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Ua=/(^[.]+)|([.]+$)/,Uo={groqLegacy:(e,t,n)=>function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{query:a,params:o,options:l,searchSpec:s,terms:c}=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{filter:i,params:a,tag:o}=r,l=e.types.map(e=>(function(e){let{schemaType:t,maxDepth:n,isCrossDataset:r,processPaths:i=e=>e}=e,a=VI.get(t);if(a)return a;let o=Vz(t,n,VV),l=Vz(t,n,VU),s=Vz(t,n,VH),c=((e,t,n)=>{var r;let i=null==e||null==(r=e.preview)?void 0:r.select;if(!i)return null;let a=Object.fromEntries(Object.entries(i).map(e=>{let[t,n]=e;return[n.replace(/\.\d+/g,"[]"),t]})),o=Object.fromEntries(Object.entries(Vz(e,t,VH)).map(e=>{let[t,{type:n}]=e;return{path:t,type:n}}).filter(e=>{let{path:t}=e;return a[t]}).map(e=>{let{path:t,type:n}=e;return[t,{type:n,weight:VA[a[t]]}]}));return n?Object.fromEntries(Object.entries(a).map(e=>{let[t,n]=e;return[t,{path:t,type:"string",weight:VA[n]}]})):Vz(e,t,(e,t)=>{let n=o[VL(e,t)];return n?n.weight:null})})(t,n,r),u={...VO,...s,...l,...c,...o},d={typeName:VN(t)?t.name:t.type,paths:i(Object.entries(u).map(e=>{let[t,{type:n,weight:r}]=e;return{path:t,weight:r,..."pt"===n&&{mapWith:"pt::text"}}}))};return VI.set(t,d),d})({schemaType:e,maxDepth:r.maxDepth||nh.DEFAULT_MAX_FIELD_DEPTH,isCrossDataset:r.isCrossDataset})).filter(e=>{let{paths:t}=e;return t.length}),s=function(e){let t=[],n=e.replace(/("[^"]*")/g,e=>(0,nk.default)(e).length>1?(t.push(e),""):e);return[...t.map(e=>(0,nb.default)((0,nv.default)(e))),...(0,nC.default)((0,ng.default)(((0,nv.default)(n).match(Ui)||[]).map(e=>e.replace(Ua,""))))]}(e.query),{perspective:c}=r,u=V3(c),d=["_type in $__types",!1===r.includeDrafts&&"!(_id in path('drafts.**'))",...function(e,t){let n=Un(t.map(e=>(e.paths||[]).map(e=>Ur(e))));return e.map((e,t)=>n.map(e=>"".concat(e," match $t").concat(t))).filter(e=>e.length>0).map(e=>"(".concat(e.join(" || "),")"))}(s,l),i?"(".concat(i,")"):"",e.filter?"(".concat(e.filter,")"):"",u?"":'!(_id in path("versions.**"))'].filter(Boolean),p=l.map(e=>{let t='_type == "'.concat(e.typeName,'" => '),n="{ ".concat(e.paths.map((e,t)=>'"w'.concat(t,'": ').concat(Ur(e)))," }");return"".concat(t).concat(n)}),f=((null==r?void 0:r.sort)||[{field:"_id",direction:"asc"}]).map(e=>[e.mapWith?"".concat(e.mapWith,"(").concat(e.field,")"):e.field,(e.direction||"").toLowerCase()].map(e=>e.trim()).filter(Boolean).join(" ")).join(","),h=["_type","_id","_originalId"],m=p.length>0?"...select(".concat(p.join(",\n"),")"):"",g=h.join(", ")+(m?", ".concat(m):""),y="*[".concat(d.join(" && "),"]| order(").concat(f,")[0...$__limit]{").concat(g,"}");if(null==r?void 0:r.__unstable_extendedProjection){let e=null==r?void 0:r.__unstable_extendedProjection,t=h.concat(e).join(", ");y=["*[".concat(d.join(" && "),"]{").concat(t,"}"),"order(".concat(f,")[0...$__limit]{").concat(g,"}")].join("|")}let v=["findability-mvi:".concat(4)].concat((null==r?void 0:r.comments)||[]).map(e=>"// ".concat(e)).join("\n"),b=v?"".concat(v,"\n").concat(y):y,x=null!=(n=null==r?void 0:r.limit)?n:1e3;return{query:b,params:{...s.reduce((e,t,n)=>(e["t".concat(n)]="".concat(t,"*"),e),{}),__types:l.map(e=>e.typeName),__limit:x,...a},options:{tag:o,perspective:!u&&(null==(t=r.perspective)?void 0:t.length)?r.perspective:"raw"},searchSpec:l,terms:s}}("string"==typeof r?{query:r,types:e}:r.types.length?r:{...r,types:e},{...n,...i});return AD(t,Oh(null==l?void 0:l.perspective)?Of.apiVersion:void 0).observable.fetch(a,o,l).pipe(n.unique?(0,Z.map)(D6):(0,eh.tap)(),(0,Z.map)(e=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(0,h5.default)(e,e=>e.typeName);return t.map((e,i)=>{var a;let o=null==(a=r[e._type].paths||[])?void 0:a.map((t,r)=>{let i,a="string"==typeof(i=e["w".concat(r)])?i:JSON.stringify(i);if(!a)return{path:t.path,score:0,why:"No match"};let[o,l]=((e,t)=>{let{phrases:n,words:r}=function(e){let t=(0,nC.default)(e.map(nv.default)),[n,r]=(0,mz.default)(t,e=>/^".*"$/.test(e));return{phrases:(0,nC.default)(n).map(nv.default).map(Ut),words:(0,nC.default)(r.map(nv.default))}}(e),[i,a]=function(e,t){let n=t.toLowerCase().trim(),r=0,i=0;return e.forEach(e=>{n.includes(e)&&(r+=e.length/n.length,i+=e.length)}),1===r?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(i," of ").concat(n.length," characters")]}(n,t),[o,l]=function(e,t){let n=(0,nC.default)((0,ng.default)((0,nk.default)((0,nv.default)(t)))),r=(0,nj.default)(e,n),i=(0,nx.default)(n,e),a=r.length/i.length;return 1===a?[1,"[Word] Exact match"]:[a/2,"[Word] Matched ".concat(r.length," of ").concat(i.length," terms: [").concat(r.join(", "),"]")]}(r,t);return[i+o,[l,a].join(", ")]})(n,a);return{path:t.path,score:o*t.weight,why:"".concat(l," (*").concat(t.weight,")")}}),l=o.reduce((e,t)=>e+t.score,0);return{hit:e,resultIndex:t.length-i,score:l,stories:o}})})(s,e,c)),(null==i?void 0:i.skipSortByScore)?(0,eh.tap)():(0,Z.map)(e=>(0,nl.default)(e,e=>-e.score)),(0,Z.map)(e=>({type:"weighted",hits:e})))},groq2024:(e,t,n)=>function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{query:a,params:o,options:l,sortOrder:s}=V4("string"==typeof r?{query:r,types:e}:r.types.length?r:{...r,types:e},r,{...n,...i});return t.observable.fetch(a,o,l).pipe((0,Z.map)(e=>{let t="u">typeof i.limit&&e.length>i.limit,n=t?e.at(-2):e.at(-1);return{type:"groq2024",hits:e.map(e=>({hit:e})).slice(0,i.limit),nextCursor:t?V6({lastResult:n,sortOrder:s}):void 0}}))}},Ul=(e,t,n)=>{var r;return(0,Uo[null!=(r=n.strategy)?r:"groqLegacy"])(e,Oh(null==n?void 0:n.perspective)?AD(t,Of.apiVersion):t,n)},Us={available:!0,reason:"READABLE"},Uc={available:!1,reason:"PERMISSION_DENIED"},Uu={available:!1,reason:"NOT_FOUND"};function Ud(e,t,n){let{version:r,perspective:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{publishedId:a,draftId:o,versionId:l}=D0(t,{version:r});return e.unstable_observeDocumentPairAvailability(t,{version:r}).pipe((0,Q.switchMap)(r=>{var s,c;if(!r.draft.available&&!r.published.available&&!(null==(s=r.version)?void 0:s.available)){let e=(null==(c=r.version)?void 0:c.reason)==="PERMISSION_DENIED"||"PERMISSION_DENIED"===r.draft.reason||"PERMISSION_DENIED"===r.published.reason?Uc:Uu;return(0,Y.of)({id:t,type:void 0,availability:e,isPublished:null,preview:{snapshot:null,original:null}})}return(0,ev.combineLatest)([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(a),...l?[e.observeDocumentTypeFromId(l)]:[]]).pipe((0,Z.map)(e=>{let[t,n,r]=e;return r||t||n})).pipe((0,Q.switchMap)(o=>{if(!o)return(0,Y.of)({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},isPublished:null,preview:{snapshot:null,original:null}});let l=n.to.find(e=>e.name===o);if(!l)return(0,Y.of)({id:t,type:o,availability:{available:!0,reason:"READABLE"},isPublished:null,preview:{snapshot:null,original:null}});let s=e.observePaths({_id:a},["_rev"]).pipe((0,Z.map)(e=>!!(null==e?void 0:e._rev))),c=eru(e,l,a,i);return(0,ev.combineLatest)([c,s]).pipe((0,Z.map)(e=>{var t,n;let[i,l]=e;return{type:o,id:a,availability:(null==(t=r.version)?void 0:t.available)||r.draft.available||r.published.available?Us:(null==(n=r.version)?void 0:n.reason)==="PERMISSION_DENIED"||"PERMISSION_DENIED"===r.draft.reason||"PERMISSION_DENIED"===r.published.reason?Uc:Uu,isPublished:l,preview:{snapshot:i.snapshot,original:i.original}}}))}))}))}function Up(e){var t,n,r,i,a;let{path:o,schemaType:l,version:s}=e,c=el3(),u=Ar(),d=Fu(),{EditReferenceLinkComponent:p,onEditReference:f,activePath:h,initialValueTemplateItems:m,...g}=L8(),y=null==(t=function(e){let t,n,r=(0,j.c)(3),i=(0,E.useRef)(e);return r[0]!==e?(t=()=>{i.current=e},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,E.useEffect)(t,n),i}(zB([])).current)?void 0:t._type,v=(0,E.useMemo)(()=>{var e;return null==(e=c.get(y))?void 0:e.liveEdit},[y,c]),b=null!=(a=g.disableNew)?a:(null==(n=l.options)?void 0:n.disableNew)===!0,x=null==(i=e.value)||null==(r=i._strengthenOnPublish)?void 0:r.template,C=(0,E.useMemo)(()=>(0,E.forwardRef)(function(e,t){return p?(0,_.jsx)(p,{...e,ref:t,parentRefPath:o,template:x}):null}),[p,o,x]),k=(0,E.useCallback)(e=>{null==f||f({parentRefPath:o,id:e.id,type:e.type,template:e.template})},[f,o]),w=S.startsWith(o,(null==h?void 0:h.path)||[])?null==h?void 0:h.state:"none";return{selectedState:w,isCurrentDocumentLiveEdit:v,handleEditReference:k,EditReferenceLink:C,createOptions:(0,E.useMemo)(()=>b?[]:(m||[]).filter(e=>l.to.some(t=>{var n;return t.name===(null==(n=e.template)?void 0:n.schemaType)})).map(e=>{var t;return(null==(t=e.template)?void 0:t.schemaType)?{id:e.id,title:e.title||"".concat(e.template.schemaType," from template ").concat(e.template.id),type:e.template.schemaType,icon:e.icon,template:{id:e.template.id,params:e.parameters},permission:{granted:e.granted,reason:e.reason}}:void 0}).filter(D2),[b,m,l.to]),getReferenceInfo:(0,E.useCallback)(e=>Ud(d,e,l,{version:s,perspective:u.perspectiveStack}),[d,l,s,u.perspectiveStack])}}let Uf={portal:!0,tone:"default"};function Uh(e){var t,n,r,i;let a=(0,E.useRef)(null),{schemaType:o,path:l,children:s,focusPath:c}=e,{readOnly:u,focused:d,renderPreview:p,onChange:f,onPathFocus:h,id:m}=e,{selectedReleaseId:g}=Ar(),y=(0,E.useCallback)(()=>f(LN()),[f]),v=e.value,{EditReferenceLink:b,getReferenceInfo:x,selectedState:C,isCurrentDocumentLiveEdit:k}=Up({path:l,schemaType:o,value:v,version:g});zm(d,(e,t)=>{!e&&t&&a.current&&a.current.focus()});let w=e.validation.some(e=>"error"===e.level),j=e.validation.some(e=>"warning"===e.level),S=Vn(null==v?void 0:v._ref,x),T=(null==(t=S.result)?void 0:t.type)||(null==v||null==(n=v._strengthenOnPublish)?void 0:n.type),D=T?o.to.find(e=>e.name===T):void 0,A="pressed"===C,O="selected"===C,P=null==v?void 0:v._ref,M=P&&(null==(r=S.result)?void 0:r.isPublished),F=(0,E.useCallback)(()=>{f([!0===o.weak?LB(!0,["_weak"]):LN(["_weak"]),LN(["_strengthenOnPublish"])])},[f,o.weak]),N=(0,E.useCallback)(()=>{f(!0===o.weak?LB(!0,["_weak"]):LN(["_weak"]))},[f,o]),L=(0,E.useCallback)(()=>{h(["_ref"])},[h]),z=(null==v?void 0:v._weak)?"weak":"strong",V=!0===o.weak?"weak":"strong",U=P&&!S.isLoading&&(null==v?void 0:v._strengthenOnPublish),H=!S.isLoading&&(null==(i=S.result)?void 0:i.availability.available)&&P&&z!==V&&!U,q=function(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}({readOnly:u,hasErrors:w,hasWarnings:j}),W=!(null==v?void 0:v._ref)||"_ref"===c[0],{t:Y}=IO(),K=(0,_.jsxs)(_.Fragment,{children:[k&&M&&v._strengthenOnPublish&&(0,_.jsx)(Vj,{schemaType:o,handleRemoveStrengthenOnPublish:F}),H&&(0,_.jsx)(VD,{actualStrength:z,handleFixStrengthMismatch:N}),S.error&&(0,_.jsx)(VT,{errorMessage:S.error.message,onHandleRetry:S.retry})]}),G=(0,E.useMemo)(()=>(0,E.forwardRef)(function(e,t){return(0,_.jsx)(nr.IntentLink,{...e,intent:"edit",params:{id:null==v?void 0:v._ref,type:null==D?void 0:D.name},target:"_blank",rel:"noopener noreferrer",ref:t})}),[null==D?void 0:D.name,null==v?void 0:v._ref]),$=(0,E.useMemo)(()=>u?null:(0,_.jsx)(I.Box,{flex:"none",children:(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(DO,{}),id:"".concat(m,"-menuButton"),menu:(0,_.jsxs)(I.Menu,{children:[!u&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuItem,{text:Y("inputs.reference.action.clear"),tone:"critical",icon:R.TrashIcon,onClick:y}),(0,_.jsx)(B.MenuItem,{text:Y("inputs.reference.action.replace"),icon:R.SyncIcon,onClick:L})]}),!u&&(null==v?void 0:v._ref)&&(0,_.jsx)(I.MenuDivider,{}),(null==v?void 0:v._ref)&&(0,_.jsx)(B.MenuItem,{as:G,"data-as":"a",text:Y("inputs.reference.action.open-in-new-tab"),icon:R.LaunchIcon})]}),popover:Uf})}),[y,L,m,G,u,Y,null==v?void 0:v._ref]),Z=(0,E.useCallback)(e=>{e.target===a.current&&h(Ie)},[h]);return W?(0,_.jsx)(I.Box,{children:s}):(0,_.jsx)(I.Card,{border:!0,radius:2,padding:1,tone:q,children:(0,_.jsxs)(I.Stack,{space:1,children:[(0,_.jsx)(I.Flex,{gap:1,align:"center",style:{lineHeight:0},children:(0,_.jsxs)(B.TooltipDelayGroupProvider,{children:[(0,_.jsx)(VE,{__unstable_focusRing:!0,as:b,"data-pressed":!!A||void 0,"data-selected":!!O||void 0,documentId:null==v?void 0:v._ref,documentType:null==D?void 0:D.name,flex:1,pressed:A,radius:2,ref:a,selected:O,tone:"inherit",onFocus:Z,children:(0,_.jsx)(Vc,{value:v,referenceInfo:S,renderPreview:p,type:o})}),(0,_.jsx)(I.Box,{children:$})]})}),K]})})}let Um={hits:[],isLoading:!1},Ug=()=>!0;function Uy(e){return null!==e}function Uv(e){var t,n,r,i,a,o,l,s,c,u,d,p,f,h;let m,g,y,v,b,x,C,k,w,S,T,O,P,M,F,R,N,L,z,V,U,H,q,W,G=(0,j.c)(101),{createOptions:$,onChange:X,onEditReference:ee,onSearch:et,schemaType:en,readOnly:er,id:ei,onPathFocus:ea,value:eo,version:el,renderPreview:es,path:ec,elementProps:eu,focusPath:ed}=e,{selectedReleaseId:ep}=Ar();G[0]!==ec||G[1]!==en||G[2]!==eo||G[3]!==el?(m={path:ec,schemaType:en,value:eo,version:el},G[0]=ec,G[1]=en,G[2]=eo,G[3]=el,G[4]=m):m=G[4];let{getReferenceInfo:ef}=Up(m),[em,eg]=(0,E.useState)(Um);G[5]!==X||G[6]!==ee||G[7]!==ea||G[8]!==ec||G[9]!==en.name||G[10]!==en.weak||G[11]!==ep?(g=e=>{let t=(0,h6.uuid)(),n=typeof ep>"u"?[LB(!0,["_weak"])]:[],r=[LB({type:e.type,weak:en.weak,template:e.template},["_strengthenOnPublish"])];X([LF({}),LB(en.name,["_type"]),LB(t,["_ref"])].concat(n,r).filter(D2)),ee({id:t,type:e.type,template:e.template,version:ep}),ea(ec)},G[5]=X,G[6]=ee,G[7]=ea,G[8]=ec,G[9]=en.name,G[10]=en.weak,G[11]=ep,G[12]=g):g=G[12];let ey=g;G[13]!==X||G[14]!==ea||G[15]!==ec||G[16]!==en.name||G[17]!==en.weak||G[18]!==em.hits?(y=e=>{if(!e){X(LN()),ea([]);return}let t=em.hits.find(t=>t.id===e);if(!t)throw Error("Selected an item that wasnt part of the result set");X([LF({}),LB(en.name,["_type"]),LB((0,th.getPublishedId)(e),["_ref"]),t.published&&!en.weak?LN(["_weak"]):LB(!0,["_weak"]),t.published?LN(["_strengthenOnPublish"]):LB({type:null==t?void 0:t.type,weak:en.weak},["_strengthenOnPublish"])].filter(D2)),ea(ec)},G[13]=X,G[14]=ea,G[15]=ec,G[16]=en.name,G[17]=en.weak,G[18]=em.hits,G[19]=y):y=G[19];let ev=y;G[20]!==X?(v=()=>{X(LN())},G[20]=X,G[21]=v):v=G[21];let eb=v;G[22]!==ea||G[23]!==ec?(b=e=>{"Escape"===e.key&&ea(ec)},G[22]=ea,G[23]=ec,G[24]=b):b=G[24];let ex=b,eC=Vn(null==eo?void 0:eo._ref,ef),[ek,e_]=(0,E.useState)(null),{push:ej}=(0,A.useToast)(),{t:eS}=IO();G[25]!==ei||G[26]!==et||G[27]!==ej||G[28]!==eS?(x=e=>e.pipe((0,ew.filter)(Uy),(0,Q.switchMap)(e=>(0,K.concat)((0,Y.of)({isLoading:!0}),et(e).pipe((0,Z.map)(t=>({hits:t,searchString:e,isLoading:!1})),(0,J.catchError)(e=>(ej({title:eS("inputs.reference.error.search-failed-title"),description:e.message,status:"error",id:"reference-search-fail-".concat(ei)}),console.error(e),(0,Y.of)({hits:[]})))))),(0,eO.scan)(Ux,Um),(0,eh.tap)(eg)),G[25]=ei,G[26]=et,G[27]=ej,G[28]=eS,G[29]=x):x=G[29];let eE=(0,te.useObservableEvent)(x);G[30]!==eE?(C=()=>{eE("")},G[30]=eE,G[31]=C):C=G[31];let eT=C;G[32]!==ea||G[33]!==ec?(k=e=>{"Escape"===e.key&&ea(ec)},G[32]=ea,G[33]=ec,G[34]=k):k=G[34];let eD=k;G[35]!==ef||G[36]!==es||G[37]!==en?(w=e=>{var t,n;let r=(null==(t=e.hit.draft)?void 0:t._id)||(null==(n=e.hit.published)?void 0:n._id)||e.value;return(0,_.jsx)(eTO,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:(0,_.jsx)(Vi,{getReferenceInfo:ef,id:r,renderPreview:es,type:en})})},G[35]=ef,G[36]=es,G[37]=en,G[38]=w):w=G[38];let eI=w;G[39]!==(null==(r=eC.result)||null==(n=r.preview)||null==(t=n.original)?void 0:t.title)||G[40]!==(null==(o=eC.result)||null==(a=o.preview)||null==(i=a.snapshot)?void 0:i.title)?(S=()=>{var e,t,n,r,i,a;return(null==(n=eC.result)||null==(t=n.preview)||null==(e=t.snapshot)?void 0:e.title)||(null==(a=eC.result)||null==(i=a.preview)||null==(r=i.original)?void 0:r.title)||""},G[39]=null==(c=eC.result)||null==(s=c.preview)||null==(l=s.original)?void 0:l.title,G[40]=null==(p=eC.result)||null==(d=p.preview)||null==(u=d.snapshot)?void 0:u.title,G[41]=S):S=G[41];let eA=S;G[42]!==ea?(T=()=>ea(["_ref"]),G[42]=ea,G[43]=T):T=G[43];let eP=T;G[44]!==ek||G[45]!==e.elementProps?(O=t=>{(null==ek?void 0:ek.contains(t.relatedTarget))||e.elementProps.onBlur(t)},G[44]=ek,G[45]=e.elementProps,G[46]=O):O=G[46];let eM=O,eF=(null==eC||null==(h=eC.result)||null==(f=h.availability)?void 0:f.reason)==="NOT_FOUND"&&!(null==eo?void 0:eo._strengthenOnPublish)&&(null==eo?void 0:eo._weak);G[47]!==eu?(P=(e,t)=>{var n;!e&&t&&(null==(n=eu.ref.current)||n.focus())},G[47]=eu,G[48]=P):P=G[48],zm((null==ed?void 0:ed[0])==="_ref",P),G[49]!==em.hits?(M=em.hits.map(Ub),G[49]=em.hits,G[50]=M):M=G[50];let eR=M,eB=1===ed.length&&"_ref"===ed[0],{menuRef:eN,menuButtonRef:eL,containerRef:ez}=function(){let e=(0,j.c)(1),t=(0,E.useContext)(D.ReferenceItemRefContext);if(!t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={menuRef:{current:null},menuButtonRef:{current:null},containerRef:{current:null}},e[0]=t):t=e[0],t}return t}(),eV=(0,E.useRef)(null),eU=(0,E.useRef)(null),eH=(0,E.useRef)(null);G[51]!==eb||G[52]!==eB||G[53]!==eL||G[54]!==(null==eo?void 0:eo._ref)?(F=!(null==eo?void 0:eo._ref)&&(()=>{(eB||document.activeElement===eL.current)&&eb()}),G[51]=eb,G[52]=eB,G[53]=eL,G[54]=null==eo?void 0:eo._ref,G[55]=F):F=G[55],G[56]!==ez||G[57]!==eL||G[58]!==eN?(R=()=>[eN.current,eL.current,ez.current,eV.current,eU.current,eH.current],G[56]=ez,G[57]=eL,G[58]=eN,G[59]=R):R=G[59],(0,I.useClickOutsideEvent)(F,R),G[60]!==eb||G[61]!==eF||G[62]!==eS||G[63]!==eo?(N=eF?(0,_.jsx)(zz,{"data-testid":"alert-nonexistent-document",title:eS("inputs.reference.error.nonexistent-document-title"),suffix:(0,_.jsx)(I.Stack,{padding:2,children:(0,_.jsx)(B.Button,{text:eS("inputs.reference.error.nonexistent-document.clear-button-label"),onClick:eb})}),children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:eS,values:{documentId:eo._ref}})})}):null,G[60]=eb,G[61]=eF,G[62]=eS,G[63]=eo,G[64]=N):N=G[64];let eq=em.isLoading;G[65]!==eS?(L=eS("inputs.reference.search-placeholder"),G[65]=eS,G[66]=L):L=G[66];let eW=eC.isLoading||er;G[67]!==eT?(z={onClick:eT},G[67]=eT,G[68]=z):z=G[68];let eY=null==eo?void 0:eo._ref;return G[69]!==ek||G[70]!==eu||G[71]!==ex||G[72]!==eM||G[73]!==ev||G[74]!==eP||G[75]!==eE||G[76]!==eR||G[77]!==eA||G[78]!==em.isLoading||G[79]!==em.searchString||G[80]!==L||G[81]!==eW||G[82]!==eI||G[83]!==z||G[84]!==eY?(V=(0,_.jsx)(Vs,{...eu,onFocus:eP,onBlur:eM,"data-testid":"autocomplete",loading:eq,referenceElement:ek,options:eR,radius:2,placeholder:L,onKeyDown:ex,readOnly:eW,onQueryChange:eE,searchString:em.searchString,onChange:ev,filterOption:Ug,renderOption:eI,renderValue:eA,openButton:z,portalRef:eU,value:eY}),G[69]=ek,G[70]=eu,G[71]=ex,G[72]=eM,G[73]=ev,G[74]=eP,G[75]=eE,G[76]=eR,G[77]=eA,G[78]=em.isLoading,G[79]=em.searchString,G[80]=L,G[81]=eW,G[82]=eI,G[83]=z,G[84]=eY,G[85]=V):V=G[85],G[86]!==$||G[87]!==eD||G[88]!==ey||G[89]!==ei||G[90]!==er?(U=$.length>0&&(0,_.jsx)(zZ,{id:"".concat(ei,"-selectTypeMenuButton"),readOnly:er,createOptions:$,onCreate:ey,onKeyDown:eD,menuRef:eH}),G[86]=$,G[87]=eD,G[88]=ey,G[89]=ei,G[90]=er,G[91]=U):U=G[91],G[92]!==V||G[93]!==U?(H=(0,_.jsxs)(zY,{ref:e_,children:[V,U]}),G[92]=V,G[93]=U,G[94]=H):H=G[94],G[95]!==N||G[96]!==H?(q=(0,_.jsx)(I.Stack,{space:1,"data-testid":"reference-input",ref:eV,children:(0,_.jsxs)(I.Stack,{space:2,children:[N,H]})}),G[95]=N,G[96]=H,G[97]=q):q=G[97],G[98]!==e||G[99]!==q?(W=(0,_.jsx)(Uh,{...e,children:q}),G[98]=e,G[99]=q,G[100]=W):W=G[100],W}function Ub(e){return{value:e.id,hit:e}}function Ux(e,t){return{...e,...t}}async function UC(e,t,n,r){if(!e)return{};if("function"==typeof e.filter){let i=n.slice(0,-1),a=(0,S.get)(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Uk(e){var t,n,r,i,a;let o=eii(),l=o.getClient(AE),{perspectiveStack:s}=Ar(),c=el3(),u=zF(),d=Fu(),{selectedReleaseId:p}=Ar(),{path:f,schemaType:h}=e,{EditReferenceLinkComponent:m,onEditReference:g,activePath:y,initialValueTemplateItems:v,...b}=L8(),{strategy:x}=o.search,C=function(e){let t,n,r=(0,j.c)(3),i=(0,E.useRef)(e);return r[0]!==e?(t=()=>{i.current=e},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,E.useEffect)(t,n),i}(zB([])),k=null==(t=C.current)?void 0:t._type,w=c.get(k),T=(0,E.useMemo)(()=>null==w?void 0:w.liveEdit,[w]),D=null!=(a=b.disableNew)?a:(null==(n=h.options)?void 0:n.disableNew)===!0,I=o.getClient,A=(0,E.useCallback)(e=>(0,en.from)(UC(h.options,C.current,f,I)).pipe((0,eC.mergeMap)(t=>{var n;let{filter:r,params:i}=t;return n={...h.options,filter:r,params:i,tag:"search.reference",maxFieldDepth:u,strategy:x,perspective:s},Ul(h.to,l,{...n,maxDepth:n.maxFieldDepth||nh.DEFAULT_MAX_FIELD_DEPTH})(e,{includeDrafts:!0}).pipe((0,Z.map)(e=>{let{hits:t}=e;return t.map(e=>{let{hit:t}=e;return t})}),(0,Z.map)(e=>e.map(e=>({...e,_id:e._originalId||e._id}))),(0,Z.map)(e=>D4(e)),(0,Z.map)(e=>e.slice(0,100)),(0,eC.mergeMap)(e=>{var t;return(0===(t=e.filter(e=>!e.draft||!e.published).map(e=>e.draft?e.id:(0,th.getDraftId)(e.id))).length?(0,Y.of)([]):l.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})).pipe((0,Z.map)(t=>e.map(e=>{let n=(0,th.getDraftId)(e.id);return{id:e.id,type:e.type,draft:e.draft||t.includes(n)?{_id:n,_type:e.type}:void 0,published:e.published||t.includes(e.id)?{_id:e.id,_type:e.type}:void 0}})))}))}),(0,J.catchError)(e=>{var t;let n=e.details&&"queryParseError"===e.details.type;return(null==(t=h.options)?void 0:t.filter)&&n&&(e.message='Invalid reference filter, please check the custom "filter" option'),(0,el.throwError)(e)})),[h,C,f,I,l,u,x,s]),O=null==(i=e.value)||null==(r=i._strengthenOnPublish)?void 0:r.template,P=(0,E.useMemo)(()=>(0,E.forwardRef)(function(e,t){return m?(0,_.jsx)(m,{...e,ref:t,parentRefPath:f,template:O}):null}),[m,f,O]),M=(0,E.useCallback)(e=>{null==g||g({parentRefPath:f,id:e.id,type:e.type,template:e.template,version:e.version})},[g,f]),F=S.startsWith(f,(null==y?void 0:y.path)||[])?null==y?void 0:y.state:"none",R=(0,E.useMemo)(()=>D?[]:(v||[]).filter(e=>h.to.some(t=>{var n;return t.name===(null==(n=e.template)?void 0:n.schemaType)})).map(e=>{var t,n,r;return(null==(t=e.template)?void 0:t.schemaType)?{id:e.id,title:e.title||"".concat(e.template.schemaType," from template ").concat(null==(n=e.template)?void 0:n.id),i18n:e.i18n,type:e.template.schemaType,icon:e.icon,template:{id:null==(r=e.template)?void 0:r.id,params:e.parameters},permission:{granted:e.granted,reason:e.reason}}:void 0}).filter(D2),[D,v,h.to]),B=(0,E.useCallback)((e,t)=>Ud(d,e,t),[d]);return(0,_.jsx)(Uv,{...e,onSearch:A,liveEdit:T,getReferenceInfo:B,selectedState:F,editReferenceLinkComponent:P,createOptions:R,onEditReference:M,version:p})}let Uw=function(e){let t,n,r,i,a=(0,j.c)(6),o=(0,E.useRef)(e.value);a[0]!==e.value?(t=()=>{o.current=e.value},n=[e.value],a[0]=e.value,a[1]=t,a[2]=n):(t=a[1],n=a[2]),(0,E.useEffect)(t,n),a[3]===Symbol.for("react.memo_cache_sentinel")?(r=e=>Ad(o.current,e),a[3]=r):r=a[3];let l=r;return a[4]!==e.children?(i=(0,_.jsx)(D.GetFormValueContext.Provider,{value:l,children:e.children}),a[4]=e.children,a[5]=i):i=a[5],i};function U_(){let e=(0,E.useContext)(D.GetFormValueContext);if(!e)throw Error("useGetFormValue must be used within a GetFormValueProvider");return e}function Uj(e){return(0,W.isObjectSchemaType)(e)?"object"===e.name?{}:{_type:e.name}:(0,W.isArraySchemaType)(e)?[]:"string"===e.jsonType?"":"number"===e.jsonType?0:"boolean"!==e.jsonType&&void 0}Uw.displayName="GetFormValueProvider";let US=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function UE(e){let t=US();return(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=new Uint8Array(e);return(0,sd.default)(t),t})(e).reduce((e,n)=>e+t[n],"").slice(0,e)}function UT(e){return void 0!==e._key?e:{...e,_key:UE(12)}}function UD(e,t){if(!(!t||!e))return"desc_".concat(e)}function UI(e,t,n){return(0,en.from)(e).pipe((0,eC.mergeMap)(e=>{let r={_key:e._key};return(0,Y.of)(((e,t)=>{let n=(0,nw.resolveTypeName)(t);return e.of.find(e=>e.name===n)})(t,e)).pipe((0,eC.mergeMap)(e=>e?(0,Y.of)(e):$.EMPTY),(0,eC.mergeMap)(t=>Lm(e)&&n?(0,K.concat)((0,Y.of)({type:"patch",patches:[LB(!0,[r,"_resolvingInitialValue"])]}),(0,G.defer)(()=>n(t,e)).pipe((0,ew.filter)(D2),(0,Z.map)(e=>{var t;return{type:"patch",patches:(t=[r],Object.entries(e).map(e=>{let[n,r]=e;return LB(r,[...t,n])}))}}),(0,J.catchError)(n=>(0,Y.of)({type:"error",error:n,item:e,schemaType:t}))),(0,Y.of)({type:"patch",patches:[LN([r,"_resolvingInitialValue"])]})):$.EMPTY))}))}function UA(e){let t=(0,E.useRef)(void 0),{member:n,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:l,renderItem:s,renderPreview:c}=e,{t:u}=IO(),{onPathBlur:d,onPathFocus:p,onChange:f,onPathOpen:h,onSetPathCollapsed:m,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=L3(),v=Ms(),b=U_(),{onCopy:x}=eS7();zm(n.item.focused,(e,n)=>{var r;!e&&n&&(null==(r=t.current)||r.focus())});let C=(0,E.useCallback)(()=>{f(zU.from([LN([{_key:n.key}])]))},[n.key,f]),k=(0,E.useCallback)(e=>{h(e),m(e,!1)},[h,m]),w=(0,A.useToast)(),j=(0,E.useCallback)(e=>{if(0===e.items.length)throw Error("Insert event should include at least one item");let t=e.items.map(e=>UT(e));f(zU.from([LR(t,e.position,[{_key:n.key}])]));let r=t[0]._key,i=[...n.item.path.slice(0,-1),{_key:r}];p(i);let a=!1!==e.open;e.skipInitialValue?a&&k(i):UI(t,n.parentSchemaType,v).pipe((0,eh.tap)(e=>{"patch"===e.type?f(zU.from(e.patches)):w.push({title:u("inputs.array.error.cannot-resolve-initial-value-title"),description:u("inputs.array.error.cannot-resolve-initial-value-description",{schemaTypeTitle:e.schemaType.title,errorMessage:e.error.message}),status:"error"})})).subscribe({complete:()=>{a&&k(i)}})},[k,n.item.path,n.key,n.parentSchemaType,f,p,v,w,u]),S=(0,E.useCallback)(e=>{let t=b([]);x(n.item.path,t,{context:{source:"arrayItem"},patchType:"append"})},[b,x,n.item.path]),T=(0,E.useCallback)(()=>{d(n.item.path)},[n.item.path,d]),D=(0,E.useCallback)(()=>{p(n.item.path)},[n.item.path,p]),I=(0,E.useCallback)(e=>{p(n.item.path.concat(e))},[n.item.path,p]),O=(0,E.useCallback)(e=>{f(zU.from(e).prepend(LF(Uj(n.item.schemaType))).prefixAll({_key:n.key}))},[f,n.item.schemaType,n.key]),P=(0,E.useCallback)(()=>{m(n.item.path,!0)},[m,n.item.path]),M=(0,E.useCallback)(()=>{m(n.item.path,!1)},[m,n.item.path]),F=(0,E.useCallback)(e=>{m(n.item.path.concat(e),!0)},[m,n.item.path]),R=(0,E.useCallback)(e=>{m(n.item.path.concat(e),!1)},[m,n.item.path]),B=(0,E.useCallback)(()=>{h(n.item.path)},[h,n.item.path]),N=(0,E.useCallback)(e=>{h(n.item.path.concat(e))},[h,n.item.path]),L=(0,E.useCallback)(e=>{g(n.item.path.concat(e),!1)},[g,n.item.path]),z=(0,E.useCallback)(e=>{g(n.item.path.concat(e),!0)},[g,n.item.path]),V=(0,E.useCallback)(()=>{h(n.item.path)},[h,n.item.path]),U=!n.item.value||Lm(n.item.value),H=(0,E.useCallback)(()=>{U&&C();let e=n.item.path.slice(0,-1);h(e),p(e)},[U,h,n.item.path,p,C]),q=(0,E.useCallback)(e=>{y(n.item.path,e)},[y,n.item.path]),W=(0,E.useMemo)(()=>({onBlur:T,onFocus:D,id:n.item.id,ref:t,"aria-describedby":UD(n.item.id,n.item.schemaType.description)}),[T,D,n.item.id,n.item.schemaType.description]),Y=(0,E.useMemo)(()=>({changed:n.item.changed,__unstable_computeDiff:n.item.__unstable_computeDiff,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:O,onFieldClose:B,onFieldCollapse:F,onFieldSetCollapse:z,onFieldExpand:R,onFieldSetExpand:L,onFieldGroupSelect:q,onPathFocus:I,onFieldOpen:N,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:l,renderItem:s,renderPreview:c,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:W}),[W,O,B,F,z,R,L,I,N,q,n.item.changed,n.item.__unstable_computeDiff,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,i,a,o,l,s,c]),K=(0,E.useMemo)(()=>l(Y),[Y,l]),G=(0,E.useMemo)(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,__unstable_computeDiff:n.item.__unstable_computeDiff,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:j,onCopy:S,onRemove:C,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:V,onClose:H,onExpand:M,onCollapse:P,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:D,onBlur:T,inputId:n.item.id,path:n.item.path,children:K,changed:n.item.changed,inputProps:Y}),[n.key,n.index,n.item.level,n.item.value,n.item.__unstable_computeDiff,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.parentSchemaType,n.open,j,S,C,V,H,M,P,D,T,K,Y]);return(0,_.jsx)(L7,{onFieldGroupSelect:y,onChange:O,onPathOpen:h,onSetFieldSetCollapsed:g,onSetPathCollapsed:m,onPathBlur:d,onPathFocus:p,children:(0,E.useMemo)(()=>s(G),[G,s])})}let UO=(0,F.styled)(I.Card)(C3(),e=>{let{theme:t}=e;return t.sanity.container[1]});function UP(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P=(0,j.c)(60);if(P[0]!==e){let{value:i,onFocus:a,vertical:o,...l}=e;r=i,t=a,n=l,P[0]=e,P[1]=t,P[2]=n,P[3]=r}else t=P[1],n=P[2],r=P[3];let[M,F]=(0,E.useState)(!1),N=(0,E.useRef)(null),{t:L}=IO();P[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>F(!1),a=()=>[N.current],P[4]=i,P[5]=a):(i=P[4],a=P[5]),(0,I.useClickOutsideEvent)(i,a),P[6]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{("Escape"===e.key||"Tab"===e.key)&&F(!1)},P[6]=o):o=P[6];let z=o;P[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{F(UM)},P[7]=l):l=P[7];let V=l;P[8]!==r?(s=(0,nw.resolveTypeName)(r),P[8]=r,P[9]=s):s=P[9];let U=s;return P[10]!==U?(c={typeName:U},P[10]=U,P[11]=c):c=P[11],P[12]!==L||P[13]!==c?(u=(0,_.jsx)(I.Text,{weight:"medium",children:(0,_.jsx)(IZ,{t:L,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:c})}),P[12]=L,P[13]=c,P[14]=u):u=P[14],P[15]!==L?(d=L("inputs.array.error.type-is-incompatible-title"),P[15]=L,P[16]=d):d=P[16],P[17]!==d?(p=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:d}),P[17]=d,P[18]=p):p=P[18],P[19]!==U?(f={typeName:U},P[19]=U,P[20]=f):f=P[20],P[21]!==L||P[22]!==f?(h=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:L,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:f})}),P[21]=L,P[22]=f,P[23]=h):h=P[23],P[24]===Symbol.for("react.memo_cache_sentinel")?(m=(0,_.jsx)(R.BulbOutlineIcon,{}),P[24]=m):m=P[24],P[25]!==L?(g=L("inputs.array.error.can-delete-but-no-edit-description"),P[25]=L,P[26]=g):g=P[26],P[27]!==g?(y=(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:[m," ",g]})}),P[27]=g,P[28]=y):y=P[28],P[29]!==L?(v=L("inputs.array.error.json-representation-description"),P[29]=L,P[30]=v):v=P[30],P[31]!==v?(b=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:v}),P[31]=v,P[32]=b):b=P[32],P[33]!==r?(x=JSON.stringify(r,null,2),P[33]=r,P[34]=x):x=P[34],P[35]!==x?(C=(0,_.jsx)(I.Card,{padding:2,overflow:"auto",border:!0,children:(0,_.jsx)(I.Code,{size:1,as:"pre",language:"json",children:x})}),P[35]=x,P[36]=C):C=P[36],P[37]!==b||P[38]!==C?(k=(0,_.jsxs)(I.Stack,{space:2,children:[b,C]}),P[37]=b,P[38]=C,P[39]=k):k=P[39],P[40]!==h||P[41]!==y||P[42]!==k||P[43]!==u||P[44]!==p?(w=(0,_.jsx)(UO,{margin:1,padding:3,onKeyDown:z,tabIndex:0,overflow:"auto",children:(0,_.jsxs)(I.Stack,{space:4,children:[u,p,h,y,k]})}),P[40]=h,P[41]=y,P[42]=k,P[43]=u,P[44]=p,P[45]=w):w=P[45],P[46]===Symbol.for("react.memo_cache_sentinel")?(S=(0,_.jsx)(I.Box,{marginRight:3,children:(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.UnknownIcon,{})})}),P[46]=S):S=P[46],P[47]!==U?(T={typeName:U},P[47]=U,P[48]=T):T=P[48],P[49]!==L||P[50]!==T?(D=(0,_.jsxs)(I.Flex,{align:"center",children:[S,(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",children:(0,_.jsx)(IZ,{t:L,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:T})})})]}),P[49]=L,P[50]=T,P[51]=D):D=P[51],P[52]!==t||P[53]!==n||P[54]!==D?(A=(0,_.jsx)(I.Card,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:t,onClick:V,onKeyDown:z,__unstable_focusRing:!0,...n,children:D}),P[52]=t,P[53]=n,P[54]=D,P[55]=A):A=P[55],P[56]!==M||P[57]!==w||P[58]!==A?(O=(0,_.jsx)(B.Popover,{open:M,ref:N,onKeyDown:z,portal:!0,constrainSize:!0,tone:"default",content:w,children:A}),P[56]=M,P[57]=w,P[58]=A,P[59]=O):O=P[59],O}function UM(e){return!e}function UF(e){let t,n,r=(0,j.c)(7),{member:i}=e,{t:a}=IO();if("INVALID_ITEM_TYPE"===i.error.type){let e;return r[0]!==i.error.value?(e=(0,_.jsx)(UP,{value:i.error.value}),r[0]=i.error.value,r[1]=e):e=r[1],e}return r[2]!==i.error.type||r[3]!==a?(t=a("inputs.array.error.unexpected-error",{error:i.error.type}),r[2]=i.error.type,r[3]=a,r[4]=t):t=r[4],r[5]!==t?(n=(0,_.jsx)("div",{children:t}),r[5]=t,r[6]=n):n=r[6],n}function UR(e){switch(e.jsonType){case"string":return"";case"number":return -0;case"boolean":return!1;default:throw Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function UB(e,t,n){return(0,W.isNumberSchemaType)(e)&&"string"==typeof n&&Number(n)===t?n:String(null!=t?t:"")}function UN(e){let t=(0,E.useRef)(void 0),{member:n,renderItem:r,renderInput:i}=e,[a,o]=(0,E.useState)(),{onPathBlur:l,onPathFocus:s,onChange:c}=L3(),u=U_(),{onCopy:d}=eS7();zm(n.item.focused,(e,n)=>{var r;!e&&n&&(null==(r=t.current)||r.focus())});let p=(0,E.useCallback)(e=>{l(n.item.path)},[n.item.path,l]),f=(0,E.useCallback)(e=>{s(n.item.path)},[n.item.path,s]),h=(0,E.useCallback)(e=>{c(zU.from(e).prefixAll(n.index))},[c,n.index]),m=(0,E.useCallback)(e=>{let t=e.currentTarget.value;if((0,W.isNumberSchemaType)(n.item.schemaType)){if((t=e.currentTarget.valueAsNumber)>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)return}else(0,W.isBooleanSchemaType)(n.item.schemaType)&&(t=e.currentTarget.checked);let r=""===t||"number"==typeof t&&isNaN(t);(0,W.isNumberSchemaType)(n.item.schemaType)&&o(r?void 0:e.currentTarget.value),h(LB(r?UR(n.item.schemaType):t))},[h,n.item.schemaType]),g=(0,E.useMemo)(()=>{var e,r,i;return{onBlur:p,onFocus:f,id:n.item.id,ref:t,onChange:m,value:(e=n.item.schemaType,r=n.item.value,i=a,Object.is(r,-0)?"":UB(e,r,i)),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":UD(n.item.id,n.item.schemaType.description)}},[p,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,a]),y=(0,E.useMemo)(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,__unstable_computeDiff:n.item.__unstable_computeDiff,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:h,validation:n.item.validation,presence:n.item.presence,elementProps:g}),[n.item.changed,n.item.__unstable_computeDiff,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,h,g]),v=(0,E.useMemo)(()=>i(y),[y,i]),b=(0,E.useCallback)(()=>{c(zU.from([LN([n.index])]))},[n.index,c]),x=(0,E.useCallback)(e=>{c(zU.from([LR(e.items,e.position,[n.index])]))},[n.index,c]),C=(0,E.useCallback)(e=>{let t=u([]);d(n.item.path,t,{context:{source:"arrayItem"},patchType:"append"})},[u,n.item.path,d]),k=(0,E.useMemo)(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,changed:n.item.changed,__unstable_computeDiff:n.item.__unstable_computeDiff,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:x,onCopy:C,onRemove:b,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:p,inputId:n.item.id,path:n.item.path,children:v}),[n.key,n.index,n.item.level,n.item.value,n.item.changed,n.item.__unstable_computeDiff,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,x,C,b,f,p,v]);return(0,_.jsx)(_.Fragment,{children:(0,E.useMemo)(()=>r(k),[k,r])})}function UL(e){if(!(0,W.isObjectSchemaType)(e))throw Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...Uj(e),_key:(0,nw.randomKey)(12)}}let Uz="before",UV="after";function UU(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e.concat(t),[])}let UH=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Uq={replace:(e,t)=>t,set:(e,t)=>t,setIfMissing:(e,t)=>void 0===e?t:e,unset(e,t){},inc:(e,t)=>e+t,dec:(e,t)=>e-t},UW=Object.keys(Uq),UY={replace:(e,t)=>t,set:(e,t)=>t,setIfMissing:(e,t)=>void 0===e?t:e,unset(e,t){},diffMatchPatch(e,t){let[n]=u4(dd(t),e,{allowExceedingIndices:!0});return n}},UK=Object.keys(UY);function UG(e,t){return t.reduce(function e(t,n){return Array.isArray(t)?function(t,n){let r=t.slice();if(0===n.path.length){if("setIfMissing"===n.type){if(!Array.isArray(n.value))throw Error("Cannot set value of an array to a non-array");return void 0===t?n.value:t}if("set"===n.type){if(!Array.isArray(n.value))throw Error("Cannot set value of an array to a non-array");return n.value}if("unset"===n.type)return;if("move"===n.type){if(!n.value||!UH(n.value,"from")||!UH(n.value,"to"))throw Error('Invalid value of \'move\' patch. Expected a value with "from" and "to" indexes, instead got: '.concat(JSON.stringify(n.value)));return function(e,t,n){let r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(r,n.value.from,n.value.to)}throw Error("Invalid array operation: ".concat(n.type))}let[i,...a]=n.path,o=function(e,t){if("number"==typeof t)return t;let n=(0,ub.default)(e,t);return -1!==n&&n}(t,i);if(!1===o)return r;if(0===a.length){if("insert"===n.type){let{position:e,items:r}=n;return function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];if(t!==Uz&&t!==UV)throw Error('Invalid position "'.concat(t,'", must be either ').concat(Uz," or ").concat(UV));let o=UU(...i);if(0===e.length)return o;let l=e.length,s=Math.abs((l+n)%l)%l,c=e.slice();return c.splice("after"===t?s+1:s,0,...UU(o)),c}(t,e,o,r)}else if("unset"===n.type){if("number"!=typeof o)throw Error('Expected array index to be a number, instead got "'.concat(o,'"'));return r.splice(o,1),r}}return r[o]=e(r[o],{...n,path:a}),r}(t,n):(0,ni.default)(t)?function(e,t){if(!UK.includes(t.type))throw Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return UY[t.type](e,t.value)}(t,n):(0,b_.default)(t)?function(t,n){let r=(0,ux.default)(t);if(0===n.path.length){if("set"===n.type){if(!(0,b_.default)(n.value))throw Error("Cannot set value of an object to a non-object");return n.value}if("unset"===n.type)return;if("setIfMissing"===n.type)return void 0===t?n.value:t;throw Error("Invalid object operation: ".concat(n.type))}let[i,...a]=n.path;if("string"!=typeof i)throw Error("Expected field name to be a string, instad got: ".concat(i));return 0===a.length&&"unset"===n.type?(0,uv.default)(r,i):(r[i]=e(r[i],{...n,path:a}),r)}(t,n):function(e,t){if(!UW.includes(t.type))throw Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(e=>JSON.stringify(e)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return Uq[t.type](e,t.value)}(t,n)},e)}function U$(e){let t,n,r=(0,j.c)(5),i=e.actions||Ie;r[0]!==i?(t={actions:i},r[0]=i,r[1]=t):t=r[1];let a=t;return r[2]!==e.children||r[3]!==a?(n=(0,_.jsx)(D.DocumentFieldActionsContext.Provider,{value:a,children:e.children}),r[2]=e.children,r[3]=a,r[4]=n):n=r[4],n}function UZ(){let e=(0,E.useContext)(D.DocumentFieldActionsContext);if(!e)throw Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function UX(e,t){if(!e||!t)return!0;let n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(e=>{let t=e.trim().toLowerCase();return"."===t.charAt(0)?!r||r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t})}function UJ(e,t){let n=e.indexOf(t);return n>-1&&e.splice(n,1),e}let UQ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=[],r=new ea.Subject;return function i(a){return new er.Observable(o=>{if(t.length>=e){var l;return(l=a,n.push(l),r.asObservable().pipe((0,e0.first)(e=>e===l))).pipe((0,eC.mergeMap)(i)).subscribe(o)}let s=a.subscribe(o);return t.push(s),()=>{UJ(t,s),UJ(n,a),s.unsubscribe(),function(){for(;n.length>0&&t.length<e;)r.next(n.shift())}()}})}}(t);return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,en.from)(n(e(...r)))}}(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.metadata,a=r.storeOriginalFilename,{label:o,title:l,description:s,creditLine:c,source:u}=r;return(function(e){return window.crypto&&window.crypto.subtle&&window.FileReader?new er.Observable(t=>{let n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=e=>{t.error(e)},n.readAsArrayBuffer(e),()=>{n.abort()}}).pipe((0,eC.mergeMap)(e=>crypto.subtle.digest("SHA-1",e)),(0,Z.map)(U2)):(0,Y.of)(null)})(n).pipe((0,J.catchError)(()=>(0,Y.of)(null)),(0,eC.mergeMap)(n=>{var r,i,a;return n?(r=e,i="sanity.".concat(t,"Asset"),a=n,r.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:i,hash:a},{tag:"asset.find-duplicate"})):(0,Y.of)(null)}),(0,eC.mergeMap)(r=>r?(0,Y.of)({type:"complete",id:r._id,asset:r}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:i,preserveFilename:a,label:o,title:l,description:s,creditLine:c,source:u}).pipe((0,Z.map)(e=>"response"===e.type?{type:"complete",id:e.body.document._id,asset:e.body.document}:e))))},4);function U1(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function U2(e){return Array.prototype.map.call(new Uint8Array(e),e=>"00".concat(e.toString(16)).slice(-2)).join("")}let U0="_upload";function U5(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"uploadProgress",patches:e}}let U7=U5([LN([U0])]);function U3(e){let t=new Date().toISOString();return[LB({progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}},[U0])]}function U8(e,t,n){let r=UQ(e,"file",t,n).pipe((0,Z.map)(e=>"complete"===e.type?U5([LB({_type:"reference",_ref:e.asset._id},["asset"]),LB(100,[U0,"progress"]),LB(new Date().toISOString(),[U0,"updated"])]):U5([LB(e.percent,[U0,"progress"]),LB(new Date().toISOString(),[U0,"updated"])])));return(0,K.concat)((0,Y.of)(U5(U3(t))),r,(0,Y.of)(U7))}function U4(e){return[5,6,7,8].indexOf(e)>-1}function U6(e,t,n){let r=e.getContext("2d");null==r||r.translate(t?e.width:0,n?e.height:0),null==r||r.scale(t?-1:1,n?-1:1)}let U9=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],He=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Ht=/(invalid image format)|(No exif data)/i,Hn=[{type:"image",accepts:"image/*",upload:(e,t,n,r)=>(function(e,t,n){let r=UQ(e,"image",t,n).pipe((0,ew.filter)(e=>"download"!==e.stage),(0,Z.map)(e=>({...e,progress:2+e.percent/100*98})),(0,Z.map)(e=>"complete"===e.type?U5([LB({_type:"reference",_ref:e.asset._id},["asset"]),LB(100,[U0,"progress"]),LB(new Date().toISOString(),[U0,"updatedAt"])]):U5([LB(e.percent,[U0,"progress"]),LB(new Date().toISOString(),[U0,"updatedAt"])]))),i=(0,en.from)(new er.Observable(e=>{let n=new window.FileReader;return n.onerror=t=>e.error(t),n.onload=()=>{e.next(n.result),e.complete()},n.readAsArrayBuffer(t.slice(0,128e3)),()=>n.abort()})).pipe((0,Z.map)(e=>(0,bT.default)(e)),(0,J.catchError)(e=>(Ht.test(e.message)||console.warn("Exif read failed, continuing anyway: ".concat(e.message)),(0,Y.of)({})))).pipe((0,eC.mergeMap)(e=>{var n,r;return n=e.orientation||"top-left",(r=window.URL.createObjectURL(t),new er.Observable(e=>{let t=new window.Image;return t.onerror=()=>{e.error(Error('Could not load image from url "'.concat(r,'". Image may be of an unsupported format')))},t.onload=()=>{e.next(t),e.complete()},t.src=r,()=>{}})).pipe((0,eC.mergeMap)(e=>new er.Observable(t=>{let r=function(e,t){let n=U9[t-1],r=e.height/e.width;e.width=120/r,e.height=e.width*r;let i=document.createElement("canvas"),a=i.getContext("2d");if(U4(t)?(i.height=e.width,i.width=e.height):(i.width=e.width,i.height=e.height),"flip-x"===n.op&&U6(i,!0,!1),"flip-y"===n.op&&U6(i,!1,!0),n.degrees&&(function(e,t){let n=t.x,r=t.y,i=(t.degrees||0)*(Math.PI/180);null==e||e.translate(n,r),null==e||e.rotate(i),null==e||e.translate(-n,-r)}(a,{degrees:n.degrees,x:i.width/2,y:i.height/2}),U4(t))){let e=i.width-i.height;null==a||a.translate(e/2,-e/2)}return null==a||a.drawImage(e,0,0,e.width,e.height),i}(e,He.indexOf(n)+1);t.next(r.toDataURL("image/jpeg",.1)),t.complete()})))}),(0,J.catchError)(e=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,e.message),(0,Y.of)(null))),(0,ew.filter)(Boolean),(0,Z.map)(e=>U5([LB(e,[U0,"previewImage"])])));return(0,K.concat)((0,Y.of)(U5(U3(t))),(0,ei.merge)(r,i),(0,Y.of)(U7))})(e,t,r)},{type:"string",accepts:"text/*",upload:(e,t,n,r)=>U8(e,t,r).pipe((0,Z.map)(e=>({type:"uploadProgress",patches:[LB(e)]})))},{type:"file",accepts:"",upload:(e,t,n,r)=>U8(e,t,r)}].map((e,t)=>({...e,priority:t}));function Hr(e,t){return Hn.find(n=>{var r;return zO(n.type,e)&&UX(t,n.accepts)&&UX(t,(null==(r=e.options)?void 0:r.accept)||"")})||null}function Hi(e){let{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:i,onSetFieldSetCollapsed:a,onPathOpen:o,onFieldGroupSelect:l}=L3(),{member:s,renderAnnotation:c,renderBlock:u,renderField:d,renderInlineBlock:p,renderInput:f,renderItem:h,renderPreview:m}=e,g=UZ(),y=(0,E.useRef)(void 0),v=(0,E.useRef)({});zm(s.field.focused,(e,t)=>{var n;!e&&t&&(null==(n=y.current)||n.focus())});let b=(0,E.useCallback)(e=>{e.currentTarget===e.target&&e.currentTarget===y.current&&n(s.field.path)},[s.field.path,n]),x=(0,E.useCallback)(e=>{e.currentTarget===e.target&&e.currentTarget===y.current&&t(s.field.path)},[s.field.path,t]),C=(0,E.useRef)(s.field.value);(0,E.useEffect)(()=>{C.current=s.field.value},[s.field.value]);let k=(0,E.useCallback)(e=>{let t=zU.from(e).patches;if(t.some(e=>"unset"===e.type&&1===e.path.length)&&(C.current=UG(C.current||[],t),Array.isArray(C.current)&&!C.current.length))return void r(zU.from(LN([s.name])));r(zU.from(e).prepend(LF([])).prefixAll(s.name))},[r,s.name,C]),w=Ms(),j=(0,A.useToast)(),S=(0,E.useCallback)(()=>{i(s.field.path,!0)},[i,s.field.path]),T=(0,E.useCallback)(()=>{i(s.field.path,!1)},[i,s.field.path]),D=(0,E.useCallback)(e=>{i(s.field.path.concat({_key:e}),!0)},[i,s.field.path]),I=(0,E.useCallback)(e=>{i(s.field.path.concat({_key:e}),!1)},[i,s.field.path]),O=(0,E.useCallback)(e=>{o(e),i(e,!1)},[o,i]),P=(0,E.useCallback)(()=>{o(s.field.path),i(s.field.path,!0)},[o,s.field.path,i]),M=(0,E.useCallback)(e=>{if(0===e.items.length)throw Error("Insert event should include at least one item");let t=e.items.map(e=>UT(e));k(zU.from([LR(t,e.position,[e.referenceItem])]));let r=t[0]._key,i=[...s.field.path,{_key:r}];n(i);let a=!1!==e.open;e.skipInitialValue?a&&O(i):UI(t,s.field.schemaType,w).pipe((0,eh.tap)(e=>{"patch"===e.type?k(e.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(e.schemaType.title,": ").concat(e.error.message,"."),status:"error"})})).subscribe({complete:()=>{a&&O(i)}})},[k,O,s.field.path,s.field.schemaType,n,w,j]),F=(0,E.useCallback)(e=>{let t=s.field.value,n=null==t?void 0:t[e.fromIndex],r=null==t?void 0:t[e.toIndex];if(e.fromIndex!==e.toIndex){if(!(null==n?void 0:n._key)||!(null==r?void 0:r._key))return void console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");k([LN([{_key:n._key}]),LR([n],e.fromIndex>e.toIndex?"before":"after",[{_key:r._key}])])}},[k,s.field.value]),R=(0,E.useCallback)(e=>{M({items:[e],position:"before",referenceItem:0})},[M]),B=(0,E.useCallback)(e=>{M({items:[e],position:"after",referenceItem:-1})},[M]),N=(0,E.useCallback)(e=>{v.current[e]&&(v.current[e].unsubscribe(),delete v.current[e]),k([LN([{_key:e}])])},[k]),L=(0,E.useCallback)((e,t)=>{n(s.field.path.concat(e),t)},[s.field.path,n]),z=(0,E.useMemo)(()=>({onBlur:x,onFocus:b,id:s.field.id,ref:y,"aria-describedby":UD(s.field.id,s.field.schemaType.description)}),[x,b,s.field.id,s.field.schemaType.description]),V=eTt(AE),U=Lw(),H=U.__internal.image.directUploads,q=U.__internal.file.directUploads,W=(0,E.useCallback)((e,t)=>zO("image",e)&&!H||zO("file",e)&&!q?null:Hr(e,t),[q,H]),Y=(0,E.useCallback)(e=>{let{file:t,schemaType:n,uploader:r}=e,i=UL(n),a=i._key;M({items:[i],position:"after",referenceItem:-1,open:!1});let o={metadata:(0,n_.default)(n,"options.metadata"),storeOriginalFilename:(0,n_.default)(n,"options.storeOriginalFilename")},l=r.upload(V,t,n,o).pipe((0,Z.map)(e=>zU.from(e.patches||[]).prefixAll({_key:a})),(0,eh.tap)(e=>k(e.patches)));v.current={...v.current,[a]:l.subscribe()}},[V,k,M]),K=(0,E.useMemo)(()=>({level:s.field.level,members:s.field.members,value:s.field.value,readOnly:s.field.readOnly,schemaType:s.field.schemaType,changed:s.field.changed,__unstable_computeDiff:s.field.__unstable_computeDiff,id:s.field.id,onItemExpand:I,onItemCollapse:D,onItemClose:P,onItemOpen:O,focusPath:s.field.focusPath,focused:s.field.focused,path:s.field.path,onChange:k,onInsert:M,onItemMove:F,onItemRemove:N,onItemAppend:B,onItemPrepend:R,onPathFocus:L,resolveInitialValue:w,onUpload:Y,resolveUploader:W,validation:s.field.validation,presence:s.field.presence,renderAnnotation:c,renderBlock:u,renderInlineBlock:p,renderInput:f,renderField:d,renderItem:h,renderPreview:m,elementProps:z}),[s.field.level,s.field.members,s.field.value,s.field.readOnly,s.field.schemaType,s.field.changed,s.field.__unstable_computeDiff,s.field.id,s.field.focusPath,s.field.focused,s.field.path,s.field.validation,s.field.presence,I,D,P,O,k,M,F,N,B,R,L,w,Y,W,c,u,p,f,d,h,m,z]),G=(0,E.useMemo)(()=>f(K),[K,f]),$=(0,E.useMemo)(()=>({actions:g,name:s.name,index:s.index,level:s.field.level,value:s.field.value,title:s.field.schemaType.title,description:s.field.schemaType.description,collapsible:s.collapsible,collapsed:s.collapsed,changed:s.field.changed,onCollapse:S,onExpand:T,schemaType:s.field.schemaType,inputId:s.field.id,path:s.field.path,presence:s.field.presence,validation:s.field.validation,children:G,inputProps:K}),[g,s.name,s.index,s.field.level,s.field.value,s.field.schemaType,s.field.changed,s.field.id,s.field.path,s.field.presence,s.field.validation,s.collapsible,s.collapsed,S,T,G,K]);return(0,_.jsx)(L7,{onFieldGroupSelect:l,onChange:k,onSetFieldSetCollapsed:a,onSetPathCollapsed:i,onPathOpen:o,onPathBlur:t,onPathFocus:n,children:(0,E.useMemo)(()=>d($),[$,d])})}function Ha(e){let{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:a,onSetFieldSetCollapsed:o,onFieldGroupSelect:l}=L3(),{member:s,renderAnnotation:c,renderBlock:u,renderField:d,renderInlineBlock:p,renderInput:f,renderItem:h,renderPreview:m}=e,g=UZ(),y=(0,E.useRef)(void 0),v=(0,E.useRef)(void 0),b=eTt(AE);zm(s.field.focused,(e,t)=>{var n;!e&&t&&(null==(n=y.current)||n.focus())});let x=(0,E.useCallback)(e=>{e.currentTarget===e.target&&e.currentTarget===y.current&&n(s.field.path)},[s.field.path,n]),C=(0,E.useCallback)(e=>{e.currentTarget===e.target&&e.currentTarget===y.current&&t(s.field.path)},[s.field.path,t]),k=(0,E.useCallback)(e=>{let t=zU.from(e).patches;if(t.some(e=>"unset"===e.type&&1===e.path.length)){let e=UG(s.field.value||[],t);if(Array.isArray(e)&&!e.length)return void r(zU.from(LN([s.name])))}r(zU.from(e).prepend(LF([])).prefixAll(s.name))},[r,s.name,s.field.value]),w=(0,E.useCallback)(e=>{a(s.field.path,e)},[a,s.field.path]),j=(0,E.useCallback)(()=>{a(s.field.path,!0)},[a,s.field.path]),S=(0,E.useCallback)(()=>{a(s.field.path,!1)},[a,s.field.path]),T=(0,E.useCallback)(e=>{k(0===e.length?LN():LB(e))},[k]),D=(0,E.useCallback)(e=>{let{value:t=[]}=s.field;e.fromIndex!==e.toIndex&&T(function(e,t,n){let r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(t,e.fromIndex,e.toIndex))},[s.field,T]),I=(0,E.useCallback)(e=>{let{value:t=[]}=s.field;T(t.concat(e))},[s.field,T]),A=(0,E.useCallback)(e=>{let{value:t=[]}=s.field;T([e].concat(t||[]))},[s.field,T]),O=(0,E.useCallback)(e=>{let{value:t=[]}=s.field;T(function(e,t,n){let r=t.slice();return r.splice(e+1,0,...n),r}(e.referenceIndex+("before"===e.position?-1:0),t,e.items))},[s.field,T]),P=(0,E.useCallback)(e=>{k(LN([e]))},[k]),M=(0,E.useCallback)(e=>{n(s.field.path.concat([e]))},[s.field.path,n]),F=(0,E.useMemo)(()=>({onBlur:C,onFocus:x,id:s.field.id,ref:y,"aria-describedby":UD(s.field.id,s.field.schemaType.description)}),[C,x,s.field.id,s.field.schemaType.description]),R=(0,E.useMemo)(()=>{var e;return e=s.field.schemaType.of,{priority:0,accepts:"text/*",type:"string",upload:(t,n)=>new er.Observable(e=>{let t=new FileReader;return t.onerror=t=>e.error(t),t.onload=()=>{e.next(t.result),e.complete()},t.readAsText(n,"utf-8"),()=>{t.abort()}}).pipe((0,Z.map)(t=>null==t?void 0:t.split(/[\n\r]/).map(t=>{let n,r,i;return n=!1,r=!1,i=!1,e.forEach(e=>{(0,W.isBooleanSchemaType)(e)&&(n=!0),(0,W.isStringSchemaType)(e)&&(i=!0),(0,W.isNumberSchemaType)(e)&&(r=!0)}),n&&("true"===t||"false"===t)?"true"===t:r&&/^\d+$/.test(t)?Number(t):i?t:void 0}).filter(e=>void 0!==e)),(0,ew.filter)(e=>Array.isArray(e)),(0,Z.map)(e=>({type:"uploadProgress",patches:[LR(e,"after",[-1])]})))}},[s.field.schemaType.of]),B=(0,E.useCallback)((e,t)=>UX(t,"text/*")?R:null,[R]),N=(0,E.useCallback)(e=>{let{file:t,schemaType:n,uploader:r}=e,i=r.upload(b,t,n).pipe((0,Z.map)(e=>zU.from(e.patches||[])),(0,eh.tap)(e=>k(e.patches)));v.current&&v.current.unsubscribe(),v.current=i.subscribe()},[b,k]),L=(0,E.useMemo)(()=>({level:s.field.level,members:s.field.members,value:s.field.value,readOnly:s.field.readOnly,onSetCollapsed:w,schemaType:s.field.schemaType,changed:s.field.changed,__unstable_computeDiff:s.field.__unstable_computeDiff,id:s.field.id,elementProps:F,path:s.field.path,focusPath:s.field.focusPath,focused:s.field.focused,onChange:k,onInsert:O,onMoveItem:D,onItemRemove:P,onItemAppend:I,onItemPrepend:A,validation:s.field.validation,presence:s.field.presence,resolveUploader:B,onUpload:N,renderAnnotation:c,renderBlock:u,renderInlineBlock:p,renderInput:f,renderItem:h,onIndexFocus:M,renderPreview:m}),[s.field.level,s.field.members,s.field.value,s.field.readOnly,s.field.schemaType,s.field.changed,s.field.__unstable_computeDiff,s.field.id,s.field.path,s.field.focusPath,s.field.focused,s.field.validation,s.field.presence,w,F,k,O,D,P,I,A,B,N,c,u,p,f,h,M,m]),z=(0,E.useMemo)(()=>f(L),[L,f]),V=(0,E.useMemo)(()=>({actions:g,name:s.name,index:s.index,level:s.field.level,value:s.field.value,title:s.field.schemaType.title,description:s.field.schemaType.description,collapsible:s.collapsible,collapsed:s.collapsed,onExpand:S,changed:s.field.changed,onCollapse:j,schemaType:s.field.schemaType,inputId:s.field.id,path:s.field.path,presence:s.field.presence,validation:s.field.validation,children:z,inputProps:L}),[g,s.name,s.index,s.field.level,s.field.value,s.field.schemaType,s.field.changed,s.field.id,s.field.path,s.field.presence,s.field.validation,s.collapsible,s.collapsed,S,j,z,L]);return(0,_.jsx)(L7,{onFieldGroupSelect:l,onChange:k,onPathOpen:i,onSetFieldSetCollapsed:o,onSetPathCollapsed:a,onPathBlur:t,onPathFocus:n,children:(0,E.useMemo)(()=>d(V),[V,d])})}let Ho=function(e){let{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:a,onSetFieldSetCollapsed:o,onFieldGroupSelect:l}=L3(),{member:s,renderAnnotation:c,renderBlock:u,renderField:d,renderInlineBlock:p,renderInput:f,renderItem:h,renderPreview:m}=e,g=UZ(),y=(0,E.useRef)(void 0),v=(0,E.useRef)(s.field.value);(0,E.useEffect)(()=>{v.current=s.field.value},[s.field.value]),zm(s.field.focused,(e,t)=>{var n;!e&&t&&(null==(n=y.current)||n.focus())});let b=(0,E.useCallback)(()=>{t(s.field.path)},[s.field.path,t]),x=(0,E.useCallback)(()=>{n(s.field.path)},[s.field.path,n]),C=(0,E.useCallback)(e=>{n(s.field.path.concat(e))},[s.field.path,n]),k=(0,E.useCallback)(e=>{if(0!==s.field.path.length){let t=zU.from(e).patches;if(v.current=UG(v.current||{},t),v.current&&(0,nw.isShallowEmptyObject)(v.current))return void r(zU.from(LN([s.name])))}r(zU.from(e).prepend(LF(Uj(s.field.schemaType))).prefixAll(s.name))},[r,s,v]),w=(0,E.useCallback)(()=>{a(s.field.path,!0)},[a,s.field.path]),j=(0,E.useCallback)(()=>{a(s.field.path,!1)},[a,s.field.path]),S=(0,E.useCallback)(e=>{a(s.field.path.concat(e),!0)},[a,s.field.path]),T=(0,E.useCallback)(e=>{a(s.field.path.concat(e),!1)},[a,s.field.path]),D=(0,E.useCallback)(e=>{i(s.field.path.concat(e))},[i,s.field.path]),I=(0,E.useCallback)(()=>{i(s.field.path)},[i,s.field.path]),A=(0,E.useCallback)(e=>{o(s.field.path.concat(e),!1)},[o,s.field.path]),O=(0,E.useCallback)(e=>{o(s.field.path.concat(e),!0)},[o,s.field.path]),P=(0,E.useCallback)(()=>{i(s.field.path)},[i,s.field.path]),M=(0,E.useCallback)(()=>{i(s.field.path.slice(0,-1))},[i,s.field.path]),F=(0,E.useCallback)(e=>{l(s.field.path,e)},[l,s.field.path]),R=(0,E.useMemo)(()=>({onBlur:b,onFocus:x,id:s.field.id,ref:y,"aria-describedby":UD(s.field.id,s.field.schemaType.description)}),[b,x,s.field.id,s.field.schemaType.description]),B=(0,E.useMemo)(()=>({elementProps:R,level:s.field.level,members:s.field.members,value:s.field.value,readOnly:s.field.readOnly,validation:s.field.validation,presence:s.field.presence,schemaType:s.field.schemaType,changed:s.field.changed,__unstable_computeDiff:s.field.__unstable_computeDiff,id:s.field.id,onFieldGroupSelect:F,onFieldOpen:D,onFieldClose:I,onFieldCollapse:S,onFieldExpand:T,onFieldSetExpand:A,onFieldSetCollapse:O,onPathFocus:C,path:s.field.path,focusPath:s.field.focusPath,focused:s.field.focused,groups:s.field.groups,onChange:k,renderAnnotation:c,renderBlock:u,renderField:d,renderInlineBlock:p,renderInput:f,renderItem:h,renderPreview:m}),[R,s.field.level,s.field.members,s.field.value,s.field.readOnly,s.field.validation,s.field.presence,s.field.schemaType,s.field.changed,s.field.__unstable_computeDiff,s.field.id,s.field.path,s.field.focusPath,s.field.focused,s.field.groups,F,D,I,S,T,A,O,C,k,c,u,d,p,f,h,m]),N=(0,E.useMemo)(()=>f(B),[B,f]),L=(0,E.useMemo)(()=>({actions:g,name:s.name,index:s.index,level:s.field.level,value:s.field.value,validation:s.field.validation,presence:s.field.presence,title:s.field.schemaType.title,description:s.field.schemaType.description,collapsible:s.collapsible,collapsed:s.collapsed,onCollapse:w,onExpand:j,open:s.open,changed:s.field.changed,onOpen:P,onClose:M,schemaType:s.field.schemaType,inputId:s.field.id,path:s.field.path,children:N,inputProps:B}),[g,s.name,s.index,s.field.level,s.field.value,s.field.validation,s.field.presence,s.field.schemaType,s.field.changed,s.field.id,s.field.path,s.collapsible,s.collapsed,s.open,w,j,P,M,N,B]);return(0,_.jsx)(L7,{onFieldGroupSelect:l,onChange:k,onSetFieldSetCollapsed:o,onPathOpen:i,onSetPathCollapsed:a,onPathBlur:t,onPathFocus:n,children:(0,E.useMemo)(()=>d(L),[L,d])})};function Hl(e){let{member:t,renderInput:n,renderField:r}=e,i=UZ(),a=(0,E.useRef)(void 0),[o,l]=(0,E.useState)(),{onPathBlur:s,onPathFocus:c,onChange:u}=L3();(0,E.useEffect)(()=>{var e;t.field.focused&&(null==(e=a.current)||e.focus())},[t.field.focused]);let d=(0,E.useCallback)(()=>{s(t.field.path)},[t.field.path,s]),p=(0,E.useCallback)(()=>{c(t.field.path)},[t.field.path,c]),f=(0,E.useCallback)(e=>{u(zU.from(e).prefixAll(t.name))},[u,t.name]),h=(0,E.useCallback)(e=>{let n=e.currentTarget.value;if((0,W.isNumberSchemaType)(t.field.schemaType)){if((n=e.currentTarget.valueAsNumber)>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)return}else(0,W.isBooleanSchemaType)(t.field.schemaType)&&(n=e.currentTarget.checked);let r=""===n||"number"==typeof n&&isNaN(n);(0,W.isNumberSchemaType)(t.field.schemaType)&&l(r?void 0:e.currentTarget.value),u(zU.from(r?LN():LB(n)).prefixAll(t.name))},[t.name,t.field.schemaType,u]),m=(0,E.useMemo)(()=>t.field.validation.filter(e=>"error"===e.level).map(e=>e.message).join("\n"),[t.field.validation])||void 0,g=(0,E.useMemo)(()=>({onBlur:d,onFocus:p,id:t.field.id,ref:a,onChange:h,value:UB(t.field.schemaType,t.field.value,o),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":UD(t.field.id,t.field.schemaType.description)}),[d,p,h,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,o]),y=(0,E.useMemo)(()=>({value:t.field.value,__unstable_computeDiff:t.field.__unstable_computeDiff,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:f,validation:t.field.validation,presence:t.field.presence,validationError:m,elementProps:g}),[t.field.value,t.field.__unstable_computeDiff,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,f,m,g]),v=(0,E.useMemo)(()=>n(y),[y,n]),b=(0,E.useMemo)(()=>({actions:i,changed:t.field.changed,children:v,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:y,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[i,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,v,y]);return(0,_.jsx)(_.Fragment,{children:r(b)})}let Hs=(0,E.memo)(function(e){let t,n=(0,j.c)(31),{member:r,renderAnnotation:i,renderBlock:a,renderField:o,renderInlineBlock:l,renderInput:s,renderItem:c,renderPreview:u}=e;if(LO(r)){let e;return n[0]!==r||n[1]!==i||n[2]!==a||n[3]!==o||n[4]!==l||n[5]!==s||n[6]!==c||n[7]!==u?(e=(0,_.jsx)(Ho,{member:r,renderAnnotation:i,renderBlock:a,renderField:o,renderInlineBlock:l,renderInput:s,renderItem:c,renderPreview:u}),n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=l,n[5]=s,n[6]=c,n[7]=u,n[8]=e):e=n[8],e}if((0,W.isArraySchemaType)(r.field.schemaType)&&r.field.schemaType.of.every(e=>(0,W.isPrimitiveSchemaType)(e))){let e;return n[9]!==r||n[10]!==i||n[11]!==a||n[12]!==o||n[13]!==l||n[14]!==s||n[15]!==u||n[16]!==c?(e=(0,_.jsx)(Ha,{member:r,renderAnnotation:i,renderBlock:a,renderField:o,renderInput:s,renderInlineBlock:l,renderItem:c,renderPreview:u}),n[9]=r,n[10]=i,n[11]=a,n[12]=o,n[13]=l,n[14]=s,n[15]=u,n[16]=c,n[17]=e):e=n[17],e}if(LP(r)){let e;return n[18]!==r||n[19]!==i||n[20]!==a||n[21]!==o||n[22]!==l||n[23]!==s||n[24]!==c||n[25]!==u?(e=(0,_.jsx)(Hi,{member:r,renderAnnotation:i,renderBlock:a,renderField:o,renderInlineBlock:l,renderInput:s,renderItem:c,renderPreview:u}),n[18]=r,n[19]=i,n[20]=a,n[21]=o,n[22]=l,n[23]=s,n[24]=c,n[25]=u,n[26]=e):e=n[26],e}return n[27]!==r||n[28]!==o||n[29]!==s?(t=(0,_.jsx)(Hl,{member:r,renderField:o,renderInput:s}),n[27]=r,n[28]=o,n[29]=s,n[30]=t):t=n[30],t}),Hc=["yes","true","1"],Hu=["false","no","false","0","null"],Hd=Hc.concat(Hu),Hp=()=>!0,Hf={string:{number:{test:Number,convert:Number},boolean:{test:e=>Hd.includes(e.toLowerCase()),convert:e=>Hc.includes(e.toLowerCase())||!Hu.includes(e.toLowerCase())},richDate:{test:e=>(0,tC.isValid)(e),convert:e=>({_type:"richDate",local:(function(e){let t=new Date(e.getTime()+60*e.getTimezoneOffset()*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t})(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}return null}(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:e=>"date"===(e&&e._type),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:e=>e&&e.utc,convert:e=>e.utc}},number:{string:{test:Hp,convert:String},boolean:{test:Hp,convert:Number}},boolean:{string:{test:Hp,convert:e=>e?"Yes":"No"},number:{test:Hp,convert:Number}}};function Hh(e){let t,n,r,i,a=(0,j.c)(13),{value:o,targetType:l,onChange:s}=e;a[0]!==l||a[1]!==o?(t={...o,_type:l},a[0]=l,a[1]=o,a[2]=t):t=a[2];let c=t;a[3]!==c||a[4]!==s||a[5]!==l?(n=()=>s(zU.from(LF(l,["_type"])),c),a[3]=c,a[4]=s,a[5]=l,a[6]=n):n=a[6];let u=n,{t:d}=IO();return a[7]!==d||a[8]!==l?(r=d("inputs.untyped-value.convert-button.text",{targetType:l}),a[7]=d,a[8]=l,a[9]=r):r=a[9],a[10]!==u||a[11]!==r?(i=(0,_.jsx)(B.Button,{onClick:u,text:r}),a[10]=u,a[11]=r,a[12]=i):i=a[12],i}function Hm(e){let t,n,r,i,a=(0,j.c)(11),{value:o,onChange:l,validTypes:s}=e;a[0]!==s[0]||a[1]!==o?(t={...o,_type:s[0]},a[0]=s[0],a[1]=o,a[2]=t):t=a[2];let c=t;a[3]!==c||a[4]!==l?(n=()=>l(zU.from(LN()),c),a[3]=c,a[4]=l,a[5]=n):n=a[5];let u=n,{t:d}=IO();return a[6]!==d?(r=d("inputs.untyped-value.unset-item-button.text"),a[6]=d,a[7]=r):r=a[7],a[8]!==u||a[9]!==r?(i=(0,_.jsx)(B.Button,{onClick:u,tone:"critical",text:r}),a[8]=u,a[9]=r,a[10]=i):i=a[10],i}function Hg(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x=(0,j.c)(56),{validTypes:C,value:k,onChange:w}=e,S=el3(),E=1===C.length;x[0]!==S||x[1]!==C[0]?(t=S.has(C[0]),x[0]=S,x[1]=C[0],x[2]=t):t=x[2];let T=t,{t:D}=IO();return x[3]!==D?(n=(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(IZ,{t:D,i18nKey:"inputs.untyped-value.title"})}),x[3]=D,x[4]=n):n=x[4],x[5]!==D?(r=D("inputs.untyped-value.details.title"),x[5]=D,x[6]=r):r=x[6],x[7]!==D?(i=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:D,i18nKey:"inputs.untyped-value.description"})}),x[7]=D,x[8]=i):i=x[8],x[9]!==T||x[10]!==E||x[11]!==D?(a=E&&!T&&(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:D,i18nKey:"inputs.untyped-value.details.description"})}),x[9]=T,x[10]=E,x[11]=D,x[12]=a):a=x[12],x[13]!==E||x[14]!==D?(o=!E&&(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:D("inputs.untyped-value.details.multi-type-description")}),x[13]=E,x[14]=D,x[15]=o):o=x[15],x[16]!==E||x[17]!==C?(l=!E&&(0,_.jsx)(I.Stack,{as:"ul",space:2,children:C.map(Hy)}),x[16]=E,x[17]=C,x[18]=l):l=x[18],x[19]!==D?(s=D("inputs.untyped-value.details.json-dump-prefix"),x[19]=D,x[20]=s):s=x[20],x[21]!==s?(c=(0,_.jsx)(I.Text,{as:"h4",weight:"medium",size:1,children:s}),x[21]=s,x[22]=c):c=x[22],x[23]!==k?(u=JSON.stringify(k,null,2),x[23]=k,x[24]=u):u=x[24],x[25]!==u?(d=(0,_.jsx)(I.Card,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:(0,_.jsx)(I.Code,{language:"json",children:u})}),x[25]=u,x[26]=d):d=x[26],x[27]!==d||x[28]!==c?(p=(0,_.jsxs)(I.Stack,{space:2,children:[c,d]}),x[27]=d,x[28]=c,x[29]=p):p=x[29],x[30]===Symbol.for("react.memo_cache_sentinel")?(f=[1,2,2],x[30]=f):f=x[30],x[31]!==E||x[32]!==w||x[33]!==C[0]||x[34]!==k?(h=E&&(0,_.jsx)(Hh,{onChange:w,targetType:C[0],value:k}),x[31]=E,x[32]=w,x[33]=C[0],x[34]=k,x[35]=h):h=x[35],x[36]!==w||x[37]!==C||x[38]!==k?(m=(0,_.jsx)(Hm,{onChange:w,validTypes:C,value:k}),x[36]=w,x[37]=C,x[38]=k,x[39]=m):m=x[39],x[40]!==h||x[41]!==m?(g=(0,_.jsxs)(I.Grid,{columns:f,gap:1,children:[h,m]}),x[40]=h,x[41]=m,x[42]=g):g=x[42],x[43]!==p||x[44]!==g||x[45]!==i||x[46]!==a||x[47]!==o||x[48]!==l?(y=(0,_.jsxs)(I.Stack,{space:3,children:[i,a,o,l,p,g]}),x[43]=p,x[44]=g,x[45]=i,x[46]=a,x[47]=o,x[48]=l,x[49]=y):y=x[49],x[50]!==y||x[51]!==r?(v=(0,_.jsx)(Vx,{open:IX,title:r,children:y}),x[50]=y,x[51]=r,x[52]=v):v=x[52],x[53]!==v||x[54]!==n?(b=(0,_.jsx)(zz,{status:"warning",title:n,children:v}),x[53]=v,x[54]=n,x[55]=b):b=x[55],b}function Hy(e){return(0,_.jsx)(I.Text,{as:"li",muted:!0,size:1,children:(0,_.jsx)("code",{children:e})},e)}let Hv=(0,E.forwardRef)((e,t)=>{let{value:n,actualType:r,validTypes:i,onChange:a}=e;(0,E.useImperativeHandle)(t,()=>({focus:()=>{}}));let o=(0,E.useCallback)(()=>{a(zU.from(LN()))},[a]),l=(0,E.useCallback)(e=>{a(zU.from(LB(e)))},[a]),s=(0,E.useMemo)(()=>(function(e,t,n){return t in Hf?Object.keys(Hf[t]).filter(e=>n.includes(e)).map(e=>({from:t,to:e,...Hf[t][e]})).filter(t=>t.test(e)):[]})(n,r,i),[n,r,i]),{t:c}=IO();if((0,nE.default)(n)&&!("_type"in n))return(0,_.jsx)(Hg,{value:n,validTypes:i,onChange:a});let u=(0,_.jsx)(I.Stack,{padding:2,children:(0,_.jsx)(B.Button,{onClick:o,tone:"critical",text:c("inputs.invalid-value.reset-button.text")})});return(0,_.jsxs)(zz,{status:"error",suffix:u,title:c("inputs.invalid-value.title"),children:[(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.description")}),(0,_.jsx)(Vx,{marginTop:4,open:IX,title:c("inputs.invalid-value.details.title"),children:(0,_.jsxs)(I.Stack,{space:3,children:[1===i.length&&(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:c,i18nKey:"inputs.invalid-value.details.description",values:{validType:i[0]}})}),1===i.length&&(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.possible-reason")}),1!==i.length&&(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.multi-type-description")}),1!==i.length&&(0,_.jsx)(I.Stack,{as:"ul",space:2,children:i.map(e=>(0,_.jsx)(I.Text,{as:"li",children:(0,_.jsx)("code",{children:e})},e))}),(0,_.jsxs)(I.Stack,{marginTop:2,space:2,children:[(0,_.jsx)(I.Text,{size:1,weight:"medium",children:(0,_.jsx)(IZ,{t:c,i18nKey:"inputs.invalid-value.current-type",values:{actualType:r}})}),(0,_.jsx)(I.Card,{border:!0,padding:2,radius:2,tone:"inherit",children:(0,_.jsx)(I.Code,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),s.length>0&&(0,_.jsx)(I.Stack,{space:1,children:s.map(e=>(0,_.jsx)(Hb,{converter:e,onConvert:l,value:n},"".concat(e.from,"-").concat(e.to)))})]})})]})});function Hb(e){let t,n,r,i=(0,j.c)(10),{converter:a,onConvert:o,value:l}=e;i[0]!==a||i[1]!==o||i[2]!==l?(t=()=>o(a.convert(l)),i[0]=a,i[1]=o,i[2]=l,i[3]=t):t=i[3];let s=t,{t:c}=IO();return i[4]!==a.to||i[5]!==c?(n=c("inputs.invalid-value.convert-button.text",{targetType:a.to}),i[4]=a.to,i[5]=c,i[6]=n):n=i[6],i[7]!==s||i[8]!==n?(r=(0,_.jsx)(B.Button,{onClick:s,text:n}),i[7]=s,i[8]=n,i[9]=r):r=i[9],r}Hv.displayName="ForwardRef(InvalidValueInput)";let Hx=[0,.25,.75,1],HC=(0,F.styled)(I.Flex)(e=>{let{theme:t,$floatingCardWidth:n,$slotWidth:r,$floatingCardVisible:i}=e,{space:a}=t.sanity;return(0,F.css)(C8(),r+n+a[1],r+(i?n:0)+a[1])}),Hk=(0,F.styled)(I.Box)(e=>{let{theme:t,$presenceMaxWidth:n}=e,{space:r}=t.sanity;return(0,F.css)(C4(),n+r[1])}),Hw=(0,F.styled)(I.Box)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e,{space:i}=t.sanity,a=r?n+i[1]:n;return(0,F.css)(C6(),a)}),H_=(0,F.styled)(I.Card)(C9()),Hj=(0,F.styled)(I.Flex)(ke());function HS(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(44),{__internal_comments:g,__internal_slot:y,actions:v,content:b,fieldFocused:x,fieldHovered:C,presence:k,inputId:w}=e,[S,T]=(0,E.useState)(!1),[D,A]=(0,E.useState)(!1),[O,P]=(0,E.useState)(null),[M,F]=(0,E.useState)(0),[R,N]=(0,E.useState)(null),[L,z]=(0,E.useState)(0);m[0]!==g?(t=g||{},m[0]=g,m[1]=t):t=m[1];let{hasComments:V,button:U,isAddingComment:H}=t,q=void 0!==V&&V,W=void 0===U?null:U,Y=v&&v.length>0,K=x||C||D||void 0!==H&&H,G=(null==g?void 0:g.button)||Y,$=S||K||q;m[2]!==O?(n=()=>{if(O){let{width:e}=O.getBoundingClientRect();F(e||0)}},m[2]=O,m[3]=n):n=m[3];let Z=n;m[4]!==Z?(r=()=>{Z(),T(!0)},m[4]=Z,m[5]=r):r=m[5];let X=r;m[6]!==Z?(i=()=>{Z(),T(!1)},m[6]=Z,m[7]=i):i=m[7];let J=i;m[8]!==Z?(a=()=>{Z()},m[8]=Z,m[9]=a):a=m[9],m[10]!==Z||m[11]!==K?(o=[Z,K],m[10]=Z,m[11]=K,m[12]=o):o=m[12],(0,E.useEffect)(a,o),m[13]!==R?(s=()=>{if(R){let{width:e}=R.getBoundingClientRect();z(e||0)}},l=[R],m[13]=R,m[14]=l,m[15]=s):(l=m[14],s=m[15]),(0,E.useEffect)(s,l);e:{let e;if(!y){c=null;break e}let t=!!K;m[16]!==M||m[17]!==y||m[18]!==t?(e=(0,_.jsx)(Hw,{$fieldActionsVisible:t,$right:M,ref:N,children:y}),m[16]=M,m[17]=y,m[18]=t,m[19]=e):e=m[19],c=e}let Q=c;return m[20]===Symbol.for("react.memo_cache_sentinel")?(u=88,m[20]=u):u=m[20],m[21]!==b?(d=(0,_.jsx)(Hk,{"data-ui":"fieldHeaderContentBox",flex:1,paddingY:2,$presenceMaxWidth:u,children:b}),m[21]=b,m[22]=d):d=m[22],m[23]!==k?(p=k&&k.length>0&&(0,_.jsx)(I.Box,{"data-ui":"PresenceBox",flex:"none",children:(0,_.jsx)(W_,{maxAvatars:4,presence:k})}),m[23]=k,m[24]=p):p=m[24],m[25]!==v||m[26]!==W||m[27]!==J||m[28]!==X||m[29]!==Y||m[30]!==q||m[31]!==G||m[32]!==w||m[33]!==$||m[34]!==K?(f=(G||q)&&(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsxs)(H_,{"data-actions-visible":K?"true":"false","data-has-actions":Y?"true":"false","data-has-comments":q?"true":"false","data-visible":$?"true":"false",display:"flex",onBlurCapture:J,onFocusCapture:X,ref:P,sizing:"border",children:[Y&&(0,_.jsx)(Hj,{align:"center","data-ui":"FieldActionsFlex","data-testid":w?"field-actions-menu-".concat(w):"field-actions-menu",children:(0,_.jsx)(zo,{nodes:v,onMenuOpenChange:A})}),W]})}),m[25]=v,m[26]=W,m[27]=J,m[28]=X,m[29]=Y,m[30]=q,m[31]=G,m[32]=w,m[33]=$,m[34]=K,m[35]=f):f=m[35],m[36]!==M||m[37]!==$||m[38]!==Q||m[39]!==L||m[40]!==d||m[41]!==p||m[42]!==f?(h=(0,_.jsxs)(HC,{align:"flex-end",justify:"space-between",$floatingCardVisible:$,$floatingCardWidth:M,$slotWidth:L,children:[d,p,Q,f]}),m[36]=M,m[37]=$,m[38]=Q,m[39]=L,m[40]=d,m[41]=p,m[42]=f,m[43]=h):h=m[43],h}let HE=F.styled.div(kt()),HT=[],HD={error:function(){let e,t,n=(0,j.c)(4),{t:r}=IO();return n[0]!==r?(e=r("form.validation.has-error-aria-label"),n[0]=r,n[1]=e):e=n[1],n[2]!==e?(t=(0,_.jsx)(R.ErrorOutlineIcon,{"data-testid":"input-validation-icon-error","aria-label":e,"aria-hidden":!0,role:"presentation"}),n[2]=e,n[3]=t):t=n[3],t},warning:function(){let e,t,n=(0,j.c)(4),{t:r}=IO();return n[0]!==r?(e=r("form.validation.has-warning-aria-label"),n[0]=r,n[1]=e):e=n[1],n[2]!==e?(t=(0,_.jsx)(R.WarningOutlineIcon,{"data-testid":"input-validation-icon-warning","aria-label":e,"aria-hidden":!0,role:"presentation"}),n[2]=e,n[3]=t):t=n[3],t},info:function(){let e,t,n=(0,j.c)(4),{t:r}=IO();return n[0]!==r?(e=r("form.validation.has-info-aria-label"),n[0]=r,n[1]=e):e=n[1],n[2]!==e?(t=(0,_.jsx)(R.InfoOutlineIcon,{"data-testid":"input-validation-icon-info","aria-label":e,"aria-hidden":!0,role:"presentation"}),n[2]=e,n[3]=t):t=n[3],t}},HI=(0,F.styled)(I.Stack)(kn()),HA=(0,F.styled)(I.Text)(e=>{let{$status:t}=e;return"error"===t?{"--card-icon-color":"var(--card-badge-critical-icon-color)"}:"warning"===t?{"--card-icon-color":"var(--card-badge-caution-icon-color)"}:"info"===t?{"--card-icon-color":"var(--card-badge-primary-icon-color)"}:{}});function HO(e){let t,n,r,i,a,o,l,s=(0,j.c)(20),{validation:c,__unstable_showSummary:u,fontSize:d,placement:p}=e,f=void 0===c?HT:c,h=f.some(HF),m=f.some(HM),g=h?"error":m?"warning":"info",y=HD[g];return s[0]!==u||s[1]!==f?(t=u&&(0,_.jsx)(HB,{validation:f}),s[0]=u,s[1]=f,s[2]=t):t=s[2],s[3]!==u||s[4]!==f?(n=!u&&(0,_.jsx)(_.Fragment,{children:f.map(HP)}),s[3]=u,s[4]=f,s[5]=n):n=s[5],s[6]!==t||s[7]!==n?(r=(0,_.jsxs)(HI,{space:3,children:[t,n]}),s[6]=t,s[7]=n,s[8]=r):r=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(i=["bottom","right","left"],s[9]=i):i=s[9],s[10]!==y?(a=y&&(0,_.jsx)(y,{}),s[10]=y,s[11]=a):a=s[11],s[12]!==d||s[13]!==g||s[14]!==a?(o=(0,_.jsx)(HE,{children:(0,_.jsx)(HA,{$status:g,size:d,weight:"medium",children:a})}),s[12]=d,s[13]=g,s[14]=a,s[15]=o):o=s[15],s[16]!==p||s[17]!==r||s[18]!==o?(l=(0,_.jsx)(B.Tooltip,{content:r,portal:!0,placement:p,fallbackPlacements:i,children:o}),s[16]=p,s[17]=r,s[18]=o,s[19]=l):l=s[19],l}function HP(e,t){return(0,_.jsx)(HR,{validation:e},t)}function HM(e){return"warning"===e.level}function HF(e){return"error"===e.level}function HR(e){let t,n,r,i,a=(0,j.c)(10),{validation:o}=e,l=HD[o.level];return a[0]!==l?(t=l&&(0,_.jsx)(l,{}),a[0]=l,a[1]=t):t=a[1],a[2]!==t||a[3]!==o.level?(n=(0,_.jsx)(I.Box,{marginRight:2,children:(0,_.jsx)(HA,{$status:o.level,size:1,children:t})}),a[2]=t,a[3]=o.level,a[4]=n):n=a[4],a[5]!==o.message?(r=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,children:o.message})}),a[5]=o.message,a[6]=r):r=a[6],a[7]!==n||a[8]!==r?(i=(0,_.jsxs)(I.Flex,{children:[n,r]}),a[7]=n,a[8]=r,a[9]=i):i=a[9],i}function HB(e){let t,n,r=(0,j.c)(5),{validation:i}=e,{t:a}=IO(),o=Iz();if(r[0]!==o||r[1]!==a||r[2]!==i){n=Symbol.for("react.early_return_sentinel");e:{let e=i.reduce(HL,0),r=i.reduce(HN,0),l=e>0,s=r>0;if(!l&&!s){n=null;break e}let c=l&&a("form.validation.summary.errors-count",{count:e}),u=s&&a("form.validation.summary.warnings-count",{count:r});t=c&&u?(0,_.jsx)(I.Text,{size:1,children:o.format([c,u])}):(0,_.jsx)(I.Text,{size:1,children:c||u})}r[0]=o,r[1]=a,r[2]=i,r[3]=t,r[4]=n}else t=r[3],n=r[4];return n!==Symbol.for("react.early_return_sentinel")?n:t}function HN(e,t){return"warning"===t.level?e+1:e}function HL(e,t){return"error"===t.level?e+1:e}let Hz=(0,F.styled)(I.Flex)(kr()),HV=[],HU=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(28),{description:u,inputId:d,title:p,deprecated:f,validation:h,suffix:m}=e,g=void 0===h?HV:h,{t:y}=IO(),v=g.length>0;return c[0]!==y||c[1]!==p?(t=p||(0,_.jsx)("span",{style:{color:"var(--card-muted-fg-color)"},children:y("form.field.untitled-field-label")}),c[0]=y,c[1]=p,c[2]=t):t=c[2],c[3]!==d||c[4]!==t?(n=(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(I.Text,{as:"label",htmlFor:d,weight:"medium",size:1,children:t})}),c[3]=d,c[4]=t,c[5]=n):n=c[5],c[6]!==m?(r=m&&(0,_.jsx)(I.Box,{marginLeft:2,"data-testid":"form-field-suffix",children:m}),c[6]=m,c[7]=r):r=c[7],c[8]!==f||c[9]!==v||c[10]!==y||c[11]!==p||c[12]!==g?(i=(f||v)&&(0,_.jsxs)(Hz,{align:"center",children:[f&&(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(I.Badge,{"data-testid":"deprecated-badge-".concat(p),tone:"caution",children:y("form.field.deprecated-label")})}),v&&(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(HO,{"data-testid":"input-validation-icon-error",fontSize:1,placement:"top",validation:g})})]}),c[8]=f,c[9]=v,c[10]=y,c[11]=p,c[12]=g,c[13]=i):i=c[13],c[14]!==n||c[15]!==r||c[16]!==i?(a=(0,_.jsxs)(I.Flex,{align:"center",paddingY:1,children:[n,r,i]}),c[14]=n,c[15]=r,c[16]=i,c[17]=a):a=c[17],c[18]!==f||c[19]!==p?(o=f&&(0,_.jsx)(eiD,{"data-testid":"deprecated-message-".concat(p),tone:"caution",size:1,children:f.reason}),c[18]=f,c[19]=p,c[20]=o):o=c[20],c[21]!==u||c[22]!==d?(l=u&&(0,_.jsx)(I.Text,{muted:!0,size:1,id:UD(d,u),children:u}),c[21]=u,c[22]=d,c[23]=l):l=c[23],c[24]!==a||c[25]!==o||c[26]!==l?(s=(0,_.jsxs)(I.Stack,{space:3,children:[a,o,l]}),c[24]=a,c[25]=o,c[26]=l,c[27]=s):s=c[27],s}),HH=[],Hq=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(34);g[0]!==e?({__unstable_headerActions:s,__unstable_presence:c,__internal_slot:u,__internal_comments:n,children:t,description:i,inputId:a,level:o,title:d,validation:p,deprecated:r,...l}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=l,g[8]=s,g[9]=c,g[10]=u,g[11]=d,g[12]=p):(t=g[1],n=g[2],r=g[3],i=g[4],a=g[5],o=g[6],l=g[7],s=g[8],c=g[9],u=g[10],d=g[11],p=g[12]);let y=void 0===s?HH:s,v=void 0===c?HH:c,b=void 0===u?null:u,{focused:x,hovered:C,onMouseEnter:k,onMouseLeave:w}=zp();return g[13]!==y||g[14]!==n||g[15]!==r||g[16]!==i||g[17]!==x||g[18]!==C||g[19]!==a||g[20]!==v||g[21]!==b||g[22]!==d||g[23]!==p?(f=d&&(0,_.jsx)(HS,{__internal_comments:n,__internal_slot:b,actions:y,fieldFocused:!!x,fieldHovered:C,presence:v,inputId:a,content:(0,_.jsx)(HU,{description:i,inputId:a,title:d,validation:p,deprecated:r})}),g[13]=y,g[14]=n,g[15]=r,g[16]=i,g[17]=x,g[18]=C,g[19]=a,g[20]=v,g[21]=b,g[22]=d,g[23]=p,g[24]=f):f=g[24],g[25]!==t?(h=(0,_.jsx)("div",{children:t}),g[25]=t,g[26]=h):h=g[26],g[27]!==o||g[28]!==k||g[29]!==w||g[30]!==l||g[31]!==f||g[32]!==h?(m=(0,_.jsxs)(I.Stack,{...l,"data-level":o,onMouseEnter:k,onMouseLeave:w,space:2,children:[f,h]}),g[27]=o,g[28]=k,g[29]=w,g[30]=l,g[31]=f,g[32]=h,g[33]=m):m=g[33],m}),HW=F.styled.legend(ki()),HY=(0,F.styled)(I.Flex).attrs({forwardedAs:"button"})(e=>{let{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:i}=t.sanity.color;return(0,F.css)(ka(),(0,I.rem)(r[2]),Dk({base:i,focusRing:n}))}),HK=(0,F.styled)(I.Box)(ko()),HG=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(10),{collapsed:a,collapsible:o,onClick:l,title:s}=e;i[0]!==s?(t=(0,_.jsx)(I.Text,{weight:"medium",size:1,children:s}),i[0]=s,i[1]=t):t=i[1];let c=t;if(!o){let e;return i[2]!==c?(e=(0,_.jsx)(HW,{children:c}),i[2]=c,i[3]=e):e=i[3],e}let u="rotate(".concat(a?"0":"90deg",") translate3d(0, 0, 0)");return i[4]!==u?(n=(0,_.jsx)(HK,{children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.ToggleArrowRightIcon,{style:{transform:u}})})}),i[4]=u,i[5]=n):n=i[5],i[6]!==l||i[7]!==n||i[8]!==c?(r=(0,_.jsx)(HW,{children:(0,_.jsxs)(HY,{type:"button",onClick:l,children:[n,c]})}),i[6]=l,i[7]=n,i[8]=c,i[9]=r):r=i[9],r}),H$=(0,F.styled)(I.Stack).attrs({forwardedAs:"fieldset"})(kl()),HZ=(0,F.styled)(I.Box)(e=>{let{$borderLeft:t,$focused:n,theme:r}=e,{focusRing:i}=r.sanity,{base:a}=r.sanity.color;return(0,F.css)(ks(),t?"1px solid var(--card-border-color)":void 0,t&&n&&"border-left: 1px solid var(--card-focus-ring-color);\n    box-shadow: inset 1px 0 0 var(--card-focus-ring-color);",t&&!n&&"\n      box-shadow: inset 0 0 0 transparent;\n    ",Dk({base:a,focusRing:{...i,offset:2}}))}),HX=[],HJ=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P,M,F,R,B,N,L=(0,j.c)(82);L[0]!==e?({__internal_comments:o,__internal_slot:h,__unstable_headerActions:m,__unstable_presence:g,children:n,collapsed:r,collapsible:i,columns:a,description:s,level:y,onCollapse:u,onExpand:d,onFocus:p,tabIndex:b,title:x,validation:v,inputId:c,deprecated:l,...f}=e,L[0]=e,L[1]=n,L[2]=r,L[3]=i,L[4]=a,L[5]=o,L[6]=l,L[7]=s,L[8]=c,L[9]=u,L[10]=d,L[11]=p,L[12]=f,L[13]=h,L[14]=m,L[15]=g,L[16]=y,L[17]=v,L[18]=b,L[19]=x):(n=L[1],r=L[2],i=L[3],a=L[4],o=L[5],l=L[6],s=L[7],c=L[8],u=L[9],d=L[10],p=L[11],f=L[12],h=L[13],m=L[14],g=L[15],y=L[16],v=L[17],b=L[18],x=L[19]);let z=void 0===h?null:h,V=void 0===m?HX:m,U=void 0===g?HX:g,H=void 0===y?0:y,q=void 0===v?HX:v,{focused:W,hovered:Y,onMouseEnter:K,onMouseLeave:G}=zp(),$=q.length>0,Z=(0,E.useRef)(null),{t:X}=IO();L[20]===Symbol.for("react.memo_cache_sentinel")?(C=()=>Z.current,L[20]=C):C=L[20],(0,E.useImperativeHandle)(t,C),L[21]!==p?(k=e=>{Z.current===e.target&&p&&p(e)},L[21]=p,L[22]=k):k=L[22];let J=k;L[23]!==r||L[24]!==u||L[25]!==d?(w=()=>r?null==d?void 0:d():null==u?void 0:u(),L[23]=r,L[24]=u,L[25]=d,L[26]=w):w=L[26];let Q=w;e:{var ee;let e,t;if(r){S=null;break e}L[27]!==n?(e="function"==typeof(ee=n)?ee():ee,L[27]=n,L[28]=e):e=L[28],L[29]!==a||L[30]!==e?(t=(0,_.jsx)(DC,{columns:a,gapX:4,gapY:5,children:e}),L[29]=a,L[30]=e,L[31]=t):t=L[31],S=t}let et=S,en=!!W;L[32]!==r||L[33]!==i||L[34]!==Q||L[35]!==x?(T=x&&(0,_.jsx)(HG,{collapsed:!!r,collapsible:i,onClick:i?Q:void 0,title:x}),L[32]=r,L[33]=i,L[34]=Q,L[35]=x,L[36]=T):T=L[36],L[37]!==l||L[38]!==X||L[39]!==x?(D=l&&(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(I.Badge,{"data-testid":"deprecated-badge-".concat(x),tone:"caution",children:X("form.field.deprecated-label")})}),L[37]=l,L[38]=X,L[39]=x,L[40]=D):D=L[40],L[41]!==$||L[42]!==q?(A=$&&(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(HO,{fontSize:1,placement:"top",validation:q})}),L[41]=$,L[42]=q,L[43]=A):A=L[43],L[44]!==T||L[45]!==D||L[46]!==A?(O=(0,_.jsxs)(I.Flex,{align:"center",children:[T,D,A]}),L[44]=T,L[45]=D,L[46]=A,L[47]=O):O=L[47],L[48]!==l||L[49]!==x?(P=l&&(0,_.jsx)(eiD,{"data-testid":"deprecated-message-".concat(x),tone:"caution",size:1,children:l.reason}),L[48]=l,L[49]=x,L[50]=P):P=L[50],L[51]!==s||L[52]!==c?(M=s&&(0,_.jsx)(I.Text,{muted:!0,size:1,id:UD(c,s),children:s}),L[51]=s,L[52]=c,L[53]=M):M=L[53],L[54]!==O||L[55]!==P||L[56]!==M?(F=(0,_.jsxs)(I.Stack,{space:3,children:[O,P,M]}),L[54]=O,L[55]=P,L[56]=M,L[57]=F):F=L[57],L[58]!==V||L[59]!==o||L[60]!==Y||L[61]!==c||L[62]!==U||L[63]!==z||L[64]!==F||L[65]!==en?(R=(0,_.jsx)(HS,{__internal_comments:o,__internal_slot:z,actions:V,fieldFocused:en,fieldHovered:Y,presence:U,inputId:c,content:F}),L[58]=V,L[59]=o,L[60]=Y,L[61]=c,L[62]=U,L[63]=z,L[64]=F,L[65]=en,L[66]=R):R=L[66];let er=H>0,ei=!!W,ea=3*(0!==H),eo="number"==typeof b&&b>-1?J:void 0,el=!r&&et;return L[67]!==r||L[68]!==er||L[69]!==ei||L[70]!==ea||L[71]!==eo||L[72]!==el||L[73]!==b?(B=(0,_.jsx)(HZ,{$borderLeft:er,$focused:ei,hidden:r,paddingLeft:ea,onFocus:eo,ref:Z,tabIndex:b,children:el}),L[67]=r,L[68]=er,L[69]=ei,L[70]=ea,L[71]=eo,L[72]=el,L[73]=b,L[74]=B):B=L[74],L[75]!==H||L[76]!==K||L[77]!==G||L[78]!==f||L[79]!==R||L[80]!==B?(N=(0,_.jsxs)(H$,{"data-level":H,...f,onMouseEnter:K,onMouseLeave:G,space:2,children:[R,B]}),L[75]=H,L[76]=K,L[77]=G,L[78]=f,L[79]=R,L[80]=B,L[81]=N):N=L[81],N}),HQ=F.styled.div(kc());function H1(e){let t,n=(0,j.c)(4),{children:r,maxAvatars:i,position:a}=e,o=void 0===a?"bottom":a;return n[0]!==r||n[1]!==i||n[2]!==o?(t=(0,_.jsx)(HQ,{"data-max-avatars":i,"data-position":o,children:r}),n[0]=r,n[1]=i,n[2]=o,n[3]=t):t=n[3],t}function H2(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(35),{error:m,onChange:g}=e;h[0]!==m.duplicates||h[1]!==g?(t=()=>{g(zU.from((m.duplicates||[]).map(H0)))},h[0]=m.duplicates,h[1]=g,h[2]=t):t=h[2];let y=t,{t:v}=IO(),b=m.schemaType.title,x=m.schemaType.description;return h[3]!==v?(n=v("form.error.duplicate-keys-alert.generate-button.text"),h[3]=v,h[4]=n):n=h[4],h[5]!==y||h[6]!==n?(r=(0,_.jsx)(I.Stack,{padding:2,children:(0,_.jsx)(B.Button,{onClick:y,text:n,tone:"caution"})}),h[5]=y,h[6]=n,h[7]=r):r=h[7],h[8]!==v?(i=v("form.error.duplicate-keys-alert.title"),h[8]=v,h[9]=i):i=h[9],h[10]!==v?(a=v("form.error.duplicate-keys-alert.summary"),h[10]=v,h[11]=a):a=h[11],h[12]!==a?(o=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:a}),h[12]=a,h[13]=o):o=h[13],h[14]!==v?(l=v("form.error.duplicate-keys-alert.details.title"),h[14]=v,h[15]=l):l=h[15],h[16]!==v?(s=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:v,i18nKey:"form.error.duplicate-keys-alert.details.description"})}),h[16]=v,h[17]=s):s=h[17],h[18]!==v?(c=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:v,i18nKey:"form.error.duplicate-keys-alert.details.additional-description"})}),h[18]=v,h[19]=c):c=h[19],h[20]!==c||h[21]!==s?(u=(0,_.jsxs)(I.Stack,{space:3,children:[s,c]}),h[20]=c,h[21]=s,h[22]=u):u=h[22],h[23]!==u||h[24]!==l?(d=(0,_.jsx)(Vx,{marginTop:4,open:IX,title:l,children:u}),h[23]=u,h[24]=l,h[25]=d):d=h[25],h[26]!==d||h[27]!==r||h[28]!==i||h[29]!==o?(p=(0,_.jsxs)(zz,{status:"warning",suffix:r,title:i,children:[o,d]}),h[26]=d,h[27]=r,h[28]=i,h[29]=o,h[30]=p):p=h[30],h[31]!==m.schemaType.description||h[32]!==m.schemaType.title||h[33]!==p?(f=(0,_.jsx)(Hq,{title:b,description:x,children:p}),h[31]=m.schemaType.description,h[32]=m.schemaType.title,h[33]=p,h[34]=f):f=h[34],f}function H0(e){let[t,n]=e;return LB("".concat(n,"_deduped_").concat(t),[t,"_key"])}function H5(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(35),{error:m,onChange:g}=e;h[0]!==m.value||h[1]!==g?(t=()=>{g(zU.from((m.value||[]).map(H7)))},h[0]=m.value,h[1]=g,h[2]=t):t=h[2];let y=t,{t:v}=IO(),b=m.schemaType.title,x=m.schemaType.description;return h[3]!==v?(n=v("form.error.missing-keys-alert.add-button.text"),h[3]=v,h[4]=n):n=h[4],h[5]!==y||h[6]!==n?(r=(0,_.jsx)(I.Stack,{padding:2,children:(0,_.jsx)(B.Button,{onClick:y,text:n,tone:"caution"})}),h[5]=y,h[6]=n,h[7]=r):r=h[7],h[8]!==v?(i=v("form.error.missing-keys-alert.title"),h[8]=v,h[9]=i):i=h[9],h[10]!==v?(a=v("form.error.missing-keys-alert.summary"),h[10]=v,h[11]=a):a=h[11],h[12]!==a?(o=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:a}),h[12]=a,h[13]=o):o=h[13],h[14]!==v?(l=v("form.error.missing-keys-alert.details.title"),h[14]=v,h[15]=l):l=h[15],h[16]!==v?(s=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:v,i18nKey:"form.error.missing-keys-alert.details.description"})}),h[16]=v,h[17]=s):s=h[17],h[18]!==v?(c=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:v,i18nKey:"form.error.missing-keys-alert.details.additional-description"})}),h[18]=v,h[19]=c):c=h[19],h[20]!==c||h[21]!==s?(u=(0,_.jsxs)(I.Stack,{space:3,children:[s,c]}),h[20]=c,h[21]=s,h[22]=u):u=h[22],h[23]!==u||h[24]!==l?(d=(0,_.jsx)(Vx,{marginTop:4,open:IX,title:l,children:u}),h[23]=u,h[24]=l,h[25]=d):d=h[25],h[26]!==d||h[27]!==r||h[28]!==i||h[29]!==o?(p=(0,_.jsxs)(zz,{status:"warning",suffix:r,title:i,children:[o,d]}),h[26]=d,h[27]=r,h[28]=i,h[29]=o,h[30]=p):p=h[30],h[31]!==m.schemaType.description||h[32]!==m.schemaType.title||h[33]!==p?(f=(0,_.jsx)(Hq,{title:b,description:x,children:p}),h[31]=m.schemaType.description,h[32]=m.schemaType.title,h[33]=p,h[34]=f):f=h[34],f}function H7(e,t){return LF((0,nw.randomKey)(),[t,"_key"])}function H3(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(32),{error:h,onChange:m}=e;f[0]!==h.value||f[1]!==m?(t=()=>{let e=(h.value||[]).flatMap(H4).reverse().map(H8);m(zU.from(e))},f[0]=h.value,f[1]=m,f[2]=t):t=f[2];let g=t,{t:y}=IO(),v=h.schemaType.title,b=h.schemaType.description;return f[3]!==y?(n=y("form.error.mixed-array-alert.remove-button.text"),f[3]=y,f[4]=n):n=f[4],f[5]!==g||f[6]!==n?(r=(0,_.jsx)(I.Stack,{padding:2,children:(0,_.jsx)(B.Button,{onClick:g,text:n,tone:"critical"})}),f[5]=g,f[6]=n,f[7]=r):r=f[7],f[8]!==y?(i=y("form.error.mixed-array-alert.title"),f[8]=y,f[9]=i):i=f[9],f[10]!==y?(a=y("form.error.mixed-array-alert.summary"),f[10]=y,f[11]=a):a=f[11],f[12]!==a?(o=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:a}),f[12]=a,f[13]=o):o=f[13],f[14]!==y?(l=y("form.error.mixed-array-alert.details.title"),f[14]=y,f[15]=l):l=f[15],f[16]!==y?(s=y("form.error.mixed-array-alert.details.description"),f[16]=y,f[17]=s):s=f[17],f[18]!==s?(c=(0,_.jsx)(I.Stack,{space:3,children:(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:s})}),f[18]=s,f[19]=c):c=f[19],f[20]!==c||f[21]!==l?(u=(0,_.jsx)(Vx,{marginTop:4,open:IX,title:l,children:c}),f[20]=c,f[21]=l,f[22]=u):u=f[22],f[23]!==u||f[24]!==r||f[25]!==i||f[26]!==o?(d=(0,_.jsxs)(zz,{status:"error",suffix:r,title:i,children:[o,u]}),f[23]=u,f[24]=r,f[25]=i,f[26]=o,f[27]=d):d=f[27],f[28]!==h.schemaType.description||f[29]!==h.schemaType.title||f[30]!==d?(p=(0,_.jsx)(Hq,{title:v,description:b,children:d}),f[28]=h.schemaType.description,f[29]=h.schemaType.title,f[30]=d,f[31]=p):p=f[31],p}function H8(e){return LN([e])}function H4(e,t){return(0,nE.default)(e)?[]:[t]}function H6(e){let t,n,r,i=(0,j.c)(24),{member:a}=e,{onChange:o}=L3();i[0]!==a.fieldName||i[1]!==o?(t=e=>{o(zU.from(e).prefixAll(a.fieldName))},i[0]=a.fieldName,i[1]=o,i[2]=t):t=i[2];let l=t,{t:s}=IO();if("INCOMPATIBLE_TYPE"===a.error.type){let e,t;return i[3]!==a.error.expectedSchemaType.name?(e=[a.error.expectedSchemaType.name],i[3]=a.error.expectedSchemaType.name,i[4]=e):e=i[4],i[5]!==l||i[6]!==a.error.resolvedValueType||i[7]!==a.error.value||i[8]!==e?(t=(0,_.jsx)(Hv,{value:a.error.value,onChange:l,actualType:a.error.resolvedValueType,validTypes:e}),i[5]=l,i[6]=a.error.resolvedValueType,i[7]=a.error.value,i[8]=e,i[9]=t):t=i[9],t}if("MISSING_KEYS"===a.error.type){let e;return i[10]!==l||i[11]!==a.error?(e=(0,_.jsx)(H5,{error:a.error,onChange:l}),i[10]=l,i[11]=a.error,i[12]=e):e=i[12],e}if("DUPLICATE_KEYS"===a.error.type){let e;return i[13]!==l||i[14]!==a.error?(e=(0,_.jsx)(H2,{error:a.error,onChange:l}),i[13]=l,i[14]=a.error,i[15]=e):e=i[15],e}if("MIXED_ARRAY"===a.error.type){let e;return i[16]!==l||i[17]!==a.error?(e=(0,_.jsx)(H3,{onChange:l,error:a.error}),i[16]=l,i[17]=a.error,i[18]=e):e=i[18],e}return i[19]!==e.member.error.type||i[20]!==s?(n=s("member-field-error.unexpected-error",{error:e.member.error.type}),i[19]=e.member.error.type,i[20]=s,i[21]=n):n=i[21],i[22]!==n?(r=(0,_.jsx)(I.Box,{children:n}),i[22]=n,i[23]=r):r=i[23],r}let H9=(0,E.memo)(function(e){var t;let n,r,i,a,o,l=(0,j.c)(40),{member:s,renderAnnotation:c,renderBlock:u,renderField:d,renderInlineBlock:p,renderInput:f,renderItem:h,renderPreview:m}=e,{onSetFieldSetCollapsed:g}=L3();l[0]!==s.fieldSet.path||l[1]!==g?(n=()=>{g(s.fieldSet.path,!0)},l[0]=s.fieldSet.path,l[1]=g,l[2]=n):n=l[2];let y=n;l[3]!==s.fieldSet.path||l[4]!==g?(r=()=>{g(s.fieldSet.path,!1)},l[3]=s.fieldSet.path,l[4]=g,l[5]=r):r=l[5];let v=r;l[6]!==s.fieldSet.name||l[7]!==s.fieldSet.title?(i=s.fieldSet.title||(0,nT.default)(s.fieldSet.name),l[6]=s.fieldSet.name,l[7]=s.fieldSet.title,l[8]=i):i=l[8];let b=s.fieldSet.description,x=s.fieldSet.level,C=s.fieldSet.collapsible,k=s.fieldSet.collapsed,w=null==s||null==(t=s.fieldSet)?void 0:t.columns,S="fieldset-".concat(s.fieldSet.name),E=s.fieldSet.name;if(l[9]!==s.fieldSet.members||l[10]!==s.key||l[11]!==c||l[12]!==u||l[13]!==d||l[14]!==p||l[15]!==f||l[16]!==h||l[17]!==m){let e;l[19]!==s.key||l[20]!==c||l[21]!==u||l[22]!==d||l[23]!==p||l[24]!==f||l[25]!==h||l[26]!==m?(e=e=>"error"===e.kind?(0,_.jsx)(H6,{member:e},s.key):(0,_.jsx)(Hs,{member:e,renderAnnotation:c,renderBlock:u,renderField:d,renderInlineBlock:p,renderInput:f,renderItem:h,renderPreview:m},e.key),l[19]=s.key,l[20]=c,l[21]=u,l[22]=d,l[23]=p,l[24]=f,l[25]=h,l[26]=m,l[27]=e):e=l[27],a=s.fieldSet.members.map(e),l[9]=s.fieldSet.members,l[10]=s.key,l[11]=c,l[12]=u,l[13]=d,l[14]=p,l[15]=f,l[16]=h,l[17]=m,l[18]=a}else a=l[18];return l[28]!==y||l[29]!==v||l[30]!==s.fieldSet.collapsed||l[31]!==s.fieldSet.collapsible||l[32]!==s.fieldSet.description||l[33]!==s.fieldSet.level||l[34]!==s.fieldSet.name||l[35]!==a||l[36]!==i||l[37]!==w||l[38]!==S?(o=(0,_.jsx)(HJ,{title:i,description:b,level:x,collapsible:C,collapsed:k,onCollapse:y,onExpand:v,columns:w,"data-testid":S,inputId:E,children:a}),l[28]=y,l[29]=v,l[30]=s.fieldSet.collapsed,l[31]=s.fieldSet.collapsible,l[32]=s.fieldSet.description,l[33]=s.fieldSet.level,l[34]=s.fieldSet.name,l[35]=a,l[36]=i,l[37]=w,l[38]=S,l[39]=o):o=l[39],o}),qe=(0,E.memo)(function(e){let t=(0,j.c)(20),{member:n,renderAnnotation:r,renderBlock:i,renderInput:a,renderInlineBlock:o,renderField:l,renderItem:s,renderPreview:c}=e;if("field"===n.kind){let e;return t[0]!==n||t[1]!==r||t[2]!==i||t[3]!==l||t[4]!==o||t[5]!==a||t[6]!==s||t[7]!==c?(e=(0,_.jsx)(Hs,{member:n,renderAnnotation:r,renderBlock:i,renderInlineBlock:o,renderInput:a,renderField:l,renderItem:s,renderPreview:c},n.key),t[0]=n,t[1]=r,t[2]=i,t[3]=l,t[4]=o,t[5]=a,t[6]=s,t[7]=c,t[8]=e):e=t[8],e}if("error"===n.kind){let e;return t[9]!==n?(e=(0,_.jsx)(H6,{member:n},n.key),t[9]=n,t[10]=e):e=t[10],e}if("fieldSet"===n.kind){let e;return t[11]!==n||t[12]!==r||t[13]!==i||t[14]!==l||t[15]!==o||t[16]!==a||t[17]!==s||t[18]!==c?(e=(0,_.jsx)(H9,{member:n,renderAnnotation:r,renderBlock:i,renderInlineBlock:o,renderInput:a,renderField:l,renderItem:s,renderPreview:c},n.key),t[11]=n,t[12]=r,t[13]=i,t[14]=l,t[15]=o,t[16]=a,t[17]=s,t[18]=c,t[19]=e):e=t[19],e}return console.warn(Error("Unhandled member kind ".concat(n.kind))),null});function qt(e){let t,n,r=(0,j.c)(19),{members:i,renderAnnotation:a,renderBlock:o,renderInput:l,renderInlineBlock:s,renderField:c,renderItem:u,renderPreview:d}=e;if(r[0]!==i||r[1]!==a||r[2]!==o||r[3]!==c||r[4]!==s||r[5]!==l||r[6]!==u||r[7]!==d){let e;r[9]!==a||r[10]!==o||r[11]!==c||r[12]!==s||r[13]!==l||r[14]!==u||r[15]!==d?(e=e=>(0,_.jsx)(qe,{member:e,renderAnnotation:a,renderBlock:o,renderField:c,renderInlineBlock:s,renderInput:l,renderItem:u,renderPreview:d},e.key),r[9]=a,r[10]=o,r[11]=c,r[12]=s,r[13]=l,r[14]=u,r[15]=d,r[16]=e):e=r[16],t=i.map(e),r[0]=i,r[1]=a,r[2]=o,r[3]=c,r[4]=s,r[5]=l,r[6]=u,r[7]=d,r[8]=t}else t=r[8];let p=t;return r[17]!==p?(n=(0,_.jsx)(_.Fragment,{children:p}),r[17]=p,r[18]=n):n=r[18],n}let qn="moving",qr=(0,F.styled)(I.Box)(kd(),e=>e.$moving&&(0,F.css)(ku())),qi={threshold:{x:0,y:.02}},qa={coordinateGetter:nA.sortableKeyboardCoordinates},qo={duration:200,easing:"ease"},ql=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(29);g[0]!==e?({items:r,axis:t,onItemMove:i,onItemMoveStart:o,onItemMoveEnd:a,children:n,...l}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=l):(t=g[1],n=g[2],r=g[3],i=g[4],a=g[5],o=g[6],l=g[7]);let y=(0,nD.useSensors)((0,nD.useSensor)(nD.PointerSensor),(0,nD.useSensor)(nD.KeyboardSensor,qa));g[8]!==i||g[9]!==a?(s=e=>{var t,n,r,o;let{active:l,over:s}=e;l.id!==(null==s?void 0:s.id)&&(null==i||i({fromIndex:null==(n=l.data.current)||null==(t=n.sortable)?void 0:t.index,toIndex:null==s||null==(o=s.data.current)||null==(r=o.sortable)?void 0:r.index})),null==a||a()},g[8]=i,g[9]=a,g[10]=s):s=g[10];let v=s;g[11]===Symbol.for("react.memo_cache_sentinel")?(m={y:4},c=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return n&&t?function(e,t,n,r){let i={...e},a=r.y,o=r.x||0;return t.top+i.y<=n.top+a?i.y=n.top-t.top+a:t.bottom+i.y>=n.top+n.height-a&&(i.y=n.top+n.height-t.bottom-a),t.left+i.x<=n.left-o?i.x=n.left-t.left+o:t.right+i.x>=n.left+n.width+o&&(i.x=n.left+n.width-t.right+o),i}(r,n,t,m):r},g[11]=c):c=g[11],g[12]!==t?(u=[c,...t?["x"===t?nI.restrictToHorizontalAxis:nI.restrictToVerticalAxis]:[]],g[12]=t,g[13]=u):u=g[13];let b=u;return g[14]!==t?(d=t?"x"===t?nA.horizontalListSortingStrategy:nA.verticalListSortingStrategy:void 0,g[14]=t,g[15]=d):d=g[15],g[16]!==n||g[17]!==l?(p=(0,_.jsx)(I.Grid,{...l,children:n}),g[16]=n,g[17]=l,g[18]=p):p=g[18],g[19]!==r||g[20]!==d||g[21]!==p?(f=(0,_.jsx)(nA.SortableContext,{items:r,strategy:d,children:p}),g[19]=r,g[20]=d,g[21]=p,g[22]=f):f=g[22],g[23]!==v||g[24]!==b||g[25]!==o||g[26]!==y||g[27]!==f?(h=(0,_.jsx)(nD.DndContext,{sensors:y,autoScroll:qi,modifiers:b,collisionDetection:nD.closestCenter,onDragEnd:v,onDragStart:o,children:f}),g[23]=v,g[24]=b,g[25]=o,g[26]=y,g[27]=f,g[28]=h):h=g[28],h}),qs=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(19),{id:s,children:c,disableTransition:u}=e,d=u?null:qo;l[0]!==s||l[1]!==d?(n={id:s,transition:d},l[0]=s,l[1]=d,l[2]=n):n=l[2];let{setNodeRef:p,transform:f,transition:h,active:m}=(0,nA.useSortable)(n),g=s===(null==m?void 0:m.id);l[3]!==f?(r=nO.CSS.Translate.toString(f),l[3]=f,l[4]=r):r=l[4];let y=m?"none":void 0;l[5]!==r||l[6]!==y||l[7]!==h?(i={transform:r,transition:h,pointerEvents:y},l[5]=r,l[6]=y,l[7]=h,l[8]=i):i=l[8];let v=i;l[9]!==t||l[10]!==p?(a=e=>{p(e),"function"==typeof t?t(e):t&&(t.current=e)},l[9]=t,l[10]=p,l[11]=a):a=l[11];let b=a,x=g?qn:"",C=e["data-index"];return l[12]!==c||l[13]!==g||l[14]!==b||l[15]!==v||l[16]!==x||l[17]!==C?(o=(0,_.jsx)(qr,{ref:b,style:v,$moving:g,className:x,"data-index":C,children:c}),l[12]=c,l[13]=g,l[14]=b,l[15]=v,l[16]=x,l[17]=C,l[18]=o):o=l[18],o});function qc(e){let t,n,r,i,a,o,l,s=(0,j.c)(14);s[0]!==e?({onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:a,...i}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a):(t=s[1],n=s[2],r=s[3],i=s[4],a=s[5]),s[6]!==t?(o=e=>{null==t||t(e)},s[6]=t,s[7]=o):o=s[7];let c=o;return s[8]!==c||s[9]!==n||s[10]!==r||s[11]!==i||s[12]!==a?(l=a?(0,_.jsx)(ql,{onItemMove:c,onItemMoveStart:r,onItemMoveEnd:n,...i}):(0,_.jsx)(I.Grid,{...i}),s[8]=c,s[9]=n,s[10]=r,s[11]=i,s[12]=a,s[13]=l):l=s[13],l}let qu=(0,E.forwardRef)(function(e,t){let n,r,i,a,o=(0,j.c)(10);return o[0]!==e?({sortable:r,...n}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==t||o[4]!==n||o[5]!==r?(i=r?(0,_.jsx)(qs,{ref:t,...n}):(0,_.jsx)(qr,{ref:t,...n}),o[3]=t,o[4]=n,o[5]=r,o[6]=i):i=o[6],o[7]!==e.id||o[8]!==i?(a=(0,_.jsx)(D.SortableItemIdContext.Provider,{value:e.id,children:i}),o[7]=e.id,o[8]=i,o[9]=a):a=o[9],a});function qd(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function qp(e){let{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&"inset 0 0 0 ".concat(a,"px var(--card-focus-ring-color)"),n&&qd(n),a<0&&"0 0 0 ".concat(0-a,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}function qf(e){return(0,F.styled)(e)(e=>{let{$border:t,$radius:n}=e,{card:r,color:i,radius:a}=(0,ne.getTheme_v2)(e.theme),o={width:+!!t,color:"var(--card-border-color)"};return(0,F.css)(kp(),qd(o),(0,I.rem)(a[null!=n?n:1]),qp({border:o,base:i,focusRing:{...r.focusRing,offset:0}}))})}function qh(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):qg(Array.from(e.items||[])).then(td.default)}function qm(e){return null===e?[]:[e]}function qg(e){return Promise.all(e.map(e=>{if("file"===e.kind&&e.webkitGetAsEntry){let t;try{t=e.webkitGetAsEntry()}catch(t){return qm(e.getAsFile())}return t?t.isDirectory?function e(t){if(t.isFile)return new Promise((e,n)=>t.file(e,n)).then(e=>[e]);if(t.isDirectory){let n=t.createReader();return new Promise((e,t)=>n.readEntries(e,t)).then(e=>e.filter(e=>!e.name.startsWith("."))).then(t=>Promise.all(t.map(e)).then(td.default))}return Promise.resolve([])}(t):qm(e.getAsFile()):[]}if("file"===e.kind){let t=e.getAsFile();return Promise.resolve(t?[t]:[])}return"string"===e.kind?console.warn('DataTransfer with kind="string" is currently not supported'):console.warn("Unknown DataTransferItem.kind: %s",e.kind),Promise.resolve([])}))}function qy(e){return"application/portable-text"===e.type||"application/x-portable-text"===e.type}let qv={"data-is-file-target":"true"},qb={opacity:0,position:"absolute"};function qx(e){return(0,E.forwardRef)(function(t,n){let r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k=(0,j.c)(40);k[0]!==t?({onFiles:i,onFilesOver:o,onFilesOut:a,disabled:r,...l}=t,k[0]=t,k[1]=r,k[2]=i,k[3]=a,k[4]=o,k[5]=l):(r=k[1],i=k[2],a=k[3],o=k[4],l=k[5]);let[w,S]=(0,E.useState)(!1),T=(0,E.useRef)(null),D=(0,E.useRef)(null);k[6]===Symbol.for("react.memo_cache_sentinel")?(s=()=>D.current,k[6]=s):s=k[6],(0,E.useImperativeHandle)(n,s),k[7]===Symbol.for("react.memo_cache_sentinel")?(c=[],k[7]=c):c=k[7];let I=(0,E.useRef)(c);k[8]!==i?(u=e=>{null==i||i(e)},k[8]=i,k[9]=u):u=k[9];let A=u;k[10]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{e.target===D.current&&(e.ctrlKey||e.metaKey)&&"v"===e.key&&S(!0)},k[10]=d):d=k[10];let O=d;k[11]!==A?(p=e=>{qh(e.clipboardData).then(e=>T.current?e.length>0?e:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(e=>setTimeout(e,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(t=>(e.innerHTML="",t)).then(e=>Promise.all(e.map(e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(Error("Cannot read image contents from webkit fake url")):new Promise((r,i)=>{let a=new Image;a.crossOrigin="anonymous",a.referrerPolicy="strict-origin-when-cross-origin",a.onload=()=>{var e;let o=document.createElement("canvas");o.width=a.width,o.height=a.height,null==(e=o.getContext("2d"))||e.drawImage(a,0,0,o.width,o.height);try{o.toBlob(r,t,n)}catch(e){i(e)}},a.src=e})})(e.src)))).then(e=>e.map(e=>new File([e],"pasted-image.jpg",{type:t}))):Promise.reject(Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}(T.current,"image/jpeg"):[]).then(e=>{var t;A(e),S(!1),null==(t=D.current)||t.focus()})},k[11]=A,k[12]=p):p=k[12];let P=p;k[13]!==A||k[14]!==i||k[15]!==a?(f=e=>{if(I.current=[],Array.from(e.dataTransfer.items).map(qC).some(qk))return;e.preventDefault(),e.stopPropagation();let t=e.nativeEvent.dataTransfer;i&&t&&(function(e){let t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):qg(n).then(td.default)})(t).then(e=>{e&&A(e)}),null==a||a()},k[13]=A,k[14]=i,k[15]=a,k[16]=f):f=k[16];let M=f;k[17]!==i?(h=e=>{i&&(Array.from(e.dataTransfer.items).map(qw).some(q_)||(e.preventDefault(),e.stopPropagation()))},k[17]=i,k[18]=h):h=k[18];let F=h;k[19]!==o?(m=e=>{let t=Array.from(e.dataTransfer.items).map(qj);t.some(qS)||(e.stopPropagation(),o&&D.current===e.currentTarget&&(I.current=[...new Set(I.current),e.currentTarget],o(t)))},k[19]=o,k[20]=m):m=k[20];let R=m;k[21]!==a?(g=e=>{if(Array.from(e.dataTransfer.items).map(qE).some(qT))return;e.stopPropagation();let t=I.current.indexOf(e.currentTarget);t>-1&&I.current.splice(t,1),0===I.current.length&&(null==a||a())},k[21]=a,k[22]=g):g=k[22];let B=g,N=(0,E.useRef)(!1);k[23]!==w?(v=()=>{var e;!N.current&&w&&T.current?(T.current.focus(),function(e){let t=document.createRange();t.selectNodeContents(e);let n=window.getSelection();null==n||n.removeAllRanges(),null==n||n.addRange(t)}(T.current)):N.current&&!w&&(null==(e=T.current)||e.focus()),N.current=w},y=[w],k[23]=w,k[24]=y,k[25]=v):(y=k[24],v=k[25]),(0,E.useEffect)(v,y);let L=l,z=r?void 0:O,V=r?void 0:F,U=r?void 0:R,H=r?void 0:B,q=r?void 0:M;return k[26]!==L||k[27]!==z||k[28]!==V||k[29]!==U||k[30]!==H||k[31]!==q?(b=(0,_.jsx)(e,{...L,ref:D,onKeyDown:z,onDragOver:V,onDragEnter:U,onDragLeave:H,onDrop:q,"data-test-id":"file-target",...qv}),k[26]=L,k[27]=z,k[28]=V,k[29]=U,k[30]=H,k[31]=q,k[32]=b):b=k[32],k[33]!==r||k[34]!==P||k[35]!==w?(x=!r&&w&&(0,_.jsx)("div",{contentEditable:!0,onPaste:P,ref:T,style:qb}),k[33]=r,k[34]=P,k[35]=w,k[36]=x):x=k[36],k[37]!==b||k[38]!==x?(C=(0,_.jsxs)(_.Fragment,{children:[b,x]}),k[37]=b,k[38]=x,k[39]=C):C=k[39],C})}function qC(e){return{type:e.type,kind:e.kind}}function qk(e){return qy(e)}function qw(e){return{type:e.type,kind:e.kind}}function q_(e){return qy(e)}function qj(e){return{type:e.type,kind:e.kind}}function qS(e){return qy(e)}function qE(e){return{type:e.type,kind:e.kind}}function qT(e){return qy(e)}function qD(e){let t,n,r=(0,j.c)(5),{hoveringFiles:i,types:a,resolveUploader:o}=e;r[0]!==o||r[1]!==a?(t=e=>a.some(t=>o(t,e)),r[0]=o,r[1]=a,r[2]=t):t=r[2];let l=i.filter(t),s=i.length-l.length,c=a.length>1,{t:u}=IO(),d=l.length>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(I.Inline,{space:2,children:[(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.UploadIcon,{})}),c?u("inputs.files.common.drop-message.drop-to-upload-multi",{count:l.length}):u("inputs.files.common.drop-message.drop-to-upload"),(0,_.jsx)(I.Text,{})]}),s>0&&(0,_.jsx)(I.Box,{marginTop:4,children:(0,_.jsxs)(I.Inline,{space:2,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.AccessDeniedIcon,{})}),(0,_.jsx)(I.Text,{muted:!0,size:1,children:u("inputs.files.common.drop-message.drop-to-upload.rejected-file-message",{count:s})})]})})]}):(0,_.jsxs)(I.Inline,{space:2,children:[(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.AccessDeniedIcon,{})}),(0,_.jsx)(I.Text,{children:u("inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message",{count:i.length})})]});return r[3]!==d?(n=(0,_.jsx)(_.Fragment,{children:d}),r[3]=d,r[4]=n):n=r[4],n}let qI=(0,F.styled)(I.Layer)(kf()),qA=F.styled.div(kh());function qO(e){return e.uploaderCandidates.length>0}function qP(e){return 0===e.uploaderCandidates.length}function qM(e,t){return(0,_.jsxs)(I.Flex,{gap:2,padding:2,children:[(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{weight:"medium",children:e.file.name})}),(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:["(",e.file.type,")"]})})]},t)}function qF(e){return e.uploader.priority}let qR=qf(function(e){let t=qx(e);return(0,E.forwardRef)(function(e,n){let r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(26);h[0]!==e?({children:r,resolveUploader:a,onUpload:i,types:l,...o}=e,h[0]=e,h[1]=r,h[2]=i,h[3]=a,h[4]=o,h[5]=l):(r=h[1],i=h[2],a=h[3],o=h[4],l=h[5]);let{push:m}=(0,A.useToast)(),{t:g}=IO();h[6]!==i?(s=(e,t)=>{let{type:n,uploader:r}=t;null==i||i({file:e,schemaType:n,uploader:r})},h[6]=i,h[7]=s):s=h[7];let y=s;h[8]!==m||h[9]!==a||h[10]!==g||h[11]!==l||h[12]!==y?(c=e=>{if(!a)return;let t=e.map(e=>{var t,n;return{file:e,uploaderCandidates:(t=l,n=a,t.map(t=>({type:t,uploader:n(t,e)})).filter(e=>e.uploader))}}),n=t.filter(qO),r=t.filter(qP);r.length>0&&m({closable:!0,status:"warning",title:g("inputs.array.error.cannot-upload-unable-to-convert",{count:r.length}),description:r.map(qM)}),n.forEach(e=>{y(e.file,(0,nl.default)(e.uploaderCandidates,qF)[0])})},h[8]=m,h[9]=a,h[10]=g,h[11]=l,h[12]=y,h[13]=c):c=h[13];let v=c;h[14]===Symbol.for("react.memo_cache_sentinel")?(u=[],h[14]=u):u=h[14];let[b,x]=(0,E.useState)(u);h[15]===Symbol.for("react.memo_cache_sentinel")?(d=()=>x([]),h[15]=d):d=h[15];let C=d;return h[16]!==b||h[17]!==a||h[18]!==l?(p=a&&b.length>0&&(0,_.jsx)(qI,{zOffset:10,children:(0,_.jsx)(qD,{hoveringFiles:b,types:l,resolveUploader:a})}),h[16]=b,h[17]=a,h[18]=l,h[19]=p):p=h[19],h[20]!==r||h[21]!==n||h[22]!==v||h[23]!==o||h[24]!==p?(f=(0,_.jsx)(qA,{children:(0,_.jsxs)(t,{...o,ref:n,onFiles:v,onFilesOver:x,onFilesOut:C,children:[p,r]})}),h[20]=r,h[21]=n,h[22]=v,h[23]=o,h[24]=p,h[25]=f):f=h[25],f})}((0,F.styled)(I.Card)(km())));function qB(e,t){return"toggle"===t.type?{open:!e.open}:{open:!1}}function qN(e){var t;let n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(22);p[0]===Symbol.for("react.memo_cache_sentinel")?(n={open:!1},p[0]=n):n=p[0];let[f,h]=(0,E.useReducer)(qB,n),m=(0,E.useRef)(null),g=null!=(t=e.popoverProps.referenceElement)?t:null;p[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>h({type:"close"}),p[1]=r):r=p[1],p[2]!==g?(i=()=>[m.current,g],p[2]=g,p[3]=i):i=p[3],(0,I.useClickOutsideEvent)(r,i),p[4]!==g||p[5]!==f.open?(a=e=>{"Escape"===e.key&&f.open&&(h({type:"close"}),null==g||g.focus())},p[4]=g,p[5]=f.open,p[6]=a):a=p[6],(0,I.useGlobalKeyDown)(a),p[7]!==e.insertMenuProps?({onSelect:l,...o}=e.insertMenuProps,p[7]=e.insertMenuProps,p[8]=o,p[9]=l):(o=p[8],l=p[9]),p[10]!==l?(s=e=>{l(e),h({type:"close"})},p[10]=l,p[11]=s):s=p[11];let y=s;p[12]!==y||p[13]!==o?(c=(0,_.jsx)(qL,{...o,onSelect:y}),p[12]=y,p[13]=o,p[14]=c):c=p[14],p[15]!==e.popoverProps||p[16]!==f.open||p[17]!==c?(u=(0,_.jsx)(B.Popover,{ref:m,open:f.open,constrainSize:!0,overflow:"hidden",portal:!0,content:c,...e.popoverProps}),p[15]=e.popoverProps,p[16]=f.open,p[17]=c,p[18]=u):u=p[18];let v=u;return p[19]!==v||p[20]!==f?(d={popover:v,state:f,send:h},p[19]=v,p[20]=f,p[21]=d):d=p[21],d}function qL(e){let t,n,r,i,a,o,l,s=(0,j.c)(19),{t:c}=IO();return s[0]!==c?(t=c("inputs.array.insert-menu.filter.all-items"),s[0]=c,s[1]=t):t=s[1],s[2]!==c?(n=c("inputs.array.insert-menu.search.no-results"),s[2]=c,s[3]=n):n=s[3],s[4]!==c?(r=c("inputs.array.insert-menu.search.placeholder"),s[4]=c,s[5]=r):r=s[5],s[6]!==c?(i=c("inputs.array.insert-menu.toggle-grid-view.tooltip"),s[6]=c,s[7]=i):i=s[7],s[8]!==c?(a=c("inputs.array.insert-menu.toggle-list-view.tooltip"),s[8]=c,s[9]=a):a=s[9],s[10]!==t||s[11]!==n||s[12]!==r||s[13]!==i||s[14]!==a?(o={"insert-menu.filter.all-items":t,"insert-menu.search.no-results":n,"insert-menu.search.placeholder":r,"insert-menu.toggle-grid-view.tooltip":i,"insert-menu.toggle-list-view.tooltip":a},s[10]=t,s[11]=n,s[12]=r,s[13]=i,s[14]=a,s[15]=o):o=s[15],s[16]!==e||s[17]!==o?(l=(0,_.jsx)(bM,{...e,labels:o}),s[16]=e,s[17]=o,s[18]=l):l=s[18],l}function qz(e){var t,n,r,i,a,o,l,s,c,u;let d,p,f,h,m,g,y,v,b,x,C,k,w=(0,j.c)(41),{schemaType:S,readOnly:T,children:D,onValueCreate:A,onItemAppend:O}=e,{t:P}=IO(),[M,F]=(0,E.useState)(null),[N,L]=(0,E.useState)(null);w[0]!==O||w[1]!==A?(d=e=>{O(A(e))},w[0]=O,w[1]=A,w[2]=d):d=w[2];let z=d;w[3]!==z||w[4]!==S.of[0]?(p=()=>{z(S.of[0])},w[3]=z,w[4]=S.of[0],w[5]=p):p=w[5];let V=p,U=S.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";w[6]!==U||w[7]!==P?(f=P(U),w[6]=U,w[7]=P,w[8]=f):f=w[8],w[9]!==f?(h={icon:R.AddIcon,mode:"ghost",size:"large",text:f},w[9]=f,w[10]=h):h=w[10];let H=h,q=null==(t=e.schemaType.options)?void 0:t.insertMenu;w[11]!==z||w[12]!==e.schemaType.of||w[13]!==q?(m={...q,schemaTypes:e.schemaType.of,onSelect:z},w[11]=z,w[12]=e.schemaType.of,w[13]=q,w[14]=m):m=w[14],w[15]===Symbol.for("react.memo_cache_sentinel")?(g=["top"],w[15]=g):g=w[15],w[16]!==(null==(r=e.schemaType.options)||null==(n=r.insertMenu)?void 0:n.views)?(y=null==(o=e.schemaType.options)||null==(a=o.insertMenu)||null==(i=a.views)?void 0:i.some(qV),w[16]=null==(s=e.schemaType.options)||null==(l=s.insertMenu)?void 0:l.views,w[17]=y):y=w[17],w[18]!==M||w[19]!==N||w[20]!==y?(v={placement:"bottom",fallbackPlacements:g,matchReferenceWidth:y,referenceBoundary:M,referenceElement:N},w[18]=M,w[19]=N,w[20]=y,w[21]=v):v=w[21],w[22]!==m||w[23]!==v?(b={insertMenuProps:m,popoverProps:v},w[22]=m,w[23]=v,w[24]=b):b=w[24];let W=qN(b);if(null==(u=S.options)||null==(c=u.disableActions)?void 0:c.includes("add"))return null;if(T){let e,t,n;return w[25]!==P?(e=P("inputs.array.read-only-label"),w[25]=P,w[26]=e):e=w[26],w[27]!==H?(t=(0,_.jsx)(I.Grid,{children:(0,_.jsx)(B.Button,{...H,"data-testid":"add-read-object-button",disabled:!0})}),w[27]=H,w[28]=t):t=w[28],w[29]!==e||w[30]!==t?(n=(0,_.jsx)(B.Tooltip,{portal:!0,content:e,children:t}),w[29]=e,w[30]=t,w[31]=n):n=w[31],n}return w[32]===Symbol.for("react.memo_cache_sentinel")?(x={gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},w[32]=x):x=w[32],w[33]!==V||w[34]!==H||w[35]!==W||w[36]!==S.of.length?(C=1===S.of.length?(0,_.jsx)(B.Button,{...H,onClick:V,"data-testid":"add-single-object-button"}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.Button,{...H,"data-testid":"add-multiple-object-button",selected:W.state.open,onClick:()=>{W.send({type:"toggle"})},ref:L}),W.popover]}),w[33]=V,w[34]=H,w[35]=W,w[36]=S.of.length,w[37]=C):C=w[37],w[38]!==D||w[39]!==C?(k=(0,_.jsxs)(I.Grid,{ref:F,gap:1,style:x,children:[C,D]}),w[38]=D,w[39]=C,w[40]=k):k=w[40],k}function qV(e){return"grid"===e.name}let qU=(0,F.styled)(B.Button)(e=>{let{$grid:t,disabled:n}=e;return n?(0,F.css)(kg()):(0,F.css)(ky(),t?"move":"ns-resize")}),qH=function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(20),u=(0,E.useContext)(D.SortableItemIdContext);c[0]!==e?({mode:r,readOnly:t,...n}=e,c[0]=e,c[1]=t,c[2]=n,c[3]=r):(t=c[1],n=c[2],r=c[3]);let d=void 0===r?"bleed":r;c[4]!==u||c[5]!==t?(i={id:u,disabled:t},c[4]=u,c[5]=t,c[6]=i):i=c[6];let{listeners:p,attributes:f}=(0,nA.useSortable)(i),{t:h}=IO();c[7]!==h?(a=h("inputs.array.action.drag.tooltip"),c[7]=h,c[8]=a):a=c[8],c[9]===Symbol.for("react.memo_cache_sentinel")?(o={open:1e3},c[9]=o):o=c[9];let m=!!t;return c[10]!==a||c[11]!==m?(l={content:a,delay:o,disabled:m},c[10]=a,c[11]=m,c[12]=l):l=c[12],c[13]!==f||c[14]!==p||c[15]!==d||c[16]!==t||c[17]!==n||c[18]!==l?(s=(0,_.jsx)(qU,{icon:R.DragHandleIcon,tooltipProps:l,mode:d,"data-ui":"DragHandleButton",...n,...f,...p,disabled:t}),c[13]=f,c[14]=p,c[15]=d,c[16]=t,c[17]=n,c[18]=l,c[19]=s):s=c[19],s},qq=(0,F.styled)(I.Flex)(kv()),qW=(0,F.styled)(I.Flex)(kb()),qY=(0,F.styled)(I.Card)(kx()),qK=(0,F.styled)(I.Card)(kC(),qY,qY,qn);function qG(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(32);return y[0]!==e?({validation:u,selected:s,tone:c,presence:a,children:t,dragHandle:n,menu:i,footer:r,readOnly:o,...l}=e,y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=i,y[5]=a,y[6]=o,y[7]=l,y[8]=s,y[9]=c,y[10]=u):(t=y[1],n=y[2],r=y[3],i=y[4],a=y[5],o=y[6],l=y[7],s=y[8],c=y[9],u=y[10]),y[11]!==n||y[12]!==o?(d=n&&(0,_.jsx)(qY,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:(0,_.jsx)(qH,{$grid:!0,mode:"ghost",readOnly:!!o})}),y[11]=n,y[12]=o,y[13]=d):d=y[13],y[14]!==a?(p=a&&(0,_.jsx)(qW,{align:"center",marginX:1,children:a}),y[14]=a,y[15]=p):p=y[15],y[16]!==u?(f=(0,_.jsx)(I.Flex,{children:u}),y[16]=u,y[17]=f):f=y[17],y[18]!==r?(h=(0,_.jsx)(I.Box,{children:r}),y[18]=r,y[19]=h):h=y[19],y[20]!==i||y[21]!==f||y[22]!==h?(m=(0,_.jsxs)(qq,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[f,h,i]}),y[20]=i,y[21]=f,y[22]=h,y[23]=m):m=y[23],y[24]!==t||y[25]!==l||y[26]!==s||y[27]!==d||y[28]!==p||y[29]!==m||y[30]!==c?(g=(0,_.jsxs)(qK,{forwardedAs:I.Flex,direction:"column",border:!0,selected:s,"aria-selected":s,radius:1,tone:c,...l,children:[t,d,p,m]}),y[24]=t,y[25]=l,y[26]=s,y[27]=d,y[28]=p,y[29]=m,y[30]=c,y[31]=g):g=y[31],g}let q$=(0,F.styled)(I.Card)(kk(),e=>{let{theme:t}=e;return t.sanity.container[1]});function qZ(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O=(0,j.c)(55);if(O[0]!==e){let{value:i,onFocus:a,vertical:o,...l}=e;r=i,t=a,n=l,O[0]=e,O[1]=t,O[2]=n,O[3]=r}else t=O[1],n=O[2],r=O[3];let[P,M]=(0,E.useState)(!1),F=(0,E.useRef)(null),{t:N}=IO();O[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>M(!1),a=()=>[F.current],O[4]=i,O[5]=a):(i=O[4],a=O[5]),(0,I.useClickOutsideEvent)(i,a),O[6]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{("Escape"===e.key||"Tab"===e.key)&&M(!1)},O[6]=o):o=O[6];let L=o;O[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{M(qX)},O[7]=l):l=O[7];let z=l;O[8]!==r?(s=(0,nw.resolveTypeName)(r),O[8]=r,O[9]=s):s=O[9];let V=s;return O[10]!==N?(c=N("inputs.array.error.type-is-incompatible-title"),O[10]=N,O[11]=c):c=O[11],O[12]!==c?(u=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{weight:"medium",children:c})}),O[12]=c,O[13]=u):u=O[13],O[14]!==V?(d={typeName:V},O[14]=V,O[15]=d):d=O[15],O[16]!==N||O[17]!==d?(p=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:N,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:d})}),O[16]=N,O[17]=d,O[18]=p):p=O[18],O[19]===Symbol.for("react.memo_cache_sentinel")?(f=(0,_.jsx)(R.BulbOutlineIcon,{}),O[19]=f):f=O[19],O[20]!==N?(h=N("inputs.array.error.can-delete-but-no-edit-description"),O[20]=N,O[21]=h):h=O[21],O[22]!==h?(m=(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:[f," ",h]})}),O[22]=h,O[23]=m):m=O[23],O[24]!==N?(g=N("inputs.array.error.json-representation-description"),O[24]=N,O[25]=g):g=O[25],O[26]!==g?(y=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:g}),O[26]=g,O[27]=y):y=O[27],O[28]!==r?(v=JSON.stringify(r,null,2),O[28]=r,O[29]=v):v=O[29],O[30]!==v?(b=(0,_.jsx)(I.Card,{padding:2,overflow:"auto",border:!0,children:(0,_.jsx)(I.Code,{size:1,as:"pre",language:"json",children:v})}),O[30]=v,O[31]=b):b=O[31],O[32]!==y||O[33]!==b?(x=(0,_.jsxs)(I.Stack,{space:2,children:[y,b]}),O[32]=y,O[33]=b,O[34]=x):x=O[34],O[35]!==m||O[36]!==x||O[37]!==u||O[38]!==p?(C=(0,_.jsx)(q$,{margin:1,padding:3,onKeyDown:L,tabIndex:0,overflow:"auto",children:(0,_.jsxs)(I.Stack,{space:4,children:[u,p,m,x]})}),O[35]=m,O[36]=x,O[37]=u,O[38]=p,O[39]=C):C=O[39],O[40]===Symbol.for("react.memo_cache_sentinel")?(k={height:"100%"},O[40]=k):k=O[40],O[41]===Symbol.for("react.memo_cache_sentinel")?(w=(0,_.jsx)(I.Box,{margin:1,children:(0,_.jsx)(I.Text,{align:"center",size:4,children:(0,_.jsx)(R.UnknownIcon,{})})}),O[41]=w):w=O[41],O[42]!==V?(S={typeName:V},O[42]=V,O[43]=S):S=O[43],O[44]!==N||O[45]!==S?(T=(0,_.jsxs)(I.Stack,{space:4,marginTop:2,children:[w,(0,_.jsx)(I.Text,{align:"center",size:1,children:(0,_.jsx)(IZ,{t:N,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:S})})]}),O[44]=N,O[45]=S,O[46]=T):T=O[46],O[47]!==t||O[48]!==n||O[49]!==T?(D=(0,_.jsx)(I.Card,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:k,onFocus:t,onClick:z,onKeyDown:L,__unstable_focusRing:!0,...n,children:T}),O[47]=t,O[48]=n,O[49]=T,O[50]=D):D=O[50],O[51]!==P||O[52]!==C||O[53]!==D?(A=(0,_.jsx)(B.Popover,{open:P,ref:F,onKeyDown:L,portal:!0,constrainSize:!0,tone:"default",content:C,children:D}),O[51]=P,O[52]=C,O[53]=D,O[54]=A):A=O[54],A}function qX(e){return!e}let qJ={portal:!0,tone:"default"};function qQ(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(22),{member:u,sortable:d,readOnly:p}=e,f=(0,E.useId)(),{onChange:h}=L3(),{t:m}=IO();c[0]!==u.key||c[1]!==h?(t=()=>{h(zU.from([LN([{_key:u.key}])]))},c[0]=u.key,c[1]=h,c[2]=t):t=c[2];let g=t;c[3]===Symbol.for("react.memo_cache_sentinel")?(n={height:"100%"},c[3]=n):n=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(DO,{}),c[4]=r):r=c[4];let y="".concat(f,"-menuButton");return c[5]!==m?(i=m("inputs.array.action.remove-invalid-item"),c[5]=m,c[6]=i):i=c[6],c[7]!==g||c[8]!==i?(a=(0,_.jsx)(I.Menu,{children:(0,_.jsx)(B.MenuItem,{text:i,tone:"critical",icon:R.TrashIcon,onClick:g})}),c[7]=g,c[8]=i,c[9]=a):a=c[9],c[10]!==y||c[11]!==a?(o=(0,_.jsx)(B.MenuButton,{button:r,id:y,menu:a,popover:qJ}),c[10]=y,c[11]=a,c[12]=o):o=c[12],c[13]!==u.error.type||c[14]!==u.error.value||c[15]!==m?(l="INVALID_ITEM_TYPE"===u.error.type?(0,_.jsx)(qZ,{value:u.error.value,vertical:!0}):(0,_.jsx)("div",{children:m("inputs.array.error.unexpected-error",{error:u.error.type})}),c[13]=u.error.type,c[14]=u.error.value,c[15]=m,c[16]=l):l=c[16],c[17]!==p||c[18]!==d||c[19]!==o||c[20]!==l?(s=(0,_.jsx)(qG,{dragHandle:d,readOnly:p,tone:"caution",style:n,menu:o,children:l}),c[17]=p,c[18]=d,c[19]=o,c[20]=l,c[21]=s):s=c[21],s}let q1=e=>"error"===e.severity,q2=cg.compile({name:"studio",types:nm.builtinTypes});PT(q2);let q0=new nm.DescriptorConverter({ruleClass:Pb,validationExtractor:function e(t){return t?Array.isArray(t)?t.flatMap(t=>e(t)):"object"==typeof t?[t]:e(t(new Pb)):[]}});function q5(e){return"string"==typeof e.title?e.title:e.type?q5(e.type):e.name||e.jsonType}let q7={block:function(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(30),{actions:f,title:h,subtitle:m,description:g,mediaDimensions:y,media:v,status:b,children:x}=e,C=void 0===y?eT6:y;p[0]!==v||p[1]!==C?(t=v&&(0,_.jsx)(eTM,{dimensions:C,layout:"block",media:v}),p[0]=v,p[1]=C,p[2]=t):t=p[2];let k=v?2:1;return p[3]!==h?(n=h?eTF(h,"block"):"Untitled",p[3]=h,p[4]=n):n=p[4],p[5]!==n?(r=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:n}),p[5]=n,p[6]=r):r=p[6],p[7]!==m?(i=m&&(0,_.jsx)(I.Box,{marginTop:2,children:(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:eTF(m,"block")})}),p[7]=m,p[8]=i):i=p[8],p[9]!==g?(a=g&&(0,_.jsx)(I.Box,{marginTop:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:eTF(g,"block")})}),p[9]=g,p[10]=a):a=p[10],p[11]!==k||p[12]!==r||p[13]!==i||p[14]!==a?(o=(0,_.jsxs)(I.Box,{flex:1,paddingLeft:k,children:[r,i,a]}),p[11]=k,p[12]=r,p[13]=i,p[14]=a,p[15]=o):o=p[15],p[16]!==b?(l=b&&(0,_.jsx)(I.Box,{paddingX:2,paddingY:3,children:eTF(b,"block")}),p[16]=b,p[17]=l):l=p[17],p[18]!==l||p[19]!==f?(s=(0,_.jsxs)(I.Flex,{gap:1,paddingLeft:1,children:[l,f]}),p[18]=l,p[19]=f,p[20]=s):s=p[20],p[21]!==t||p[22]!==s||p[23]!==o?(c=(0,_.jsxs)(eT9,{"data-testid":"block-preview__header",children:[t,o,s]}),p[21]=t,p[22]=s,p[23]=o,p[24]=c):c=p[24],p[25]!==x?(u=x&&(0,_.jsx)("div",{"data-testid":"block-preview__children",children:x}),p[25]=x,p[26]=u):u=p[26],p[27]!==c||p[28]!==u?(d=(0,_.jsxs)(I.Stack,{"data-testid":"block-preview",space:1,children:[c,u]}),p[27]=c,p[28]=u,p[29]=d):d=p[29],d},blockImage:function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(35),{actions:m,title:g,subtitle:y,description:v,fallbackTitle:b,mediaDimensions:x,media:C,children:k,status:w}=e,S=void 0===b?"Untitled":b,E=void 0===x?eT4:x;return h[0]!==S||h[1]!==g?(t=(g||S)&&(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:g?eTF(g,"block"):S}),h[0]=S,h[1]=g,h[2]=t):t=h[2],h[3]!==y?(n=y&&(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:eTF(y,"block")}),h[3]=y,h[4]=n):n=h[4],h[5]!==t||h[6]!==n?(r=(0,_.jsxs)(I.Stack,{flex:1,space:2,children:[t,n]}),h[5]=t,h[6]=n,h[7]=r):r=h[7],h[8]!==w?(i=w&&(0,_.jsx)(I.Box,{paddingX:2,paddingY:3,children:eTF(w,"block")}),h[8]=w,h[9]=i):i=h[9],h[10]!==i||h[11]!==m?(a=(0,_.jsxs)(I.Flex,{gap:1,paddingLeft:1,children:[i,m]}),h[10]=i,h[11]=m,h[12]=a):a=h[12],h[13]!==r||h[14]!==a?(o=(0,_.jsxs)(eT7,{paddingBottom:3,paddingLeft:2,paddingRight:1,paddingTop:1,children:[r,a]}),h[13]=r,h[14]=a,h[15]=o):o=h[15],h[16]!==E?(l=(e=>{let{height:t,width:n}=e;return t&&n?t/n*100:1})(E),h[16]=E,h[17]=l):l=h[17],h[18]!==E||h[19]!==C?(s=(0,_.jsx)(eTM,{border:!1,dimensions:E,layout:"blockImage",media:C,radius:0,responsive:!0}),h[18]=E,h[19]=C,h[20]=s):s=h[20],h[21]!==s||h[22]!==l?(c=(0,_.jsx)(eT3,{$ratio:l,__unstable_checkered:!0,display:"flex",sizing:"border",radius:2,tone:"inherit",children:s}),h[21]=s,h[22]=l,h[23]=c):c=h[23],h[24]!==c||h[25]!==o?(u=(0,_.jsxs)(I.Stack,{children:[o,c]}),h[24]=c,h[25]=o,h[26]=u):u=h[26],h[27]!==v?(d=v&&(0,_.jsx)(I.Box,{paddingX:2,paddingY:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:eTF(v,"block")})}),h[27]=v,h[28]=d):d=h[28],h[29]!==k?(p=k&&(0,_.jsx)("div",{children:k}),h[29]=k,h[30]=p):p=h[30],h[31]!==u||h[32]!==d||h[33]!==p?(f=(0,_.jsxs)(eT8,{children:[u,d,p]}),h[31]=u,h[32]=d,h[33]=p,h[34]=f):f=h[34],f},compact:function(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(32),{children:d,isPlaceholder:p,media:f,status:h,title:m}=e,{t:g}=IO();u[0]!==h?(t=h&&(0,_.jsx)(I.Box,{"data-testid":"compact-preview__status",paddingLeft:4,paddingRight:1,children:eTF(h,"compact")}),u[0]=h,u[1]=t):t=u[1];let y=t;if(p){let e,t,n,r,i=f?1:2;return u[2]!==f?(e=f&&(0,_.jsx)(A.Skeleton,{animated:!0,radius:2,style:esV.compact.media}),u[2]=f,u[3]=e):e=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Stack,{"data-testid":"compact-preview__heading",flex:1,space:2,children:(0,_.jsx)(eTN,{})}),u[4]=t):t=u[4],u[5]!==y||u[6]!==e?(n=(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:2,children:[e,t,y]}),u[5]=y,u[6]=e,u[7]=n):n=u[7],u[8]!==i||u[9]!==n?(r=(0,_.jsx)(eTB,{align:"center","data-testid":"default-preview",paddingLeft:i,paddingRight:2,paddingY:1,children:n}),u[8]=i,u[9]=n,u[10]=r):r=u[10],r}let v=f?1:2;return u[11]!==f?(n=f&&(0,_.jsx)(eTM,{border:!1,dimensions:eTR,layout:"compact",media:f}),u[11]=f,u[12]=n):n=u[12],u[13]===Symbol.for("react.memo_cache_sentinel")?(r={color:"inherit"},u[13]=r):r=u[13],u[14]!==m?(i=m&&eTF(m,"compact"),u[14]=m,u[15]=i):i=u[15],u[16]!==g||u[17]!==m?(a=!m&&(0,_.jsx)("span",{style:{color:"var(--card-muted-fg-color)"},children:g("preview.default.title-fallback")}),u[16]=g,u[17]=m,u[18]=a):a=u[18],u[19]!==i||u[20]!==a?(o=(0,_.jsx)(I.Stack,{"data-testid":"compact-preview__header",flex:1,space:2,children:(0,_.jsxs)(I.Text,{size:1,style:r,textOverflow:"ellipsis",weight:"medium",children:[i,a]})}),u[19]=i,u[20]=a,u[21]=o):o=u[21],u[22]!==y||u[23]!==n||u[24]!==o?(l=(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:2,children:[n,o,y]}),u[22]=y,u[23]=n,u[24]=o,u[25]=l):l=u[25],u[26]!==d?(s=d&&(0,_.jsx)(I.Box,{marginLeft:1,children:d}),u[26]=d,u[27]=s):s=u[27],u[28]!==v||u[29]!==l||u[30]!==s?(c=(0,_.jsxs)(eTB,{align:"center","data-testid":"compact-preview",paddingLeft:v,paddingRight:2,paddingY:1,children:[l,s]}),u[28]=v,u[29]=l,u[30]=s,u[31]=c):c=u[31],c},default:eTH,detail:function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(47),{title:h,subtitle:m,description:g,mediaDimensions:y,media:v,status:b,children:x,isPlaceholder:C}=e,k=void 0===y?eTq:y,{t:w}=IO();f[0]!==b?(t=b&&(0,_.jsx)(esH,{marginLeft:3,paddingRight:1,children:eTF(b,"detail")}),f[0]=b,f[1]=t):t=f[1];let S=t;if(C){let e,t,n,r,i,a,o,l=v?2:3;return f[2]!==v?(e=v&&(0,_.jsx)(esq,{"data-testid":"detail-preview__media"}),f[2]=v,f[3]=e):e=f[3],f[4]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(esW,{}),n=(0,_.jsx)(esY,{}),f[4]=t,f[5]=n):(t=f[4],n=f[5]),f[6]!==g?(r=g&&(0,_.jsx)(I.Box,{marginTop:1,children:(0,_.jsx)(esK,{})}),f[6]=g,f[7]=r):r=f[7],f[8]!==r?(i=(0,_.jsx)(I.Flex,{align:"center","data-testid":"detail-preview__header",flex:1,children:(0,_.jsxs)(I.Stack,{flex:1,space:2,children:[t,n,r]})}),f[8]=r,f[9]=i):i=f[9],f[10]!==S||f[11]!==e||f[12]!==i?(a=(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:3,children:[e,i,S]}),f[10]=S,f[11]=e,f[12]=i,f[13]=a):a=f[13],f[14]!==l||f[15]!==a?(o=(0,_.jsx)(esU,{"data-testid":"detail-preview",paddingLeft:l,paddingRight:2,paddingY:2,children:a}),f[14]=l,f[15]=a,f[16]=o):o=f[16],o}let E=v?2:3;return f[17]!==v||f[18]!==k?(n=v&&(0,_.jsx)(eTM,{dimensions:k,layout:"detail",media:v}),f[17]=v,f[18]=k,f[19]=n):n=f[19],f[20]===Symbol.for("react.memo_cache_sentinel")?(r={color:"inherit"},f[20]=r):r=f[20],f[21]!==h?(i=h&&eTF(h,"detail"),f[21]=h,f[22]=i):i=f[22],f[23]!==w||f[24]!==h?(a=!h&&(0,_.jsx)(_.Fragment,{children:w("preview.default.title-fallback")}),f[23]=w,f[24]=h,f[25]=a):a=f[25],f[26]!==i||f[27]!==a?(o=(0,_.jsxs)(I.Text,{textOverflow:"ellipsis",size:1,style:r,weight:"medium",children:[i,a]}),f[26]=i,f[27]=a,f[28]=o):o=f[28],f[29]!==m?(l=m&&(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:eTF(m,"detail")}),f[29]=m,f[30]=l):l=f[30],f[31]!==g?(s=g&&(0,_.jsx)(I.Box,{marginTop:1,children:(0,_.jsx)(esG,{muted:!0,size:1,children:eTF(g,"detail")})}),f[31]=g,f[32]=s):s=f[32],f[33]!==o||f[34]!==l||f[35]!==s?(c=(0,_.jsxs)(I.Stack,{flex:1,space:2,children:[o,l,s]}),f[33]=o,f[34]=l,f[35]=s,f[36]=c):c=f[36],f[37]!==S||f[38]!==c?(u=(0,_.jsxs)(I.Flex,{align:"center","data-testid":"detail-preview__header",flex:1,children:[c,S]}),f[37]=S,f[38]=c,f[39]=u):u=f[39],f[40]!==x||f[41]!==u||f[42]!==n?(d=(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:3,children:[n,u,x]}),f[40]=x,f[41]=u,f[42]=n,f[43]=d):d=f[43],f[44]!==d||f[45]!==E?(p=(0,_.jsx)(esU,{"data-testid":"detail-preview",paddingLeft:E,paddingRight:2,paddingY:2,children:d}),f[44]=d,f[45]=E,f[46]=p):p=f[46],p},inline:function(e){let t,n,r,i,a=(0,j.c)(11),{title:o,fallbackTitle:l,media:s,mediaDimensions:c}=e,u=void 0===l?"Untitled":l,d=void 0===c?eDr:c;return a[0]!==s||a[1]!==d?(t=s&&(0,_.jsxs)(eDt,{"data-testid":"inline-preview-media",children:[(0,ta.isValidElementType)(s)?(0,_.jsx)(s,{layout:"inline",dimensions:d}):"string"==typeof s?(0,_.jsx)("div",{children:s}):s,(0,_.jsx)("span",{})]}),a[0]=s,a[1]=d,a[2]=t):t=a[2],a[3]!==u||a[4]!==o?(n=eTF(o,"inline",u),a[3]=u,a[4]=o,a[5]=n):n=a[5],a[6]!==n?(r=(0,_.jsx)(eDn,{"data-testid":"inline-preview-title",size:1,children:n}),a[6]=n,a[7]=r):r=a[7],a[8]!==t||a[9]!==r?(i=(0,_.jsxs)(eDe,{"data-testid":"inline-preview",children:[t,r]}),a[8]=t,a[9]=r,a[10]=i):i=a[10],i},media:function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(30),{media:u,mediaDimensions:d,children:p,isPlaceholder:f,progress:h,subtitle:m,title:g,withBorder:y,withRadius:v}=e,b=void 0===d?eT5:d,x=void 0===h?-1:h,C=void 0===y||y,k=void 0===v||v,w="".concat(100/(b.aspect||1),"%");c[0]!==w?(t={paddingBottom:w},c[0]=w,c[1]=t):t=c[1];let S=t;e:{let e,t,r;if(!g||!m){n=null;break e}c[2]!==g?(e=g&&(0,_.jsx)(I.Text,{align:"center",size:1,weight:"medium",children:eTF(g,"media")}),c[2]=g,c[3]=e):e=c[3],c[4]!==m?(t=m&&(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:eTF(m,"media")}),c[4]=m,c[5]=t):t=c[5],c[6]!==e||c[7]!==t?(r=(0,_.jsxs)(eT0,{children:[e,t]}),c[6]=e,c[7]=t,c[8]=r):r=c[8],n=r}let E=n;c[9]!==S?(r=(0,_.jsx)("div",{style:S}),c[9]=S,c[10]=r):r=c[10];let T=!E;return c[11]!==f||c[12]!==u||c[13]!==b||c[14]!==C||c[15]!==k?(i=f?(0,_.jsx)(eT1,{}):(0,_.jsx)(eTM,{border:C,dimensions:b,layout:"media",media:u,radius:+!!k,responsive:!0}),c[11]=f,c[12]=u,c[13]=b,c[14]=C,c[15]=k,c[16]=i):i=c[16],c[17]!==x?(a="number"==typeof x&&x>-1&&(0,_.jsx)(eT2,{children:(0,_.jsx)(eTG,{value:x})}),c[17]=x,c[18]=a):a=c[18],c[19]!==a||c[20]!==i?(o=(0,_.jsxs)(eTQ,{children:[i,a]}),c[19]=a,c[20]=i,c[21]=o):o=c[21],c[22]!==o||c[23]!==T||c[24]!==E?(l=(0,_.jsx)(B.Tooltip,{content:E,disabled:T,placement:"top",portal:!0,children:o}),c[22]=o,c[23]=T,c[24]=E,c[25]=l):l=c[25],c[26]!==p||c[27]!==l||c[28]!==r?(s=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsxs)(eTJ,{"data-testid":"media-preview",flex:1,overflow:"hidden",children:[r,l,p]})}),c[26]=p,c[27]=l,c[28]=r,c[29]=s):s=c[29],s}};function q3(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.DocumentIcon,{className:"sanity-studio__preview-fallback-icon"}),t[0]=e):e=t[0],e}let q8=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(33);h[0]!==e?({icon:t,layout:r,media:i,imageUrl:n,title:o,tooltip:l,...a}=e,h[0]=e,h[1]=t,h[2]=n,h[3]=r,h[4]=i,h[5]=a,h[6]=o,h[7]=l):(t=h[1],n=h[2],r=h[3],i=h[4],a=h[5],o=h[6],l=h[7]);let m=eTt(AE);h[8]!==m?(s=(0,ty.default)(m),h[8]=m,h[9]=s):s=h[9];let g=s;h[10]!==g||h[11]!==i||h[12]!==o?(c=e=>{let{dimensions:t}=e,n=t.width||100,r=t.height||100;return(0,_.jsx)("img",{alt:Il(o)?o:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:g.image(i).width(n).height(r).fit(t.fit).dpr(t.dpr||1).url()||""})},h[10]=g,h[11]=i,h[12]=o,h[13]=c):c=h[13];let y=c;h[14]!==t?(u=()=>t?(0,_.jsx)(t,{}):(0,_.jsx)(q3,{}),h[14]=t,h[15]=u):u=h[15];let v=u;e:{if(!1===t){d=!1;break e}if((0,ta.isValidElementType)(i)||(0,E.isValidElement)(i)){d=i;break e}if((0,tg.isImageSource)(i)){d=y;break e}if(Il(n)){let e,t=Il(o)?o:void 0;h[16]!==n||h[17]!==t?(e=(0,_.jsx)("img",{src:n,alt:t,referrerPolicy:"strict-origin-when-cross-origin"}),h[16]=n,h[17]=t,h[18]=e):e=h[18],d=e;break e}d=v}let b=d;h[19]!==a||h[20]!==b||h[21]!==o?(p={...a,media:b,title:o},h[19]=a,h[20]=b,h[21]=o,h[22]=p):p=h[22];let x=p,C=q7[r||"default"];h[23]!==C||h[24]!==x?(f=(0,_.jsx)(C,{...x}),h[23]=C,h[24]=x,h[25]=f):f=h[25];let k=f;if(l){let e,t,n,r=!l;return h[26]===Symbol.for("react.memo_cache_sentinel")?(e=["top-end","bottom-end"],h[26]=e):e=h[26],h[27]!==k?(t=(0,_.jsx)("div",{children:k}),h[27]=k,h[28]=t):t=h[28],h[29]!==r||h[30]!==t||h[31]!==l?(n=(0,_.jsx)(B.Tooltip,{content:l,disabled:r,fallbackPlacements:e,placement:"right",children:t}),h[29]=r,h[30]=t,h[31]=l,h[32]=n):n=h[32],n}return k});function q4(e){return e.reduce((e,t)=>(null==t?void 0:t.children)?[...e,t,...q4(t.children)]:[...e,t],[]).map(e=>{let{children:t,...n}=e;return n})}function q6(e){var t;return(null==(t=e._system)?void 0:t.delete)===!0}q8.displayName="Memo(SanityDefaultPreview)";let q9={isLoading:!0},We={isLoading:!1,value:{title:void 0,description:void 0}};function Wt(e){let{enabled:t=!0,ordering:n,schemaType:r,value:i,perspectiveStack:a}=e||{},{observeForPreview:o}=Fu(),{perspectiveStack:l}=Ar(),s=(0,E.useMemo)(()=>{if(!t||!i||!r)return(0,Y.of)(We);let e=q6(i)?[]:null!=a?a:l;return o({_id:q6(i)?(0,th.getPublishedId)(i._id):i._id,...q6(i)?{}:{...i}},r,{perspective:e,viewOptions:{ordering:n}}).pipe((0,Z.map)(e=>({isLoading:!1,value:e.snapshot||void 0})),(0,J.catchError)(e=>(0,Y.of)({isLoading:!1,error:e})))},[t,i,r,a,l,o,n]);return(0,te.useObservable)(s,q9)}function Wn(e){var t,n,r;let i,a,o,l=(0,j.c)(9),s=Wt(e),{t:c}=IO(),u=null==s?void 0:s.value;return l[0]!==(null==s||null==(t=s.value)?void 0:t.title)||l[1]!==c?(i=(null==s||null==(n=s.value)?void 0:n.title)||c("preview.default.title-fallback"),l[0]=null==s||null==(r=s.value)?void 0:r.title,l[1]=c,l[2]=i):i=l[2],l[3]!==u||l[4]!==i?(a={...u,title:i},l[3]=u,l[4]=i,l[5]=a):a=l[5],l[6]!==s||l[7]!==a?(o={...s,value:a},l[6]=s,l[7]=a,l[8]=o):o=l[8],o}function Wr(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(24),{item:u,onPathSelect:d,selected:p,isFirst:f,renderMenuItemTitle:h}=e;c[0]!==u.schemaType||c[1]!==u.value?(t={schemaType:u.schemaType,value:u.value},c[0]=u.schemaType,c[1]=u.value,c[2]=t):t=c[2];let{value:m}=Wn(t),{title:g}=m,y=f?void 0:1;return c[3]!==u.path||c[4]!==d?(n=()=>d(u.path),c[3]=u.path,c[4]=d,c[5]=n):n=c[5],c[6]!==h||c[7]!==m?(r=h(m),c[6]=h,c[7]=m,c[8]=r):r=c[8],c[9]!==r?(i=(0,_.jsx)(I.Flex,{flex:1,children:r}),c[9]=r,c[10]=i):i=c[10],c[11]!==p?(a=p&&(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.CheckmarkIcon,{})}),c[11]=p,c[12]=a):a=c[12],c[13]!==i||c[14]!==a?(o=(0,_.jsxs)(I.Flex,{align:"center",gap:3,justify:"space-between",children:[i,a]}),c[13]=i,c[14]=a,c[15]=o):o=c[15],c[16]!==p||c[17]!==n||c[18]!==o||c[19]!==g?(l=(0,_.jsx)(I.Button,{mode:"bleed",onClick:n,selected:p,title:g,padding:2,children:o}),c[16]=p,c[17]=n,c[18]=o,c[19]=g,c[20]=l):l=c[20],c[21]!==y||c[22]!==l?(s=(0,_.jsx)(I.Stack,{marginTop:y,children:l}),c[21]=y,c[22]=l,c[23]=s):s=c[23],s}function Wi(e){let t,n,r,i,a,o=(0,j.c)(17),{items:l,onPathSelect:s,selectedPath:c,collapsed:u}=e,d=void 0!==u&&u,{t:p}=IO();o[0]!==l||o[1]!==c?(t=e=>{let t=l[e];return(0,e4.default)(t.path,c)},o[0]=l,o[1]=c,o[2]=t):t=o[2];let f=t;o[3]!==d?(n=e=>{let{title:t,media:n}=e;return d?(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[(0,_.jsx)(I.Text,{size:1,muted:!0,children:"/"}),(0,_.jsx)(q8,{title:t,media:n,layout:"inline"})]}):(0,_.jsx)(q8,{title:t,media:n,layout:"inline"})},o[3]=d,o[4]=n):n=o[4];let h=n;o[5]!==h||o[6]!==l[0].path||o[7]!==s||o[8]!==c?(r=e=>{let t=(0,e4.default)(e.path,c),n=(0,e4.default)(e.path,l[0].path);return(0,_.jsx)(Wr,{isFirst:n,item:e,onPathSelect:s,renderMenuItemTitle:h,selected:t})},o[5]=h,o[6]=l[0].path,o[7]=s,o[8]=c,o[9]=r):r=o[9];let m=r;return o[10]!==p?(i=p("tree-editing-dialog.breadcrumbs.menu"),o[10]=p,o[11]=i):i=o[11],o[12]!==f||o[13]!==l||o[14]!==m||o[15]!==i?(a=(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:i,autoFocus:IC?void 0:"input","data-testid":"tree-editing-breadcrumbs-menu",getItemDisabled:f,itemHeight:33,items:l,overscan:5,padding:1,renderItem:m}),o[12]=f,o[13]=l,o[14]=m,o[15]=i,o[16]=a):a=o[16],a}let Wa=["bottom-start"],Wo=(0,F.styled)(I.Flex)(kw()),Wl=(0,F.styled)(I.Card)(k_()),Ws=(0,F.styled)(I.Flex)(e=>{let{$maxDisplayedItems:t,$itemHeight:n}=e;return(0,F.css)(kj(),n,t)}),Wc=(0,F.styled)(B.Popover)(()=>(0,F.css)(kS(),e=>{let{theme:t}=e;return t.sanity.radius[3]}));function Wu(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(32),{button:f,collapsed:h,items:m,menuTitle:g,onPathSelect:y,parentElement:v,selectedPath:b}=e,x=void 0!==h&&h,[C,k]=(0,E.useState)(!1),w=(0,E.useRef)(null),[S,T]=(0,E.useState)(null);p[0]!==S||p[1]!==C?(t=()=>{C&&(k(!1),null==S||S.focus())},p[0]=S,p[1]=C,p[2]=t):t=p[2];let D=t;p[3]!==D?(n=e=>{let{key:t,shiftKey:n}=e;(n&&"Tab"===t||"Escape"===t||"Tab"===t)&&D()},p[3]=D,p[4]=n):n=p[4];let A=n;p[5]!==C?(r=()=>{k(!C)},p[5]=C,p[6]=r):r=p[6];let O=r;p[7]!==y?(i=e=>{y(e),k(!1)},p[7]=y,p[8]=i):i=p[8];let P=i;p[9]===Symbol.for("react.memo_cache_sentinel")?(a=()=>k(!1),p[9]=a):a=p[9],p[10]!==S?(o=()=>[w.current,S],p[10]=S,p[11]=o):o=p[11],(0,I.useClickOutsideEvent)(a,o),p[12]!==g?(l=g&&(0,_.jsx)(Wl,{borderBottom:!0,padding:3,sizing:"border",children:(0,_.jsx)(I.Box,{paddingX:1,sizing:"border",children:(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",weight:"semibold",title:g,children:g})})}),p[12]=g,p[13]=l):l=p[13],p[14]!==x||p[15]!==P||p[16]!==m||p[17]!==b?(s=(0,_.jsx)(Wi,{collapsed:x,items:m,onPathSelect:P,selectedPath:b}),p[14]=x,p[15]=P,p[16]=m,p[17]=b,p[18]=s):s=p[18],p[19]!==l||p[20]!==s?(c=(0,_.jsx)(Wo,{direction:"column",flex:1,forwardedAs:ts.default,height:"fill",returnFocus:!0,children:(0,_.jsxs)(Ws,{$itemHeight:33,$maxDisplayedItems:50,direction:"column",overflow:"hidden",children:[l,s]})}),p[19]=l,p[20]=s,p[21]=c):c=p[21];let M=c;p[22]!==f||p[23]!==O||p[24]!==C?(u=(0,E.cloneElement)(f,{"aria-expanded":C,"aria-haspopup":"true","data-testid":"tree-editing-breadcrumb-menu-button",id:"tree-breadcrumb-menu-button",onClick:O,ref:T,selected:C}),p[22]=f,p[23]=O,p[24]=C,p[25]=u):u=p[25];let F=u;return p[26]!==F||p[27]!==M||p[28]!==A||p[29]!==C||p[30]!==v?(d=(0,_.jsx)(Wc,{constrainSize:!0,content:M,"data-testid":"tree-editing-breadcrumbs-menu-popover",fallbackPlacements:Wa,onKeyDown:A,open:C,placement:"bottom-start",portal:!0,ref:w,referenceBoundary:v,children:F}),p[26]=F,p[27]=M,p[28]=A,p[29]=C,p[30]=v,p[31]=d):d=p[31],d}let Wd=[],Wp=(0,F.styled)(I.Button)(e=>{var t,n;let{theme:r}=e,{bold:i}=(null==(n=(0,ne.getTheme_v2)(r))||null==(t=n.font.text)?void 0:t.weights)||{};return(0,F.css)(kE(),i)}),Wf=(0,F.styled)(I.Text)(kT()),Wh=(0,E.forwardRef)(function(e,t){var n;let r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(26);f[0]!==e?({item:i,onPathSelect:a,isSelected:r,...o}=e,f[0]=e,f[1]=r,f[2]=i,f[3]=a,f[4]=o):(r=f[1],i=f[2],a=f[3],o=f[4]),f[5]!==i.schemaType||f[6]!==i.value?(l={schemaType:i.schemaType,value:i.value},f[5]=i.schemaType,f[6]=i.value,f[7]=l):l=f[7];let{value:h}=Wn(l),m=h.title,g=i.children&&(null==(n=i.children)?void 0:n.length)>1,y=r?"true":"false";return f[8]!==i.path||f[9]!==a?(s=()=>a(i.path),f[8]=i.path,f[9]=a,f[10]=s):s=f[10],f[11]!==m||f[12]!==h.media?(c=(0,_.jsx)(q8,{title:m,media:h.media,layout:"inline"}),f[11]=m,f[12]=h.media,f[13]=c):c=f[13],f[14]!==g?(u=g&&(0,_.jsx)(I.Text,{size:0,children:(0,_.jsx)(R.ChevronDownIcon,{})}),f[14]=g,f[15]=u):u=f[15],f[16]!==c||f[17]!==u?(d=(0,_.jsxs)(I.Flex,{flex:1,align:"center",justify:"flex-start",gap:1,overflow:"hidden",children:[c,u]}),f[16]=c,f[17]=u,f[18]=d):d=f[18],f[19]!==t||f[20]!==o||f[21]!==y||f[22]!==s||f[23]!==d||f[24]!==m?(p=(0,_.jsx)(Wp,{"data-active":y,mode:"bleed",onClick:s,padding:1,ref:t,space:2,title:m,...o,children:d}),f[19]=t,f[20]=o,f[21]=y,f[22]=s,f[23]=d,f[24]=m,f[25]=p):p=f[25],p}),Wm=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(5),{children:a}=e;return i[0]!==a?(n=(0,_.jsx)(I.Text,{size:1,children:a}),i[0]=a,i[1]=n):n=i[1],i[2]!==t||i[3]!==n?(r=(0,_.jsx)(I.Box,{ref:t,children:n}),i[2]=t,i[3]=n,i[4]=r):r=i[4],r});function Wg(e){let t,n,r,i,a=(0,j.c)(17),{items:o,onPathSelect:l,selectedPath:s}=e,c=void 0===o?Wd:o,[u,d]=(0,E.useState)(null),p=(0,I.useElementSize)(u);e:{let e=null==p?void 0:p.border.width;if(!e){t=5;break e}if(e<500){t=3;break e}if(e<700){t=4;break e}t=5}let f=t;t:{let e=c.length,t=Math.ceil(f/2),r=Math.floor(f/2);if(f&&e>f){let i;a[0]!==r||a[1]!==t||a[2]!==c||a[3]!==e?(i=[...c.slice(0,t-1),c.slice(t-1,e-r),...c.slice(e-r)],a[0]=r,a[1]=t,a[2]=c,a[3]=e,a[4]=i):i=a[4],n=i;break t}n=c}let h=n;if(a[5]!==h||a[6]!==l||a[7]!==u||a[8]!==s){let e;a[10]!==h.length||a[11]!==l||a[12]!==u||a[13]!==s?(e=(e,t)=>{var n;let r="".concat(e,"-").concat(t),i=t<h.length-1;if(Array.isArray(e))return(0,_.jsxs)(E.Fragment,{children:[(0,_.jsx)(Wu,{button:(0,_.jsx)(Wp,{mode:"bleed",padding:1,children:(0,_.jsx)(I.Flex,{overflow:"hidden",children:(0,_.jsx)(Wf,{size:1,weight:"medium",textOverflow:"ellipsis",children:"..."})})}),collapsed:!0,items:e,onPathSelect:l,parentElement:u,selectedPath:s}),i&&(0,_.jsx)(Wm,{children:"/"})]},r);let a=e.children&&(null==(n=e.children)?void 0:n.length)>1,o=(0,e4.default)(e.path,s),c=(0,_.jsx)(Wh,{item:e,isSelected:o,onPathSelect:l});return(0,_.jsxs)(E.Fragment,{children:[!a&&c,a&&(0,_.jsx)(Wu,{button:c,items:e.children||Wd,onPathSelect:l,menuTitle:q5(e.schemaType),parentElement:u,selectedPath:e.path}),i&&(0,_.jsx)(Wm,{children:"/"})]},r)},a[10]=h.length,a[11]=l,a[12]=u,a[13]=s,a[14]=e):e=a[14],r=h.map(e),a[5]=h,a[6]=l,a[7]=u,a[8]=s,a[9]=r}else r=a[9];let m=r;return a[15]!==m?(i=(0,_.jsx)(I.Flex,{align:"center",as:"ol",gap:2,ref:d,children:m}),a[15]=m,a[16]=i):i=a[16],i}let Wy=(0,F.styled)(I.Flex)(kD()),Wv=(0,F.styled)(I.Flex)(kI(),25),Wb=(0,E.memo)(function(e){let t,n,r=(0,j.c)(6),{children:i}=e,{store:a,snapshot:o}=L$();return r[0]!==i||r[1]!==o?(t=(0,_.jsx)(D.PresenceTrackerContextGetSnapshot.Provider,{value:o,children:i}),r[0]=i,r[1]=o,r[2]=t):t=r[2],r[3]!==a||r[4]!==t?(n=(0,_.jsx)(D.PresenceTrackerContextStore.Provider,{value:a,children:t}),r[3]=a,r[4]=t,r[5]=n):n=r[5],n}),Wx=[];function WC(e){let t,n,r,i=(0,j.c)(7),{children:a,items:o}=e;i[0]!==o?(t=o.map(Wk),i[0]=o,i[1]=t):t=i[1],i[2]!==t?(n=(0,_.jsx)(I.Stack,{sizing:"border",children:t}),i[2]=t,i[3]=n):n=i[3];let l=n;return i[4]!==a||i[5]!==l?(r=(0,_.jsx)(B.Tooltip,{content:l,placement:"top",portal:"documentScrollElement",children:a}),i[4]=a,i[5]=l,i[6]=r):r=i[6],r}function Wk(e){return(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[(0,_.jsx)("div",{children:(0,_.jsx)(Ri,{user:e.user,status:"online"})}),(0,_.jsx)(I.Text,{size:1,children:e.user.displayName})]},e.user.id)}let Ww=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(12),{presence:a,position:o,animateArrowFrom:l,maxAvatars:s,stack:c}=e,u=void 0===o?"inside":o,d=void 0===l?"inside":l,p=void 0===s?3:s,f=void 0===c||c;if(i[0]!==d||i[1]!==p||i[2]!==u||i[3]!==a||i[4]!==f){let e,n=(0,ns.default)(a||[],WS),r=(0,nl.default)(n,WE),[o,l]=f?((e,t)=>{let n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]})(r,p):[[],r];i[6]!==d||i[7]!==u?(e=e=>({key:e.user.id,element:(0,_.jsx)(Ri,{animateArrowFrom:d,position:u,status:"online",user:e.user})}),i[6]=d,i[7]=u,i[8]=e):e=i[8],t=[...l.reverse().map(e),o.length>=2?{key:"counter",element:(0,_.jsx)(I.AvatarCounter,{count:o.length})}:null].filter(Boolean),i[0]=d,i[1]=p,i[2]=u,i[3]=a,i[4]=f,i[5]=t}else t=i[5];let h=t;return i[9]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("div",{}),i[9]=n):n=i[9],i[10]!==h?(r=(0,_.jsxs)(Wy,{children:[n,(0,_.jsx)(Wv,{direction:"row-reverse",children:h.map(WT)})]}),i[10]=h,i[11]=r):r=i[11],r});function W_(e){let t,n,r,i,a,o=(0,j.c)(11),l=(0,E.useContext)(D.FormFieldPresenceContext),{presence:s,maxAvatars:c}=e,u=void 0===s?l:s,d=void 0===c?3:c,[p,f]=(0,E.useState)(null),h=(0,E.useId)();o[0]!==p||o[1]!==d||o[2]!==u?(t=()=>({presence:u,element:p,maxAvatars:d}),o[0]=p,o[1]=d,o[2]=u,o[3]=t):t=o[3],((e,t,n)=>{let r=(0,E.useContext)(D.PresenceTrackerContextStore);null===r&&console.warn(Error('No context provided for reporter. Make sure that the component calling "usePresenceReporter()", is wrapped inside a <PresenceTracker> element')),LZ(r,e,t,n)})(p?h:null,t),o[4]!==u?(n=u||[],o[4]=u,o[5]=n):n=o[5],o[6]!==n?(r=(0,ns.default)(n,Wj),o[6]=n,o[7]=r):r=o[7];let m=r;return o[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(Wy,{ref:f,style:{minHeight:25,minWidth:25}}),o[8]=i):i=o[8],o[9]!==m?(a=(0,_.jsx)(WC,{items:m,children:i}),o[9]=m,o[10]=a):a=o[10],a}function Wj(e){return e.user.id}function WS(e){return e.user.id}function WE(e){return e.lastActiveAt}function WT(e,t){return e&&(0,_.jsx)("div",{style:{position:"absolute",transform:"translate3d(".concat(-(21*t),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-t},children:e.element},e.key)}let WD=e=>{let t,n,r,i,a,o,l,s=(0,j.c)(12);s[0]!==e?({onIntersection:r,io:n,id:t,...i}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i):(t=s[1],n=s[2],r=s[3],i=s[4]);let c=(0,E.useRef)(null);return s[5]!==t||s[6]!==n||s[7]!==r?(a=()=>{let e=c.current;if(!e)return;let i=n.observe(e).pipe((0,eh.tap)(e=>r(t,e))).subscribe();return()=>i.unsubscribe()},o=[n,t,r],s[5]=t,s[6]=n,s[7]=r,s[8]=a,s[9]=o):(a=s[8],o=s[9]),(0,E.useEffect)(a,o),s[10]!==i?(l=(0,_.jsx)("div",{...i,ref:c}),s[10]=i,s[11]=l):l=s[11],l},WI=F.styled.div(kA()),WA=F.styled.div(kO()),WO=(0,F.css)(kP()),WP=(0,F.styled)(WD)(e=>{let{$debug:t,margins:n}=e;return(0,F.css)(kM(),WO,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),WM=(0,F.styled)(WD)(e=>{let{$debug:t}=e;return(0,F.css)(kR(),WO,t&&(0,F.css)(kF()))}),WF=(0,F.styled)(WD)(e=>{let{$debug:t}=e;return(0,F.css)(kB(),WO,t?"blue":"transparent")}),WR=e=>"".concat(e,"px"),WB=e=>0-e,WN=(0,E.forwardRef)(function(e,t){let{regions:n,render:r,children:i,margins:[a,o,l,s]}=e,c=(0,E.useRef)(null),u=(0,E.useMemo)(()=>[a,o,l,s],[a,o,l,s]),d=(0,E.useMemo)(()=>(e=>{let t=new ea.Subject,n=new IntersectionObserver(e=>{e.forEach(e=>{t.next(e)})},e);return{observe:e=>new er.Observable(r=>{let i=t.pipe((0,ew.filter)(t=>t.target===e)).subscribe(r);return n.observe(e),()=>{i.unsubscribe(),n.unobserve(e)}})}})({rootMargin:u.map(WB).map(WR).join(" "),threshold:Hx}),[u]),[p,f]=(0,E.useState)({}),h=(0,E.useCallback)((e,t)=>{f(n=>({...n,[e]:t}))},[]),[m,g]=(0,E.useState)(0);(0,E.useLayoutEffect)(()=>{if(c.current)return g(c.current.offsetWidth),Im.observe(c.current,e=>{g(e.contentRect.width)})},[]);let y=p["::top"],v=p["::bottom"],b=(0,E.useMemo)(()=>y&&v?n.filter(e=>{var t;return(null==(t=e.presence)?void 0:t.length)>0}).map(e=>{let t=p[e.id];if(!t)return null;let{bottom:n,top:r}=t.boundingClientRect,i=t.boundingClientRect.top<y.boundingClientRect.bottom,a=t.boundingClientRect.top<v.boundingClientRect.top,o=t.isIntersecting?r-(t.intersectionRect.top-23):i?-y.boundingClientRect.bottom:v.boundingClientRect.top,l=t.isIntersecting?-(n-(t.intersectionRect.bottom+23)):a?v.boundingClientRect.top:-y.boundingClientRect.bottom;return{distanceTop:o,distanceBottom:l,region:e,position:o<=8?"top":l<=8?"bottom":"inside"}}).filter(Boolean):[],[v,p,n,y]);return(0,_.jsxs)(WI,{ref:t,children:[(0,_.jsx)(WP,{$debug:!1,io:d,id:"::top",onIntersection:h,margins:u}),(0,_.jsx)("div",{children:i}),(0,_.jsx)(WA,{ref:c,children:m&&r(b,m)}),n.map(e=>{let t=0===e.rect.width;return(0,_.jsx)(WM,{$debug:!1,io:d,onIntersection:h,id:e.id,style:{width:t?1:e.rect.width,left:e.rect.left-!!t,top:e.rect.top-23,height:e.rect.height+46}},e.id)}),(0,_.jsx)(WF,{$debug:!1,id:"::bottom",io:d,onIntersection:h})]})}),WL={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Wz=e=>(0,nd.default)(e,e=>e.region.rect.top),WV=(e,t)=>e+t,WU=e=>e.reduce(WV,0),WH=e=>{let t,n,r,i=(0,j.c)(6);i[0]!==e?({height:t,...n}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let a=Math.max(0,t),o=null==n?void 0:n.style;return i[3]!==a||i[4]!==o?(r=(0,_.jsx)("div",{style:{height:a,...o}}),i[3]=a,i[4]=o,i[5]=r):r=i[5],r},Wq=[0,0,0,0];function WW(e){let t,n,r,i=(0,j.c)(10),{children:a,margins:o}=e,l=void 0===o?Wq:o,s=function(){let e=(0,E.useContext)(D.PresenceTrackerContextGetSnapshot);return null===e?(console.warn(Error('No context provided for reporter. Make sure that the component calling "usePresenceReportedValues()", is wrapped inside a <PresenceTracker> element')),Wx):e}(),[c,u]=(0,E.useState)(null);i[0]!==c||i[1]!==s?(t=c?s.map(e=>{var t;let[n,r]=e;return r.element?{...r,id:n,rect:{...((e,t)=>{let n=e,r=-n.scrollTop,i=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,i+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:i}})(t=r.element,c),width:t.offsetWidth,height:t.offsetHeight}}:null}).filter(Boolean):WZ,i[0]=c,i[1]=s,i[2]=t):t=i[2];let d=t;i[3]!==l?(n=(e,t)=>{let n=function(e){let t=Wz(e).map((e,t,n)=>{var r;let i=null==(r=n[t-1])?void 0:r.region.rect,a=i?i.top+i.height:0;return{...e,spacerHeight:e.region.rect.top-a}}),n={top:[],inside:[],bottom:[],...(0,nu.default)(t,e=>e.position)};return{top:Wz(n.top).map((e,t,n)=>({...e,indent:n.slice(t+1).reduce((e,t)=>e+t.region.rect.width,0)})),inside:Wz(n.inside).map(e=>({...e,indent:0})),bottom:Wz(n.bottom).map((e,t,n)=>({...e,indent:n.slice(0,t).reduce((e,t)=>e+t.region.rect.width,0)}))}}(e.filter(W$)),r=WU(n.top.map(WG)),i=WU([...n.inside,...n.bottom].map(WK)),a=n.inside.reduce(WY,{nearTop:0,nearBottom:0});return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(WX,{closeCount:a.nearTop,margins:l,position:"top",regionsWithIntersectionDetails:n.top}),(0,_.jsx)(WH,{height:r}),(0,_.jsx)(WJ,{containerWidth:t,regionsWithIntersectionDetails:n.inside}),(0,_.jsx)(WH,{height:i}),(0,_.jsx)(WX,{closeCount:a.nearBottom,margins:l,position:"bottom",regionsWithIntersectionDetails:n.bottom})]})},i[3]=l,i[4]=n):n=i[4];let p=n;return i[5]!==a||i[6]!==l||i[7]!==d||i[8]!==p?(r=(0,_.jsx)(WN,{ref:u,margins:l,regions:d,render:p,children:a}),i[5]=a,i[6]=l,i[7]=d,i[8]=p,i[9]=r):r=i[9],r}function WY(e,t){let{distanceTop:n,distanceBottom:r}=t;return{nearTop:e.nearTop+(n<=20?t.region.presence.length:0),nearBottom:e.nearBottom+(r<=20?t.region.presence.length:0)}}function WK(e){return e.region.rect.height+e.spacerHeight}function WG(e){return e.region.rect.height+e.spacerHeight}function W$(e){return e.region.presence.length>0}let WZ=[],WX=(0,E.memo)(function(e){let t,n,r,i,a=(0,j.c)(17),{closeCount:o,margins:l,position:s,regionsWithIntersectionDetails:c}=e,u="top"===s?1:-1;e:{let e,n;if(!c.length){t=WZ;break e}a[0]!==u?(e=e=>e.region.rect.top*u,a[0]=u,a[1]=e):e=a[1],a[2]!==c||a[3]!==e?(n=(0,td.default)((0,nl.default)(c,e).map(W1)),a[2]=c,a[3]=e,a[4]=n):n=a[4],t=n}let d=t,[p,f,h,m]=l,g=(m||0)+(d.length>0?-(21*o):0)-f,y="top"===s?p:h,v="translate3d(".concat(g,"px, 0px, 0px)"),b=5+y,x=5+y;a[5]!==v||a[6]!==b||a[7]!==x?(n={zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...WL,transform:v,top:b,bottom:x},a[5]=v,a[6]=b,a[7]=x,a[8]=n):n=a[8];let C=n,k="sticky-".concat(s);return a[9]!==d||a[10]!==s?(r=(0,_.jsx)(Ww,{position:s,maxAvatars:3,presence:d}),a[9]=d,a[10]=s,a[11]=r):r=a[11],a[12]!==s||a[13]!==C||a[14]!==k||a[15]!==r?(i=(0,_.jsx)("div",{"data-dock":s,style:C,children:r},k),a[12]=s,a[13]=C,a[14]=k,a[15]=r,a[16]=i):i=a[16],i});function WJ(e){let t,n,r=(0,j.c)(7),{regionsWithIntersectionDetails:i,containerWidth:a}=e;if(r[0]!==a||r[1]!==i){let e;r[3]!==a?(e=e=>{let t=e.region.rect.left,{distanceTop:n,distanceBottom:r}=e,i=n<=20,o=r<=20,l=a-t-e.region.rect.width,{presence:s,maxAvatars:c}=e.region;return(0,_.jsx)(E.Fragment,{children:(0,_.jsx)("div",{style:{zIndex:2,position:"absolute",...WL,left:t,transform:"translate3d(".concat(i||o?l:0,"px, 0px, 0px)"),height:e.region.rect.height,top:e.region.rect.top},children:(0,_.jsx)(WQ,{value:()=>"⤒".concat(n," | ").concat(r,"⤓"),children:(0,_.jsx)(Ww,{stack:!i&&!o,position:i?"top":o?"bottom":"inside",maxAvatars:c,presence:s})})})},e.region.id)},r[3]=a,r[4]=e):e=r[4],t=i.map(e),r[0]=a,r[1]=i,r[2]=t}else t=r[2];return r[5]!==t?(n=(0,_.jsx)(_.Fragment,{children:t}),r[5]=t,r[6]=n):n=r[6],n}let WQ=e=>e.children;function W1(e){return e.region.presence||WZ}let W2=[0,0,0,0];function W0(e){let t,n=(0,j.c)(3),{children:r,margins:i}=e,a=i||W2;return n[0]!==r||n[1]!==a?(t=(0,_.jsx)(Wb,{children:(0,_.jsx)(WW,{margins:a,children:r})}),n[0]=r,n[1]=a,n[2]=t):t=n[2],t}function W5(e){let t,n,r=(0,j.c)(6),{scrollElement:i,containerElement:a}=e;r[0]!==a||r[1]!==i?(t={scrollElement:i,containerElement:a},r[0]=a,r[1]=i,r[2]=t):t=r[2];let o=t;return r[3]!==e.children||r[4]!==o?(n=(0,_.jsx)(D.VirtualizerScrollInstanceContext.Provider,{value:o,children:e.children}),r[3]=e.children,r[4]=o,r[5]=n):n=r[5],n}let W7=(0,F.styled)(I.Flex).attrs({padding:2,align:"center",sizing:"border"})(kN()),W3=F.styled.div(kW(),e=>{let{position:t}=e;return"right"===t?(0,F.css)(kL()):(0,F.css)(kz())},e=>{let{position:t}=e;return"right"===t?(0,F.css)(kV()):(0,F.css)(kU())},e=>{let{position:t}=e;return"right"===t?(0,F.css)(kH()):(0,F.css)(kq())});function W8(e){let t,n,r,i,a=(0,j.c)(8),{onResize:o,onResizeStart:l,position:s}=e,c=(0,E.useRef)(0);a[0]!==o||a[1]!==l?(t=e=>{e.preventDefault(),c.current=e.pageX,l();let t=e=>{e.preventDefault(),o(c.current-e.pageX)},n=()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)};window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)},a[0]=o,a[1]=l,a[2]=t):t=a[2];let u=t;return a[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("span",{}),r=(0,_.jsx)("span",{}),a[3]=n,a[4]=r):(n=a[3],r=a[4]),a[5]!==u||a[6]!==s?(i=(0,_.jsxs)(W3,{onMouseDown:u,position:s,children:[n,r]}),a[5]=u,a[6]=s,a[7]=i):i=a[7],i}let W4=(0,F.styled)(I.Box)(kY());function W6(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(33);h[0]!==e?({as:n,children:t,minWidth:a,maxWidth:i,initialWidth:r,resizerPosition:l,...o}=e,h[0]=e,h[1]=t,h[2]=n,h[3]=r,h[4]=i,h[5]=a,h[6]=o,h[7]=l):(t=h[1],n=h[2],r=h[3],i=h[4],a=h[5],o=h[6],l=h[7]);let m=void 0===l?"right":l,[g,y]=(0,E.useState)(null),v=(0,E.useRef)(void 0),[b,x]=(0,E.useState)(r);h[8]!==(null==g?void 0:g.offsetWidth)?(s=()=>{v.current=null==g?void 0:g.offsetWidth},h[8]=null==g?void 0:g.offsetWidth,h[9]=s):s=h[9];let C=s;h[10]!==i||h[11]!==a||h[12]!==m?(c=e=>{let t=v.current;t&&x(Math.min(Math.max("right"===m?t-e:t+e,a),i))},h[10]=i,h[11]=a,h[12]=m,h[13]=c):c=h[13];let k=c;h[14]!==i||h[15]!==a||h[16]!==b?(u=b?{flex:"none",width:b}:{minWidth:a,maxWidth:i},h[14]=i,h[15]=a,h[16]=b,h[17]=u):u=h[17];let w=u;return h[18]!==k||h[19]!==C||h[20]!==m?(d="left"===m&&(0,_.jsx)(W8,{onResize:k,onResizeStart:C,position:"left"}),h[18]=k,h[19]=C,h[20]=m,h[21]=d):d=h[21],h[22]!==k||h[23]!==C||h[24]!==m?(p="right"===m&&(0,_.jsx)(W8,{onResize:k,onResizeStart:C,position:"right"}),h[22]=k,h[23]=C,h[24]=m,h[25]=p):p=h[25],h[26]!==t||h[27]!==n||h[28]!==o||h[29]!==w||h[30]!==d||h[31]!==p?(f=(0,_.jsxs)(W4,{as:n,...o,ref:y,style:w,children:[d,t,p]}),h[26]=t,h[27]=n,h[28]=o,h[29]=w,h[30]=d,h[31]=p,h[32]=f):f=h[32],f}function W9(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(22),{item:u,onPathSelect:d,isFirst:p}=e;c[0]!==u.schemaType||c[1]!==u.value?(t={value:u.value,schemaType:u.schemaType},c[0]=u.schemaType,c[1]=u.value,c[2]=t):t=c[2];let{value:f}=Wn(t),h=f.title,m=p?void 0:1;return c[3]!==u.path||c[4]!==d?(n=()=>d(u.path),c[3]=u.path,c[4]=d,c[5]=n):n=c[5],c[6]!==h||c[7]!==f.media?(r=(0,_.jsx)(q8,{title:h,media:f.media,layout:"inline"}),c[6]=h,c[7]=f.media,c[8]=r):r=c[8],c[9]!==u.parentSchemaType?(i=q5(u.parentSchemaType),c[9]=u.parentSchemaType,c[10]=i):i=c[10],c[11]!==i?(a=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{muted:!0,size:0,textOverflow:"ellipsis",children:i})}),c[11]=i,c[12]=a):a=c[12],c[13]!==r||c[14]!==a?(o=(0,_.jsxs)(I.Stack,{space:2,flex:1,children:[r,a]}),c[13]=r,c[14]=a,c[15]=o):o=c[15],c[16]!==n||c[17]!==o?(l=(0,_.jsx)(I.Button,{mode:"bleed",onClick:n,children:o}),c[16]=n,c[17]=o,c[18]=l):l=c[18],c[19]!==m||c[20]!==l?(s=(0,_.jsx)(I.Stack,{marginTop:m,children:l}),c[19]=m,c[20]=l,c[21]=s):s=c[21],s}function Ye(e){let t,n,r,i=(0,j.c)(10),{items:a,onPathSelect:o,textInputElement:l}=e,{t:s}=IO();i[0]!==a[0].path||i[1]!==o?(t=e=>{let t=(0,e4.default)(e.path,a[0].path);return(0,_.jsx)(W9,{isFirst:t,item:e,onPathSelect:o})},i[0]=a[0].path,i[1]=o,i[2]=t):t=i[2];let c=t;return i[3]!==s?(n=s("tree-editing-dialog.search.menu-label"),i[3]=s,i[4]=n):n=i[4],i[5]!==a||i[6]!==c||i[7]!==n||i[8]!==l?(r=(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:n,autoFocus:IC?void 0:"input",inputElement:l,itemHeight:51,items:a,overscan:5,padding:1,renderItem:c}),i[5]=a,i[6]=c,i[7]=n,i[8]=l,i[9]=r):r=i[9],r}let Yt=["bottom-start"],Yn=(0,F.styled)(I.Flex)(kK()),Yr=(0,F.styled)(I.Flex)(e=>{let{$maxDisplayedItems:t,$itemHeight:n}=e;return(0,F.css)(kG(),n,t)}),Yi=(0,F.styled)(B.Popover)(()=>(0,F.css)(k$(),e=>{let{theme:t}=e;return t.sanity.radius[3]})),Ya=(0,F.styled)(I.TextInput)(kZ());function Yo(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(28),{items:p,onPathSelect:f}=e,[h,m]=(0,E.useState)(null),[g,y]=(0,E.useState)(""),{t:v}=IO(),b=g.length>0,x=function(e){let t,n,r,i,a,o=(0,j.c)(8);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],o[0]=t):t=o[0];let[l,s]=(0,E.useState)(t),{observeForPreview:c}=Fu();o[1]!==e?(n=q4(e),o[1]=e,o[2]=n):n=o[2];let u=n;o[3]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{let t=e.path;s(n=>n.some(e=>(0,e4.default)(e.path,t))?n.map(n=>(0,e4.default)(n.path,t)?{...e,title:null==e?void 0:e.title}:n):n.concat(e))},o[3]=r):r=o[3];let d=r;return o[4]!==u||o[5]!==c?(i=()=>{s([]),u.forEach(e=>{c(e.value,e.schemaType).pipe((0,Z.map)(t=>{var n;return{...e,title:null==(n=t.snapshot)?void 0:n.title}})).subscribe(d).unsubscribe()})},a=[u,d,c],o[4]=u,o[5]=c,o[6]=i,o[7]=a):(i=o[6],a=o[7]),(0,E.useEffect)(i,a),l}(p);d[0]!==g||d[1]!==x?(t=function(e,t){var n;let r=q4(e),i=(0,ga.default)(t).toLocaleLowerCase();return null==r||null==(n=r.filter(e=>(0,ga.default)(e.title||"").toLocaleLowerCase().includes(i)))?void 0:n.sort((e,t)=>{var n,r;let a=null==(n=e.title)?void 0:n.startsWith(i),o=null==(r=t.title)?void 0:r.startsWith(i);return a&&!o?-1:!a&&o?1:0})}(x,g),d[0]=g,d[1]=x,d[2]=t):t=d[2];let C=t;d[3]===Symbol.for("react.memo_cache_sentinel")?(n=()=>y(""),d[3]=n):n=d[3];let k=n;d[4]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{y(e.target.value)},d[4]=r):r=d[4];let w=r;d[5]!==f?(i=e=>{f(e),k()},d[5]=f,d[6]=i):i=d[6];let S=i;d[7]!==h?(a=e=>{"Escape"===e.key&&(k(),null==h||h.focus())},d[7]=h,d[8]=a):a=d[8];let T=a;d[9]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{requestAnimationFrame(()=>{k()})},d[9]=o):o=d[9];let D=o;e:{let e;if(0===C.length){let e,t;d[10]!==v?(e=v("tree-editing-dialog.search.no-results-title"),d[10]=v,d[11]=e):e=d[11],d[12]!==e?(t=(0,_.jsx)(I.Card,{children:(0,_.jsx)(I.Stack,{padding:4,sizing:"border",space:3,children:(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,weight:"medium",children:e})})}),d[12]=e,d[13]=t):t=d[13],l=t;break e}d[14]!==C||d[15]!==S||d[16]!==h?(e=(0,_.jsx)(Yn,{direction:"column",flex:1,height:"fill",children:(0,_.jsx)(I.Card,{children:(0,_.jsx)(Yr,{$itemHeight:51,$maxDisplayedItems:10,direction:"column",overflow:"hidden",children:(0,_.jsx)(Ye,{items:C,onPathSelect:S,textInputElement:h})})})}),d[14]=C,d[15]=S,d[16]=h,d[17]=e):e=d[17],l=e}let A=l;return d[18]!==v?(s=v("tree-editing-dialog.search-placeholder"),d[18]=v,d[19]=s):s=d[19],d[20]!==T||d[21]!==g||d[22]!==s?(c=(0,_.jsx)(I.Card,{radius:3,children:(0,_.jsx)(Ya,{fontSize:1,icon:R.SearchIcon,onBlur:D,onChange:w,onKeyDown:T,placeholder:s,ref:m,value:g})}),d[20]=T,d[21]=g,d[22]=s,d[23]=c):c=d[23],d[24]!==A||d[25]!==b||d[26]!==c?(u=(0,_.jsx)(Yi,{constrainSize:!0,content:A,fallbackPlacements:Yt,matchReferenceWidth:!0,open:b,placement:"bottom-start",portal:!0,children:c}),d[24]=A,d[25]=b,d[26]=c,d[27]=u):u=d[27],u}function Yl(e,t){return JSON.stringify(e)===JSON.stringify(t)}function Ys(e){return 0!==e.length&&e[e.length-1].hasOwnProperty("_key")}function Yc(e,t){return e.every((e,n)=>Yl(t[n],e))&&Ys(e)}function Yu(e){return Ys(e)?e:e.slice(0,e.length-1)}function Yd(e){return e.some(e=>e.children&&e.children.length>0)}let Yp={block:"center",behavior:"smooth",scrollMode:"if-needed"},Yf=(0,F.styled)(R.ChevronRightIcon)(kX()),Yh=F.styled.div(kJ()),Ym=(0,F.styled)(I.Stack)(e=>{var t,n;let{theme:r}=e,i=(null==(t=(0,ne.getTheme_v2)(r))?void 0:t.space[3])||0,a=null==(n=(0,ne.getTheme_v2)(r))?void 0:n.color._dark,o=z.hues.gray[a?900:200].hex;return(0,F.css)(kQ(),i+2,o)}),Yg=(0,F.styled)(I.Flex)(e=>{var t,n,r;let{theme:i}=e,a=null==(t=(0,ne.getTheme_v2)(i))?void 0:t.color.button.bleed.default.hovered.bg,o=null==(n=(0,ne.getTheme_v2)(i))?void 0:n.color.button.bleed.default.pressed.bg,l=null==(r=(0,ne.getTheme_v2)(i))?void 0:r.color.button.bleed.default.selected.bg;return(0,F.css)(k1(),(0,ne.getTheme_v2)(i).radius[2],l,a,(0,ne.getTheme_v2)(i).radius[2],o,a)});function Yy(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x=(0,j.c)(58),{item:C,onPathSelect:k,selectedPath:w,siblingHasChildren:T}=e,{children:D}=C,A=D&&D.length>0,[O,P]=(0,E.useState)(!1),[M,F]=(0,E.useState)(null),{t:B}=IO();x[0]!==C.schemaType||x[1]!==C.value?(t={schemaType:C.schemaType,value:C.value},x[0]=C.schemaType,x[1]=C.value,x[2]=t):t=x[2];let{value:N}=Wn(t);x[3]!==C.path||x[4]!==w?(n=(0,e4.default)(C.path,w),x[3]=C.path,x[4]=w,x[5]=n):n=x[5];let L=n,z=!Ys(C.path);x[6]!==C.path?(r=(0,S.toString)(C.path),x[6]=C.path,x[7]=r):r=x[7];let V=r;e:{if(z){let e;x[8]!==C.schemaType?(e=q5(C.schemaType),x[8]=C.schemaType,x[9]=e):e=x[9],i=e;break e}i=N.title}let U=i;t:{let e;if(!A){a=null;break t}let t=O?"true":"false";x[10]!==t?(e=(0,_.jsx)(Yf,{"data-expanded":t}),x[10]=t,x[11]=e):e=x[11],a=e}let H=a;n:{if(z){let e;x[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.StackCompactIcon,{}),x[12]=e):e=x[12],o=e;break n}o=N.media}let q=o;x[13]!==C.path||x[14]!==k?(l=()=>k(C.path),x[13]=C.path,x[14]=k,x[15]=l):l=x[15];let W=l;x[16]===Symbol.for("react.memo_cache_sentinel")?(s=()=>P(Yv),x[16]=s):s=x[16];let Y=s;x[17]!==C||x[18]!==w?(c=()=>{(function e(t,n){var r;return(null==(r=t.children)?void 0:r.some(t=>(0,e4.default)(t.path,n)||e(t,n)))||!1})(C,w)&&P(!0)},u=[C,w],x[17]=C,x[18]=w,x[19]=c,x[20]=u):(c=x[19],u=x[20]),(0,E.useEffect)(c,u),x[21]!==M||x[22]!==L?(d=()=>{M&&L&&aR(M,Yp)},p=[M,L],x[21]=M,x[22]=L,x[23]=d,x[24]=p):(d=x[23],p=x[24]),(0,E.useEffect)(d,p),x[25]!==H||x[26]!==O||x[27]!==V||x[28]!==B||x[29]!==U?(f=H&&(0,_.jsx)(I.Button,{"aria-label":"".concat(B(O?"tree-editing-dialog.sidebar.action.collapse":"tree-editing-dialog.sidebar.action.expand")," ").concat(U),"data-testid":"tree-editing-menu-expand-button-".concat(V),"data-ui":"ExpandButton",mode:"bleed",onClick:Y,padding:2,children:(0,_.jsx)(I.Text,{size:0,muted:!0,children:H})}),x[25]=H,x[26]=O,x[27]=V,x[28]=B,x[29]=U,x[30]=f):f=x[30],x[31]!==H||x[32]!==T?(h=!H&&T&&(0,_.jsx)(Yh,{}),x[31]=H,x[32]=T,x[33]=h):h=x[33];let K="tree-editing-menu-navigate-button-".concat(V);return x[34]!==q||x[35]!==U?(m=(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(q8,{layout:"inline",media:q,title:U})}),x[34]=q,x[35]=U,x[36]=m):m=x[36],x[37]!==W||x[38]!==K||x[39]!==m||x[40]!==U?(g=(0,_.jsx)(I.Stack,{flex:1,children:(0,_.jsx)(I.Button,{"data-testid":K,"data-ui":"NavigateButton",mode:"bleed",onClick:W,padding:1,title:U,children:m})}),x[37]=W,x[38]=K,x[39]=m,x[40]=U,x[41]=g):g=x[41],x[42]!==L||x[43]!==f||x[44]!==h||x[45]!==g?(y=(0,_.jsx)(I.Card,{"data-as":"button","data-testid":"tree-editing-menu-item",overflow:"hidden",radius:2,tone:"inherit",children:(0,_.jsxs)(Yg,{align:"center","data-selected":L,"data-testid":"tree-editing-menu-item-content",children:[f,h,g]})}),x[42]=L,x[43]=f,x[44]=h,x[45]=g,x[46]=y):y=x[46],x[47]!==D||x[48]!==A||x[49]!==k||x[50]!==O||x[51]!==w?(v=O&&A&&(0,_.jsx)(Ym,{flex:1,forwardedAs:"ul",paddingLeft:1,role:"group",space:1,children:D.map(e=>{let t=Yd(D);return(0,_.jsx)(Yy,{item:e,onPathSelect:k,selectedPath:w,siblingHasChildren:t},(0,S.toString)(e.path))})}),x[47]=D,x[48]=A,x[49]=k,x[50]=O,x[51]=w,x[52]=v):v=x[52],x[53]!==O||x[54]!==V||x[55]!==y||x[56]!==v?(b=(0,_.jsxs)(I.Stack,{"aria-expanded":O,as:"li",ref:F,role:"treeitem",space:1,children:[y,v]},V),x[53]=O,x[54]=V,x[55]=y,x[56]=v,x[57]=b):b=x[57],b}function Yv(e){return!e}let Yb=(0,E.memo)(function(e){let t,n,r=(0,j.c)(6),{items:i,onPathSelect:a,selectedPath:o}=e;return r[0]!==i||r[1]!==a||r[2]!==o?(t=i.map(e=>{let t=Yd(i);return(0,_.jsx)(Yy,{item:e,onPathSelect:a,selectedPath:o,siblingHasChildren:t},(0,S.toString)(e.path))}),r[0]=i,r[1]=a,r[2]=o,r[3]=t):t=r[3],r[4]!==t?(n=(0,_.jsx)(I.Stack,{as:"ul","data-testid":"tree-editing-menu",role:"tree",space:2,children:t}),r[4]=t,r[5]=n):n=r[5],n}),Yx={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},YC=(0,F.styled)(I.Card)(k2()),Yk=(0,F.styled)(na.motion.create(I.Stack))(k0()),Yw=(0,F.styled)(I.Stack)(k5()),Y_=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(33),{items:d,onPathSelect:p,selectedPath:f,onOpenToggle:h,open:m,title:g}=e,{t:y}=IO();u[0]!==m||u[1]!==y?(t=y(m?"tree-editing-dialog.sidebar.action.close":"tree-editing-dialog.sidebar.action.open"),u[0]=m,u[1]=y,u[2]=t):t=u[2],u[3]!==t?(n={content:t},u[3]=t,u[4]=n):n=u[4];let v=n,b=!m;u[5]!==h||u[6]!==m||u[7]!==v?(r=(0,_.jsx)(B.Button,{"data-testid":"tree-editing-sidebar-toggle",icon:R.PanelLeftIcon,mode:"bleed",onClick:h,selected:m,tooltipProps:v}),u[5]=h,u[6]=m,u[7]=v,u[8]=r):r=u[8],u[9]!==m||u[10]!==g?(i=m&&(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:g})}),u[9]=m,u[10]=g,u[11]=i):i=u[11],u[12]!==r||u[13]!==i?(a=(0,_.jsxs)(W7,{align:"center",gap:2,children:[r,i]}),u[12]=r,u[13]=i,u[14]=a):a=u[14],u[15]!==d||u[16]!==p||u[17]!==m?(o=m&&(0,_.jsx)(Yw,{padding:2,sizing:"border",children:(0,_.jsx)(Yo,{items:d,onPathSelect:p})}),u[15]=d,u[16]=p,u[17]=m,u[18]=o):o=u[18],u[19]!==d||u[20]!==p||u[21]!==m||u[22]!==f?(l=m&&(0,_.jsx)(Yk,{animate:"animate",exit:"exit",initial:"initial",overflow:"auto",padding:3,sizing:"border",variants:Yx,children:(0,_.jsx)(Yb,{items:d,onPathSelect:p,selectedPath:f})}),u[19]=d,u[20]=p,u[21]=m,u[22]=f,u[23]=l):l=u[23],u[24]!==l?(s=(0,_.jsx)(no.AnimatePresence,{mode:"wait",children:l}),u[24]=l,u[25]=s):s=u[25],u[26]!==b||u[27]!==a||u[28]!==o||u[29]!==s?(c=(0,_.jsxs)(YC,{borderRight:b,"data-testid":"tree-editing-sidebar","data-ui":"SidebarCard",display:"flex",forwardedAs:"aside",height:"fill",overflow:"hidden",tone:"transparent",children:[a,o,s]}),u[26]=b,u[27]=a,u[28]=o,u[29]=s,u[30]=c):c=u[30];let x=c;if(m){let e;return u[31]!==x?(e=(0,_.jsx)(W6,{maxWidth:450,minWidth:150,initialWidth:250,children:x}),u[31]=x,u[32]=e):e=u[32],e}return x}),Yj=[0,0,1,0],YS=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(26),{breadcrumbs:u,children:d,footer:p,items:f,onPathSelect:h,selectedPath:m,setScrollElement:g,title:y}=e,[v,b]=(0,E.useState)(null),x=(0,E.useRef)(null),[C,k]=(0,E.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>k(YE),c[0]=t):t=c[0];let w=t;c[1]!==g?(n=e=>{b(e),null==g||g(e)},c[1]=g,c[2]=n):n=c[2];let S=n;return c[3]!==f||c[4]!==h||c[5]!==C||c[6]!==m||c[7]!==y?(r=(0,_.jsx)(Y_,{items:f,onOpenToggle:w,onPathSelect:h,open:C,selectedPath:m,title:y}),c[3]=f,c[4]=h,c[5]=C,c[6]=m,c[7]=y,c[8]=r):r=c[8],c[9]!==u||c[10]!==h||c[11]!==m?(i=(0,_.jsx)(W7,{align:"center",sizing:"border",gap:2,paddingX:4,children:(0,_.jsx)(I.Flex,{flex:1,children:(0,_.jsx)(Wg,{items:u,onPathSelect:h,selectedPath:m})})}),c[9]=u,c[10]=h,c[11]=m,c[12]=i):i=c[12],c[13]!==d||c[14]!==v?(a=d&&(0,_.jsx)(W5,{containerElement:x,scrollElement:v,children:(0,_.jsx)(I.Container,{width:1,ref:x,paddingX:5,paddingY:5,sizing:"border",children:(0,_.jsx)(W0,{margins:Yj,children:d})})}),c[13]=d,c[14]=v,c[15]=a):a=c[15],c[16]!==S||c[17]!==a?(o=(0,_.jsx)(I.Card,{flex:1,id:"tree-editing-form",overflow:"auto",ref:S,children:a}),c[16]=S,c[17]=a,c[18]=o):o=c[18],c[19]!==p||c[20]!==i||c[21]!==o?(l=(0,_.jsxs)(I.Flex,{direction:"column",flex:1,overflow:"hidden",children:[i,o,p]}),c[19]=p,c[20]=i,c[21]=o,c[22]=l):l=c[22],c[23]!==r||c[24]!==l?(s=(0,_.jsxs)(I.Flex,{height:"fill",overflow:"hidden",children:[r,l]}),c[23]=r,c[24]=l,c[25]=s):s=c[25],s});function YE(e){return!e}function YT(e){return(0,W.isObjectSchemaType)(e.schemaType)}function YD(e){return(0,W.isArraySchemaType)(e.schemaType)}let YI=e=>{let{children:t}=e;return t},YA=(0,E.memo)(function(e){let t,n,r=(0,j.c)(8);r[0]!==e?(t="absolutePath"in e?e.absolutePath:e.path.concat(e.relativePath),r[0]=e,r[1]=t):t=r[1];let i=t,a=e.renderAnnotation||YP,o=e.renderBlock||YP,l=e.renderInlineBlock||YP;return r[2]!==i||r[3]!==e||r[4]!==a||r[5]!==o||r[6]!==l?(n=(0,_.jsx)(YO,{...e,absolutePath:i,destinationRenderAnnotation:a,destinationRenderBlock:o,destinationRenderField:e.renderField,destinationRenderInlineBlock:l,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview}),r[2]=i,r[3]=e,r[4]=a,r[5]=o,r[6]=l,r[7]=n):n=r[7],n}),YO=(0,E.memo)(function e(t){let{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderField:a,destinationRenderInlineBlock:o,destinationRenderInput:l,destinationRenderItem:s,destinationRenderPreview:c}=t,{t:u}=IO(),d=(0,E.useCallback)(e=>((0,S.isEqual)(n,e.path)?t.includeField:(0,S.startsWith)(n,e.path))?a(e):YI(e),[n,a,t.includeField]),p=(0,E.useCallback)(e=>((0,S.isEqual)(n,e.path)?t.includeItem:(0,S.startsWith)(n,e.path))?s(e):YI(e),[n,s,t.includeItem]),f=(0,E.useCallback)(u=>{if((0,S.isEqual)(u.path,n)||(0,S.startsWith)(n,u.path))return l(u);if(!YT(u)&&!YD(u))throw Error("Expected either object input props or array input props for: ".concat(JSON.stringify(u.path)));return(0,_.jsx)(e,{...u,includeField:t.includeField,includeItem:t.includeItem,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderInput:l,destinationRenderItem:s,destinationRenderField:a,destinationRenderInlineBlock:o,destinationRenderPreview:c})},[n,r,i,a,o,l,s,c,t.includeField,t.includeItem]),h=(0,E.useCallback)(e=>(0,S.startsWith)(n,e.path)&&(t.includeItem||!(0,S.isEqual)(n,e.path))?i(e):YI(e),[n,i,t.includeItem]),m=(0,E.useCallback)(e=>(0,S.startsWith)(n,e.path)&&(t.includeItem||!(0,S.isEqual)(n,e.path))?o(e):YI(e),[n,o,t.includeItem]),g=(0,E.useCallback)(e=>(0,S.startsWith)(n,e.path)&&(t.includeItem||!(0,S.isEqual)(n,e.path))?r(e):YI(e),[n,r,t.includeItem]);if(YD(t)){let e=(0,S.trimLeft)(t.path,n),r=t.members.find(t=>"item"==t.kind&&(0,W.isKeySegment)(e[0])&&t.key===e[0]._key);if(!r){let e=Au(t.path),r=(0,S.trimLeft)(t.path,n);if((0,W.isKeySegment)(r[0])){let t=r[0]._key;return(0,_.jsx)("div",{children:(0,_.jsx)(IZ,{t:u,i18nKey:"form.error.no-array-item-at-key",values:{key:t,path:e}})})}let i=(0,W.isIndexSegment)(r[0])?r[0]:r[0][0];return(0,_.jsx)("div",{children:(0,_.jsx)(IZ,{t:u,i18nKey:"form.error.no-array-item-at-index",values:{index:i,path:e}})})}return"error"===r.kind?(0,_.jsx)(UF,{member:r}):(0,_.jsx)(UA,{member:r,renderAnnotation:g,renderBlock:h,renderInput:f,renderField:d,renderInlineBlock:m,renderItem:p,renderPreview:c})}if(YT(t)){let e=(0,S.trimLeft)(t.path,n),r=t.members.find(t=>"field"==t.kind&&e[0]===t.name),i=t.members.filter(e=>"fieldSet"===e.kind).flatMap(e=>{var t;return"fieldSet"===e.kind&&(null==(t=e.fieldSet)?void 0:t.members)||[]}).find(t=>"field"===t.kind&&t.name===e[0]),a=r||i;if(!a){let t="string"==typeof e[0]?e[0]:JSON.stringify(e[0]);return(0,_.jsx)("div",{children:u("form.error.field-not-found",{fieldName:t})})}return(0,_.jsx)(Hs,{member:a,renderAnnotation:g,renderBlock:h,renderInput:f,renderInlineBlock:m,renderField:d,renderItem:p,renderPreview:c})}throw Error("FormInput can only be used with arrays or objects")});function YP(){return(0,_.jsx)(_.Fragment,{children:"Missing destination render function"})}function YM(e,t){if(!t)return;let n=(0,S.fromString)(t),r=n[0];if(r&&(0,W.isObjectSchemaType)(e)){var i;let t=null==e||null==(i=e.fields)?void 0:i.find(e=>e.name===r);if(t){let e=(0,S.toString)(n.slice(1));return e?YM(t.type,e):t}}}function YF(e,t){let n=(0,nw.resolveTypeName)(t);return"object"===n&&1===e.of.length?e.of[0]:e.of.find(e=>e.name===n)}function YR(e){let{arraySchemaType:t,arrayValue:n,itemPath:r,parentPath:i}=e,a=n.map(e=>{let n=[...i,{_key:e._key}],r=YF(t,e);return(0,W.isReferenceSchemaType)(r)||!r?null:{children:Ie,parentSchemaType:t,path:n,schemaType:r,value:e}}).filter(Boolean),o=a.find(e=>(0,e4.default)(e.path,r));return{children:a,parentSchemaType:t,path:r,schemaType:o.schemaType,value:o.value}}let YB=[],YN={breadcrumbs:YB,menuItems:YB,relativePath:YB,rootTitle:""},YL=[],Yz={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},YV={duration:.2,ease:"easeInOut"};function YU(e){return e.renderDefault(e)}let YH=(0,F.styled)(A.Dialog)(e=>{var t;let{theme:n}=e,r=null==(t=(0,ne.getTheme_v2)(n))?void 0:t.space[4];return(0,F.css)(k7(),r)}),Yq=na.motion.create(I.Flex);function YW(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(49),{onPathFocus:y,onPathOpen:v,openPath:b,rootInputProps:x,schemaType:C}=e,{value:k}=x,{t:w}=IO(),[T,D]=(0,E.useState)(YN),[A,O]=(0,E.useState)(null),P=(0,E.useRef)(void 0),M=(0,E.useRef)(void 0);g[0]!==A?(t=()=>{null==A||A.scrollTo(0,0)},g[0]=A,g[1]=t):t=g[1];let F=t;g[2]!==T?(n=e=>{let t=function(e){var t;let{openPath:n}=e,r=function(e){let t=e.findIndex(e=>null==e?void 0:e.hasOwnProperty("_key"));return -1===t?e:e.slice(0,t)}(n),i=YM(e.schemaType,(0,S.toString)(r)),a=q5(null==i?void 0:i.type);if(!(0,W.isArrayOfObjectsSchemaType)(null==i?void 0:i.type)||(null==i||null==(t=i.options)?void 0:t.treeEditing)===!1)return YN;let o=[],l=[],s=function e(t){let{schemaType:r,path:i,documentValue:a}=t,s=Ad(a,i),c=Array.isArray(s)?s:YB,u=function(e){var t;let{arraySchemaType:n,arrayValue:r,documentValue:i,openPath:a,rootPath:o,recursive:l}=e,s=[],c=[],u=[];return(null==(t=n.options)?void 0:t.treeEditing)===!1||r.forEach(e=>{var t;let d=[...o,{_key:e._key}],p=YF(n,e);if(!p||(0,W.isReferenceSchemaType)(p)||(null==p||null==(t=p.options)?void 0:t.treeEditing)===!1)return;let f=(null==p?void 0:p.fields)||[],h=[];if(Yc(d,a)){let e=YR({arraySchemaType:n,arrayValue:r,itemPath:d,parentPath:o});u.push(e)}f.forEach(e=>{var t,n;if((null==e||null==(n=e.type)||null==(t=n.options)?void 0:t.treeEditing)===!1)return;let r=[...d,e.name],o=Ad(i,r);if(Yl(r,a)&&(s=Yu(r)),(0,W.isObjectSchemaType)(e.type)){let t=function(e){let t=[],n=[];return function e(r){r.forEach(r=>{let i=[...n,r.name];(0,W.isArrayOfObjectsSchemaType)(r.type)&&!(0,W.isArrayOfBlocksSchemaType)(r.type)&&t.push(i),(0,W.isObjectSchemaType)(r.type)&&(n=i,e(r.type.fields),n=n.slice(0,-1))})}(e),t}(e.type.fields);if(0===t.length)return;t.forEach(t=>{var n;let o=[...r,...t],c=YM(e.type,(0,S.toString)(t)),u=Ad(i,o),d=Array.isArray(u)?u:[];if(!d.length||(null==(n=c.type.options)?void 0:n.treeEditing)===!1)return;Yl(o,a)&&(s=Yu(o));let p=l({documentValue:i,path:o,schemaType:c});h.push({children:p.menuItems,parentSchemaType:e.type,path:o,schemaType:c.type,value:d})})}let c=(0,W.isArrayOfBlocksSchemaType)(e.type);if((0,W.isArrayOfObjectsSchemaType)(e.type)&&o&&!c){if(Yc(r,a)){let t=YR({arraySchemaType:e.type,arrayValue:o,itemPath:r,parentPath:d});u.push(t)}let t=l({documentValue:i,path:r,schemaType:e});h.push({children:(null==t?void 0:t.menuItems)||Ie,parentSchemaType:p,path:r,schemaType:e,value:o});return}c&&(0,S.toString)(a).startsWith((0,S.toString)(r))&&(s=Yu(r))}),Yl(d,a)&&(s=Yu(d)),(0,W.isPrimitiveSchemaType)(null==p?void 0:p.type)||c.push({children:h,parentSchemaType:n,path:d,schemaType:p,value:e})}),{breadcrumbs:u,menuItems:c,relativePath:s,rootTitle:""}}({arraySchemaType:null==r?void 0:r.type,arrayValue:c,documentValue:a,openPath:n,recursive:e,rootPath:i});return u.relativePath.length>0&&(o=u.relativePath),l.unshift(...u.breadcrumbs),u}({schemaType:i,documentValue:e.documentValue,path:r});return{relativePath:o,breadcrumbs:l,menuItems:s.menuItems,rootTitle:a}}(e);if((0,e4.default)(t,T))return;let n=t.relativePath,r=0!==n.length&&Ys(n)?n:T.relativePath;D({...t,relativePath:r})},g[2]=T,g[3]=n):n=g[3];let R=n;g[4]!==R?(r=(0,nc.default)(R,1e3),g[4]=R,g[5]=r):r=g[5];let N=r;g[6]!==N||g[7]!==y||g[8]!==v||g[9]!==b?(i=()=>{N.cancel(),v(YL),D(YN),M.current=void 0,P.current=void 0;let e=b.findIndex(W.isKeySegment);y(b.slice(0,e+1))},g[6]=N,g[7]=y,g[8]=v,g[9]=b,g[10]=i):i=g[10];let L=i;g[11]!==N||g[12]!==y||g[13]!==v?(a=e=>{N.cancel(),v(e),Ys(e)||y(e)},g[11]=N,g[12]=y,g[13]=v,g[14]=a):a=g[14];let z=a;if(g[15]!==N||g[16]!==R||g[17]!==b||g[18]!==C||g[19]!==k?(o=()=>{let e=!(0,e4.default)(k,M.current),t=!(0,e4.default)(b,P.current);if(void 0===M.current&&void 0===P.current||t){R({schemaType:C,documentValue:k,openPath:b}),P.current=b;return}if(!(!e&&!t))return M.current=k,P.current=b,N({schemaType:C,documentValue:k,openPath:b}),()=>{N.cancel()}},l=[C,k,N,b,R],g[15]=N,g[16]=R,g[17]=b,g[18]=C,g[19]=k,g[20]=o,g[21]=l):(o=g[20],l=g[21]),(0,E.useEffect)(o,l),0===T.relativePath.length)return null;let V=T.breadcrumbs,U=T.menuItems,H=T.relativePath,q=T.rootTitle;return g[22]!==w?(s=w("tree-editing-dialog.sidebar.action.done"),g[22]=w,g[23]=s):s=g[23],g[24]!==L||g[25]!==s?(c=(0,_.jsx)(I.Card,{borderTop:!0,children:(0,_.jsx)(I.Flex,{align:"center",justify:"flex-end",paddingX:3,paddingY:2,sizing:"border",children:(0,_.jsx)(B.Button,{size:"large","data-testid":"tree-editing-done",text:s,onClick:L})})}),g[24]=L,g[25]=s,g[26]=c):c=g[26],g[27]!==T.relativePath?(u=(0,S.toString)(T.relativePath),g[27]=T.relativePath,g[28]=u):u=g[28],g[29]!==x||g[30]!==T.relativePath?(d=(0,_.jsx)(YA,{...x,relativePath:T.relativePath,renderDefault:YU}),g[29]=x,g[30]=T.relativePath,g[31]=d):d=g[31],g[32]!==u||g[33]!==d?(p=(0,_.jsx)(Yq,{animate:"animate","data-testid":"tree-editing-dialog-content",direction:"column",exit:"exit",height:"fill",initial:"initial",overflow:"hidden",padding:1,sizing:"border",transition:YV,variants:Yz,children:d},u),g[32]=u,g[33]=d,g[34]=p):p=g[34],g[35]!==F||g[36]!==p?(f=(0,_.jsx)(no.AnimatePresence,{initial:!1,mode:"wait",onExitComplete:F,children:p}),g[35]=F,g[36]=p,g[37]=f):f=g[37],g[38]!==z||g[39]!==c||g[40]!==f||g[41]!==T.breadcrumbs||g[42]!==T.menuItems||g[43]!==T.relativePath||g[44]!==T.rootTitle?(h=(0,_.jsx)(YS,{breadcrumbs:V,items:U,onPathSelect:z,selectedPath:H,title:q,setScrollElement:O,footer:c,children:f}),g[38]=z,g[39]=c,g[40]=f,g[41]=T.breadcrumbs,g[42]=T.menuItems,g[43]=T.relativePath,g[44]=T.rootTitle,g[45]=h):h=g[45],g[46]!==L||g[47]!==h?(m=(0,_.jsx)(YH,{__unstable_hideCloseButton:!0,animate:!0,"data-testid":"tree-editing-dialog",id:"tree-editing-dialog",onClickOutside:L,onClose:L,padding:0,width:3,children:h}),g[46]=L,g[47]=h,g[48]=m):m=g[48],m}function YY(){return(0,E.useContext)(D.TreeEditingEnabledContext)}function YK(e){let t,n,r=(0,j.c)(5),{children:i,legacyEditing:a}=e,o=!!(YY().legacyEditing||a);r[0]!==o?(t={enabled:!1,legacyEditing:o},r[0]=o,r[1]=t):t=r[1];let l=t;return r[2]!==i||r[3]!==l?(n=(0,_.jsx)(D.TreeEditingEnabledContext.Provider,{value:l,children:i}),r[2]=i,r[3]=l,r[4]=n):n=r[4],n}function YG(e){var t,n;let r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k=(0,j.c)(53),{t:w}=IO(),{onInsert:S,schemaTypes:E}=e;k[0]!==e.schemaTypes?(r=null!=(t=e.schemaTypes)?t:[],k[0]=e.schemaTypes,k[1]=r):r=k[1],k[2]!==e?(i=t=>{e.onInsert("before",t)},k[2]=e,k[3]=i):i=k[3],k[4]!==e.insertMenuOptions||k[5]!==r||k[6]!==i?(a={...e.insertMenuOptions,schemaTypes:r,onSelect:i},k[4]=e.insertMenuOptions,k[5]=r,k[6]=i,k[7]=a):a=k[7],k[8]===Symbol.for("react.memo_cache_sentinel")?(o=["bottom-end"],k[8]=o):o=k[8],k[9]!==e.referenceElement?(l={referenceElement:e.referenceElement,placement:"top-end",fallbackPlacements:o},k[9]=e.referenceElement,k[10]=l):l=k[10],k[11]!==a||k[12]!==l?(s={insertMenuProps:a,popoverProps:l},k[11]=a,k[12]=l,k[13]=s):s=k[13];let T=qN(s);k[14]!==e.schemaTypes?(c=null!=(n=e.schemaTypes)?n:[],k[14]=e.schemaTypes,k[15]=c):c=k[15],k[16]!==e?(u=t=>{e.onInsert("after",t)},k[16]=e,k[17]=u):u=k[17],k[18]!==e.insertMenuOptions||k[19]!==c||k[20]!==u?(d={...e.insertMenuOptions,schemaTypes:c,onSelect:u},k[18]=e.insertMenuOptions,k[19]=c,k[20]=u,k[21]=d):d=k[21],k[22]===Symbol.for("react.memo_cache_sentinel")?(p=["top-end"],k[22]=p):p=k[22],k[23]!==e.referenceElement?(f={referenceElement:e.referenceElement,placement:"bottom-end",fallbackPlacements:p},k[23]=e.referenceElement,k[24]=f):f=k[24],k[25]!==f||k[26]!==d?(h={insertMenuProps:d,popoverProps:f},k[25]=f,k[26]=d,k[27]=h):h=k[27];let D=qN(h);k[28]!==T||k[29]!==S||k[30]!==E?(m=()=>{E&&(1===E.length?S("before",E[0]):T.send({type:"toggle"}))},k[28]=T,k[29]=S,k[30]=E,k[31]=m):m=k[31];let I=m;k[32]!==D||k[33]!==S||k[34]!==E?(g=()=>{E&&(1===E.length?S("after",E[0]):D.send({type:"toggle"}))},k[32]=D,k[33]=S,k[34]=E,k[35]=g):g=k[35];let A=g;k[36]!==I||k[37]!==w||k[38]!==E?(y=E?(0,_.jsx)(B.MenuItem,{text:1===E.length?w("inputs.array.action.add-before"):"".concat(w("inputs.array.action.add-before"),"..."),icon:R.InsertAboveIcon,onClick:I},"insertBefore"):null,k[36]=I,k[37]=w,k[38]=E,k[39]=y):y=k[39];let O=y;k[40]!==A||k[41]!==w||k[42]!==E?(v=E?(0,_.jsx)(B.MenuItem,{text:1===E.length?w("inputs.array.action.add-after"):"".concat(w("inputs.array.action.add-after"),"..."),icon:R.InsertBelowIcon,onClick:A},"insertAfter"):null,k[40]=A,k[41]=w,k[42]=E,k[43]=v):v=k[43];let P=v;return k[44]!==T||k[45]!==O?(b={...T,menuItem:O},k[44]=T,k[45]=O,k[46]=b):b=k[46],k[47]!==D||k[48]!==P?(x={...D,menuItem:P},k[47]=D,k[48]=P,k[49]=x):x=k[49],k[50]!==b||k[51]!==x?(C={insertBefore:b,insertAfter:x},k[50]=b,k[51]=x,k[52]=C):C=k[52],C}let Y$=(0,F.styled)(I.Card)(k3()),YZ={portal:!0,tone:"default"},YX=[];function YJ(e){var t,n,r,i,a,o,l,s,c;let{schemaType:u,parentSchemaType:d,path:p,readOnly:f,onRemove:h,value:m,open:g,onInsert:y,onCopy:v,onFocus:b,onOpen:x,onClose:C,changed:k,focused:w,children:j,inputProps:{renderPreview:S}}=e,{t:T}=IO(),D=YY(),A=(null==d||null==(t=d.options)?void 0:t.treeEditing)===!1,O=A||D.legacyEditing,P=g&&(!D.enabled||O),M=(null==(n=d.options)?void 0:n.sortable)!==!1,F=d.of,[N,L]=(0,E.useState)(null),z=(0,E.useRef)(null);(0,E.useImperativeHandle)(z,()=>N,[N]),zg(z,g),zm(w,(e,t)=>{var n;!e&&t&&z.current&&(null==(n=z.current)||n.focus())});let V=m._resolvingInitialValue,U=(0,E.useCallback)(()=>{y({items:[{...m,_key:UE()}],position:"after"})},[y,m]),H=(0,E.useCallback)(()=>{v({items:[{...m,_key:UE()}]})},[v,m]),q=(0,E.useCallback)((e,t)=>{y({items:[UL(t)],position:e})},[y]),W=Lk(p,!0),Y=(0,E.useMemo)(()=>0===W.length?null:(0,_.jsx)(W_,{presence:W,maxAvatars:1}),[W]),K=LE(p,!0),G=(0,E.useMemo)(()=>0===K.length?null:(0,_.jsx)(I.Box,{paddingX:1,paddingY:3,children:(0,_.jsx)(HO,{validation:K,__unstable_showSummary:!0})}),[K]),$=K.some(e=>"error"===e.level),Z=K.some(e=>"warning"===e.level),[X,J]=(0,E.useState)(null),{insertBefore:Q,insertAfter:ee}=YG({schemaTypes:F,insertMenuOptions:null==(r=d.options)?void 0:r.insertMenu,onInsert:q,referenceElement:X}),et=(null==(i=d.options)?void 0:i.disableActions)||YX,en=(0,E.useMemo)(()=>[!et.includes("remove")&&(0,_.jsx)(B.MenuItem,{text:T("inputs.array.action.remove"),tone:"critical",icon:R.TrashIcon,onClick:h},"remove"),!et.includes("copy")&&(0,_.jsx)(B.MenuItem,{text:T("inputs.array.action.copy"),icon:R.CopyIcon,onClick:H},"copy"),!et.includes("duplicate")&&(0,_.jsx)(B.MenuItem,{text:T("inputs.array.action.duplicate"),icon:R.AddDocumentIcon,onClick:U},"duplicate"),!et.includes("add")&&!et.includes("addBefore")&&Q.menuItem,!et.includes("add")&&!et.includes("addAfter")&&ee.menuItem].filter(Boolean),[et,H,U,ee.menuItem,Q.menuItem,h,T]),er=(0,E.useMemo)(()=>f||0===en.length?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuButton,{ref:J,onOpen:()=>{Q.send({type:"close"}),ee.send({type:"close"})},button:(0,_.jsx)(DO,{"data-testid":"array-item-menu-button",selected:!!Q.state.open||!!ee.state.open||void 0}),id:"".concat(e.inputId,"-menuButton"),menu:(0,_.jsx)(I.Menu,{children:en}),popover:YZ}),Q.popover,ee.popover]}),[f,Q,ee,e.inputId,en]),ei=function(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}({readOnly:f,hasErrors:$,hasWarnings:Z}),ea=(0,_.jsx)(qG,{menu:er,presence:Y,validation:G,tone:ei,radius:2,border:!0,dragHandle:M,selected:P,readOnly:f,children:(0,_.jsxs)(Y$,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:V,onClick:x,ref:L,onFocus:b,__unstable_focusRing:!0,children:[S({schemaType:u,value:m,layout:"media",withBorder:!1,withShadow:!1}),V&&(0,_.jsx)(DU,{fill:!0})]})}),eo=q5(u);return(0,_.jsxs)(YK,{legacyEditing:A,children:[(0,_.jsx)($j,{path:p,isChanged:k,hasFocus:!!w,children:ea}),P&&(0,_.jsx)(ec5,{header:f?T("inputs.array.action.view",{itemTypeTitle:eo}):T("inputs.array.action.edit",{itemTypeTitle:eo}),type:(null==d||null==(o=d.options)||null==(a=o.modal)?void 0:a.type)||"dialog",width:null!=(c=null==d||null==(s=d.options)||null==(l=s.modal)?void 0:l.width)?c:1,id:m._key,onClose:C,autofocus:w,legacy_referenceElement:N,children:j})]})}let YQ=[];function Y1(e){var t;let n,r,i,a,o,l,s,c=(0,j.c)(38),{arrayFunctions:u,elementProps:d,members:p,onChange:f,onItemPrepend:h,onItemAppend:m,onItemMove:g,onUpload:y,readOnly:v,renderAnnotation:b,renderBlock:x,renderField:C,renderInlineBlock:k,renderInput:w,renderPreview:S,resolveUploader:E,schemaType:T,value:D}=e,A=void 0===u?qz:u,O=void 0===D?YQ:D,{t:P}=IO(),M=(null==(t=T.options)?void 0:t.sortable)!==!1;c[0]!==p?(n=p.map(Y2),c[0]=p,c[1]=n):n=c[1];let F=n;return c[2]!==p.length||c[3]!==T.placeholder||c[4]!==P?(r=(null==p?void 0:p.length)===0&&(0,_.jsx)(I.Card,{padding:3,border:!0,radius:2,children:(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:T.placeholder||(0,_.jsx)(_.Fragment,{children:P("inputs.array.no-items-label")})})}),c[2]=p.length,c[3]=T.placeholder,c[4]=P,c[5]=r):r=c[5],c[6]!==F||c[7]!==p||c[8]!==g||c[9]!==v||c[10]!==b||c[11]!==x||c[12]!==C||c[13]!==k||c[14]!==w||c[15]!==S||c[16]!==M?(i=(null==p?void 0:p.length)>0&&(0,_.jsx)(I.Card,{border:!0,radius:1,children:(0,_.jsx)(qc,{columns:[2,3,4],gap:3,padding:1,margin:1,items:F,onItemMove:g,sortable:M,children:p.map(e=>(0,_.jsxs)(qu,{sortable:M,id:e.key,flex:1,children:["item"===e.kind&&(0,_.jsx)(UA,{member:e,renderAnnotation:b,renderBlock:x,renderInlineBlock:k,renderItem:Y0,renderField:C,renderInput:w,renderPreview:S}),"error"===e.kind&&(0,_.jsx)(qQ,{sortable:M,member:e,readOnly:v})]},e.key))})}),c[6]=F,c[7]=p,c[8]=g,c[9]=v,c[10]=b,c[11]=x,c[12]=C,c[13]=k,c[14]=w,c[15]=S,c[16]=M,c[17]=i):i=c[17],c[18]!==r||c[19]!==i?(a=(0,_.jsxs)(I.Stack,{"data-ui":"ArrayInput__content",space:2,children:[r,i]}),c[18]=r,c[19]=i,c[20]=a):a=c[20],c[21]!==d||c[22]!==y||c[23]!==E||c[24]!==T.of||c[25]!==a?(o=(0,_.jsx)(qR,{types:T.of,resolveUploader:E,onUpload:y,...d,tabIndex:0,children:a}),c[21]=d,c[22]=y,c[23]=E,c[24]=T.of,c[25]=a,c[26]=o):o=c[26],c[27]!==A||c[28]!==f||c[29]!==m||c[30]!==h||c[31]!==v||c[32]!==T||c[33]!==O?(l=(0,_.jsx)(A,{onChange:f,onItemAppend:m,onItemPrepend:h,onValueCreate:UL,readOnly:v,schemaType:T,value:O}),c[27]=A,c[28]=f,c[29]=m,c[30]=h,c[31]=v,c[32]=T,c[33]=O,c[34]=l):l=c[34],c[35]!==o||c[36]!==l?(s=(0,_.jsxs)(I.Stack,{space:2,children:[o,l]}),c[35]=o,c[36]=l,c[37]=s):s=c[37],s}function Y2(e){return e.key}function Y0(e){let{key:t,...n}=e;return(0,_.jsx)(YJ,{...n},t)}let Y5=(0,F.styled)(I.Card)(k8(),qn);function Y7(e){let t,n,r,i,a,o,l,s=(0,j.c)(21),{validation:c,selected:u,tone:d,presence:p,focused:f,children:h,dragHandle:m,menu:g,footer:y,readOnly:v}=e,b=(0,E.useRef)(null);return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(e,t)=>{var n;!e&&t&&(null==(n=b.current)||n.focus())},s[0]=t):t=s[0],zm(f,t),s[1]!==m||s[2]!==v?(n=m&&(0,_.jsx)(qH,{paddingY:3,readOnly:v}),s[1]=m,s[2]=v,s[3]=n):n=s[3],s[4]!==h?(r=(0,_.jsx)(I.Box,{flex:1,children:h}),s[4]=h,s[5]=r):r=s[5],s[6]!==g||s[7]!==p||s[8]!==c?(i=(p||c||g)&&(0,_.jsxs)(I.Flex,{align:"center",flex:"none",gap:2,style:{lineHeight:0},children:[p&&(0,_.jsx)(I.Box,{flex:"none",children:p}),c&&(0,_.jsx)(I.Box,{flex:"none",children:c}),g]}),s[6]=g,s[7]=p,s[8]=c,s[9]=i):i=s[9],s[10]!==n||s[11]!==r||s[12]!==i?(a=(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[n,r,i]}),s[10]=n,s[11]=r,s[12]=i,s[13]=a):a=s[13],s[14]!==y||s[15]!==a?(o=(0,_.jsxs)(I.Stack,{space:1,children:[a,y]}),s[14]=y,s[15]=a,s[16]=o):o=s[16],s[17]!==u||s[18]!==o||s[19]!==d?(l=(0,_.jsx)(Y5,{ref:b,selected:u,"aria-selected":u,radius:1,padding:1,tone:d,children:o}),s[17]=u,s[18]=o,s[19]=d,s[20]=l):l=s[20],l}let Y3=(0,F.styled)(I.Card)(k4(),e=>{let{theme:t}=e;return t.sanity.container[1]});function Y8(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A=(0,j.c)(54);if(A[0]!==e){let{value:i,onFocus:a,vertical:o,...l}=e;r=i,t=a,n=l,A[0]=e,A[1]=t,A[2]=n,A[3]=r}else t=A[1],n=A[2],r=A[3];let[O,P]=(0,E.useState)(!1),M=(0,E.useRef)(null),{t:F}=IO();A[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>P(!1),a=()=>[M.current],A[4]=i,A[5]=a):(i=A[4],a=A[5]),(0,I.useClickOutsideEvent)(i,a),A[6]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{("Escape"===e.key||"Tab"===e.key)&&P(!1)},A[6]=o):o=A[6];let N=o;A[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{P(Y4)},A[7]=l):l=A[7];let L=l;A[8]!==r?(s=(0,nw.resolveTypeName)(r),A[8]=r,A[9]=s):s=A[9];let z=s;return A[10]!==F?(c=F("inputs.array.error.type-is-incompatible-title"),A[10]=F,A[11]=c):c=A[11],A[12]!==c?(u=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{weight:"medium",children:c})}),A[12]=c,A[13]=u):u=A[13],A[14]!==z?(d={typeName:z},A[14]=z,A[15]=d):d=A[15],A[16]!==F||A[17]!==d?(p=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:F,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:d})}),A[16]=F,A[17]=d,A[18]=p):p=A[18],A[19]===Symbol.for("react.memo_cache_sentinel")?(f=(0,_.jsx)(R.BulbOutlineIcon,{}),A[19]=f):f=A[19],A[20]!==F?(h=F("inputs.array.error.can-delete-but-no-edit-description"),A[20]=F,A[21]=h):h=A[21],A[22]!==h?(m=(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:[f," ",h]})}),A[22]=h,A[23]=m):m=A[23],A[24]!==F?(g=F("inputs.array.error.json-representation-description"),A[24]=F,A[25]=g):g=A[25],A[26]!==g?(y=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:g}),A[26]=g,A[27]=y):y=A[27],A[28]!==r?(v=JSON.stringify(r,null,2),A[28]=r,A[29]=v):v=A[29],A[30]!==v?(b=(0,_.jsx)(I.Card,{padding:2,overflow:"auto",border:!0,children:(0,_.jsx)(I.Code,{size:1,as:"pre",language:"json",children:v})}),A[30]=v,A[31]=b):b=A[31],A[32]!==y||A[33]!==b?(x=(0,_.jsxs)(I.Stack,{space:2,children:[y,b]}),A[32]=y,A[33]=b,A[34]=x):x=A[34],A[35]!==m||A[36]!==x||A[37]!==u||A[38]!==p?(C=(0,_.jsx)(Y3,{margin:1,padding:3,onKeyDown:N,tabIndex:0,overflow:"auto",children:(0,_.jsxs)(I.Stack,{space:4,children:[u,p,m,x]})}),A[35]=m,A[36]=x,A[37]=u,A[38]=p,A[39]=C):C=A[39],A[40]===Symbol.for("react.memo_cache_sentinel")?(k=(0,_.jsx)(I.Box,{marginRight:3,children:(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.UnknownIcon,{})})}),A[40]=k):k=A[40],A[41]!==z?(w={typeName:z},A[41]=z,A[42]=w):w=A[42],A[43]!==F||A[44]!==w?(S=(0,_.jsxs)(I.Flex,{align:"center",children:[k,(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",children:(0,_.jsx)(IZ,{t:F,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:w})})})]}),A[43]=F,A[44]=w,A[45]=S):S=A[45],A[46]!==t||A[47]!==n||A[48]!==S?(T=(0,_.jsx)(I.Card,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:t,onClick:L,onKeyDown:N,__unstable_focusRing:!0,...n,children:S}),A[46]=t,A[47]=n,A[48]=S,A[49]=T):T=A[49],A[50]!==O||A[51]!==C||A[52]!==T?(D=(0,_.jsx)(B.Popover,{open:O,ref:M,onKeyDown:N,portal:!0,constrainSize:!0,tone:"default",content:C,children:T}),A[50]=O,A[51]=C,A[52]=T,A[53]=D):D=A[53],D}function Y4(e){return!e}let Y6={portal:!0,tone:"default"};function Y9(e){let t,n,r,i,a,o,l=(0,j.c)(18),{member:s,sortable:c,onRemove:u,readOnly:d}=e,p=(0,E.useId)(),{t:f}=IO(),h=!!d;l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(DO,{}),l[0]=t):t=l[0];let m="".concat(p,"-menuButton");return l[1]!==f?(n=f("inputs.array.action.remove-invalid-item"),l[1]=f,l[2]=n):n=l[2],l[3]!==u||l[4]!==n?(r=(0,_.jsx)(I.Menu,{children:(0,_.jsx)(B.MenuItem,{text:n,tone:"critical",icon:R.TrashIcon,onClick:u})}),l[3]=u,l[4]=n,l[5]=r):r=l[5],l[6]!==m||l[7]!==r?(i=(0,_.jsx)(B.MenuButton,{button:t,id:m,menu:r,popover:Y6}),l[6]=m,l[7]=r,l[8]=i):i=l[8],l[9]!==s.error.type||l[10]!==s.error.value||l[11]!==f?(a="INVALID_ITEM_TYPE"===s.error.type?(0,_.jsx)(Y8,{value:s.error.value}):(0,_.jsx)("div",{children:f("inputs.array.error.unexpected-error",{error:s.error.type})}),l[9]=s.error.type,l[10]=s.error.value,l[11]=f,l[12]=a):a=l[12],l[13]!==c||l[14]!==h||l[15]!==i||l[16]!==a?(o=(0,_.jsx)(I.Box,{paddingX:1,children:(0,_.jsx)(Y7,{dragHandle:c,readOnly:h,tone:"caution",menu:i,children:a})}),l[13]=c,l[14]=h,l[15]=i,l[16]=a,l[17]=o):o=l[17],o}let Ke=[];function Kt(e){var t;let{arrayFunctions:n=qz,elementProps:r,members:i,onChange:a,onItemMove:o,onUpload:l,focusPath:s,readOnly:c,onItemAppend:u,onItemPrepend:d,renderAnnotation:p,renderBlock:f,renderField:h,renderInlineBlock:m,renderInput:g,renderItem:y,renderPreview:v,resolveUploader:b,schemaType:x,value:C=Ke}=e,{t:k}=IO(),[w,j]=(0,E.useState)(null),{space:S}=(0,I.useTheme)().sanity,T=function(e,t){let[n,r]=(0,E.useState)(e);return t(n,e)?n:(r(e),e)}((0,E.useMemo)(()=>i.map(e=>e.key),[i]),nP.default),{scrollElement:A,containerElement:M}=function(){let e=(0,E.useContext)(D.VirtualizerScrollInstanceContext);if(!e)throw Error("VirtualizerScrollInstance: missing context value");return e}(),F=(0,E.useRef)(null),R=(0,E.useMemo)(()=>(0,W.isKeySegment)(s[0])?s[0]._key:s[0],[s]),B=(0,E.useCallback)(e=>{let t={...e};if(null!==w&&(t.startIndex=Math.min(e.startIndex,w),t.endIndex=Math.max(e.endIndex,w)),R){let e=T.findIndex(e=>e===R);-1!==e&&(t.startIndex=Math.min(t.startIndex,e),t.endIndex=Math.max(t.endIndex,e))}return(0,P.defaultRangeExtractor)(t)},[w,R,T]),N=(0,E.useCallback)((e,t)=>{if(!e.scrollElement)return;let n=e.scrollElement,r=e=>{var r,i,a,o;let l=null!=(a=null==(r=M.current)?void 0:r.getBoundingClientRect().top)?a:0,s=Math.floor((null!=(o=null==(i=F.current)?void 0:i.getBoundingClientRect().top)?o:0)-l);t(n.scrollTop-s,!!e)};return r(),e.scrollElement.addEventListener("scroll",r,{capture:!1,passive:!0}),()=>{n.removeEventListener("scroll",r)}},[M]),L=(0,E.useCallback)(()=>53,[]),z=(0,O.useVirtualizer)({count:i.length,estimateSize:L,getScrollElement:(0,E.useCallback)(()=>A,[A]),observeElementOffset:N,rangeExtractor:B,getItemKey:(0,E.useCallback)(e=>T[e],[T]),scrollToFn:(e,t,n)=>{e!==n.scrollOffset&&(0,P.elementScroll)(e,t,n)}}),V=z.getVirtualItems(),U=(0,E.useCallback)(e=>{var t,n;let{active:r}=e;j(null==(n=r.data.current)||null==(t=n.sortable)?void 0:t.index)},[]),H=(0,E.useCallback)(()=>{j(null)},[]),q=(null==(t=x.options)?void 0:t.sortable)!==!1;return(0,_.jsxs)(I.Stack,{space:2,ref:F,children:[(0,_.jsx)(qR,{$radius:2,types:x.of,resolveUploader:b,onUpload:l,...r,tabIndex:0,children:(0,_.jsx)(I.Stack,{"data-ui":"ArrayInput__content",space:2,children:0===i.length?(0,_.jsx)(I.Card,{padding:3,border:!0,radius:2,children:(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:x.placeholder||(0,_.jsx)(_.Fragment,{children:k("inputs.array.no-items-label")})})}):(0,_.jsx)(I.Card,{border:!0,radius:2,style:{boxSizing:"border-box",height:"".concat(z.getTotalSize()+V.length*S[1]+S[1],"px"),width:"100%",position:"relative"},children:(0,_.jsx)(qc,{axis:"y",gap:1,paddingY:1,items:T,onItemMove:o,onItemMoveStart:U,onItemMoveEnd:H,sortable:q,style:{position:"absolute",top:0,left:0,width:"100%",transform:V.length>0?"translateY(".concat(V[0].start,"px)"):void 0},children:V.map(t=>{let n=i[t.index];return(0,_.jsxs)(qu,{ref:z.measureElement,sortable:q,"data-index":t.index,id:n.key,children:["item"===n.kind&&(0,_.jsx)(UA,{member:n,renderAnnotation:p,renderBlock:f,renderField:h,renderInlineBlock:m,renderInput:g,renderItem:y,renderPreview:v}),"error"===n.kind&&(0,_.jsx)(Y9,{readOnly:c,sortable:q,member:n,onRemove:()=>e.onItemRemove(n.key)})]},t.key)})})})})}),(0,_.jsx)(n,{onChange:a,onItemAppend:u,onItemPrepend:d,onValueCreate:UL,readOnly:c,schemaType:x,value:C})]})}function Kn(e){var t;let n,r=(0,j.c)(3),i=(null==(t=e.schemaType.options)?void 0:t.layout)==="grid";return r[0]!==i||r[1]!==e?(n=i?(0,_.jsx)(Y1,{...e}):(0,_.jsx)(Kt,{...e}),r[0]=i,r[1]=e,r[2]=n):n=r[2],n}function Kr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("object"!=typeof e&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length===t.length&&e.every((n,r)=>Kr(e[r],t[r]));let n=Object.keys(e),r=Object.keys(e);return n.length===r.length&&n.every(n=>Kr(e[n],t[n]))}function Ki(e,t){return!!e&&e.some(e=>Kr(e,t))}let Ka=[];function Ko(e){var t,n;let{renderPreview:r,schemaType:i,onChange:a,onPathFocus:o,value:l=[],readOnly:s,elementProps:c,path:u,changed:d}=e,p=(0,E.useMemo)(()=>{var e;return((null==(e=i.options)?void 0:e.list)||Ka).map((e,t)=>(0,W.isKeyedObject)(e)?e:{...e,_key:"auto-generated-".concat(t)})},[null==(t=i.options)?void 0:t.list]),f=(0,E.useCallback)((e,t)=>{if(!e&&(0,W.isKeyedObject)(t))return void a(LN([{_key:t._key}]));let n=p.filter(n=>Kr(t,n)?e:Ki(l,n));a(n.length>0?LB(n):LN())},[a,p,l]),h=(0,E.useCallback)(e=>{o([e])},[o]),m=(null==(n=i.options)?void 0:n.layout)==="grid";return(0,_.jsx)($j,{path:u,isChanged:d,hasFocus:!1,children:(0,_.jsx)(I.Grid,{gap:2,columns:m?Math.min(p.length,4):1,tabIndex:0,...c,children:p.map((e,t)=>{let n=i.of.find(t=>t.name===(0,nw.resolveTypeName)(e)),a=Ki(l,e),o=!n;return(0,_.jsxs)(I.Flex,{align:"center",as:"label",muted:o,children:[(0,_.jsx)(I.Checkbox,{disabled:o,checked:a,onChange:t=>f(t.currentTarget.checked,e),onFocus:()=>h(t),readOnly:s}),(0,_.jsx)(I.Box,{flex:1,marginLeft:2,children:n?r({layout:"default",schemaType:n,value:e}):(0,_.jsx)(I.Card,{tone:"caution",radius:2,children:(0,_.jsx)(UP,{value:e,onFocus:()=>h(t)})})})]},t)})})})}function Kl(e){var t,n;let{schemaType:r,onChange:i,value:a=[],readOnly:o,path:l,changed:s,onIndexFocus:c,elementProps:u}=e,d=(0,E.useMemo)(()=>{var e;return((null==(e=r.options)?void 0:e.list)||[]).map(e=>e&&"object"==typeof e&&"title"in e&&"value"in e?{title:e.title||(0,ti.default)(String(e.value)),value:e.value}:{title:(0,ti.default)(String(e)),value:e})},[null==(t=r.options)?void 0:t.list]),p=(null==(n=r.options)?void 0:n.layout)==="grid";return(0,_.jsx)($j,{path:l,isChanged:s,hasFocus:!1,children:(0,_.jsx)(I.Grid,{gap:2,columns:p?Math.min(d.length,4):1,...u,children:d.map((e,t)=>{let n=r.of.find(t=>t.name===(0,nw.resolveTypeName)(e.value)),l=a.includes(e.value),s=!n;return(0,_.jsxs)(I.Flex,{align:"center",as:"label",muted:s,children:[(0,_.jsx)(I.Checkbox,{disabled:s,checked:l,onChange:t=>((e,t)=>{let n=d.map(e=>e.value).filter(n=>n===t?e:a.includes(n));i(n.length>0?LB(n):LN())})(t.currentTarget.checked,e.value),onFocus:()=>c(t),readOnly:o}),(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{children:e.title})}),!n&&(0,_.jsx)(Y8,{value:e,onFocus:()=>c(t)})]},t)})})})}function Ks(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,W.isArrayOfObjectsSchemaType)(e.schemaType)?(0,_.jsx)(Ko,{...e}):(0,_.jsx)(Kl,{...e}),n[0]=e,n[1]=t):t=n[1],t}function Kc(e){var t,n;let r,i,a,o,l,s,c=(0,j.c)(28),{schemaType:u,readOnly:d,children:p,onValueCreate:f,onItemAppend:h}=e,m=(0,E.useId)(),{t:g}=IO();c[0]!==h||c[1]!==f?(r=e=>{h(f(e))},c[0]=h,c[1]=f,c[2]=r):r=c[2];let y=r;c[3]!==y||c[4]!==u.of[0]?(i=()=>{y(u.of[0])},c[3]=y,c[4]=u.of[0],c[5]=i):i=c[5];let v=i;c[6]===Symbol.for("react.memo_cache_sentinel")?(a={constrainSize:!0,portal:!0},c[6]=a):a=c[6];let b=a,x=u.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";if(null==(n=u.options)||null==(t=n.disableActions)?void 0:t.includes("add"))return null;if(d){let e,t,n,r;return c[7]!==g?(e=g("inputs.array.read-only-label"),c[7]=g,c[8]=e):e=c[8],c[9]!==x||c[10]!==g?(t=g(x),c[9]=x,c[10]=g,c[11]=t):t=c[11],c[12]!==t?(n=(0,_.jsx)(I.Grid,{children:(0,_.jsx)(B.Button,{"data-testid":"add-single-primitive-button",icon:R.AddIcon,mode:"ghost",disabled:!0,size:"large",text:t})}),c[12]=t,c[13]=n):n=c[13],c[14]!==e||c[15]!==n?(r=(0,_.jsx)(B.Tooltip,{portal:!0,content:e,children:n}),c[14]=e,c[15]=n,c[16]=r):r=c[16],r}return c[17]===Symbol.for("react.memo_cache_sentinel")?(o={gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},c[17]=o):o=c[17],c[18]!==x||c[19]!==v||c[20]!==y||c[21]!==m||c[22]!==u.of||c[23]!==g?(l=1===u.of.length?(0,_.jsx)(B.Button,{"data-testid":"add-multiple--primitive-button",icon:R.AddIcon,mode:"ghost",onClick:v,size:"large",text:g(x)}):(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{icon:R.AddIcon,mode:"ghost",size:"large",text:g(x)}),id:m||"",menu:(0,_.jsx)(I.Menu,{children:u.of.map((e,t)=>{var n,r;let i=(0,W.isReferenceSchemaType)(e)&&1===(e.to||[]).length&&e.to[0].icon,a=e.icon||(null==(n=e.type)?void 0:n.icon)||i;return(0,_.jsx)(B.MenuItem,{text:e.title||(null==(r=e.type)?void 0:r.name),onClick:()=>y(e),icon:a},t)})}),popover:b}),c[18]=x,c[19]=v,c[20]=y,c[21]=m,c[22]=u.of,c[23]=g,c[24]=l):l=c[24],c[25]!==p||c[26]!==l?(s=(0,_.jsxs)(I.Grid,{gap:1,style:o,children:[l,p]}),c[25]=p,c[26]=l,c[27]=s):s=c[27],s}let Ku={portal:!0,tone:"default",placement:"left",constrainSize:!0};function Kd(e){let t,n,r=(0,j.c)(17),{types:i,onInsert:a,pos:o,text:l,icon:s}=e;if((null==i?void 0:i.length)===1){let e,t;return r[0]!==a||r[1]!==o||r[2]!==i[0]?(e=()=>a(o,i[0]),r[0]=a,r[1]=o,r[2]=i[0],r[3]=e):e=r[3],r[4]!==s||r[5]!==o||r[6]!==e||r[7]!==l?(t=(0,_.jsx)(B.MenuItem,{text:l,icon:s,onClick:e},o),r[4]=s,r[5]=o,r[6]=e,r[7]=l,r[8]=t):t=r[8],t}return r[9]!==a||r[10]!==o||r[11]!==i?(t=null==i?void 0:i.map(e=>(0,_.jsx)(B.MenuItem,{icon:e.icon,text:e.title,onClick:()=>a(o,e)},e.name)),r[9]=a,r[10]=o,r[11]=i,r[12]=t):t=r[12],r[13]!==o||r[14]!==t||r[15]!==l?(n=(0,_.jsx)(gr,{text:l,popover:Ku,children:t},o),r[13]=o,r[14]=t,r[15]=l,r[16]=n):n=r[16],n}(0,E.memo)(function(e){let t,n,r,i,a,o=(0,j.c)(15),{types:l,onInsert:s}=e,{t:c}=IO();return o[0]!==c?(t=c("inputs.array.action.add-before"),o[0]=c,o[1]=t):t=o[1],o[2]!==s||o[3]!==t||o[4]!==l?(n=(0,_.jsx)(Kd,{pos:"before",types:l,onInsert:s,text:t,icon:R.InsertAboveIcon}),o[2]=s,o[3]=t,o[4]=l,o[5]=n):n=o[5],o[6]!==c?(r=c("inputs.array.action.add-after"),o[6]=c,o[7]=r):r=o[7],o[8]!==s||o[9]!==r||o[10]!==l?(i=(0,_.jsx)(Kd,{pos:"after",types:l,onInsert:s,text:r,icon:R.InsertBelowIcon}),o[8]=s,o[9]=r,o[10]=l,o[11]=i):i=o[11],o[12]!==n||o[13]!==i?(a=(0,_.jsxs)(_.Fragment,{children:[n,i]}),o[12]=n,o[13]=i,o[14]=a):a=o[14],a});let Kp={portal:!0,tone:"default"},Kf=[],Kh=(0,E.forwardRef)(function(e,t){var n;let r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(58),{sortable:x,value:C,insertableTypes:k,onInsert:w,onCopy:S,onRemove:E,readOnly:T,inputId:D,parentSchemaType:A,validation:O,children:P,presence:M,schemaType:F}=e,N=O.filter(Km).length>0,L=O.filter(Kg).length>0;b[0]!==w?(r=(e,t)=>{w({position:e,items:[UR(t)]})},b[0]=w,b[1]=r):r=b[1];let z=r;b[2]!==w||b[3]!==C?(i=()=>{C&&w({position:"after",items:[C]})},b[2]=w,b[3]=C,b[4]=i):i=b[4];let V=i;b[5]!==S||b[6]!==C?(a=()=>{S({items:[C]})},b[5]=S,b[6]=C,b[7]=a):a=b[7];let U=a;e:{if(N){o="critical";break e}if(L){o="caution";break e}o=void 0}let H=o,{t:q}=IO(),W=(null==(n=A.options)?void 0:n.disableActions)||Kf;b[8]!==W||b[9]!==E||b[10]!==q?(l=!W.includes("remove")&&(0,_.jsx)(B.MenuItem,{text:q("inputs.array.action.remove"),tone:"critical",icon:R.TrashIcon,onClick:E},"remove"),b[8]=W,b[9]=E,b[10]=q,b[11]=l):l=b[11],b[12]!==W||b[13]!==U||b[14]!==q?(s=!W.includes("copy")&&(0,_.jsx)(B.MenuItem,{text:q("inputs.array.action.copy"),icon:R.CopyIcon,onClick:U},"copy"),b[12]=W,b[13]=U,b[14]=q,b[15]=s):s=b[15],b[16]!==W||b[17]!==V||b[18]!==q?(c=!W.includes("duplicate")&&(0,_.jsx)(B.MenuItem,{text:q("inputs.array.action.duplicate"),icon:R.AddDocumentIcon,onClick:V},"duplicate"),b[16]=W,b[17]=V,b[18]=q,b[19]=c):c=b[19],b[20]!==W||b[21]!==z||b[22]!==k||b[23]!==q?(u=!(W.includes("add")||W.includes("addBefore"))&&(0,_.jsx)(Kd,{pos:"before",types:k,onInsert:z,text:q("inputs.array.action.add-before"),icon:R.InsertAboveIcon},"add-before"),b[20]=W,b[21]=z,b[22]=k,b[23]=q,b[24]=u):u=b[24],b[25]!==W||b[26]!==z||b[27]!==k||b[28]!==q?(d=!W.includes("add")&&!W.includes("addAfter")&&(0,_.jsx)(Kd,{pos:"after",types:k,onInsert:z,text:q("inputs.array.action.add-after"),icon:R.InsertBelowIcon},"add-after"),b[25]=W,b[26]=z,b[27]=k,b[28]=q,b[29]=d):d=b[29],b[30]!==l||b[31]!==s||b[32]!==c||b[33]!==u||b[34]!==d?(p=[l,s,c,u,d].filter(Boolean),b[30]=l,b[31]=s,b[32]=c,b[33]=u,b[34]=d,b[35]=p):p=b[35];let Y=p;b[36]!==D||b[37]!==Y||b[38]!==T?(f=T||0===Y.length?null:(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(DO,{}),id:"".concat(D,"-menuButton"),popover:Kp,menu:(0,_.jsx)(I.Menu,{children:Y})}),b[36]=D,b[37]=Y,b[38]=T,b[39]=f):f=b[39];let K=f,G=!!T;b[40]!==M?(h=0===M.length?null:(0,_.jsx)(W_,{presence:M,maxAvatars:1}),b[40]=M,b[41]=h):h=b[41],b[42]!==O?(m=O.length>0?(0,_.jsx)(I.Box,{paddingX:1,paddingY:3,children:(0,_.jsx)(HO,{validation:O})}):null,b[42]=O,b[43]=m):m=b[43];let $=F?"flex-end":"center";return b[44]!==P?(g=(0,_.jsx)(I.Flex,{align:"flex-end",flex:1,children:(0,_.jsx)(I.Box,{flex:1,marginRight:2,children:P})}),b[44]=P,b[45]=g):g=b[45],b[46]!==t||b[47]!==$||b[48]!==g?(y=(0,_.jsx)(I.Flex,{align:$,ref:t,children:g}),b[46]=t,b[47]=$,b[48]=g,b[49]=y):y=b[49],b[50]!==K||b[51]!==x||b[52]!==G||b[53]!==h||b[54]!==m||b[55]!==y||b[56]!==H?(v=(0,_.jsx)(Y7,{tone:H,readOnly:G,menu:K,dragHandle:x,presence:h,validation:m,children:y}),b[50]=K,b[51]=x,b[52]=G,b[53]=h,b[54]=m,b[55]=y,b[56]=H,b[57]=v):v=b[57],v});function Km(e){return"error"===e.level}function Kg(e){return"warning"===e.level}function Ky(e){let t,n,r=(0,j.c)(5),{schemaType:i}=e,{t:a}=IO();return r[0]!==i.placeholder||r[1]!==a?(t=i.placeholder||a("inputs.array.no-items-label"),r[0]=i.placeholder,r[1]=a,r[2]=t):t=r[2],r[3]!==t?(n=(0,_.jsx)(I.Card,{padding:3,border:!0,radius:2,children:(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:t})}),r[3]=t,r[4]=n):n=r[4],n}class Kv extends E.PureComponent{focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(e){let{focusPath:t=[],value:n=[]}=e,{focusPath:r=[],value:i=[]}=this.props;if(t[0]===r[0]&&n.length!==i.length){var a;let e=r[0],t=window.getSelection();if(!((null==t?void 0:t.focusNode)instanceof HTMLElement))return null;let n=null==(a=t.focusNode)?void 0:a.querySelector("input,textarea");return n instanceof HTMLInputElement?{prevFocusedIndex:e,restoreSelection:{text:t.toString(),start:n.selectionStart,end:n.selectionEnd,value:n.value}}:{}}return null}componentDidUpdate(e,t,n){let{onIndexFocus:r}=this.props;if((null==n?void 0:n.restoreSelection)&&e.value){var i,a,o;let t=e.value[n.prevFocusedIndex],l=(a=this.props.value||[],o=n.prevFocusedIndex,function(e,t,n){let r=t-1,i=t,a=e.length;for(;r>-1||i<a;){let t=e[i];if(i<a&&n(t,i))return i;let o=e[r];if(r>-1&&n(o,r))return r;r--,i++}return -1}(a,o,e=>e===t));if(-1===l)return;let s=null==(i=this._element)?void 0:i.querySelector("[data-item-index='".concat(l,"'] input,textarea"));if(s instanceof HTMLInputElement){s.focus();try{s.setSelectionRange(n.restoreSelection.start,n.restoreSelection.end)}catch(e){}}r(l)}}render(){let{schemaType:e,members:t,readOnly:n,renderInput:r,onUpload:i,onItemRemove:a,resolveUploader:o,elementProps:l,arrayFunctions:s=Kc,changed:c}=this.props,u=!n&&!1!==(0,n_.default)(e,"options.sortable"),d=t.map(e=>({id:"".concat(e.key,"-").concat("item"===e.kind?e.item.value:"error"),member:e}));return(0,_.jsxs)(I.Stack,{space:2,"data-testid":"array-primitives-input",children:[(0,_.jsx)(qR,{types:e.of,resolveUploader:o,onUpload:i,...l,tabIndex:0,children:(0,_.jsx)(I.Stack,{space:1,children:0===d.length?(0,_.jsx)(Ky,{schemaType:e}):(0,_.jsx)(I.Card,{padding:1,border:!0,children:(0,_.jsx)(qc,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:d.map(e=>e.id),sortable:u,gap:1,children:d.map((e,t)=>{let{member:i,id:o}=e;return(0,_.jsxs)(qu,{id:o,sortable:u,disableTransition:this.state.disableTransition,children:["item"===i.kind&&(0,_.jsx)($j,{path:i.item.path,isChanged:c,hasFocus:!1,children:(0,_.jsx)(UN,{member:i,renderItem:this.renderArrayItem,renderInput:r})}),"error"===i.kind&&(0,_.jsx)(Y9,{readOnly:n,sortable:u,member:i,onRemove:()=>a(t)})]},i.key)})})})})}),(0,_.jsx)(s,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:UR,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}constructor(e){super(e),(0,k._)(this,"_element",null),(0,k._)(this,"handleAppend",e=>{let{value:t=[],onIndexFocus:n,onItemAppend:r}=this.props;r(e),n(t.length)}),(0,k._)(this,"handlePrepend",e=>{let{onIndexFocus:t,value:n=[],onItemPrepend:r}=this.props;r(e),t(n.length)}),(0,k._)(this,"handleSortEnd",e=>{let{onIndexFocus:t,onMoveItem:n,value:r}=this.props;r&&n(e),t(e.toIndex)}),(0,k._)(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})}),(0,k._)(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})}),(0,k._)(this,"renderArrayItem",e=>{var t;let{schemaType:n}=this.props,{key:r,...i}=e,a=(null==(t=n.options)?void 0:t.sortable)!==!1;return(0,_.jsx)(Kh,{...i,sortable:a,insertableTypes:n.of},r)}),this.state={disableTransition:!1}}}let Kb=(0,F.styled)(I.Box)(k6());function Kx(e,t,n){var r,i,a,o,l=function(e,t,n){if(n&&!n.code)throw Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}(e,n.timeZone,n.locale);return l.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if("timeZoneName"===n[r].type)return n[r].value}(l,t):(r=l,i=t,a=r.format(i).replace(/\u200E/g,""),(o=/ [\w-+ ]+$/.exec(a))?o[0].substr(1):"")}var KC={year:0,month:1,day:2,hour:3,minute:4,second:5},Kk={};function Kw(e,t,n,r,i,a,o){var l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(r,i,a,o),l}var K_={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Kj(e,t,n){if(!e||(r=K_.timezoneZ.exec(e)))return 0;if(r=K_.timezoneHH.exec(e))return KE(a=parseInt(r[1],10))?-(36e5*a):NaN;if(r=K_.timezoneHHMM.exec(e)){var r,i,a=parseInt(r[2],10),o=parseInt(r[3],10);return KE(a,o)?(i=36e5*Math.abs(a)+6e4*o,"+"===r[1]?-i:i):NaN}if(function(e){if(KT[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),KT[e]=!0,!0}catch(e){return!1}}(e)){t=new Date(t||Date.now());var l,s=KS(n?t:Kw((l=t).getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),e);return-(n?s:function(e,t,n){var r=e.getTime()-t,i=KS(new Date(r),n);if(t===i)return t;var a=KS(new Date(r-=i-t),n);return i===a?i:Math.max(i,a)}(t,s,e))}return NaN}function KS(e,t){var n,r,i,a,o,l=(o=function(e){if(!Kk[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));Kk[e]="06/25/2014, 00:00:00"===t||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===t?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Kk[e]}(t)).formatToParts?function(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=KC[n[i].type];a>=0&&(r[a]=parseInt(n[i].value,10))}return r}catch(e){if(e instanceof RangeError)return[NaN];throw e}}(o,e):(n=o,r=e,i=n.format(r),[(a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i))[3],a[1],a[2],a[4],a[5],a[6]]),s=Kw(l[0],l[1]-1,l[2],l[3]%24,l[4],l[5],0).getTime(),c=e.getTime(),u=c%1e3;return s-(c-=u>=0?u:1e3+u)}function KE(e,t){return -23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var KT={},KD={X:function(e,t,n,r){var i=KI(r.timeZone,e);if(0===i)return"Z";switch(t){case"X":return KP(i);case"XXXX":case"XX":return KO(i);default:return KO(i,":")}},x:function(e,t,n,r){var i=KI(r.timeZone,e);switch(t){case"x":return KP(i);case"xxxx":case"xx":return KO(i);default:return KO(i,":")}},O:function(e,t,n,r){var i,a,o,l,s,c=KI(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+(a=(i=c)>0?"-":"+",l=Math.floor((o=Math.abs(i))/60),0==(s=o%60)?a+String(l):a+String(l)+":"+KA(s,2));default:return"GMT"+KO(c,":")}},z:function(e,t,n,r){switch(t){case"z":case"zz":case"zzz":return Kx("short",e,r);default:return Kx("long",e,r)}}};function KI(e,t){var n=e?Kj(e,t,!0)/6e4:t.getTimezoneOffset();if(Number.isNaN(n))throw RangeError("Invalid time zone specified: "+e);return n}function KA(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}function KO(e,t){var n=Math.abs(e);return(e>0?"-":"+")+KA(Math.floor(n/60),2)+(t||"")+KA(Math.floor(n%60),2)}function KP(e,t){return e%60==0?(e>0?"-":"+")+KA(Math.abs(e)/60,2):KO(e,t)}var KM=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,KF={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:KM};function KR(e,t){if(arguments.length<1)throw TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},r=null==n.additionalDigits?2:(0,mW.default)(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=function(e){var t,n={},r=KF.dateTimePattern.exec(e);if(r?(n.date=r[1],t=r[3]):(r=KF.datePattern.exec(e))?(n.date=r[1],t=r[2]):(n.date=null,t=e),t){var i=KF.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}(e),a=function(e,t){var n,r=KF.YYY[t],i=KF.YYYYY[t];if(n=KF.YYYY.exec(e)||i.exec(e)){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=KF.YY.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(i.date,r),o=a.year,l=function(e,t){if(null===t)return null;if(0===e.length)return(a=new Date(0)).setUTCFullYear(t),a;if(n=KF.MM.exec(e))return a=new Date(0),KV(t,r=parseInt(n[1],10)-1)?(a.setUTCFullYear(t,r),a):new Date(NaN);if(n=KF.DDD.exec(e)){var n,r,i,a=new Date(0),o=parseInt(n[1],10);return!function(e,t){if(t<1)return!1;var n=Kz(e);return!(n&&t>366||!n&&t>365)}(t,o)?new Date(NaN):(a.setUTCFullYear(t,0,o),a)}if(n=KF.MMDD.exec(e)){a=new Date(0),r=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return KV(t,r,l)?(a.setUTCFullYear(t,r,l),a):new Date(NaN)}if(n=KF.Www.exec(e))return KU(t,i=parseInt(n[1],10)-1)?KB(t,i):new Date(NaN);if(n=KF.WwwD.exec(e)){i=parseInt(n[1],10)-1;var s=parseInt(n[2],10)-1;return KU(t,i,s)?KB(t,i,s):new Date(NaN)}return null}(a.restDateString,o);if(isNaN(l)||!l)return new Date(NaN);var s,c=l.getTime(),u=0;if(i.time&&isNaN(u=function(e){var t,n,r;if(t=KF.HH.exec(e))return KH(n=parseFloat(t[1].replace(",",".")))?n%24*36e5:NaN;if(t=KF.HHMM.exec(e))return KH(n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")))?n%24*36e5+6e4*r:NaN;if(t=KF.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return KH(n,r,i)?n%24*36e5+6e4*r+1e3*i:NaN}return null}(i.time)))return new Date(NaN);if(i.timeZone||n.timeZone){if(isNaN(s=Kj(i.timeZone||n.timeZone,new Date(c+u))))return new Date(NaN)}else s=(0,mY.default)(new Date(c+u)),s=(0,mY.default)(new Date(c+u+s));return new Date(c+u+s)}function KB(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var KN=[31,28,31,30,31,30,31,31,30,31,30,31],KL=[31,29,31,30,31,30,31,31,30,31,30,31];function Kz(e){return e%400==0||e%4==0&&e%100!=0}function KV(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=Kz(e);if(r&&n>KL[t]||!r&&n>KN[t])return!1}return!0}function KU(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function KH(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}var Kq=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function KW(e,t,n){var r=KR(e,n),i=Kj(t,r,!0),a=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function KY(e,t,n,r){var i=(0,mH.default)(r);return i.timeZone=t,i.originalDate=e,function(e,t,n){var r=String(t),i=n||{},a=r.match(Kq);if(a){var o=KR(i.originalDate||e,i);r=a.reduce(function(e,t){if("'"===t[0])return e;var n=e.indexOf(t),r="'"===e[n-1],a=e.replace(t,"'"+KD[t[0]](o,t,null,i)+"'");return r?a.substring(0,n-1)+a.substring(n+1):a},r)}return(0,mq.default)(e,r,i)}(KW(e,t),n,i)}function KK(e,t,n){if("string"==typeof e&&!e.match(KM)){var r=(0,mH.default)(n);return r.timeZone=t,KR(e,r)}var i=KR(e,n),a=Kw(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=Kj(t,new Date(a));return new Date(a+o)}let KG={SMALL:"d MMM yy',' p",MEDIUM:"d MMMM yyyy',' p",LARGE:"iiii',' d MMMM yyyy',' p"},K$=e=>{let t,n,r,i,a,o=(0,j.c)(10),{body:l,title:s}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(R.CalendarIcon,{}),o[0]=t):t=o[0],o[1]!==s?(n=s&&(0,_.jsx)(I.Text,{size:2,weight:"semibold",children:s}),o[1]=s,o[2]=n):n=o[2],o[3]!==n?(r=(0,_.jsxs)(I.Inline,{space:2,children:[t,n]}),o[3]=n,o[4]=r):r=o[4],o[5]!==l?(i=l&&(0,_.jsx)(I.Text,{size:1,children:l}),o[5]=l,o[6]=i):i=o[6],o[7]!==r||o[8]!==i?(a=(0,_.jsxs)(I.Stack,{paddingY:1,space:3,children:[r,i]}),o[7]=r,o[8]=i,o[9]=a):a=o[9],a},KZ="scheduled-publishing:";function KX(e){let t="".concat(KZ).concat(e);return tr.default&&tr.default.enabled(t)?(0,tr.default)(t):(0,tr.default)(KZ)}(0,tr.default)(KZ);let KJ={update:"timeZoneEventUpdate"},KQ=KX("useScheduleOperation"),K1="studio.timezone.",K2=new Map,K0=new Map,K5=e=>{if(!e)return 0;let t=e.startsWith("-")?-1:1;if(!e.includes(":"))return t*Number(e.replace(/[+-]/,""))*60;let[n,r]=e.replace(/[+-]/,"").split(":").map(Number);return t*(60*n+r)},K7={scheduledPublishing:"scheduled-publishing",contentReleases:"content-releases",input:"input"},K3=e=>{let t=(0,A.useToast)(),n=Fh(),r=navigator.language,{defaultTimeZone:i}=e,a=K7[e.type],o="id"in e?"".concat(K1).concat(a,".").concat(e.id):"".concat(K1).concat(a),l="relativeDate"in e?e.relativeDate:void 0;(0,E.useEffect)(()=>{if("scheduledPublishing"===e.type){let e="scheduled-publishing::time-zone",t=localStorage.getItem(e);if(t){let r=JSON.parse(t);n.setKey(o,r.name),localStorage.removeItem(e)}}},[e.type,n,o,r,l]);let s=(0,E.useMemo)(()=>(function(e,t){let n="".concat(e,"_").concat((null==t?void 0:t.toISOString().slice(0,10))||"now");if(K2.has(n))return K2.get(n);let r=Intl.supportedValuesOf("timeZone").map(n=>{if(!n.includes("/"))return null;let{alternativeName:r,abbreviation:i,offset:a}=function(e,t,n){var r,i;let a=(null==n?void 0:n.toISOString().slice(0,10))||"now",o="".concat(e,"_").concat(t,"_").concat(a);if(K0.has(o))return K0.get(o);let l=new Intl.DateTimeFormat((0,tm.sanitizeLocale)(e),{timeZone:t,timeZoneName:"long"}),s=new Intl.DateTimeFormat((0,tm.sanitizeLocale)(e),{timeZone:t,timeZoneName:"short"}),c=null!=n?n:new Date,u=l.formatToParts(c),d=s.formatToParts(c),p=KY(c,t,"xxx").replace(/([+-])0(\d)/,"$1$2").replace(/([+-])0$/,"$1").replace(/:00$/,"").replace(/[+]0$/,""),f={abbreviation:(null==(r=d.find(e=>{let{type:t}=e;return"timeZoneName"===t}))?void 0:r.value)||"",alternativeName:(null==(i=u.find(e=>{let{type:t}=e;return"timeZoneName"===t}))?void 0:i.value)||"",offset:p};return K0.set(o,f),f}(e,n,t),[,o]=n.split("/");return{abbreviation:i,alternativeName:r,city:o.replaceAll("_"," "),name:n,namePretty:n.replaceAll("_"," "),offset:a,value:"".concat(a," ").concat(i," ").concat(n," ").concat(r)}}).filter(e=>null!==e).sort((e,t)=>K5(e.offset)-K5(t.offset));return K2.set(n,r),r})(r,l),[r,l]),c=(0,E.useCallback)(()=>i?s.find(e=>e.name===i):void 0,[s,i]),u=(0,E.useMemo)(()=>n.getKey(o).pipe((0,eI.startWith)(null)),[n,o]),d=(0,te.useObservable)(u,null),p=(0,E.useCallback)(()=>{if(d)try{let e=s.find(e=>e.name===d);if(e&&s.some(t=>t.name===e.name))return e;let t=s.find(t=>t.offset===(null==e?void 0:e.offset));if(t)return n.setKey(o,t.name),t}catch(e){return}},[s,o,n,d]),f=(0,E.useCallback)(()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;return s.find(t=>t.name===e)||s.find(e=>"GMT"===e.abbreviation)||s[0]},[s]),h=(0,E.useCallback)(()=>p()||c()||f(),[p,c,f]),[m,g]=(0,E.useState)(()=>h());(0,E.useEffect)(()=>{g(h())},[h]),(0,E.useEffect)(()=>{let e=()=>{g(h())};return window.addEventListener(KJ.update,e),()=>{window.removeEventListener(KJ.update,e)}},[h]);let y=(0,E.useCallback)(e=>{var t;let{date:n,format:r=KG.LARGE,includeTimeZone:i,prefix:a}=e,o=r;return a&&(o="'".concat(a,"'").concat(r)),i&&(o="".concat(r," (zzzz)")),KY(n,(null==m?void 0:m.name)||(null==(t=f())?void 0:t.name)||"UTC",o)},[m,f]),v=(0,E.useCallback)(()=>m?KW(new Date,m.name):new Date,[m]),b=(0,E.useCallback)(e=>s.find(t=>e===t.value)||h(),[s,h]),x=(0,E.useCallback)(e=>{KQ("handleNewValue:",e),g(r=>{try{(null==r?void 0:r.name)!==e.name&&(n.setKey(o,e.name),window.dispatchEvent(new Event(KJ.update))),t.push({closable:!0,description:(0,_.jsx)(K$,{body:"".concat(e.alternativeName," (").concat(e.namePretty,")"),title:"Time zone updated"}),duration:15e3,status:"info"})}catch(e){console.error(e),t.push({closable:!0,description:(0,_.jsx)(K$,{body:function(e){let t;return"object"==typeof e&&e&&"statusCode"in e&&"response"in e?t=403===e.response.statusCode?"Forbidden. Please check that your project has access to the feature.":e.message:(e instanceof Error&&(t=e.message),t=String(e)),t}(e),title:"Unable to update time zone"}),status:"error"})}return e})},[o,t,n]),C=(0,E.useCallback)(e=>m?KW(e,m.name):e,[m]),k=(0,E.useCallback)(e=>m?KK(e,m.name):e,[m]);return(0,E.useMemo)(()=>({formatDateTz:y,getCurrentZoneDate:v,setTimeZone:x,timeZone:m,allTimeZones:s,getLocalTimeZone:f,getTimeZone:b,utcToCurrentZoneDate:C,zoneDateToUtc:k}),[y,v,x,m,s,f,b,C,k])},K8=F.styled.span(e=>{let{theme:t}=e;return(0,F.css)(k9(),t.sanity.color.base.fg)}),K4=F.styled.span(e=>{let{theme:t}=e;return(0,F.css)(we(),t.sanity.color.muted.default.enabled.fg)}),K6=F.styled.span(e=>{let{theme:t}=e;return(0,F.css)(wt(),t.sanity.color.input.default.readOnly.fg)}),K9=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w=(0,j.c)(62),{onClose:S,timeZoneScope:T}=e,{setTimeZone:D,allTimeZones:O,timeZone:P,getLocalTimeZone:M,getTimeZone:F}=K3(T),[N,L]=(0,E.useState)(P),{t:z}=IO("studio");w[0]!==z?(t=z("time-zone.dialog-info.scheduled-publishing"),w[0]=z,w[1]=t):t=w[1],w[2]!==z?(n=z("time-zone.dialog-info.content-releases"),w[2]=z,w[3]=n):n=w[3],w[4]!==z?(r=z("time-zone.dialog-info.input"),w[4]=z,w[5]=r):r=w[5],w[6]!==t||w[7]!==n||w[8]!==r?(i={scheduledPublishing:t,contentReleases:n,input:r},w[6]=t,w[7]=n,w[8]=r,w[9]=i):i=w[9];let V=i;w[10]!==F?(a=e=>L(F(e)),w[10]=F,w[11]=a):a=w[11];let U=a;w[12]!==M?(o=()=>L(M()),w[12]=M,w[13]=o):o=w[13];let H=o;w[14]!==S||w[15]!==N||w[16]!==D?(l=()=>{N&&D(N),null==S||S()},w[14]=S,w[15]=N,w[16]=D,w[17]=l):l=w[17];let q=l,W=(null==N?void 0:N.name)!==P.name,Y=(null==N?void 0:N.name)===M().name,K=!W||!N;w[18]!==q||w[19]!==K?(s={confirmButton:{text:"Update time zone",disabled:K,onClick:q,tone:"primary"}},w[18]=q,w[19]=K,w[20]=s):s=w[20];let G=V[T.type];w[21]!==G?(c=(0,_.jsx)(I.Text,{size:1,children:G}),w[21]=G,w[22]=c):c=w[22],w[23]!==z?(u=z("time-zone.time-zone"),w[23]=z,w[24]=u):u=w[24],w[25]!==u?(d=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:u}),w[25]=u,w[26]=d):d=w[26],w[27]!==Y||w[28]!==z?(p=Y&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:z("time-zone.local-time")}),w[27]=Y,w[28]=z,w[29]=p):p=w[29],w[30]!==d||w[31]!==p?(f=(0,_.jsxs)(I.Inline,{space:2,children:[d,p]}),w[30]=d,w[31]=p,w[32]=f):f=w[32],w[33]!==H||w[34]!==Y||w[35]!==z?(h=!Y&&(0,_.jsx)(I.Text,{size:1,weight:"medium",children:(0,_.jsx)("a",{onClick:H,style:{cursor:"pointer"},children:z("time-zone.action.select-local-time-zone")})}),w[33]=H,w[34]=Y,w[35]=z,w[36]=h):h=w[36],w[37]!==f||w[38]!==h?(m=(0,_.jsxs)(I.Flex,{align:"center",justify:"space-between",children:[f,h]}),w[37]=f,w[38]=h,w[39]=m):m=w[39],w[40]!==z?(g=z("time-zone.action.search-for-timezone-placeholder"),w[40]=z,w[41]=g):g=w[41],w[42]!==T.type?(y="input"===T.type?document.querySelector("#document-panel-scroller"):document.querySelector("body"),w[42]=T.type,w[43]=y):y=w[43],w[44]!==y?(v={boundaryElement:y,constrainSize:!0,placement:"bottom-start"},w[44]=y,w[45]=v):v=w[45];let $=null==N?void 0:N.value;return w[46]!==O||w[47]!==U||w[48]!==g||w[49]!==v||w[50]!==$?(b=(0,_.jsx)(A.Autocomplete,{fontSize:2,icon:R.SearchIcon,id:"timezone",onChange:U,openButton:!0,options:O,padding:4,filterOption:Gn,placeholder:g,popover:v,renderOption:Ge,renderValue:Gt,tabIndex:-1,value:$}),w[46]=O,w[47]=U,w[48]=g,w[49]=v,w[50]=$,w[51]=b):b=w[51],w[52]!==m||w[53]!==b?(x=(0,_.jsxs)(I.Stack,{space:3,children:[m,b]}),w[52]=m,w[53]=b,w[54]=x):x=w[54],w[55]!==c||w[56]!==x?(C=(0,_.jsxs)(I.Stack,{padding:4,space:5,children:[c,x]}),w[55]=c,w[56]=x,w[57]=C):C=w[57],w[58]!==S||w[59]!==C||w[60]!==s?(k=(0,_.jsx)(B.Dialog,{footer:s,header:"Select time zone",id:"time-zone",onClose:S,width:1,children:C}),w[58]=S,w[59]=C,w[60]=s,w[61]=k):k=w[61],k};function Ge(e){return(0,_.jsx)(I.Card,{as:"button",padding:3,children:(0,_.jsxs)(I.Text,{size:1,textOverflow:"ellipsis",children:[(0,_.jsx)(K8,{children:e.city}),(0,_.jsxs)(K4,{children:[" ","(","GMT",e.offset,")"]}),(0,_.jsx)(K6,{children:e.alternativeName})]})})}function Gt(e,t){return t?"".concat(t.alternativeName," (").concat(t.namePretty,")"):""}function Gn(e,t){var n,r;return""===e||(null==(r="".concat(t.city," (GMT\n            ").concat(t.offset,") ").concat(t.alternativeName))||null==(n=r.toLowerCase())?void 0:n.includes(null==e?void 0:e.toLowerCase()))}function Gr(e){let t,n,r,i,a=(0,j.c)(9),[o,l]=(0,E.useState)(!1);a[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{l(!1)},a[0]=t):t=a[0];let s=t;a[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{l(!0)},a[1]=n):n=a[1];let c=n;a[2]!==e||a[3]!==o?(r={onClose:s,visible:o,timeZoneScope:e},a[2]=e,a[3]=o,a[4]=r):r=a[4];let u=r,d=o?K9:null;return a[5]!==u||a[6]!==d||a[7]!==e?(i={DialogTimeZone:d,dialogProps:u,timeZoneScope:e,dialogTimeZoneShow:c,hide:s},a[5]=u,a[6]=d,a[7]=e,a[8]=i):i=a[8],i}let Gi=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(22);p[0]!==e?({onChange:r,onBlur:n,onKeyPress:i,value:o,...a}=e,p[0]=e,p[1]=n,p[2]=r,p[3]=i,p[4]=a,p[5]=o):(n=p[1],r=p[2],i=p[3],a=p[4],o=p[5]);let[f,h]=(0,E.useState)();p[6]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{h(e.currentTarget.value)},p[6]=l):l=p[6];let m=l;p[7]!==r||p[8]!==o?(s=e=>{e.currentTarget.value!=="".concat(o)&&r&&r(e),h(void 0)},p[7]=r,p[8]=o,p[9]=s):s=p[9];let g=s;p[10]!==g||p[11]!==n?(c=e=>{g(e),n&&n(e)},p[10]=g,p[11]=n,p[12]=c):c=p[12];let y=c;p[13]!==g||p[14]!==i?(u=e=>{"Enter"===e.key&&g(e),i&&i(e)},p[13]=g,p[14]=i,p[15]=u):u=p[15];let v=u,b=void 0===f?o:f;return p[16]!==t||p[17]!==y||p[18]!==v||p[19]!==a||p[20]!==b?(d=(0,_.jsx)(I.TextInput,{...a,ref:t,value:b,onChange:m,onBlur:y,onKeyPress:v}),p[16]=t,p[17]=y,p[18]=v,p[19]=a,p[20]=b,p[21]=d):d=p[21],d}),Ga=(0,F.styled)(Gi).attrs(()=>({type:"time"}))(wn());function Go(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(28),{date:u,focused:d,isCurrentMonth:p,isToday:f,onSelect:h,selected:m,isPastDisabled:g}=e;c[0]!==u||c[1]!==h?(t=()=>{h(u)},c[0]=u,c[1]=h,c[2]=t):t=c[2];let y=t;c[3]!==u?(n=u.toDateString(),c[3]=u,c[4]=n):n=c[4];let v=d?"true":"";c[5]!==u||c[6]!==g||c[7]!==f?(r=g&&!f&&(0,tI.isPast)(u),c[5]=u,c[6]=g,c[7]=f,c[8]=r):r=c[8];let b=f||m?"primary":"default",x="calendar-day-".concat(u.toDateString().replaceAll(" ","-")),C=!m&&!p;c[9]===Symbol.for("react.memo_cache_sentinel")?(i={textAlign:"center"},c[9]=i):i=c[9];let k=p?"medium":"regular";return c[10]!==u?(a=u.getDate(),c[10]=u,c[11]=a):a=c[11],c[12]!==C||c[13]!==k||c[14]!==a?(o=(0,_.jsx)(I.Text,{muted:C,size:1,style:i,weight:k,children:a}),c[12]=C,c[13]=k,c[14]=a,c[15]=o):o=c[15],c[16]!==y||c[17]!==m||c[18]!==n||c[19]!==o||c[20]!==v||c[21]!==r||c[22]!==b||c[23]!==x?(l=(0,_.jsx)(I.Card,{"aria-label":n,"aria-pressed":m,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":v,role:"button",tabIndex:-1,disabled:r,onClick:y,padding:2,radius:2,selected:m,tone:b,"data-testid":x,children:o}),c[16]=y,c[17]=m,c[18]=n,c[19]=o,c[20]=v,c[21]=r,c[22]=b,c[23]=x,c[24]=l):l=c[24],c[25]!==m||c[26]!==l?(s=(0,_.jsx)("div",{"aria-selected":m,"data-ui":"CalendarDay",children:l}),c[25]=m,c[26]=l,c[27]=s):s=c[27],s}let Gl=["January","February","March","April","May","June","July","August","September","October","November","December"],Gs=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Gc=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gu=[1,2,3,4,5,6],Gd=e=>{let t,n=(0,j.c)(3),{weekInfo:r}=IF();return n[0]!==e||n[1]!==r.firstDay?(t=((e,t)=>{let n=(0,tO.startOfMonth)(e);return(0,tP.eachWeekOfInterval)({start:n,end:(0,tM.lastDayOfMonth)(n)},{weekStartsOn:7===t?0:t})})(e,r.firstDay).map(e=>[e,...Gu.map(t=>(0,tA.addDays)(e,t))]).map(Gp),n[0]=e,n[1]=r.firstDay,n[2]=t):t=n[2],t};function Gp(e){return{number:(0,tF.getWeek)(e[0]),days:e}}function Gf(e){let t,n,r,i,a,o=(0,j.c)(24),{weekInfo:l}=IF(),{firstDay:s}=l,c=e.weekDayNames;if(7===s){let t;o[0]!==e.weekDayNames?(t=[e.weekDayNames[6],...e.weekDayNames.slice(0,6)],o[0]=e.weekDayNames,o[1]=t):t=o[1],c=t}else if(6===s){let t;o[2]!==e.weekDayNames?(t=[...e.weekDayNames.slice(5),...e.weekDayNames.slice(0,5)],o[2]=e.weekDayNames,o[3]=t):t=o[3],c=t}let u=e.hidden||!1;o[4]===Symbol.for("react.memo_cache_sentinel")?(t={gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},o[4]=t):t=o[4],o[5]!==c?(n=c.map(Gh),o[5]=c,o[6]=n):n=o[6];let d=Gd(e.date);if(o[7]!==e.focused||o[8]!==e.isPastDisabled||o[9]!==e.onSelect||o[10]!==e.selected||o[11]!==d){let t;o[13]!==e.focused||o[14]!==e.isPastDisabled||o[15]!==e.onSelect||o[16]!==e.selected?(t=(t,n)=>t.days.map((t,r)=>{let i=e.focused&&(0,tR.isSameDay)(t,e.focused),a=e.selected&&(0,tR.isSameDay)(t,e.selected),o=(0,tR.isSameDay)(t,new Date),l=e.focused&&(0,tB.isSameMonth)(t,e.focused);return(0,_.jsx)(Go,{date:t,focused:i,isCurrentMonth:l,isToday:o,onSelect:e.onSelect,selected:a,isPastDisabled:e.isPastDisabled},"".concat(n,"-").concat(r))}),o[13]=e.focused,o[14]=e.isPastDisabled,o[15]=e.onSelect,o[16]=e.selected,o[17]=t):t=o[17],r=d.map(t),o[7]=e.focused,o[8]=e.isPastDisabled,o[9]=e.onSelect,o[10]=e.selected,o[11]=d,o[12]=r}else r=o[12];return o[18]!==n||o[19]!==r?(i=(0,_.jsxs)(I.Grid,{gap:1,style:t,children:[n,r]}),o[18]=n,o[19]=r,o[20]=i):i=o[20],o[21]!==u||o[22]!==i?(a=(0,_.jsx)(I.Box,{"aria-hidden":u,"data-ui":"CalendarMonth",children:i}),o[21]=u,o[22]=i,o[23]=a):a=o[23],a}function Gh(e){return(0,_.jsx)(I.Box,{paddingY:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",style:{textAlign:"center"},children:e})},e)}let Gm={dayPresets:!1,timePresets:!1},Gg=e=>{let t,n,r,i,a=(0,j.c)(8);a[0]!==e?({onChange:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=e=>{let n=parseInt(e.currentTarget.value,10);isNaN(n)||t(n)},a[3]=t,a[4]=r):r=a[4];let o=r;return a[5]!==o||a[6]!==n?(i=(0,_.jsx)(Gi,{"data-testid":"date-input",...n,fontSize:1,onChange:o,inputMode:"numeric",padding:2,radius:2}),a[5]=o,a[6]=n,a[7]=i):i=a[7],i},Gy={carousel:"carousel"},Gv=(0,_.jsx)("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Gb={padding:2},Gx=(0,E.forwardRef)(function(e,t){let{selectTime:n,onFocusedDateChange:r,selectedDate:i=new Date,focusedDate:a=i,timeStep:o=1,onSelect:l,labels:s,isPastDisabled:c,monthPickerVariant:u="select",padding:d=2,showTimeZone:p=!1,timeZoneScope:f,...h}=e,{timeZone:m}=K3(f),[g,y]=(0,E.useMemo)(()=>[Number((0,tm.format)(a,"MM",{timeZone:null==m?void 0:m.name}))-1,Number((0,tm.format)(a,"YYYY",{timeZone:null==m?void 0:m.name}))],[a,null==m?void 0:m.name]),{DialogTimeZone:v,dialogProps:b,dialogTimeZoneShow:x}=Gr(f),[C,k]=(0,E.useState)(i);(0,E.useEffect)(()=>{m&&k(KW(KK(i,m.name),m.name))},[i,m]);let w=(0,E.useCallback)(e=>r(e),[r]),j=(0,E.useCallback)(e=>w((0,tN.setDate)((0,tL.setMonth)(a,e),1)),[a,w]),S=(0,E.useCallback)(e=>j(Number(e.currentTarget.value)),[j]),T=(0,E.useCallback)(e=>w((0,tz.addMonths)(a,e)),[a,w]),D=(0,E.useCallback)(e=>w((0,tV.setYear)(a,e)),[a,w]),A=(0,E.useCallback)(e=>{let t=(0,tU.setMinutes)((0,tH.setHours)(e,C.getHours()),C.getMinutes());if(!m)return void l(t);l(KW(KK(t,m.name),m.name))},[l,C,m]),O=(0,E.useCallback)((e,t)=>{if(!m)return void l((0,tH.setHours)((0,tU.setMinutes)(C,t),e));let n=KW(C,m.name);l(KK((0,tH.setHours)((0,tU.setMinutes)(n,t),e),m.name))},[l,C,m]),P=(0,E.useCallback)(e=>{let t=(0,tk.parse)(e.currentTarget.value,"HH:mm",new Date);O(t.getHours(),t.getMinutes())},[O]),M=(0,E.useRef)(null);(0,E.useImperativeHandle)(t,()=>M.current);let F=(0,E.useCallback)(()=>{var e,t;null==(t=M.current)||null==(e=t.querySelector('[data-focused="true"]'))||e.focus()},[M]),N=(0,E.useCallback)(e=>{var t,n;if(!Gc.includes(e.key))return;let i=e.currentTarget;if(e.preventDefault(),i.hasAttribute("data-calendar-grid"))return void F();"ArrowUp"===e.key&&r((0,tA.addDays)(a,-7)),"ArrowDown"===e.key&&r((0,tA.addDays)(a,7)),"ArrowLeft"===e.key&&r((0,tA.addDays)(a,-1)),"ArrowRight"===e.key&&r((0,tA.addDays)(a,1)),null==(n=M.current)||null==(t=n.querySelector("[data-preserve-focus]"))||t.focus()},[M,F,r,a]);(0,E.useEffect)(()=>{F()},[F]),(0,E.useEffect)(()=>{var e;(null==(e=document.activeElement)?void 0:e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&F()},[M,F,a]),(0,E.useCallback)(()=>A((0,tA.addDays)(new Date,-1)),[A]),(0,E.useCallback)(()=>A(new Date),[A]),(0,E.useCallback)(()=>A((0,tA.addDays)(new Date,1)),[A]);let L=(0,E.useMemo)(()=>{var e,t;return"carousel"===u?(0,_.jsx)(I.Flex,{align:"center",paddingLeft:4,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:"55px",position:"sticky",top:0},children:(0,_.jsxs)(I.Flex,{align:"center",flex:1,justify:"space-between",children:[(0,_.jsx)(I.Flex,{align:"center",flex:1,children:(0,_.jsxs)(I.Text,{weight:"medium",size:1,children:[s.monthNames[null==(e=a||new Date)?void 0:e.getMonth()]," ",null==(t=a||new Date)?void 0:t.getFullYear()]})}),(0,_.jsx)(I.Flex,{paddingRight:3,gap:2,children:(0,_.jsxs)(B.TooltipDelayGroupProvider,{children:[(0,_.jsx)(B.Button,{icon:R.ChevronLeftIcon,mode:"bleed",onClick:()=>T(-1),"data-testid":"calendar-prev-month",tooltipProps:{content:"Previous month"}}),(0,_.jsx)(B.Button,{icon:R.ChevronRightIcon,mode:"bleed",onClick:()=>T(1),"data-testid":"calendar-next-month",tooltipProps:{content:"Next month"}})]})})]})}):(0,_.jsxs)(I.Flex,{children:[(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(GC,{onChange:S,monthNames:s.monthNames,value:g})}),(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(Gw,{moveFocusedDate:T,labels:{goToNextYear:s.goToNextYear,goToPreviousYear:s.goToPreviousYear},onChange:D,value:y})})]})},[a,g,y,S,s.goToNextYear,s.goToPreviousYear,s.monthNames,u,T,D]),z=(0,E.useCallback)(()=>l(new Date),[l]);return(0,_.jsxs)(I.Box,{"data-testid":"calendar","data-ui":"Calendar",...h,ref:M,children:[(0,_.jsxs)(I.Box,{padding:d,children:[Gm.dayPresets,L,(0,_.jsxs)(I.Box,{"data-calendar-grid":!0,onKeyDown:N,marginY:2,overflow:"hidden",tabIndex:0,children:[(0,_.jsx)(Gf,{weekDayNames:s.weekDayNamesShort,date:a,focused:a,onSelect:A,selected:C,isPastDisabled:c}),Gv]})]}),(0,_.jsx)(I.Box,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:(0,_.jsxs)(I.Flex,{align:"center",justify:"space-between",children:[n&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(I.Flex,{align:"center",children:[(0,_.jsx)(Ga,{"aria-label":s.selectTime,value:(0,tm.format)(C,"HH:mm",{timeZone:null==m?void 0:m.name}),onChange:P}),(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(B.Button,{text:s.setToCurrentTime,mode:"bleed",onClick:z})})]}),p&&(0,_.jsx)(B.Button,{icon:R.EarthGlobeIcon,mode:"bleed",size:"default",text:"".concat(null==m?void 0:m.abbreviation),onClick:x}),Gm.timePresets]}),p&&v&&(0,_.jsx)(v,{...b})]})})]})});function GC(e){let t,n,r=(0,j.c)(6),{onChange:i,value:a,monthNames:o}=e;return r[0]!==o?(t=o.map(Gk),r[0]=o,r[1]=t):t=r[1],r[2]!==i||r[3]!==t||r[4]!==a?(n=(0,_.jsx)(I.Flex,{flex:1,gap:1,children:(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Select,{fontSize:1,radius:2,value:a,onChange:i,padding:2,children:t})})}),r[2]=i,r[3]=t,r[4]=a,r[5]=n):n=r[5],n}function Gk(e,t){return(0,_.jsx)("option",{value:t,children:e},t)}function Gw(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(20),{moveFocusedDate:d,onChange:p,value:f,labels:h}=e;u[0]!==d?(t=()=>d(-12),u[0]=d,u[1]=t):t=u[1];let m=t;u[2]!==d?(n=()=>d(12),u[2]=d,u[3]=n):n=u[3];let g=n;return u[4]===Symbol.for("react.memo_cache_sentinel")?(r={content:"Previous year"},u[4]=r):r=u[4],u[5]!==m||u[6]!==h.goToPreviousYear?(i=(0,_.jsx)(B.Button,{"aria-label":h.goToPreviousYear,onClick:m,mode:"bleed",icon:R.ChevronLeftIcon,tooltipProps:r,...Gb}),u[5]=m,u[6]=h.goToPreviousYear,u[7]=i):i=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(a={width:48},u[8]=a):a=u[8],u[9]!==p||u[10]!==f?(o=(0,_.jsx)(Gg,{value:f,onChange:p,radius:0,style:a}),u[9]=p,u[10]=f,u[11]=o):o=u[11],u[12]===Symbol.for("react.memo_cache_sentinel")?(l={content:"Next year"},u[12]=l):l=u[12],u[13]!==g||u[14]!==h.goToNextYear?(s=(0,_.jsx)(B.Button,{"aria-label":h.goToNextYear,onClick:g,mode:"bleed",icon:R.ChevronRightIcon,tooltipProps:l,...Gb}),u[13]=g,u[14]=h.goToNextYear,u[15]=s):s=u[15],u[16]!==i||u[17]!==o||u[18]!==s?(c=(0,_.jsxs)(I.Flex,{gap:1,children:[i,o,s]}),u[16]=i,u[17]=o,u[18]=s,u[19]=c):c=u[19],c}let G_=(0,E.forwardRef)(function(e,t){let{value:n=new Date,onChange:r,calendarLabels:i,padding:a=2,showTimeZone:o=!1,timeZoneScope:l,...s}=e,[c,u]=(0,E.useState)(),d=(0,E.useCallback)(e=>{r(e),u(void 0)},[r]);return(0,_.jsx)(Gx,{...s,labels:i,ref:t,selectedDate:n,onSelect:d,focusedDate:c||n,onFocusedDateChange:u,padding:a,showTimeZone:o,timeZoneScope:l})}),Gj=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P=(0,j.c)(53);P[0]!==e?({value:g,inputValue:i,onInputChange:s,onChange:l,selectTime:p,timeStep:h,calendarLabels:n,readOnly:u,constrainSize:f,monthPickerVariant:o,padding:c,disableInput:r,isPastDisabled:a,timeZoneScope:m,...d}=e,P[0]=e,P[1]=n,P[2]=r,P[3]=i,P[4]=a,P[5]=o,P[6]=l,P[7]=s,P[8]=c,P[9]=u,P[10]=d,P[11]=p,P[12]=f,P[13]=h,P[14]=m,P[15]=g):(n=P[1],r=P[2],i=P[3],a=P[4],o=P[5],l=P[6],s=P[7],c=P[8],u=P[9],d=P[10],p=P[11],f=P[12],h=P[13],m=P[14],g=P[15]);let M=void 0===f||f,{t:F}=IO(),N=(0,E.useRef)(null),L=(0,E.useRef)(null),z=(0,E.useRef)(null),{zoneDateToUtc:V}=K3(m),[U,H]=(0,E.useState)(null);P[16]===Symbol.for("react.memo_cache_sentinel")?(y=()=>L.current,P[16]=y):y=P[16],(0,E.useImperativeHandle)(t,y),P[17]===Symbol.for("react.memo_cache_sentinel")?(v=()=>H(L.current),b=[],P[17]=v,P[18]=b):(v=P[17],b=P[18]),(0,E.useEffect)(v,b);let[q,W]=(0,E.useState)(!1);P[19]===Symbol.for("react.memo_cache_sentinel")?(x=()=>W(!1),C=()=>[N.current],P[19]=x,P[20]=C):(x=P[19],C=P[20]),(0,I.useClickOutsideEvent)(x,C),P[21]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{var e,t;null==(e=L.current)||e.focus(),null==(t=L.current)||t.select()},P[21]=k):k=P[21];let Y=k;P[22]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{"Escape"===e.key&&W(!1)},P[22]=w):w=P[22];let K=w;P[23]===Symbol.for("react.memo_cache_sentinel")?(S=()=>W(!0),P[23]=S):S=P[23];let G=S;P[24]!==i||P[25]!==a||P[26]!==V?(T=i&&a&&(0,tI.isPast)(V(new Date(i))),P[24]=i,P[25]=a,P[26]=V,P[27]=T):T=P[27];let $=T;P[28]!==n||P[29]!==u?(D=u?null:(0,_.jsx)(I.Flex,{style:{padding:"5px"},children:(0,_.jsx)(B.Button,{disabled:u,"aria-label":n.ariaLabel,ref:z,icon:R.CalendarIcon,mode:"bleed",onClick:G,style:{display:"block"},"data-testid":"select-date-button",tooltipProps:{content:n.tooltipText}})}),P[28]=n,P[29]=u,P[30]=D):D=P[30];let Z=D,X=r||u;return P[31]!==n||P[32]!==M||P[33]!==$||P[34]!==a||P[35]!==q||P[36]!==o||P[37]!==l||P[38]!==c||P[39]!==U||P[40]!==p||P[41]!==Z||P[42]!==F||P[43]!==h||P[44]!==m||P[45]!==g?(A=q?(0,_.jsx)(I.LayerProvider,{zOffset:1e3,children:(0,_.jsx)(B.Popover,{constrainSize:M,"data-testid":"date-input-dialog",referenceElement:U,portal:!0,content:(0,_.jsx)(I.Box,{overflow:"auto",children:(0,_.jsxs)(ts.default,{onDeactivation:Y,children:[$&&(0,_.jsx)(I.Card,{margin:1,padding:2,radius:2,shadow:1,tone:"critical",children:(0,_.jsx)(I.Text,{size:1,children:F("inputs.dateTime.past-date-warning")})}),(0,_.jsx)(G_,{monthPickerVariant:o,calendarLabels:n,selectTime:p,timeStep:h,onKeyUp:K,value:g,isPastDisabled:a,onChange:l,padding:c,timeZoneScope:m})]})}),open:!0,placement:"bottom",ref:N,children:(0,_.jsx)(_.Fragment,{children:Z})})}):Z,P[31]=n,P[32]=M,P[33]=$,P[34]=a,P[35]=q,P[36]=o,P[37]=l,P[38]=c,P[39]=U,P[40]=p,P[41]=Z,P[42]=F,P[43]=h,P[44]=m,P[45]=g,P[46]=A):A=P[46],P[47]!==i||P[48]!==s||P[49]!==d||P[50]!==X||P[51]!==A?(O=(0,_.jsx)(Gi,{ref:L,"data-testid":"date-input",...d,readOnly:X,value:i,onChange:s,suffix:A}),P[47]=i,P[48]=s,P[49]=d,P[50]=X,P[51]=A,P[52]=O):O=P[52],O}),GS=new Date,GE=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S=(0,j.c)(52);S[0]!==e?({id:i,deserialize:n,formatInputValue:r,onChange:a,parseInputValue:o,placeholder:l,readOnly:s,selectTime:u,serialize:d,timeStep:p,timeZoneScope:f,value:h,...c}=e,S[0]=e,S[1]=n,S[2]=r,S[3]=i,S[4]=a,S[5]=o,S[6]=l,S[7]=s,S[8]=c,S[9]=u,S[10]=d,S[11]=p,S[12]=f,S[13]=h):(n=S[1],r=S[2],i=S[3],a=S[4],o=S[5],l=S[6],s=S[7],c=S[8],u=S[9],d=S[10],p=S[11],f=S[12],h=S[13]);let[T,D]=(0,E.useState)(null),{t:I}=IO();S[14]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{D(null)},S[14]=m):m=S[14],S[15]!==h?(g=[h],S[15]=h,S[16]=g):g=S[16],(0,E.useEffect)(m,g),S[17]!==T||S[18]!==a||S[19]!==o||S[20]!==d||S[21]!==h?(y=e=>{let t=e.currentTarget.value,n=""===t?null:o(t);null===n?(a(null),typeof h>"u"&&T&&D(null)):n.isValid?a(d(n.date)):D(t)},S[17]=T,S[18]=a,S[19]=o,S[20]=d,S[21]=h,S[22]=y):y=S[22];let A=y;S[23]!==a||S[24]!==d?(v=e=>{a(e?d(e):null)},S[23]=a,S[24]=d,S[25]=v):v=S[25];let O=v,P=(0,E.useRef)(null);S[26]===Symbol.for("react.memo_cache_sentinel")?(b=()=>P.current,S[26]=b):b=S[26],(0,E.useImperativeHandle)(t,b),S[27]!==n||S[28]!==r||S[29]!==T||S[30]!==o||S[31]!==h?(x=T?o(T):h?n(h):null,C=T||((null==x?void 0:x.isValid)?r(x.date):h),S[27]=n,S[28]=r,S[29]=T,S[30]=o,S[31]=h,S[32]=x,S[33]=C):(x=S[32],C=S[33]);let M=C,F=e.calendarLabels;S[34]!==r||S[35]!==l||S[36]!==I?(k=l||I("inputs.datetime.placeholder",{example:r(GS)}),S[34]=r,S[35]=l,S[36]=I,S[37]=k):k=S[37];let R=null==x?void 0:x.date,B=M||"",N=!!s,L=null==x?void 0:x.error;return S[38]!==O||S[39]!==A||S[40]!==i||S[41]!==e.calendarLabels||S[42]!==c||S[43]!==u||S[44]!==N||S[45]!==L||S[46]!==k||S[47]!==R||S[48]!==B||S[49]!==p||S[50]!==f?(w=(0,_.jsx)(Gj,{...c,calendarLabels:F,id:i,selectTime:u,timeStep:p,timeZoneScope:f,placeholder:k,ref:P,value:R,inputValue:B,readOnly:N,onInputChange:A,onChange:O,customValidity:L}),S[38]=O,S[39]=A,S[40]=i,S[41]=e.calendarLabels,S[42]=c,S[43]=u,S[44]=N,S[45]=L,S[46]=k,S[47]=R,S[48]=B,S[49]=p,S[50]=f,S[51]=w):w=S[51],w});function GT(e){return{ariaLabel:e("calendar.button.aria-label"),goToTomorrow:e("calendar.action.go-to-tomorrow"),goToToday:e("calendar.action.go-to-today"),goToYesterday:e("calendar.action.go-to-yesterday"),goToNextMonth:e("calendar.action.go-to-next-month"),goToPreviousMonth:e("calendar.action.go-to-previous-month"),goToNextYear:e("calendar.action.go-to-next-year"),goToPreviousYear:e("calendar.action.go-to-previous-year"),setToCurrentTime:e("calendar.action.set-to-current-time"),selectTime:e("calendar.action.select-time"),tooltipText:e("calendar.button.tooltip-text"),monthNames:[e("calendar.month-names.january"),e("calendar.month-names.february"),e("calendar.month-names.march"),e("calendar.month-names.april"),e("calendar.month-names.may"),e("calendar.month-names.june"),e("calendar.month-names.july"),e("calendar.month-names.august"),e("calendar.month-names.september"),e("calendar.month-names.october"),e("calendar.month-names.november"),e("calendar.month-names.december")],weekDayNamesShort:[e("calendar.weekday-names.short.monday"),e("calendar.weekday-names.short.tuesday"),e("calendar.weekday-names.short.wednesday"),e("calendar.weekday-names.short.thursday"),e("calendar.weekday-names.short.friday"),e("calendar.weekday-names.short.saturday"),e("calendar.weekday-names.short.sunday")],setToTimePreset:(t,n)=>e("calendar.action.set-to-time-preset",{time:t,date:n})}}let GD=e=>(0,tm.parse)(e,tm.DEFAULT_DATE_FORMAT),GI=e=>(0,tm.format)(e,tm.DEFAULT_DATE_FORMAT),GA=e=>{let t,n,r,i,a,o=(0,j.c)(18),{useElementQueries:l,timeZoneScope:s,allowTimeZoneSwitch:c,tooltipContent:u}=e,d=void 0===c||c,{timeZone:p}=K3(s),{DialogTimeZone:f,dialogProps:h,dialogTimeZoneShow:m}=Gr(s);return o[0]!==f||o[1]!==h?(t=f&&(0,_.jsx)(f,{...h}),o[0]=f,o[1]=h,o[2]=t):t=o[2],o[3]!==u?(n=(0,_.jsx)(I.Box,{flex:1,padding:1,children:(0,_.jsx)(I.Text,{size:1,children:u})}),o[3]=u,o[4]=n):n=o[4],o[5]!==d||o[6]!==m||o[7]!==p.alternativeName||o[8]!==p.city||o[9]!==p.namePretty||o[10]!==l?(r=(0,_.jsx)("div",{children:l?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Box,{className:"button-small",children:d?(0,_.jsx)(B.Button,{"data-testid":"timezone-button",icon:R.EarthAmericasIcon,mode:"bleed",readOnly:!d,onClick:d?m:nL.default,text:"".concat(p.city)}):(0,_.jsxs)(I.Inline,{space:2,padding:2,children:[(0,_.jsx)(I.Text,{weight:"medium",size:1,children:(0,_.jsx)(R.EarthAmericasIcon,{})}),(0,_.jsx)(I.Text,{weight:"medium",size:1,children:"".concat(p.city)})]})}),(0,_.jsx)(I.Box,{className:"button-large",children:d?(0,_.jsx)(B.Button,{"data-testid":"timezone-button",icon:R.EarthAmericasIcon,mode:"bleed",readOnly:!d,onClick:d?m:nL.default,text:"".concat(p.alternativeName," (").concat(p.namePretty,")")}):(0,_.jsxs)(I.Inline,{space:2,padding:2,children:[(0,_.jsx)(I.Text,{weight:"medium",size:1,children:(0,_.jsx)(R.EarthAmericasIcon,{})}),(0,_.jsx)(I.Text,{weight:"medium",size:1,children:"".concat(p.alternativeName," (").concat(p.namePretty,")")})]})})]}):(0,_.jsx)(_.Fragment,{children:d?(0,_.jsx)(B.Button,{icon:R.EarthAmericasIcon,mode:"bleed",readOnly:!d,onClick:d?m:nL.default,text:"".concat(p.alternativeName," (").concat(p.namePretty,")")}):(0,_.jsxs)(I.Inline,{space:2,padding:2,children:[(0,_.jsx)(I.Text,{weight:"medium",size:1,children:(0,_.jsx)(R.EarthAmericasIcon,{})}),(0,_.jsx)(I.Text,{weight:"medium",size:1,children:"".concat(p.alternativeName," (").concat(p.namePretty,")")})]})})}),o[5]=d,o[6]=m,o[7]=p.alternativeName,o[8]=p.city,o[9]=p.namePretty,o[10]=l,o[11]=r):r=o[11],o[12]!==n||o[13]!==r?(i=(0,_.jsx)(B.Tooltip,{content:n,portal:!0,children:r}),o[12]=n,o[13]=r,o[14]=i):i=o[14],o[15]!==t||o[16]!==i?(a=(0,_.jsxs)(_.Fragment,{children:[t,i]}),o[15]=t,o[16]=i,o[17]=a):a=o[17],a},GO=(0,F.styled)(I.ElementQuery)(wr()),GP=(0,F.styled)(I.Card)(wi()),GM=e=>e.toISOString();function GF(e,t){for(let n of((e,t)=>{if("function"==typeof e)throw Error('Schema type "'.concat((null==t?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]})(null==e?void 0:e.validation,e))for(let e of n._rules)if(e.flag===t)return e;return null}function GR(e){if(e.currentTarget&&document.activeElement===e.currentTarget){e.preventDefault();let t=function(e){if(!e||!(e instanceof Element))return null;let t=e.parentElement;for(;t;){let e=window.getComputedStyle(t).overflowY;if(("auto"===e||"scroll"===e)&&t.scrollHeight>t.clientHeight)return t;t=t.parentElement}return window}(e.currentTarget);t&&t.scrollBy({top:e.deltaY,left:e.deltaX,behavior:"instant"})}}function GB(e){let{schemaType:t,validationError:n,elementProps:r}=e,i=GF(t,"min"),a=GF(t,"integer"),o=GF(t,"precision"),l="number"==typeof(null==i?void 0:i.constraint)&&(null==i?void 0:i.constraint)>=0,s=a||(null==o?void 0:o.constraint)===0,c=r.ref;return(0,E.useEffect)(()=>{let e=c.current;return e.addEventListener("wheel",GR),()=>{e.removeEventListener("wheel",GR)}},[c]),(0,_.jsx)(I.TextInput,{...r,type:"number",step:"any",inputMode:l?s?"numeric":"decimal":"text",customValidity:n,placeholder:t.placeholder,pattern:l?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}let GN=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(9),{onClick:a}=e;i[0]!==a||i[1]!==e.name?(n=()=>{null==a||a(e.name)},i[0]=a,i[1]=e.name,i[2]=n):n=i[2];let o=n,l="group-tab-".concat(e.name),s="".concat(e.name,"-tab");return i[3]!==o||i[4]!==e||i[5]!==t||i[6]!==l||i[7]!==s?(r=(0,_.jsx)(B.Tab,{"data-testid":l,id:s,label:e.title,ref:t,...e,onClick:o}),i[3]=o,i[4]=e,i[5]=t,i[6]=l,i[7]=s,i[8]=r):r=i[8],r}),GL=e=>{let t,n,r,i,a=(0,j.c)(12);a[0]!==e?({name:t,title:r,...n}=e,a[0]=e,a[1]=t,a[2]=n,a[3]=r):(t=a[1],n=a[2],r=a[3]);let{selected:o}=e,l="".concat(t,"-tab"),s=n["aria-controls"],c="group-select-".concat(t),u=o?"true":"false",d=r||t;return a[4]!==t||a[5]!==l||a[6]!==s||a[7]!==c||a[8]!==u||a[9]!==d||a[10]!==r?(i=(0,_.jsx)("option",{title:r,value:t,id:l,"aria-controls":s,"data-testid":c,"aria-selected":u,children:d}),a[4]=t,a[5]=l,a[6]=s,a[7]=c,a[8]=u,a[9]=d,a[10]=r,a[11]=i):i=a[11],i},Gz=(0,F.styled)(I.ElementQuery)(wa()),GV=e=>{let t,n,r=(0,j.c)(15),{inputId:i,groups:a,onClick:o,shouldAutoFocus:l,disabled:s}=e,c=void 0===l||l,{t:u}=IO();if(r[0]!==s||r[1]!==a||r[2]!==i||r[3]!==o||r[4]!==c||r[5]!==u){let e;r[7]!==s||r[8]!==i||r[9]!==o||r[10]!==c||r[11]!==u?(e=e=>{var t;let n=(null==(t=e.i18n)?void 0:t.title)?u(e.i18n.title.key,{ns:e.i18n.title.ns}):e.title||e.name;return(0,_.jsx)(GN,{"aria-controls":"".concat(i,"-field-group-fields"),autoFocus:c&&e.selected,disabled:s||e.disabled,icon:null==e?void 0:e.icon,name:e.name,onClick:o,selected:!!e.selected,title:n},"".concat(i,"-").concat(e.name,"-tab"))},r[7]=s,r[8]=i,r[9]=o,r[10]=c,r[11]=u,r[12]=e):e=r[12],t=a.map(e),r[0]=s,r[1]=a,r[2]=i,r[3]=o,r[4]=c,r[5]=u,r[6]=t}else t=r[6];return r[13]!==t?(n=(0,_.jsx)(I.TabList,{space:2,"data-testid":"field-group-tabs",children:t}),r[13]=t,r[14]=n):n=r[14],n},GU=e=>{var t;let n,r,i,a,o=(0,j.c)(18),{disabled:l,groups:s,inputId:c,onSelect:u,shouldAutoFocus:d}=e,p=void 0===d||d;o[0]!==u?(n=e=>{u(e.currentTarget.value)},o[0]=u,o[1]=n):n=o[1];let f=n,{t:h}=IO();o[2]!==h?(r=h("inputs.object.field-group-tabs.aria-label"),o[2]=h,o[3]=r):r=o[3];let m=null==(t=s.find(Gq))?void 0:t.name;if(o[4]!==s||o[5]!==c||o[6]!==h){let e;o[8]!==c||o[9]!==h?(e=e=>{var t;let n=(null==(t=e.i18n)?void 0:t.title)?h(e.i18n.title.key,{ns:e.i18n.title.ns}):e.title||e.name;return(0,_.jsx)(GL,{"aria-controls":"".concat(c,"-field-group-fields"),disabled:e.disabled,name:e.name,selected:!!e.selected,title:n},"".concat(c,"-").concat(e.name,"-tab"))},o[8]=c,o[9]=h,o[10]=e):e=o[10],i=s.map(e),o[4]=s,o[5]=c,o[6]=h,o[7]=i}else i=o[7];return o[11]!==l||o[12]!==f||o[13]!==p||o[14]!==r||o[15]!==m||o[16]!==i?(a=(0,_.jsx)(I.Select,{"aria-label":r,autoFocus:p,"data-testid":"field-group-select",disabled:l,fontSize:2,muted:!0,onChange:f,value:m,children:i}),o[11]=l,o[12]=f,o[13]=p,o[14]=r,o[15]=m,o[16]=i,o[17]=a):a=o[17],a},GH=(0,E.memo)(function(e){let t,n,r,i,a,o=(0,j.c)(10);o[0]!==e?({disabled:r,onClick:t,...n}=e,o[0]=e,o[1]=t,o[2]=n,o[3]=r):(t=o[1],n=o[2],r=o[3]);let l=void 0!==r&&r;o[4]!==t?(i=e=>{null==t||t(e)},o[4]=t,o[5]=i):i=o[5];let s=i;return o[6]!==l||o[7]!==s||o[8]!==n?(a=(0,_.jsxs)(Gz,{"data-testid":"field-group-root",children:[(0,_.jsx)(GV,{...n,disabled:l,onClick:s}),(0,_.jsx)(GU,{...n,disabled:l,onSelect:s})]}),o[6]=l,o[7]=s,o[8]=n,o[9]=a):a=o[9],a});function Gq(e){return e.selected}let GW=(0,F.styled)(I.Card)(wo(),e=>{let{$level:t,theme:n}=e;return 0===t?0:-1*n.sanity.space[5]},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),GY=(0,F.styled)(I.Grid)(wl());function GK(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(38),{fieldNames:h,onChange:m,readOnly:g,value:y}=e,v=h.length;f[0]!==m?(t=e=>{m(LN([e]))},f[0]=m,f[1]=t):t=f[1];let b=t,{t:x}=IO();if(f[2]!==v||f[3]!==x?(n=x("inputs.object.unknown-fields.warning.title",{count:v}),f[2]=v,f[3]=x,f[4]=n):n=f[4],f[5]!==n?(r=(0,_.jsx)(_.Fragment,{children:n}),f[5]=n,f[6]=r):r=f[6],f[7]!==v||f[8]!==x?(i=x("inputs.object.unknown-fields.warning.description",{count:v}),f[7]=v,f[8]=x,f[9]=i):i=f[9],f[10]!==i?(a=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(_.Fragment,{children:i})}),f[10]=i,f[11]=a):a=f[11],f[12]!==x?(o=x("inputs.object.unknown-fields.warning.details.title"),f[12]=x,f[13]=o):o=f[13],f[14]!==v||f[15]!==x?(l=x("inputs.object.unknown-fields.warning.details.description",{count:v}),f[14]=v,f[15]=x,f[16]=l):l=f[16],f[17]!==l?(s=(0,_.jsx)(I.Box,{marginBottom:3,children:(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(_.Fragment,{children:l})})}),f[17]=l,f[18]=s):s=f[18],f[19]!==h||f[20]!==b||f[21]!==g||f[22]!==y){let e;f[24]!==b||f[25]!==g||f[26]!==y?(e=e=>(0,_.jsx)(GG,{fieldName:e,onUnsetClick:b,readOnly:g,value:null==y?void 0:y[e]},e),f[24]=b,f[25]=g,f[26]=y,f[27]=e):e=f[27],c=h.map(e),f[19]=h,f[20]=b,f[21]=g,f[22]=y,f[23]=c}else c=f[23];return f[28]!==c?(u=(0,_.jsx)(I.Stack,{as:"ul",space:3,children:c}),f[28]=c,f[29]=u):u=f[29],f[30]!==o||f[31]!==s||f[32]!==u?(d=(0,_.jsxs)(Vx,{marginTop:4,open:IX,title:o,children:[s,u]}),f[30]=o,f[31]=s,f[32]=u,f[33]=d):d=f[33],f[34]!==d||f[35]!==r||f[36]!==a?(p=(0,_.jsxs)(zz,{status:"warning",title:r,children:[a,d]}),f[34]=d,f[35]=r,f[36]=a,f[37]=p):p=f[37],p}function GG(e){let t,n,r,i,a,o,l,s=(0,j.c)(21),{fieldName:c,onUnsetClick:u,readOnly:d,value:p}=e;s[0]!==c||s[1]!==u?(t=()=>{u(c)},s[0]=c,s[1]=u,s[2]=t):t=s[2];let f=t,{t:h}=IO();return s[3]!==c?(n=(0,_.jsx)(I.Card,{padding:3,shadow:1,tone:"inherit",children:(0,_.jsx)(I.Code,{size:1,children:c})}),s[3]=c,s[4]=n):n=s[4],s[5]!==p?(r=JSON.stringify(p,null,2),s[5]=p,s[6]=r):r=s[6],s[7]!==r?(i=(0,_.jsx)(I.Box,{overflow:"auto",padding:3,children:(0,_.jsx)(I.Code,{language:"json",size:1,children:r})}),s[7]=r,s[8]=i):i=s[8],s[9]!==d||s[10]!==h?(a=d&&(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:h,i18nKey:"inputs.object.unknown-fields.read-only.description"})})}),s[9]=d,s[10]=h,s[11]=a):a=s[11],s[12]!==f||s[13]!==d||s[14]!==h?(o=!d&&(0,_.jsx)(I.Card,{padding:3,shadow:1,tone:"inherit",children:(0,_.jsx)(B.Button,{icon:R.TrashIcon,mode:"ghost",onClick:f,size:"large",tone:"critical",text:h("inputs.object.unknown-fields.remove-field-button.text")})}),s[12]=f,s[13]=d,s[14]=h,s[15]=o):o=s[15],s[16]!==n||s[17]!==i||s[18]!==a||s[19]!==o?(l=(0,_.jsxs)(I.Card,{as:"li",overflow:"hidden",radius:2,shadow:1,tone:"caution",children:[n,i,a,o]}),s[16]=n,s[17]=i,s[18]=a,s[19]=o,s[20]=l):l=s[20],l}let G$=(0,F.styled)(I.Stack)(ws()),GZ=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(43),{__internal_arrayEditingModal:p,groups:f,id:h,members:m,onChange:g,onFieldGroupSelect:y,renderAnnotation:v,renderBlock:b,renderField:x,renderInlineBlock:C,renderInput:k,renderItem:w,renderPreview:S,schemaType:T,path:D,level:I,value:A,onPathFocus:O}=e,P=void 0===p?null:p,M=(0,E.useRef)(null);d[0]!==T.options?(t=T.options||{},d[0]=T.options,d[1]=t):t=d[1];let{columns:F}=t,R="root"!==h&&!(D.length>0&&(0,W.isKeySegment)((0,tf.default)(D)));e:{let e,t;if(!T.fields){n=null;break e}if(d[2]!==T.fields||d[3]!==A){let t=T.fields.map(GX);e=Object.keys(A||{}).filter(e=>!e.startsWith("_")&&!t.includes(e)),d[2]=T.fields,d[3]=A,d[4]=e}else e=d[4];let r=e;if(0===r.length){n=null;break e}d[5]!==g||d[6]!==r||d[7]!==A?(t=(0,_.jsx)(GK,{fieldNames:r,value:A,onChange:g}),d[5]=g,d[6]=r,d[7]=A,d[8]=t):t=d[8],n=t}let B=n;d[9]!==f?(r=f.find(GJ),d[9]=f,d[10]=r):r=d[10];let N=r;d[11]!==R||d[12]!==O?(i=e=>{R&&e.target===M.current&&O(Ie)},d[11]=R,d[12]=O,d[13]=i):i=d[13];let L=i;d[14]!==m||d[15]!==v||d[16]!==b||d[17]!==x||d[18]!==C||d[19]!==k||d[20]!==w||d[21]!==S?(a=()=>(0,_.jsx)(qt,{members:m,renderAnnotation:v,renderBlock:b,renderField:x,renderInlineBlock:C,renderInput:k,renderItem:w,renderPreview:S}),d[14]=m,d[15]=v,d[16]=b,d[17]=x,d[18]=C,d[19]=k,d[20]=w,d[21]=S,d[22]=a):a=d[22];let z=a;if(0===m.length)return null;let V=R?0:void 0;d[23]!==f||d[24]!==h||d[25]!==I||d[26]!==y?(o=f.length>0?(0,_.jsx)(GW,{$level:I,"data-testid":"field-groups",children:(0,_.jsx)(GH,{groups:f,inputId:h,onClick:y,shouldAutoFocus:!1})}):null,d[23]=f,d[24]=h,d[25]=I,d[26]=y,d[27]=o):o=d[27];let U=null==N?void 0:N.name;return d[28]!==F||d[29]!==z?(l=F?(0,_.jsx)(GY,{columns:F,gap:4,marginTop:1,children:z()}):z(),d[28]=F,d[29]=z,d[30]=l):l=d[30],d[31]!==U||d[32]!==l?(s=(0,_.jsx)(E.Fragment,{children:l},U),d[31]=U,d[32]=l,d[33]=s):s=d[33],d[34]!==L||d[35]!==B||d[36]!==s||d[37]!==V||d[38]!==o?(c=(0,_.jsxs)(G$,{space:6,tabIndex:V,onFocus:L,ref:M,children:[o,s,B]}),d[34]=L,d[35]=B,d[36]=s,d[37]=V,d[38]=o,d[39]=c):c=d[39],d[40]!==P||d[41]!==c?(u=(0,_.jsxs)(_.Fragment,{children:[P,c]}),d[40]=P,d[41]=c,d[42]=u):u=d[42],u});function GX(e){return e.name}function GJ(e){let{selected:t}=e;return t}async function GQ(e,t,n){var r;return e&&((null==(r=t.options)?void 0:r.slugify)||((e,t)=>{var n;let r=null==(n=t.options)?void 0:n.maxLength;return e?(0,xe.default)(e,{truncate:"number"==typeof r?r:200,symbols:!0}):""}))(e,t,n)}async function G1(e,t,n){return"function"==typeof e?e(t,n):S.get(t,e)}function G2(e){return"error"===e.level}function G0(e){let t,n=(0,j.c)(3),{validationError:r,elementProps:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(I.TextInput,{...i,customValidity:r,"data-testid":"string-input"}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t}let G5=(0,tc.defineEvent)({version:1,name:"Portable Text Editor Expanded",description:"The portable text editor was expanded"}),G7=(0,tc.defineEvent)({version:1,name:"Portable Text Editor Collapsed",description:"The portable text editor was collapsed"}),G3=(0,tc.defineEvent)({version:1,name:"Portable Text Editor Invalid Value Ignored",description:"The portable text got an invalid value from the form and pressed button to ignore it"}),G8=(0,tc.defineEvent)({version:1,name:"Portable Text Editor Invalid Value Resolved",description:"The portable text got an invalid value from the form and pressed button to resolve it."}),G4=(0,tc.defineEvent)({name:"New Draft Created",version:1,description:"User created a new draft"}),G6=F.styled.div(wc()),G9=F.styled.div(wu()),$e=(0,F.styled)(I.Card)(wd()),$t=(0,F.styled)(I.Flex)(wp(),$e,G9);function $n(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(25),{children:p,message:f,onActivate:h,isOverlayActive:m}=e,[g,y]=(0,E.useState)(!1),{t:v}=IO();d[0]!==h?(t=()=>{h&&h()},d[0]=h,d[1]=t):t=d[1];let b=t;d[2]!==m||d[3]!==h?(n=e=>{m&&"Space"===e.code&&h&&(e.preventDefault(),h())},d[2]=m,d[3]=h,d[4]=n):n=d[4];let x=n;d[5]!==m||d[6]!==h?(r=()=>{m&&h&&h()},d[5]=m,d[6]=h,d[7]=r):r=d[7];let C=r;d[8]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{y(!0)},d[8]=i):i=d[8];let k=i;d[9]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{y(!1)},d[9]=a):a=d[9];let w=a;o="u">typeof window&&"ontouchstart"in window||"u">typeof navigator&&navigator.maxTouchPoints>0?"tap":g?"click-focused":"click",d[10]!==f||d[11]!==o||d[12]!==v?(l=f||v("inputs.portable-text.activate-on-focus-message",{context:o}),d[10]=f,d[11]=o,d[12]=v,d[13]=l):l=d[13];let S=l;d[14]!==S?(s=(0,_.jsx)(I.Text,{weight:"medium",children:S}),d[14]=S,d[15]=s):s=d[15];let T=s;return d[16]!==m||d[17]!==T?(c=m&&(0,_.jsxs)($t,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[(0,_.jsx)($e,{radius:2}),(0,_.jsx)(G9,{children:T})]}),d[16]=m,d[17]=T,d[18]=c):c=d[18],d[19]!==p||d[20]!==b||d[21]!==C||d[22]!==x||d[23]!==c?(u=(0,_.jsxs)(G6,{onBlur:w,onClick:b,onFocus:k,onKeyDown:x,onDragEnter:C,children:[c,p]}),d[19]=p,d[20]=b,d[21]=C,d[22]=x,d[23]=c,d[24]=u):u=d[24],u}let $r=F.styled.div(e=>{let{color:t,input:n,radius:r}=(0,ne.getTheme_v2)(e.theme),i={color:t.input.default.enabled.border,width:n.border.width};return(0,F.css)(wf(),qd(i),n.border.width,r[2],qp({base:t,border:i,focusRing:n.text.focusRing}))}),$i=(0,F.styled)(I.Layer)(wh());function $a(){let e,t=(0,j.c)(1),n=(0,E.useContext)(D.PortableTextMemberItemElementRefsContext);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={},t[0]=e):e=t[0],(0,te.useObservable)(n,e)}let $o=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(22);h[0]!==e?({as:i,onScroll:n,...r}=e,h[0]=e,h[1]=n,h[2]=r,h[3]=i):(n=h[1],r=h[2],i=h[3]);let m=void 0===i?"div":i,g=(0,E.useRef)(null);h[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>g.current,h[4]=a):a=h[4],(0,E.useImperativeHandle)(t,a);let y=(0,E.useContext)(D.ScrollContext),[v]=(0,E.useState)($s);return h[5]!==v||h[6]!==n?(o=()=>{if(n)return v.subscribe(n)},l=[v,n],h[5]=v,h[6]=n,h[7]=o,h[8]=l):(o=h[7],l=h[8]),(0,E.useEffect)(o,l),h[9]!==v||h[10]!==y?(s=()=>{if(y)return v.subscribe(y.publish)},c=[y,v],h[9]=v,h[10]=y,h[11]=s,h[12]=c):(s=h[11],c=h[12]),(0,E.useEffect)(s,c),h[13]!==v?(u=()=>{let e=e=>{v.publish(e)},t=g.current;if(t)return t.addEventListener("scroll",e,{passive:!0,capture:!0}),()=>{t.removeEventListener("scroll",e)}},d=[v,g],h[13]=v,h[14]=u,h[15]=d):(u=h[14],d=h[15]),(0,E.useEffect)(u,d),h[16]!==m||h[17]!==r?(p=(0,_.jsx)(m,{"data-testid":"scroll-container",...r,ref:g}),h[16]=m,h[17]=r,h[18]=p):p=h[18],h[19]!==v||h[20]!==p?(f=(0,_.jsx)(D.ScrollContext.Provider,{value:v,children:p}),h[19]=v,h[20]=p,h[21]=f):f=h[21],f}),$l=(0,E.memo)($o);function $s(){return(0,L.default)()}$l.displayName="Memo(Forwardref(ScrollContainer))";let $c=[1,2,3,4,5,6,7,8,9,10],$u=["●","○","■"],$d=["number","lower-alpha","lower-roman"],$p={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},$f={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}},$h=F.styled.span(e=>{let{theme:t}=e,n=t.sanity.color.dark;return(0,F.css)(wm(),n?"screen":"multiply")});function $m(e){let t,n,r,i=(0,j.c)(14),{value:a,focused:o,selected:l,children:s,schemaType:c}=e,u=$p[a],d=c.component;i[0]!==u||i[1]!==a?(t=e=>(0,_.jsx)($h,{as:u,"data-mark":a,children:e.children}),i[0]=u,i[1]=a,i[2]=t):t=i[2];let p=t;i[3]!==p||i[4]!==o||i[5]!==c||i[6]!==l||i[7]!==a?(n={focused:o,renderDefault:p,schemaType:c,selected:l,title:c.title,value:a},i[3]=p,i[4]=o,i[5]=c,i[6]=l,i[7]=a,i[8]=n):n=i[8];let f=n;return i[9]!==d||i[10]!==p||i[11]!==s||i[12]!==f?(r=d?(0,_.jsx)(d,{...f,children:s}):(0,_.jsx)(p,{...f,children:s}),i[9]=d,i[10]=p,i[11]=s,i[12]=f,i[13]=r):r=i[13],r}function $g(e){return"list-level-".concat(e)}let $y=F.styled.div(e=>{let{theme:t,$fullScreen:n}=e,{radius:r,space:i,color:a}=t.sanity,o=(0,I.rgba)(a.spot.yellow,.2);return(0,F.css)(wg(),r[3],i[2],i[1]+i[1],n?i[4]+i[1]:i[1],i[1],o)}),$v=F.styled.div(e=>{let{$changed:t,$disabled:n,$hasFocus:r,$isReviewChangeOpen:i}=e;return n?(0,F.css)(wy(),$C):(0,F.css)(wC(),$C,$C,r&&(0,F.css)(wv(),$C),!t&&(0,F.css)(wb(),$C),i&&(0,F.css)(wx(),$k))}),$b=F.styled.div(wk()),$x=F.styled.div(ww(),e=>{let{$zIndex:t}=e;return t}),$C=F.styled.div(e=>{let{media:t}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(w_(),t[0])}),$k=F.styled.button(e=>{let{$withHoverEffect:t,$isInteractive:n}=e;return(0,F.css)(wE(),n&&(0,F.css)(wj()),250,t&&(0,F.css)(wS()))});function $w(e){let t,n,r,i=(0,j.c)(18),{children:a,disabled:o,hasFocus:l,isChanged:s,withHoverEffect:c,isInteractive:u}=e,d=void 0===c||c,p=void 0===u||u,{onOpenReviewChanges:f,isReviewChangesOpen:h}=(0,E.useContext)(D.ReviewChangesContext),{zIndex:m}=(0,I.useLayer)(),{t:g}=IO();i[0]!==o||i[1]!==s||i[2]!==p||i[3]!==h||i[4]!==f||i[5]!==g||i[6]!==d||i[7]!==m?(t=o||!s?null:(0,_.jsxs)($x,{"data-testid":"change-bar",$zIndex:m,children:[(0,_.jsx)($C,{"data-testid":"change-bar__marker"}),(0,_.jsx)(B.Tooltip,{content:g("changes.change-bar.aria-label"),portal:!0,disabled:!p,children:(0,_.jsx)($k,{"aria-label":g("changes.change-bar.aria-label"),"data-testid":"change-bar__button",onClick:h?void 0:f,tabIndex:-1,type:"button",$withHoverEffect:d,$isInteractive:p})})]}),i[0]=o,i[1]=s,i[2]=p,i[3]=h,i[4]=f,i[5]=g,i[6]=d,i[7]=m,i[8]=t):t=i[8];let y=t;return i[9]!==a?(n=(0,_.jsx)($b,{"data-testid":"change-bar__field-wrapper",children:a}),i[9]=a,i[10]=n):n=i[10],i[11]!==y||i[12]!==o||i[13]!==l||i[14]!==s||i[15]!==h||i[16]!==n?(r=(0,_.jsxs)($v,{"data-testid":"change-bar-wrapper",$changed:s,$disabled:o,$hasFocus:l,$isReviewChangeOpen:h,children:[n,y]}),i[11]=y,i[12]=o,i[13]=l,i[14]=s,i[15]=h,i[16]=n,i[17]=r):r=i[17],r}let $_=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(37);y[0]!==e?({children:t,disabled:n,hasFocus:r,isChanged:i,onMouseEnter:o,onMouseLeave:l,path:c,withHoverEffect:u,isInteractive:a,...s}=e,y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=i,y[5]=a,y[6]=o,y[7]=l,y[8]=s,y[9]=c,y[10]=u):(t=y[1],n=y[2],r=y[3],i=y[4],a=y[5],o=y[6],l=y[7],s=y[8],c=y[9],u=y[10]);let v=void 0===c?Ie:c,b=(0,I.useLayer)(),[x,C]=(0,E.useState)(!1);y[11]!==o?(d=e=>{null==o||o(e),C(!0)},y[11]=o,y[12]=d):d=y[12];let k=d;y[13]!==l?(p=e=>{null==l||l(e),C(!1)},y[13]=l,y[14]=p):p=y[14];let w=p,[D,A]=(0,E.useState)(null),O=n||!D?null:"field-".concat(S.toString(v));return y[15]!==D||y[16]!==r||y[17]!==x||y[18]!==i||y[19]!==b.zIndex||y[20]!==v?(f=()=>({element:D,path:v,isChanged:!!i,hasFocus:r,hasHover:x,hasRevertHover:!1,zIndex:b.zIndex}),y[15]=D,y[16]=r,y[17]=x,y[18]=i,y[19]=b.zIndex,y[20]=v,y[21]=f):f=y[21],L1(O,f,T.default),y[22]!==v?(h=!1,y[22]=v,y[23]=h):h=y[23],y[24]!==t||y[25]!==n||y[26]!==r||y[27]!==i||y[28]!==a||y[29]!==h||y[30]!==u?(m=(0,_.jsxs)($w,{hasFocus:r,isChanged:i,disabled:n,withHoverEffect:u,isInteractive:a,children:[h,t]}),y[24]=t,y[25]=n,y[26]=r,y[27]=i,y[28]=a,y[29]=h,y[30]=u,y[31]=m):m=y[31],y[32]!==k||y[33]!==w||y[34]!==s||y[35]!==m?(g=(0,_.jsx)("div",{...s,ref:A,onMouseEnter:k,onMouseLeave:w,children:m}),y[32]=k,y[33]=w,y[34]=s,y[35]=m,y[36]=g):g=y[36],g});function $j(e){let t,n,r,i,a,o,l,s=(0,j.c)(15);s[0]!==e?({children:t,hasFocus:n,isChanged:r,path:i,withHoverEffect:o,...a}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s[6]=o):(t=s[1],n=s[2],r=s[3],i=s[4],a=s[5],o=s[6]);let{isInteractive:c}=(0,E.useContext)(D.ReviewChangesContext);return s[7]!==t||s[8]!==n||s[9]!==r||s[10]!==c||s[11]!==i||s[12]!==a||s[13]!==o?(l=(0,_.jsx)($_,{...a,path:i,hasFocus:n,isChanged:r,withHoverEffect:o,isInteractive:c,children:t}),s[7]=t,s[8]=n,s[9]=r,s[10]=c,s[11]=i,s[12]=a,s[13]=o,s[14]=l):l=s[14],l}let $S=(0,F.styled)($j)(()=>(0,F.css)(wT())),$E=F.styled.div(wD());function $T(e){let t=pk(),{block:n,onChange:r,renderBlockActions:i}=e,a=(0,E.useMemo)(()=>t.schemaTypes.decorators.map(e=>e.value),[t]),o=(0,E.useMemo)(()=>{if(i)return i({block:n,value:hq.getValue(t),set:function(e){let{allowedDecorators:t,block:n,onChange:r}=e;return e=>{let i=[LB(uo(e,{allowedDecorators:t}),[{_key:n._key}])];return r(zU.from(i))}}({allowedDecorators:a,block:n,onChange:r}),unset:function(e){let{block:t,onChange:n}=e;return()=>{let e=[LN([{_key:t._key}])];return n(zU.from(e))}}({block:n,onChange:r}),insert:function(e){let{allowedDecorators:t,block:n,onChange:r}=e;return e=>{let i=[LR((Array.isArray(e)?e:[e]).map(e=>uo(e,{allowedDecorators:t})),"after",[{_key:n._key}])];return r(zU.from(i))}}({allowedDecorators:a,block:n,onChange:r})})},[i,n,t,r,a]);return o?(0,_.jsx)($E,{contentEditable:!1,children:o}):null}let $D=F.styled.div(function(e){let{$level:t}=e,{color:n,font:r,radius:i,space:a}=(0,ne.getTheme_v2)(e.theme),o=$d[(t-1)%$d.length],l=$u[(t-1)%$u.length];return(0,F.css)(wI(),n._dark?"screen":"multiply",a[1],a[1],a[1],a[1],i[2],n._dark?z.hues.purple[950].hex:z.hues.purple[50].hex,n.button.ghost.caution.enabled.border,n.button.ghost.caution.hovered.bg,n.button.ghost.critical.enabled.border,n.button.ghost.critical.hovered.bg,$g(t),$g(t),o,l,r.text.family,(0,ne.rgba)(n.focusRing,.3))}),$I=(0,F.styled)(I.Box)(wA()),$A=F.styled.div(wO()),$O=(0,F.styled)(I.Box)(wP()),$P=(0,F.styled)(I.Flex)(e=>{let{theme:t}=e,{fonts:n,space:r}=t.sanity,i=n.text.sizes[1],a=n.text.sizes[2],o=i.lineHeight-i.ascenderHeight-i.descenderHeight,l=a.lineHeight-a.ascenderHeight-a.descenderHeight,s=0-(o+r[2]+r[2]-l)/2;return(0,F.css)(wM(),s)}),$M=(0,F.styled)(I.Box)(wF()),$F=(0,F.styled)(I.Flex)(wR(),e=>{let{$level:t}=e;return t?32*t:0}),$R=F.styled.div(e=>{let{theme:t,$hasChanges:n}=e,{space:r}=t.sanity;return(0,F.css)(wN(),r[2],r[1],r[2],!1,!n&&(0,F.css)(wB()))}),$B=F.styled.div(wL()),$N=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Text,{"data-testid":"text-style--normal",...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$L=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Heading,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$z=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Heading,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$V=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Heading,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$U=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Heading,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$H=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Heading,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$q=e=>{let t,n,r,i,a=(0,j.c)(8);return a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=(0,_.jsx)($B,{children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Heading,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:r}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},$W=F.styled.blockquote(wz(),e=>{let{theme:t}=e;return t.sanity.space[3]}),$Y=e=>{let t,n,r,i,a=(0,j.c)(8);a[0]!==e?({children:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]);let o=n;return a[3]!==t?(r=(0,_.jsx)(I.Text,{as:"p",children:t}),a[3]=t,a[4]=r):r=a[4],a[5]!==o||a[6]!==r?(i=(0,_.jsx)($W,{"data-testid":"text-style--blockquote",...o,children:r}),a[5]=o,a[6]=r,a[7]=i):i=a[7],i},$K={normal:$N,h1:$L,h2:$z,h3:$V,h4:$U,h5:$H,h6:$q,blockquote:$Y};function $G(e){let{children:t,floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:a,onItemOpen:o,onPathFocus:l,path:s,readOnly:c,referenceBoundary:u,renderBlock:d,renderAnnotation:p,renderBlockActions:f,renderCustomMarkers:h,renderField:m,renderInlineBlock:g,renderInput:y,renderItem:v,renderPreview:b,schemaType:x,selected:C,setElementRef:k,spellCheck:w,value:j}=e,{Markers:T}=Lw().__internal.components,D=LA(s),[A,O]=(0,E.useState)(null),P=LL(Au(s)),M=pk(),{onChange:F}=L3(),R=L2(),N=R&&Au((null==R?void 0:R.path)||[])===Au(s),L=Lk(s,!0),z=(0,E.useMemo)(()=>L.filter(e=>(0,S.isEqual)(e.path,s)||"children"===e.path.slice(-3)[1]&&e.path.length-s.length==2),[s,L]),{validation:V,hasError:U,hasWarning:H,hasInfo:q}=LI(null==P?void 0:P.node),W=!!h&&D.length>0,Y=U||H||W||q,K=(0,E.useCallback)(()=>{P&&o(P.node.path)},[o,P]),G=(0,E.useCallback)(()=>{let e={path:s.slice(-1),offset:0};hq.delete(M,{focus:e,anchor:e},{mode:"blocks"}),hq.focus(M)},[s,M]),$=(0,E.useMemo)(()=>(0,_.jsxs)($F,{align:"flex-start",$level:null==j?void 0:j.level,children:[j.listItem&&(0,_.jsx)($A,{contentEditable:!1,children:(0,_.jsx)(I.Text,{"data-list-prefix":"",children:(0,_.jsx)($B,{})})}),(0,_.jsx)("div",{"data-text":"",style:void 0,children:t})]}),[j.listItem,j.level,t]),Z=(0,E.useMemo)(()=>i&&!f?{paddingX:5}:i&&f?{paddingLeft:5,paddingRight:2}:f?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,f]),X=(0,E.useMemo)(()=>j.listItem?{paddingY:2}:$f[j.style||"normal"]||{paddingY:2},[j]),J=!!(null==P?void 0:P.member.open),Q=M.schemaTypes.portableText,ee=(0,E.useMemo)(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:A,children:$,focused:r,markers:D,onClose:a,onOpen:K,onPathFocus:l,onRemove:G,open:J,parentSchemaType:Q,path:(null==P?void 0:P.node.path)||Ie,presence:z,readOnly:!!c,renderAnnotation:p,renderBlock:d,renderDefault:$$,renderField:m,renderInput:y,renderInlineBlock:g,renderItem:v,renderPreview:b,schemaType:x,selected:C,validation:V,value:j}),[n,r,J,D,null==P?void 0:P.node.path,a,K,l,G,Q,c,u,A,p,d,m,g,y,v,b,x,C,$,z,V,j]),et=(0,E.useMemo)(()=>Y&&(0,_.jsx)($M,{children:(0,_.jsx)(T,{markers:D,renderCustomMarkers:h,validation:V})})||null,[T,D,h,Y,V]),en=f&&!c,er=i&&P,ei=(0,E.useCallback)(e=>{P&&k({key:P.member.key,elementRef:e}),O(e)},[P,k,O]);return(0,E.useMemo)(()=>(0,_.jsx)(I.Box,{...X,"data-testid":"text-block","data-fullscreen":i,ref:ei,style:void 0,children:(0,_.jsx)($I,{"data-testid":"text-block__wrapper",children:(0,_.jsxs)(I.Flex,{flex:1,...Z,children:[(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(B.Tooltip,{content:et,disabled:!Y,placement:"top",portal:"editor",children:(0,_.jsx)($D,{$level:j.level||1,"data-error":U?"":void 0,"data-list-item":j.listItem,"data-markers":W?"":void 0,"data-read-only":c,"data-testid":"text-block__text","data-warning":H?"":void 0,spellCheck:w,children:d&&d(ee)})})}),en&&(0,_.jsx)($O,{contentEditable:!1,marginRight:3,children:(0,_.jsx)($P,{children:r&&(0,_.jsx)($T,{block:j,onChange:F,renderBlockActions:f})})}),er&&(0,_.jsx)($R,{$hasChanges:P.member.item.changed,contentEditable:!1,children:(0,_.jsx)($S,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),N&&(0,_.jsx)($y,{$fullScreen:!!i})]})})}),[en,er,ee,r,U,W,H,Z,null==P?void 0:P.member.item.changed,null==P?void 0:P.member.item.path,i,F,X,c,d,f,N,ei,w,et,Y,j])}let $$=e=>{let t,n=(0,j.c)(2);return n[0]!==e.children?(t=(0,_.jsx)(_.Fragment,{children:e.children}),n[0]=e.children,n[1]=t):t=n[1],t},$Z=(0,F.styled)(I.Card)(wV(),e=>{let{$isOneLine:t}=e;return t?"none":"vertical"},e=>{let{$isOneLine:t}=e;return t?"auto":"19em"}),$X=(0,F.styled)(I.Card)(wU()),$J=(0,F.styled)(I.Card)(wH()),$Q=(0,F.styled)($l)(wq()),$1=(0,F.styled)(I.Card)(wY(),$c.map(e=>$g(e)).join(" "),$c.map(e=>(0,F.css)(wW(),e,$g(e),e,$g(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{theme:t}=e;return t.sanity.space[2]},e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,$isOneLine:n,theme:r}=e;return n?"0":r.sanity.space[t?9:5]},e=>(0,ne.getTheme_v2)(e.theme).container[1],e=>(0,ne.getTheme_v2)(e.theme).radius[2],e=>{let{$isFullscreen:t,theme:n}=e;return t?(0,I.rem)(n.sanity.space[5]):(0,I.rem)(n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return t?(0,I.rem)(n.sanity.space[5]):(0,I.rem)(n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return t?(0,I.rem)(2*n.sanity.space[5]):(0,I.rem)(2*n.sanity.space[3])}),$2=e=>{let t,n=(0,j.c)(2);return n[0]!==e.children?(t=(0,_.jsx)(_.Fragment,{children:e.children}),n[0]=e.children,n[1]=t):t=n[1],t},$0=e=>{let t,n,r=(0,j.c)(12),{block:i,children:a,schemaType:o,selected:l,focused:s,level:c,value:u}=e,{title:d,component:p}=o;r[0]!==i||r[1]!==s||r[2]!==c||r[3]!==o||r[4]!==l||r[5]!==d||r[6]!==u?(t={block:i,focused:s,level:c,renderDefault:$2,schemaType:o,selected:l,title:d,value:u},r[0]=i,r[1]=s,r[2]=c,r[3]=o,r[4]=l,r[5]=d,r[6]=u,r[7]=t):t=r[7];let f=t;return r[8]!==p||r[9]!==a||r[10]!==f?(n=p?(0,_.jsx)(p,{...f,children:a}):(0,_.jsx)($2,{...f,children:a}),r[8]=p,r[9]=a,r[10]=f,r[11]=n):n=r[11],n},$5=e=>{let{block:t,focused:n,children:r,selected:i,schemaType:a}=e,o=(0,E.useMemo)(()=>(t.style&&$K[t.style]?$K[t.style]:$K[0])||$N,[t.style]),l=(0,E.useCallback)(e=>(0,_.jsx)(o,{children:(0,_.jsx)($B,{"data-testid":"text-style--".concat(t.style),children:e.children})}),[o,t.style]);return(0,E.useMemo)(()=>{let e=a.component,{title:o,value:s}=a,c={block:t,focused:n,renderDefault:l,schemaType:a,selected:i,title:o,value:s};return e?(0,_.jsx)(e,{...c,children:r}):(0,_.jsx)(l,{...c,children:r})},[l,t,r,n,a,i])},$7=F.styled.div(wK());function $3(e){let t,n,r,i=(0,j.c)(6);i[0]!==e?({hidden:t,...n}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let a=t?"":void 0;return i[3]!==n||i[4]!==a?(r=(0,_.jsx)($7,{"data-ui":"CollapseMenuDivider","data-hidden":a,...n}),i[3]=n,i[4]=a,i[5]=r):r=i[5],r}let $8={portal:!0,constrainSize:!0},$4=(0,E.forwardRef)(function(e,t){let n,r,i,a=(0,j.c)(11),{disableRestoreFocusOnClose:o,menuButton:l,menuButtonProps:s,menuOptions:c,onMenuClose:u}=e;return a[0]!==c?(n=c.map($6),a[0]=c,a[1]=n):n=a[1],a[2]!==n?(r=(0,_.jsx)(I.Menu,{children:n}),a[2]=n,a[3]=r):r=a[3],a[4]!==o||a[5]!==t||a[6]!==l||a[7]!==s||a[8]!==u||a[9]!==r?(i=(0,_.jsx)(B.MenuButton,{__unstable_disableRestoreFocusOnClose:o,id:"menu-button",ref:t,onClose:u,popover:$8,...s,button:l,menu:r}),a[4]=o,a[5]=t,a[6]=l,a[7]=s,a[8]=u,a[9]=r,a[10]=i):i=a[10],i});function $6(e,t){let{collapsedProps:n,expandedProps:r,tooltipProps:i,tooltipText:a,dividerBefore:o,fontSize:l,padding:s,text:c,icon:u,selected:d,...p}=e.props;return(0,_.jsxs)(E.Fragment,{children:[o&&0!==t&&(0,_.jsx)(I.MenuDivider,{}),(0,_.jsx)(B.MenuItem,{text:c,icon:u,pressed:d,...p})]},e.key)}function $9(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(14);c[0]!==e?({onIntersectionChange:n,children:t,options:r,...i}=e,c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i):(t=c[1],n=c[2],r=c[3],i=c[4]);let[u,d]=(0,E.useState)(null);return c[5]!==u||c[6]!==n||c[7]!==r?(a=()=>{let e=null==u?void 0:u.closest('[data-ui="Flex"]');if(!e)return;let t=new IntersectionObserver(n,r);return t.observe(e),()=>{t.unobserve(e),t.disconnect()}},o=[u,n,r],c[5]=u,c[6]=n,c[7]=r,c[8]=a,c[9]=o):(a=c[8],o=c[9]),(0,E.useEffect)(a,o),c[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,_.jsx)("span",{hidden:!0,ref:d}),c[10]=l):l=c[10],c[11]!==t||c[12]!==i?(s=(0,_.jsxs)(I.Flex,{...i,children:[t,l]}),c[11]=t,c[12]=i,c[13]=s):s=c[13],s}let Ze=(0,F.css)(wG()),Zt=(0,F.styled)(I.Flex)(w$(),3,3),Zn=(0,F.styled)(I.Flex)(wZ()),Zr=(0,F.styled)(I.Flex)(wX()),Zi=(0,F.styled)($9)(wJ(),Ze);function Za(e){return!!e}let Zo=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d=(0,j.c)(25);d[0]!==e?({children:n,collapsed:r,disableRestoreFocusOnClose:i,onMenuClose:o,menuButtonProps:a,...l}=e,d[0]=e,d[1]=n,d[2]=r,d[3]=i,d[4]=a,d[5]=o,d[6]=l):(n=d[1],r=d[2],i=d[3],a=d[4],o=d[5],l=d[6]),d[7]!==n?(s=E.Children.toArray(n).filter(Za),d[7]=n,d[8]=s):s=d[8];let p=s;d[9]!==(null==a?void 0:a.button)?(c=(null==a?void 0:a.button)||(0,_.jsx)(DO,{}),d[9]=null==a?void 0:a.button,d[10]=c):c=d[10];let f=c;if(r){let e;return d[11]!==i||d[12]!==f||d[13]!==a||d[14]!==p||d[15]!==o||d[16]!==t?(e=(0,_.jsx)($4,{ref:t,disableRestoreFocusOnClose:i,menuButton:f,menuButtonProps:a,menuOptions:p,onMenuClose:o}),d[11]=i,d[12]=f,d[13]=a,d[14]=p,d[15]=o,d[16]=t,d[17]=e):e=d[17],e}return d[18]!==i||d[19]!==a||d[20]!==p||d[21]!==o||d[22]!==t||d[23]!==l?(u=(0,_.jsx)(Zl,{...l,ref:t,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:p,onMenuClose:o}),d[18]=i,d[19]=a,d[20]=p,d[21]=o,d[22]=t,d[23]=l,d[24]=u):u=d[24],u}),Zl=(0,E.forwardRef)(function(e,t){let{collapseText:n=!0,disableRestoreFocusOnClose:r,gap:i,menuOptions:a,menuButtonProps:o,onMenuClose:l,...s}=e,[c,u]=(0,E.useState)(null),[d,p]=(0,E.useState)({}),[f,h]=(0,E.useState)({}),m=(0,E.useMemo)(()=>({root:c,threshold:.99,rootMargin:"2px"}),[c]),g=(0,E.useMemo)(()=>a.map(e=>e.key),[a]),y=(0,E.useMemo)(()=>[...(0,mV.default)(g,Object.keys(d)),...(0,mV.default)(g,Object.keys(f))],[g,d,f]),v=(0,E.useMemo)(()=>a.filter(e=>{let t=d[e.key];return t&&!t.intersects}),[d,a]),b=(0,E.useCallback)((e,t)=>{p(n=>{let r=t.key;if(null===r)throw Error("Expected element to have a non-null key");let i={intersects:e.isIntersecting,element:t},a=n[r];return a&&a.intersects===i.intersects?n:{...n,[r]:i}})},[]),x=(0,E.useCallback)((e,t)=>{h(n=>{let r=t.key;if(null===r)throw Error("Expected child element to have a non-null key");let i=n[r],a={intersects:e.isIntersecting,element:t};return(null==i?void 0:i.intersects)===a.intersects?n:{...n,[r]:a}})},[]),C=(0,E.useMemo)(()=>a.map(e=>{let{collapsedProps:t}=e.props,r=n?void 0:e.props.text;return(0,E.cloneElement)(e,{...t,text:r})}),[a,n]),k=(0,E.useMemo)(()=>a.filter(e=>{var t;return(null==(t=f[e.key])?void 0:t.intersects)===!1}),[a,f]),w=v.length>0?C.filter(e=>{var t;return(null==(t=f[e.key])?void 0:t.intersects)===!0}):a,j=(0,E.useMemo)(()=>(null==o?void 0:o.button)||(0,_.jsx)(DO,{}),[o]);return(0,_.jsxs)(Zt,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:t,...s,children:[(0,_.jsxs)(Zn,{direction:"column",flex:1,justify:"center",ref:u,children:[(0,_.jsx)(Zr,{gap:i,children:0===y.length&&w.map((e,t)=>{let{dividerBefore:n,tooltipText:r="",tooltipProps:i={}}=e.props,a=!e.key||!(e.key in d)||k.includes(e);return(0,_.jsxs)(E.Fragment,{children:[n&&0!==t&&(0,_.jsx)($3,{hidden:a}),(0,_.jsx)(B.Tooltip,{portal:!0,disabled:!r,content:r,...i,children:(0,_.jsx)(I.Flex,{children:(0,E.cloneElement)(e,{disabled:e.props.disabled||a,"aria-hidden":a})})})]},e.key)})}),(0,_.jsx)(Zs,{gap:i,elements:a,intersectionOptions:m,onIntersectionChange:b}),(0,_.jsx)(Zs,{gap:i,elements:C,intersectionOptions:m,onIntersectionChange:x})]}),k.length>0&&(0,_.jsx)(I.Flex,{marginLeft:i,children:(0,_.jsx)($4,{disableRestoreFocusOnClose:r,menuButton:j,menuButtonProps:o,menuOptions:k,onMenuClose:l})})]})}),Zs=(0,E.memo)(function(e){let t,n,r=(0,j.c)(10),{elements:i,gap:a,intersectionOptions:o,onIntersectionChange:l}=e;if(r[0]!==i||r[1]!==o||r[2]!==l){let e;r[4]!==o||r[5]!==l?(e=(e,t)=>{let{dividerBefore:n}=e.props;return(0,_.jsxs)(E.Fragment,{children:[n&&0!==t&&(0,_.jsx)($3,{hidden:!0}),(0,_.jsx)(Zi,{options:o,onIntersectionChange:t=>l(t[0],e),children:(0,_.jsx)(I.Flex,{children:(0,E.cloneElement)(e,{disabled:!0,"aria-hidden":!0})})})]},e.key)},r[4]=o,r[5]=l,r[6]=e):e=r[6],t=i.map(e),r[0]=i,r[1]=o,r[2]=l,r[3]=t}else t=r[3];return r[7]!==a||r[8]!==t?(n=(0,_.jsx)(Zr,{"data-hidden":!0,"aria-hidden":"true",gap:a,overflow:"hidden",children:t}),r[7]=a,r[8]=t,r[9]=n):n=r[9],n}),Zc=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(5);if(i[0]!==e){let{collapsedProps:t,expandedProps:r,tooltipProps:a,tooltipText:o,dividerBefore:l,...s}=e;n=s,i[0]=e,i[1]=n}else n=i[1];return i[2]!==t||i[3]!==n?(r=(0,_.jsx)(B.Button,{"data-ui":"CollapseMenuButton",...n,ref:t}),i[2]=t,i[3]=n,i[4]=r):r=i[4],r}),Zu=F.styled.div(wQ());function Zd(e){let t,n,r=(0,j.c)(5),{icon:i,active:a}=e,o="url(".concat(i,")"),l=a?"invert(100%)":"invert(0%)";r[0]!==o||r[1]!==l?(t={backgroundImage:o,filter:l},r[0]=o,r[1]=l,r[2]=t):t=r[2];let s=t;return r[3]!==s?(n=(0,_.jsx)(Zu,{style:s}),r[3]=s,r[4]=n):n=r[4],n}function Zp(e,t){let n=(0,n_.default)(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}let Zf={link:R.LinkIcon},Zh={strong:R.BoldIcon,em:R.ItalicIcon,"strike-through":R.StrikethroughIcon,underline:R.UnderlineIcon,code:R.CodeIcon},Zm={number:R.OlistIcon,bullet:R.UlistIcon};function Zg(){let e,t=(0,j.c)(3),n=pk(),r=hK();return t[0]!==n||t[1]!==r?(e=r?hq.focusBlock(n):void 0,t[0]=n,t[1]=r,t[2]=e):e=t[2],e}function Zy(e){return e.key}function Zv(e){return e.style}let Zb=(0,E.memo)(Zo),Zx={constrainSize:!0,portal:!0},ZC=(0,E.memo)(function(e){let{disabled:t,groups:n,isFullscreen:r,collapsed:i}=e,a=Zg(),o=pk(),l=hK(),{t:s}=IO(),c=l&&(0,W.isKeySegment)(l.anchor.path[0])&&(0,W.isKeySegment)(l.focus.path[0])?l.anchor.path[0]._key!==(null==l?void 0:l.focus.path[0]._key):(null==l?void 0:l.anchor.path[0])!==(null==l?void 0:l.focus.path[0]),u=(null==a?void 0:a._type)!==o.schemaTypes.block.name,d=!u&&Array.isArray(a.children)&&1===a.children.length&&(null==a?void 0:a.children[0].text)==="",p=t||u,f=(0,E.useMemo)(()=>n.reduce((e,t)=>e.concat(t.actions.map((e,t)=>0===t?{...e,firstInGroup:!0}:e)),[]),[n]),h=function(e){let t,n=(0,j.c)(4),{actions:r}=e,i=pk(),a=hK();return n[0]!==r||n[1]!==i||n[2]!==a?(t=a?r.filter(e=>"annotation"===e.type?hq.isAnnotationActive(i,e.key):"listStyle"===e.type?hq.hasListStyle(i,e.key):hq.isMarkActive(i,e.key)).map(Zy):[],n[0]=r,n[1]=i,n[2]=a,n[3]=t):t=n[3],IE(t)}({actions:f}),m=(0,E.useCallback)(()=>{hq.focus(o)},[o]),g=r?"bottom":"top",y=(0,E.useMemo)(()=>f.map(e=>{let t="annotation"===e.type&&(d||c),n=d?s("user-menu.action.portable-text.annotation-disabled_empty-block",{name:e.title||e.key}):s("user-menu.action.portable-text.annotation-disabled_multiple-blocks",{name:e.title||e.key}),r=h.includes(e.key);return(0,_.jsx)(Zc,{"aria-label":s("toolbar.portable-text.action-button-aria-label",{action:e.title||e.key}),"data-testid":"action-button-".concat(e.key),disabled:p||t,mode:"bleed",dividerBefore:e.firstInGroup,icon:e.icon?"string"==typeof e.icon?(0,_.jsx)(Zd,{active:r,icon:e.icon}):e.icon:"annotation"===e.type?Zf[e.key]||R.UnknownIcon:"listStyle"===e.type?Zm[e.key]||R.UnknownIcon:Zh[e.key]||R.UnknownIcon,onClick:()=>e.handle(r),selected:r,text:e.title||e.key,tooltipText:t?n:e.title||e.key,tooltipProps:{disabled:p,placement:g,portal:"default"}},e.key)}),[f,h,p,d,c,s,g]),v=(0,E.useMemo)(()=>({button:(0,_.jsx)(DO,{"data-testid":"action-menu-button",disabled:p,tooltipProps:{placement:g}}),popover:Zx}),[p,g]);return(0,_.jsx)(Zb,{"data-testid":"action-menu-auto-collapse-menu",collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:v,onMenuClose:m,children:y})}),Zk=(0,E.memo)(B.MenuButton),Zw=(0,F.styled)(I.MenuItem)(w1()),Z_={h1:e=>(0,_.jsx)($L,{children:e}),h2:e=>(0,_.jsx)($z,{children:e}),h3:e=>(0,_.jsx)($V,{children:e}),h4:e=>(0,_.jsx)($U,{children:e}),h5:e=>(0,_.jsx)($H,{children:e}),h6:e=>(0,_.jsx)($q,{children:e}),normal:e=>(0,_.jsx)($N,{children:e}),blockquote:e=>(0,_.jsx)($Y,{"data-option":"blockquote",children:e})},Zj=e=>e.preventDefault(),ZS={key:"style-none",style:"",title:"No style",i18nTitleKey:"inputs.portable-text.style.none"},ZE=(0,E.memo)(function(e){let{disabled:t,items:n,boundaryElement:r}=e,i=pk(),a=Zg(),{t:o}=IO(),l=t||!!a&&i.schemaTypes.block.name!==a._type,s=function(e){let t,n=(0,j.c)(5),{items:r}=e,i=pk(),a=Zg(),o=hK();return n[0]!==i||n[1]!==a||n[2]!==r||n[3]!==o?(t=a&&o?r.filter(e=>hq.hasBlockStyle(i,e.style)).map(Zv):[],n[0]=i,n[1]=a,n[2]=r,n[3]=o,n[4]=t):t=n[4],IE(t)}({items:n}),{activeItems:c,items:u}=(0,E.useMemo)(()=>{let e=n.filter(e=>s.includes(e.style)),t=n;return 0===e.length&&t.length>1&&(t=t.concat([ZS]),e.push(ZS)),{activeItems:e,items:t}},[s,n]),d=(0,E.useMemo)(()=>c.length>1?o("inputs.portable-text.style.multiple"):1!==c.length?ZS.i18nTitleKey?o(ZS.i18nTitleKey):ZS.title:c[0].i18nTitleKey?o(c[0].i18nTitleKey):c[0].title,[c,o]),p=(0,E.useCallback)(e=>{a&&e.style!==a.style&&(hq.toggleBlockStyle(i,e.style),hq.focus(i))},[i,a]),f=(0,E.useCallback)(e=>{let{style:t,styleComponent:n}=e,r=Z_[t],i=e.i18nTitleKey?o(e.i18nTitleKey):(null==e?void 0:e.title)||e.style,a="function"==typeof n?n:void 0;return r&&!a?r(i):a?(0,_.jsx)(a,{children:i}):(0,_.jsx)(I.Text,{children:i})},[o]),h=(0,E.useMemo)(()=>(0,_.jsx)(B.Button,{disabled:l,iconRight:R.ChevronDownIcon,justify:"space-between",mode:"bleed",onClick:Zj,text:d,width:"fill"}),[l,d]),m=(0,E.useMemo)(()=>(0,_.jsx)(I.Menu,{disabled:l,children:u.map(e=>(0,_.jsx)(Zw,{pressed:c.includes(e),onClick:l?void 0:()=>p(e),children:f(e)},e.key))}),[l,c,p,u,f]);return(0,_.jsx)(Zk,{popover:{constrainSize:!0,placement:"bottom-start",portal:"default",referenceBoundary:r},id:"block-style-select",button:h,menu:m})}),ZT=(0,E.memo)(Zo),ZD={constrainSize:!0,portal:!0},ZI=(0,E.memo)(function(e){let t,n,r,i,a,o=(0,j.c)(23),{disabled:l,items:s,isFullscreen:c,collapsed:u}=e,{t:d}=IO(),p=Zg(),f=pk(),h=p&&p._type!==f.schemaTypes.block.name;o[0]!==f?(t=()=>{hq.focus(f)},o[0]=f,o[1]=t):t=o[1];let m=t,g=c?"bottom":"top";if(o[2]!==l||o[3]!==h||o[4]!==s||o[5]!==d||o[6]!==g){let e;o[8]!==l||o[9]!==h||o[10]!==d||o[11]!==g?(e=e=>{let t=e.type.title||(0,bE.default)(e.type.name);return(0,_.jsx)(Zc,{"aria-label":d(e.inline?"inputs.portable-text.action.insert-inline-object-aria-label":"inputs.portable-text.action.insert-block-aria-label",{typeName:t}),mode:"bleed",disabled:l||h&&!0===e.inline||!!e.type.deprecated,"data-testid":"".concat(e.type.name,"-insert-menu-button"),icon:e.icon,onClick:e.handle,text:t,tooltipText:d(e.type.deprecated?e.type.deprecated.reason:e.inline?"inputs.portable-text.action.insert-inline-object":"inputs.portable-text.action.insert-block",{typeName:t}),tooltipProps:{disabled:l,placement:g,portal:"default"}},e.key)},o[8]=l,o[9]=h,o[10]=d,o[11]=g,o[12]=e):e=o[12],n=s.map(e),o[2]=l,o[3]=h,o[4]=s,o[5]=d,o[6]=g,o[7]=n}else n=o[7];let y=n;o[13]!==g?(r={placement:g},o[13]=g,o[14]=r):r=o[14],o[15]!==l||o[16]!==r?(i={button:(0,_.jsx)(DO,{"data-testid":"insert-menu-button",disabled:l,tooltipProps:r}),popover:ZD},o[15]=l,o[16]=r,o[17]=i):i=o[17];let v=i;return o[18]!==y||o[19]!==u||o[20]!==m||o[21]!==v?(a=(0,_.jsx)(ZT,{"data-testid":"insert-menu-auto-collapse-menu",collapsed:u,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:v,onMenuClose:m,children:y}),o[18]=y,o[19]=u,o[20]=m,o[21]=v,o[22]=a):a=o[22],a}),ZA=(0,F.styled)(I.Flex)(w2()),ZO=(0,F.styled)(I.Box)(w0()),ZP=(0,F.styled)(I.Flex)(w5()),ZM=(0,F.styled)(I.Box)(w3(),e=>{let{$withInsertMenu:t}=e;return t&&(0,F.css)(w7())}),ZF=(0,F.styled)(I.Box)(w8()),ZR="u">typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ZB=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(47),{actionGroups:h,blockStyles:m,collapsible:g,disabled:y,insertMenuItems:v,isFullscreen:b,onToggleFullscreen:x}=e,{t:C}=IO(),k=h.reduce(ZL,0)>0,w=v.length>0,[S,T]=(0,E.useState)(null),D=(0,A.useElementRect)(S),O=!!g&&!!D&&(null==D?void 0:D.width)<400,P=m.length>1;f[0]!==S?(t={rootElement:S},f[0]=S,f[1]=t):t=f[1],eDa(t),f[2]!==m||f[3]!==O||f[4]!==y||f[5]!==b||f[6]!==S||f[7]!==P?(n=P&&(0,_.jsx)(ZP,{flex:O?1:void 0,children:(0,_.jsx)(ZO,{padding:b?2:1,"data-testid":"block-style-select",children:(0,_.jsx)(ZE,{disabled:y,items:m,boundaryElement:S})})}),f[2]=m,f[3]=O,f[4]=y,f[5]=b,f[6]=S,f[7]=P,f[8]=n):n=f[8],f[9]!==h||f[10]!==O||f[11]!==y||f[12]!==b||f[13]!==k||f[14]!==w?(r=k&&(0,_.jsx)(ZM,{flex:O?void 0:1,padding:b?2:1,$withInsertMenu:w,children:(0,_.jsx)(ZC,{disabled:y,collapsed:O,groups:h,isFullscreen:b})}),f[9]=h,f[10]=O,f[11]=y,f[12]=b,f[13]=k,f[14]=w,f[15]=r):r=f[15],f[16]!==O||f[17]!==y||f[18]!==v||f[19]!==b||f[20]!==w?(i=w&&(0,_.jsx)(I.Box,{flex:O?void 0:1,padding:b?2:1,children:(0,_.jsx)(ZI,{disabled:y,collapsed:O,items:v,isFullscreen:b})}),f[16]=O,f[17]=y,f[18]=v,f[19]=b,f[20]=w,f[21]=i):i=f[21],f[22]!==r||f[23]!==i?(a=(0,_.jsxs)(I.Flex,{flex:1,children:[r,i]}),f[22]=r,f[23]=i,f[24]=a):a=f[24];let M=b?2:1;f[25]!==C?(o=C("inputs.portable-text.action.expand-editor"),f[25]=C,f[26]=o):o=f[26];let F=b?R.CollapseIcon:R.ExpandIcon,N=b?"fullscreen-button-collapse":"fullscreen-button-expand",L=b?"inputs.portable-text.action.collapse-editor":"inputs.portable-text.action.expand-editor";f[27]!==C||f[28]!==L?(l=C(L),f[27]=C,f[28]=L,f[29]=l):l=f[29],f[30]===Symbol.for("react.memo_cache_sentinel")?(s=["".concat(ZR?"Cmd":"Ctrl"),"Enter"],f[30]=s):s=f[30];let z=b?"bottom":"top";return f[31]!==l||f[32]!==z?(c={content:l,hotkeys:s,placement:z,portal:"default"},f[31]=l,f[32]=z,f[33]=c):c=f[33],f[34]!==x||f[35]!==c||f[36]!==o||f[37]!==F||f[38]!==N?(u=(0,_.jsx)(B.Button,{"aria-label":o,icon:F,"data-testid":N,mode:"bleed",onClick:x,tooltipProps:c}),f[34]=x,f[35]=c,f[36]=o,f[37]=F,f[38]=N,f[39]=u):u=f[39],f[40]!==u||f[41]!==M?(d=(0,_.jsx)(ZF,{padding:M,children:u}),f[40]=u,f[41]=M,f[42]=d):d=f[42],f[43]!==d||f[44]!==n||f[45]!==a?(p=(0,_.jsxs)(ZA,{align:"center",ref:T,onMouseDown:Zz,children:[n,a,d]}),f[43]=d,f[44]=n,f[45]=a,f[46]=p):p=f[46],p});function ZN(e){let t,n,r,i,a,o,l,s=(0,j.c)(30),{collapsible:c,hotkeys:u,isFullscreen:d,readOnly:p,onMemberOpen:f,onToggleFullscreen:h}=e,m=pk(),g=hK(),y=Ms(),v=p||!g,{push:b}=(0,A.useToast)();s[0]!==b||s[1]!==y?(t=e=>{let t=!1,n=setTimeout(()=>{t=!0,b({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},300);return y(e,{}).then(e=>(t&&b({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),e)).catch(t=>{b({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(e.name,": ").concat(t.message,"."),status:"error"})}).finally(()=>clearTimeout(n))},s[0]=b,s[1]=y,s[2]=t):t=s[2];let x=t;s[3]!==m||s[4]!==f||s[5]!==x?(n=async e=>{let t=await x(e),n=hq.insertBlock(m,e,t);n&&f(n)},s[3]=m,s[4]=f,s[5]=x,s[6]=n):n=s[6];let C=n;s[7]!==m||s[8]!==f||s[9]!==x?(r=async e=>{let t=await x(e),n=hq.insertChild(m,e,t);n&&f(n)},s[7]=m,s[8]=f,s[9]=x,s[10]=r):r=s[10];let k=r;s[11]!==u||s[12]!==f||s[13]!==x?(i={hotkeys:u,onMemberOpen:f,resolveInitialValue:x,disabled:!0},s[11]=u,s[12]=f,s[13]=x,s[14]=i):i=s[14];let w=function(e){let t,n,r=(0,j.c)(10),{hotkeys:i,onMemberOpen:a,resolveInitialValue:o,disabled:l}=e,s=pk(),{t:c}=IO();r[0]!==s||r[1]!==a||r[2]!==o?(t=async e=>{let t=await o(e),n=hq.addAnnotation(s,e,t);n&&n.markDefPath&&a(n.markDefPath)},r[0]=s,r[1]=a,r[2]=o,r[3]=t):t=r[3];let u=t;return r[4]!==l||r[5]!==s||r[6]!==u||r[7]!==i||r[8]!==c?(n=s?[{name:"format",actions:s.schemaTypes.decorators.map(e=>{let t=Object.keys(i.marks||{}).find(t=>{var n;return(null==(n=i.marks)?void 0:n[t])===e.value}),n=[];return t&&(n=[t]),{type:"format",disabled:l,icon:null==e?void 0:e.icon,key:e.value,handle:()=>{hq.toggleMark(s,e.value),hq.focus(s)},hotkeys:n,title:e.i18nTitleKey&&c?c(e.i18nTitleKey):e.title}})},{name:"list",actions:s.schemaTypes.lists.map(e=>({type:"listStyle",key:e.value,disabled:l,icon:null==e?void 0:e.icon,handle:()=>{hq.toggleList(s,e.value)},title:e.i18nTitleKey&&c?c(e.i18nTitleKey):e.title}))},{name:"annotation",actions:function(e,t,n,r){let i=e.schemaTypes,a=hq.focusChild(e),o=a&&a.text;return i.annotations.map(i=>({type:"annotation",disabled:!o||t,icon:(0,n_.default)(i,"icon")||(0,n_.default)(i,"type.icon")||(0,n_.default)(i,"type.to.icon")||(0,n_.default)(i,"type.to[0].icon"),key:i.name,handle:t=>{t?(hq.removeAnnotation(e,i),hq.focus(e)):n(i)},title:i.i18nTitleKey&&r?r(i.i18nTitleKey):i.title||(0,nT.default)(i.name)}))}(s,l,u,c)}]:[],r[4]=l,r[5]=s,r[6]=u,r[7]=i,r[8]=c,r[9]=n):n=r[9],n}(i);s[15]!==m.schemaTypes?(a=m.schemaTypes.styles.map(e=>({key:"style-".concat(e.value),style:e.value,styleComponent:e&&e.component,title:e.title,i18nTitleKey:e.i18nTitleKey})),s[15]=m.schemaTypes,s[16]=a):a=s[16];let S=a;s[17]!==v||s[18]!==m.schemaTypes||s[19]!==C||s[20]!==k?(o=function(e,t,n,r){let i=e.blockObjects.map((e,t)=>({handle:()=>n(e),icon:Zp(e,R.BlockElementIcon),inline:!1,key:"block-".concat(t),type:e})),a=e.inlineObjects.map((e,t)=>({handle:()=>r(e),icon:Zp(e,R.InlineElementIcon),inline:!0,key:"inline-".concat(t),type:e}));return i.concat(a).filter(e=>{var t;return!(null==(t=e.type)?void 0:t.hidden)})}(m.schemaTypes,0,C,k),s[17]=v,s[18]=m.schemaTypes,s[19]=C,s[20]=k,s[21]=o):o=s[21];let E=o;return s[22]!==w||s[23]!==S||s[24]!==c||s[25]!==v||s[26]!==E||s[27]!==d||s[28]!==h?(l=(0,_.jsx)(ZB,{actionGroups:w,blockStyles:S,collapsible:c,disabled:v,insertMenuItems:E,isFullscreen:d,onToggleFullscreen:h}),s[22]=w,s[23]=S,s[24]=c,s[25]=v,s[26]=E,s[27]=d,s[28]=h,s[29]=l):l=s[29],l}function ZL(e,t){return e+t.actions.length}function Zz(e){e.preventDefault()}let ZV={outline:"none"},ZU=F.styled.span(e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(w4(),t.input.default.enabled.placeholder)}),ZH=e=>(0,_.jsx)($m,{...e}),Zq=e=>(0,_.jsx)($5,{...e}),ZW=e=>(0,_.jsx)($0,{...e});function ZY(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(56),{elementRef:h,hideToolbar:m,hotkeys:g,initialSelection:y,isActive:v,isFullscreen:b,isOneLine:x,onCopy:C,onItemOpen:k,onPaste:w,onToggleFullscreen:S,path:E,readOnly:T,rangeDecorations:D,renderAnnotation:A,renderBlock:O,renderChild:P,scrollElement:M,setPortalElement:F,setScrollElement:R,ariaDescribedBy:N}=e,{id:L}=Lw(),{t:z}=IO(),{isTopLayer:V}=(0,I.useLayer)(),{element:U}=(0,I.useBoundaryElement)();f[0]!==b||f[1]!==V||f[2]!==S?(t=e=>{V&&b&&"Escape"===e.key&&S()},f[0]=b,f[1]=V,f[2]=S,f[3]=t):t=f[3],(0,I.useGlobalKeyDown)(t),f[4]!==z?(n=()=>(0,_.jsx)(ZU,{"data-testid":"pt-input-placeholder",children:z("inputs.portable-text.empty-placeholder")}),f[4]=z,f[5]=n):n=f[5];let H=n,q=function(){var e;let t=null==(e=pk().schemaTypes.block.options)?void 0:e.spellCheck,n=!(typeof navigator>"u")&&/Chrome\/96/.test(navigator.userAgent);return(void 0!==t||!0!==n)&&t}(),W=function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(t,n)=>{if(hq.getSelection(t)){let t=n.startContainer.parentElement;t&&aR(t,{scrollMode:"if-needed",boundary:e,block:"nearest",inline:"nearest"})}},n[0]=e,n[1]=t):t=n[1],t}(M);f[6]!==N||f[7]!==h||f[8]!==g||f[9]!==y||f[10]!==C||f[11]!==w||f[12]!==D||f[13]!==A||f[14]!==O||f[15]!==P||f[16]!==H||f[17]!==W||f[18]!==q?(r={"aria-describedby":N,hotkeys:g,onCopy:C,onPaste:w,rangeDecorations:D,ref:h,renderAnnotation:A,renderBlock:O,renderChild:P,renderDecorator:ZH,renderListItem:ZW,renderPlaceholder:H,renderStyle:Zq,scrollSelectionIntoView:W,selection:y,spellCheck:q,style:ZV},f[6]=N,f[7]=h,f[8]=g,f[9]=y,f[10]=C,f[11]=w,f[12]=D,f[13]=A,f[14]=O,f[15]=P,f[16]=H,f[17]=W,f[18]=q,f[19]=r):r=f[19];let Y=r;f[20]!==Y?(i=(0,_.jsx)(pF,{...Y}),f[20]=Y,f[21]=i):i=f[21];let K=i;f[22]!==k||f[23]!==E?(a=e=>{k(E.concat(e))},f[22]=k,f[23]=E,f[24]=a):a=f[24];let G=a,$="root"===L;f[25]!==$||f[26]!==G||f[27]!==m||f[28]!==g||f[29]!==v||f[30]!==b||f[31]!==S||f[32]!==T?(o=v&&!m&&(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsx)($X,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:(0,_.jsx)(ZN,{collapsible:$,hotkeys:g,isFullscreen:b,onMemberOpen:G,onToggleFullscreen:S,readOnly:T})})}),f[25]=$,f[26]=G,f[27]=m,f[28]=g,f[29]=v,f[30]=b,f[31]=S,f[32]=T,f[33]=o):o=f[33];let Z=T?"transparent":"default",X=T?"transparent":"default",J=b?M:U;return f[34]!==K||f[35]!==J?(l=(0,_.jsx)(I.BoundaryElementProvider,{element:J,children:K}),f[34]=K,f[35]=J,f[36]=l):l=f[36],f[37]!==b||f[38]!==x||f[39]!==X||f[40]!==l?(s=(0,_.jsx)("div",{children:(0,_.jsx)($1,{$isFullscreen:b,$isOneLine:x,tone:X,children:l})}),f[37]=b,f[38]=x,f[39]=X,f[40]=l,f[41]=s):s=f[41],f[42]!==R||f[43]!==s?(c=(0,_.jsx)($Q,{ref:R,children:s}),f[42]=R,f[43]=s,f[44]=c):c=f[44],f[45]!==F?(u=(0,_.jsx)("div",{"data-portal":"",ref:F}),f[45]=F,f[46]=u):u=f[46],f[47]!==c||f[48]!==u||f[49]!==Z?(d=(0,_.jsxs)($J,{flex:1,tone:Z,children:[c,u]}),f[47]=c,f[48]=u,f[49]=Z,f[50]=d):d=f[50],f[51]!==b||f[52]!==x||f[53]!==d||f[54]!==o?(p=(0,_.jsxs)($Z,{"data-fullscreen":b,"data-testid":"pt-editor",$isOneLine:x,children:[o,d]}),f[51]=b,f[52]=x,f[53]=d,f[54]=o,f[55]=p):p=f[55],p}function ZK(e){return e.member.open}function ZG(e){return e.member.item.focused}let Z$=(0,F.styled)(I.Card)(function(e){var t,n,r;let{theme:i}=e,{color:a,radius:o}=i.sanity;return(0,F.css)(_e(),o[2],null==(t=a.selectable)?void 0:t.primary.selected.border,null==(n=a.selectable)?void 0:n.primary.pressed.fg,null==(r=a.selectable)?void 0:r.primary.pressed.bg,a.input.default.hovered.border,a.dark?z.hues.purple[950].hex:z.hues.purple[50].hex,a.muted.caution.hovered.bg,a.muted.caution.hovered.border,a.input.invalid.enabled.bg,a.input.invalid.enabled.border,a.input.invalid.hovered.border)}),ZZ=F.styled.span(w6()),ZX=(0,F.styled)(I.Box)(w9()),ZJ=["top","bottom"];function ZQ(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v=(0,j.c)(48),{floatingBoundary:b,inlineObjectFocused:x,inlineObjectOpen:C,onOpenInlineObject:k,onRemoveInlineObject:w,referenceBoundary:S,referenceElement:T,title:D}=e,[A,O]=(0,E.useState)(!1),{sanity:P}=(0,I.useTheme)(),{t:M}=IO(),F=(0,E.useRef)(null),N=(0,E.useRef)(null),L=(0,E.useRef)(null),z=P.color.dark?"light":"dark",V=pk(),U=(0,E.useRef)(null);v[0]!==V?(t=()=>{O(!1),hq.focus(V),L.current=null},v[0]=V,v[1]=t):t=v[1];let H=t;v[2]!==V||v[3]!==H||v[4]!==x||v[5]!==A?(n=e=>{if(A){if("Tab"===e.key){if(x&&e.target instanceof HTMLElement&&e.target.contentEditable&&null===L.current){var t;e.preventDefault(),null==(t=F.current)||t.focus(),L.current=F.current;return}if(e.target===N.current){e.preventDefault(),e.stopPropagation(),L.current=null,hq.focus(V);return}}"Escape"===e.key&&H()}},v[2]=V,v[3]=H,v[4]=x,v[5]=A,v[6]=n):n=v[6],(0,I.useGlobalKeyDown)(n),v[7]!==x||v[8]!==C?(r=()=>(L.current=null,C)?void O(!1):x?void O(!0):void O(!1),i=[x,C],v[7]=x,v[8]=C,v[9]=r,v[10]=i):(r=v[9],i=v[10]),(0,E.useEffect)(r,i),v[11]!==k?(a=()=>{O(!1),k()},v[11]=k,v[12]=a):a=v[12];let q=a;v[13]!==w?(o=()=>{O(!1),w()},v[13]=w,v[14]=o):o=v[14];let W=o,Y=!C&&A;return v[15]!==D?(l=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{weight:"medium",size:1,children:D})}),v[15]=D,v[16]=l):l=v[16],v[17]!==M?(s=M("inputs.portable-text.inline-object.edit-aria-label"),v[17]=M,v[18]=s):s=v[18],v[19]!==M?(c=M("inputs.portable-text.inline-object.edit"),v[19]=M,v[20]=c):c=v[20],v[21]!==c?(u={content:c},v[21]=c,v[22]=u):u=v[22],v[23]!==q||v[24]!==u||v[25]!==s?(d=(0,_.jsx)(B.Button,{"aria-label":s,"data-testid":"edit-inline-object-button",icon:R.EditIcon,mode:"bleed",onClick:q,ref:F,tabIndex:0,tooltipProps:u}),v[23]=q,v[24]=u,v[25]=s,v[26]=d):d=v[26],v[27]!==M?(p=M("inputs.portable-text.inline-object.remove-aria-label"),v[27]=M,v[28]=p):p=v[28],v[29]!==M?(f=M("inputs.portable-text.inline-object.remove"),v[29]=M,v[30]=f):f=v[30],v[31]!==f?(h={content:f},v[31]=f,v[32]=h):h=v[32],v[33]!==W||v[34]!==p||v[35]!==h?(m=(0,_.jsx)(B.Button,{"aria-label":p,"data-testid":"remove-inline-object-button",icon:R.TrashIcon,mode:"bleed",onClick:W,ref:N,tabIndex:0,tone:"critical",tooltipProps:h}),v[33]=W,v[34]=p,v[35]=h,v[36]=m):m=v[36],v[37]!==d||v[38]!==m||v[39]!==l?(g=(0,_.jsx)(I.Box,{padding:1,"data-testid":"inline-object-toolbar-popover",ref:U,children:(0,_.jsxs)(I.Flex,{gap:1,children:[l,d,m]})}),v[37]=d,v[38]=m,v[39]=l,v[40]=g):g=v[40],v[41]!==b||v[42]!==z||v[43]!==S||v[44]!==T||v[45]!==g||v[46]!==Y?(y=(0,_.jsx)(B.Popover,{open:Y,floatingBoundary:b,constrainSize:!0,content:g,fallbackPlacements:ZJ,placement:"top",portal:!0,preventOverflow:!0,referenceBoundary:S,referenceElement:T,scheme:z}),v[41]=b,v[42]=z,v[43]=S,v[44]=T,v[45]=g,v[46]=Y,v[47]=y):y=v[47],y}let Z1=e=>Array.isArray(e)?e.flatMap(Z1):"number"==typeof e?[e]:"auto"===e?["auto"]:[];function Z2(e){let t,n,r,i,a=(0,j.c)(13),{onClose:o,children:l,title:s,width:c,autoFocus:u}=e,d=void 0===c?1:c,p=(0,E.useId)(),[f,h]=(0,E.useState)(null),m=(0,E.useRef)(null);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=[0,0,1,0],a[0]=t):t=a[0],a[1]!==l?(n=(0,_.jsx)(I.Box,{ref:m,children:l}),a[1]=l,a[2]=n):n=a[2],a[3]!==f||a[4]!==n?(r=(0,_.jsx)(W0,{margins:t,children:(0,_.jsx)(W5,{scrollElement:f,containerElement:m,children:n})}),a[3]=f,a[4]=n,a[5]=r):r=a[5],a[6]!==u||a[7]!==p||a[8]!==o||a[9]!==r||a[10]!==s||a[11]!==d?(i=(0,_.jsx)(B.Dialog,{header:s,id:p,onClickOutside:o,onClose:o,portal:"default",width:d,contentRef:h,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:u,children:r}),a[6]=u,a[7]=p,a[8]=o,a[9]=r,a[10]=s,a[11]=d,a[12]=i):i=a[12],i}let Z0=(0,F.styled)(B.Popover)(_t()),Z5=(0,F.styled)(I.Box)(_n()),Z7=(0,F.styled)(I.Box)(_r()),Z3=e=>{let t,n,r,i=(0,j.c)(6);return i[0]!==e?({children:t,...n}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]),i[3]!==t||i[4]!==n?(r=(0,_.jsx)("div",{...n,tabIndex:-1,children:t}),i[3]=t,i[4]=n,i[5]=r):r=i[5],r},Z8=["top","bottom"];function Z4(e){let t,n,r=(0,j.c)(8),{floatingBoundary:i,referenceBoundary:a,referenceElement:o,width:l}=e,s=void 0===l?1:l;return r[0]!==e?(t=(0,_.jsx)(Z6,{...e}),r[0]=e,r[1]=t):t=r[1],r[2]!==i||r[3]!==a||r[4]!==o||r[5]!==t||r[6]!==s?(n=(0,_.jsx)(Z0,{content:t,constrainSize:!0,"data-testid":"popover-edit-dialog","data-ui":"PopoverEditDialog",fallbackPlacements:Z8,floatingBoundary:i,open:!0,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:a,referenceElement:o,width:s,autoFocus:!0}),r[2]=i,r[3]=a,r[4]=o,r[5]=t,r[6]=s,r[7]=n):n=r[7],n}function Z6(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(27),{onClose:g,referenceBoundary:y,referenceElement:v,title:b}=e,x=(0,E.useRef)(!1);m[0]!==g?(t=()=>{x.current=!0,g()},m[0]=g,m[1]=t):t=m[1];let C=t;m[2]!==C?(n=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),C())},m[2]=C,m[3]=n):n=m[3],m[4]===Symbol.for("react.memo_cache_sentinel")?(r={capture:!0},m[4]=r):r=m[4],(0,I.useGlobalKeyDown)(n,r),m[5]!==v?(i=()=>[v],m[5]=v,m[6]=i):i=m[6],m[7]!==y?(a=()=>y,m[7]=y,m[8]=a):a=m[8],(0,I.useClickOutsideEvent)(C,i,a);let[k,w]=(0,E.useState)(null),S=(0,E.useRef)(null);m[9]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{var t;return!x.current&&(!!Array.from(document.querySelectorAll("[data-portal]")).some(t=>t.contains(e))||!!x.current)&&(!!e.contentEditable||!!(null==(t=S.current)?void 0:t.contains(e)))},m[9]=o):o=m[9];let T=o;return m[10]!==b?(l=(0,_.jsx)(I.Box,{flex:1,padding:2,children:(0,_.jsx)(I.Text,{weight:"medium",children:b})}),m[10]=b,m[11]=l):l=m[11],m[12]===Symbol.for("react.memo_cache_sentinel")?(s={content:"Close"},m[12]=s):s=m[12],m[13]!==C?(c=(0,_.jsx)(B.Button,{autoFocus:!0,icon:R.CloseIcon,mode:"bleed",onClick:C,tooltipProps:s}),m[13]=C,m[14]=c):c=m[14],m[15]!==l||m[16]!==c?(u=(0,_.jsx)(Z7,{flex:"none",padding:1,children:(0,_.jsxs)(I.Flex,{align:"center",children:[l,c]})}),m[15]=l,m[16]=c,m[17]=u):u=m[17],m[18]===Symbol.for("react.memo_cache_sentinel")?(d=[0,0,1,0],m[18]=d):d=m[18],m[19]!==e.children?(p=(0,_.jsx)(Z5,{flex:1,children:(0,_.jsx)(W0,{margins:d,children:(0,_.jsx)(I.Box,{padding:3,ref:w,children:e.children})})}),m[19]=e.children,m[20]=p):p=m[20],m[21]!==p||m[22]!==u?(f=(0,_.jsx)(ts.default,{autoFocus:!0,whiteList:T,children:(0,_.jsxs)(I.Flex,{as:Z3,ref:S,direction:"column",height:"fill",children:[u,p]})}),m[21]=p,m[22]=u,m[23]=f):f=m[23],m[24]!==k||m[25]!==f?(h=(0,_.jsx)(W5,{scrollElement:k,containerElement:S,children:f}),m[24]=k,m[25]=f,m[26]=h):h=m[26],h}function Z9(e){let t,n,r,i,a=(0,j.c)(26),{autoFocus:o,defaultType:l,floatingBoundary:s,onClose:c,referenceBoundary:u,referenceElement:d,schemaType:p}=e,{t:f}=IO();a[0]!==p?(t=function(e){var t;let n,r=null==(t=e.options)?void 0:t.modal;return"object"==typeof r&&null!==r?{type:"dialog"===(n=r.type)||"popover"===n?n:void 0,width:Z1(r.width)}:void 0}(p),a[0]=p,a[1]=t):t=a[1];let h=t,m=(null==h?void 0:h.type)||l;if(a[2]!==p.i18nTitleKey||a[3]!==p.name||a[4]!==p.title||a[5]!==f){let e=p.i18nTitleKey?f(p.i18nTitleKey):p.title||p.name;n=f("inputs.portable-text.annotation-editor.title",{schemaType:e}),a[2]=p.i18nTitleKey,a[3]=p.name,a[4]=p.title,a[5]=f,a[6]=n}else n=a[6];let g=n;a[7]!==c?(r=()=>{c()},a[7]=c,a[8]=r):r=a[8];let y=r,v=null==h?void 0:h.width;if("popover"===m){let t,n;return a[9]!==g?(t=(0,_.jsx)(_.Fragment,{children:g}),a[9]=g,a[10]=t):t=a[10],a[11]!==o||a[12]!==s||a[13]!==y||a[14]!==v||a[15]!==e.children||a[16]!==u||a[17]!==d||a[18]!==t?(n=(0,_.jsx)(Z4,{autoFocus:o,floatingBoundary:s,onClose:y,referenceBoundary:u,referenceElement:d,title:t,width:v,children:e.children}),a[11]=o,a[12]=s,a[13]=y,a[14]=v,a[15]=e.children,a[16]=u,a[17]=d,a[18]=t,a[19]=n):n=a[19],n}return a[20]!==o||a[21]!==y||a[22]!==g||a[23]!==v||a[24]!==e.children?(i=(0,_.jsx)(Z2,{onClose:y,title:g,width:v,autoFocus:o,children:e.children}),a[20]=o,a[21]=y,a[22]=g,a[23]=v,a[24]=e.children,a[25]=i):i=a[25],i}let Xe=e=>{let{floatingBoundary:t,focused:n,onItemClose:r,onItemOpen:i,onPathFocus:a,path:o,readOnly:l,referenceBoundary:s,relativePath:c,renderAnnotation:u,renderBlock:d,renderCustomMarkers:p,renderField:f,renderItem:h,renderInlineBlock:m,renderInput:g,renderPreview:y,schemaType:v,selected:b,setElementRef:x,value:C}=e,{Markers:k}=Lw().__internal.components,w=pk(),j=LA(o),[T,D]=(0,E.useState)(null),I=LL(Au(o)),{validation:A,hasError:O,hasInfo:P,hasWarning:M}=LI(null==I?void 0:I.node),F=w.schemaTypes.block,R=j.length>0,N=(0,E.useMemo)(()=>({anchor:{path:c,offset:0},focus:{path:c,offset:0}}),[c]),L=(0,E.useCallback)(()=>{hq.delete(w,N,{mode:"children"}),hq.focus(w)},[N,w]),z=(0,E.useCallback)(()=>{I&&(hq.blur(w),i(I.node.path))},[i,w,I]),V=(0,E.useCallback)(()=>{r(),hq.select(w,N),hq.focus(w)},[r,w,N]),U=!!(null==I?void 0:I.member.open),H=null==I?void 0:I.input,q=(null==I?void 0:I.node.path)||Ie,W=Lk(o,!0),Y=(0,E.useMemo)(()=>W.filter(e=>(0,S.isEqual)(e.path,o)),[o,W]),K=(0,E.useMemo)(()=>({__unstable_floatingBoundary:t,__unstable_referenceBoundary:s,__unstable_referenceElement:T,children:H,focused:n,onClose:V,onOpen:z,onPathFocus:a,onRemove:L,open:U,markers:j,member:null==I?void 0:I.member,parentSchemaType:F,path:q,presence:Y,readOnly:!!l,renderAnnotation:u,renderBlock:d,renderDefault:Xt,renderField:f,renderInlineBlock:m,renderInput:g,renderItem:h,renderPreview:y,schemaType:v,selected:b,value:C,validation:A}),[t,n,H,U,j,null==I?void 0:I.member,q,V,z,a,L,F,l,s,T,u,d,f,m,g,h,y,Y,v,b,A,C]),G=O||M||P||R,$=(0,E.useMemo)(()=>G&&(0,_.jsx)(ZX,{children:(0,_.jsx)(k,{markers:j,validation:A,renderCustomMarkers:p})})||null,[k,j,p,G,A]),Z=(0,E.useCallback)(e=>{I&&x({key:I.member.key,elementRef:e}),D(e)},[I,x,D]);return(0,E.useMemo)(()=>(0,_.jsx)("span",{ref:Z,contentEditable:!1,children:(0,_.jsx)(B.Tooltip,{placement:"bottom",portal:"editor",disabled:!!U||!G,content:$,children:m&&(0,_.jsx)("span",{style:{position:"relative"},children:m(K)})})}),[K,m,Z,$,G,U])},Xt=e=>{let t,n,r,i,a,o,l,s,c=(0,j.c)(41),{__unstable_floatingBoundary:u,__unstable_referenceBoundary:d,__unstable_referenceElement:p,children:f,focused:h,markers:m,onClose:g,onOpen:y,onRemove:v,open:b,readOnly:x,renderPreview:C,schemaType:k,selected:w,validation:S,value:E}=e,{t:T}=IO(),D=m.length>0,I=(null==k?void 0:k.title)||k.name,A=S.filter(Xn).length>0,O=S.filter(Xr).length>0;e:{if(A){t="critical";break e}if(O){t="caution";break e}if(w||h){t="primary";break e}t=void 0}let P=t;c[0]!==T?(n=T("inputs.portable-text.inline-block.aria-label"),c[0]=T,c[1]=n):n=c[1];let M=h||void 0,F=A||void 0,R=D||void 0,B=x||void 0,N=w||void 0,L=O||void 0,z=x?y:void 0;return c[2]!==C||c[3]!==k||c[4]!==E?(r=C({layout:"inline",schemaType:k,skipVisibilityCheck:!0,value:E,fallbackTitle:"Click to edit"}),c[2]=C,c[3]=k,c[4]=E,c[5]=r):r=c[5],c[6]!==r?(i=(0,_.jsx)(ZZ,{children:r}),c[6]=r,c[7]=i):i=c[7],c[8]!==y||c[9]!==n||c[10]!==i||c[11]!==M||c[12]!==F||c[13]!==R||c[14]!==B||c[15]!==N||c[16]!==L||c[17]!==z||c[18]!==P?(a=(0,_.jsx)(Z$,{"aria-label":n,"data-focused":M,"data-invalid":F,"data-markers":R,"data-read-only":B,"data-selected":N,"data-warning":L,forwardedAs:"span",onClick:z,onDoubleClick:y,tone:P,children:i}),c[8]=y,c[9]=n,c[10]=i,c[11]=M,c[12]=F,c[13]=R,c[14]=B,c[15]=N,c[16]=L,c[17]=z,c[18]=P,c[19]=a):a=c[19],c[20]!==u||c[21]!==h||c[22]!==y||c[23]!==v||c[24]!==b||c[25]!==I||c[26]!==d||c[27]!==p?(o=p&&(0,_.jsx)(ZQ,{floatingBoundary:u,inlineObjectFocused:h,inlineObjectOpen:b,onOpenInlineObject:y,onRemoveInlineObject:v,referenceBoundary:d,referenceElement:p,title:I}),c[20]=u,c[21]=h,c[22]=y,c[23]=v,c[24]=b,c[25]=I,c[26]=d,c[27]=p,c[28]=o):o=c[28],c[29]!==f||c[30]!==u||c[31]!==g||c[32]!==b||c[33]!==d||c[34]!==p||c[35]!==k?(l=b&&(0,_.jsx)(Z9,{autoFocus:!0,defaultType:"popover",floatingBoundary:u,onClose:g,referenceBoundary:d,referenceElement:p,schemaType:k,children:f}),c[29]=f,c[30]=u,c[31]=g,c[32]=b,c[33]=d,c[34]=p,c[35]=k,c[36]=l):l=c[36],c[37]!==a||c[38]!==o||c[39]!==l?(s=(0,_.jsxs)(_.Fragment,{children:[a,o,l]}),c[37]=a,c[38]=o,c[39]=l,c[40]=s):s=c[40],s};function Xn(e){return"error"===e.level}function Xr(e){return"warning"===e.level}function Xi(e){let t,n,r,i=(0,j.c)(14),a=pk(),o=(0,I.useBoundaryElement)().element,l=Lz(),s=$a();i[0]!==l?(t=l.find(Xa),i[0]=l,i[1]=t):t=i[1];let c=t;i[2]!==a||i[3]!==c||i[4]!==e?(n=()=>{c&&(e.onItemClose(),c.node.value&&Lm(c.node.value)&&c&&hq.removeAnnotation(a,c.node.schemaType),hq.focus(a))},i[2]=a,i[3]=c,i[4]=e,i[5]=n):n=i[5];let u=n;if(!c)return null;let d=s[c.member.key];if(!d)return null;let p=!!e.focused;return i[6]!==o||i[7]!==d||i[8]!==u||i[9]!==c.input||i[10]!==c.node.schemaType||i[11]!==e.referenceBoundary||i[12]!==p?(r=(0,_.jsx)(Z9,{defaultType:"popover",floatingBoundary:o,onClose:u,autoFocus:p,referenceBoundary:e.referenceBoundary,referenceElement:d,schemaType:c.node.schemaType,children:c.input}),i[6]=o,i[7]=d,i[8]=u,i[9]=c.input,i[10]=c.node.schemaType,i[11]=e.referenceBoundary,i[12]=p,i[13]=r):r=i[13],r}function Xa(e){return"annotation"===e.kind&&e.member.open}function Xo(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w=(0,j.c)(154),{changed:T,elementRef:A,focused:O,focusPath:P,elementProps:M,hasFocusWithin:F,hideToolbar:R,hotkeys:B,isActive:N,isFullscreen:L,onActivate:z,onCopy:V,onItemClose:U,onItemOpen:H,onItemRemove:q,onPaste:Y,onPathFocus:K,onToggleFullscreen:G,onUpload:$,path:Z,rangeDecorations:X,readOnly:J,renderAnnotation:Q,renderBlock:ee,renderBlockActions:et,renderCustomMarkers:en,renderField:er,renderInlineBlock:ei,renderInput:ea,renderItem:eo,renderPreview:el,resolveUploader:es,value:ec}=e,eu=void 0===P?Ie:P,ed=pk(),ep=function(){let e,t=(0,j.c)(2),n=(0,E.useContext)(D.PortableTextMemberItemElementRefsContext);return t[0]!==n?(e=e=>{let{key:t,elementRef:r}=e;n.next({...n.value,[t]:r})},t[0]=n,t[1]=e):e=t[1],e}(),ef=(0,I.useBoundaryElement)().element,[eh,em]=(0,E.useState)(null),[eg,ey]=(0,E.useState)(null);w[0]!==G?(n=()=>{G()},w[0]=G,w[1]=n):n=w[1];let ev=n,eb=null==B?void 0:B.custom;w[2]!==G||w[3]!==eb?(r={"mod+enter":G,...eb},w[2]=G,w[3]=eb,w[4]=r):r=w[4],w[5]!==B||w[6]!==r?(i={...B,custom:r},w[5]=B,w[6]=r,w[7]=i):i=w[7];let ex=function(e){let t,n,r,i,a,o=(0,j.c)(12),l=pk();o[0]!==e?(t=()=>e,o[0]=e,o[1]=t):t=o[1];let[s]=(0,E.useState)(t);return s!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),o[2]!==l.schemaTypes.decorators?(n={marks:{}},l.schemaTypes.decorators.forEach(e=>{switch(e.value){case"strong":n.marks["mod+b"]=e.value;break;case"em":n.marks["mod+i"]=e.value;break;case"underline":n.marks["mod+u"]=e.value;break;case"code":n.marks["mod+'"]=e.value}}),o[2]=l.schemaTypes.decorators,o[3]=n):n=o[3],o[4]!==s?(r=s||{},o[4]=s,o[5]=r):r=o[5],o[6]!==n.marks||o[7]!==r.marks?(i={...n.marks,...r.marks},o[6]=n.marks,o[7]=r.marks,o[8]=i):i=o[8],o[9]!==s.custom||o[10]!==i?(a={marks:i,custom:s.custom},o[9]=s.custom,o[10]=i,o[11]=a):a=o[11],a}(i),eC=ec&&et?et:void 0,ek=ec&&en?en:void 0,[ew,e_]=(0,E.useState)(null);w[8]!==eC||w[9]!==ek||w[10]!==ef||w[11]!==L||w[12]!==U||w[13]!==H||w[14]!==q||w[15]!==K||w[16]!==Z||w[17]!==J||w[18]!==Q||w[19]!==ee||w[20]!==er||w[21]!==ei||w[22]!==ea||w[23]!==eo||w[24]!==el||w[25]!==eg||w[26]!==ep?(a=e=>{let{children:t,focused:n,path:r,selected:i,schemaType:a,value:o}=e;return(0,_.jsx)($G,{floatingBoundary:ef,focused:n,isFullscreen:L,onItemClose:U,onItemOpen:H,onItemRemove:q,onPathFocus:K,path:Z.concat(r),readOnly:J,referenceBoundary:eg,renderAnnotation:Q,renderField:er,renderInlineBlock:ei,renderInput:ea,renderItem:eo,renderBlockActions:eC,renderCustomMarkers:ek,renderPreview:el,renderBlock:ee,schemaType:a,selected:i,setElementRef:ep,value:o,children:t})},w[8]=eC,w[9]=ek,w[10]=ef,w[11]=L,w[12]=U,w[13]=H,w[14]=q,w[15]=K,w[16]=Z,w[17]=J,w[18]=Q,w[19]=ee,w[20]=er,w[21]=ei,w[22]=ea,w[23]=eo,w[24]=el,w[25]=eg,w[26]=ep,w[27]=a):a=w[27];let ej=a;w[28]!==eC||w[29]!==ek||w[30]!==ef||w[31]!==L||w[32]!==U||w[33]!==H||w[34]!==q||w[35]!==K||w[36]!==Z||w[37]!==J||w[38]!==Q||w[39]!==ee||w[40]!==er||w[41]!==ei||w[42]!==ea||w[43]!==eo||w[44]!==el||w[45]!==eg||w[46]!==ep?(o=e=>{let{focused:t,path:n,selected:r,schemaType:i,value:a}=e;return(0,_.jsx)(enw,{floatingBoundary:ef,focused:t,isFullscreen:L,onItemClose:U,onItemOpen:H,onItemRemove:q,onPathFocus:K,path:Z.concat(n),readOnly:J,referenceBoundary:eg,relativePath:n,renderAnnotation:Q,renderBlock:ee,renderBlockActions:eC,renderCustomMarkers:ek,renderField:er,renderInlineBlock:ei,renderInput:ea,renderItem:eo,renderPreview:el,schemaType:i,selected:r,setElementRef:ep,value:a})},w[28]=eC,w[29]=ek,w[30]=ef,w[31]=L,w[32]=U,w[33]=H,w[34]=q,w[35]=K,w[36]=Z,w[37]=J,w[38]=Q,w[39]=ee,w[40]=er,w[41]=ei,w[42]=ea,w[43]=eo,w[44]=el,w[45]=eg,w[46]=ep,w[47]=o):o=w[47];let eS=o;w[48]!==ed.schemaTypes.block.name||w[49]!==eS||w[50]!==ej?(l=e=>{let{value:t}=e;return t._type===ed.schemaTypes.block.name?ej(e):eS(e)},w[48]=ed.schemaTypes.block.name,w[49]=eS,w[50]=ej,w[51]=l):l=w[51];let eE=l;w[52]!==ef||w[53]!==ed.schemaTypes.span.name||w[54]!==U||w[55]!==H||w[56]!==K||w[57]!==Z||w[58]!==J||w[59]!==Q||w[60]!==ee||w[61]!==en||w[62]!==er||w[63]!==ei||w[64]!==ea||w[65]!==eo||w[66]!==el||w[67]!==eg||w[68]!==ep?(s=e=>{let{children:t,focused:n,path:r,selected:i,schemaType:a,value:o}=e;return o._type===ed.schemaTypes.span.name?t:(0,_.jsx)(Xe,{floatingBoundary:ef,focused:n,onItemClose:U,onItemOpen:H,onPathFocus:K,path:Z.concat(r),readOnly:J,referenceBoundary:eg,relativePath:r,renderAnnotation:Q,renderBlock:ee,renderCustomMarkers:en,renderField:er,renderInlineBlock:ei,renderInput:ea,renderItem:eo,renderPreview:el,schemaType:a,selected:i,setElementRef:ep,value:o})},w[52]=ef,w[53]=ed.schemaTypes.span.name,w[54]=U,w[55]=H,w[56]=K,w[57]=Z,w[58]=J,w[59]=Q,w[60]=ee,w[61]=en,w[62]=er,w[63]=ei,w[64]=ea,w[65]=eo,w[66]=el,w[67]=eg,w[68]=ep,w[69]=s):s=w[69];let eT=s;w[70]!==ef||w[71]!==O||w[72]!==U||w[73]!==H||w[74]!==K||w[75]!==Z||w[76]!==J||w[77]!==Q||w[78]!==ee||w[79]!==en||w[80]!==er||w[81]!==ei||w[82]!==ea||w[83]!==eo||w[84]!==el||w[85]!==eg||w[86]!==ep?(c=e=>{let{children:t,focused:n,path:r,selected:i,schemaType:a,value:o}=e;return(0,_.jsx)(LW,{editorNodeFocused:n,floatingBoundary:ef,focused:!!O,onItemClose:U,onItemOpen:H,onPathFocus:K,path:Z.concat(r),readOnly:J,referenceBoundary:eg,renderAnnotation:Q,renderBlock:ee,renderCustomMarkers:en,renderField:er,renderInlineBlock:ei,renderInput:ea,renderItem:eo,renderPreview:el,schemaType:a,selected:i,setElementRef:ep,value:o,children:t})},w[70]=ef,w[71]=O,w[72]=U,w[73]=H,w[74]=K,w[75]=Z,w[76]=J,w[77]=Q,w[78]=ee,w[79]=en,w[80]=er,w[81]=ei,w[82]=ea,w[83]=eo,w[84]=el,w[85]=eg,w[86]=ep,w[87]=c):c=w[87];let eD=c,eI=M["aria-describedby"];w[88]!==eu||w[89]!==F?(u=()=>{if(F)return{anchor:{path:eu,offset:0},focus:{path:eu,offset:0}}},w[88]=eu,w[89]=F,w[90]=u):u=w[90];let[eA]=(0,E.useState)(u),eO=!!(null==(t=ed.schemaTypes.block.options)?void 0:t.oneLine);w[91]!==eI||w[92]!==ex||w[93]!==eD||w[94]!==eE||w[95]!==eT||w[96]!==A||w[97]!==ev||w[98]!==R||w[99]!==eA||w[100]!==N||w[101]!==L||w[102]!==eO||w[103]!==V||w[104]!==H||w[105]!==Y||w[106]!==Z||w[107]!==X||w[108]!==J||w[109]!==eg?(d=(0,_.jsx)(ZY,{ariaDescribedBy:eI,elementRef:A,initialSelection:eA,hideToolbar:R,hotkeys:ex,isActive:N,isFullscreen:L,isOneLine:eO,onItemOpen:H,onCopy:V,onPaste:Y,onToggleFullscreen:ev,path:Z,rangeDecorations:X,readOnly:J,renderAnnotation:eD,renderBlock:eE,renderChild:eT,setPortalElement:e_,scrollElement:eg,setScrollElement:ey}),w[91]=eI,w[92]=ex,w[93]=eD,w[94]=eE,w[95]=eT,w[96]=A,w[97]=ev,w[98]=R,w[99]=eA,w[100]=N,w[101]=L,w[102]=eO,w[103]=V,w[104]=H,w[105]=Y,w[106]=Z,w[107]=X,w[108]=J,w[109]=eg,w[110]=d):d=w[110],w[111]!==ed.schemaTypes.portableText.of||w[112]!==$||w[113]!==es||w[114]!==d?(p=(0,_.jsx)(qR,{types:ed.schemaTypes.portableText.of,resolveUploader:es,onUpload:$,tabIndex:-1,children:d}),w[111]=ed.schemaTypes.portableText.of,w[112]=$,w[113]=es,w[114]=d,w[115]=p):p=w[115];let eP=p,eM=(0,I.usePortal)();w[116]!==eM.element||w[117]!==ew||w[118]!==eh?(f={collapsed:eh,default:eM.element,editor:ew,expanded:eM.element},w[116]=eM.element,w[117]=ew,w[118]=eh,w[119]=f):f=w[119];let eF=f;w[120]!==eu||w[121]!==U||w[122]!==eg?(h={focusPath:eu,boundaryElement:eg,onItemClose:U},w[120]=eu,w[121]=U,w[122]=eg,w[123]=h):h=w[123],function(e){let t,n,r=(0,j.c)(15),{focusPath:i,boundaryElement:a,onItemClose:o}=e,l=Lz(),s=$a(),c=pk(),u=hK();r[0]!==a||r[1]!==c||r[2]!==s||r[3]!==i||r[4]!==l||r[5]!==u?(t=()=>{if(0===i.length||(null==u?void 0:u.focus.path)&&(0,S.isEqual)(u.focus.path,i.slice(0,u.focus.path.length)))return;let e=l.find(ZG),t=l.find(ZK),n=e||t,r=n?s[n.member.key]:void 0;if(n&&r){a&&(aR(a,{scrollMode:"if-needed",block:"start",inline:"start"}),aR(r,{scrollMode:"if-needed",boundary:a,block:"nearest",inline:"start"}));let e="textBlock"===n.kind,t=1===i.length;if(e||t){var o,d,p,f;let r=e&&(0,W.isKeyedObject)(i[2])?i[2]._key:void 0,a=r&&Array.isArray(null==(o=n.node.value)?void 0:o.children)?null==(d=n.node.value)?void 0:d.children.find(e=>e._key===r):void 0,l=a&&"span"===a._type&&4===i.length&&"children"===i[1]&&"text"===i[3]||!1,s=e&&(3===i.length&&"children"===i[1]||l),u=[];s?u=i.slice(0,3):e&&t&&Array.isArray(null==(p=n.node.value)?void 0:p.children)?u=[i[0],"children",{_key:null==(f=n.node.value)?void 0:f.children[0]._key}]:t&&(u=[{_key:n.key}]),u.length&&(hq.select(c,{anchor:{path:u,offset:0},focus:{path:u,offset:0}}),e&&hq.focus(c))}}},r[0]=a,r[1]=c,r[2]=s,r[3]=i,r[4]=l,r[5]=u,r[6]=t):t=r[6];let d=null==u?void 0:u.focus.path;r[7]!==a||r[8]!==c||r[9]!==s||r[10]!==i||r[11]!==o||r[12]!==l||r[13]!==d?(n=[a,c,s,i,o,l,d],r[7]=a,r[8]=c,r[9]=s,r[10]=i,r[11]=o,r[12]=l,r[13]=d,r[14]=n):n=r[14],(0,E.useLayoutEffect)(t,n)}(h);let eR=O||F,eB=eM.element,eN=!N,eL=!!O,ez=eR?"":void 0,eV=J?"":void 0,eU=L?"expanded":"collapsed";return w[124]!==eP||w[125]!==L?(m=L?(0,_.jsx)($i,{children:eP}):eP,w[124]=eP,w[125]=L,w[126]=m):m=w[126],w[127]!==O||w[128]!==U||w[129]!==eg?(g=(0,_.jsx)(Xi,{focused:O,onItemClose:U,referenceBoundary:eg}),w[127]=O,w[128]=U,w[129]=eg,w[130]=g):g=w[130],w[131]!==eU||w[132]!==m||w[133]!==g?(y=(0,_.jsx)(I.Box,{"data-wrapper":"",ref:em,children:(0,_.jsxs)(I.Portal,{__unstable_name:eU,children:[m,g]})}),w[131]=eU,w[132]=m,w[133]=g,w[134]=y):y=w[134],w[135]===Symbol.for("react.memo_cache_sentinel")?(v=(0,_.jsx)("div",{"data-border":""}),w[135]=v):v=w[135],w[136]!==ez||w[137]!==eV||w[138]!==y?(b=(0,_.jsxs)($r,{"data-focused":ez,"data-read-only":eV,children:[y,v]}),w[136]=ez,w[137]=eV,w[138]=y,w[139]=b):b=w[139],w[140]!==T||w[141]!==L||w[142]!==Z||w[143]!==eL||w[144]!==b?(x=(0,_.jsx)($j,{disabled:L,hasFocus:eL,isChanged:T,path:Z,children:b}),w[140]=T,w[141]=L,w[142]=Z,w[143]=eL,w[144]=b,w[145]=x):x=w[145],w[146]!==z||w[147]!==eN||w[148]!==x?(C=(0,_.jsx)($n,{onActivate:z,isOverlayActive:eN,children:x}),w[146]=z,w[147]=eN,w[148]=x,w[149]=C):C=w[149],w[150]!==eM.element||w[151]!==eF||w[152]!==C?(k=(0,_.jsx)(YK,{legacyEditing:!0,children:(0,_.jsx)(I.PortalProvider,{__unstable_elements:eF,element:eB,children:C})}),w[150]=eM.element,w[151]=eF,w[152]=C,w[153]=k):k=w[153],k}function Xl(e){let t,n=(0,j.c)(3);return n[0]!==e.children||n[1]!==e.markers?(t=(0,_.jsx)(D.PortableTextMarkersContext.Provider,{value:e.markers,children:e.children}),n[0]=e.children,n[1]=e.markers,n[2]=t):t=n[2],t}function Xs(e){let t,n=(0,j.c)(3);return n[0]!==e.children||n[1]!==e.memberItems?(t=(0,_.jsx)(D.PortableTextMemberItemsContext.Provider,{value:e.memberItems,children:e.children}),n[0]=e.children,n[1]=e.memberItems,n[2]=t):t=n[2],t}function Xc(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(42),{onChange:m,onIgnore:g,resolution:y,readOnly:v}=e,b=(0,tp.useTelemetry)(),{t:x}=IO();h[0]!==m||h[1]!==y||h[2]!==b?(t=()=>{y&&(m({type:"mutation",patches:y.patches}),b.log(G8,{PTEInvalidValueId:y.i18n.description,PTEInvalidValueDescription:y.description}))},h[0]=m,h[1]=y,h[2]=b,h[3]=t):t=h[3];let C=t;h[4]!==g||h[5]!==b?(n=()=>{b.log(G3),g()},h[4]=g,h[5]=b,h[6]=n):n=h[6];let k=n;return y?(h[7]!==x?(r=x("inputs.portable-text.invalid-value.title"),h[7]=x,h[8]=r):r=h[8],h[9]!==r?(i=(0,_.jsx)(_.Fragment,{children:r}),h[9]=r,h[10]=i):i=h[10],h[11]!==C||h[12]!==k||h[13]!==v||h[14]!==y.action||h[15]!==y.i18n.action||h[16]!==y.i18n.values||h[17]!==x?(a=y.action&&(0,_.jsxs)(I.Grid,{columns:[1,2],gap:1,children:[(0,_.jsx)(I.Button,{mode:"ghost",onClick:k,text:x("inputs.portable-text.invalid-value.ignore-button.text")}),!v&&(0,_.jsx)(I.Button,{onClick:C,text:(0,_.jsx)(IZ,{t:x,i18nKey:y.i18n.action,values:y.i18n.values}),tone:"caution"})]}),h[11]=C,h[12]=k,h[13]=v,h[14]=y.action,h[15]=y.i18n.action,h[16]=y.i18n.values,h[17]=x,h[18]=a):a=h[18],h[19]!==y.action||h[20]!==x?(o=y.action&&(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:x("inputs.portable-text.invalid-value.action-disclaimer")}),h[19]=y.action,h[20]=x,h[21]=o):o=h[21],h[22]!==o?(l=(0,_.jsx)(I.Box,{padding:3,children:o}),h[22]=o,h[23]=l):l=h[23],h[24]!==a||h[25]!==l?(s=(0,_.jsxs)(I.Stack,{padding:2,children:[a,l]}),h[24]=a,h[25]=l,h[26]=s):s=h[26],h[27]!==y.i18n.description||h[28]!==y.i18n.values||h[29]!==x?(c=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:x,i18nKey:y.i18n.description,values:y.i18n.values})}),h[27]=y.i18n.description,h[28]=y.i18n.values,h[29]=x,h[30]=c):c=h[30],h[31]!==y.item?(u=JSON.stringify(y.item,null,2),h[31]=y.item,h[32]=u):u=h[32],h[33]!==u?(d=(0,_.jsx)(I.Card,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:(0,_.jsx)(I.Code,{language:"json",children:u})}),h[33]=u,h[34]=d):d=h[34],h[35]!==d||h[36]!==c?(p=(0,_.jsxs)(I.Stack,{space:3,children:[c,d]}),h[35]=d,h[36]=c,h[37]=p):p=h[37],h[38]!==p||h[39]!==i||h[40]!==s?(f=(0,_.jsx)(zz,{title:i,suffix:s,children:p}),h[38]=p,h[39]=i,h[40]=s,h[41]=f):f=h[41],f):null}function Xu(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.input}function Xd(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.field}function Xp(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.preview}function Xf(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.item}function Xh(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.block}function Xm(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.inlineBlock}function Xg(e){var t,n;return null==(n=e.form)||null==(t=n.components)?void 0:t.annotation}function Xy(e){var t,n,r;return null==(r=e.form)||null==(n=r.components)||null==(t=n.portableText)?void 0:t.plugins}let Xv={boldDecorator:e=>{var t;let{schema:n}=e;return null==(t=n.decorators.find(e=>"strong"===e.name))?void 0:t.name},codeDecorator:e=>{var t;let{schema:n}=e;return null==(t=n.decorators.find(e=>"code"===e.name))?void 0:t.name},italicDecorator:e=>{var t;let{schema:n}=e;return null==(t=n.decorators.find(e=>"em"===e.name))?void 0:t.name},strikeThroughDecorator:e=>{var t;let{schema:n}=e;return null==(t=n.decorators.find(e=>"strike-through"===e.name))?void 0:t.name},defaultStyle:e=>{var t;let{schema:n}=e;return null==(t=n.styles.find(e=>"normal"===e.name))?void 0:t.name},blockquoteStyle:e=>{var t;let{schema:n}=e;return null==(t=n.styles.find(e=>"blockquote"===e.name))?void 0:t.name},headingStyle:e=>{var t;let{schema:n,level:r}=e;return null==(t=n.styles.find(e=>e.name==="h".concat(r)))?void 0:t.name},orderedListStyle:e=>{var t;let{schema:n}=e;return null==(t=n.lists.find(e=>"number"===e.name))?void 0:t.name},unorderedListStyle:e=>{var t;let{schema:n}=e;return null==(t=n.lists.find(e=>"bullet"===e.name))?void 0:t.name}},Xb=e=>{var t,n,r;let i,a,o,l,s=(0,j.c)(8),c=!!(null==(t=pk().schemaTypes.block.options)?void 0:t.oneLine);s[0]===Symbol.for("react.memo_cache_sentinel")?(i={plugins:{markdown:{config:Xv}},renderDefault:XC},s[0]=i):i=s[0];let u=i,d=null==(r=e.schemaType.components)||null==(n=r.portableText)?void 0:n.plugins;return s[1]!==c?(a=c&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h0,{}),(0,_.jsx)(h$,{behaviors:[{on:"insert.soft break",actions:[]}]})]}),s[1]=c,s[2]=a):a=s[2],s[3]!==d?(o=d?(0,_.jsx)(d,{...u}):(0,_.jsx)(XC,{...u}),s[3]=d,s[4]=o):o=s[4],s[5]!==a||s[6]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[a,o]}),s[5]=a,s[6]=o,s[7]=l):l=s[7],l},Xx=e=>{let t,n=(0,j.c)(2);return n[0]!==e.plugins.markdown.config?(t=(0,_.jsx)(h1,{config:e.plugins.markdown.config}),n[0]=e.plugins.markdown.config,n[1]=t):t=n[1],t},XC=e=>{let t,n,r=(0,j.c)(4);r[0]===Symbol.for("react.memo_cache_sentinel")?(t={defaultComponent:Xx,pick:Xy},r[0]=t):t=r[0];let i=Aa(t);return r[1]!==i||r[2]!==e?(n=(0,_.jsx)(i,{...e}),r[1]=i,r[2]=e,r[3]=n):n=r[3],n},Xk={animate:{opacity:1,scaleX:1,scaleY:1},exit:{opacity:0,scaleX:0,scaleY:.5},initial:{opacity:0,scaleX:0,scaleY:.5}},Xw={duration:.3,ease:"easeInOut",type:"spring",bounce:0},X_={animate:{opacity:1},exit:{opacity:0},initial:{opacity:0}},Xj={duration:.2,delay:.15},XS=F.styled.span(e=>{var t;let{theme:n,$tints:r}=e,i=null==(t=(0,ne.getTheme_v2)(n))?void 0:t.color._dark,a=r[i?400:500].hex,o=r[i?900:50].hex;return(0,F.css)(_i(),a,o)}),XE=F.styled.div(_a(),6,6,5,3,12,18),XT=(0,F.styled)(na.motion.create(I.Box))(e=>{var t;let{theme:n}=e,r=null==(t=(0,ne.getTheme_v2)(n))?void 0:t.radius[4];return(0,F.css)(_o(),9,4.5,r)}),XD=(0,F.styled)(na.motion.create(I.Text))(_l());function XI(e){var t;let n,r,i,a,o,l,s,c=(0,j.c)(15),{children:u,user:d}=e,{tints:p}=Ab(d.id),[f,h]=(0,E.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>h(!0),c[0]=n):n=c[0];let m=n;c[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>h(!1),c[1]=r):r=c[1];let g=r,y="presence-cursor-".concat(null==(t=d.displayName)?void 0:t.split(" ").join("-"));return c[2]!==f||c[3]!==d.displayName?(i=f&&(0,_.jsx)(XT,{animate:"animate",exit:"exit",flex:1,initial:"initial",transition:Xw,variants:Xk,children:(0,_.jsx)(XD,{animate:"animate",exit:"exit",initial:"initial",size:0,transition:Xj,variants:X_,weight:"medium",children:d.displayName})}),c[2]=f,c[3]=d.displayName,c[4]=i):i=c[4],c[5]!==i?(a=(0,_.jsx)(no.AnimatePresence,{children:i}),c[5]=i,c[6]=a):a=c[6],c[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsx)(XE,{}),c[7]=o):o=c[7],c[8]!==a||c[9]!==y||c[10]!==p?(l=(0,_.jsxs)(XS,{$tints:p,contentEditable:!1,"data-testid":y,onMouseEnter:m,onMouseLeave:g,children:[a,o]}),c[8]=a,c[9]=y,c[10]=p,c[11]=l):l=c[11],c[12]!==u||c[13]!==l?(s=(0,_.jsxs)(_.Fragment,{children:[l,u]}),c[12]=u,c[13]=l,c[14]=s):s=c[14],s}function XA(e){return{...e.selection,sessionId:e.sessionId}}function XO(e){return{...e.selection,sessionId:e.sessionId}}function XP(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!function(e,t){let n=typeof e;return n===typeof t&&("object"===n?(0,nP.default)(e,t):e===t)}(t[n],e[n]))return!1;return!0}function XM(){return(0,nw.randomKey)(12)}let XF=(0,E.forwardRef)((e,t)=>{let n,r,i=(0,j.c)(2),a=pk(),o=(0,E.useRef)(a);return i[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>o.current,r=[],i[0]=n,i[1]=r):(n=i[0],r=i[1]),(0,E.useImperativeHandle)(t,n,r),null});function XR(e){let{editorRef:t,elementProps:n,hotkeys:r,initialActive:i,initialFullscreen:a,markers:o=Ie,onChange:l,onCopy:s,onEditorChange:c,onFullScreenChange:u,onInsert:d,onItemRemove:p,onPaste:f,onPathFocus:h,path:m,readOnly:g,rangeDecorations:y,renderBlockActions:v,renderCustomMarkers:b,schemaType:x,value:C,resolveUploader:k,onUpload:w}=e,{onBlur:T,ref:D}=n,O=(0,E.useRef)(null),P=t||O,M=function(e){let t,n,r,i,a,o,l,s=(0,j.c)(10),{path:c}=e,u=LC();s[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],s[0]=t):t=s[0];let[d,p]=(0,E.useState)(t);s[1]===Symbol.for("react.memo_cache_sentinel")?(n=[],s[1]=n):n=s[1];let[f,h]=(0,E.useState)(n),m=(0,E.useRef)(d);s[2]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{let{rangeDecoration:t,newSelection:n}=e;h(e=>e.map(e=>{var r,i;return(null==(r=e.payload)?void 0:r.sessionId)===(null==(i=t.payload)?void 0:i.sessionId)?{...t,selection:n}:e}))},s[2]=r):r=s[2];let g=r;return s[3]!==u||s[4]!==c?(i=()=>{let e=u.filter(e=>(0,S.startsWith)(c,e.path)&&!(0,e4.default)(c,e.path)),t=e.map(XO),n=m.current.map(XA);if(!(0,e4.default)(t,n)){let t=e.length>0?e:Ie;p(t),m.current=t}},a=[u,c],s[3]=u,s[4]=c,s[5]=i,s[6]=a):(i=s[5],a=s[6]),(0,E.useEffect)(i,a),s[7]!==d?(o=()=>{h(d.map(e=>e.selection?{component:t=>{let{children:n}=t;return(0,_.jsx)(XI,{user:e.user,children:n})},selection:{focus:e.selection.focus,anchor:e.selection.focus},onMoved:g,payload:{sessionId:e.sessionId}}:null).filter(Boolean))},l=[d,g],s[7]=d,s[8]=o,s[9]=l):(o=s[8],l=s[9]),(0,E.useEffect)(o,l),f}((0,E.useMemo)(()=>({path:e.path}),[e.path])),{t:F}=IO(),[R,B]=(0,E.useState)(!1),[N,L]=(0,E.useState)(null),[z,V]=(0,E.useState)(null!=a&&a),[U,H]=(0,E.useState)(null==i||i),[q,Y]=(0,E.useState)(!1),[K,G]=(0,E.useState)(!1),$=(0,tp.useTelemetry)(),Z=(0,A.useToast)(),X=(0,E.useCallback)(()=>{V(e=>{let t=!e;return t?$.log(G5):$.log(G7),null==u||u(t),t})},[u,$]);(0,E.useEffect)(()=>{N&&C!==N.value&&L(null)},[N,C]);let J=function(e){let{members:t,path:n,schemaType:r,renderAnnotation:i,renderField:a,renderBlock:o,renderInput:l,renderItem:s,renderInlineBlock:c,renderPreview:u,onPathFocus:d}=e,p=(0,E.useRef)([]);return(0,E.useMemo)(()=>{let e=[];for(let n of t)if("item"===n.kind)if(Ao(n.item.schemaType)){var f;(n.item.validation.length>0||n.item.changed||(null==(f=n.item.presence)?void 0:f.length)||n.open||n.item.focusPath.length||n.item.focused)&&e.push({kind:"textBlock",member:n,node:n.item});let t=n.item.members.find(e=>"field"===e.kind&&"children"===e.name);if(t&&"field"===t.kind&&LP(t))for(let n of t.field.members)"item"===n.kind&&"span"!==n.item.schemaType.name&&e.push({kind:"inlineObject",member:n,node:n.item});let r=n.item.members.filter(Al).find(e=>"markDefs"===e.name);if(r)for(let t of r.field.members)"item"===t.kind&&"object"===t.item.schemaType.jsonType&&e.push({kind:"annotation",member:t,node:t.item})}else e.push({kind:"objectBlock",member:n,node:n.item});let h=e.map(e=>{let f=Au(e.node.path),h=p.current.find(e=>e.key===f),m="textBlock"!==e.kind,g=null;if(m&&e.member!==(null==h?void 0:h.member)||e.node!==(null==h?void 0:h.node)){let p=t=>{let r=e.member.item.path.concat(t);0!==t.length&&d(r.slice(n.length,r.length))},f={absolutePath:(0,S.pathFor)(e.node.path),includeField:!1,members:t,path:(0,S.pathFor)(n),renderAnnotation:i,renderBlock:o,renderField:a,renderInlineBlock:c,renderInput:t=>(0,S.isEqual)(t.path,e.member.item.path)?l({...t,onChange:n=>{if("unset"===n.type&&0===n.path.length)return void t.onChange(LB({_type:e.member.item.schemaType.name,_key:e.member.key},n.path));t.onChange(n)},onPathFocus:p,elementProps:{...t.elementProps,onFocus:()=>{}}}):l(t),renderItem:s,renderPreview:u,schemaType:r};g=(0,_.jsx)(YA,{...f})}return h?(h.member=e.member,h.node=e.node,h.input=g||h.input,h):{kind:e.kind,key:f,member:e.member,node:e.node,input:g}});return p.current=h,h},[t,d,n,i,o,a,c,l,s,u,r])}(e);(0,E.useEffect)(()=>{q&&H(!0)},[q]);let Q=(0,E.useCallback)(e=>{let t=null==e?void 0:e.focus.path;if(!t)return;let n=3===t.length&&"children"===t[1]&&(0,W.isKeySegment)(t[2])&&!J.some(e=>(0,W.isKeySegment)(t[2])&&e.member.key===t[2]._key)?t.concat(["text"]):t;(0,E.startTransition)(()=>{h(n,{selection:e})})},[h,J]),ee=(0,E.useCallback)(e=>{switch(e.type){case"mutation":l(e.patches.map(e=>({...e,patchType:LM})));break;case"selection":Q(e.selection);break;case"focus":H(!0),Y(!0);break;case"blur":T(e.event),Y(!1);break;case"invalidValue":L(e);break;case"error":Z.push({status:e.level,description:e.description});break;case"ready":G(!0)}P.current&&c&&c(e,P.current)},[P,c,l,Q,T,Z]);(0,E.useEffect)(()=>{B(!1)},[C]);let et=(0,E.useCallback)(()=>{B(!0)},[]),en=(0,E.useMemo)(()=>N&&N.resolution?(0,_.jsx)(I.Box,{marginBottom:2,children:(0,_.jsx)(Xc,{onChange:ee,onIgnore:et,resolution:N.resolution,readOnly:g})}):null,[ee,et,N,g]),er=(0,E.useCallback)(()=>{U||(H(!0),P.current&&hq.focus(P.current))},[P,U]),ei=(0,E.useRef)([]),ea=(0,E.useMemo)(()=>{let e=[...y||[],...M],t=Lb(ei.current,e);return ei.current=t,t},[M,y]),eo=(0,E.useCallback)((e,t)=>{let{type:n,uploader:r}=t;null==w||w({file:e,schemaType:n,uploader:r})},[w]),el=(0,E.useCallback)(e=>{if(!k)return;let t=e.map(e=>{var t;return{file:e,uploaderCandidates:(t=x.of,t.map(t=>({type:t,uploader:k(t,e),parentType:t})).filter(e=>e.uploader))}}),n=t.filter(e=>e.uploaderCandidates.length>0),r=t.filter(e=>0===e.uploaderCandidates.length);r.length>0&&Z.push({closable:!0,status:"warning",title:F("inputs.array.error.cannot-upload-unable-to-convert",{count:r.length}),description:r.map((e,t)=>(0,_.jsxs)(I.Flex,{gap:2,padding:2,children:[(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{weight:"medium",children:e.file.name})}),(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:["(",e.file.type,")"]})})]},t))}),n.forEach(e=>{eo(e.file,(0,nl.default)(e.uploaderCandidates,e=>e.uploader.priority)[0])})},[Z,k,x,eo,F]),es=(0,E.useCallback)(e=>{let{event:t}=e,n="paste"===t.type?"paste":"drop",r=!!t.clipboardData.getData("text/html"),i=!!t.clipboardData.getData("text/plain");return"paste"===n&&r&&i||qh(t.clipboardData).then(e=>e.length>0?e:[]).then(e=>{el(e)}),null==f?void 0:f(e)},[el,f]);return(0,_.jsxs)(I.Box,{children:[!R&&en,(!N||R)&&(0,_.jsx)(Xl,{markers:o,children:(0,_.jsx)(Xs,{memberItems:J,children:(0,_.jsxs)(hY,{initialConfig:{initialValue:C,readOnly:g||!K,keyGenerator:XM,schema:x},children:[(0,_.jsx)(XB,{onChange:ee}),(0,_.jsx)(XF,{ref:P}),(0,_.jsx)(XN,{path:m}),(0,_.jsx)(Xz,{readOnly:g||!K}),(0,_.jsx)(XL,{value:C}),(0,_.jsx)(Xb,{schemaType:x}),(0,_.jsx)(Xo,{...e,elementRef:D,hasFocusWithin:q,hotkeys:r,isActive:U,isFullscreen:z,onActivate:er,onItemRemove:p,onCopy:s,onInsert:d,onPaste:es,onToggleFullscreen:X,rangeDecorations:ea,readOnly:g||!K,renderBlockActions:v,renderCustomMarkers:b})]})})})]})}function XB(e){let t,n,r=(0,j.c)(4);r[0]!==e?(t=t=>{switch(t.type){case"blurred":e.onChange({type:"blur",event:t.event});break;case"error":e.onChange({type:"error",name:t.name,level:"warning",description:t.description});break;case"focused":e.onChange({type:"focus",event:t.event});break;case"loading":e.onChange({type:"loading",isLoading:!0});break;case"done loading":e.onChange({type:"loading",isLoading:!1});break;case"invalid value":e.onChange({type:"invalidValue",resolution:t.resolution,value:t.value});break;case"mutation":case"patch":case"ready":case"selection":e.onChange(t);break;case"value changed":e.onChange({type:"value",value:t.value})}},r[0]=e,r[1]=t):t=r[1];let i=t;return r[2]!==i?(n=(0,_.jsx)(hQ,{on:i}),r[2]=i,r[3]=n):n=r[3],n}function XN(e){let t,n,r,i=(0,j.c)(6),a=(0,nB.useEditor)();i[0]!==e.path?(t={path:e.path},i[0]=e.path,i[1]=t):t=i[1];let{subscribe:o}=function(e){let t,n,r=(0,j.c)(5),{path:i}=e,{patchChannel:a}=Lw().__internal;r[0]!==a||r[1]!==i?(t=e=>a.subscribe(t=>{var n,r;let{snapshot:a,patches:o}=t,l=o.filter(e=>XP(e.path,i)).map(e=>({...e,path:e.path.slice(i.length)}));l.length&&e({shouldReset:(n=i,o.some(e=>{var t;return t=e.path,(0===t.length||XP(n,t)&&!XP(t,n))&&("set"===e.type||"unset"===e.type)})),snapshot:Io(a)?(r=a,i.reduce((e,t)=>"object"==typeof t?(0,b4.default)(e,t):(0,n_.default)(e,t),r)):{},patches:l})}),r[0]=a,r[1]=i,r[2]=t):t=r[2];let o=t;return r[3]!==o?(n={subscribe:o},r[3]=o,r[4]=n):n=r[4],n}(t);return i[2]!==a||i[3]!==o?(n=()=>{let e=o(e=>{let{patches:t,snapshot:n}=e;a.send({type:"patches",patches:t,snapshot:n})});return()=>e()},r=[a,o],i[2]=a,i[3]=o,i[4]=n,i[5]=r):(n=i[4],r=i[5]),(0,E.useEffect)(n,r),null}function XL(e){let t,n,r=(0,j.c)(4),i=(0,nB.useEditor)();return r[0]!==i||r[1]!==e.value?(t=()=>{i.send({type:"update value",value:e.value})},n=[i,e.value],r[0]=i,r[1]=e.value,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),null}function Xz(e){let t,n,r=(0,j.c)(4),i=(0,nB.useEditor)();return r[0]!==i||r[1]!==e.readOnly?(t=()=>{i.send({type:"update readOnly",readOnly:e.readOnly})},n=[i,e.readOnly],r[0]=i,r[1]=e.readOnly,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),null}XF.displayName="EditorRefPlugin";let XV=F.styled.span(_s(),e=>{var t,n,r,i;let{theme:a,$tone:o}=e;if(typeof o>"u")return;let{color:l}=(0,ne.getTheme_v2)(a);return{backgroundColor:null==(n=l.button.bleed[o])||null==(t=n.pressed)?void 0:t.bg,color:null==(i=l.button.bleed[o])||null==(r=i.pressed)?void 0:r.fg}}),XU=e=>{let t,n=(0,j.c)(2),{segment:r}=e;return n[0]!==r.text?(t=(0,_.jsx)(XV,{as:"del","data-text":r.text,contentEditable:!1,"aria-hidden":!0,inert:!0,$tone:"critical"}),n[0]=r.text,n[1]=t):t=n[1],t},XH=e=>{let t,n,r=(0,j.c)(5),{children:i,segment:a}=e;return r[0]!==a?(t=function(e){if("unchanged"!==e.action&&"u">typeof e.annotation.provenance.bundle)return RD(e.annotation.provenance.bundle)}(a),r[0]=a,r[1]=t):t=r[1],r[2]!==i||r[3]!==t?(n=(0,_.jsx)(XV,{as:"ins",$tone:t,children:i}),r[2]=i,r[3]=t,r[4]=n):n=r[4],n};function Xq(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(".")}function XW(e,t){return{anchor:{path:X$,offset:e},focus:{path:X$,offset:t}}}function XY(e){return[{_type:"block",_key:"root",children:[{_type:"span",_key:"root",text:null!=e?e:""}]}]}let XK=(0,F.css)(_c());function XG(e){let{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:i,$space:a}=e,{font:o,media:l,space:s}=(0,ne.getTheme_v2)(e.theme),c=Math.max(i.length,a.length,t.length),u=[],d=[],p=[];for(let e=0;e<c;e+=1)p[e]=void 0===t[e]?p[e-1]:t[e],u[e]=void 0===i[e]?u[e-1]:i[e],d[e]=void 0===a[e]?d[e-1]:a[e];return(0,I._responsive)(l,u,(e,t)=>{let i=o.text.sizes[p[t]]||o.text.sizes[2],a=i.lineHeight-i.ascenderHeight-i.descenderHeight,l=s[u[t]],c=s[d[t]],f={paddingTop:(0,I.rem)(l-i.ascenderHeight),paddingRight:(0,I.rem)(l),paddingBottom:(0,I.rem)(l-i.descenderHeight),paddingLeft:(0,I.rem)(l)};return r&&(f.paddingRight=(0,I.rem)(l+a+c)),n&&(f.paddingLeft=(0,I.rem)(l+a+c)),f})}let X$=[{_key:"root"},"children",{_key:"root"}],XZ=F.styled.div(_f()),XX=(0,F.styled)(pF)(_h(),function(){return XK},function(e){let{$scheme:t,$tone:n,$weight:r}=e,{color:i,font:a}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(_u(),a.text.family,r&&a.text.weights[r]||a.text.weights.regular,t,n,i.input.default.enabled.fg,i.input.default.enabled.placeholder,i.input.default.enabled.fg,i.input.default.enabled.placeholder,i.input.default.disabled.fg,i.input.default.disabled.placeholder,i.input.invalid.enabled.fg,i.input.invalid.enabled.placeholder,i.input.default.readOnly.fg,i.input.default.readOnly.placeholder)},XG,function(e){let{font:t,media:n}=(0,ne.getTheme_v2)(e.theme);return(0,I._responsive)(n,e.$fontSize,e=>{let n=t.text.sizes[e]||t.text.sizes[2];return{fontSize:(0,I.rem)(n.fontSize),lineHeight:n.lineHeight/n.fontSize}})},function(){return(0,F.css)(_p())}),XJ=(0,F.styled)(I.Card)(function(e){let{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:i,$unstableDisableFocusRing:a}=e,{color:o,input:l}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(_d(),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,i,o.input.default.enabled.bg,o.input.default.enabled.fg,Dx({color:o.input.default.enabled.border,width:l.border.width}),o.input.invalid.enabled.bg,o.input.invalid.enabled.fg,Dx({color:o.input.invalid.enabled.border,width:l.border.width}),a?void 0:Dk({border:{color:o.input.default.enabled.border,width:l.border.width},focusRing:l.text.focusRing}),a?void 0:Dk({focusRing:l.text.focusRing}),o.input.default.disabled.bg,o.input.default.disabled.fg,o.input.default.disabled.fg,Dx({color:o.input.default.disabled.border,width:l.border.width}),o.input.invalid.disabled.bg,o.input.invalid.disabled.fg,o.input.invalid.disabled.fg,Dx({color:o.input.invalid.disabled.border,width:l.border.width}),o.input.default.readOnly.bg,o.input.default.readOnly.fg,o.input.invalid.readOnly.bg,o.input.invalid.readOnly.fg,o.input.default.hovered.bg,o.input.default.hovered.fg,o.input.invalid.hovered.bg,o.input.invalid.hovered.fg,Dx({color:o.input.default.hovered.border,width:l.border.width}),Dx({color:o.input.invalid.hovered.border,width:l.border.width}))}),XQ=F.styled.span(_m(),XG);function X1(e){var t,n;let{advancedVersionControl:r}=FU(),{elementProps:i,onChange:a,value:o,__unstable_computeDiff:l}=e,{onFocus:s,onBlur:c}=i,{diff:u,rangeDecorations:d,onOptimisticChange:p}=function(e){let{definitiveValue:t,computeDiff:n}=e,[r,i]=(0,E.useState)(t),[a,o]=(0,E.useState)("definitive"),l={optimistic:(0,E.useMemo)(()=>n(r),[n,r]),definitive:(0,E.useMemo)(()=>n(t),[n,t])}[a],s=(0,E.useCallback)(e=>{let[t]=u4(dd(e),null!=r?r:"");i(t),o("optimistic")},[r]);(0,E.useEffect)(()=>{o("definitive"),i(t)},[t]);let c=(0,E.useMemo)(()=>(function(e){var t;let{diff:n,mapPayload:r=e=>e}=e;if("string"!==n.type)return[];let i=null!=(t=null==n?void 0:n.segments)?t:[],{rangeDecorations:a}=i.reduce((e,t,n)=>{var a,o,l,s;let c=i.at(n-1),u=e.rangeDecorations.at(-1);return"added"===t.action&&(null==u||null==(a=u.payload)?void 0:a.action)==="removed"&&"u">typeof c&&(null==u||null==(l=u.selection)||null==(o=l.anchor)?void 0:o.offset)===e.position?(e.rangeDecorations.splice(e.rangeDecorations.length-1,1,{selection:XW(e.position,e.position+t.text.length),component:e=>{let{children:n}=e;return(0,_.jsxs)("span",{children:[(0,_.jsx)(u.component,{}),(0,_.jsx)(XH,{segment:t,children:n})]})},payload:r({id:Xq(null==u||null==(s=u.payload)?void 0:s.action,c.text,"added",t.text),action:"merged"})}),e.position+=t.text.length):"added"===t.action?(e.rangeDecorations.push({selection:XW(e.position,e.position+t.text.length),component:e=>(0,_.jsx)(XH,{segment:t,...e}),payload:r({id:Xq("added",t.text),action:t.action})}),e.position+=t.text.length):"removed"===t.action?e.rangeDecorations.push({selection:XW(e.position,e.position),component:()=>(0,_.jsx)(XU,{segment:t}),payload:r({id:Xq("removed",t.text),action:t.action})}):"unchanged"===t.action&&(e.position+=t.text.length),e},{position:0,rangeDecorations:[]});return a})({diff:l,mapPayload:e=>({...e,currentSignal:a})}),[l,a]);return{diff:l,rangeDecorations:c,onOptimisticChange:s}}({definitiveValue:o,computeDiff:l}),f=(0,E.useCallback)(e=>{if("focused"===e.type)return void s(e.event);if("blurred"===e.type)return void c(e.event);if("patch"===e.type&&"diffMatchPatch"===e.patch.type&&"local"===e.patch.origin)return void p(e.patch.value);if("mutation"===e.type){let t=function(){var e,t,n,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null!=(r=null==(n=i.filter(e=>(0,nF.isPortableTextBlock)(e)).find(e=>{let{_key:t}=e;return"root"===t}))||null==(t=n.children)||null==(e=t.find(e=>{let{_key:t}=e;return"root"===t}))?void 0:e.text)?r:""}(e.value),n=typeof o>"u"&&""===t,r="u">typeof o&&""===t;if(!(t!==o&&!n))return;if(r)return void a(LN());a(LB(t))}},[s,c,p,o,a]),h=(0,E.useRef)({initialValue:XY(e.value),readOnly:null!=(t=e.readOnly)&&t,schema:{name:"pteTransformer",type:"array",of:[{type:"block"}]}}),m=(0,I.useRootTheme)(),g=(0,A.useArrayProp)(2),y=(0,A.useArrayProp)(3),v=(0,A.useArrayProp)(2),b=(0,A.useArrayProp)(3),x="string"===u.type?u.segments:void 0,C=(0,E.useCallback)(()=>u.fromValue&&""===u.toValue&&x?(0,_.jsx)(XQ,{$fontSize:g,$space:b,$padding:y,children:(0,_.jsx)(XU,{segment:x[0]})}):null,[u.fromValue,u.toValue,x,g,b,y]);return(0,_.jsxs)(XZ,{children:[(0,_.jsxs)(hY,{initialConfig:h.current,children:[(0,_.jsx)(h0,{}),(0,_.jsx)(hQ,{on:f}),(0,_.jsx)(X2,{value:e.value}),(0,_.jsx)(Xz,{readOnly:null!=(n=e.readOnly)&&n}),(0,_.jsx)(XX,{className:e.validationError?"invalid":void 0,renderPlaceholder:r.enabled?C:void 0,rangeDecorations:r.enabled?d:void 0,$fontSize:g,$space:b,$padding:y,$scheme:m.scheme,$tone:m.tone,"data-scheme":m.scheme,"data-tone":m.tone,"data-testid":"string-input-portable-text"})]}),(0,_.jsx)(XJ,{radius:v,$scheme:m.scheme,$tone:m.tone,"data-scheme":m.scheme,"data-tone":m.tone,"data-border":!0})]})}function X2(e){let t,n,r=(0,j.c)(4),i=(0,nB.useEditor)();return r[0]!==i||r[1]!==e.value?(t=()=>{i.send({type:"update value",value:XY(e.value)})},n=[i,e.value],r[0]=i,r[1]=e.value,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),null}function X0(e){let t,n=(0,j.c)(4),{advancedVersionControl:r}=FU();if(null==r?void 0:r.enabled){let t;return n[0]!==e?(t=(0,_.jsx)(X1,{...e}),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==e?(t=(0,_.jsx)(G0,{...e}),n[2]=e,n[3]=t):t=n[3],t}let X5=(0,F.styled)(I.TextArea)(_g());function X7(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(29),{value:f,onClearValue:h}=e,m=!!(null==f?void 0:f._ref),{t:g}=IO();p[0]===Symbol.for("react.memo_cache_sentinel")?(t={DocumentationLink:X3},p[0]=t):t=p[0],p[1]!==g?(n=(0,_.jsx)(IZ,{t:g,i18nKey:"inputs.reference.cross-dataset.feature-disabled-description",components:t}),p[1]=g,p[2]=n):n=p[2];let y=n,v=m?4:void 0;return p[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),p[3]=r):r=p[3],p[4]!==g?(i=g("inputs.reference.cross-dataset.feature-unavailable-title"),p[4]=g,p[5]=i):i=p[5],p[6]!==i?(a=(0,_.jsx)(I.Text,{as:"h2",size:1,weight:"medium",children:i}),p[6]=i,p[7]=a):a=p[7],p[8]!==y||p[9]!==m||p[10]!==g?(o=m&&(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Text,{as:"p",size:1,children:y}),(0,_.jsx)(I.Text,{as:"p",size:1,children:g("inputs.reference.cross-dataset.feature-disabled-actions")})]}),p[8]=y,p[9]=m,p[10]=g,p[11]=o):o=p[11],p[12]!==y||p[13]!==m?(l=!m&&(0,_.jsx)(I.Text,{as:"p",size:1,children:y}),p[12]=y,p[13]=m,p[14]=l):l=p[14],p[15]!==a||p[16]!==o||p[17]!==l?(s=(0,_.jsxs)(I.Stack,{space:3,children:[a,o,l]}),p[15]=a,p[16]=o,p[17]=l,p[18]=s):s=p[18],p[19]!==v||p[20]!==s?(c=(0,_.jsxs)(I.Flex,{gap:4,marginBottom:v,children:[r,s]}),p[19]=v,p[20]=s,p[21]=c):c=p[21],p[22]!==m||p[23]!==h||p[24]!==g?(u=h&&m&&(0,_.jsx)(B.Button,{icon:R.ResetIcon,mode:"ghost",onClick:h,text:g("inputs.reference.action.clear"),width:"fill"}),p[22]=m,p[23]=h,p[24]=g,p[25]=u):u=p[25],p[26]!==c||p[27]!==u?(d=(0,_.jsxs)(I.Card,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c,u]}),p[26]=c,p[27]=u,p[28]=d):d=p[28],d}function X3(e){let{children:t}=e;return(0,_.jsx)("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:t})}let X8=(0,F.styled)(I.Flex)(_y());function X4(e){var t,n,r,i,a,o,l;let s,c,u,d,p,f,h,m=(0,j.c)(37),{refType:g,showStudioUrlIcon:y,hasStudioUrl:v,showTypeLabel:b,availability:x,preview:C,id:k,dataset:w,projectId:S}=e,T=(null==x?void 0:x.reason)==="NOT_FOUND",D=(null==x?void 0:x.reason)==="PERMISSION_DENIED",A=null==(t=C.published)?void 0:t.media,{t:O}=IO();e:{let e;if(A){let e,t,n="u">typeof(null==A?void 0:A.asset)&&(0,tg.isImageSource)(A);m[0]!==A?(e=(0,E.isValidElement)(A),m[0]=A,m[1]=e):e=m[1];let r=e;if(!n&&!r){s=null;break e}m[2]!==w||m[3]!==r||m[4]!==A||m[5]!==S||m[6]!==O?(t=function(e){let{dimensions:t}=e;return r?A:(0,_.jsx)("img",{src:(0,ty.default)({dataset:w,projectId:S}).image(A).withOptions(t).url(),alt:O("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"})},m[2]=w,m[3]=r,m[4]=A,m[5]=S,m[6]=O,m[7]=t):t=m[7],s=t;break e}if(!(null==g?void 0:g.icon)){s=null;break e}let t=g.icon;m[8]!==t?(e=(0,_.jsx)(t,{}),m[8]=t,m[9]=e):e=m[9],s=e}let P=s;return m[10]!==(null==x?void 0:x.available)||m[11]!==P||m[12]!==(null==(n=C.published)?void 0:n.subtitle)||m[13]!==(null==(r=C.published)?void 0:r.title)||m[14]!==O?(c=(null==x?void 0:x.available)?(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(eTH,{title:null==(i=C.published)?void 0:i.title,subtitle:null==(a=C.published)?void 0:a.subtitle,media:P||!1})}):(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(I.Box,{flex:1,paddingY:2,children:(0,_.jsx)(I.Text,{muted:!0,children:O("inputs.reference.error.document-unavailable-title")})})})}),m[10]=null==x?void 0:x.available,m[11]=P,m[12]=null==(o=C.published)?void 0:o.subtitle,m[13]=null==(l=C.published)?void 0:l.title,m[14]=O,m[15]=c):c=m[15],m[16]!==g||m[17]!==b?(u=g&&b&&(0,_.jsx)(I.Badge,{mode:"outline",children:g.title||g.type}),m[16]=g,m[17]=b,m[18]=u):u=m[18],m[19]!==k||m[20]!==D||m[21]!==T||m[22]!==O?(d=(D||T)&&(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.Tooltip,{portal:!0,content:O(T?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:k}),children:(0,_.jsx)(eiD,{tone:"default",children:D?(0,_.jsx)(R.AccessDeniedIcon,{}):(0,_.jsx)(R.HelpCircleIcon,{})})})}),m[19]=k,m[20]=D,m[21]=T,m[22]=O,m[23]=d):d=m[23],m[24]!==v||m[25]!==D||m[26]!==T||m[27]!==y||m[28]!==O?(p=!(T||D)&&y&&(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.Tooltip,{portal:!0,content:O(v?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:(0,_.jsx)(eiD,{size:1,tone:"default",muted:!v,children:(0,_.jsx)(R.LaunchIcon,{})})})}),m[24]=v,m[25]=D,m[26]=T,m[27]=y,m[28]=O,m[29]=p):p=m[29],m[30]!==u||m[31]!==d||m[32]!==p?(f=(0,_.jsx)(I.Box,{paddingLeft:3,children:(0,_.jsxs)(I.Inline,{space:4,children:[u,d,p]})}),m[30]=u,m[31]=d,m[32]=p,m[33]=f):f=m[33],m[34]!==c||m[35]!==f?(h=(0,_.jsxs)(X8,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c,f]}),m[34]=c,m[35]=f,m[36]=h):h=m[36],h}let X6=()=>{},X9={isLoading:!0,result:void 0,error:void 0,retry:X6},Je={isLoading:!1,result:void 0,error:void 0,retry:X6};function Jt(e,t){let[n,r]=(0,E.useState)(0),i=(0,E.useCallback)(()=>{r(e=>e+1)},[]),a=(0,E.useMemo)(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),o=(0,E.useMemo)(()=>a._id?t(a).pipe((0,Z.map)(e=>({isLoading:!1,result:e,error:void 0,retry:i,retryAttempt:n})),(0,eI.startWith)(X9),(0,J.catchError)(e=>(console.error(e),(0,Y.of)({isLoading:!1,result:void 0,error:e,retry:i,retryAttempt:n})))):(0,Y.of)(Je),[a,t,i,n]);return(0,te.useObservable)(o,X9)}function Jn(){let e,t=(0,j.c)(2),n=eTt(AE);return t[0]!==n?(e=n.config(),t[0]=n,t[1]=e):e=t[1],e.projectId}function Jr(e){var t;let n,r,i=(0,j.c)(29),{isLoading:a,result:o,error:l}=Jt(e.document,e.getReferenceInfo),{t:s}=IO(),c=Jn();if(a){let e,t;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{style:{maxWidth:320},radius:1,animated:!0}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsxs)(I.Stack,{space:2,padding:1,children:[e,(0,_.jsx)(A.TextSkeleton,{style:{maxWidth:200},radius:1,size:1,animated:!0})]}),i[1]=t):t=i[1],t}if(l){let e,t,n;return i[2]!==s?(e=s("inputs.reference.error.failed-to-load-document-title"),i[2]=s,i[3]=e):e=i[3],i[4]!==l.message?(t=(0,_.jsx)(I.Text,{muted:!0,size:1,children:l.message}),i[4]=l.message,i[5]=t):t=i[5],i[6]!==e||i[7]!==t?(n=(0,_.jsx)(I.Stack,{space:2,padding:1,children:(0,_.jsx)(zz,{title:e,children:t})}),i[6]=e,i[7]=t,i[8]=n):n=i[8],n}if(!o)return null;if((null==(t=o.availability)?void 0:t.reason)==="PERMISSION_DENIED"){let e,t;return i[9]!==s?(e=s("inputs.reference.error.missing-read-permissions-description"),i[9]=s,i[10]=e):e=i[10],i[11]!==e?(t=(0,_.jsx)(I.Stack,{space:2,padding:1,children:e}),i[11]=e,i[12]=t):t=i[12],t}if(i[13]!==e.referenceType.to||i[14]!==o.type){let t;i[16]!==o.type?(t=e=>e.type===o.type,i[16]=o.type,i[17]=t):t=i[17],n=e.referenceType.to.find(t),i[13]=e.referenceType.to,i[14]=o.type,i[15]=n}else n=i[15];let u=n;if(!u){let e,t;return i[18]!==o.type||i[19]!==s?(e=s("inputs.reference.error.invalid-search-result-type-title",{returnedType:o.type}),i[18]=o.type,i[19]=s,i[20]=e):e=i[20],i[21]!==e?(t=(0,_.jsx)(I.Stack,{space:2,padding:1,children:e}),i[21]=e,i[22]=t):t=i[22],t}return i[23]!==c||i[24]!==e.referenceType.dataset||i[25]!==e.referenceType.to.length||i[26]!==u||i[27]!==o?(r=o&&u&&(0,_.jsx)(X4,{id:o.id,availability:o.availability,preview:o.preview,refType:u,dataset:e.referenceType.dataset,projectId:c,showTypeLabel:e.referenceType.to.length>1}),i[23]=c,i[24]=e.referenceType.dataset,i[25]=e.referenceType.to.length,i[26]=u,i[27]=o,i[28]=r):r=i[28],r}function Ji(e){var t,n;let r,i,a=(0,j.c)(32),{value:o,type:l,showStudioUrlIcon:s,hasStudioUrl:c,referenceInfo:u}=e,{t:d}=IO(),p=Jn();if(u.isLoading||u.error){let e,t,n,r,i;a[0]===Symbol.for("react.memo_cache_sentinel")?(e={maxWidth:320},a[0]=e):e=a[0];let o=!u.error;a[1]!==o?(t=(0,_.jsx)(A.TextSkeleton,{style:e,radius:1,animated:o}),a[1]=o,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(n={maxWidth:200},a[3]=n):n=a[3];let l=!u.error;return a[4]!==l?(r=(0,_.jsx)(A.TextSkeleton,{style:n,radius:1,size:1,animated:l}),a[4]=l,a[5]=r):r=a[5],a[6]!==t||a[7]!==r?(i=(0,_.jsxs)(I.Stack,{space:2,padding:1,children:[t,r]}),a[6]=t,a[7]=r,a[8]=i):i=a[8],i}let f=l.to.length>1,h=null==(t=u.result)?void 0:t.type;if(a[9]!==h||a[10]!==l.to){let e;a[12]!==h?(e=e=>e.type===h,a[12]=h,a[13]=e):e=a[13],r=l.to.find(e),a[9]=h,a[10]=l.to,a[11]=r}else r=a[11];let m=r;if((null==(n=u.result.availability)?void 0:n.available)&&!m){let e,t,n,r=h||"unknown";return a[14]!==r?(e={typeName:r},a[14]=r,a[15]=e):e=a[15],a[16]!==o?(t={JsonValue:()=>(0,_.jsx)("pre",{children:JSON.stringify(o,null,2)})},a[16]=o,a[17]=t):t=a[17],a[18]!==d||a[19]!==e||a[20]!==t?(n=(0,_.jsx)(I.Stack,{space:2,padding:2,children:(0,_.jsx)(I.Text,{as:"p",children:(0,_.jsx)(IZ,{t:d,i18nKey:"inputs.reference.cross-dataset.invalid-type",values:e,components:t})})}),a[18]=d,a[19]=e,a[20]=t,a[21]=n):n=a[21],n}return a[22]!==c||a[23]!==p||a[24]!==m||a[25]!==u.result.availability||a[26]!==u.result.preview||a[27]!==s||a[28]!==f||a[29]!==l.dataset||a[30]!==o._ref?(i=(0,_.jsx)(X4,{availability:u.result.availability,hasStudioUrl:c,showStudioUrlIcon:s,preview:u.result.preview,refType:m,projectId:p,dataset:l.dataset,id:o._ref,showTypeLabel:f}),a[22]=c,a[23]=p,a[24]=m,a[25]=u.result.availability,a[26]=u.result.preview,a[27]=s,a[28]=f,a[29]=l.dataset,a[30]=o._ref,a[31]=i):i=a[31],i}let Ja=(0,F.styled)(B.Popover)(_v()),Jo=(0,F.styled)(I.Text)(_b()),Jl=["top-start","bottom-start"],Js=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(17);c[0]!==e?({searchString:o,loading:n,portalRef:r,referenceElement:i,...a}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o):(n=c[1],r=c[2],i=c[3],a=c[4],o=c[5]);let{t:u}=IO(),d=e.options&&e.options.length>0;c[6]!==d||c[7]!==n||c[8]!==r||c[9]!==i||c[10]!==o||c[11]!==u?(l=(e,t)=>{let{content:a,hidden:l,inputElement:s,onMouseEnter:c,onMouseLeave:p}=e;return(0,_.jsx)(Ja,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Jl,arrow:!1,constrainSize:!0,onMouseEnter:c,onMouseLeave:p,content:(0,_.jsx)("div",{ref:t,children:d?a:(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",children:(0,_.jsx)(Jo,{align:"center",muted:!0,children:(0,_.jsx)(IZ,{t:u,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:o||""}})})})})}),open:!n&&!l,ref:r,portal:!0,referenceElement:i||s,matchReferenceWidth:!0})},c[6]=d,c[7]=n,c[8]=r,c[9]=i,c[10]=o,c[11]=u,c[12]=l):l=c[12];let p=l;return c[13]!==t||c[14]!==p||c[15]!==a?(s=(0,_.jsx)(A.Autocomplete,{...a,ref:t,renderPopover:p}),c[13]=t,c[14]=p,c[15]=a,c[16]=s):s=c[16],s}),Jc={hits:[],isLoading:!1},Ju=()=>!0,Jd=["_ref"];function Jp(e){var t,n;let{changed:r,focused:i,focusPath:a,getReferenceInfo:o,onChange:l,onPathFocus:s,onSearch:c,path:u,readOnly:d,schemaType:p,validation:f,value:h,elementProps:m}=e,{t:g}=IO(),y=Jn(),[v,b]=(0,E.useState)(Jc),x=(0,E.useCallback)(e=>{if(!e){l(LN()),s([]);return}if(!v.hits.find(t=>t.id===e))throw Error("Selected an item that wasnt part of the result set");l(LB({_type:p.name,_ref:(0,th.getPublishedId)(e),_projectId:y,_dataset:p.dataset,_weak:p.weak,_key:null==h?void 0:h._key})),s([])},[null==h?void 0:h._key,v.hits,p.name,p.dataset,p.weak,y,l,s]),C=(0,E.useCallback)(()=>{l(LN())},[l]),k=(0,E.useCallback)(e=>{"Escape"===e.key&&(null==s||s([]))},[s]),w=(0,E.useCallback)(e=>o(e,p),[o,p]),j=Jt((0,E.useMemo)(()=>({_id:null==h?void 0:h._ref}),[null==h?void 0:h._ref]),w),S=eiN("crossDatasetReferences"),[T,D]=(0,E.useState)(null),O=1===a.length&&"_ref"===a[0],P=m.ref;zm({hasFocusAt:O,ref:null==h?void 0:h._ref},(e,t)=>{var n;let r=(null==e?void 0:e.ref)!==t.ref;((null==e?void 0:e.hasFocusAt)!==t.hasFocusAt||r)&&t.hasFocusAt&&(null==(n=P.current)||n.focus())});let M=(null==h?void 0:h._weak)?"weak":"strong",F=!0===p.weak?"weak":"strong",N=!!(null==h?void 0:h._ref),L=(0,E.useCallback)(()=>{l(!0===p.weak?LB(!0,["_weak"]):LN(["_weak"]))},[l,p]),{push:z}=(0,A.useToast)(),V=(0,E.useMemo)(()=>f.filter(e=>"error"===e.level),[f]),U=(0,E.useCallback)(e=>{e.currentTarget===m.ref.current&&(null==s||s([]))},[m.ref,s]),H=(0,E.useCallback)(e=>m.onBlur(e),[m]),q=(0,E.useCallback)(e=>{e.currentTarget===m.ref.current&&(null==s||s(Jd))},[m.ref,s]),W=(0,E.useCallback)(()=>{null==s||s(Jd)},[s]),G=(0,E.useId)(),$=(0,te.useObservableEvent)(e=>e.pipe((0,ew.filter)(D2),(0,ed.distinctUntilChanged)(),(0,Q.switchMap)(e=>(0,K.concat)((0,Y.of)({isLoading:!0}),c(e).pipe((0,Z.map)(t=>({hits:t,searchString:e,isLoading:!1})),(0,J.catchError)(e=>(z({title:"Reference search failed",description:e.message,status:"error",id:"reference-search-fail-".concat(G)}),console.error(e),(0,Y.of)({hits:[]})))))),(0,eO.scan)((e,t)=>({...e,...t}),Jc),(0,eh.tap)(b))),X=(0,E.useCallback)(()=>{$("")},[$]),ee=!j.isLoading&&N&&M!==F,et=(null==h?void 0:h._ref)&&(null==(n=p.studioUrl)?void 0:n.call(p,{id:null==h?void 0:h._ref,type:null==j||null==(t=j.result)?void 0:t.type}))||null,en=(0,E.useCallback)(e=>(0,_.jsx)(eTA,{as:"button",type:"button",radius:2,children:(0,_.jsx)(I.Box,{paddingX:3,paddingY:1,children:(0,_.jsx)(Jr,{referenceType:p,document:e.hit.published,getReferenceInfo:w})})}),[p,w]),er=O||!(null==h?void 0:h._ref),ei=(0,E.useRef)(null),ea=(0,E.useRef)(null);return(0,I.useClickOutsideEvent)(O&&(()=>s([])),()=>[ei.current,ea.current]),(0,_.jsxs)(_.Fragment,{children:[!S.isLoading&&!S.enabled&&(0,_.jsx)(X7,{value:h,onClearValue:C}),(S.isLoading||S.enabled)&&(0,_.jsx)(I.Stack,{space:1,children:er?(0,_.jsx)(I.Stack,{space:2,ref:ei,children:(0,_.jsx)($j,{path:u,isChanged:r,hasFocus:!!i,children:(0,_.jsx)("div",{ref:D,children:(0,_.jsx)(Js,{...m,"data-testid":"autocomplete",loading:v.isLoading,referenceElement:T,portalRef:ea,id:G||"",options:v.hits.map(e=>({value:e.id,hit:e})),onFocus:q,radius:2,placeholder:g("inputs.reference.search-placeholder"),onKeyDown:k,readOnly:d,disabled:j.isLoading,onQueryChange:$,searchString:v.searchString,onChange:x,filterOption:Ju,renderOption:en,openButton:{onClick:X}})})})}):(0,_.jsx)($j,{path:u,isChanged:r,hasFocus:!!i,children:(0,_.jsxs)(I.Card,{padding:0,border:!0,flex:1,radius:1,tone:d?"transparent":j.error||V.length>0?"critical":"default",children:[(0,_.jsxs)(I.Flex,{align:"center",padding:1,children:[et?(0,_.jsx)(eTA,{as:"a",target:"_blank",rel:"noopener noreferrer",href:et,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:U,onBlur:H,ref:m.ref,children:(0,_.jsx)(Ji,{value:h,referenceInfo:j,showStudioUrlIcon:!0,hasStudioUrl:!!et,type:p})}):(0,_.jsx)(eTA,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:U,onBlur:H,ref:m.ref,children:(0,_.jsx)(Ji,{value:h,referenceInfo:j,showStudioUrlIcon:!0,type:p})}),(0,_.jsx)(I.Inline,{paddingX:1,children:(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(DO,{"data-testid":"menu-button"}),id:"".concat(G,"-menuButton"),menu:(0,_.jsx)(I.Menu,{children:!d&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuItem,{text:g("inputs.reference.action.clear"),tone:"critical",icon:R.ResetIcon,"data-testid":"menu-item-clear",onClick:C}),(0,_.jsx)(B.MenuItem,{text:g("inputs.reference.action.replace"),icon:R.SyncIcon,"data-testid":"menu-item-replace",onClick:W})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),ee&&(0,_.jsx)(VD,{actualStrength:M,handleFixStrengthMismatch:L}),j.error&&(0,_.jsx)(VT,{errorMessage:j.error.message,onHandleRetry:j.retry})]})})})]})}let Jf={available:!0,reason:"READABLE"},Jh={available:!1,reason:"PERMISSION_DENIED"},Jm={available:!1,reason:"NOT_FOUND"};async function Jg(e,t,n,r){if(!e)return{};if("function"==typeof e.filter){let i=n.slice(0,-1),a=(0,S.get)(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}let Jy=(0,F.styled)(I.Flex)(_x());function Jv(e){var t,n,r,i,a,o,l;let s,c,u,d,p,f,h,m=(0,j.c)(37),{refType:g,showStudioUrlIcon:y,hasStudioUrl:v,showTypeLabel:b,availability:x,preview:C,id:k,resourceType:w,resourceId:S}=e,T=(null==x?void 0:x.reason)==="NOT_FOUND",D=(null==x?void 0:x.reason)==="PERMISSION_DENIED",A=null==(t=C.published)?void 0:t.media,{t:O}=IO();e:{let e;if(A){let e,t,n="u">typeof(null==A?void 0:A.asset)&&(0,tg.isImageSource)(A);m[0]!==A?(e=(0,E.isValidElement)(A),m[0]=A,m[1]=e):e=m[1];let r=e;if(!n&&!r){s=null;break e}m[2]!==r||m[3]!==A||m[4]!==S||m[5]!==w||m[6]!==O?(t=function(e){let{dimensions:t}=e,n=function(e,t){if("dataset"!==e)return null;let[n,r]=t.split(".",2);if(!n||!r)throw Error('Invalid resource ID for resource "dataset": '.concat(t));return{projectId:n,dataset:r}}(w,S);return n?r?A:(0,_.jsx)("img",{src:(0,ty.default)(n).image(A).withOptions(t).url(),alt:O("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"}):null},m[2]=r,m[3]=A,m[4]=S,m[5]=w,m[6]=O,m[7]=t):t=m[7],s=t;break e}if(!(null==g?void 0:g.icon)){s=null;break e}let t=g.icon;m[8]!==t?(e=(0,_.jsx)(t,{}),m[8]=t,m[9]=e):e=m[9],s=e}let P=s;return m[10]!==(null==x?void 0:x.available)||m[11]!==P||m[12]!==(null==(n=C.published)?void 0:n.subtitle)||m[13]!==(null==(r=C.published)?void 0:r.title)||m[14]!==O?(c=(null==x?void 0:x.available)?(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(eTH,{title:null==(i=C.published)?void 0:i.title,subtitle:null==(a=C.published)?void 0:a.subtitle,media:P||!1})}):(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(I.Box,{flex:1,paddingY:2,children:(0,_.jsx)(I.Text,{muted:!0,children:O("inputs.reference.error.document-unavailable-title")})})})}),m[10]=null==x?void 0:x.available,m[11]=P,m[12]=null==(o=C.published)?void 0:o.subtitle,m[13]=null==(l=C.published)?void 0:l.title,m[14]=O,m[15]=c):c=m[15],m[16]!==g||m[17]!==b?(u=g&&b&&(0,_.jsx)(I.Badge,{mode:"outline",children:g.title||g.type}),m[16]=g,m[17]=b,m[18]=u):u=m[18],m[19]!==k||m[20]!==D||m[21]!==T||m[22]!==O?(d=(D||T)&&(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.Tooltip,{portal:!0,content:O(T?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:k}),children:(0,_.jsx)(eiD,{tone:"default",children:D?(0,_.jsx)(R.AccessDeniedIcon,{}):(0,_.jsx)(R.HelpCircleIcon,{})})})}),m[19]=k,m[20]=D,m[21]=T,m[22]=O,m[23]=d):d=m[23],m[24]!==v||m[25]!==D||m[26]!==T||m[27]!==y||m[28]!==O?(p=!(T||D)&&y&&(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.Tooltip,{portal:!0,content:O(v?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:(0,_.jsx)(eiD,{size:1,tone:"default",muted:!v,children:(0,_.jsx)(R.LaunchIcon,{})})})}),m[24]=v,m[25]=D,m[26]=T,m[27]=y,m[28]=O,m[29]=p):p=m[29],m[30]!==u||m[31]!==d||m[32]!==p?(f=(0,_.jsx)(I.Box,{paddingLeft:3,children:(0,_.jsxs)(I.Inline,{space:4,children:[u,d,p]})}),m[30]=u,m[31]=d,m[32]=p,m[33]=f):f=m[33],m[34]!==c||m[35]!==f?(h=(0,_.jsxs)(Jy,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c,f]}),m[34]=c,m[35]=f,m[36]=h):h=m[36],h}let Jb=()=>{},Jx={isLoading:!0,result:void 0,error:void 0,retry:Jb},JC={isLoading:!1,result:void 0,error:void 0,retry:Jb};function Jk(e,t){let n,r,i=(0,j.c)(10),[a,o]=(0,E.useState)(0);i[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{o(Jw)},i[0]=n):n=i[0];let l=n;e:{let n;if(!e){let e;i[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)(JC),i[1]=e):e=i[1],r=e;break e}if(i[2]!==e||i[3]!==t||i[4]!==a){let r,o;i[6]!==a?(r=e=>({isLoading:!1,result:e,error:void 0,retry:l,retryAttempt:a}),i[6]=a,i[7]=r):r=i[7],i[8]!==a?(o=e=>(console.error(e),(0,Y.of)({isLoading:!1,result:void 0,error:e,retry:l,retryAttempt:a})),i[8]=a,i[9]=o):o=i[9],n=t(e).pipe((0,Z.map)(r),(0,eI.startWith)(Jx),(0,J.catchError)(o)),i[2]=e,i[3]=t,i[4]=a,i[5]=n}else n=i[5];r=n}return(0,te.useObservable)(r,Jx)}function Jw(e){return e+1}function J_(e){var t;let n,r,i=(0,j.c)(29),{isLoading:a,result:o,error:l}=Jk(e.document,e.getReferenceInfo),{t:s}=IO();if(a){let e,t;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{style:{maxWidth:320},radius:1,animated:!0}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsxs)(I.Stack,{space:2,padding:1,children:[e,(0,_.jsx)(A.TextSkeleton,{style:{maxWidth:200},radius:1,size:1,animated:!0})]}),i[1]=t):t=i[1],t}if(l){let e,t,n;return i[2]!==s?(e=s("inputs.reference.error.failed-to-load-document-title"),i[2]=s,i[3]=e):e=i[3],i[4]!==l.message?(t=(0,_.jsx)(I.Text,{muted:!0,size:1,children:l.message}),i[4]=l.message,i[5]=t):t=i[5],i[6]!==e||i[7]!==t?(n=(0,_.jsx)(I.Stack,{space:2,padding:1,children:(0,_.jsx)(zz,{title:e,children:t})}),i[6]=e,i[7]=t,i[8]=n):n=i[8],n}if(!o)return null;if((null==(t=o.availability)?void 0:t.reason)==="PERMISSION_DENIED"){let e,t;return i[9]!==s?(e=s("inputs.reference.error.missing-read-permissions-description"),i[9]=s,i[10]=e):e=i[10],i[11]!==e?(t=(0,_.jsx)(I.Stack,{space:2,padding:1,children:e}),i[11]=e,i[12]=t):t=i[12],t}if(i[13]!==e.referenceType.to||i[14]!==o.type){let t;i[16]!==o.type?(t=e=>e.type===o.type,i[16]=o.type,i[17]=t):t=i[17],n=e.referenceType.to.find(t),i[13]=e.referenceType.to,i[14]=o.type,i[15]=n}else n=i[15];let c=n;if(!c){let e,t;return i[18]!==o.type||i[19]!==s?(e=s("inputs.reference.error.invalid-search-result-type-title",{returnedType:o.type}),i[18]=o.type,i[19]=s,i[20]=e):e=i[20],i[21]!==e?(t=(0,_.jsx)(I.Stack,{space:2,padding:1,children:e}),i[21]=e,i[22]=t):t=i[22],t}return i[23]!==e.referenceType.resourceId||i[24]!==e.referenceType.resourceType||i[25]!==e.referenceType.to.length||i[26]!==c||i[27]!==o?(r=o&&c&&(0,_.jsx)(Jv,{id:o.id,availability:o.availability,preview:o.preview,refType:c,resourceType:e.referenceType.resourceType,resourceId:e.referenceType.resourceId,showTypeLabel:e.referenceType.to.length>1}),i[23]=e.referenceType.resourceId,i[24]=e.referenceType.resourceType,i[25]=e.referenceType.to.length,i[26]=c,i[27]=o,i[28]=r):r=i[28],r}function Jj(e){var t,n;let r,i,a=(0,j.c)(32),{value:o,type:l,showStudioUrlIcon:s,hasStudioUrl:c,referenceInfo:u}=e,{t:d}=IO();if(u.isLoading||u.error){let e,t,n,r,i;a[0]===Symbol.for("react.memo_cache_sentinel")?(e={maxWidth:320},a[0]=e):e=a[0];let o=!u.error;a[1]!==o?(t=(0,_.jsx)(A.TextSkeleton,{style:e,radius:1,animated:o}),a[1]=o,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(n={maxWidth:200},a[3]=n):n=a[3];let l=!u.error;return a[4]!==l?(r=(0,_.jsx)(A.TextSkeleton,{style:n,radius:1,size:1,animated:l}),a[4]=l,a[5]=r):r=a[5],a[6]!==t||a[7]!==r?(i=(0,_.jsxs)(I.Stack,{space:2,padding:1,children:[t,r]}),a[6]=t,a[7]=r,a[8]=i):i=a[8],i}let p=l.to.length>1,f=null==(t=u.result)?void 0:t.type;if(a[9]!==f||a[10]!==l.to){let e;a[12]!==f?(e=e=>e.type===f,a[12]=f,a[13]=e):e=a[13],r=l.to.find(e),a[9]=f,a[10]=l.to,a[11]=r}else r=a[11];let h=r;if((null==(n=u.result.availability)?void 0:n.available)&&!h){let e,t,n,r=f||"unknown";return a[14]!==r?(e={typeName:r},a[14]=r,a[15]=e):e=a[15],a[16]!==o?(t={JsonValue:()=>(0,_.jsx)("pre",{children:JSON.stringify(o,null,2)})},a[16]=o,a[17]=t):t=a[17],a[18]!==d||a[19]!==e||a[20]!==t?(n=(0,_.jsx)(I.Stack,{space:2,padding:2,children:(0,_.jsx)(I.Text,{as:"p",children:(0,_.jsx)(IZ,{t:d,i18nKey:"inputs.reference.global.invalid-type",values:e,components:t})})}),a[18]=d,a[19]=e,a[20]=t,a[21]=n):n=a[21],n}return a[22]!==c||a[23]!==h||a[24]!==u.result.availability||a[25]!==u.result.preview||a[26]!==s||a[27]!==p||a[28]!==l.resourceId||a[29]!==l.resourceType||a[30]!==o._ref?(i=(0,_.jsx)(Jv,{availability:u.result.availability,hasStudioUrl:c,showStudioUrlIcon:s,preview:u.result.preview,refType:h,resourceType:l.resourceType,resourceId:l.resourceId,id:o._ref,showTypeLabel:p}),a[22]=c,a[23]=h,a[24]=u.result.availability,a[25]=u.result.preview,a[26]=s,a[27]=p,a[28]=l.resourceId,a[29]=l.resourceType,a[30]=o._ref,a[31]=i):i=a[31],i}let JS=(0,F.styled)(B.Popover)(_C()),JE=(0,F.styled)(I.Text)(_k()),JT=["top-start","bottom-start"],JD=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(17);c[0]!==e?({searchString:o,loading:n,portalRef:r,referenceElement:i,...a}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o):(n=c[1],r=c[2],i=c[3],a=c[4],o=c[5]);let{t:u}=IO(),d=e.options&&e.options.length>0;c[6]!==d||c[7]!==n||c[8]!==r||c[9]!==i||c[10]!==o||c[11]!==u?(l=(e,t)=>{let{content:a,hidden:l,inputElement:s,onMouseEnter:c,onMouseLeave:p}=e;return(0,_.jsx)(JS,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:JT,arrow:!1,constrainSize:!0,onMouseEnter:c,onMouseLeave:p,content:(0,_.jsx)("div",{ref:t,children:d?a:(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",children:(0,_.jsx)(JE,{align:"center",muted:!0,children:(0,_.jsx)(IZ,{t:u,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:o||""}})})})})}),open:!n&&!l,ref:r,portal:!0,referenceElement:i||s,matchReferenceWidth:!0})},c[6]=d,c[7]=n,c[8]=r,c[9]=i,c[10]=o,c[11]=u,c[12]=l):l=c[12];let p=l;return c[13]!==t||c[14]!==p||c[15]!==a?(s=(0,_.jsx)(A.Autocomplete,{...a,ref:t,renderPopover:p}),c[13]=t,c[14]=p,c[15]=a,c[16]=s):s=c[16],s}),JI={hits:[],isLoading:!1},JA=()=>!0,JO=["_ref"];function JP(e){let{changed:t,focused:n,focusPath:r,getReferenceInfo:i,onChange:a,onPathFocus:o,onSearch:l,path:s,readOnly:c,schemaType:u,validation:d,value:p,elementProps:f}=e,{t:h}=IO(),[m,g]=(0,E.useState)(JI),y=(0,E.useCallback)(e=>{if(!e){a(LN()),o([]);return}if(!m.hits.find(t=>t.id===e))throw Error("Selected an item that wasnt part of the result set");a(LB({_type:u.name,_ref:"".concat(u.resourceType,":").concat(u.resourceId,":").concat((0,th.getPublishedId)(e)),_weak:u.weak,_key:null==p?void 0:p._key})),o([])},[null==p?void 0:p._key,m.hits,u.name,u.resourceType,u.resourceId,u.weak,a,o]),v=(0,E.useCallback)(()=>{a(LN())},[a]),b=(0,E.useCallback)(e=>{"Escape"===e.key&&(null==o||o([]))},[o]),x=(0,E.useCallback)(e=>i(e,u),[i,u]),C=Jk((0,E.useMemo)(()=>{if(!(null==p?void 0:p._ref))return null;let[,,e]=p._ref.split(":",3);return{_id:e}},[p]),x),[k,w]=(0,E.useState)(null),j=1===r.length&&"_ref"===r[0],S=f.ref;zm({hasFocusAt:j,ref:null==p?void 0:p._ref},(e,t)=>{var n;let r=(null==e?void 0:e.ref)!==t.ref;((null==e?void 0:e.hasFocusAt)!==t.hasFocusAt||r)&&t.hasFocusAt&&(null==(n=S.current)||n.focus())});let T=(null==p?void 0:p._weak)?"weak":"strong",D=!0===u.weak?"weak":"strong",O=!!(null==p?void 0:p._ref),P=(0,E.useCallback)(()=>{a(!0===u.weak?LB(!0,["_weak"]):LN(["_weak"]))},[a,u]),{push:M}=(0,A.useToast)(),F=(0,E.useMemo)(()=>d.filter(e=>"error"===e.level),[d]),N=(0,E.useCallback)(e=>{e.currentTarget===f.ref.current&&(null==o||o([]))},[f.ref,o]),L=(0,E.useCallback)(e=>f.onBlur(e),[f]),z=(0,E.useCallback)(e=>{e.currentTarget===f.ref.current&&(null==o||o(JO))},[f.ref,o]),V=(0,E.useCallback)(()=>{null==o||o(JO)},[o]),U=(0,E.useId)(),H=(0,te.useObservableEvent)(e=>e.pipe((0,ew.filter)(D2),(0,ed.distinctUntilChanged)(),(0,Q.switchMap)(e=>(0,K.concat)((0,Y.of)({isLoading:!0}),l(e).pipe((0,Z.map)(t=>({hits:t,searchString:e,isLoading:!1})),(0,J.catchError)(e=>(M({title:"Reference search failed",description:e.message,status:"error",id:"reference-search-fail-".concat(U)}),console.error(e),(0,Y.of)({hits:[]})))))),(0,eO.scan)((e,t)=>({...e,...t}),JI),(0,eh.tap)(g))),q=(0,E.useCallback)(()=>{H("")},[H]),G=!C.isLoading&&O&&T!==D,$=(0,E.useMemo)(()=>{var e;if(!(null==p?void 0:p._ref)||!(0,W.isGlobalDocumentReference)(p))return null;let[,,t]=p._ref.split(":");return u.studioUrl&&(null==C||null==(e=C.result)?void 0:e.type)?"string"==typeof u.studioUrl?"".concat(u.studioUrl,"/desk/intent/edit/id=").concat(t,";type=").concat(C.result.type,"/"):u.studioUrl({id:t,type:C.result.type}):null},[p,u,C]),X=(0,E.useCallback)(e=>(0,_.jsx)(eTA,{as:"button",type:"button",radius:2,children:(0,_.jsx)(I.Box,{paddingX:3,paddingY:1,children:(0,_.jsx)(J_,{referenceType:u,document:e.hit.published,getReferenceInfo:x})})}),[u,x]),ee=j||!(null==p?void 0:p._ref),et=(0,E.useRef)(null),en=(0,E.useRef)(null);return(0,I.useClickOutsideEvent)(j&&(()=>o([])),()=>[et.current,en.current]),(0,_.jsx)(I.Stack,{space:1,children:ee?(0,_.jsx)(I.Stack,{space:2,ref:et,children:(0,_.jsx)($j,{path:s,isChanged:t,hasFocus:!!n,children:(0,_.jsx)("div",{ref:w,children:(0,_.jsx)(JD,{...f,"data-testid":"autocomplete",loading:m.isLoading,referenceElement:k,portalRef:en,id:U||"",options:m.hits.map(e=>({value:e.id,hit:e})),onFocus:z,radius:2,placeholder:h("inputs.reference.search-placeholder"),onKeyDown:b,readOnly:c,disabled:C.isLoading,onQueryChange:H,searchString:m.searchString,onChange:y,filterOption:JA,renderOption:X,openButton:{onClick:q}})})})}):(0,_.jsx)($j,{path:s,isChanged:t,hasFocus:!!n,children:(0,_.jsxs)(I.Card,{padding:0,border:!0,flex:1,radius:1,tone:c?"transparent":C.error||F.length>0?"critical":"default",children:[(0,_.jsxs)(I.Flex,{align:"center",padding:1,children:[$?(0,_.jsx)(eTA,{as:"a",target:"_blank",rel:"noopener noreferrer",href:$,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:N,onBlur:L,ref:f.ref,children:(0,_.jsx)(Jj,{value:p,referenceInfo:C,showStudioUrlIcon:!0,hasStudioUrl:!0,type:u})}):(0,_.jsx)(eTA,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:N,onBlur:L,ref:f.ref,children:(0,_.jsx)(Jj,{value:p,referenceInfo:C,type:u})}),(0,_.jsx)(I.Inline,{paddingX:1,children:(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(DO,{"data-testid":"menu-button"}),id:"".concat(U,"-menuButton"),menu:(0,_.jsx)(I.Menu,{children:!c&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuItem,{text:h("inputs.reference.action.clear"),tone:"critical",icon:R.ResetIcon,"data-testid":"menu-item-clear",onClick:v}),(0,_.jsx)(B.MenuItem,{text:h("inputs.reference.action.replace"),icon:R.SyncIcon,"data-testid":"menu-item-replace",onClick:V})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),G&&(0,_.jsx)(VD,{actualStrength:T,handleFixStrengthMismatch:P}),C.error&&(0,_.jsx)(VT,{errorMessage:C.error.message,onHandleRetry:C.retry})]})})})}function JM(e){return Object.keys(e)}function JF(e){let{observeFields:t}=e;return(e,n,r,i)=>(function e(t,n,r,i,a){if(!t||"object"!=typeof t)return(0,Y.of)(t);let o=(0,W.isReference)(t)?t._ref:"_id"in t?t._id:void 0,l=o?{...t,_id:o}:{...t};"reference"===l._type&&(delete l._type,delete l._ref,delete l._weak,delete l._dataset,delete l._projectId,delete l._strengthenOnPublish);let s=n.filter(e=>!(e[0]in l));if(o&&s.length>0){let l=(0,nC.default)(s.map(e=>e[0])),c=(0,W.isCrossDatasetReference)(t)?{projectId:t._projectId,dataset:t._dataset}:i;return r(o,l,c,a).pipe((0,Q.switchMap)(i=>null===i?(0,Y.of)(null):e({...l.reduce((e,t)=>(e[t]=void 0,e),{}),...(0,W.isReference)(t)?{...t,...c}:t,...i},n,r,c,a)))}let c={};n.forEach(e=>{let[t,...n]=e;c[t]||(c[t]=[]),c[t].push(n)});let u=Object.keys(c).reduce((n,o)=>{let l=c[o].filter(e=>e.length>0);return 0===l.length?n[o]=Io(t)?t[o]:void 0:n[o]=e(t[o],l,r,i,a),n},l);return(0,Y.of)(u).pipe(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>new er.Observable(e=>t.subscribe(e)).pipe((0,Q.switchMap)(t=>{let n=JM(t).map(e=>{let n=t[e];return(0,eM.isObservable)(n)?(0,en.from)(n).pipe((0,Z.map)(t=>[e,t])):(0,Y.of)([e,n])});return e.wait?(0,ev.combineLatest)(n).pipe((0,Z.map)(e=>e.reduce((e,t)=>{let[n,r]=t;return{...e,[n]:r}},{}))):(0,en.from)(n).pipe((0,e1.mergeAll)(),(0,eO.scan)((e,t)=>{let[n,r]=t;return{...e,[n]:r}},{}))}))}({wait:!0}))})(e,n.map(e=>"string"==typeof e?e.split("."):e),t,r,i)}let JR={available:!0,reason:"READABLE"},JB={available:!1,reason:"PERMISSION_DENIED"},JN={available:!1,reason:"NOT_FOUND"};async function JL(e,t,n,r){if(!e)return{};if("function"==typeof e.filter){let i=n.slice(0,-1),a=(0,S.get)(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Jz(e){return Io(e)&&("sanity.video"===e.name||Jz(e.type))}function JV(e,t){var n;let r=e.split(","),i=null==(n=r[0].match(/:(.*?);/))?void 0:n[1],a=atob(r[1]),o=a.length,l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);return new File([l],t,{type:i})}function JU(e){var t,n;let{assetsFromSource:r,onChange:i,type:a,resolveUploader:o,uploadWith:l,isImage:s}=e;if(!r)throw Error("No asset given");if(!Array.isArray(r)||0===r.length)throw Error("Returned value must be an array with at least one item (asset)");let c=r[0],u=c.assetDocumentProps,d=c.mediaLibraryProps,p=null==u?void 0:u.originalFilename,f=null==u?void 0:u.label,h=null==u?void 0:u.title,m=null==u?void 0:u.description,g=null==u?void 0:u.creditLine,y=null==u?void 0:u.source,v=(0,gi.default)({label:f,title:h,description:m,creditLine:g,source:y},e=>null!=e&&""!==e),b=s?[LN(["hotspot"]),LN(["crop"]),LN(["media"])]:[LN(["media"])];if(d){let e={_type:"globalDocumentReference",_ref:"media-library:".concat(d.mediaLibraryId,":").concat(d.assetId),_weak:!0};if(b.push(LB(e,["media"])),Jz(a)){let e={_type:"globalDocumentReference",_ref:"media-library:".concat(d.mediaLibraryId,":").concat(d.assetInstanceId),_weak:!0};b.push(LB(e,["asset"])),i([LF({_type:a.name}),...b]);return}}switch(c.kind){case"assetDocumentId":i([LF({_type:a.name}),...b,LB({_type:"reference",_ref:c.value},["asset"])]);break;case"file":{let e=o(a,c.value);e&&l(e,c.value,v);break}case"base64":(t=c.value,new Promise((e,n)=>{let r=t.toString(),i=r.indexOf(";base64");if(!r||-1===i)return void n(Error("Could not convert base64 to file"));let a=r.slice(11,i);if(!a&&!p)return void n(Error("Could not find mime type for image"));e(JV(t,p||"".concat((0,h6.uuid)(),".").concat(a)))})).then(e=>{let t=o(a,e);t&&l(t,e,v)});break;case"url":(n=c.value,new Promise((e,t)=>{let r=new XMLHttpRequest;r.onload=()=>{let n=new FileReader;n.onloadend=()=>{var r;let i=null==(r=n.result)?void 0:r.toString(),a=null==i?void 0:i.indexOf(";base64");if(!i||-1===a)return void t(Error("Could not convert URL to file"));let o=i.slice(11,a);if(!o&&!p)return void t(Error("Could not find mime type for image"));e(JV(n.result,p||"".concat((0,h6.uuid)(),".").concat(o)))},n.readAsDataURL(r.response)},r.onerror=e=>{t(e)},r.open("GET",n),r.responseType="blob",r.send()})).then(e=>{let t=o(a,e);t&&l(t,e,v)});break;default:throw Error("Invalid value returned from asset source plugin")}}let JH=(0,F.styled)(I.Flex)(_w());function Jq(e){let t,n,r,i,a,o=(0,j.c)(24),{hoveringFiles:l,type:s,readOnly:c,acceptedFiles:u,rejectedFilesCount:d,directUploads:p}=e,f="file"===s,{t:h}=IO();e:{let e;if(c){let e;o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.ReadOnlyIcon,{}),o[0]=e):e=o[0],t=e;break e}if(l&&d>0||!1===p){let e;o[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.AccessDeniedIcon,{}),o[1]=e):e=o[1],t=e;break e}o[2]!==f?(e=f?(0,_.jsx)(R.BinaryDocumentIcon,{}):(0,_.jsx)(R.ImageIcon,{}),o[2]=f,o[3]=e):e=o[3],t=e}let m=t;t:{let e;if(!1===p){let e;o[4]!==h?(e=h("inputs.files.common.placeholder.upload-not-supported"),o[4]=h,o[5]=e):e=o[5],n=e;break t}if(c){let e;o[6]!==h?(e=h("inputs.files.common.placeholder.read-only"),o[6]=h,o[7]=e):e=o[7],n=e;break t}if(l&&p&&!c){if(u.length>0){let e;o[8]!==h||o[9]!==s?(e=h("inputs.files.common.placeholder.drop-to-upload",{context:s}),o[8]=h,o[9]=s,o[10]=e):e=o[10],n=e;break t}if(d>0){let e;o[11]!==d||o[12]!==h?(e=h("inputs.files.common.placeholder.cannot-upload-some-files",{count:d}),o[11]=d,o[12]=h,o[13]=e):e=o[13],n=e;break t}}o[14]!==h||o[15]!==s?(e=h("inputs.files.common.placeholder.drag-or-paste-to-upload",{context:s}),o[14]=h,o[15]=s,o[16]=e):e=o[16],n=e}let g=n;return o[17]!==m?(r=(0,_.jsx)(I.Text,{muted:!0,size:1,children:m}),o[17]=m,o[18]=r):r=o[18],o[19]!==g?(i=(0,_.jsx)(I.Text,{size:1,muted:!0,children:g}),o[19]=g,o[20]=i):i=o[20],o[21]!==r||o[22]!==i?(a=(0,_.jsxs)(JH,{align:"center",gap:3,justify:"center",paddingLeft:1,children:[r,i]}),o[21]=r,o[22]=i,o[23]=a):a=o[23],a}let JW=qf(qx(I.Card)),JY=(0,F.styled)(B.Button)(__());function JK(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(37),{assetSources:m,onSelectAssetSource:g,text:y,onClose:v}=e,{t:b}=IO(),x=m.filter(J$),[C,k]=(0,E.useState)(x.reduce(JG,{}));h[0]!==m||h[1]!==g?(t=e=>{let t=e.target.getAttribute("data-asset-source-name");k(e=>({...e,[t]:"default"}));let n=m.find(e=>e.name===t);n&&g&&g(n)},h[0]=m,h[1]=g,h[2]=t):t=h[2];let w=t;h[3]!==g?(n=e=>{let t=e.target.getAttribute("data-asset-source-name");k(e=>({...e,[t]:"bleed"})),g&&g(null)},h[3]=g,h[4]=n):n=h[4];let S=n;h[5]!==m||h[6]!==g?(r=e=>{let t=e.currentTarget.getAttribute("data-asset-source-name"),n=m.find(e=>e.name===t);n&&g&&g(n)},h[5]=m,h[6]=g,h[7]=r):r=h[7];let T=r;if(h[8]!==v?(i=e=>{"Escape"===e.key&&v&&v()},h[8]=v,h[9]=i):i=h[9],(0,I.useGlobalKeyDown)(i),0===x.length)return null;let D=B.Popover;h[10]===Symbol.for("react.memo_cache_sentinel")?(a={top:"-0.5rem"},h[10]=a):a=h[10];let A=e.referenceElement,O=I.Box;h[11]!==y?(o=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:y})}),h[11]=y,h[12]=o):o=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(l={content:"Close"},h[13]=l):l=h[13],h[14]!==v?(s=(0,_.jsx)(B.Button,{icon:R.CloseIcon,mode:"bleed",onClick:v,tooltipProps:l}),h[14]=v,h[15]=s):s=h[15],h[16]!==s||h[17]!==o?(c=(0,_.jsx)(I.Box,{padding:2,paddingLeft:4,children:(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[o,s]})}),h[16]=s,h[17]=o,h[18]=c):c=h[18];let P=I.Flex;h[19]!==T||h[20]!==w||h[21]!==S||h[22]!==C||h[23]!==b?(u=e=>{let t=e.icon;return(0,_.jsx)(JY,{"data-asset-source-name":e.name,mode:C[e.name],onClick:T,onDragEnter:w,onDragLeave:S,size:"large",style:{padding:"2rem",margin:"0.5rem"},tone:"default",tooltipProps:null,children:(0,_.jsxs)(I.Flex,{align:"center",children:[(0,ta.isValidElementType)(t)&&(0,_.jsx)(t,{style:{fontSize:"2rem"}}),(0,_.jsx)(I.Box,{children:e.i18nKey?b(e.i18nKey):e.title})]})},e.name)},h[19]=T,h[20]=w,h[21]=S,h[22]=C,h[23]=b,h[24]=u):u=h[24];let M=x.map(u);return h[25]!==P||h[26]!==M?(d=(0,_.jsx)(P,{children:M}),h[25]=P,h[26]=M,h[27]=d):d=h[27],h[28]!==O||h[29]!==c||h[30]!==d?(p=(0,_.jsxs)(O,{padding:2,children:[c,d]}),h[28]=O,h[29]=c,h[30]=d,h[31]=p):p=h[31],h[32]!==D||h[33]!==e.referenceElement||h[34]!==p||h[35]!==a?(f=(0,_.jsx)(D,{open:!0,style:a,referenceElement:A,content:p}),h[32]=D,h[33]=e.referenceElement,h[34]=p,h[35]=a,h[36]=f):f=h[36],f}function JG(e,t){return e[t.name]="bleed",e}function J$(e){return!!e.Uploader}let JZ={referringDocuments:[],isLoading:!0},JX=["_id","_type"];function JJ(e){return{referringDocuments:e,isLoading:!1}}let JQ=[];function J1(e){return function(e,t){let n,r,i=(0,j.c)(6),a=void 0===t?JX:t,o=Fd();i[0]!==a?(n=0===a.length?"":a.join(","),i[0]=a,i[1]=n):n=i[1];let l=n;return i[2]!==o||i[3]!==e||i[4]!==l?(r=o.listenQuery("*[references($docId)] [0...101]".concat(l),{docId:e},{tag:"use-referring-documents"}).pipe((0,Z.map)(JJ),(0,eI.startWith)(JZ)),i[2]=o,i[3]=e,i[4]=l,i[5]=r):r=i[5],(0,te.useObservable)(r,JZ)}(e,JQ)}let J2=e=>{let t,n,r,i,a,o=(0,j.c)(16),{asset:l,assetType:s,referringDocuments:c}=e,{t:u}=IO(),d=c.length,p=d>0,f="asset-source.usage-list.documents-using-".concat(s),h=l.originalFilename?"named":"unnamed";return o[0]!==l.originalFilename||o[1]!==d?(t={filename:l.originalFilename,count:d},o[0]=l.originalFilename,o[1]=d,o[2]=t):t=o[2],o[3]!==u||o[4]!==f||o[5]!==h||o[6]!==t?(n=(0,_.jsx)(I.Text,{size:1,as:"h2",weight:"medium",children:(0,_.jsx)(IZ,{t:u,i18nKey:f,context:h,values:t})}),o[3]=u,o[4]=f,o[5]=h,o[6]=t,o[7]=n):n=o[7],o[8]!==p||o[9]!==n?(r=(0,_.jsx)(I.Card,{borderBottom:p,marginTop:2,paddingBottom:2,marginBottom:1,children:n}),o[8]=p,o[9]=n,o[10]=r):r=o[10],o[11]!==c?(i=c.map(J5),o[11]=c,o[12]=i):i=o[12],o[13]!==r||o[14]!==i?(a=(0,_.jsxs)(_.Fragment,{children:[r,i]}),o[13]=r,o[14]=i,o[15]=a):a=o[15],a},J0=e=>{let t,n,r,i,a,o=(0,j.c)(15),{document:l}=e,s=el3();o[0]!==l._id||o[1]!==l._type?(t=e=>(0,_.jsx)(nr.IntentLink,{...e,params:{id:l._id,type:l._type},intent:"edit"}),o[0]=l._id,o[1]=l._type,o[2]=t):t=o[2];let c=t,u=l._id;return o[3]!==l._id?(n={_type:"reference",_ref:l._id},o[3]=l._id,o[4]=n):n=o[4],o[5]!==l._type||o[6]!==s?(r=s.get(l._type),o[5]=l._type,o[6]=s,o[7]=r):r=o[7],o[8]!==n||o[9]!==r?(i=(0,_.jsx)(I.Flex,{align:"center",gap:2,children:(0,_.jsx)(enW,{layout:"default",value:n,schemaType:r})}),o[8]=n,o[9]=r,o[10]=i):i=o[10],o[11]!==c||o[12]!==l._id||o[13]!==i?(a=(0,_.jsx)(I.Card,{as:c,radius:2,"data-as":"a",tabIndex:0,children:i},u),o[11]=c,o[12]=l._id,o[13]=i,o[14]=a):a=o[14],a};function J5(e){return(0,_.jsx)(J0,{document:e},e._id)}let J7={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},J3={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},J8={height:"100%"},J4=e=>{let t,n,r,i,a,o,l,s,c=(0,j.c)(44),{asset:u,assetType:d,hasResults:p}=e,f="image"===d,{t:h}=IO();if(void 0!==p&&p){let e,t,n,r,i,a,o,l,s,p;c[0]===Symbol.for("react.memo_cache_sentinel")?(e=[3,3,4],c[0]=e):e=c[0],c[1]===Symbol.for("react.memo_cache_sentinel")?(t=[2,3,4],c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(n=[3,4],c[2]=n):n=c[2];let m=f?"span 2":"span 3";c[3]!==m?(r={gridColumn:m},c[3]=m,c[4]=r):r=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.WarningOutlineIcon,{})}),c[5]=i):i=c[5];let g="asset-source.delete-dialog.usage-list.warning-".concat(d,"-is-in-use"),y=u.originalFilename?"named":"unnamed";return c[6]!==u.originalFilename||c[7]!==h||c[8]!==g||c[9]!==y?(a=h(g,{context:y,filename:u.originalFilename}),c[6]=u.originalFilename,c[7]=h,c[8]=g,c[9]=y,c[10]=a):a=c[10],c[11]!==a?(o=(0,_.jsx)(I.Text,{size:1,children:a}),c[11]=a,c[12]=o):o=c[12],c[13]!==o||c[14]!==r?(l=(0,_.jsxs)(I.Flex,{gap:n,align:"center",style:r,children:[i,o]}),c[13]=o,c[14]=r,c[15]=l):l=c[15],c[16]!==u.url||c[17]!==f||c[18]!==h?(s=f&&(0,_.jsx)(I.Card,{__unstable_checkered:!0,border:!0,radius:1,style:J3,children:(0,_.jsx)(I.Flex,{align:"center",justify:"center",style:J8,children:(0,_.jsx)("img",{src:"".concat(u.url,"?w=200"),style:J7,alt:h("asset-source.usage-list.image-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})}),c[16]=u.url,c[17]=f,c[18]=h,c[19]=s):s=c[19],c[20]!==l||c[21]!==s?(p=(0,_.jsx)(I.Card,{tone:"caution",padding:e,border:!0,radius:2,marginBottom:3,children:(0,_.jsxs)(I.Grid,{columns:3,gap:t,children:[l,s]})}),c[20]=l,c[21]=s,c[22]=p):p=c[22],p}c[23]===Symbol.for("react.memo_cache_sentinel")?(t=[2,3,4],n=[3,3,3,4],c[23]=t,c[24]=n):(t=c[23],n=c[24]);let m=f?"span 2":"span 3";c[25]!==m?(r={gridColumn:m},c[25]=m,c[26]=r):r=c[26];let g="asset-source.delete-dialog.usage-list.confirm-delete-".concat(d),y=u.originalFilename?"named":"unnamed";return c[27]!==u.originalFilename?(i={filename:u.originalFilename},c[27]=u.originalFilename,c[28]=i):i=c[28],c[29]!==h||c[30]!==g||c[31]!==y||c[32]!==i?(a=(0,_.jsx)(I.Text,{children:(0,_.jsx)(IZ,{t:h,i18nKey:g,context:y,values:i})}),c[29]=h,c[30]=g,c[31]=y,c[32]=i,c[33]=a):a=c[33],c[34]!==r||c[35]!==a?(o=(0,_.jsx)(I.Flex,{style:r,align:"center",children:a}),c[34]=r,c[35]=a,c[36]=o):o=c[36],c[37]!==u.url||c[38]!==f||c[39]!==h?(l=f&&(0,_.jsx)(I.Card,{__unstable_checkered:!0,border:!0,radius:1,style:J3,children:(0,_.jsx)(I.Flex,{align:"center",justify:"center",style:J8,children:(0,_.jsx)("img",{src:"".concat(u.url,"?w=200"),style:J7,alt:h("asset-source.asset-list.table.preview-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})}),c[37]=u.url,c[38]=f,c[39]=h,c[40]=l):l=c[40],c[41]!==o||c[42]!==l?(s=(0,_.jsx)(I.Card,{paddingX:t,paddingY:n,children:(0,_.jsxs)(I.Grid,{columns:3,gap:3,children:[o,l]})}),c[41]=o,c[42]=l,c[43]=s):s=c[43],s};function J6(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(32),{asset:d,assetType:p,isDeleting:f,onClose:h,onDelete:m}=e,g=void 0!==f&&f,{isLoading:y,referringDocuments:v}=J1(d._id);if(u[0]!==v){let e=v.reduce(J9,[]);t=v.filter(t=>!e.includes(t._id)),u[0]=v,u[1]=t}else t=u[1];let b=t,x=b.length>0,{t:C}=IO();return u[2]!==C?(n=C("asset-source.delete-dialog.action.cancel"),u[2]=C,u[3]=n):n=u[3],u[4]!==h||u[5]!==n?(r={onClick:h,text:n},u[4]=h,u[5]=n,u[6]=r):r=u[6],u[7]!==C?(i=C("asset-source.delete-dialog.action.delete"),u[7]=C,u[8]=i):i=u[8],u[9]!==x||u[10]!==g||u[11]!==m||u[12]!==i?(a={disabled:x,icon:R.TrashIcon,loading:g,onClick:m,text:i},u[9]=x,u[10]=g,u[11]=m,u[12]=i,u[13]=a):a=u[13],u[14]!==r||u[15]!==a?(o={cancelButton:r,confirmButton:a},u[14]=r,u[15]=a,u[16]=o):o=u[16],u[17]!==p||u[18]!==C?(l=C("asset-source.delete-dialog.header",{context:p}),u[17]=p,u[18]=C,u[19]=l):l=u[19],u[20]!==d||u[21]!==p||u[22]!==x||u[23]!==y||u[24]!==b?(s=y?(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(DU,{showText:!0})}):(0,_.jsxs)(I.Stack,{paddingX:x?[2,3,4]:0,paddingY:x?[3,3,3,4]:0,space:1,children:[(0,_.jsx)(J4,{asset:d,assetType:p,hasResults:x}),x&&(0,_.jsx)(J2,{asset:d,referringDocuments:b,assetType:p})]}),u[20]=d,u[21]=p,u[22]=x,u[23]=y,u[24]=b,u[25]=s):s=u[25],u[26]!==y||u[27]!==h||u[28]!==o||u[29]!==l||u[30]!==s?(c=(0,_.jsx)(B.Dialog,{__unstable_autoFocus:y,footer:o,header:l,id:"asset-dialog",onClickOutside:h,onClose:h,width:1,children:s}),u[26]=y,u[27]=h,u[28]=o,u[29]=l,u[30]=s,u[31]=c):c=u[31],c}function J9(e,t){return t._id.startsWith("drafts.")?e.concat(t._id.slice(7)):e}let Qe={portal:!0,placement:"right"};function Qt(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(23),{isSelected:d,border:p,onAction:f}=e,h=void 0===p||p,{t:m}=IO(),g=h?"ghost":d?"default":"bleed",y=h?"default":d?"primary":"default";return u[0]!==g||u[1]!==y?(t=(0,_.jsx)(DO,{mode:g,tone:y}),u[0]=g,u[1]=y,u[2]=t):t=u[2],u[3]!==m?(n=m("asset-source.asset-list.menu.show-usage"),u[3]=m,u[4]=n):n=u[4],u[5]!==f?(r=()=>{f({type:"showUsage"})},u[5]=f,u[6]=r):r=u[6],u[7]!==n||u[8]!==r?(i=(0,_.jsx)(B.MenuItem,{text:n,icon:R.LinkIcon,onClick:r}),u[7]=n,u[8]=r,u[9]=i):i=u[9],u[10]!==m?(a=m("asset-source.asset-list.menu.delete"),u[10]=m,u[11]=a):a=u[11],u[12]!==f?(o=()=>{f({type:"delete"})},u[12]=f,u[13]=o):o=u[13],u[14]!==a||u[15]!==o?(l=(0,_.jsx)(B.MenuItem,{text:a,icon:R.TrashIcon,tone:"critical",onClick:o}),u[14]=a,u[15]=o,u[16]=l):l=u[16],u[17]!==l||u[18]!==i?(s=(0,_.jsxs)(I.Menu,{children:[i,l]}),u[17]=l,u[18]=i,u[19]=s):s=u[19],u[20]!==s||u[21]!==t?(c=(0,_.jsx)(B.MenuButton,{button:t,id:"asset-menu",menu:s,popover:Qe}),u[20]=s,u[21]=t,u[22]=c):c=u[22],c}function Qn(e){let t,n,r,i,a=(0,j.c)(14),{asset:o,assetType:l,onClose:s}=e,{isLoading:c,referringDocuments:u}=J1(o._id);if(a[0]!==u){let e=u.reduce(Qr,[]);t=u.filter(t=>!e.includes(t._id)),a[0]=u,a[1]=t}else t=a[1];let d=t,{t:p}=IO();return a[2]!==l||a[3]!==p?(n=p("asset-source.asset-usage-dialog.header",{context:l}),a[2]=l,a[3]=p,a[4]=n):n=a[4],a[5]!==o||a[6]!==l||a[7]!==c||a[8]!==d?(r=c?(0,_.jsx)(DU,{showText:!0}):(0,_.jsx)(J2,{asset:o,referringDocuments:d,assetType:l}),a[5]=o,a[6]=l,a[7]=c,a[8]=d,a[9]=r):r=a[9],a[10]!==s||a[11]!==n||a[12]!==r?(i=(0,_.jsx)(B.Dialog,{__unstable_autoFocus:!0,header:n,id:"asset-dialog",onClickOutside:s,onClose:s,width:1,children:r}),a[10]=s,a[11]=n,a[12]=r,a[13]=i):i=a[13],i}function Qr(e,t){return t._id.startsWith("drafts.")?e.concat(t._id.slice(7)):e}let Qi={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}},Qa=F.styled.span(_j()),Qo=(0,F.styled)(I.Flex)(_S()),Ql=(0,F.styled)(I.Card)(_T(),e=>e.isSelected&&(0,F.css)(_E())),Qs=(0,F.styled)(I.Button)(_A(),e=>e.isSelected&&(0,F.css)(_D(),Qa,Qo),e=>!e.isSelected&&(0,F.css)(_I())),Qc=(0,F.styled)(I.Text)(_O()),Qu={position:"relative"},Qd={flexShrink:0},Qp={minWidth:0},Qf={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Qh=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,O,P=(0,j.c)(105),M=eTt(AE),F=(0,A.useToast)(),N=(0,E.useRef)(void 0),[L,z]=(0,E.useState)(!1),[V,U]=(0,E.useState)(!1),[H,q]=(0,E.useState)(!1),[W,Y]=(0,E.useState)(!1),{asset:K,onClick:G,onKeyPress:$,onDeleteFinished:Z,isSelected:X,isMobile:J}=e,{originalFilename:Q,_id:ee,mimeType:et,size:en,_createdAt:er}=K;P[0]===Symbol.for("react.memo_cache_sentinel")?(t={useTemporalPhrase:!0},P[0]=t):t=P[0];let ei=Rp(er,t);P[1]!==et?(n=function(e){return(null==Qi?void 0:Qi[e])?Qi[e].title:function(e){let t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}(e)}(et),P[1]=et,P[2]=n):n=P[2];let ea=n;P[3]===Symbol.for("react.memo_cache_sentinel")?(r={unitDisplay:"short",maximumFractionDigits:2},P[3]=r):r=P[3];let eo=edk(r);P[4]!==eo||P[5]!==en?(i=BS(en,eo),P[4]=eo,P[5]=en,P[6]=i):i=P[6];let el=i,es=(Q||"").length>37,{t:ec}=IO();P[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{U(!0)},P[7]=a):a=P[7];let eu=a;P[8]!==ec||P[9]!==F?(o=e=>{F.push({closable:!0,status:"error",title:ec("asset-source.file.asset-list.delete-failed"),description:e.message})},P[8]=ec,P[9]=F,P[10]=o):o=P[10];let ed=o;P[11]!==ec||P[12]!==F?(l=()=>{F.push({status:"success",title:ec("asset-source.file.asset-list.delete-successful")})},P[11]=ec,P[12]=F,P[13]=l):l=P[13];let ep=l;P[14]!==K._id||P[15]!==ed||P[16]!==ep||P[17]!==Z||P[18]!==M.observable?(s=()=>{q(!0),N.current=M.observable.delete(K._id).subscribe({next:()=>{q(!1),null==Z||Z(K._id),U(!1),ep()},error:e=>{q(!1),ed(e),console.error("Could not delete asset",e)}})},P[14]=K._id,P[15]=ed,P[16]=ep,P[17]=Z,P[18]=M.observable,P[19]=s):s=P[19];let ef=s;P[20]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{z(!1),U(!1)},P[20]=c):c=P[20];let eh=c;P[21]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{z(!0)},P[21]=u):u=P[21];let em=u;P[22]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{Y(Qm)},P[22]=d):d=P[22];let eg=d;P[23]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{"delete"===e.type&&eu(),"showUsage"===e.type&&em()},P[23]=p):p=P[23];let ey=p;P[24]!==K||P[25]!==L?(f=L&&(0,_.jsx)(Qn,{assetType:"file",asset:K,onClose:eh}),P[24]=K,P[25]=L,P[26]=f):f=P[26];let ev=f;P[27]!==K||P[28]!==ef||P[29]!==H||P[30]!==V?(h=V&&(0,_.jsx)(J6,{assetType:"file",asset:K,onClose:eh,onDelete:ef,isDeleting:H}),P[27]=K,P[28]=ef,P[29]=H,P[30]=V,P[31]=h):h=P[31];let eb=h;if(J){let e,t,n,r,i,a,o,l,s=H?.5:1;P[32]!==s?(e={position:"relative",gridTemplateColumns:"1fr 30px",opacity:s},P[32]=s,P[33]=e):e=P[33],P[34]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Card,{as:Qa,padding:2,tone:"transparent",radius:2,children:(0,_.jsx)(I.Text,{muted:!0,size:2,style:Qd,children:(0,_.jsx)(R.DocumentIcon,{})})}),P[34]=t):t=P[34],P[35]!==Q?(n=(0,_.jsxs)(I.Flex,{gap:2,flex:2,align:"center",children:[t,(0,_.jsx)(I.Text,{size:1,align:"left",textOverflow:"ellipsis",style:Qp,children:Q})]}),P[35]=Q,P[36]=n):n=P[36],P[37]!==ee||P[38]!==K||P[39]!==G||P[40]!==n?(r=(0,_.jsx)(Qs,{asset:K,mode:"bleed",padding:0,"data-id":ee,onClick:G,paddingY:1,radius:2,children:n}),P[37]=ee,P[38]=K,P[39]=G,P[40]=n,P[41]=r):r=P[41];let c=W?R.ChevronUpIcon:R.ChevronDownIcon;P[42]!==c?(i=(0,_.jsx)(I.Flex,{justify:"flex-end",align:"center",paddingRight:1,style:Qf,children:(0,_.jsx)(I.Button,{mode:"bleed",fontSize:1,padding:2,onClick:eg,icon:c})}),P[42]=c,P[43]=i):i=P[43],P[44]!==e||P[45]!==r||P[46]!==i?(a=(0,_.jsxs)(I.Grid,{columns:4,gap:1,style:e,children:[r,i]}),P[44]=e,P[45]=r,P[46]=i,P[47]=a):a=P[47],P[48]!==ea||P[49]!==el||P[50]!==ei||P[51]!==W||P[52]!==X||P[53]!==ec?(o=W&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(I.Grid,{marginTop:3,columns:3,gap:1,children:[(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(I.Text,{size:1,muted:!0,weight:"medium",children:ec("asset-source.file.asset-list.header.size")}),(0,_.jsx)(I.Text,{size:1,muted:!0,children:el})]}),(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(I.Text,{size:1,muted:!0,weight:"medium",children:ec("asset-source.file.asset-list.header.type")}),(0,_.jsx)(I.Text,{size:1,muted:!0,children:ea})]}),(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(I.Text,{size:1,muted:!0,weight:"medium",children:ec("asset-source.file.asset-list.header.date-added")}),(0,_.jsx)(I.Text,{size:1,muted:!0,children:ei})]})]}),(0,_.jsxs)(I.Stack,{space:2,marginTop:3,children:[(0,_.jsx)(I.Button,{fontSize:1,tone:"default",mode:"ghost",text:ec("asset-source.file.asset-list.action.show-usage.title"),onClick:em,icon:R.LinkIcon}),(0,_.jsx)(I.Button,{fontSize:1,tone:"critical",mode:"ghost",text:ec("asset-source.file.asset-list.action.delete.title"),icon:R.TrashIcon,disabled:X,title:ec(X?"asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"asset-source.file.asset-list.action.delete.title"),onClick:eu})]})]}),P[48]=ea,P[49]=el,P[50]=ei,P[51]=W,P[52]=X,P[53]=ec,P[54]=o):o=P[54];let u=ev||eb;return P[55]!==a||P[56]!==o||P[57]!==u?(l=(0,_.jsxs)(I.Card,{paddingBottom:2,style:Qu,children:[a,o,u]}),P[55]=a,P[56]=o,P[57]=u,P[58]=l):l=P[58],l}let ex=H?.5:1;P[59]!==ex?(m={position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:ex},P[59]=ex,P[60]=m):m=P[60],P[61]!==Q||P[62]!==ec?(g=ec("asset-source.file.asset-list.item.select-file-tooltip",{filename:Q}),P[61]=Q,P[62]=ec,P[63]=g):g=P[63],P[64]===Symbol.for("react.memo_cache_sentinel")?(y=(0,_.jsx)(I.Card,{as:Qa,padding:2,tone:"transparent",radius:2,style:Qd,children:(0,_.jsx)(I.Text,{muted:!0,size:2,children:(0,_.jsx)(R.DocumentIcon,{})})}),P[64]=y):y=P[64],P[65]!==Q||P[66]!==es?(v=es&&(0,_.jsx)(B.Tooltip,{content:Q,children:(0,_.jsx)(I.Text,{size:1,align:"left",textOverflow:"ellipsis",style:Qp,children:Q})}),P[65]=Q,P[66]=es,P[67]=v):v=P[67],P[68]!==Q||P[69]!==es?(b=!es&&(0,_.jsx)(I.Text,{size:1,align:"left",textOverflow:"ellipsis",style:Qp,children:Q}),P[68]=Q,P[69]=es,P[70]=b):b=P[70],P[71]!==ee||P[72]!==G||P[73]!==$||P[74]!==v||P[75]!==b?(x=(0,_.jsxs)(Qo,{gap:2,flex:2,paddingRight:1,align:"center",onClick:G,onKeyPress:$,"data-id":ee,children:[y,v,b]}),P[71]=ee,P[72]=G,P[73]=$,P[74]=v,P[75]=b,P[76]=x):x=P[76],P[77]!==ee||P[78]!==K||P[79]!==X||P[80]!==G||P[81]!==$||P[82]!==g||P[83]!==x?(C=(0,_.jsx)(Qs,{asset:K,mode:"bleed","data-id":ee,onClick:G,padding:0,onKeyPress:$,title:g,isSelected:X,radius:2,children:x}),P[77]=ee,P[78]=K,P[79]=X,P[80]=G,P[81]=$,P[82]=g,P[83]=x,P[84]=C):C=P[84],P[85]!==el?(k=(0,_.jsx)(Qo,{align:"center",children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:el})}),P[85]=el,P[86]=k):k=P[86],P[87]!==ea?(w=(0,_.jsx)(Qo,{align:"center",children:(0,_.jsx)(I.Box,{children:(0,_.jsx)(Qc,{size:1,muted:!0,textOverflow:"ellipsis",children:ea})})}),P[87]=ea,P[88]=w):w=P[88],P[89]!==er||P[90]!==ei?(S=(0,_.jsx)(Qo,{align:"center",children:(0,_.jsx)(I.Text,{as:"time",size:1,muted:!0,dateTime:er,children:ei})}),P[89]=er,P[90]=ei,P[91]=S):S=P[91],P[92]===Symbol.for("react.memo_cache_sentinel")?(T=(0,_.jsx)(Qo,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:Qf,children:(0,_.jsx)(Qt,{border:!1,isSelected:!1,onAction:ey})}),P[92]=T):T=P[92],P[93]!==ee||P[94]!==m||P[95]!==C||P[96]!==k||P[97]!==w||P[98]!==S?(D=(0,_.jsxs)(I.Grid,{columns:4,gap:1,"data-id":ee,paddingY:1,style:m,children:[C,k,w,S,T]}),P[93]=ee,P[94]=m,P[95]=C,P[96]=k,P[97]=w,P[98]=S,P[99]=D):D=P[99];let eC=ev||eb;return P[100]!==K||P[101]!==X||P[102]!==D||P[103]!==eC?(O=(0,_.jsxs)(Ql,{asset:K,paddingBottom:1,style:Qu,radius:0,overflow:"hidden",isSelected:X,"aria-selected":"true",children:[D,eC]}),P[100]=K,P[101]=X,P[102]=D,P[103]=eC,P[104]=O):O=P[104],O};function Qm(e){return!e}let Qg={paddingLeft:"2.2rem"},Qy={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Qv(e){let t,n,r,i,a,o=(0,j.c)(25),l=2>(0,I.useMediaIndex)(),{assets:s,onClick:c,onKeyPress:u,onDeleteFinished:d,selectedAssets:p,isLoading:f}=e,{t:h}=IO();if(o[0]!==l||o[1]!==h?(t=(0,_.jsx)(I.Card,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:l?(0,_.jsx)(I.Grid,{style:Qy,children:(0,_.jsx)(I.Box,{flex:2,paddingLeft:5,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:h("asset-source.file.asset-list.header.filename")})})}):(0,_.jsxs)(I.Grid,{gap:1,style:Qy,children:[(0,_.jsx)(I.Box,{flex:2,style:Qg,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:h("asset-source.file.asset-list.header.filename")})}),(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:h("asset-source.file.asset-list.header.size")})}),(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:h("asset-source.file.asset-list.header.type")})}),(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:h("asset-source.file.asset-list.header.date-added")})})]})}),o[0]=l,o[1]=h,o[2]=t):t=o[2],o[3]!==s.length||o[4]!==f?(n=f&&0===s.length&&(0,_.jsx)(I.Box,{paddingTop:4,paddingBottom:2,children:(0,_.jsx)(I.Flex,{justify:"center",children:(0,_.jsx)(I.Spinner,{muted:!0})})}),o[3]=s.length,o[4]=f,o[5]=n):n=o[5],o[6]!==s||o[7]!==l||o[8]!==c||o[9]!==d||o[10]!==u||o[11]!==p){let e;o[13]!==l||o[14]!==c||o[15]!==d||o[16]!==u||o[17]!==p?(e=e=>(0,_.jsx)(Qh,{asset:e,isMobile:l,isSelected:p.some(t=>t._id===e._id),onClick:c,onKeyPress:u,onDeleteFinished:d},e._id),o[13]=l,o[14]=c,o[15]=d,o[16]=u,o[17]=p,o[18]=e):e=o[18],r=s.map(e),o[6]=s,o[7]=l,o[8]=c,o[9]=d,o[10]=u,o[11]=p,o[12]=r}else r=o[12];return o[19]!==n||o[20]!==r?(i=(0,_.jsxs)(I.Stack,{children:[n,r]}),o[19]=n,o[20]=r,o[21]=i):i=o[21],o[22]!==t||o[23]!==i?(a=(0,_.jsxs)(I.Box,{children:[t,i]}),o[22]=t,o[23]=i,o[24]=a):a=o[24],a}let Qb=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Qx=F.styled.img(_P()),QC=(0,F.styled)(I.Card)(_M()),Qk=F.styled.div(_F()),Qw=F.styled.div(_R(),Qk,Qk),Q_=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(48),x=eTt(AE),C=(0,A.useToast)(),k=(0,E.useRef)(void 0),{asset:w,onClick:S,onKeyPress:T,onDeleteFinished:D,isSelected:O}=e,[P,M]=(0,E.useState)(!1),[F,R]=(0,E.useState)(!1),[B,N]=(0,E.useState)(!1),{t:L}=IO();b[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>()=>{k.current&&k.current.unsubscribe()},n=[],b[0]=t,b[1]=n):(t=b[0],n=b[1]),(0,E.useEffect)(t,n),b[2]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{R(!0)},b[2]=r):r=b[2];let z=r;b[3]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{M(!1),R(!1)},b[3]=i):i=b[3];let V=i;b[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{M(!0)},b[4]=a):a=b[4];let U=a;b[5]!==L||b[6]!==C?(o=e=>{C.push({closable:!0,status:"error",title:L("asset-source.image.asset-list.delete-failed"),description:e.message})},b[5]=L,b[6]=C,b[7]=o):o=b[7];let H=o;b[8]!==L||b[9]!==C?(l=()=>{C.push({status:"success",title:L("asset-source.image.asset-list.delete-successful")})},b[8]=L,b[9]=C,b[10]=l):l=b[10];let q=l;b[11]!==w._id||b[12]!==H||b[13]!==q||b[14]!==D||b[15]!==x.observable?(s=()=>{N(!0),k.current=x.observable.delete(w._id).subscribe({next:()=>{N(!1),D(w._id),R(!1),q()},error:e=>{N(!1),H(e),console.error("Could not delete asset",e)}})},b[11]=w._id,b[12]=H,b[13]=q,b[14]=D,b[15]=x.observable,b[16]=s):s=b[16];let W=s;b[17]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{"delete"===e.type&&z(),"showUsage"===e.type&&U()},b[17]=c):c=b[17];let Y=c;b[18]!==w||b[19]!==P?(u=P&&(0,_.jsx)(Qn,{assetType:"file",asset:w,onClose:V}),b[18]=w,b[19]=P,b[20]=u):u=b[20];let K=u;b[21]!==w||b[22]!==W||b[23]!==B||b[24]!==F?(d=F&&(0,_.jsx)(J6,{assetType:"file",asset:w,onClose:V,onDelete:W,isDeleting:B}),b[21]=w,b[22]=W,b[23]=B,b[24]=F,b[25]=d):d=b[25];let G=d,{originalFilename:$,_id:Z,url:X}=w,J=200*Math.max(1,Qb),Q=X.includes(".gif")?"".concat(X,"?h=").concat(J,"&fit=max&fm=jpg"):"".concat(X,"?h=").concat(J,"&fit=max");b[26]===Symbol.for("react.memo_cache_sentinel")?(p={padding:2},b[26]=p):p=b[26],b[27]!==Z||b[28]!==Q||b[29]!==S||b[30]!==$?(f=(0,_.jsx)(Qx,{alt:$,src:Q,onClick:S,"data-id":Z}),b[27]=Z,b[28]=Q,b[29]=S,b[30]=$,b[31]=f):f=b[31],b[32]!==B?(h=B&&(0,_.jsx)(DU,{}),b[32]=B,b[33]=h):h=b[33],b[34]!==f||b[35]!==h?(m=(0,_.jsxs)(QC,{__unstable_checkered:!0,children:[f,h]}),b[34]=f,b[35]=h,b[36]=m):m=b[36],b[37]!==Z||b[38]!==O||b[39]!==T||b[40]!==m?(g=(0,_.jsx)(I.Button,{selected:O,tabIndex:0,"data-id":Z,mode:"ghost",onKeyPress:T,padding:0,style:p,children:m}),b[37]=Z,b[38]=O,b[39]=T,b[40]=m,b[41]=g):g=b[41],b[42]!==O?(y=(0,_.jsx)(Qw,{children:(0,_.jsx)(Qt,{isSelected:O,onAction:Y})}),b[42]=O,b[43]=y):y=b[43];let ee=K||G;return b[44]!==g||b[45]!==y||b[46]!==ee?(v=(0,_.jsxs)(Qk,{children:[g,y,ee]}),b[44]=g,b[45]=y,b[46]=ee,b[47]=v):v=b[47],v}),Qj=(0,F.styled)(I.Grid)(_B());function QS(e){let t,n,r,i,a,o=(0,j.c)(23),{isLoading:l,assets:s,selectedAssets:c,onItemClick:u,onItemKeyPress:d,onDeleteFinished:p}=e;if(o[0]!==s||o[1]!==p||o[2]!==u||o[3]!==d||o[4]!==c){let e;o[6]!==p||o[7]!==u||o[8]!==d||o[9]!==c?(e=e=>(0,_.jsx)(Q_,{asset:e,isSelected:c.some(t=>t._id===e._id),onClick:u,onKeyPress:d,onDeleteFinished:p},e._id),o[6]=p,o[7]=u,o[8]=d,o[9]=c,o[10]=e):e=o[10],t=s.map(e),o[0]=s,o[1]=p,o[2]=u,o[3]=d,o[4]=c,o[5]=t}else t=o[5];return o[11]!==t?(n=(0,_.jsx)(Qj,{gap:2,children:t}),o[11]=t,o[12]=n):n=o[12],o[13]!==s.length||o[14]!==l?(r=l&&0===s.length&&(0,_.jsx)(I.Flex,{justify:"center",children:(0,_.jsx)(I.Spinner,{muted:!0})}),o[13]=s.length,o[14]=l,o[15]=r):r=o[15],o[16]!==s.length||o[17]!==l?(i=!l&&0===s.length&&(0,_.jsx)(I.Text,{align:"center",muted:!0}),o[16]=s.length,o[17]=l,o[18]=i):i=o[18],o[19]!==n||o[20]!==r||o[21]!==i?(a=(0,_.jsxs)(I.Box,{padding:4,children:[n,r,i]}),o[19]=n,o[20]=r,o[21]=i,o[22]=a):a=o[22],a}let QE="sanity.imageAsset",QT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QE,r=arguments.length>3?arguments[3]:void 0,i=r.length>0?(e=>{let t=["image/*","audio/*","video/*"],n=e.split(",").map(e=>e.trim()).reduce((e,n)=>t.includes(n)?{...e,wildcards:"mimeType match '".concat(n,"' || ").concat(e.wildcards)}:0===n.indexOf(".")?{...e,extensions:"'".concat(n.replace(".",""),"', ").concat(e.extensions)}:{...e,mimes:"'".concat(n,"', ").concat(e.mimes)},{mimes:"",extensions:"",wildcards:""});return"&&\n  (\n    ".concat(n.wildcards,"\n    extension in [").concat(n.extensions,"] ||\n    mimeType in [").concat(n.mimes,"]\n  )")})(r):"";return'\n  *[_type == "'.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,"] {\n    _id,\n    _updatedAt,\n    _createdAt,\n    url,\n    originalFilename,\n    mimeType,\n    extension,\n    size,\n    metadata {dimensions}\n  }\n")},QD=(0,F.styled)(I.Card)(_N()),QI=(0,E.memo)((0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w=(0,j.c)(68),S=eTt(AE);w[0]!==S?(n=S.withConfig({apiVersion:"2023-02-14"}),w[0]=S,w[1]=n):n=w[1];let T=n,[D]=(0,E.useState)(QA),A=(0,E.useRef)(0),{t:O}=IO(),P=(0,E.useRef)(void 0);w[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],w[2]=r):r=w[2];let[M,F]=(0,E.useState)(r),[N,L]=(0,E.useState)(!1),[z,V]=(0,E.useState)(!1),[U,H]=(0,E.useState)(!0),{selectedAssets:q,assetType:W,dialogHeaderTitle:Y,onClose:K,onSelect:G,accept:$}=e,Z=void 0===W?"image":W,X=$&&"image/*"===$&&"image"===Z;w[3]!==$||w[4]!==Z||w[5]!==T?(i=e=>{let t=200*e,n="image"===Z;H(!0),"u">typeof $&&(P.current=T.observable.fetch(QT(t,t+200,n?QE:"sanity.fileAsset",$),{},{tag:n?"asset.image-list":"asset.file-list"}).subscribe(e=>{L(e.length<200),F(t=>t.concat(e)),H(!1)}))},w[3]=$,w[4]=Z,w[5]=T,w[6]=i):i=w[6];let J=i;w[7]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{F(t=>t.filter(t=>t._id!==e))},w[7]=a):a=w[7];let Q=a;w[8]!==M||w[9]!==G?(o=e=>{M.find(t=>t._id===e)&&G([{kind:"assetDocumentId",value:e}])},w[8]=M,w[9]=G,w[10]=o):o=w[10];let ee=o;w[11]!==ee?(l=e=>{e.preventDefault();let t=e.currentTarget.getAttribute("data-id");if(!t)throw Error("Missing data-id attribute on item");ee(t)},w[11]=ee,w[12]=l):l=w[12];let et=l;w[13]!==ee?(s=e=>{if("Enter"===e.key){e.preventDefault();let t=e.currentTarget.getAttribute("data-id");if(!t)throw Error("Missing data-id attribute on item");ee(t)}},w[13]=ee,w[14]=s):s=w[14];let en=s;w[15]!==K?(c=()=>{K&&K()},w[15]=K,w[16]=c):c=w[16];let er=c;w[17]!==J?(u=e=>{e.preventDefault(),J(A.current=A.current+1)},w[17]=J,w[18]=u):u=w[18];let ei=u;w[19]!==J?(d=()=>(J(A.current),()=>{P.current&&P.current.unsubscribe()}),p=[J],w[19]=J,w[20]=d,w[21]=p):(d=w[20],p=w[21]),(0,E.useEffect)(d,p),w[22]!==U?(f=()=>{U||A.current&&0!==A.current||V(!0)},h=[U],w[22]=U,w[23]=f,w[24]=h):(f=w[23],h=w[24]),(0,E.useEffect)(f,h),w[25]===Symbol.for("react.memo_cache_sentinel")?(m={style:"narrow"},w[25]=m):m=w[25];let ea=Iz(m);return w[26]!==Z||w[27]!==Y||w[28]!==O?(g=Y||O("asset-source.dialog.default-title",{context:Z}),w[26]=Z,w[27]=Y,w[28]=O,w[29]=g):g=w[29],w[30]!==$||w[31]!==X||w[32]!==U||w[33]!==ea||w[34]!==O?(y=!X&&!U&&(null==$?void 0:$.length)>0&&(0,_.jsx)(I.Card,{tone:"primary",padding:3,border:!0,radius:2,children:(0,_.jsxs)(I.Flex,{gap:3,align:"center",children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.InfoOutlineIcon,{})}),(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:O,i18nKey:"asset-source.dialog.accept-message",values:{acceptTypes:ea.format($.split(",").map(QO))}})})]})}),w[30]=$,w[31]=X,w[32]=U,w[33]=ea,w[34]=O,w[35]=y):y=w[35],w[36]!==Z||w[37]!==M||w[38]!==et||w[39]!==en||w[40]!==U||w[41]!==q?(v="file"===Z&&(0,_.jsx)(Qv,{assets:M,onDeleteFinished:Q,onClick:et,onKeyPress:en,isLoading:U,selectedAssets:q}),w[36]=Z,w[37]=M,w[38]=et,w[39]=en,w[40]=U,w[41]=q,w[42]=v):v=w[42],w[43]!==Z||w[44]!==M||w[45]!==et||w[46]!==en||w[47]!==U||w[48]!==q?(b="image"===Z&&(0,_.jsx)(QS,{assets:M,onDeleteFinished:Q,onItemClick:et,onItemKeyPress:en,isLoading:U,selectedAssets:q}),w[43]=Z,w[44]=M,w[45]=et,w[46]=en,w[47]=U,w[48]=q,w[49]=b):b=w[49],w[50]!==M.length||w[51]!==ei||w[52]!==N||w[53]!==U||w[54]!==O?(x=M.length>0&&!N&&(0,_.jsx)(QD,{tone:"default",padding:4,children:(0,_.jsx)(I.Flex,{direction:"column",children:(0,_.jsx)(B.Button,{type:"button",icon:R.DownloadIcon,loading:U,onClick:ei,size:"large",text:O("asset-source.dialog.load-more"),tone:"primary"})})}),w[50]=M.length,w[51]=ei,w[52]=N,w[53]=U,w[54]=O,w[55]=x):x=w[55],w[56]!==y||w[57]!==v||w[58]!==b||w[59]!==x?(C=(0,_.jsxs)(I.Stack,{space:5,children:[y,v,b,x]}),w[56]=y,w[57]=v,w[58]=b,w[59]=x,w[60]=C):C=w[60],w[61]!==D||w[62]!==er||w[63]!==z||w[64]!==t||w[65]!==g||w[66]!==C?(k=(0,_.jsx)(B.Dialog,{__unstable_autoFocus:z,header:g,id:D,onClickOutside:er,onClose:er,ref:t,width:2,children:C}),w[61]=D,w[62]=er,w[63]=z,w[64]=t,w[65]=g,w[66]=C,w[67]=k):k=w[67],k}));function QA(){return"default-asset-source-".concat((0,to.default)())}function QO(e){return e.trim()}let QP=(0,E.memo)((0,E.forwardRef)(function(e,t){let n=(0,j.c)(3),{action:r}=e;if((void 0===r?"select":r)==="select"){let r;return n[0]!==e||n[1]!==t?(r=(0,_.jsx)(QI,{...e,ref:t}),n[0]=e,n[1]=t,n[2]=r):r=n[2],r}return null}));class QM{checkAllComplete(){this.files.length>0&&this.files.every(e=>["complete","error","aborted"].includes(e.status))&&(this.emit({type:"all-complete",files:this.files}),this.reset())}emit(e){this.subscribers.forEach(t=>t(e))}upload(e,t){let{schemaType:n,onChange:r}=t||{};for(let t of e){if(!n)throw Error("No schema type provided for file upload");if(!r)throw Error("No onChange provided for file upload");let e=Hr(n,t),i={metadata:(0,n_.default)(n,"options.metadata"),storeOriginalFilename:(0,n_.default)(n,"options.storeOriginalFilename")},a=(0,h6.uuid)(),o={id:a,file:t,progress:0,status:"pending"};this.files.push(o),e&&this.subscriptions.set(a,e.upload(this.client,t,n,i).subscribe({next:e=>{let{patches:t}=e;this.updateFile(o.id,{status:"uploading"}),t&&r(t)},error:e=>{var t;let n;n=e instanceof Error?e:Error("Unknown error"),this.updateFile(o.id,{status:"error",error:n}),this.emit({type:"error",files:this.files.filter(e=>"error"===e.status)}),null==(t=this.subscriptions.get(a))||t.unsubscribe()},complete:()=>{var e;this.updateFile(o.id,{status:"complete"}),null==(e=this.subscriptions.get(a))||e.unsubscribe()}}))}return this.files}abort(e){if(e){let t=this.files.find(t=>t.id===e.id);t&&["pending","uploading"].includes(t.status)&&this.updateFile(t.id,{status:"aborted"})}else for(let e of this.files)["pending","uploading"].includes(e.status)&&this.updateFile(e.id,{status:"aborted"});this.emit({type:"abort",files:this.files.filter(e=>"aborted"===e.status)}),this.checkAllComplete()}updateFile(e,t){let n=this.files.find(t=>t.id===e);n&&(t.error&&(n.error=t.error),t.progress&&t.progress!==n.progress&&(n.progress=t.progress,this.emit({type:"progress",file:n,progress:100*n.progress})),t.status&&t.status!==n.status&&(n.status=t.status,this.emit({type:"status",file:n,status:n.status}))),this.checkAllComplete()}subscribe(e){for(let t of(this.subscribers.add(e),this.files))e({type:"status",file:t,status:t.status}),e({type:"progress",file:t,progress:t.progress});return this.checkAllComplete(),()=>{this.subscribers.delete(e)}}getFiles(){return this.files}reset(){this.files=[]}constructor(e){(0,k._)(this,"files",[]),(0,k._)(this,"subscribers",new Set),(0,k._)(this,"subscriptions",new Map),this.client=e.client}}function QF(e){return class extends QM{constructor(){super(e)}}}let QR="sanity-default";function QB(e){return{name:QR,title:e.title,component:QP,icon:R.ImageIcon,Uploader:QF(e)}}function QN(e){return{name:QR,title:e.title,component:QP,icon:R.DocumentsIcon,Uploader:QF(e)}}let QL=(0,F.styled)(B.Button).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e,{focusRing:n}=t.sanity,r=t.sanity.color.base;return(0,F.css)(_L(),qp({base:r,border:{width:1,color:"var(--card-border-color)"},focusRing:n}))});(0,F.styled)(B.MenuItem).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e,{focusRing:n}=t.sanity,r=t.sanity.color.base;return(0,F.css)(_z(),qp({base:r,border:{width:1,color:"var(--card-border-color)"},focusRing:n}))});let Qz=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(27);h[0]!==e?({icon:a,id:o,accept:n,capture:r,multiple:l,onSelect:s,text:u,disabled:i,...c}=e,h[0]=e,h[1]=n,h[2]=r,h[3]=i,h[4]=a,h[5]=o,h[6]=l,h[7]=s,h[8]=c,h[9]=u):(n=h[1],r=h[2],i=h[3],a=h[4],o=h[5],l=h[6],s=h[7],c=h[8],u=h[9]);let m="".concat(o||"","-").concat((0,E.useId)());h[10]!==s?(d=e=>{s&&e.target.files&&s(Array.from(e.target.files))},h[10]=s,h[11]=d):d=h[11];let g=d;return h[12]!==n||h[13]!==r||h[14]!==i||h[15]!==t||h[16]!==g||h[17]!==m||h[18]!==l?(p=(0,_.jsx)("input",{"data-testid":"file-button-input",accept:n,capture:r,id:m,multiple:l,onChange:g,ref:t,type:"file",value:"",disabled:i}),h[12]=n,h[13]=r,h[14]=i,h[15]=t,h[16]=g,h[17]=m,h[18]=l,h[19]=p):p=h[19],h[20]!==i||h[21]!==a||h[22]!==m||h[23]!==c||h[24]!==p||h[25]!==u?(f=(0,_.jsx)(QL,{...c,icon:a,text:u,htmlFor:m,disabled:i,children:p}),h[20]=i,h[21]=a,h[22]=m,h[23]=c,h[24]=p,h[25]=u,h[26]=f):f=h[26],f}),QV={portal:!0},QU={placement:"right-start",fallbackPlacements:["left-start","bottom","top"]},QH="data-asset-source-name",Qq=(0,E.memo)((0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(53),{accept:u,assetSources:d,capture:p,directUploads:f,multiple:h,onSelectFiles:m,readOnly:g,renderAsMenuGroup:y}=e,{t:v}=IO();c[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,to.default)(),c[0]=n):n=c[0];let b=n,x=g||!1===f;c[1]===Symbol.for("react.memo_cache_sentinel")?(r=e=>"".concat(b,"-").concat(e.name,"-upload-button"),c[1]=r):r=c[1];let C=r;c[2]!==d?(i=e=>{let t=e.currentTarget.getAttribute(QH),n=d.find(e=>e.name===t);if(!n)return;let r=document.getElementById(C(n));r&&document.activeElement!==r&&r.click()},c[2]=d,c[3]=i):i=c[3];let k=i;c[4]!==d?(a=e=>{let t=e.props[QH],n=d.find(e=>e.name===t);return n?(0,_.jsx)("label",{htmlFor:C(n),children:e}):e},c[4]=d,c[5]=a):a=c[5];let w=a;c[6]!==d[0]||c[7]!==k||c[8]!==w||c[9]!==v||c[10]!==x?(o=(e,t)=>{let n=C(e),r=e.name===d[0].name;return(0,_.jsx)(B.MenuItem,{[QH]:e.name,badgeText:r?v("input.files.common.upload-placeholder.file-input-button.default-source.badge"):void 0,"data-testid":"file-input-upload-button-".concat(t),disabled:x,htmlFor:n,icon:e.icon,onClick:k,renderMenuItem:w,text:(e.i18nKey?v(e.i18nKey):e.title)||(0,ti.default)(e.name)},"".concat(n,"-menu-button"))},c[6]=d[0],c[7]=k,c[8]=w,c[9]=v,c[10]=x,c[11]=o):o=c[11];let S=o;c[12]!==d||c[13]!==m?(l=e=>{let t=e.target.dataset.assetSourceName,n=d.find(e=>e.name===t);n&&(m&&e.target.files&&m(n,Array.from(e.target.files)),e.stopPropagation(),e.preventDefault())},c[12]=d,c[13]=m,c[14]=l):l=c[14];let E=l;if(c[15]!==u||c[16]!==d||c[17]!==p||c[18]!==E||c[19]!==h){let e;c[21]!==u||c[22]!==p||c[23]!==E||c[24]!==h?(e=e=>{let t=C(e);return(0,_.jsx)("input",{accept:u,capture:p,id:t,"data-asset-source-name":e.name,multiple:h,onChange:E,type:"file",value:"",style:{display:"none"}},t)},c[21]=u,c[22]=p,c[23]=E,c[24]=h,c[25]=e):e=c[25],s=d.map(e),c[15]=u,c[16]=d,c[17]=p,c[18]=E,c[19]=h,c[20]=s}else s=c[20];let T=s;if(d&&d.length>1){let e,n,r,i,a,o;if(c[26]!==d||c[27]!==S){let t;c[29]!==S?(t=(e,t)=>S(e,t),c[29]=S,c[30]=t):t=c[30],e=d.map(t),c[26]=d,c[27]=S,c[28]=e}else e=c[28];let l=e;if(void 0!==y&&y){let e,t,n;return c[31]!==v?(e=v("input.files.common.upload-placeholder.file-input-button.text"),c[31]=v,c[32]=e):e=c[32],c[33]!==l||c[34]!==e?(t=(0,_.jsx)(gr,{icon:R.UploadIcon,text:e,popover:QU,children:l}),c[33]=l,c[34]=e,c[35]=t):t=c[35],c[36]!==T||c[37]!==t?(n=(0,_.jsxs)(_.Fragment,{children:[t,T]}),c[36]=T,c[37]=t,c[38]=n):n=c[38],n}return c[39]!==v?(n=v("input.files.common.upload-placeholder.file-input-button.text"),c[39]=v,c[40]=n):n=c[40],c[41]!==n||c[42]!==x?(r=(0,_.jsx)(B.Button,{"data-testid":"file-input-upload-button-0",icon:R.UploadIcon,iconRight:R.ChevronDownIcon,mode:"bleed",disabled:x,text:n}),c[41]=n,c[42]=x,c[43]=r):r=c[43],c[44]!==l?(i=(0,_.jsx)(I.Menu,{children:l}),c[44]=l,c[45]=i):i=c[45],c[46]!==t||c[47]!==r||c[48]!==i?(a=(0,_.jsx)(B.MenuButton,{id:"".concat(b,"_upload-button"),ref:t,button:r,menu:i,popover:QV}),c[46]=t,c[47]=r,c[48]=i,c[49]=a):a=c[49],c[50]!==T||c[51]!==a?(o=(0,_.jsxs)(_.Fragment,{children:[a,T]}),c[50]=T,c[51]=a,c[52]=o):o=c[52],o}return null}));function QW(e){return!!e.Uploader}let QY=(0,E.memo)(function(e){let t,n,r,i,a=(0,j.c)(35),{accept:o,acceptedFiles:l,assetSources:s,browse:c,directUploads:u,hoveringFiles:d,onUpload:p,readOnly:f,rejectedFilesCount:h,type:m}=e,[g,y]=(0,E.useState)(null),v=(0,I.useElementSize)(g),b=(null==v?void 0:v.border)&&v.border.width<440,{t:x}=IO(),C=eTt(AE),k=eii();if(a[0]!==s||a[1]!==C||a[2]!==k||a[3]!==m){if(0===(t=s.filter(QW)).length){let e={client:C,title:k.title||k.name},n="file"===m;t.push(n?QN(e):QB(e))}a[0]=s,a[1]=C,a[2]=k,a[3]=m,a[4]=t}else t=a[4];let w=t;a[5]!==p?(n=(e,t)=>{p&&p(e,t)},a[5]=p,a[6]=n):n=a[6];let S=n;switch(w.length){case 0:r=null;break;case 1:{let e,t,n,i="file-input-upload-button-".concat(w[0].name),l=f||!1===u;a[7]!==w[0]||a[8]!==p?(e=e=>{p&&p(w[0],e)},a[7]=w[0],a[8]=p,a[9]=e):e=a[9],a[10]!==x?(t=x("input.files.common.upload-placeholder.file-input-button.text"),a[10]=x,a[11]=t):t=a[11],a[12]!==o||a[13]!==i||a[14]!==l||a[15]!==e||a[16]!==t?(n=(0,_.jsx)(Qz,{accept:o,"data-testid":i,disabled:l,icon:R.UploadIcon,mode:"bleed",onSelect:e,text:t}),a[12]=o,a[13]=i,a[14]=l,a[15]=e,a[16]=t,a[17]=n):n=a[17],r=n;break}default:{let e;a[18]!==o||a[19]!==w||a[20]!==u||a[21]!==S||a[22]!==f?(e=(0,_.jsx)(Qq,{accept:o,assetSources:w,directUploads:u,onSelectFiles:S,readOnly:f}),a[18]=o,a[19]=w,a[20]=u,a[21]=S,a[22]=f,a[23]=e):e=a[23],r=e}}let T=r;return a[24]!==l||a[25]!==w.length||a[26]!==c||a[27]!==b||a[28]!==u||a[29]!==d||a[30]!==f||a[31]!==h||a[32]!==m||a[33]!==T?(i=0===w.length?null:(0,_.jsxs)(I.Flex,{align:b?void 0:"center",direction:b?"column":"row",gap:4,justify:"space-between",paddingY:b?1:void 0,ref:y,children:[(0,_.jsx)(I.Flex,{flex:1,children:(0,_.jsx)(Jq,{acceptedFiles:l,directUploads:u,hoveringFiles:d,readOnly:f,rejectedFilesCount:h,type:m})}),(0,_.jsxs)(I.Flex,{align:"center",gap:1,justify:"center",wrap:"wrap",children:[T,c]})]}),a[24]=l,a[25]=w.length,a[26]=c,a[27]=b,a[28]=u,a[29]=d,a[30]=f,a[31]=h,a[32]=m,a[33]=T,a[34]=i):i=a[34],i}),QK=(0,F.styled)(I.Card)(_V()),QG=(0,F.styled)(I.Card)(_U()),Q$=(0,F.styled)(I.Flex)(_H()),QZ=(0,F.styled)(QK)(_q()),QX=(0,F.styled)(I.Flex)(_W()),QJ=(0,F.styled)(I.Stack)(_Y()),QQ=(0,F.styled)(I.Code)(_K());function Q1(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(22),{uploadState:p,onCancel:f,onStale:h}=e,m=p.file.name;d[0]!==h||d[1]!==p.updatedAt?(t=()=>{let e;e=p.updatedAt,new Date().getTime()-new Date(e).getTime()>12e4&&(null==h||h())},n=[p.updatedAt,h],d[0]=h,d[1]=p.updatedAt,d[2]=t,d[3]=n):(t=d[2],n=d[3]),(0,E.useEffect)(t,n);let{t:g}=IO();return d[4]===Symbol.for("react.memo_cache_sentinel")?(r=[3,3,2,2],i=["column","column","row"],d[4]=r,d[5]=i):(r=d[4],i=d[5]),d[6]!==m?(a={FileName:()=>(0,_.jsx)(QQ,{size:1,children:m||"…"})},d[6]=m,d[7]=a):a=d[7],d[8]!==g||d[9]!==a?(o=(0,_.jsx)(I.Flex,{justify:"center",gap:r,direction:i,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(I.Inline,{space:2,children:(0,_.jsx)(IZ,{t:g,i18nKey:"input.files.common.upload-progress",components:a})})})}),d[8]=g,d[9]=a,d[10]=o):o=d[10],d[11]!==p.progress?(l=(0,_.jsx)(I.Card,{border:!0,marginTop:3,radius:5,children:(0,_.jsx)(eTX,{value:p.progress})}),d[11]=p.progress,d[12]=l):l=d[12],d[13]!==o||d[14]!==l?(s=(0,_.jsxs)(QJ,{children:[o,l]}),d[13]=o,d[14]=l,d[15]=s):s=d[15],d[16]!==f||d[17]!==g?(c=f?(0,_.jsx)(B.Button,{mode:"ghost",onClick:f,text:g("input.files.common.cancel-upload"),tone:"critical"}):null,d[16]=f,d[17]=g,d[18]=c):c=d[18],d[19]!==s||d[20]!==c?(u=(0,_.jsx)(QZ,{tone:"primary",border:!0,children:(0,_.jsxs)(QX,{padding:4,align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[s,c]})}),d[19]=s,d[20]=c,d[21]=u):u=d[21],u}function Q2(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(20),{onClearStale:d}=e,{t:p}=IO();return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),u[0]=t):t=u[0],u[1]!==p?(n=p("inputs.files.common.stale-upload-warning.title"),u[1]=p,u[2]=n):n=u[2],u[3]!==n?(r=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:n}),u[3]=n,u[4]=r):r=u[4],u[5]!==p?(i=p("inputs.files.common.stale-upload-warning.description",{staleThresholdMinutes:Math.ceil(2)}),u[5]=p,u[6]=i):i=u[6],u[7]!==i?(a=(0,_.jsx)(I.Text,{size:1,children:i}),u[7]=i,u[8]=a):a=u[8],u[9]!==r||u[10]!==a?(o=(0,_.jsxs)(I.Flex,{gap:4,marginBottom:4,children:[t,(0,_.jsxs)(I.Stack,{space:3,children:[r,a]})]}),u[9]=r,u[10]=a,u[11]=o):o=u[11],u[12]!==p?(l=p("inputs.files.common.stale-upload-warning.clear"),u[12]=p,u[13]=l):l=u[13],u[14]!==d||u[15]!==l?(s=(0,_.jsx)(B.Button,{icon:R.ResetIcon,mode:"ghost",onClick:d,text:l,width:"fill"}),u[14]=d,u[15]=l,u[16]=s):s=u[16],u[17]!==o||u[18]!==s?(c=(0,_.jsxs)(I.Card,{tone:"caution",padding:4,border:!0,radius:2,children:[o,s]}),u[17]=o,u[18]=s,u[19]=c):c=u[19],c}function Q0(e){var t;let n,r,i,a,o=(0,j.c)(32),{assetSources:l,readOnly:s,id:c,browseButtonElementRef:u,schemaType:d,setIsBrowseMenuOpen:p,setSelectedAssetSource:f}=e,h=null==(t=d.options)?void 0:t.sources,{t:m}=IO();o[0]!==p||o[1]!==f?(n=e=>{p(!1),f(e)},o[0]=p,o[1]=f,o[2]=n):n=o[2];let g=n;if((null==h?void 0:h.length)===0||0===l.length)return null;if(l.length>1&&!s){let e,t,n,r,i,a="".concat(c,"_assetFileButton");if(o[3]!==m?(e=m("inputs.file.multi-browse-button.text"),o[3]=m,o[4]=e):e=o[4],o[5]!==e?(t=(0,_.jsx)(B.Button,{mode:"bleed",text:e,"data-testid":"file-input-multi-browse-button",icon:R.SearchIcon,iconRight:R.ChevronDownIcon}),o[5]=e,o[6]=t):t=o[6],o[7]!==l||o[8]!==g||o[9]!==m){let e;o[11]!==g||o[12]!==m?(e=e=>(0,_.jsx)(B.MenuItem,{text:(e.i18nKey?m(e.i18nKey):e.title)||(0,ti.default)(e.name),onClick:()=>g(e),icon:e.icon||R.ImageIcon,"data-testid":"file-input-browse-button-".concat(e.name)},e.name),o[11]=g,o[12]=m,o[13]=e):e=o[13],n=l.map(e),o[7]=l,o[8]=g,o[9]=m,o[10]=n}else n=o[10];return o[14]!==n?(r=(0,_.jsx)(I.Menu,{children:n}),o[14]=n,o[15]=r):r=o[15],o[16]!==u||o[17]!==a||o[18]!==t||o[19]!==r?(i=(0,_.jsx)(B.MenuButton,{id:a,ref:u,button:t,"data-testid":"input-select-button",menu:r}),o[16]=u,o[17]=a,o[18]=t,o[19]=r,o[20]=i):i=o[20],i}o[21]!==m?(r=m("inputs.file.browse-button.text"),o[21]=m,o[22]=r):r=o[22],o[23]!==l[0]||o[24]!==g?(i=()=>g(l[0]),o[23]=l[0],o[24]=g,o[25]=i):i=o[25];let y="file-input-browse-button-".concat(l[0].name);return o[26]!==u||o[27]!==s||o[28]!==r||o[29]!==i||o[30]!==y?(a=(0,_.jsx)(B.Button,{text:r,icon:R.SearchIcon,mode:"bleed",onClick:i,"data-testid":y,disabled:s,ref:u}),o[26]=u,o[27]=s,o[28]=r,o[29]=i,o[30]=y,o[31]=a):a=o[31],a}function Q5(e){let t,n,r,i=(0,j.c)(10),{reference:a,children:o,observeAsset:l,waitPlaceholder:s}=e,c=null==a?void 0:a._ref;i[0]!==c||i[1]!==l?(t=l(c),i[0]=c,i[1]=l,i[2]=t):t=i[2];let u=(0,te.useObservable)(t);return i[3]!==u||i[4]!==o||i[5]!==c||i[6]!==s?(n=c&&u?o(u):s,i[3]=u,i[4]=o,i[5]=c,i[6]=s,i[7]=n):n=i[7],i[8]!==n?(r=(0,_.jsx)(_.Fragment,{children:n}),i[8]=n,i[9]=r):r=i[9],r}function Q7(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(32),{onReset:d,readOnly:p,browse:f,downloadUrl:h,copyUrl:m,upload:g}=e,{push:y}=(0,A.useToast)(),{t:v}=IO();u[0]!==m||u[1]!==y||u[2]!==v?(t=()=>{navigator.clipboard.writeText(m||""),y({closable:!0,status:"success",title:v("inputs.files.common.actions-menu.notification.url-copied")})},u[0]=m,u[1]=y,u[2]=v,u[3]=t):t=u[3];let b=t;return u[4]!==f||u[5]!==g?(n=g&&f&&(0,_.jsx)(I.MenuDivider,{}),u[4]=f,u[5]=g,u[6]=n):n=u[6],u[7]!==m||u[8]!==h?(r=(h||m)&&(0,_.jsx)(I.MenuDivider,{}),u[7]=m,u[8]=h,u[9]=r):r=u[9],u[10]!==h||u[11]!==v?(i=h&&(0,_.jsx)(B.MenuItem,{as:"a",icon:R.DownloadIcon,text:v("inputs.files.common.actions-menu.download.label"),href:h}),u[10]=h,u[11]=v,u[12]=i):i=u[12],u[13]!==m||u[14]!==b||u[15]!==v?(a=m&&(0,_.jsx)(B.MenuItem,{icon:R.CopyIcon,text:v("inputs.files.common.actions-menu.copy-url.label"),onClick:b}),u[13]=m,u[14]=b,u[15]=v,u[16]=a):a=u[16],u[17]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsx)(I.MenuDivider,{}),u[17]=o):o=u[17],u[18]!==v?(l=v("inputs.files.common.actions-menu.clear-field.label"),u[18]=v,u[19]=l):l=u[19],u[20]!==d||u[21]!==p||u[22]!==l?(s=(0,_.jsx)(B.MenuItem,{tone:"critical",icon:R.ResetIcon,text:l,onClick:d,disabled:p,"data-testid":"file-input-clear"}),u[20]=d,u[21]=p,u[22]=l,u[23]=s):s=u[23],u[24]!==f||u[25]!==n||u[26]!==r||u[27]!==i||u[28]!==a||u[29]!==s||u[30]!==g?(c=(0,_.jsxs)(_.Fragment,{children:[g,n,f,r,i,a,o,s]}),u[24]=f,u[25]=n,u[26]=r,u[27]=i,u[28]=a,u[29]=s,u[30]=g,u[31]=c):c=u[31],c}let Q3=(0,F.styled)(B.MenuItem)(_G()),Q8=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(27);h[0]!==e?({icon:a,id:o,accept:n,capture:r,multiple:l,onSelect:s,text:u,disabled:i,...c}=e,h[0]=e,h[1]=n,h[2]=r,h[3]=i,h[4]=a,h[5]=o,h[6]=l,h[7]=s,h[8]=c,h[9]=u):(n=h[1],r=h[2],i=h[3],a=h[4],o=h[5],l=h[6],s=h[7],c=h[8],u=h[9]);let m="".concat(o||"","-").concat((0,E.useId)());h[10]!==s?(d=e=>{s&&e.target.files&&s(Array.from(e.target.files))},h[10]=s,h[11]=d):d=h[11];let g=d;h[12]!==n||h[13]!==r||h[14]!==i||h[15]!==g||h[16]!==m||h[17]!==l?(p=e=>(0,_.jsxs)("div",{children:[e,(0,_.jsx)("input",{"data-testid":"file-menuitem-input",accept:n,capture:r,id:m,multiple:l,onChange:g,type:"file",value:"",disabled:i})]}),h[12]=n,h[13]=r,h[14]=i,h[15]=g,h[16]=m,h[17]=l,h[18]=p):p=h[18];let y=p;return h[19]!==i||h[20]!==t||h[21]!==a||h[22]!==m||h[23]!==y||h[24]!==c||h[25]!==u?(f=(0,_.jsx)(Q3,{...c,htmlFor:m,disabled:i,ref:t,icon:a,text:u,renderMenuItem:y}),h[19]=i,h[20]=t,h[21]=a,h[22]=m,h[23]=y,h[24]=c,h[25]=u,h[26]=f):f=h[26],f});function Q4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n])}function Q6(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=(0,j.c)(52),{originalFilename:k,size:w,children:S,muted:T,disabled:D,onClick:A,isMenuOpen:O,onMenuOpen:P,setMenuButtonElement:M}=e,[F,N]=(0,E.useState)(null),[L,z]=(0,E.useState)(null);C[0]!==P?(t=()=>P(!0),C[0]=P,C[1]=t):t=C[1];let V=t;C[2]!==L||C[3]!==O||C[4]!==P?(n=e=>{O&&("Escape"===e.key||"Tab"===e.key)&&(P(!1),null==L||L.focus())},C[2]=L,C[3]=O,C[4]=P,C[5]=n):n=C[5],(0,I.useGlobalKeyDown)(n),C[6]!==L||C[7]!==P?(r=e=>{(null==L?void 0:L.contains(e.target))||P(!1)},C[6]=L,C[7]=P,C[8]=r):r=C[8],C[9]!==F?(i=()=>[F],C[9]=F,C[10]=i):i=C[10],(0,I.useClickOutsideEvent)(r,i),C[11]!==M?(a=e=>{M(e),z(e)},C[11]=M,C[12]=a):a=C[12];let U=a;C[13]!==O||C[14]!==F?(o=()=>{O&&(null==F||F.focus())},l=[O,F],C[13]=O,C[14]=F,C[15]=o,C[16]=l):(o=C[15],l=C[16]),(0,E.useEffect)(o,l);let{t:H}=IO(),q=T||D?void 0:"button";return C[17]===Symbol.for("react.memo_cache_sentinel")?(s=(0,_.jsx)(R.BinaryDocumentIcon,{}),C[17]=s):s=C[17],C[18]!==T?(c=(0,_.jsx)(I.Card,{padding:3,tone:"transparent",shadow:1,radius:1,children:(0,_.jsx)(I.Text,{muted:T,children:s})}),C[18]=T,C[19]=c):c=C[19],C[20]!==T||C[21]!==k?(u=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",muted:T,"data-testid":"file-name",weight:"medium",children:k}),C[20]=T,C[21]=k,C[22]=u):u=C[22],C[23]!==w?(d=Q4(w),C[23]=w,C[24]=d):d=C[24],C[25]!==d?(p=(0,_.jsx)(I.Text,{size:1,muted:!0,"data-testid":"file-size",children:d}),C[25]=d,C[26]=p):p=C[26],C[27]!==u||C[28]!==p?(f=(0,_.jsxs)(I.Stack,{flex:1,space:2,marginLeft:3,children:[u,p]}),C[27]=u,C[28]=p,C[29]=f):f=C[29],C[30]!==f||C[31]!==c?(h=(0,_.jsxs)(I.Flex,{wrap:"nowrap",align:"center",children:[c,f]}),C[30]=f,C[31]=c,C[32]=h):h=C[32],C[33]!==A||C[34]!==h||C[35]!==q?(m=(0,_.jsx)(I.Card,{as:q,radius:2,padding:2,tone:"inherit",onClick:A,flex:1,children:h}),C[33]=A,C[34]=h,C[35]=q,C[36]=m):m=C[36],C[37]!==S?(g=(0,_.jsx)(I.Menu,{ref:N,children:S}),C[37]=S,C[38]=g):g=C[38],C[39]!==H?(y=H("inputs.file.actions-menu.file-options.aria-label"),C[39]=H,C[40]=y):y=C[40],C[41]!==V||C[42]!==U||C[43]!==y?(v=(0,_.jsx)(DO,{"aria-label":y,"data-testid":"options-menu-button",onClick:V,ref:U}),C[41]=V,C[42]=U,C[43]=y,C[44]=v):v=C[44],C[45]!==O||C[46]!==g||C[47]!==v?(b=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Flex,{justify:"center",children:(0,_.jsx)(B.Popover,{content:g,id:"file-actions-menu",portal:!0,open:O,constrainSize:!0,children:v})})}),C[45]=O,C[46]=g,C[47]=v,C[48]=b):b=C[48],C[49]!==m||C[50]!==b?(x=(0,_.jsxs)(I.Flex,{wrap:"nowrap",justify:"space-between",align:"center",children:[m,b]}),C[49]=m,C[50]=b,C[51]=x):x=C[51],x}function Q9(){let e,t,n,r=(0,j.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.Skeleton,{padding:3,radius:1,animated:!0}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(A.TextSkeleton,{style:{width:"100%"},radius:1,animated:!0}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsxs)(I.Flex,{align:"center",justify:"flex-start",padding:2,children:[e,(0,_.jsxs)(I.Stack,{flex:1,space:2,marginLeft:3,children:[t,(0,_.jsx)(A.TextSkeleton,{style:{width:"100%"},radius:1,animated:!0})]})]}),r[2]=n):n=r[2],n}function eee(e){var t;let n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(57),{assetSources:f,clearField:h,directUploads:m,onSelectFiles:g,observeAsset:y,readOnly:v,schemaType:b,setBrowseButtonElement:x,setSelectedAssetSource:C,value:k}=e,{t:w}=IO(),[S,T]=(0,E.useState)(!1),D=null==k?void 0:k.asset,I=null==(t=b.options)?void 0:t.sources;p[0]!==b?(n=(0,n_.default)(b,"options.accept",""),p[0]=b,p[1]=n):n=p[1];let A=n;p[2]!==f?(r=f.filter(eet),p[2]=f,p[3]=r):r=p[3];let O=r;p[4]!==f||p[5]!==C?(i=e=>{T(!1);let t=e.currentTarget.getAttribute("data-asset-source-name"),n=f.find(e=>e.name===t);n?C(n):console.warn("No asset source found for the selected asset source name '".concat(t,"'"))},p[4]=f,p[5]=C,p[6]=i):i=p[6];let P=i;p[7]!==g?(a=(e,t)=>{T(!1),g(e,t)},p[7]=g,p[8]=a):a=p[8];let M=a;p[9]!==O[0]||p[10]!==M?(o=e=>{M(O[0],e)},p[9]=O[0],p[10]=M,p[11]=o):o=p[11];let F=o;e:{let e;if((null==I?void 0:I.length)===0||0===f.length){l=null;break e}if(1===f.length){let e,t;p[12]!==w?(e=w("inputs.file.browse-button.text"),p[12]=w,p[13]=e):e=p[13];let n="file-input-browse-button-".concat(f[0].name);p[14]!==f[0].name||p[15]!==P||p[16]!==v||p[17]!==e||p[18]!==n?(t=(0,_.jsx)(B.MenuItem,{icon:R.SearchIcon,text:e,onClick:P,disabled:v,"data-testid":n,"data-asset-source-name":f[0].name}),p[14]=f[0].name,p[15]=P,p[16]=v,p[17]=e,p[18]=n,p[19]=t):t=p[19],l=t;break e}if(p[20]!==f||p[21]!==P||p[22]!==v||p[23]!==w){let t;p[25]!==P||p[26]!==v||p[27]!==w?(t=e=>(0,_.jsx)(B.MenuItem,{text:(e.i18nKey?w(e.i18nKey):e.title)||(0,ti.default)(e.name),onClick:P,icon:e.icon||R.ImageIcon,disabled:v,"data-testid":"file-input-browse-button-".concat(e.name),"data-asset-source-name":e.name},e.name),p[25]=P,p[26]=v,p[27]=w,p[28]=t):t=p[28],e=f.map(t),p[20]=f,p[21]=P,p[22]=v,p[23]=w,p[24]=e}else e=p[24];l=e}let N=l;switch(O.length){case 0:s=null;break;case 1:{let e,t,n=O[0].name;p[29]!==w?(e=w("inputs.files.common.actions-menu.upload.label"),p[29]=w,p[30]=e):e=p[30];let r="file-input-upload-button-".concat(O[0].name),i=v||!1===m;p[31]!==A||p[32]!==O[0].name||p[33]!==F||p[34]!==i||p[35]!==e||p[36]!==r?(t=(0,_.jsx)(Q8,{icon:R.UploadIcon,onSelect:F,accept:A,"data-asset-source-name":n,text:e,"data-testid":r,disabled:i}),p[31]=A,p[32]=O[0].name,p[33]=F,p[34]=i,p[35]=e,p[36]=r,p[37]=t):t=p[37],s=t;break}default:{let e;p[38]!==A||p[39]!==O||p[40]!==m||p[41]!==M||p[42]!==v?(e=(0,_.jsx)(Qq,{accept:A,assetSources:O,directUploads:m,onSelectFiles:M,readOnly:v,"data-testid":"file-input-upload-drop-down-menu-button",renderAsMenuGroup:!0}),p[38]=A,p[39]=O,p[40]=m,p[41]=M,p[42]=v,p[43]=e):e=p[43],s=e}}let L=s;return D?(p[44]===Symbol.for("react.memo_cache_sentinel")?(c=(0,_.jsx)(Q9,{}),p[44]=c):c=p[44],p[45]!==N||p[46]!==h||p[47]!==S||p[48]!==v||p[49]!==x||p[50]!==L||p[51]!==k?(u=e=>{let t,n,{originalFilename:r,extension:i,url:a,size:o}=e;return(0,tg.isFileSource)(k)&&(n="".concat(a,"?dl"),t=a),(0,_.jsx)(Q6,{size:o,originalFilename:r||"download.".concat(i),muted:!v,onMenuOpen:T,isMenuOpen:S,setMenuButtonElement:x,children:(0,_.jsx)(Q7,{browse:N,upload:L,onReset:h,downloadUrl:n,copyUrl:t,readOnly:v})})},p[45]=N,p[46]=h,p[47]=S,p[48]=v,p[49]=x,p[50]=L,p[51]=k,p[52]=u):u=p[52],p[53]!==D||p[54]!==y||p[55]!==u?(d=(0,_.jsx)(Q5,{reference:D,observeAsset:y,waitPlaceholder:c,children:u}),p[53]=D,p[54]=y,p[55]=u,p[56]=d):d=p[56],d):null}function eet(e){return!!e.Uploader}function een(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(20),{onClearValue:d}=e,{t:p}=IO();return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),u[0]=t):t=u[0],u[1]!==p?(n=p("inputs.file.invalid-file-warning.title"),u[1]=p,u[2]=n):n=u[2],u[3]!==n?(r=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:n}),u[3]=n,u[4]=r):r=u[4],u[5]!==p?(i=p("inputs.file.invalid-file-warning.description"),u[5]=p,u[6]=i):i=u[6],u[7]!==i?(a=(0,_.jsx)(I.Text,{size:1,children:i}),u[7]=i,u[8]=a):a=u[8],u[9]!==r||u[10]!==a?(o=(0,_.jsxs)(I.Flex,{gap:4,marginBottom:4,children:[t,(0,_.jsxs)(I.Stack,{space:3,children:[r,a]})]}),u[9]=r,u[10]=a,u[11]=o):o=u[11],u[12]!==p?(l=p("inputs.file.invalid-file-warning.reset-button.text"),u[12]=p,u[13]=l):l=u[13],u[14]!==d||u[15]!==l?(s=(0,_.jsx)(B.Button,{icon:R.ResetIcon,mode:"ghost",onClick:d,text:l,width:"fill"}),u[14]=d,u[15]=l,u[16]=s):s=u[16],u[17]!==o||u[18]!==s?(c=(0,_.jsxs)(I.Card,{tone:"caution",padding:4,border:!0,radius:2,children:[o,s]}),u[17]=o,u[18]=s,u[19]=c):c=u[19],c}let eer=(0,F.styled)(I.Card)(_$()),eei=(0,F.styled)(I.Flex)(_Z()),eea=["asset"];function eeo(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(76),{assetSources:y,changed:v,clearField:b,directUploads:x,elementProps:C,hoveringFiles:k,isStale:w,isUploading:S,onCancelUpload:T,onClearUploadStatus:D,onSelectAssets:A,onSelectFiles:O,onStale:P,path:M,readOnly:F,resolveUploader:R,schemaType:B,setHoveringFiles:N,value:L}=e,{t:z}=IO();g[0]!==M?(n=M.concat(eea),g[0]=M,g[1]=n):n=g[1];let V=n,[U,H]=(0,E.useState)(null),[q,W]=(0,E.useState)(!1);g[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],g[2]=r):r=g[2];let[Y,K]=(0,E.useState)(r),G=null==(t=C.ref)?void 0:t.current,$=y.filter(eec).length>1;g[3]!==C?(i=e=>{var t;e.currentTarget===e.target&&e.currentTarget===(null==(t=C.ref)?void 0:t.current)&&C.onFocus(e)},g[3]=C,g[4]=i):i=g[4];let Z=i;g[5]!==x||g[6]!==$||g[7]!==R||g[8]!==B||g[9]!==N?(a=e=>{N(e.filter(ees));let t=!0,n=e.filter(e=>null==R?void 0:R(B,e)),r=e.length-n.length;e.length>0&&(r>0||!1===x)&&(t=!1),$&&t&&W(!0)},g[5]=x,g[6]=$,g[7]=R,g[8]=B,g[9]=N,g[10]=a):a=g[10];let X=a;g[11]!==N?(o=()=>{N([]),W(!1)},g[11]=N,g[12]=o):o=g[12];let J=o;g[13]!==x||g[14]!==J||g[15]!==k.length||g[16]!==O||g[17]!==F||g[18]!==N?(l=(e,t)=>{x&&!F?(N([]),O(e,t)):k.length>0&&J()},g[13]=x,g[14]=J,g[15]=k.length,g[16]=O,g[17]=F,g[18]=N,g[19]=l):l=g[19];let Q=l;g[20]!==x||g[21]!==k||g[22]!==F||g[23]!==R||g[24]!==B||g[25]!==(null==L?void 0:L._upload)||g[26]!==(null==L?void 0:L.asset)?(s=()=>{let e=k.filter(e=>null==R?void 0:R(B,e)),t=k.length-e.length;return k.length>0&&(t>0||!1===x)?"critical":(null==L?void 0:L._upload)||F||!(k.length>0)?(null==L?void 0:L._upload)&&(null==L?void 0:L.asset)&&F?"transparent":"default":"primary"},g[20]=x,g[21]=k,g[22]=F,g[23]=R,g[24]=B,g[25]=null==L?void 0:L._upload,g[26]=null==L?void 0:L.asset,g[27]=s):s=g[27];let ee=s,et=!!((null==L?void 0:L._upload)||(null==L?void 0:L.asset));g[28]!==Y||g[29]!==O?(c=e=>{H(e),e&&Y.length>0&&(W(!1),O(e,Y),K([]),H(null))},g[28]=Y,g[29]=O,g[30]=c):c=g[30];let en=c;g[31]!==U||g[32]!==y||g[33]!==x||g[34]!==$||g[35]!==O||g[36]!==R||g[37]!==B?(u=e=>{let t=e.filter(e=>null==R?void 0:R(B,e));if(!(e.length-t.length>0||!1===x)&&0!==e.length)if($){if(U){O(U,e),W(!1),H(null);return}W(!0),K(e)}else{let t=y.filter(eel)[0];t&&O(t,e),W(!1),H(null)}},g[31]=U,g[32]=y,g[33]=x,g[34]=$,g[35]=O,g[36]=R,g[37]=B,g[38]=u):u=g[38];let er=u;g[39]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{W(!1),H(null)},g[39]=d):d=g[39];let ei=d;if(L&&"u">typeof L.asset&&!(null==L?void 0:L._upload)&&!(0,tg.isFileSource)(L)){let e;return g[40]!==b?(e=(0,_.jsx)(een,{onClearValue:b}),g[40]=b,g[41]=e):e=g[41],e}g[42]!==w||g[43]!==D?(p=w&&(0,_.jsx)(I.Box,{marginBottom:2,children:(0,_.jsx)(Q2,{onClearStale:D})}),g[42]=w,g[43]=D,g[44]=p):p=g[44];let ea=!!e.focused;return g[45]!==y||g[46]!==x||g[47]!==C||g[48]!==G||g[49]!==ee||g[50]!==Z||g[51]!==J||g[52]!==X||g[53]!==er||g[54]!==Q||g[55]!==en||g[56]!==et||g[57]!==k.length||g[58]!==S||g[59]!==T||g[60]!==A||g[61]!==P||g[62]!==e||g[63]!==F||g[64]!==q||g[65]!==z||g[66]!==L?(f=(null==L?void 0:L._upload)?(0,_.jsx)(Q1,{uploadState:L._upload,onCancel:S&&T?T:void 0,onStale:P}):(0,_.jsx)(JW,{...C,onFocus:Z,tabIndex:0,disabled:F||!1===x,onFiles:er,onFilesOver:X,onFilesOut:J,tone:ee(),$border:et||k.length>0,style:{padding:1},sizing:"border",radius:2,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[q&&(0,_.jsx)(JK,{assetSources:y,onSelectAssetSource:en,referenceElement:G,onClose:ei,text:z("inputs.files.common.placeholder.select-asset-source-upload-destination",{context:"file"})}),!(null==L?void 0:L.asset)&&(0,_.jsx)(eeu,{...e,onSelectFiles:Q}),(null==L?void 0:L.asset)&&k.length>0?(0,_.jsx)(eed,{...e,tone:ee(),onSelectFiles:Q}):null,!(null==L?void 0:L._upload)&&(null==L?void 0:L.asset)&&(0,_.jsx)(eee,{...e,onSelectAssets:A})]})}),g[45]=y,g[46]=x,g[47]=C,g[48]=G,g[49]=ee,g[50]=Z,g[51]=J,g[52]=X,g[53]=er,g[54]=Q,g[55]=en,g[56]=et,g[57]=k.length,g[58]=S,g[59]=T,g[60]=A,g[61]=P,g[62]=e,g[63]=F,g[64]=q,g[65]=z,g[66]=L,g[67]=f):f=g[67],g[68]!==V||g[69]!==v||g[70]!==ea||g[71]!==f?(h=(0,_.jsx)($j,{path:V,hasFocus:ea,isChanged:v,children:f}),g[68]=V,g[69]=v,g[70]=ea,g[71]=f,g[72]=h):h=g[72],g[73]!==p||g[74]!==h?(m=(0,_.jsxs)(_.Fragment,{children:[p,h]}),g[73]=p,g[74]=h,g[75]=m):m=g[75],m}function eel(e){return e.Uploader}function ees(e){return"string"!==e.kind}function eec(e){return!!e.Uploader}function eeu(e){let t,n,r,i,a,o,l=(0,j.c)(27),{assetSources:s,directUploads:c,hoveringFiles:u,onSelectFiles:d,readOnly:p,resolveUploader:f,schemaType:h}=e;if(l[0]!==u||l[1]!==f||l[2]!==h){let e;l[4]!==f||l[5]!==h?(e=e=>null==f?void 0:f(h,e),l[4]=f,l[5]=h,l[6]=e):e=l[6],t=u.filter(e),l[0]=u,l[1]=f,l[2]=h,l[3]=t}else t=l[3];let m=t,g=u.length-m.length;l[7]!==h?(n=(0,n_.default)(h,"options.accept",""),l[7]=h,l[8]=n):n=l[8];let y=n,v=p?"transparent":"inherit";return l[9]!==u.length?(r=0===u.length?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},l[9]=u.length,l[10]=r):r=l[10],l[11]!==e?(i=(0,_.jsx)(Q0,{...e}),l[11]=e,l[12]=i):i=l[12],l[13]!==y||l[14]!==m||l[15]!==s||l[16]!==c||l[17]!==u||l[18]!==d||l[19]!==p||l[20]!==g||l[21]!==i?(a=(0,_.jsx)(QY,{accept:y,acceptedFiles:m,assetSources:s,browse:i,directUploads:c,hoveringFiles:u,onUpload:d,readOnly:p,rejectedFilesCount:g,type:"file"}),l[13]=y,l[14]=m,l[15]=s,l[16]=c,l[17]=u,l[18]=d,l[19]=p,l[20]=g,l[21]=i,l[22]=a):a=l[22],l[23]!==v||l[24]!==r||l[25]!==a?(o=(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(I.Card,{tone:v,border:!0,paddingX:3,paddingY:2,radius:2,style:r,children:a})}),l[23]=v,l[24]=r,l[25]=a,l[26]=o):o=l[26],o}function eed(e){let t,n,r,i=(0,j.c)(16),{directUploads:a,schemaType:o,readOnly:l,resolveUploader:s,hoveringFiles:c,tone:u}=e;if(i[0]!==c||i[1]!==s||i[2]!==o){let e;i[4]!==s||i[5]!==o?(e=e=>null==s?void 0:s(o,e),i[4]=s,i[5]=o,i[6]=e):e=i[6],t=c.filter(e),i[0]=c,i[1]=s,i[2]=o,i[3]=t}else t=i[3];let d=t,p=c.length-d.length;return i[7]!==d||i[8]!==a||i[9]!==c||i[10]!==l||i[11]!==p?(n=(0,_.jsx)(eei,{align:"center",justify:"center",gap:2,flex:1,children:(0,_.jsx)(Jq,{directUploads:a,readOnly:l,hoveringFiles:c,acceptedFiles:d,rejectedFilesCount:p,type:"file"})}),i[7]=d,i[8]=a,i[9]=c,i[10]=l,i[11]=p,i[12]=n):n=i[12],i[13]!==n||i[14]!==u?(r=(0,_.jsx)(eer,{radius:2,tone:u,children:n}),i[13]=n,i[14]=u,i[15]=r):r=i[15],r}function eep(e){let t,n,r,i,a,o=(0,j.c)(32),{isUploading:l,observeAsset:s,schemaType:c,selectedAssetSource:u,setSelectedAssetSource:d,onSelectAssets:p,value:f,uploader:h}=e,{t:m}=IO();o[0]!==c?(t=(0,n_.default)(c,"options.accept",""),o[0]=c,o[1]=t):t=o[1];let g=t;o[2]!==d?(n=()=>{d(null)},o[2]=d,o[3]=n):n=o[3];let y=n;if(!u)return null;let v=u.component;if(f&&f.asset){let e,t,n;return o[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(Q9,{}),o[4]=e):e=o[4],o[5]!==v||o[6]!==g||o[7]!==y||o[8]!==l||o[9]!==p||o[10]!==c||o[11]!==u||o[12]!==m||o[13]!==h?(t=e=>(0,_.jsx)(v,{accept:g,action:l?"upload":"select",assetSource:u,assetType:"file",dialogHeaderTitle:m("inputs.file.dialog.title"),onClose:y,onSelect:p,schemaType:c,selectedAssets:[e],selectionType:"single",uploader:h}),o[5]=v,o[6]=g,o[7]=y,o[8]=l,o[9]=p,o[10]=c,o[11]=u,o[12]=m,o[13]=h,o[14]=t):t=o[14],o[15]!==s||o[16]!==t||o[17]!==f.asset?(n=(0,_.jsx)(Q5,{observeAsset:s,reference:f.asset,waitPlaceholder:e,children:t}),o[15]=s,o[16]=t,o[17]=f.asset,o[18]=n):n=o[18],n}let b=l?"upload":"select";return o[19]!==m?(r=m("inputs.file.dialog.title"),o[19]=m,o[20]=r):r=o[20],o[21]===Symbol.for("react.memo_cache_sentinel")?(i=[],o[21]=i):i=o[21],o[22]!==v||o[23]!==g||o[24]!==y||o[25]!==p||o[26]!==c||o[27]!==u||o[28]!==b||o[29]!==r||o[30]!==h?(a=(0,_.jsx)(v,{accept:g,action:b,assetSource:u,assetType:"file",dialogHeaderTitle:r,onClose:y,onSelect:p,schemaType:c,selectedAssets:i,selectionType:"single",uploader:h}),o[22]=v,o[23]=g,o[24]=y,o[25]=p,o[26]=c,o[27]=u,o[28]=b,o[29]=r,o[30]=h,o[31]=a):a=o[31],a}function eef(e){let{children:t}=e;return t}function eeh(e){var t;let{client:n,members:r,onChange:i,renderAnnotation:a,renderBlock:o,renderField:l,renderInlineBlock:s,renderInput:c,renderItem:u,renderPreview:d,schemaType:p,value:f}=e,{push:h}=(0,A.useToast)(),{t:m}=IO(),[g,y]=(0,E.useState)([]),[v,b]=(0,E.useState)(!1),[x,C]=(0,E.useState)(!1),[k,w]=(0,E.useState)(!1),[j,S]=(0,E.useState)(null),T=(0,E.useRef)(null),D=(0,E.useRef)(null),I=(0,E.useCallback)(e=>{e&&(T.current=e)},[T]),O=(0,E.useRef)(null),P=(0,E.useCallback)(()=>{i([LN(["asset"]),LN(["media"])])},[i]),M=(0,E.useCallback)(()=>{(null==f?void 0:f._upload)&&i(zU.from([LN(["_upload"])]))},[i,null==f?void 0:f._upload]),F=(0,E.useCallback)(()=>{b(!0)},[]),R=(0,E.useCallback)(()=>{var e;O.current&&(null==(e=O.current)||e.unsubscribe(),M())},[M]),B=(0,E.useCallback)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{source:a}=r,o={metadata:(0,n_.default)(p,"options.metadata"),storeOriginalFilename:(0,n_.default)(p,"options.storeOriginalFilename"),source:a};R(),C(!0),i(zU.from([LF({_type:p.name})])),O.current=e.upload(n,t,p,o).subscribe({next:e=>{e.patches&&i(zU.from(e.patches))},error:e=>{console.error(e),h({status:"error",description:m("inputs.file.upload-failed.description"),title:m("inputs.file.upload-failed.title")}),M()},complete:()=>{C(!1)}})},[R,M,n,i,h,p,m]),N=(0,E.useCallback)(e=>{0!==e.length&&(JU({assetsFromSource:e,onChange:i,type:p,resolveUploader:Hr,uploadWith:B}),S(null),C(!1))},[i,p,B]),L=(0,E.useCallback)((e,t)=>{if(0!==t.length&&(S(e),e.Uploader)){var n,r;let a=new e.Uploader;null==(n=D.current)||n.unsubscribe();try{D.current={unsubscribe:a.subscribe(e=>{switch(e.type){case"progress":i(zU.from([LB(Math.max(2,e.progress),[U0,"progress"]),LB(new Date().toISOString(),[U0,"updatedAt"])]));break;case"error":e.files.forEach(e=>{console.error(e.error)}),h({status:"error",description:m("asset-sources.common.uploader.upload-failed.description"),title:m("asset-sources.common.uploader.upload-failed.title")});break;case"all-complete":i(zU.from([LN([U0])]))}}),uploader:a},C(!0),i(zU.from(U3(t[0]))),a.upload(t,{schemaType:p,onChange:i})}catch(e){i(zU.from([LN([U0])])),C(!1),S(null),null==(r=D.current)||r.unsubscribe(),h({status:"error",description:m("asset-sources.common.uploader.upload-failed.description"),title:m("asset-sources.common.uploader.upload-failed.title")}),console.error(e)}}},[i,h,p,m]);(0,E.useEffect)(()=>()=>{var e,t,n;null==(t=D.current)||null==(e=t.uploader)||e.abort(),null==(n=D.current)||n.unsubscribe()},[]);let z=(0,E.useCallback)(()=>{var e,t;null==(t=D.current)||null==(e=t.uploader)||e.abort()},[]),V=(0,E.useCallback)(()=>(0,_.jsx)(eeo,{...e,browseButtonElementRef:T,clearField:P,hoveringFiles:g,isBrowseMenuOpen:k,isStale:v,isUploading:x,onCancelUpload:z,onClearUploadStatus:M,onSelectAssets:N,onSelectFiles:L,onStale:F,selectedAssetSource:j,setBrowseButtonElement:I,setHoveringFiles:y,setIsBrowseMenuOpen:w,setIsUploading:C,setSelectedAssetSource:S}),[z,P,M,N,L,F,g,k,v,x,e,j,I]);return(0,_.jsxs)(_.Fragment,{children:[r.map(e=>"field"===e.kind?(0,_.jsx)(Hs,{member:e,renderAnnotation:a,renderBlock:o,renderField:"asset"===e.name?eef:l,renderInlineBlock:s,renderInput:"asset"===e.name?V:c,renderItem:u,renderPreview:d},e.key):"fieldSet"===e.kind?(0,_.jsx)(H9,{member:e,renderAnnotation:a,renderBlock:o,renderField:l,renderInlineBlock:s,renderInput:c,renderItem:u,renderPreview:d},e.key):"error"===e.kind?(0,_.jsx)(H6,{member:e},e.key):(0,_.jsx)(E.Fragment,{children:m("inputs.file.error.unknown-member-kind",{kind:e.kind})},e.key)),j&&(0,_.jsx)(eep,{...e,browseButtonElementRef:T,clearField:P,hoveringFiles:g,isBrowseMenuOpen:k,isStale:v,isUploading:x,onClearUploadStatus:M,onStale:F,onSelectAssets:N,onSelectFiles:L,selectedAssetSource:j,setBrowseButtonElement:I,setHoveringFiles:y,setIsBrowseMenuOpen:w,setIsUploading:C,setSelectedAssetSource:S,uploader:null==(t=D.current)?void 0:t.uploader})]})}function eem(e){let{value:t,imageUrlBuilder:n}=e,r=(0,np.useDevicePixelRatio)(),i=(0,E.useMemo)(()=>t&&(0,tg.isImageSource)(t)?n.width(2e3).fit("max").image(t).dpr(r).auto("format").url():void 0,[r,n,t]),a=(0,E.useMemo)(()=>i?(0,tg.getImageDimensions)(i):{width:0,height:0,aspectRatio:0},[i]),o=(0,E.useMemo)(()=>({"--image-width":a.width,"--image-height":a.height}),[a.width,a.height]);return{url:i,dimensions:a,customProperties:o}}let eeg=["asset"];function eey(e){return e.Uploader}function eev(e){return!!e.Uploader}let eeb=(0,E.memo)(function(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(58),{assetSources:m,directUploads:g,elementProps:y,handleClearUploadState:v,handleFileTargetFocus:b,onSelectFiles:x,hoveringFiles:C,inputProps:k,isStale:w,readOnly:S,renderAssetMenu:T,renderPreview:D,renderUploadPlaceholder:A,renderUploadState:O,schemaType:P,setHoveringFiles:M,tone:F,value:R,imageUrlBuilder:B}=e,N=null==(t=y.ref)?void 0:t.current,{t:L}=IO(),z=!!((null==R?void 0:R._upload)||(null==R?void 0:R.asset));h[0]!==k.path?(n=k.path.concat(eeg),h[0]=k.path,h[1]=n):n=h[1];let V=n;h[2]!==B||h[3]!==R?(r={value:R,imageUrlBuilder:B},h[2]=B,h[3]=R,h[4]=r):r=h[4];let{customProperties:U}=eem(r),[H,q]=(0,E.useState)(null),[W,Y]=(0,E.useState)(!1);h[5]===Symbol.for("react.memo_cache_sentinel")?(i=[],h[5]=i):i=h[5];let[K,G]=(0,E.useState)(i),$=m.filter(eev).length>1;h[6]!==M?(a=()=>{M([]),Y(!1)},h[6]=M,h[7]=a):a=h[7];let Z=a;h[8]!==g||h[9]!==$||h[10]!==P||h[11]!==M?(o=e=>{M(e);let t=!0,n=e.filter(e=>null==Hr?void 0:Hr(P,e)),r=e.length-n.length;e.length>0&&(r>0||!1===g)&&(t=!1),$&&t&&Y(!0)},h[8]=g,h[9]=$,h[10]=P,h[11]=M,h[12]=o):o=h[12];let X=o;h[13]!==H||h[14]!==m||h[15]!==g||h[16]!==Z||h[17]!==$||h[18]!==x||h[19]!==S||h[20]!==P?(l=e=>{if(!1===g||S)return void Z();let t=e.filter(e=>null==Hr?void 0:Hr(P,e));if(!(e.length-t.length>0)&&0!==e.length)if($){if(H){x(H,e),Y(!1),q(null);return}Y(!0),G(e)}else{let t=m.filter(eey)[0];t&&x(t,e),Y(!1),q(null)}},h[13]=H,h[14]=m,h[15]=g,h[16]=Z,h[17]=$,h[18]=x,h[19]=S,h[20]=P,h[21]=l):l=h[21];let J=l;h[22]!==K||h[23]!==x?(s=e=>{q(e),e&&K.length>0&&(Y(!1),x(e,K),G([]),q(null))},h[22]=K,h[23]=x,h[24]=s):s=h[24];let Q=s;h[25]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{Y(!1),q(null)},h[25]=c):c=h[25];let ee=c;h[26]!==v||h[27]!==w?(u=w&&(0,_.jsx)(I.Box,{marginBottom:2,children:(0,_.jsx)(Q2,{onClearStale:v})}),h[26]=v,h[27]=w,h[28]=u):u=h[28];let et=!!k.focused;return h[29]!==m||h[30]!==y||h[31]!==N||h[32]!==b||h[33]!==Z||h[34]!==X||h[35]!==J||h[36]!==Q||h[37]!==z||h[38]!==C||h[39]!==S||h[40]!==T||h[41]!==D||h[42]!==A||h[43]!==O||h[44]!==W||h[45]!==L||h[46]!==F||h[47]!==R?(d=(null==R?void 0:R._upload)?O(R._upload):(0,_.jsxs)(JW,{...y,onFocus:b,tabIndex:0,disabled:!!S,onFiles:J,onFilesOver:X,onFilesOut:Z,tone:F,$border:z||C.length>0,sizing:"border",radius:2,children:[W&&(0,_.jsx)(JK,{assetSources:m,onSelectAssetSource:Q,referenceElement:N,onClose:ee,text:L("inputs.files.common.placeholder.select-asset-source-upload-destination",{context:"image"})}),!(null==R?void 0:R.asset)&&A(),!(null==R?void 0:R._upload)&&(null==R?void 0:R.asset)&&(0,_.jsxs)("div",{style:{position:"relative"},children:[D(),T()]})]}),h[29]=m,h[30]=y,h[31]=N,h[32]=b,h[33]=Z,h[34]=X,h[35]=J,h[36]=Q,h[37]=z,h[38]=C,h[39]=S,h[40]=T,h[41]=D,h[42]=A,h[43]=O,h[44]=W,h[45]=L,h[46]=F,h[47]=R,h[48]=d):d=h[48],h[49]!==k.changed||h[50]!==V||h[51]!==d||h[52]!==et?(p=(0,_.jsx)($j,{path:V,hasFocus:et,isChanged:k.changed,children:d}),h[49]=k.changed,h[50]=V,h[51]=d,h[52]=et,h[53]=p):p=h[53],h[54]!==U||h[55]!==p||h[56]!==u?(f=(0,_.jsxs)("div",{style:U,children:[u,p]}),h[54]=U,h[55]=p,h[56]=u,h[57]=f):f=h[57],f}),eex=(0,F.styled)(I.Inline)(_X()),eeC=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(eex,{padding:2,children:(0,_.jsx)(A.Skeleton,{style:{width:"25px",height:"25px"},animated:!0})}),t[0]=e):e=t[0],e};function eek(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(38),{onEdit:m,children:g,showEdit:y,setHotspotButtonElement:v,setMenuButtonElement:b,onMenuOpen:x,isMenuOpen:C}=e,[k,w]=(0,E.useState)(null),[S,T]=(0,E.useState)(null);h[0]!==C||h[1]!==x?(t=()=>x(!C),h[0]=C,h[1]=x,h[2]=t):t=h[2];let D=t;h[3]!==S||h[4]!==C||h[5]!==x?(n=e=>{C&&("Escape"===e.key||"Tab"===e.key)&&(x(!1),null==S||S.focus())},h[3]=S,h[4]=C,h[5]=x,h[6]=n):n=h[6],(0,I.useGlobalKeyDown)(n),h[7]!==S||h[8]!==x?(r=e=>{(null==S?void 0:S.contains(e.target))||x(!1)},h[7]=S,h[8]=x,h[9]=r):r=h[9],h[10]!==k?(i=()=>[k],h[10]=k,h[11]=i):i=h[11],(0,I.useClickOutsideEvent)(r,i),h[12]!==b?(a=e=>{b(e),T(e)},h[12]=b,h[13]=a):a=h[13];let A=a;h[14]!==C||h[15]!==k?(o=()=>{C&&(null==k||k.focus())},l=[C,k],h[14]=C,h[15]=k,h[16]=o,h[17]=l):(o=h[16],l=h[17]),(0,E.useEffect)(o,l);let{t:O}=IO();return h[18]!==m||h[19]!==v||h[20]!==y||h[21]!==O?(s=y&&(0,_.jsx)(B.Button,{"aria-label":O("inputs.image.actions-menu.edit-details.aria-label"),"data-testid":"options-menu-edit-details",icon:R.CropIcon,mode:"ghost",onClick:m,ref:v,tooltipProps:{content:O("inputs.image.actions-menu.crop-image-tooltip")}}),h[18]=m,h[19]=v,h[20]=y,h[21]=O,h[22]=s):s=h[22],h[23]!==g?(c=(0,_.jsx)(I.Menu,{ref:w,children:g}),h[23]=g,h[24]=c):c=h[24],h[25]!==O?(u=O("inputs.image.actions-menu.options.aria-label"),h[25]=O,h[26]=u):u=h[26],h[27]!==D||h[28]!==A||h[29]!==u?(d=(0,_.jsx)(DO,{"aria-label":u,"data-testid":"options-menu-button",mode:"ghost",onClick:D,ref:A}),h[27]=D,h[28]=A,h[29]=u,h[30]=d):d=h[30],h[31]!==C||h[32]!==d||h[33]!==c?(p=(0,_.jsx)(B.Popover,{id:"image-actions-menu",content:c,portal:!0,open:C,constrainSize:!0,children:d}),h[31]=C,h[32]=d,h[33]=c,h[34]=p):p=h[34],h[35]!==p||h[36]!==s?(f=(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsxs)(eex,{"data-buttons":!0,space:1,padding:2,children:[s,p]})}),h[35]=p,h[36]=s,h[37]=f):f=h[37],f}let eew=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(38),{assetSources:a,directUploads:o,handleOpenDialog:l,handleRemoveButtonClick:s,onSelectFiles:c,handleSelectImageFromAssetSource:u,imageUrlBuilder:d,isImageToolEnabled:p,isMenuOpen:f,observeAsset:h,readOnly:m,schemaType:g,setHotspotButtonElement:y,setMenuButtonElement:v,setMenuOpen:b,value:x}=e,{t:C}=IO();i[0]!==g?(t=(0,n_.default)(g,"options.accept","image/*"),i[0]=g,i[1]=t):t=i[1];let k=t,w=null==x?void 0:x.asset,S=x&&w&&p;if(!w)return null;i[2]!==a||i[3]!==u||i[4]!==m||i[5]!==b||i[6]!==C?(n=a&&0===a.length?null:(0,_.jsx)(B.MenuItem,{icon:R.SearchIcon,text:C("inputs.image.browse-menu.text"),onClick:()=>{b(!1),u(a[0])},disabled:m,"data-testid":"file-input-browse-button"}),i[2]=a,i[3]=u,i[4]=m,i[5]=b,i[6]=C,i[7]=n):n=i[7];let E=n;if(a&&a.length>1){let e;if(i[8]!==a||i[9]!==u||i[10]!==m||i[11]!==b||i[12]!==C){let t;i[14]!==u||i[15]!==m||i[16]!==b||i[17]!==C?(t=e=>(0,_.jsx)(B.MenuItem,{text:(e.i18nKey?C(e.i18nKey):e.title)||(0,ti.default)(e.name),onClick:()=>{b(!1),u(e)},icon:e.icon||R.ImageIcon,"data-testid":"file-input-browse-button-".concat(e.name),disabled:m},e.name),i[14]=u,i[15]=m,i[16]=b,i[17]=C,i[18]=t):t=i[18],e=a.map(t),i[8]=a,i[9]=u,i[10]=m,i[11]=b,i[12]=C,i[13]=e}else e=i[13];E=e}let T=!!S;return i[19]!==k||i[20]!==w||i[21]!==a||i[22]!==E||i[23]!==o||i[24]!==l||i[25]!==s||i[26]!==d||i[27]!==f||i[28]!==h||i[29]!==c||i[30]!==m||i[31]!==g||i[32]!==y||i[33]!==v||i[34]!==b||i[35]!==T||i[36]!==x?(r=(0,_.jsx)(eej,{accept:k,assetSources:a,browseMenuItem:E,directUploads:o,handleOpenDialog:l,handleRemoveButtonClick:s,onSelectFiles:c,imageUrlBuilder:d,isMenuOpen:f,observeAsset:h,readOnly:m,reference:w,schemaType:g,setHotspotButtonElement:y,setMenuButtonElement:v,setMenuOpen:b,showAdvancedEditButton:T,value:x}),i[19]=k,i[20]=w,i[21]=a,i[22]=E,i[23]=o,i[24]=l,i[25]=s,i[26]=d,i[27]=f,i[28]=h,i[29]=c,i[30]=m,i[31]=g,i[32]=y,i[33]=v,i[34]=b,i[35]=T,i[36]=x,i[37]=r):r=i[37],r});function ee_(e){return!!e.Uploader}let eej=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(47),{accept:d,assetSources:p,browseMenuItem:f,directUploads:h,handleOpenDialog:m,handleRemoveButtonClick:g,onSelectFiles:y,imageUrlBuilder:v,isMenuOpen:b,observeAsset:x,readOnly:C,reference:k,setHotspotButtonElement:w,setMenuButtonElement:S,setMenuOpen:E,showAdvancedEditButton:T,value:D}=e,{t:I}=IO(),A=null==k?void 0:k._ref;u[0]!==A||u[1]!==x?(t=x(A),u[0]=A,u[1]=x,u[2]=t):t=u[2];let O=(0,te.useObservable)(t);u[3]!==p?(n=p.filter(ee_),u[3]=p,u[4]=n):n=u[4];let P=n;u[5]!==y?(r=(e,t)=>{y(e,t)},u[5]=y,u[6]=r):r=u[6];let M=r;u[7]!==P[0]||u[8]!==M?(i=e=>{M(P[0],e)},u[7]=P[0],u[8]=M,u[9]=i):i=u[9];let F=i;if(!A||!O){let e;return u[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(eeC,{}),u[10]=e):e=u[10],e}let{_id:B,originalFilename:N,extension:L}=O;if((0,tg.isImageSource)(D)){let e,t,n=N||"download.".concat(L);u[11]!==B||u[12]!==n||u[13]!==v?(e=v.image(B).forceDownload(n).url(),u[11]=B,u[12]=n,u[13]=v,u[14]=e):e=u[14],o=e,u[15]!==B||u[16]!==v?(t=v.image(B).url(),u[15]=B,u[16]=v,u[17]=t):t=u[17],a=t}switch(P.length){case 0:l=null;break;case 1:{let e,t,n=P[0].name;u[18]!==I?(e=I("inputs.files.common.actions-menu.upload.label"),u[18]=I,u[19]=e):e=u[19];let r=C||!1===h;u[20]!==d||u[21]!==P[0].name||u[22]!==F||u[23]!==e||u[24]!==r?(t=(0,_.jsx)(Q8,{icon:R.UploadIcon,onSelect:F,accept:d,"data-asset-source-name":n,text:e,"data-testid":"file-input-upload-button",disabled:r}),u[20]=d,u[21]=P[0].name,u[22]=F,u[23]=e,u[24]=r,u[25]=t):t=u[25],l=t;break}default:{let e;u[26]!==d||u[27]!==P||u[28]!==h||u[29]!==M||u[30]!==C?(e=(0,_.jsx)(Qq,{accept:d,assetSources:P,directUploads:h,onSelectFiles:M,readOnly:C,renderAsMenuGroup:!0}),u[26]=d,u[27]=P,u[28]=h,u[29]=M,u[30]=C,u[31]=e):e=u[31],l=e}}let z=!!T;return u[32]!==f||u[33]!==a||u[34]!==o||u[35]!==g||u[36]!==C||u[37]!==l?(s=(0,_.jsx)(Q7,{upload:l,browse:f,onReset:g,downloadUrl:o,copyUrl:a,readOnly:C}),u[32]=f,u[33]=a,u[34]=o,u[35]=g,u[36]=C,u[37]=l,u[38]=s):s=u[38],u[39]!==m||u[40]!==b||u[41]!==w||u[42]!==S||u[43]!==E||u[44]!==z||u[45]!==s?(c=(0,_.jsx)(eek,{isMenuOpen:b,onEdit:m,onMenuOpen:E,setHotspotButtonElement:w,setMenuButtonElement:S,showEdit:z,children:s}),u[39]=m,u[40]=b,u[41]=w,u[42]=S,u[43]=E,u[44]=z,u[45]=s,u[46]=c):c=u[46],c}),eeS=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(25),{handleAssetSourceClosed:a,handleSelectAssetFromSource:o,isUploading:l,observeAsset:s,schemaType:c,selectedAssetSource:u,uploader:d,value:p}=e;i[0]!==c?(t=(0,n_.default)(c,"options.accept","image/*"),i[0]=c,i[1]=t):t=i[1];let f=t;if(!u)return null;let{component:h}=u;if(p&&p.asset){let e,t;return i[2]!==h||i[3]!==f||i[4]!==a||i[5]!==o||i[6]!==l||i[7]!==c||i[8]!==u||i[9]!==d?(e=e=>(0,_.jsx)(h,{accept:f,action:l?"upload":"select",assetSource:u,assetType:"image",onClose:a,onSelect:o,schemaType:c,selectedAssets:[e],selectionType:"single",uploader:d}),i[2]=h,i[3]=f,i[4]=a,i[5]=o,i[6]=l,i[7]=c,i[8]=u,i[9]=d,i[10]=e):e=i[10],i[11]!==s||i[12]!==e||i[13]!==p.asset?(t=(0,_.jsx)(Q5,{observeAsset:s,reference:p.asset,children:e}),i[11]=s,i[12]=e,i[13]=p.asset,i[14]=t):t=i[14],t}let m=l?"upload":"select";return i[15]===Symbol.for("react.memo_cache_sentinel")?(n=[],i[15]=n):n=i[15],i[16]!==h||i[17]!==f||i[18]!==a||i[19]!==o||i[20]!==c||i[21]!==u||i[22]!==m||i[23]!==d?(r=(0,_.jsx)(h,{accept:f,action:m,assetSource:u,assetType:"image",onClose:a,onSelect:o,schemaType:c,selectedAssets:n,selectionType:"single",uploader:d}),i[16]=h,i[17]=f,i[18]=a,i[19]=o,i[20]=c,i[21]=u,i[22]=m,i[23]=d,i[24]=r):r=i[24],r}),eeE={portal:!0},eeT=(0,E.memo)((0,E.forwardRef)(function(e,t){var n;let r,i,a,o=(0,j.c)(32),{assetSources:l,readOnly:s,id:c,setMenuOpen:u,handleSelectImageFromAssetSource:d,schemaType:p}=e,f=null==(n=p.options)?void 0:n.sources,{t:h}=IO();if((null==f?void 0:f.length)===0||l&&0===l.length)return null;if(l&&l.length>1&&!s){let e,n,r,i,a,p="".concat(c,"_assetImageButton");if(o[0]!==h?(e=h("inputs.image.browse-menu.text"),o[0]=h,o[1]=e):e=o[1],o[2]!==e?(n=(0,_.jsx)(B.Button,{"data-testid":"file-input-multi-browse-button",icon:R.SearchIcon,iconRight:R.ChevronDownIcon,mode:"bleed",text:e}),o[2]=e,o[3]=n):n=o[3],o[4]!==l||o[5]!==d||o[6]!==s||o[7]!==u||o[8]!==h){let e;o[10]!==d||o[11]!==s||o[12]!==u||o[13]!==h?(e=e=>(0,_.jsx)(B.MenuItem,{text:(e.i18nKey?h(e.i18nKey):e.title)||(0,ti.default)(e.name),onClick:()=>{u(!1),d(e)},icon:e.icon||R.ImageIcon,disabled:s,"data-testid":"file-input-browse-button-".concat(e.name)},e.name),o[10]=d,o[11]=s,o[12]=u,o[13]=h,o[14]=e):e=o[14],r=l.map(e),o[4]=l,o[5]=d,o[6]=s,o[7]=u,o[8]=h,o[9]=r}else r=o[9];return o[15]!==r?(i=(0,_.jsx)(I.Menu,{children:r}),o[15]=r,o[16]=i):i=o[16],o[17]!==t||o[18]!==p||o[19]!==n||o[20]!==i?(a=(0,_.jsx)(B.MenuButton,{id:p,ref:t,button:n,menu:i,popover:eeE}),o[17]=t,o[18]=p,o[19]=n,o[20]=i,o[21]=a):a=o[21],a}return o[22]!==h?(r=h("inputs.image.browse-menu.text"),o[22]=h,o[23]=r):r=o[23],o[24]!==l[0]||o[25]!==d||o[26]!==u?(i=()=>{u(!1),d(l[0])},o[24]=l[0],o[25]=d,o[26]=u,o[27]=i):i=o[27],o[28]!==s||o[29]!==r||o[30]!==i?(a=(0,_.jsx)(B.Button,{text:r,icon:R.SearchIcon,mode:"bleed",onClick:i,"data-testid":"file-input-browse-button",disabled:s}),o[28]=s,o[29]=r,o[30]=i,o[31]=a):a=o[31],a})),eeD=(0,F.styled)(I.Box)(_J(),e=>{let{ratio:t=1.5}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t}),eeI={x:.5,y:.5,height:1,width:1},eeA={top:0,left:0,right:0,bottom:0};function eeO(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if("number"!=typeof e.height&&"number"!=typeof e.width)throw Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function eeP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round(e*n)/n}function eeM(e){return 0===e?0:"".concat(e,"%")}function eeF(e){return eeM(eeP(100*e))}let eeR=F.styled.div(_Q()),eeB=(0,tr.default)("sanity-imagetool"),eeN=(0,E.memo)(function(e){let{alignX:t="center",alignY:n="center",alt:r,aspectRatio:i="none",className:a="",crop:o=eeA,hotspot:l=eeI,onError:s,onLoad:c,src:u,srcAspectRatio:d,srcSet:p,style:f}=e,[h,m]=(0,E.useState)(null),g=(0,E.useRef)(null),y=(0,E.useRef)(null),v=(0,E.useCallback)(()=>{if(g.current)if("auto"===i){let e=g.current.parentNode;(0,E.startTransition)(()=>m(e.offsetWidth/e.offsetHeight))}else m(null)},[i]);(0,E.useEffect)(()=>{let e=y.current;return e&&e.src&&e.complete&&void 0!==e.naturalWidth&&(eeB("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",u),e.src=e.src),v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[u,v]);let b=(0,E.useMemo)(()=>"none"===i?o?function(e,t){let n=1/t,r=t*n;return(r-(e.left+e.right)*r)/(n-(e.top+e.bottom)*n)}(o,d):d:"auto"===i?h:i||null,[i,h,o,d]),x=(0,E.useMemo)(()=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=eeO(e.image)||1,n=e.hotspot||eeI,r=e.crop||eeA,i=eeO(e.container)||t*function(e){let t=1-e.top-e.bottom;return(1-e.left-e.right)/t}(r),a=function(e,t,n){let r,i,a,o=t.crop,l=n.aspect,s=n.align,c=1-o.left-o.right,u=1-o.top-o.bottom,d={top:-o.top/u,left:-o.left/c,width:1/c,height:1/u},p=c/u*e,f={x:(t.hotspot.x-o.left)/c,y:(t.hotspot.y-o.top)/u,height:t.hotspot.height/u,width:t.hotspot.width/c},h=Math.min(1/f.width,1/f.height*p/l),m=p<=l;if((r=m?1:p/l)>h){let e;i="letterbox";a={width:e=m?1-(r-h):h,height:e/p*l,left:0,top:0};let t=f.x*a.width-f.width*a.width/2;switch(s.x){case"left":a.left=m?0:-t;break;case"right":a.left=m?1-a.width:t;break;case"center":a.left=m?(1-a.width)/2:-t;break;default:throw Error("Invalid x alignment: '".concat(s.x,"'. Must be either 'left', 'right' or 'center'"))}let n=f.y*a.height-f.height*a.height/2;switch(s.y){case"top":a.top=m?-n:0;break;case"bottom":a.top=n;break;case"center":a.top=m?-n:(1-a.height)/2;break;default:throw Error("Invalid y alignment: '".concat(s.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(m){i="full_width";let e=-f.y/p*l+.5,t=r/p*l;e>0?e=0:-e>t-1&&(e=-(t-1)),a={width:r,height:t,left:0,top:e}}else{i="full_height";let e=.5-f.x*r;e>0?e=0:-e>r-1&&(e=-(r-1)),a={width:r,height:r/p*l,top:0,left:e}}return{method:i,crop:a,image:d}}(t,{hotspot:n,crop:r},{aspect:i,align:e.align||{x:"center",y:"center"}}),o=eeM(eeP(100/i));return{debug:{result:a},container:{overflow:"hidden",position:"relative",width:"100%",height:o},padding:{marginTop:o},crop:{position:"absolute",overflow:"hidden",height:eeF(a.crop.height),width:eeF(a.crop.width),top:eeF(a.crop.top),left:eeF(a.crop.left)},image:{position:"absolute",height:eeF(a.image.height),width:eeF(a.image.width),top:eeF(a.image.top),left:eeF(a.image.left)}}})({container:{aspectRatio:b||d},image:{aspectRatio:d},hotspot:l,crop:o,align:{x:t,y:n}}),[t,n,o,l,d,b]);return(0,_.jsx)(eeR,{className:"".concat(a),style:f,ref:g,children:(0,_.jsxs)("div",{style:x.container,children:[(0,_.jsx)("div",{style:x.padding}),(0,_.jsx)("div",{style:x.crop,children:(0,_.jsx)("img",{ref:y,src:u,alt:r,srcSet:p,onLoad:c,onError:s,style:x.image})})]})})});function eeL(e){let t,n,r,i=(0,j.c)(8),{src:a,children:o}=e,[l,s]=(0,E.useState)(!0),[c,u]=(0,E.useState)(null),[d,p]=(0,E.useState)(null);return i[0]!==a?(t=()=>{u(null),p(null),s(!0);let e=new Image;e.onload=()=>{u(e),p(null),s(!1)},e.onerror=()=>{p(Error("Could not load image from ".concat(JSON.stringify(a)))),s(!1)},e.referrerPolicy="strict-origin-when-cross-origin",e.src=a},n=[a],i[0]=a,i[1]=t,i[2]=n):(t=i[1],n=i[2]),(0,E.useEffect)(t,n),i[3]!==o||i[4]!==d||i[5]!==c||i[6]!==l?(r=o({image:c,error:d,isLoading:l}),i[3]=o,i[4]=d,i[5]=c,i[6]=l,i[7]=r):r=i[7],r}function eez(e){let{image:t,maxHeight:n,maxWidth:r,children:i}=e,a=t.width/t.height,o=t.width>t.height,l={width:o?r:n*a,height:o?r/a:n};return l.width>r&&(l.width=r,l.height=r/a),l.height>n&&(l.height=n,l.width=n*a),i(l)}let eeV=e=>e.left+e.width/2,eeU=e=>e.top+e.height/2,eeH=e=>({width:1-e.left-e.right,height:1-e.top-e.bottom,left:e.left,right:1-e.right,top:e.top,bottom:1-e.bottom}),eeq=(e,t,n)=>({x:(t.x-e.x)/n.width,y:(t.y-e.y)/n.height}),eeW=(e,t)=>{let n=eeH(t),r=Math.min(e.width,n.width),i=Math.min(e.height,n.height),a=n.left+r/2,o=n.right-r/2,l=n.top+i/2,s=n.bottom-i/2;return{x:Math.min(Math.max(e.x,a),o),y:Math.min(Math.max(e.y,l),s),width:r,height:i}},eeY=(e,t)=>{let{x:n,y:r,width:i,height:a}=e.hotspot||eeI,o=e.crop||eeA;return eeW({x:n+t.x,y:r+t.y,width:i,height:a},o)},eeK=e=>{let{initialHotspot:t,crop:n,initialCursor:r,pointerPos:i,innerRect:a}=e,o=eeH(n),l=o.width,s=o.height,c=o.left,u=o.right,d=o.top,p=o.bottom,f=i.x-r.x,h=i.y-r.y,m=t.width*a.width,g=t.height*a.height,y=(m+2*f)/a.width,v=(g+2*h)/a.height;y=Math.max(0,y),v=Math.max(0,v),y=Math.min(y,l),v=Math.min(v,s);let b=t.x,x=t.y,C=c+y/2,k=u-y/2;b<C?b=C:b>k&&(b=k);let w=d+v/2,_=p-v/2;return x<w?x=w:x>_&&(x=_),{crop:n,hotspot:{...t,x:b,y:x,width:y,height:v}}},eeG=e=>{let{initialCrop:t,initialHotspot:n,initialCursor:r,pointerPos:i,innerRect:a}=e,o=eeq(r,i,a),{top:l,right:s,bottom:c,left:u}=t,d=u+o.x,p=s-o.x,f=l+o.y,h=c-o.y,m=eeH(t),g=m.width,y=m.height;d<0?(d=0,p=1-g):p<0?(p=0,d=1-g):d+p>1&&(o.x>0?(d=1-g,p=0):(d=0,p=1-g)),f<0?(f=0,h=1-y):h<0?(h=0,f=1-y):f+h>1&&(o.y>0?(f=1-y,h=0):(f=0,h=1-y));let v={top:f,right:p,bottom:h,left:d},b=.5-(d+p)/2,x=.5-(f+h)/2,C=eeW({...n,x:n.x+(b-(.5-(u+s)/2)),y:n.y+(x-(.5-(l+c)/2))},v);return{crop:v,hotspot:C}},ee$=e=>{let{initialCrop:t,initialHotspot:n,initialCursor:r,pointerPos:i,innerRect:a,activeHandle:o}=e,l=o.startsWith("crop-")?o.slice(5):"",s=eeq(r,i,a),{left:c,right:u,top:d,bottom:p}=t;switch(l){case"left":c=Math.min(Math.max(t.left+s.x,0),1-t.right-.05);break;case"right":u=Math.min(Math.max(t.right-s.x,0),1-t.left-.05);break;case"top":d=Math.min(Math.max(t.top+s.y,0),1-t.bottom-.05);break;case"bottom":p=Math.min(Math.max(t.bottom-s.y,0),1-t.top-.05);break;case"topLeft":c=Math.min(Math.max(t.left+s.x,0),1-t.right-.05),d=Math.min(Math.max(t.top+s.y,0),1-t.bottom-.05);break;case"topRight":u=Math.min(Math.max(t.right-s.x,0),1-t.left-.05),d=Math.min(Math.max(t.top+s.y,0),1-t.bottom-.05);break;case"bottomLeft":c=Math.min(Math.max(t.left+s.x,0),1-t.right-.05),p=Math.min(Math.max(t.bottom-s.y,0),1-t.top-.05);break;case"bottomRight":u=Math.min(Math.max(t.right-s.x,0),1-t.left-.05),p=Math.min(Math.max(t.bottom-s.y,0),1-t.top-.05)}let f={left:c,right:u,top:d,bottom:p},h=eeW(n,f);return{crop:f,hotspot:h}},eeZ={"crop-top":"ns-resize","crop-bottom":"ns-resize","crop-left":"ew-resize","crop-right":"ew-resize","crop-topRight":"nesw-resize","crop-bottomLeft":"nesw-resize","crop-topLeft":"nwse-resize","crop-bottomRight":"nwse-resize"},eeX={CORNER_PATH:e=>{let t=e/2;return"M ".concat(-t," ").concat(1.5*e," \n            L ").concat(-t," ").concat(-t," \n            L ").concat(1.5*e," ").concat(-t," \n            L ").concat(1.5*e," ").concat(t," \n            L ").concat(t," ").concat(t," \n            L ").concat(t," ").concat(1.5*e," \n            Z")},EDGE_DIMENSIONS:{top:e=>({width:2*e,height:e}),right:e=>({width:e,height:2*e}),bottom:e=>({width:2*e,height:e}),left:e=>({width:e,height:2*e})}},eeJ={cornerPath:eeX.CORNER_PATH(8),edgeDimensions:{top:eeX.EDGE_DIMENSIONS.top(8),right:eeX.EDGE_DIMENSIONS.right(8),bottom:eeX.EDGE_DIMENSIONS.bottom(8),left:eeX.EDGE_DIMENSIONS.left(8)}},eeQ=F.styled.div(_1()),ee1=F.styled.svg(_2()),ee2=F.styled.rect(_0()),ee0=e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return e.$focused?t.focusRing:"#000"},ee5=F.styled.rect(_7(),e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return e.$focused?t.focusRing:e.$hovered?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, .5)"},e=>e.$focused&&(0,F.css)(_5())),ee7=F.styled.path(_3(),ee0),ee3=F.styled.rect(_8(),ee0),ee8=F.styled.ellipse(_6(),e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return e.$focused?t.focusRing:e.$hovered?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, .5)"},e=>e.$focused&&(0,F.css)(_4())),ee4=F.styled.circle(_9(),ee0),ee6=F.styled.rect(je()),ee9=F.styled.circle(jt()),ete=F.styled.g(jr(),e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(jn(),t.fg)}),ett=(0,E.memo)(function(e){let{value:t,image:n,onChange:r,onChangeEnd:i,readOnly:a,size:o}=e,l=(0,E.useRef)(null),s=(0,E.useRef)(null),c=(0,E.useRef)(null),[u,d]=(0,E.useState)(null),p=(0,E.useMemo)(()=>"hotspotClip-".concat((0,h6.uuid)()),[]);(0,E.useEffect)(()=>{let e=l.current;if(!e)return;let t=e=>{e.preventDefault()};return e.addEventListener("touchmove",t,{passive:!1}),()=>{e.removeEventListener("touchmove",t)}},[]);let{innerRect:f,cropRect:h,constrainedHotspot:m,hotspotRect:g}=function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(27),{size:u,value:d}=e;c[0]!==u.height||c[1]!==u.width?(t={left:0,top:0,width:u.width,height:u.height},c[0]=u.height,c[1]=u.width,c[2]=t):t=c[2];let p=t,f=p.width-24,h=p.height-24,m=p.width/p.height;f/h>m?n=(r=h)*m:r=(n=f)/m;let g=p.left+(p.width-n)/2,y=p.top+(p.height-r)/2;c[3]!==r||c[4]!==g||c[5]!==y||c[6]!==n?(i={left:g,top:y,width:n,height:r},c[3]=r,c[4]=g,c[5]=y,c[6]=n,c[7]=i):i=c[7];let v=i,b=d.crop||eeA,x=eeH(b),C=v.left+v.width*b.left,k=v.top+v.height*b.top,w=v.width*x.width,_=v.height*x.height;c[8]!==C||c[9]!==k||c[10]!==w||c[11]!==_?(a={left:C,top:k,width:w,height:_},c[8]=C,c[9]=k,c[10]=w,c[11]=_,c[12]=a):a=c[12];let S=a,E=d.hotspot||eeI,T=d.crop||eeA;c[13]!==T||c[14]!==E?(o=eeW(E,T),c[13]=T,c[14]=E,c[15]=o):o=c[15];let D=o,I=v.left+v.width*(D.x-D.width/2),A=v.top+v.height*(D.y-D.height/2),O=v.width*D.width,P=v.height*D.height;c[16]!==A||c[17]!==O||c[18]!==P||c[19]!==I?(l={left:I,top:A,width:O,height:P},c[16]=A,c[17]=O,c[18]=P,c[19]=I,c[20]=l):l=c[20];let M=l;return c[21]!==D||c[22]!==S||c[23]!==M||c[24]!==p||c[25]!==v?(s={imageRect:p,innerRect:v,cropRect:S,constrainedHotspot:D,hotspotRect:M},c[21]=D,c[22]=S,c[23]=M,c[24]=p,c[25]=v,c[26]=s):s=c[26],s}({size:o,value:t}),{hoverTarget:y,handleMouseEnter:v,handleMouseLeave:b,handleHotspotMouseEnter:x,handleHotspotHandleMouseEnter:C,handleCropMouseEnter:k,getCropHandleMouseEnter:w}=function(){let e,t,n,r,i,a,o,l=(0,j.c)(8),[s,c]=(0,E.useState)(null);l[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{c(e)},l[0]=e):e=l[0];let u=e;l[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{c(null)},l[1]=t):t=l[1];let d=t;l[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>u("hotspot"),l[2]=n):n=l[2];let p=n;l[3]===Symbol.for("react.memo_cache_sentinel")?(r=()=>u("hotspotHandle"),l[3]=r):r=l[3];let f=r;l[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>u("crop"),l[4]=i):i=l[4];let h=i;l[5]===Symbol.for("react.memo_cache_sentinel")?(a=e=>()=>u("crop-".concat(e)),l[5]=a):a=l[5];let m=a;return l[6]!==s?(o={hoverTarget:s,handleMouseEnter:u,handleMouseLeave:d,handleHotspotMouseEnter:p,handleHotspotHandleMouseEnter:f,handleCropMouseEnter:h,getCropHandleMouseEnter:m},l[6]=s,l[7]=o):o=l[7],o}(),{dragTarget:S,activeHandle:T,handlePointerDown:D,handlePointerMove:I,resetDragState:A}=function(e){let{value:t,onChange:n,innerRect:r,svgRef:i,size:a,readOnly:o,hotspotRef:l,cropRef:s}=e,c=(0,E.useRef)(null),u=(0,E.useRef)(null),d=(0,E.useRef)(null),[p,f]=(0,E.useState)(null),[h,m]=(0,E.useState)(null),[g,y]=(0,E.useState)(null),v=(0,E.useCallback)(e=>{var n,r,p,h;if(o)return;let g=i.current;if(!g)return;let v=g.getBoundingClientRect(),b=(e.clientX-v.left)/v.width*a.width,x=(e.clientY-v.top)/v.height*a.height;f({x:b,y:x}),u.current={x:b,y:x},c.current={...t.crop||eeA},d.current={...t.hotspot||eeI};let C=e.currentTarget.dataset.handle;"hotspotHandle"===C?(m("hotspotHandle"),null==(n=l.current)||n.focus()):"hotspot"===C?(m("hotspot"),null==(r=l.current)||r.focus()):C&&C.startsWith("crop-")?(y(C),m("cropHandle"),null==(p=s.current)||p.focus()):"crop"===C&&(m("crop"),null==(h=s.current)||h.focus()),g.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation()},[o,a.width,a.height,t.crop,t.hotspot,i,l,s]),b=(0,E.useCallback)(e=>{let o=i.current;if(!o||!h||!p||!u.current||!c.current||!d.current)return;let l=((e,t,n)=>{let r=t.getBoundingClientRect();return{x:(e.clientX-r.left)/r.width*n.width,y:(e.clientY-r.top)/r.height*n.height}})(e,o,a);"hotspot"===h?n(((e,t,n,r)=>{let i=eeq(t,n,r);return{crop:e.crop||eeA,hotspot:eeY(e,i)}})({crop:t.crop||eeA,hotspot:d.current},u.current,l,r)):"hotspotHandle"===h?n(eeK({initialHotspot:d.current,crop:t.crop||eeA,initialCursor:u.current,pointerPos:l,innerRect:r})):"crop"===h?n(eeG({initialCrop:c.current,initialHotspot:d.current,initialCursor:u.current,pointerPos:l,innerRect:r})):"cropHandle"===h&&g&&n(ee$({initialCrop:c.current,initialHotspot:d.current,initialCursor:u.current,pointerPos:l,innerRect:r,activeHandle:g}))},[p,h,g,r,n,t.crop,a,i,d,c,u]);return{dragTarget:h,activeHandle:g,dragStart:p,handlePointerDown:v,handlePointerMove:b,resetDragState:(0,E.useCallback)(()=>{m(null),y(null),f(null),c.current=null,u.current=null,d.current=null},[])}}({value:t,onChange:r,innerRect:f,svgRef:l,size:o,readOnly:a,hotspotRef:c,cropRef:s}),{handleKeyDown:O,handleKeyUp:P}=function(e){let t,n,r,i,a,o,l=(0,j.c)(20),{value:s,onChange:c,onChangeEnd:u,innerRect:d,focusTarget:p,readOnly:f}=e,h=(0,E.useRef)(null),m=(0,E.useRef)(null),g=(0,E.useRef)(null),y=(0,E.useRef)(null);l[0]!==u||l[1]!==s?(t=()=>{(h.current||m.current)&&(u({crop:s.crop||eeA,hotspot:s.hotspot||eeI}),h.current=null,m.current=null,g.current=null)},l[0]=u,l[1]=s,l[2]=t):t=l[2];let v=t;l[3]!==d?(n=e=>{let t,{e:n,crop:r,hotspot:i,isCtrlOrCmdPressed:a,step:o,resizeStep:l}=e;if(a){let e={x:g.current.x,y:g.current.y};switch(n.key){case"ArrowUp":e.y=e.y-d.height*l;break;case"ArrowDown":e.y=e.y+d.height*l;break;case"ArrowLeft":e.x=e.x-d.width*l;break;case"ArrowRight":e.x=e.x+d.width*l;break;default:return null}t=eeK({initialHotspot:i,crop:r,initialCursor:g.current,pointerPos:e,innerRect:d})}else{let e={x:0,y:0};switch(n.key){case"ArrowUp":e.y=-o;break;case"ArrowDown":e.y=o;break;case"ArrowLeft":e.x=-o;break;case"ArrowRight":e.x=o;break;default:return null}t={hotspot:eeY({hotspot:i,crop:r},e),crop:r}}return t},l[3]=d,l[4]=n):n=l[4];let b=n;l[5]!==d?(r=e=>{let{e:t,crop:n,hotspot:r,isCtrlOrCmdPressed:i,step:a,resizeStep:o}=e;if(i){let e,i={x:g.current.x,y:g.current.y};switch(t.key){case"ArrowUp":e="crop-bottom",i.y=i.y-d.height*o;break;case"ArrowDown":e="crop-bottom",i.y=i.y+d.height*o;break;case"ArrowLeft":e="crop-right",i.x=i.x-d.width*o;break;case"ArrowRight":e="crop-right",i.x=i.x+d.width*o;break;default:return null}if(e)return ee$({initialCrop:n,initialHotspot:r,initialCursor:g.current,pointerPos:i,innerRect:d,activeHandle:e})}else{let e={x:g.current.x,y:g.current.y};switch(t.key){case"ArrowUp":e.y=e.y-d.height*a;break;case"ArrowDown":e.y=e.y+d.height*a;break;case"ArrowLeft":e.x=e.x-d.width*a;break;case"ArrowRight":e.x=e.x+d.width*a;break;default:return null}return eeG({initialCrop:n,initialHotspot:r,initialCursor:g.current,pointerPos:e,innerRect:d})}return null},l[5]=d,l[6]=r):r=l[6];let x=r;l[7]!==p||l[8]!==x||l[9]!==b||l[10]!==d||l[11]!==c||l[12]!==f||l[13]!==s?(i=e=>{if(null!==y.current&&window.clearTimeout(y.current),f||!p||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key))return;let t=s.crop||eeA,n=s.hotspot||eeI;h.current={...t},m.current={...n},g.current={x:d.width/2,y:d.height/2};let r=e.shiftKey,i=e.ctrlKey||e.metaKey,a=r?.025:.005,o=r?.025:.005,l=null;"hotspot"===p||"hotspotHandle"===p?l=b({e:e,crop:t,hotspot:n,isCtrlOrCmdPressed:i,step:a,resizeStep:o}):("crop"===p||"cropHandle"===p)&&(l=x({e:e,crop:t,hotspot:n,isCtrlOrCmdPressed:i,step:a,resizeStep:o})),l&&(c(l),e.preventDefault())},l[7]=p,l[8]=x,l[9]=b,l[10]=d,l[11]=c,l[12]=f,l[13]=s,l[14]=i):i=l[14];let C=i;l[15]!==v?(a=e=>{null!==y.current&&window.clearTimeout(y.current),y.current=window.setTimeout(()=>{v(),y.current=null},300)},l[15]=v,l[16]=a):a=l[16];let k=a;return l[17]!==C||l[18]!==k?(o={handleKeyDown:C,handleKeyUp:k},l[17]=C,l[18]=k,l[19]=o):o=l[19],o}({value:t,onChange:r,onChangeEnd:i,innerRect:f,focusTarget:u,readOnly:a}),M=(0,E.useMemo)(()=>(e=>{let t,n,r,i,a,o,l={top:{x:e.left+e.width/2,y:e.top},right:{x:(t=e).left+t.width,y:e.top+e.height/2},bottom:{x:e.left+e.width/2,y:(n=e).top+n.height},left:{x:e.left,y:e.top+e.height/2},topLeft:{x:e.left,y:e.top},topRight:{x:(r=e).left+r.width,y:e.top},bottomLeft:{x:e.left,y:(i=e).top+i.height},bottomRight:{x:(a=e).left+a.width,y:(o=e).top+o.height}},s={topLeft:0,topRight:90,bottomRight:180,bottomLeft:270},c={};for(let e of["top","right","bottom","left"]){let t=eeJ.edgeDimensions[e],n=l[e];c[e]={visual:{left:n.x-t.width/2,top:n.y-t.height/2,width:t.width,height:t.height},hit:{left:n.x-12,top:n.y-12,width:24,height:24}}}for(let e of["topLeft","topRight","bottomLeft","bottomRight"]){let t=l[e];c[e]={visual:{left:t.x-24,top:t.y-24,width:48,height:48},hit:{left:t.x-12,top:t.y-12,width:24,height:24},path:eeJ.cornerPath,position:t,rotation:s[e]}}return c})(h),[h]),F=(0,E.useMemo)(()=>({...(e=>{let t=.25*Math.PI,n=e.width/2,r=e.height/2;return{x:eeV(e)+Math.cos(t)*n,y:eeU(e)+Math.sin(t)*r}})(g),radius:8,hitRadius:12}),[g]),R=(0,E.useCallback)(e=>{d(e)},[]),B=(0,E.useCallback)(()=>{d(null)},[]),N=(0,E.useCallback)(()=>R("hotspot"),[R]),L=(0,E.useCallback)(()=>B(),[B]),z=(0,E.useCallback)(()=>R("crop"),[R]),V=(0,E.useCallback)(()=>B(),[B]),U=(0,E.useCallback)(e=>{let n=l.current;n&&(S&&("hotspot"===S||"hotspotHandle"===S?i({hotspot:m,crop:t.crop||eeA}):("crop"===S||"cropHandle"===S)&&i({crop:t.crop||eeA,hotspot:t.hotspot||eeI})),n.releasePointerCapture(e.pointerId),A())},[S,i,t.crop,t.hotspot,m,A]),H=(0,E.useMemo)(()=>"crop"===S||"hotspot"===S?"grabbing":"hotspotHandle"===S?"move":"cropHandle"===S&&T?eeZ[T]||"move":y?"crop"===y||"hotspot"===y?"grab":"hotspotHandle"===y?"move":"string"==typeof y&&y in eeZ?eeZ[y]:"default":"default",[S,T,y]),q=(0,E.useCallback)(()=>v("crop"),[v]),W=(0,E.useCallback)(e=>!!y&&("crop"===y||y==="crop-".concat(e)),[y]);return(0,_.jsx)(eeQ,{children:(0,_.jsxs)(ee1,{ref:l,viewBox:"0 0 ".concat(o.width," ").concat(o.height),preserveAspectRatio:"xMidYMid",onPointerMove:I,onPointerUp:U,style:{cursor:a?"default":H,width:"".concat(o.width,"px"),height:"".concat(o.height,"px")},children:[(0,_.jsx)("image",{href:n.src,x:f.left,y:f.top,width:f.width,height:f.height,opacity:.25,preserveAspectRatio:"xMidYMid meet"}),(0,_.jsxs)("svg",{x:h.left,y:h.top,width:h.width,height:h.height,overflow:"hidden","data-handle":"crop",onPointerDown:D,onMouseEnter:k,onMouseLeave:b,children:[(0,_.jsx)("image",{href:n.src,x:-h.left+f.left,y:-h.top+f.top,width:f.width,height:f.height,preserveAspectRatio:"xMidYMid meet"}),(0,_.jsx)(ee2,{x:"0",y:"0",width:h.width,height:h.height}),(0,_.jsx)("rect",{x:"0",y:"0",width:h.width,height:h.height,fill:"transparent","data-handle":"crop",onPointerDown:D,onMouseEnter:k})]}),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",{id:p,children:(0,_.jsx)("ellipse",{cx:eeV(g),cy:eeU(g),rx:g.width/2,ry:g.height/2})})}),(0,_.jsx)("image",{href:n.src,x:f.left,y:f.top,width:f.width,height:f.height,clipPath:"url(#".concat(p,")"),preserveAspectRatio:"xMidYMid meet"}),(0,_.jsxs)("g",{children:[(0,_.jsx)(ee8,{ref:c,cx:eeV(g),cy:eeU(g),rx:Math.max(.01,g.width/2),ry:Math.max(.01,g.height/2),$hovered:!a&&("hotspot"===y||"hotspotHandle"===y||"hotspot"===S||"hotspotHandle"===S),$focused:!a&&"hotspot"===u,"data-handle":"hotspot",onPointerDown:D,tabIndex:a?-1:0,onMouseEnter:x,onMouseLeave:b,onFocus:N,onBlur:L,onKeyDown:O,onKeyUp:P,style:{pointerEvents:"visiblePainted"}}),!a&&(0,_.jsxs)("g",{children:[(0,_.jsx)(ee9,{cx:F.x,cy:F.y,r:F.hitRadius,"data-handle":"hotspotHandle",onPointerDown:D,onMouseEnter:C,onMouseLeave:b,style:{pointerEvents:"visiblePainted"}}),(0,_.jsx)(ee4,{cx:F.x,cy:F.y,r:F.radius,$hovered:!a&&("hotspot"===y||"hotspotHandle"===y||"hotspot"===S||"hotspotHandle"===S),$focused:!a&&"hotspot"===u,pointerEvents:"none"})]})]}),(0,_.jsxs)(ete,{children:[(0,_.jsx)("line",{x1:eeV(g),y1:f.top,x2:eeV(g),y2:f.top+f.height}),(0,_.jsx)("line",{x1:f.left,y1:eeU(g),x2:f.left+f.width,y2:eeU(g)}),(0,_.jsx)("line",{x1:g.left,y1:f.top,x2:g.left,y2:f.top+f.height}),(0,_.jsx)("line",{x1:g.left+g.width,y1:f.top,x2:g.left+g.width,y2:f.top+f.height}),(0,_.jsx)("line",{x1:f.left,y1:g.top,x2:f.left+f.width,y2:g.top}),(0,_.jsx)("line",{x1:f.left,y1:g.top+g.height,x2:f.left+f.width,y2:g.top+g.height})]}),(0,_.jsxs)("g",{children:[(0,_.jsx)(ee5,{ref:s,x:h.left,y:h.top,width:h.width,height:h.height,$hovered:!a&&("crop"===y||!!(null==y?void 0:y.startsWith("crop-"))||"crop"===S||"cropHandle"===S),$focused:!a&&"crop"===u,"data-handle":"crop",onPointerDown:D,tabIndex:a?-1:0,onMouseEnter:q,onMouseLeave:b,onFocus:z,onBlur:V,onKeyDown:O,onKeyUp:P}),!a&&Object.entries(M).map(e=>{var t,n,r,i,o;let[l,s]=e;return(0,_.jsxs)("g",{children:[(0,_.jsx)(ee6,{x:s.hit.left,y:s.hit.top,width:s.hit.width,height:s.hit.height,"data-handle":"crop-".concat(l),onPointerDown:D,onMouseEnter:w(l),onMouseLeave:b,style:{pointerEvents:"all"}}),["topLeft","topRight","bottomLeft","bottomRight"].includes(l)?(0,_.jsx)("g",{transform:"translate(".concat(null!=(r=null==(t=s.position)?void 0:t.x)?r:0,", ").concat(null!=(i=null==(n=s.position)?void 0:n.y)?i:0,") rotate(").concat(null!=(o=s.rotation)?o:0,")"),children:(0,_.jsx)(ee7,{d:s.path,$hovered:!a&&W(l),$focused:!a&&"crop"===u,pointerEvents:"none"})}):(0,_.jsx)(ee3,{x:s.visual.left,y:s.visual.top,width:s.visual.width,height:s.visual.height,$hovered:!a&&W(l),$focused:!a&&"crop"===u,pointerEvents:"none"})]},l)})]})]})})});function etn(e){let t,n,r,i,a,o=(0,j.c)(9),l=(0,E.useRef)(null),[s,c]=(0,E.useState)(null),[u,d]=(0,E.useState)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{if(l.current)return l.current&&(c(l.current.clientWidth),d(l.current.clientHeight)),Im.observe(l.current,e=>{c(e.contentRect.width),d(e.contentRect.height)})},n=[],o[0]=t,o[1]=n):(t=o[0],n=o[1]),(0,E.useLayoutEffect)(t,n),o[2]===Symbol.for("react.memo_cache_sentinel")?(r={position:"relative",width:"100%",height:"100%"},o[2]=r):r=o[2],o[3]!==u||o[4]!==s||o[5]!==e?(i=null!==s&&null!==u&&(0,_.jsx)(eeL,{src:e.src,children:t=>{let{isLoading:n,image:r,error:i}=t;return n?(0,_.jsx)(DU,{showText:!0}):i?(0,_.jsx)("div",{children:i.message}):r?(0,_.jsx)(eez,{image:r,maxHeight:u,maxWidth:s,children:t=>(0,_.jsx)(ett,{...e,image:r,size:t})}):null}}),o[3]=u,o[4]=s,o[5]=e,o[6]=i):i=o[6],o[7]!==i?(a=(0,_.jsx)("div",{ref:l,style:r,children:i}),o[7]=i,o[8]=a):a=o[8],a}let etr={isLoading:!0},eti=["hotspot"],eta=[{title:"3:4",aspectRatio:3/4},{title:"Square",aspectRatio:1},{title:"16:9",aspectRatio:16/9},{title:"Panorama",aspectRatio:4}],eto={crop:eeA,hotspot:eeI},etl=F.styled.div(ji());function ets(e){let t,n,r=(0,j.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={overflowWrap:"break-word"},r[0]=t):t=r[0],r[1]!==e.children?(n=(0,_.jsx)(I.Flex,{align:"center",justify:"center",padding:4,style:t,children:e.children}),r[1]=e.children,r[2]=n):n=r[2],n}function etc(e){var t,n;let{imageUrl:r,value:i,changed:a,level:o,path:l,focusPath:s=Ie,presence:c,onChange:u,schemaType:d,onPathFocus:p,readOnly:f,elementProps:h}=e,[m,g]=(0,E.useState)(i||eto),{image:y,isLoading:v,error:b}=function(e){let t,n,r=(0,j.c)(3),[i,a]=(0,E.useState)(etr);return r[0]!==e?(t=()=>{a(etr);let t=new er.Observable(t=>{let n=document.createElement("img"),r=!1;return n.onload=()=>{r=!0,t.next(n),t.complete()},n.onerror=()=>{r=!0,t.error(Error("Could not load image from ".concat(e.startsWith("blob:")?"blob":e)))},n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")}}).subscribe({error:e=>{a({isLoading:!1,error:e})},next:e=>{a({image:e,isLoading:!1})}});return()=>{t.unsubscribe()}},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,E.useEffect)(t,n),i}(r),x=(0,E.useCallback)(()=>{p(eti)},[p]);(0,E.useEffect)(()=>{g(i||eto)},[i]);let C="hotspot"===s[0],k="object"==typeof(null==(t=d.options)?void 0:t.hotspot)&&d.options.hotspot.previews||eta;zm(C,e=>{var t;!e&&C&&(null==(t=h.ref.current)||t.focus())});let w=(0,E.useCallback)(e=>{if(f)return;let t=d.fields.find(e=>"crop"===e.name&&"object"!==e.type.name),n=d.fields.find(e=>"object"!==e.type.name&&"hotspot"===e.name),r=t?{_type:t.type.name,...e.crop||eeA}:e.crop,i=n?{_type:n.type.name,...e.hotspot||eeI}:e.hotspot;u([LB(r,["crop"]),LB(i,["hotspot"])])},[u,f,d.fields]),S=(0,E.useMemo)(()=>{var e,t;return(null==i||null==(t=i.asset)||null==(e=t._ref)?void 0:e.split("-").at(-1))==="svg"},[null==i||null==(n=i.asset)?void 0:n._ref]),{t:T}=IO();return(0,_.jsxs)(Hq,{title:T("inputs.imagetool.title"),level:o,description:T("inputs.imagetool.description"),deprecated:d.deprecated,__unstable_presence:c,children:[S?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(I.Card,{padding:3,marginY:3,tone:"caution",radius:2,children:(0,_.jsxs)(I.Stack,{space:4,children:[(0,_.jsx)(I.Text,{size:1,children:T("inputs.imagetool.vector-warning.title")}),(0,_.jsx)(Vx,{title:T("inputs.imagetool.vector-warning.expand-developer-info"),children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:T,i18nKey:"inputs.imagetool.vector-warning.developer-info",components:{ImageUrlDocumentationLink:e=>{let{children:t}=e;return(0,_.jsx)("a",{href:"https://www.sanity.io/docs/image-urls#fm-048ba39d9e88",children:t})},ImageUrlPackageDocumentationLink:e=>{let{children:t}=e;return(0,_.jsx)("a",{href:"https://www.sanity.io/docs/image-urls#fm-048ba39d9e88",children:(0,_.jsx)("code",{children:t})})}}})})})]})})}):null,(0,_.jsxs)("div",{children:[(0,_.jsx)(I.Card,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:h.ref,onFocus:x,border:!0,children:(0,_.jsx)($j,{path:l.concat(eti),hasFocus:"hotspot"===s[0],isChanged:a,children:(0,_.jsxs)(eeD,{ratio:1.5,children:[(v||b)&&(0,_.jsx)(ets,{children:b?(0,_.jsx)(I.Card,{padding:4,radius:2,tone:"critical",border:!0,children:(0,_.jsx)(I.Text,{children:T("inputs.imagetool.load-error",{errorMessage:b.message})})}):(0,_.jsx)(DU,{showText:!0})}),!v&&y&&(0,_.jsx)(I.Box,{children:(0,_.jsx)(etn,{value:m,src:y.src,readOnly:!!f,onChangeEnd:w,onChange:g})})]})})}),k.length>0?(0,_.jsx)(I.Box,{marginTop:2,children:(0,_.jsx)(I.Grid,{columns:4,gap:1,children:k.map(e=>{let{title:t,aspectRatio:n}=e;return(0,_.jsxs)(I.Box,{marginTop:2,children:[(0,_.jsx)(I.Heading,{as:"h4",size:0,children:t}),(0,_.jsx)(I.Box,{marginTop:2,children:(0,_.jsx)(eeD,{ratio:n,children:(0,_.jsx)(I.Card,{__unstable_checkered:!0,border:!0,children:!v&&y?(0,_.jsx)(eeN,{aspectRatio:n,src:y.src,srcAspectRatio:y.width/y.height,hotspot:m.hotspot||eeI,crop:m.crop||eeA}):(0,_.jsx)(etl,{})})})})]},t)})})}):null]})]})}let etu=(0,E.memo)(function(e){let{handleCloseDialog:t,inputProps:n,imageInputProps:r,isImageToolEnabled:i}=e,{t:a}=IO(),{changed:o,id:l,imageUrlBuilder:s,value:c}=r,u=i&&c&&c.asset,d=(0,E.useMemo)(()=>(null==c?void 0:c.asset)?s.image(c.asset).url():"",[s,null==c?void 0:c.asset]);return(0,_.jsx)(B.Dialog,{__unstable_autoFocus:!1,header:a("inputs.image.hotspot-dialog.title"),id:"".concat(l,"_dialog"),onClickOutside:t,onClose:t,width:1,children:(0,_.jsx)(W0,{children:(0,_.jsx)(I.Stack,{space:5,children:u&&(null==c?void 0:c.asset)&&(0,_.jsx)(etc,{...r,imageUrl:d,value:c,presence:n.presence,changed:o})})})})});function etd(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(26);f[0]!==e?({drag:t,readOnly:r,isRejected:n,src:a,...i}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=i,f[5]=a):(t=f[1],n=f[2],r=f[3],i=f[4],a=f[5]);let[h,m]=(0,E.useState)(!1),g=t?n||r?"critical":"primary":"default";f[6]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{m(!1)},f[6]=o):o=f[6],f[7]!==a?(l=[a],f[7]=a,f[8]=l):l=f[8],(0,E.useEffect)(o,l),f[9]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{m(!0)},f[9]=s):s=f[9];let y=s,{t:v}=IO();return f[10]!==h?(c=!h&&(0,_.jsx)(etf,{cardTone:"transparent",content:(0,_.jsx)(DU,{showText:!0})}),f[10]=h,f[11]=c):c=f[11],f[12]!==e.alt||f[13]!==a?(u=(0,_.jsx)("img",{src:a,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:y,referrerPolicy:"strict-origin-when-cross-origin"}),f[12]=e.alt,f[13]=a,f[14]=u):u=f[14],f[15]!==t||f[16]!==n||f[17]!==r||f[18]!==v||f[19]!==g?(d=t&&(0,_.jsx)(etf,{cardTone:g,content:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Box,{marginBottom:3,children:(0,_.jsx)(I.Heading,{children:(0,_.jsx)(etp,{isRejected:n,readOnly:r})})}),(0,_.jsx)(I.Text,{size:1,children:v(function(e){let{isRejected:t,readOnly:n}=e;return t?"inputs.image.drag-overlay.cannot-upload-here":n?"inputs.image.drag-overlay.this-field-is-read-only":"inputs.image.drag-overlay.drop-to-upload-image"}({isRejected:n,readOnly:r}))})]})}),f[15]=t,f[16]=n,f[17]=r,f[18]=v,f[19]=g,f[20]=d):d=f[20],f[21]!==i||f[22]!==c||f[23]!==u||f[24]!==d?(p=(0,_.jsxs)(QK,{...i,tone:"transparent",children:[c,u,d]}),f[21]=i,f[22]=c,f[23]=u,f[24]=d,f[25]=p):p=f[25],p}function etp(e){let t,n=(0,j.c)(3),{isRejected:r,readOnly:i}=e;if(r){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.AccessDeniedIcon,{}),n[0]=e):e=n[0],e}if(i){let e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.ReadOnlyIcon,{}),n[1]=e):e=n[1],e}return n[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(R.ImageIcon,{}),n[2]=t):t=n[2],t}function etf(e){let t,n,r=(0,j.c)(5),{cardTone:i,content:a}=e;return r[0]!==a?(t=(0,_.jsx)(Q$,{direction:"column",align:"center",justify:"center",children:a}),r[0]=a,r[1]=t):t=r[1],r[2]!==i||r[3]!==t?(n=(0,_.jsx)(QG,{padding:3,tone:i,children:t}),r[2]=i,r[3]=t,r[4]=n):n=r[4],n}let eth=(0,E.memo)(function(e){let t,n=(0,j.c)(9),{directUploads:r,handleOpenDialog:i,hoveringFiles:a,imageUrlBuilder:o,readOnly:l,resolveUploader:s,schemaType:c,value:u}=e;return n[0]!==r||n[1]!==i||n[2]!==a||n[3]!==o||n[4]!==l||n[5]!==s||n[6]!==c||n[7]!==u?(t=(0,_.jsx)(etm,{directUploads:r,handleOpenDialog:i,hoveringFiles:a,imageUrlBuilder:o,readOnly:l,resolveUploader:s,schemaType:c,value:u}),n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=l,n[5]=s,n[6]=c,n[7]=u,n[8]=t):t=n[8],t});function etm(e){let t,n,r,i=(0,j.c)(12),{directUploads:a,handleOpenDialog:o,hoveringFiles:l,imageUrlBuilder:s,readOnly:c,resolveUploader:u,schemaType:d,value:p}=e,{t:f}=IO(),h=l.filter(e=>u(d,e)),m=l.length-h.length;i[0]!==s||i[1]!==p?(t={value:p,imageUrlBuilder:s},i[0]=s,i[1]=p,i[2]=t):t=i[2];let{url:g}=eem(t);i[3]!==f?(n=f("inputs.image.preview-uploaded-image"),i[3]=f,i[4]=n):n=i[4];let y=!(null==p?void 0:p._upload)&&l.length>0,v=m>0||!1===a;return i[5]!==o||i[6]!==c||i[7]!==n||i[8]!==y||i[9]!==v||i[10]!==g?(r=(0,_.jsx)(etd,{alt:n,drag:y,isRejected:v,onDoubleClick:o,readOnly:c,src:g}),i[5]=o,i[6]=c,i[7]=n,i[8]=y,i[9]=v,i[10]=g,i[11]=r):r=i[11],r}let etg=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s=(0,j.c)(28),{assetSources:c,directUploads:u,onSelectFiles:d,hoveringFiles:p,readOnly:f,renderBrowser:h,resolveUploader:m,schemaType:g}=e;if(s[0]!==p||s[1]!==m||s[2]!==g){let e;s[4]!==m||s[5]!==g?(e=e=>m(g,e),s[4]=m,s[5]=g,s[6]=e):e=s[6],t=p.filter(e),s[0]=p,s[1]=m,s[2]=g,s[3]=t}else t=s[3];let y=t;s[7]!==g?(n=(0,n_.default)(g,"options.accept","image/*"),s[7]=g,s[8]=n):n=s[8];let v=n,b=p.length-y.length;s[9]===Symbol.for("react.memo_cache_sentinel")?(r={padding:1},s[9]=r):r=s[9];let x=f?"transparent":"inherit";return s[10]!==p.length?(i=0===p.length?{}:{borderColor:"transparent"},s[10]=p.length,s[11]=i):i=s[11],s[12]!==h?(a=h(),s[12]=h,s[13]=a):a=s[13],s[14]!==v||s[15]!==y||s[16]!==c||s[17]!==u||s[18]!==p||s[19]!==d||s[20]!==f||s[21]!==b||s[22]!==a?(o=(0,_.jsx)(QY,{accept:v,acceptedFiles:y,assetSources:c,browse:a,directUploads:u,hoveringFiles:p,onUpload:d,readOnly:f,rejectedFilesCount:b,type:"image"}),s[14]=v,s[15]=y,s[16]=c,s[17]=u,s[18]=p,s[19]=d,s[20]=f,s[21]=b,s[22]=a,s[23]=o):o=s[23],s[24]!==x||s[25]!==i||s[26]!==o?(l=(0,_.jsx)("div",{style:r,children:(0,_.jsx)(I.Card,{tone:x,border:!0,paddingX:3,paddingY:2,radius:2,style:i,children:o})}),s[24]=x,s[25]=i,s[26]=o,s[27]=l):l=s[27],l});function ety(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(20),{onClearValue:d}=e,{t:p}=IO();return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),u[0]=t):t=u[0],u[1]!==p?(n=p("inputs.image.invalid-image-warning.title"),u[1]=p,u[2]=n):n=u[2],u[3]!==n?(r=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:n}),u[3]=n,u[4]=r):r=u[4],u[5]!==p?(i=p("inputs.image.invalid-image-warning.description"),u[5]=p,u[6]=i):i=u[6],u[7]!==i?(a=(0,_.jsx)(I.Text,{size:1,children:i}),u[7]=i,u[8]=a):a=u[8],u[9]!==r||u[10]!==a?(o=(0,_.jsxs)(I.Flex,{gap:4,marginBottom:4,children:[t,(0,_.jsxs)(I.Stack,{space:3,children:[r,a]})]}),u[9]=r,u[10]=a,u[11]=o):o=u[11],u[12]!==p?(l=p("inputs.image.invalid-image-warning.reset-button.text"),u[12]=p,u[13]=l):l=u[13],u[14]!==d||u[15]!==l?(s=(0,_.jsx)(B.Button,{icon:R.ResetIcon,mode:"ghost",onClick:d,text:l,width:"fill"}),u[14]=d,u[15]=l,u[16]=s):s=u[16],u[17]!==o||u[18]!==s?(c=(0,_.jsxs)(I.Card,{tone:"caution",padding:4,border:!0,radius:2,children:[o,s]}),u[17]=o,u[18]=s,u[19]=c):c=u[19],c}let etv=(0,E.memo)(function(e){let{assetSources:t,client:n,directUploads:r,elementProps:i,focusPath:a,id:o,imageUrlBuilder:l,members:s,observeAsset:c,onChange:u,onPathFocus:d,path:p,readOnly:f,renderAnnotation:h,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:v,renderItem:b,renderPreview:x,resolveUploader:C,schemaType:k,value:w}=e,{push:j}=(0,A.useToast)(),{t:S}=IO(),[T,D]=(0,E.useState)(null),[O,P]=(0,E.useState)(!1),[M,F]=(0,E.useState)([]),[R,B]=(0,E.useState)(!1),[N,L]=(0,E.useState)(null),[z,V]=(0,E.useState)(null),[U,H]=(0,E.useState)(!1),q=(0,E.useRef)(null),W=(0,E.useRef)(null),Y=(0,E.useCallback)(()=>{let e=M.filter(e=>C(k,e)),t=M.length-e.length;return M.length>0&&(t>0||!1===r)?"critical":(null==w?void 0:w._upload)||f||!(M.length>0)?f||(null==w?void 0:w._upload)&&(null==w?void 0:w.asset)?"transparent":"default":"primary"},[r,M,f,C,k,null==w?void 0:w._upload,null==w?void 0:w.asset]),K=(0,E.useCallback)(()=>{let e=(0,n_.default)(k,"options.hotspot");return"object"==typeof e||!0===e},[k]),G=(0,E.useCallback)(()=>"string"!=typeof p.slice(-1)[0],[p]),$=(0,E.useCallback)(()=>{(null==w?void 0:w._upload)&&u(LN(["_upload"]))},[u,null==w?void 0:w._upload]),Z=(0,E.useCallback)(()=>{q.current&&(q.current.unsubscribe(),$())},[$]),X=(0,E.useCallback)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{label:i,title:a,description:o,creditLine:l,source:s}=r,c={metadata:(0,n_.default)(k,"options.metadata"),storeOriginalFilename:(0,n_.default)(k,"options.storeOriginalFilename"),label:i,title:a,description:o,creditLine:l,source:s};Z(),P(!0),u(LF({_type:k.name})),q.current=e.upload(n,t,k,c).subscribe({next:e=>{e.patches&&u(e.patches)},error:e=>{console.error(e),j({status:"error",description:S("inputs.image.upload-error.description"),title:S("inputs.image.upload-error.title")}),$()},complete:()=>{u([LN(["hotspot"]),LN(["crop"]),LN(["media"])]),P(!1)}})},[Z,$,n,u,j,k,S]),J=(0,E.useCallback)(()=>{u([LN(["asset"]),LN(["crop"]),LN(["hotspot"]),LN(["media"])])},[u]),Q=(0,E.useCallback)(()=>{let e=Object.keys(w||{}),t=0===e.filter(e=>!["_type","_key","_upload","asset","crop","hotspot","media"].includes(e)).length,n=["asset","media"].concat(e.filter(e=>["crop","hotspot","_upload"].includes(e))).map(e=>LN([e]));u(t&&!G()?LN():n)},[u,w,G]),ee=(0,E.useCallback)(()=>{d(["hotspot"])},[d]),et=(0,E.useCallback)(()=>{d([]),null==N||N.focus()},[N,d]),en=(0,E.useCallback)(e=>{JU({assetsFromSource:e,onChange:u,type:k,resolveUploader:C,uploadWith:X,isImage:!0}),D(null),P(!1)},[u,C,k,X]),er=(0,E.useCallback)(e=>{var t;e.currentTarget===e.target&&e.currentTarget===(null==(t=i.ref)?void 0:t.current)&&i.onFocus(e)},[i]),ei=(0,E.useCallback)(()=>{Z()},[Z]),ea=(0,E.useCallback)(()=>{B(!1),$()},[$]),eo=(0,E.useCallback)(()=>{B(!0)},[]),el=(0,E.useCallback)((e,t)=>{var n,r;if(0!==t.length&&(D(e),e.Uploader))try{let r=new e.Uploader;null==(n=W.current)||n.unsubscribe(),W.current={unsubscribe:r.subscribe(e=>{switch(e.type){case"progress":u(zU.from([LB(Math.max(2,e.progress),[U0,"progress"]),LB(new Date().toISOString(),[U0,"updatedAt"])]));break;case"error":e.files.forEach(e=>{console.error(e.error)}),j({status:"error",description:S("asset-sources.common.uploader.upload-failed.description"),title:S("asset-sources.common.uploader.upload-failed.title")});break;case"all-complete":u(zU.from([LN([U0])])),H(!1)}}),uploader:r},P(!0),u(zU.from(U3(t[0]))),r.upload(t,{schemaType:k,onChange:u})}catch(e){u(zU.from([LN([U0])])),P(!1),null==(r=W.current)||r.unsubscribe(),D(null),W.current=null,j({status:"error",description:S("asset-sources.common.uploader.upload-failed.description"),title:S("asset-sources.common.uploader.upload-failed.title")}),console.error(e)}},[u,j,k,S]);(0,E.useEffect)(()=>()=>{var e,t,n;null==(t=W.current)||null==(e=t.uploader)||e.abort(),null==(n=W.current)||n.unsubscribe()},[]);let es=(0,E.useCallback)(e=>{D(e)},[]),ec=(0,E.useCallback)(()=>{D(null),null==z||z.focus()},[z]),eu=(0,E.useCallback)(()=>w?(0,_.jsx)(eth,{directUploads:r,handleOpenDialog:ee,hoveringFiles:M,imageUrlBuilder:l,readOnly:f,resolveUploader:C,schemaType:k,value:w}):(0,_.jsx)(_.Fragment,{}),[r,ee,M,l,f,C,k,w]),ed=(0,E.useCallback)(()=>(0,_.jsx)(eew,{assetSources:t,directUploads:r,handleOpenDialog:ee,handleRemoveButtonClick:Q,onSelectFiles:el,handleSelectImageFromAssetSource:es,imageUrlBuilder:l,isImageToolEnabled:K(),isMenuOpen:U,observeAsset:c,readOnly:f,schemaType:k,setHotspotButtonElement:L,setMenuButtonElement:V,setMenuOpen:H,value:w}),[t,r,ee,Q,el,es,l,K,U,c,f,k,w]),ep=(0,E.useCallback)(()=>(0,_.jsx)(eeT,{assetSources:t,readOnly:f,id:o,setMenuOpen:H,schemaType:k,handleSelectImageFromAssetSource:es}),[t,es,o,f,k]),ef=(0,E.useCallback)(()=>(0,_.jsx)(etg,{assetSources:t,directUploads:r,onSelectFiles:el,hoveringFiles:M,readOnly:f,renderBrowser:ep,resolveUploader:C,schemaType:k}),[t,r,el,M,f,ep,C,k]),eh=(0,E.useCallback)(e=>(0,_.jsx)(Q1,{uploadState:e,onCancel:O?ei:void 0,onStale:eo}),[ei,eo,O]),em=(0,E.useCallback)(()=>w&&"u">typeof w.asset&&!(null==w?void 0:w._upload)&&!(0,tg.isImageSource)(w)?()=>(0,_.jsx)(ety,{onClearValue:J}):e=>(0,_.jsx)(eeb,{assetSources:t,directUploads:!1!==r,elementProps:i,handleClearUploadState:ea,handleFileTargetFocus:er,hoveringFiles:M,imageUrlBuilder:l,inputProps:e,isStale:R,onSelectFiles:el,readOnly:f,renderAssetMenu:ed,renderPreview:eu,renderUploadPlaceholder:ef,renderUploadState:eh,schemaType:k,setHoveringFiles:F,selectedAssetSource:T,tone:Y(),value:w}),[t,r,i,Y,J,ea,er,el,M,l,R,f,ed,eu,ef,eh,k,T,w]),eg=(0,E.useCallback)(t=>(0,_.jsx)(etu,{isImageToolEnabled:K(),handleCloseDialog:et,imageInputProps:e,inputProps:t}),[et,K,e]),ey=(0,E.useCallback)(()=>{var e;return(0,_.jsx)(eeS,{handleAssetSourceClosed:ec,handleSelectAssetFromSource:en,isUploading:O,observeAsset:c,schemaType:k,selectedAssetSource:T,uploader:null==(e=W.current)?void 0:e.uploader,value:w})},[ec,en,O,c,k,T,w]),ev=(0,E.useMemo)(()=>s.find(e=>"field"===e.kind&&"hotspot"===e.name),[s]);return(0,_.jsxs)(I.Stack,{space:5,"data-testid":"image-input",children:[s.map(e=>"field"===e.kind&&("crop"===e.name||"hotspot"===e.name)?null:"field"===e.kind?(0,_.jsx)(Hs,{member:e,renderAnnotation:h,renderBlock:m,renderInlineBlock:y,renderInput:"asset"===e.name?em():v,renderField:"asset"===e.name?etb:g,renderItem:b,renderPreview:x},e.key):"fieldSet"===e.kind?(0,_.jsx)(H9,{member:e,renderAnnotation:h,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:v,renderItem:b,renderPreview:x},e.key):"error"===e.kind?(0,_.jsx)(H6,{member:e},e.key):(0,_.jsx)(E.Fragment,{children:S("inputs.image.error.unknown-member-kind",{kind:e.kind})},e.key)),ev&&"hotspot"===a[0]&&(0,_.jsx)(YA,{...e,absolutePath:ev.field.path,renderInput:eg}),T&&ey()]})});function etb(e){let{children:t}=e;return t}let etx={document:GZ,object:GZ,array:function(e){var t;let n,r=(0,j.c)(4);if(Array.isArray(null==(t=e.schemaType.options)?void 0:t.list)){let t;return r[0]!==e?(t=(0,_.jsx)(Ks,{...e}),r[0]=e,r[1]=t):t=r[1],t}return r[2]!==e?(n=(0,W.isArrayOfPrimitivesSchemaType)(e.schemaType)?(0,_.jsx)(Kv,{...e}):(0,_.jsx)(Kn,{...e}),r[2]=e,r[3]=n):n=r[3],n},boolean:function(e){var t;let n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(39),{t:f}=IO(),{focused:h,__internal_comments:m,hovered:g,onMouseEnter:y,onMouseLeave:v,actions:b,__internal_slot:x}=zp(),{id:C,value:k,schemaType:w,readOnly:S,elementProps:E,validation:T,presence:D}=e,A=(null==(t=w.options)?void 0:t.layout)||"switch",O="boolean"!=typeof k,P=k||!1,M="checkbox"===A?I.Checkbox:I.Switch,F=S?"transparent":void 0;p[0]===Symbol.for("react.memo_cache_sentinel")?(n={paddingTop:"0.85rem"},p[0]=n):n=p[0],p[1]===Symbol.for("react.memo_cache_sentinel")?(r={margin:-4},p[1]=r):r=p[1],p[2]!==M||p[3]!==P||p[4]!==E||p[5]!==O||p[6]!==S||p[7]!==w.title?(i=(0,_.jsx)(I.Box,{padding:3,style:n,children:(0,_.jsx)(M,{label:w.title,...E,checked:P,readOnly:S,indeterminate:O,style:r})}),p[2]=M,p[3]=P,p[4]=E,p[5]=O,p[6]=S,p[7]=w.title,p[8]=i):i=p[8];let R=i;p[9]!==R||p[10]!==S||p[11]!==f?(a=S?(0,_.jsx)(B.Tooltip,{content:f("inputs.boolean.disabled"),children:R}):R,p[9]=R,p[10]=S,p[11]=f,p[12]=a):a=p[12];let N=!!h;return p[13]!==C||p[14]!==w.deprecated||p[15]!==w.description||p[16]!==w.title||p[17]!==T?(o=(0,_.jsx)(HU,{deprecated:w.deprecated,description:w.description,inputId:C,validation:T,title:w.title}),p[13]=C,p[14]=w.deprecated,p[15]=w.description,p[16]=w.title,p[17]=T,p[18]=o):o=p[18],p[19]!==b||p[20]!==m||p[21]!==g||p[22]!==C||p[23]!==D||p[24]!==x||p[25]!==N||p[26]!==o?(l=(0,_.jsx)(HS,{__internal_comments:m,__internal_slot:x,actions:b,fieldFocused:N,fieldHovered:g,presence:D,inputId:C,content:o}),p[19]=b,p[20]=m,p[21]=g,p[22]=C,p[23]=D,p[24]=x,p[25]=N,p[26]=o,p[27]=l):l=p[27],p[28]!==y||p[29]!==v||p[30]!==l?(s=(0,_.jsx)(I.Box,{flex:1,onMouseEnter:y,onMouseLeave:v,paddingY:2,children:l}),p[28]=y,p[29]=v,p[30]=l,p[31]=s):s=p[31],p[32]===Symbol.for("react.memo_cache_sentinel")?(c=(0,_.jsx)(Kb,{paddingX:3,paddingY:1,children:(0,_.jsx)(H1,{maxAvatars:1,position:"top"})}),p[32]=c):c=p[32],p[33]!==a||p[34]!==s?(u=(0,_.jsxs)(I.Flex,{children:[a,s,c]}),p[33]=a,p[34]=s,p[35]=u):u=p[35],p[36]!==u||p[37]!==F?(d=(0,_.jsx)(I.Card,{border:!0,"data-testid":"boolean-input",radius:2,tone:F,children:u}),p[36]=u,p[37]=F,p[38]=d):d=p[38],d},number:GB,text:function(e){let t,n=(0,j.c)(6),{schemaType:r,validationError:i,value:a,elementProps:o}=e,l=a||"",s="number"==typeof r.rows?r.rows:10;return n[0]!==o||n[1]!==r.placeholder||n[2]!==l||n[3]!==s||n[4]!==i?(t=(0,_.jsx)(X5,{customValidity:i,value:l,placeholder:r.placeholder,rows:s,...o}),n[0]=o,n[1]=r.placeholder,n[2]=l,n[3]=s,n[4]=i,n[5]=t):t=n[5],t},email:function(e){let t,n=(0,j.c)(3),{validationError:r,elementProps:i}=e;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(I.TextInput,{...i,type:"email",inputMode:"email",customValidity:r}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t},datetime:function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(73),{onChange:x,schemaType:C,value:k,elementProps:w,id:S,validation:E,changed:T,path:D,presence:A}=e,O=void 0===A?Ie:A,{focused:P,__internal_comments:M,hovered:F,onMouseEnter:R,onMouseLeave:B,actions:N,__internal_slot:L}=zp();b[0]!==C.options?(t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.displayTimeZone&&(0,tm.isValidTimeZoneString)(e.displayTimeZone)?e.displayTimeZone:void 0;return e.displayTimeZone&&!t&&console.warn('Invalid time zone "'.concat(e.displayTimeZone,'" supplied to datetime input, defaulting to local time zone or a previously stored preference')),{dateFormat:e.dateFormat||tm.DEFAULT_DATE_FORMAT,timeFormat:e.timeFormat||tm.DEFAULT_TIME_FORMAT,timeStep:"timeStep"in e&&Number(e.timeStep)||1,displayTimeZone:t,allowTimeZoneSwitch:void 0===e.allowTimeZoneSwitch||e.allowTimeZoneSwitch}}(C.options),b[0]=C.options,b[1]=t):t=b[1];let{dateFormat:z,timeFormat:V,timeStep:U,displayTimeZone:H,allowTimeZoneSwitch:q}=t,W=void 0===q||q,{title:Y}=C,{t:K}=IO();b[2]===Symbol.for("react.memo_cache_sentinel")?(n=["_id"],b[2]=n):n=b[2];let G=zB(n),$="".concat((0,th.getPublishedId)(G),".").concat(S).concat(W?"":".fixed");b[3]!==k?(r=k?new Date(k):void 0,b[3]=k,b[4]=r):r=b[4],b[5]!==H||b[6]!==$||b[7]!==r?(i={type:"input",defaultTimeZone:H,id:$,relativeDate:r},b[5]=H,b[6]=$,b[7]=r,b[8]=i):i=b[8];let Z=i,{timeZone:X}=K3(Z);b[9]!==x||b[10]!==U?(a=e=>{let t=e;null!==t&&U>1&&(t=function(e,t){if(!t||1===t)return e;let n=(0,tq.parseISO)(e),r=(0,tW.getMinutes)(n),i=r%t;return GM(0!==i?(0,tU.setMinutes)(n,r-i):n)}(t,U)),x(null===t?LN():LB(t))},b[9]=x,b[10]=U,b[11]=a):a=b[11];let J=a;b[12]!==z||b[13]!==V||b[14]!==X.name?(o=e=>(0,tm.format)(e,"".concat(z," ").concat(V),{timeZone:X.name}),b[12]=z,b[13]=V,b[14]=X.name,b[15]=o):o=b[15];let Q=o;b[16]!==X.name?(v=X.name,l=e=>{var t;let{date:n}=(0,tm.parse)(e,void 0,v);return n&&(t=n)instanceof Date&&!isNaN(t.valueOf())?{isValid:!0,date:n}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}},b[16]=X.name,b[17]=l):l=b[17];let ee=l;b[18]!==z||b[19]!==V||b[20]!==X.name?(s=e=>(0,tm.parse)(e,"".concat(z," ").concat(V),X.name),b[18]=z,b[19]=V,b[20]=X.name,b[21]=s):s=b[21];let et=s;b[22]!==K?(c=GT(K),b[22]=K,b[23]=c):c=b[23];let en=c,er="field-".concat(S),ei=!!P;b[24]!==W||b[25]!==H||b[26]!==K||b[27]!==X.alternativeName||b[28]!==X.offset||b[29]!==Z||b[30]!==Y?(u=H&&(0,_.jsx)(GO,{children:(0,_.jsx)(GA,{tooltipContent:(0,_.jsx)(IZ,{t:K,i18nKey:"time-zone.time-zone-tooltip-input",values:{title:Y,alternativeName:X.alternativeName,offset:X.offset}}),allowTimeZoneSwitch:W,useElementQueries:!0,timeZoneScope:Z})}),b[24]=W,b[25]=H,b[26]=K,b[27]=X.alternativeName,b[28]=X.offset,b[29]=Z,b[30]=Y,b[31]=u):u=b[31],b[32]!==S||b[33]!==C.deprecated||b[34]!==C.description||b[35]!==C.title||b[36]!==u||b[37]!==E?(d=(0,_.jsx)(I.Stack,{space:2,children:(0,_.jsx)(HU,{deprecated:C.deprecated,description:C.description,inputId:S,validation:E,title:C.title,suffix:u})}),b[32]=S,b[33]=C.deprecated,b[34]=C.description,b[35]=C.title,b[36]=u,b[37]=E,b[38]=d):d=b[38],b[39]!==N||b[40]!==M||b[41]!==F||b[42]!==S||b[43]!==O||b[44]!==L||b[45]!==ei||b[46]!==d?(p=(0,_.jsx)(I.Box,{flex:1,paddingY:2,children:(0,_.jsx)(HS,{__internal_comments:M,__internal_slot:L,actions:N,fieldFocused:ei,fieldHovered:F,presence:O,inputId:S,content:d})}),b[39]=N,b[40]=M,b[41]=F,b[42]=S,b[43]=O,b[44]=L,b[45]=ei,b[46]=d,b[47]=p):p=b[47],b[48]===Symbol.for("react.memo_cache_sentinel")?(f=(0,_.jsx)(H1,{maxAvatars:1,position:"top"}),b[48]=f):f=b[48];let ea=!!P;return b[49]!==en||b[50]!==ee||b[51]!==w||b[52]!==Q||b[53]!==J||b[54]!==et||b[55]!==C.placeholder||b[56]!==U||b[57]!==Z||b[58]!==k?(h=(0,_.jsx)("div",{"data-testid":"change-bar-wrapper",children:(0,_.jsx)("div",{"data-testid":"change-bar__field-wrapper",children:(0,_.jsx)(GE,{...w,calendarLabels:en,deserialize:ee,formatInputValue:Q,onChange:J,parseInputValue:et,placeholder:C.placeholder,serialize:GM,timeStep:U,selectTime:!0,value:k,timeZoneScope:Z})})}),b[49]=en,b[50]=ee,b[51]=w,b[52]=Q,b[53]=J,b[54]=et,b[55]=C.placeholder,b[56]=U,b[57]=Z,b[58]=k,b[59]=h):h=b[59],b[60]!==T||b[61]!==D||b[62]!==ea||b[63]!==h?(m=(0,_.jsx)($j,{hasFocus:ea,isChanged:T,path:D,children:h}),b[60]=T,b[61]=D,b[62]=ea,b[63]=h,b[64]=m):m=b[64],b[65]!==p||b[66]!==m?(g=(0,_.jsxs)(I.Flex,{direction:"column",children:[p,f,m]}),b[65]=p,b[66]=m,b[67]=g):g=b[67],b[68]!==R||b[69]!==B||b[70]!==er||b[71]!==g?(y=(0,_.jsx)(GP,{onMouseEnter:R,onMouseLeave:B,"data-testid":er,radius:2,children:g}),b[68]=R,b[69]=B,b[70]=er,b[71]=g,b[72]=y):y=b[72],y},date:function(e){var t;let n,r,i,a,o,l,s=(0,j.c)(20),{readOnly:c,onChange:u,schemaType:d,elementProps:p,value:f,id:h}=e,m=(null==(t=d.options)?void 0:t.dateFormat)||tm.DEFAULT_DATE_FORMAT,{t:g}=IO();s[0]!==h?(n={type:"input",id:h},s[0]=h,s[1]=n):n=s[1];let y=n;s[2]!==u?(r=e=>{u(null===e?LN():LB(e))},s[2]=u,s[3]=r):r=s[3];let v=r;s[4]!==m?(i=e=>(0,tm.format)(e,m),s[4]=m,s[5]=i):i=s[5];let b=i;s[6]!==m?(a=e=>(0,tm.parse)(e,m),s[6]=m,s[7]=a):a=s[7];let x=a;s[8]!==g?(o=GT(g),s[8]=g,s[9]=o):o=s[9];let C=o;return s[10]!==C||s[11]!==p||s[12]!==b||s[13]!==v||s[14]!==x||s[15]!==c||s[16]!==d.placeholder||s[17]!==y||s[18]!==f?(l=(0,_.jsx)(GE,{...p,deserialize:GD,formatInputValue:b,onChange:v,parseInputValue:x,placeholder:d.placeholder,calendarLabels:C,readOnly:c,selectTime:!1,serialize:GI,value:f,timeZoneScope:y}),s[10]=C,s[11]=p,s[12]=b,s[13]=v,s[14]=x,s[15]=c,s[16]=d.placeholder,s[17]=y,s[18]=f,s[19]=l):l=s[19],l},url:function(e){var t,n,r;let i,a=(0,j.c)(4),{schemaType:o,validationError:l,elementProps:s}=e,c=(null==(r=GF(o,"uri"))||null==(n=r.constraint)||null==(t=n.options)?void 0:t.allowRelative)?"text":"url";return a[0]!==s||a[1]!==c||a[2]!==l?(i=(0,_.jsx)(I.TextInput,{type:c,inputMode:"url",customValidity:l,...s}),a[0]=s,a[1]=c,a[2]=l,a[3]=i):i=a[3],i},image:function(e){var t;let n,r,i,a=(0,j.c)(12),o=null==(t=e.schemaType.options)?void 0:t.sources,{image:l}=Lw().__internal,s=Fu(),c=eTt(AE),u=l.directUploads,d=o||l.assetSources;a[0]!==c?(n=(0,ty.default)(c),a[0]=c,a[1]=n):n=a[1];let p=n;a[2]!==s?(r=e=>U1(s,e),a[2]=s,a[3]=r):r=a[3];let f=r,{t:h}=IO();return a[4]!==d||a[5]!==p||a[6]!==c||a[7]!==f||a[8]!==e||a[9]!==u||a[10]!==h?(i=(0,_.jsx)(etv,{...e,t:h,client:c,assetSources:d,directUploads:u,imageUrlBuilder:p,observeAsset:f,resolveUploader:Hr}),a[4]=d,a[5]=p,a[6]=c,a[7]=f,a[8]=e,a[9]=u,a[10]=h,a[11]=i):i=a[11],i},file:function(e){var t;let n,r,i,a=(0,j.c)(11),o=null==(t=e.schemaType.options)?void 0:t.sources,l=Fu(),{file:s}=Lw().__internal,c=eTt(AE);a[0]!==s.directUploads?(n=(e,t)=>s.directUploads?Hr(e,t):null,a[0]=s.directUploads,a[1]=n):n=a[1];let u=n,d=o||s.assetSources;a[2]!==l?(r=e=>U1(l,e),a[2]=l,a[3]=r):r=a[3];let p=r;return a[4]!==d||a[5]!==c||a[6]!==s.directUploads||a[7]!==p||a[8]!==e||a[9]!==u?(i=(0,_.jsx)(eeh,{...e,client:c,assetSources:d,directUploads:s.directUploads,observeAsset:p,resolveUploader:u}),a[4]=d,a[5]=c,a[6]=s.directUploads,a[7]=p,a[8]=e,a[9]=u,a[10]=i):i=a[10],i},string:X0,slug:function(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(41),g=U_(),{path:y,value:v,schemaType:b,validation:x,onChange:C,readOnly:k,elementProps:w,focused:T,focusPath:D}=e,A=null==(t=b.options)?void 0:t.source;m[0]!==x?(n=x.filter(G2),m[0]=x,m[1]=n):n=m[1];let O=n,P=(0,E.useRef)(null),M=function(){let e,t=(0,j.c)(6),{getClient:n}=eii(),r=el3(),i=A6(),a=erh(),o=erf();return t[0]!==i||t[1]!==o||t[2]!==n||t[3]!==a||t[4]!==r?(e={projectId:a,dataset:o,getClient:n,schema:r,currentUser:i},t[0]=i,t[1]=o,t[2]=n,t[3]=a,t[4]=r,t[5]=e):e=t[5],e}(),{t:F}=IO();m[2]!==C||m[3]!==b.name?(r=e=>{if(!e)return void C(zU.from(LN([])));C(zU.from([LF({_type:b.name}),LB(e,["current"])]))},m[2]=C,m[3]=b.name,m[4]=r):r=m[4];let R=r;m[5]!==g||m[6]!==y||m[7]!==b||m[8]!==M||m[9]!==A||m[10]!==F||m[11]!==R?(i=()=>{if(!A)return Promise.reject(Error(F("inputs.slug.error.missing-source",{schemaType:b.name})));let e=g([])||{_type:b.name},t=function(e,t,n){let r=e.slice(0,-1),i=S.get(t,r);return{parentPath:r,parent:i,...n}}(y,e,M);return G1(A,e,t).then(e=>GQ(e||"",b,t)).then(e=>R(e))},m[5]=g,m[6]=y,m[7]=b,m[8]=M,m[9]=A,m[10]=F,m[11]=R,m[12]=i):i=m[12];let[N,L]=function(e){let t,n,r=(0,j.c)(5),[i,a]=(0,E.useState)(null),o=(0,E.useRef)(0);r[0]!==e?(t=t=>{let n=o.current=o.current+1;a({status:"pending"}),Promise.resolve().then(()=>e(t)).then(e=>{n===o.current&&a({status:"complete",result:e})},e=>{n===o.current&&a({status:"error",error:e})})},r[0]=e,r[1]=t):t=r[1];let l=t;return r[2]!==i||r[3]!==l?(n=[i,l],r[2]=i,r[3]=l,r[4]=n):n=r[4],n}(i),z=(null==N?void 0:N.status)==="pending";m[13]!==R?(a=e=>R(e.currentTarget.value),m[13]=R,m[14]=a):a=m[14];let V=a;m[15]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{requestAnimationFrame(()=>{var e;null==(e=P.current)||e.focus()})},m[15]=o):o=m[15];let U=o;m[16]===Symbol.for("react.memo_cache_sentinel")?(l=(e,t)=>{!e&&t&&U()},m[16]=l):l=m[16],zm(T,l),m[17]===Symbol.for("react.memo_cache_sentinel")?(s=(e,t)=>{let n=void 0===e?[]:e;n!==t&&Array.isArray(n)&&Array.isArray(t)&&0===n.length&&1===t.length&&"current"===t[0]&&U()},m[17]=s):s=m[17],zm(D,s),m[18]===Symbol.for("react.memo_cache_sentinel")?(c=()=>P.current,m[18]=c):c=m[18],(0,E.useImperativeHandle)(w.ref,c);let H=O.length>0?O[0].message:"",q=(null==v?void 0:v.current)||"";return m[19]!==w||m[20]!==V||m[21]!==z||m[22]!==k||m[23]!==H||m[24]!==q?(u=(0,_.jsx)(I.TextInput,{customValidity:H,disabled:z,onChange:V,value:q,readOnly:k,...w,ref:P}),m[19]=w,m[20]=V,m[21]=z,m[22]=k,m[23]=H,m[24]=q,m[25]=u):u=m[25],m[26]!==N?(d=(null==N?void 0:N.status)==="error"&&(0,_.jsx)(I.Card,{padding:2,tone:"critical",children:N.error.message}),m[26]=N,m[27]=d):d=m[27],m[28]!==u||m[29]!==d?(p=(0,_.jsxs)(I.Box,{flex:1,children:[u,d]}),m[28]=u,m[29]=d,m[30]=p):p=m[30],m[31]!==(null==N?void 0:N.status)||m[32]!==L||m[33]!==z||m[34]!==k||m[35]!==A||m[36]!==F?(f=A&&(0,_.jsx)(B.Button,{mode:"ghost",type:"button",disabled:k||z,onClick:L,size:"large",text:(null==N?void 0:N.status)==="pending"?F("inputs.slug.action.generating"):F("inputs.slug.action.generate")}),m[31]=null==N?void 0:N.status,m[32]=L,m[33]=z,m[34]=k,m[35]=A,m[36]=F,m[37]=f):f=m[37],m[38]!==p||m[39]!==f?(h=(0,_.jsx)(I.Stack,{space:3,children:(0,_.jsxs)(I.Flex,{gap:1,children:[p,f]})}),m[38]=p,m[39]=f,m[40]=h):h=m[40],h},crossDatasetReference:function(e){let{path:t,schemaType:n}=e,r=eii(),i=r.getClient(AE),a=Fu(),o=r.getClient,{strategy:l}=r.search,s=(0,E.useMemo)(()=>i.withConfig({dataset:n.dataset,apiVersion:"2023-11-13",ignoreBrowserTokenWarning:!0}).clone(),[i,n.dataset]),c=zF(s),u=function(e){let t,n,r=(0,j.c)(3),i=(0,E.useRef)(e);return r[0]!==e?(t=()=>{i.current=e},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,E.useEffect)(t,n),i}(zB([])),d=(0,E.useCallback)(e=>(0,en.from)(Jg(n.options,u.current,t,o)).pipe((0,eC.mergeMap)(t=>{var r;let{filter:i,params:a}=t;return r={...n.options,filter:i,params:a,tag:"search.cross-dataset-reference",maxFieldDepth:c,strategy:l},Ul(n.to,s,{...r,maxDepth:r.maxFieldDepth})(e,{includeDrafts:!1,isCrossDataset:!0}).pipe((0,Z.map)(e=>{let{hits:t}=e;return t.map(e=>{let{hit:t}=e;return t})}),(0,Z.map)(e=>D4(e)),(0,Z.map)(e=>e.map(e=>({id:e.id,type:e.type,published:e.published}))))}),(0,J.catchError)(e=>{var t;let r=e.details&&"queryParseError"===e.details.type;return(null==(t=n.options)?void 0:t.filter)&&r&&(e.message='Invalid reference filter, please check the custom "filter" option'),(0,el.throwError)(e)})),[n,u,t,o,s,c,l]),p=(0,E.useMemo)(()=>(function(e){let{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:i}=t.config(),a=r&&i?{dataset:r,projectId:i}:void 0;return function(e,r){return(e._type?(0,Y.of)(e):n.observeDocumentTypeFromId(e._id,a).pipe((0,Z.map)(t=>({_id:e._id,_type:t})))).pipe((0,Q.switchMap)(i=>{if(!i._type)return(function(e,t){let n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat("cross-dataset-refs",".availability")};return e.observable.request(n).pipe((0,Z.map)(e=>{let n=(0,h5.default)(e.omitted||[],e=>e.id)[t];return n?"existence"===n.reason?Jm:"permission"===n.reason?Jh:null:Jf}))})(t,e._id).pipe((0,Z.map)(t=>({id:e._id,type:void 0,availability:t,preview:{published:void 0}})));let o=r.to.find(e=>e.type===i._type),l=en7(null==o?void 0:o.preview)||[],s=n.observePaths(e,l,a).pipe((0,Z.map)(e=>e&&era(e,o)));return(0,ev.combineLatest)([s]).pipe((0,Z.map)(t=>{let[n]=t;return{type:i._type,id:e._id,availability:Jf,preview:{published:Io(n)?n:void 0}}}))}))}})({client:s,documentPreviewStore:a}),[s,a]);return(0,_.jsx)(Jp,{...e,getReferenceInfo:p,onSearch:d})},globalDocumentReference:function(e){let{path:t,schemaType:n}=e,r=eii(),i=r.getClient({apiVersion:"2025-02-19"}),a=r.getClient,{strategy:o}=r.search,l=(0,E.useMemo)(()=>(function(e,t){if("dataset"===t.resourceType){let[n,r]=t.resourceId.split(".",2);return e.withConfig({apiVersion:"X","~experimental_resource":{type:"dataset",id:"".concat(n,".").concat(r)}})}if("media-library"===t.resourceType||"canvas"===t.resourceType)return e.withConfig({apiVersion:"2025-02-19","~experimental_resource":{type:t.resourceType,id:t.resourceId}});throw Error('Invalid resource type "'.concat(t.resourceType,'"'))})(i,n),[i,n]),s=function(e){let t,n,r=(0,j.c)(3),i=(0,E.useRef)(e);return r[0]!==e?(t=()=>{i.current=e},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,E.useEffect)(t,n),i}(zB([])),c=(0,E.useCallback)(e=>(0,en.from)(JL(n.options,s.current,t,a)).pipe((0,eC.mergeMap)(t=>{var r;let{filter:i,params:a}=t;return r={...n.options,filter:i,params:a,tag:"search.global-document-reference",strategy:o},(function(e,t,n,r){let{query:i,params:a,sortOrder:o}=V4({types:n},t,r);return e.observable.fetch(i,a).pipe((0,Z.map)(e=>{let t=e.length>10,n=t?e.at(-2):e.at(-1);return{type:"groq2024",hits:e.map(e=>({hit:e})).slice(0,10),nextCursor:t?V6({lastResult:n,sortOrder:o}):void 0}}))})(l,e,n.to,r).pipe((0,Z.map)(e=>{let{hits:t}=e;return t.map(e=>{let{hit:t}=e;return t})}),(0,Z.map)(e=>D4(e)),(0,Z.map)(e=>e.map(e=>({id:e.id,type:e.type,published:e.published}))))}),(0,J.catchError)(e=>{var t;let r=e.details&&"queryParseError"===e.details.type;return(null==(t=n.options)?void 0:t.filter)&&r&&(e.message='Invalid reference filter, please check the custom "filter" option'),(0,el.throwError)(e)})),[n,s,t,a,l,o]),u=(0,E.useMemo)(()=>(function(e){let{client:t}=e;return function(e,n){return(e._type?(0,Y.of)(e):t.observable.getDocument(e._id).pipe((0,Z.map)(t=>({_id:e._id,_type:null==t?void 0:t._type})))).pipe((0,Q.switchMap)(r=>{if(!r._type)return(function(e,t){let n={uri:e.getDataUrl("doc",t),json:!0,excludeContent:"true",tag:"".concat("gdr",".availability")};return e.observable.request(n).pipe((0,Z.map)(e=>{let n=(0,h5.default)(e.omitted||[],e=>e.id)[t];return n?"existence"===n.reason?JN:"permission"===n.reason?JB:null:JR}))})(t,e._id).pipe((0,Z.map)(t=>({id:e._id,type:void 0,availability:t,preview:{published:void 0}})));let i=n.to.find(e=>e.type===r._type);if(!i)return(0,Y.of)({id:e._id,type:r._type,availability:JR,preview:{published:void 0}});let a=en7(null==i?void 0:i.preview)||[],o=t.observable.listen("*",{},{includeResult:!0,tag:"".concat("gdr",".preview"),events:["mutation","welcome"]}),l=JF({observeFields:function(e){let{client:t,listener:n}=e;return function(e,r){return n.pipe((0,Q.switchMap)(n=>{if("welcome"===n.type)return t.observable.getDocument(e,{tag:"".concat("gdr",".get-document")}).pipe((0,Z.map)(e=>e||null));if("mutation"!==n.type)return $.EMPTY;let r=n.result;return r?r.documentId!==e?$.EMPTY:"disappear"===r.transition?(0,Y.of)(null):(0,Y.of)(r):$.EMPTY}))}}({client:t,listener:o})})(e,a).pipe((0,Z.map)(e=>e?era(e,i):null));return(0,ev.combineLatest)([l]).pipe((0,Z.map)(t=>{let[n]=t;return{type:r._type,id:e._id,availability:JR,preview:{published:Io(n)?n:void 0}}}))}))}})({client:l}),[l]);return(0,_.jsx)(JP,{...e,getReferenceInfo:u,onSearch:c})}};function etC(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}let etk=(0,F.styled)(I.Card)(e=>{let{theme:t}=e,{focusRing:n,input:r,radius:i}=t.sanity,a=t.sanity.color.input,o=(0,I.rem)(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(i[1],"px"),color:a.default.enabled.fg,boxShadow:etC({color:a.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:"0",margin:"-".concat(o," 0 0 -").concat(o)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(o," 0 0 ").concat(o)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:a.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:function(e){let{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&"inset 0 0 0 ".concat(a,"px var(--card-focus-ring-color)"),n&&etC(n),a<0&&"0 0 0 ".concat(0-a,"px ").concat(o),i>0&&"0 0 0 ".concat(i,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}({border:{color:a.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:a.default.disabled.fg,backgroundColor:a.default.disabled.bg,boxShadow:etC({color:a.default.disabled.border,width:r.border.width})}}}),etw=F.styled.input(e=>{let{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,i=t.sanity.space[2],a=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:(0,I.rem)(a.fontSize),lineHeight:"".concat(a.lineHeight/a.fontSize),fontFamily:n.family,fontWeight:"".concat(n.weights.regular),margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:(0,I.rem)(i-a.ascenderHeight),paddingRight:(0,I.rem)(i),paddingBottom:(0,I.rem)(i-a.descenderHeight),paddingLeft:(0,I.rem)(i),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),et_=(0,F.styled)(I.Box)(e=>{let{theme:t}=e,n=t.sanity.color.input;return(0,F.css)(ja(),n.default.enabled.placeholder)}),etj=(0,F.styled)(I.Box)(jo()),etS=(0,E.forwardRef)((e,t)=>{let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S=(0,j.c)(54);S[0]!==e?({disabled:n,onChange:r,onFocus:i,placeholder:a,readOnly:o,value:s,...l}=e,S[0]=e,S[1]=n,S[2]=r,S[3]=i,S[4]=a,S[5]=o,S[6]=l,S[7]=s):(n=S[1],r=S[2],i=S[3],a=S[4],o=S[5],l=S[6],s=S[7]),S[8]!==s?(c=void 0===s?[]:s,S[8]=s,S[9]=c):c=S[9];let T=c,{t:D}=IO(DK),[A,O]=(0,E.useState)(""),P=!n&&!o,[M,F]=(0,E.useState)(!1),R=(0,E.useRef)(null),B=(0,E.useRef)(null);S[10]===Symbol.for("react.memo_cache_sentinel")?(u=()=>R.current,S[10]=u):u=S[10],(0,E.useImperativeHandle)(t,u),S[11]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{if((0,I.isHTMLElement)(e.target)&&e.target.closest('[data-ui="Tag"]'))return;let t=R.current;t&&setTimeout(()=>t.focus(),0)},S[11]=d):d=S[11];let N=d;S[12]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{F(!1)},S[12]=p):p=S[12];let L=p;S[13]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{O(e.currentTarget.value)},S[13]=f):f=S[13];let z=f;S[14]!==i?(h=e=>{F(!0),i&&i(e)},S[14]=i,S[15]=h):h=S[15];let V=h;S[16]!==A||S[17]!==r||S[18]!==T?(m=e=>{if("Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),r&&A)){let e=T.concat([{value:A}]);O(""),r&&r(e)}},S[16]=A,S[17]=r,S[18]=T,S[19]=m):m=S[19];let U=m;S[20]!==r||S[21]!==T?(g=e=>{if(!r)return;let t=T.slice(0);t.splice(e,1),r(t)},S[20]=r,S[21]=T,S[22]=g):g=S[22];let H=g;S[23]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{let e=R.current;e&&(e.style.width="0",e.style.width="".concat(e.scrollWidth,"px"))},S[23]=y):y=S[23],S[24]!==A?(v=[A],S[24]=A,S[25]=v):v=S[25],(0,E.useEffect)(y,v);let q=n?"":void 0,W=M?"":void 0,Y=o?"":void 0;if(S[26]!==P||S[27]!==A||S[28]!==a||S[29]!==D||S[30]!==T.length?(b=P&&(0,_.jsx)(et_,{hidden:!!(A||T.length),padding:3,children:(0,_.jsx)(I.Text,{textOverflow:"ellipsis",children:a||D("inputs.tags.placeholder",{context:"u">typeof window&&"ontouchstart"in window?"touch":void 0})})}),S[26]=P,S[27]=A,S[28]=a,S[29]=D,S[30]=T.length,S[31]=b):b=S[31],S[32]!==P||S[33]!==H||S[34]!==T){let e;S[36]!==P||S[37]!==H?(e=(e,t)=>(0,_.jsx)(etj,{children:(0,_.jsx)(etE,{enabled:P,index:t,muted:!P,onRemove:H,tag:e})},"tag-".concat(t)),S[36]=P,S[37]=H,S[38]=e):e=S[38],x=T.map(e),S[32]=P,S[33]=H,S[34]=T,S[35]=x}else x=S[35];let K=!P;return S[39]!==V||S[40]!==U||S[41]!==A||S[42]!==l||S[43]!==K?(C=(0,_.jsx)("div",{children:(0,_.jsx)(etw,{...l,disabled:K,onBlur:L,onChange:z,onFocus:V,onKeyDown:U,ref:R,type:"text",value:A})},"tag-input"),S[39]=V,S[40]=U,S[41]=A,S[42]=l,S[43]=K,S[44]=C):C=S[44],S[45]!==x||S[46]!==C?(k=(0,_.jsxs)("div",{className:"content",children:[x,C]}),S[45]=x,S[46]=C,S[47]=k):k=S[47],S[48]!==q||S[49]!==W||S[50]!==Y||S[51]!==b||S[52]!==k?(w=(0,_.jsxs)(etk,{"data-disabled":q,"data-focused":W,"data-read-only":Y,"data-ui":"TagInput",onPointerDown:N,overflow:"auto",padding:1,ref:B,children:[b,k]}),S[48]=q,S[49]=W,S[50]=Y,S[51]=b,S[52]=k,S[53]=w):w=S[53],w});function etE(e){let t,n,r,i,a=(0,j.c)(12),{enabled:o,index:l,muted:s,onRemove:c,tag:u}=e;a[0]!==l||a[1]!==c?(t=()=>{c(l)},a[0]=l,a[1]=c,a[2]=t):t=a[2];let d=t;return a[3]!==s||a[4]!==u.value?(n=(0,_.jsx)(I.Box,{flex:1,paddingY:2,paddingLeft:2,children:(0,_.jsx)(I.Text,{muted:s,textOverflow:"ellipsis",children:u.value})}),a[3]=s,a[4]=u.value,a[5]=n):n=a[5],a[6]!==o||a[7]!==d?(r=o&&(0,_.jsx)(B.Button,{icon:R.CloseIcon,mode:"bleed",onClick:d,tooltipProps:{content:"Remove"}}),a[6]=o,a[7]=d,a[8]=r):r=a[8],a[9]!==n||a[10]!==r?(i=(0,_.jsx)(I.Card,{"data-ui":"Tag",radius:2,tone:"transparent",children:(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[n,r]})}),a[9]=n,a[10]=r,a[11]=i):i=a[11],i}function etT(e){let t,n,r,i,a,o=(0,j.c)(15),{onChange:l,readOnly:s,value:c,elementProps:u,path:d,changed:p}=e;o[0]!==c?(t=void 0===c?[]:c,o[0]=c,o[1]=t):t=o[1];let f=t;o[2]!==f?(n=null==f?void 0:f.map(etI),o[2]=f,o[3]=n):n=o[3];let h=n;o[4]!==l?(r=e=>{l(0===e.length?LN():LB(e.map(etD)))},o[4]=l,o[5]=r):r=o[5];let m=r;return o[6]!==u||o[7]!==m||o[8]!==s||o[9]!==h?(i=(0,_.jsx)(etS,{onChange:m,readOnly:s,value:h,...u}),o[6]=u,o[7]=m,o[8]=s,o[9]=h,o[10]=i):i=o[10],o[11]!==p||o[12]!==d||o[13]!==i?(a=(0,_.jsx)($j,{path:d,isChanged:p,hasFocus:!1,children:i}),o[11]=p,o[12]=d,o[13]=i,o[14]=a):a=o[14],a}function etD(e){return e.value}function etI(e){return{value:e}}etS.displayName="ForwardRef(TagInput)";let etA=["string","number","boolean"];function etO(e){return(0,W.isTitledListValue)(e)?e:{title:(0,nT.default)("".concat(e)),value:e}}let etP={title:"",value:void 0};function etM(e){var t,n;let{value:r,readOnly:i,validationError:a,schemaType:o,onChange:l,path:s,changed:c,focused:u,elementProps:d}=e,p=(0,E.useMemo)(()=>{var e;return((null==(e=o.options)?void 0:e.list)||[]).map(etO)},[null==(t=o.options)?void 0:t.list]),f=p.find(e=>e.value===r),h=o.options&&"radio"===o.options.layout,m=(0,E.useCallback)(e=>p[Number(e)],[p]),g=(0,E.useCallback)(e=>String(p.indexOf(e)),[p]),y=(0,E.useId)(),v=(0,E.useCallback)(e=>{l(zU.from(typeof(null==e?void 0:e.value)>"u"?LN():LB(e.value)))},[l]),b=(0,E.useCallback)(e=>{let t=m(e.currentTarget.value);if(!t)return void v(etP);v(t)},[v,m]),x=h?(0,_.jsx)(etF,{...d,value:f,inputId:y,items:p,direction:(null==(n=o.options)?void 0:n.direction)||"vertical",customValidity:a,onChange:v,readOnly:i}):(0,_.jsx)(I.Select,{...d,customValidity:a,value:g(f),readOnly:i,onChange:b,children:[etP,...p].map((e,t)=>(0,_.jsx)("option",{value:t-1,children:e.title},"".concat(t-1)))});return(0,_.jsx)($j,{path:s,isChanged:c,hasFocus:!!u,children:x})}let etF=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(12),{items:a,value:o,onChange:l,onFocus:s,readOnly:c,customValidity:u,direction:d,inputId:p}=e,f="horizontal"===d?I.Inline:I.Stack;return i[0]!==u||i[1]!==p||i[2]!==a||i[3]!==l||i[4]!==s||i[5]!==c||i[6]!==t||i[7]!==o?(n=a.map((e,n)=>(0,_.jsx)(etR,{customValidity:u,inputId:p,item:e,onChange:l,onFocus:s,readOnly:c,ref:0===n?t:null,value:o},n)),i[0]=u,i[1]=p,i[2]=a,i[3]=l,i[4]=s,i[5]=c,i[6]=t,i[7]=o,i[8]=n):n=i[8],i[9]!==f||i[10]!==n?(r=(0,_.jsx)(I.Card,{border:!0,padding:3,radius:2,children:(0,_.jsx)(f,{space:3,role:"group",children:n})}),i[9]=f,i[10]=n,i[11]=r):r=i[11],r}),etR=(0,E.forwardRef)(function(e,t){let n,r,i,a,o=(0,j.c)(16),{customValidity:l,inputId:s,item:c,onChange:u,onFocus:d,readOnly:p,value:f}=e;o[0]!==c||o[1]!==u?(n=()=>{u(c)},o[0]=c,o[1]=u,o[2]=n):n=o[2];let h=n,m=f===c;return o[3]!==l||o[4]!==h||o[5]!==s||o[6]!==d||o[7]!==p||o[8]!==t||o[9]!==m?(r=(0,_.jsx)(I.Radio,{ref:t,checked:m,onChange:h,onFocus:d,readOnly:p,customValidity:l,name:s}),o[3]=l,o[4]=h,o[5]=s,o[6]=d,o[7]=p,o[8]=t,o[9]=m,o[10]=r):r=o[10],o[11]!==c.title?(i=(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:c.title})}),o[11]=c.title,o[12]=i):i=o[12],o[13]!==r||o[14]!==i?(a=(0,_.jsxs)(I.Flex,{as:"label",align:"center",children:[r,i]}),o[13]=r,o[14]=i,o[15]=a):a=o[15],a});function etB(e){var t;if(null==(t=e.components)?void 0:t.input)return e.components.input;let n=function(e){if(zO("array",e)){var t,n;return 1===e.of.length&&zO("string",e.of[0])&&(null==(t=e.options)?void 0:t.layout)==="tags"?etT:(null==(n=e.options)?void 0:n.list)?Ks:e.of.every(e=>etA.includes(e.jsonType))?Kv:e.of.some(e=>zO("block",e))?XR:Kn}return zO("reference",e)?Uk:zO("string",e)?zv(e,"list")?etM:X0:zO("number",e)?zv(e,"list")?etM:GB:void 0}(e);if(n)return n;let r=Object.values(zw(e,new Set).reduce((e,t)=>(e[t.name]=t,e),{})).find(e=>etx[e.name]);if(r)return etx[r.name];throw Error("Could not find input component for schema type `".concat(e.name,"`"))}function etN(e){var t;return(null==(t=e.components)?void 0:t.preview)?e.components.preview:q8}let etL={portal:!0,tone:"default"},etz={position:"relative"},etV=[];function etU(e){var t,n,r,i,a,o,l,s,c;let{schemaType:u,parentSchemaType:d,path:p,readOnly:f,onRemove:h,value:m,open:g,onInsert:y,onCopy:v,onFocus:b,onOpen:x,onClose:C,changed:k,focused:w,children:j,inputProps:{renderPreview:S}}=e,{t:T}=IO(),D=YY(),A=(null==d||null==(t=d.options)?void 0:t.treeEditing)===!1,O=A||D.legacyEditing,P=g&&(!D.enabled||O),M=(null==(n=d.options)?void 0:n.sortable)!==!1,F=d.of,[N,L]=(0,E.useState)(null),z=(0,E.useRef)(null);(0,E.useImperativeHandle)(z,()=>N,[N]),zg(z,g&&null!==N),zm(w,(e,t)=>{var n;!e&&t&&z.current&&(null==(n=z.current)||n.focus())});let V=m._resolvingInitialValue,U=(0,E.useCallback)(()=>{y({items:[{...m,_key:UE()}],position:"after"})},[y,m]),H=(0,E.useCallback)(()=>{v({items:[{...m,_key:UE()}]})},[v,m]),q=(0,E.useCallback)((e,t)=>{y({items:[UL(t)],position:e})},[y]),W=Lk(p,!0),Y=(0,E.useMemo)(()=>0===W.length?null:(0,_.jsx)(W_,{presence:W,maxAvatars:1}),[W]),K=LE(p,!0),G=(0,E.useMemo)(()=>0===K.length?null:(0,_.jsx)(I.Box,{paddingX:1,paddingY:3,children:(0,_.jsx)(HO,{validation:K,__unstable_showSummary:!0})}),[K]),$=K.some(e=>"error"===e.level),Z=K.some(e=>"warning"===e.level),[X,J]=(0,E.useState)(null),{insertBefore:Q,insertAfter:ee}=YG({schemaTypes:F,insertMenuOptions:null==(r=d.options)?void 0:r.insertMenu,onInsert:q,referenceElement:X}),et=(null==(i=d.options)?void 0:i.disableActions)||etV,en=(0,E.useMemo)(()=>[!et.includes("remove")&&(0,_.jsx)(B.MenuItem,{text:T("inputs.array.action.remove"),tone:"critical",icon:R.TrashIcon,onClick:h},"remove"),!et.includes("copy")&&(0,_.jsx)(B.MenuItem,{text:T("inputs.array.action.copy"),icon:R.CopyIcon,onClick:H},"copy"),!et.includes("duplicate")&&(0,_.jsx)(B.MenuItem,{text:T("inputs.array.action.duplicate"),icon:R.AddDocumentIcon,onClick:U},"duplicate"),!et.includes("add")&&!et.includes("addBefore")&&Q.menuItem,!et.includes("add")&&!et.includes("addAfter")&&ee.menuItem].filter(Boolean),[et,H,U,ee.menuItem,Q.menuItem,h,T]),er=(0,E.useMemo)(()=>f||0===en.length?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuButton,{ref:J,onOpen:()=>{Q.send({type:"close"}),ee.send({type:"close"})},button:(0,_.jsx)(DO,{"data-testid":"array-item-menu-button",selected:!!Q.state.open||!!ee.state.open||void 0}),id:"".concat(e.inputId,"-menuButton"),menu:(0,_.jsx)(I.Menu,{children:en}),popover:etL}),Q.popover,ee.popover]}),[en,f,Q,ee,e.inputId]),ei=function(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}({readOnly:f,hasErrors:$,hasWarnings:Z}),ea=(0,_.jsx)(Y7,{menu:er,presence:Y,validation:G,tone:ei,focused:w,dragHandle:M,selected:g,readOnly:!!f,children:(0,_.jsxs)(I.Card,{as:"button",type:"button",tone:"inherit",radius:1,disabled:V,onClick:x,ref:L,onFocus:b,__unstable_focusRing:!0,style:etz,children:[S({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),V&&(0,_.jsx)(DU,{fill:!0})]})}),eo=q5(u);return(0,_.jsxs)(YK,{legacyEditing:A,children:[(0,_.jsx)($j,{path:p,isChanged:k,hasFocus:!!w,children:(0,_.jsx)(I.Box,{paddingX:1,children:ea})}),P&&(0,_.jsx)(ec5,{header:f?T("inputs.array.action.view",{itemTypeTitle:eo}):T("inputs.array.action.edit",{itemTypeTitle:eo}),type:(null==d||null==(o=d.options)||null==(a=o.modal)?void 0:a.type)||"dialog",width:null!=(c=null==d||null==(s=d.options)||null==(l=s.modal)?void 0:l.width)?c:1,id:m._key,onClose:C,autofocus:w,legacy_referenceElement:N,children:j})]})}function etH(e){let t,n,r=(0,j.c)(7),{menuRef:i,menuButtonRef:a,containerRef:o}=e;r[0]!==o||r[1]!==a||r[2]!==i?(t={menuRef:i,menuButtonRef:a,containerRef:o},r[0]=o,r[1]=a,r[2]=i,r[3]=t):t=r[3];let l=t;return r[4]!==e.children||r[5]!==l?(n=(0,_.jsx)(D.ReferenceItemRefContext.Provider,{value:l,children:e.children}),r[4]=e.children,r[5]=l,r[6]=n):n=r[6],n}let etq={portal:!0,tone:"default"};function etW(e){var t,n,r,i,a,o,l;let{schemaType:s,parentSchemaType:c,path:u,readOnly:d,onRemove:p,value:f,open:h,onInsert:m,onCopy:g,presence:y,validation:v,inputId:b,changed:x,focused:C,children:k,inputProps:{onChange:w,focusPath:j,onPathFocus:S,renderPreview:T,elementProps:D}}=e,A=(null==(t=c.options)?void 0:t.sortable)!==!1,O=c.of,P=(0,E.useRef)(null),M=(0,E.useRef)(null),F=(0,E.useRef)(null),N=(0,E.useRef)(null),{EditReferenceLink:L,getReferenceInfo:z,selectedState:V,isCurrentDocumentLiveEdit:U}=Up({path:u,schemaType:s,value:f});zg(P,h),zm(C,(e,t)=>{var n;!e&&t&&P.current&&(null==(n=P.current)||n.focus())});let H=e.validation.some(e=>"error"===e.level),q=e.validation.some(e=>"warning"===e.level),W=f._resolvingInitialValue,Y=(0,E.useCallback)(()=>{m({items:[{...f,_key:UE()}],position:"after"})},[m,f]),K=(0,E.useCallback)(()=>{g({items:[{...f,_key:UE()}]})},[g,f]),G=(0,E.useCallback)((e,t)=>{m({items:[{...UL(t),_key:UE()}],position:e})},[m]),$=Vn(null==f?void 0:f._ref,z),Z=f._ref,X=(null==(n=$.result)?void 0:n.type)||(null==f||null==(r=f._strengthenOnPublish)?void 0:r.type),J=Z&&(null==(i=$.result)?void 0:i.isPublished),Q=(0,E.useCallback)(()=>{w([!0===s.weak?LB(!0,["_weak"]):LN(["_weak"]),LN(["_strengthenOnPublish"])])},[w,s.weak]),ee=X?s.to.find(e=>e.name===X):void 0,et="pressed"===V,en="selected"===V,er=function(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}({readOnly:d,hasErrors:H,hasWarnings:q}),ei=!Z||"_ref"===j[0],{t:ea}=IO(),eo=(0,E.useMemo)(()=>(0,E.forwardRef)(function(e,t){return(0,_.jsx)(nr.IntentLink,{...e,intent:"edit",params:{id:null==f?void 0:f._ref,type:null==ee?void 0:ee.name},target:"_blank",rel:"noopener noreferrer",ref:t})}),[null==ee?void 0:ee.name,null==f?void 0:f._ref]),el=(0,E.useCallback)(()=>{S(Z&&ei?[]:["_ref"])},[Z,ei,S]),[es,ec]=(0,E.useState)(null),eu=(0,E.useCallback)(e=>{ec(e),F.current=e},[]),{insertBefore:ed,insertAfter:ep}=YG({schemaTypes:O,insertMenuOptions:null==(a=c.options)?void 0:a.insertMenu,onInsert:G,referenceElement:es}),ef=(null==(o=c.options)?void 0:o.disableActions)||Ie,eh=(0,E.useMemo)(()=>d?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuButton,{ref:eu,onOpen:()=>{ed.send({type:"close"}),ep.send({type:"close"})},button:(0,_.jsx)(DO,{selected:!!ed.state.open||!!ep.state.open||void 0,tooltipProps:{fallbackPlacements:["top","bottom"],placement:"right"}}),id:"".concat(b,"-menuButton"),menu:(0,_.jsxs)(I.Menu,{ref:M,children:[!d&&(0,_.jsxs)(_.Fragment,{children:[!ef.includes("remove")&&(0,_.jsx)(B.MenuItem,{text:ea("inputs.reference.action.remove"),tone:"critical",icon:R.TrashIcon,onClick:p}),(0,_.jsx)(B.MenuItem,{text:ea(Z&&ei?"inputs.reference.action.replace-cancel":"inputs.reference.action.replace"),icon:Z&&ei?R.CloseIcon:R.SyncIcon,onClick:el}),!ef.includes("copy")&&(0,_.jsx)(B.MenuItem,{text:ea("inputs.reference.action.copy"),icon:R.CopyIcon,onClick:K}),!ef.includes("duplicate")&&(0,_.jsx)(B.MenuItem,{text:ea("inputs.reference.action.duplicate"),icon:R.AddDocumentIcon,onClick:Y}),!(ef.includes("add")||ef.includes("addBefore"))&&ed.menuItem,!ef.includes("add")&&!ef.includes("addAfter")&&ep.menuItem]}),!d&&!ei&&Z&&(0,_.jsx)(I.MenuDivider,{}),!ei&&Z&&(0,_.jsx)(B.MenuItem,{as:eo,"data-as":"a",text:ea("inputs.reference.action.open-in-new-tab"),icon:R.LaunchIcon})]}),popover:etq}),ed.popover,ep.popover]}),[eo,ef,K,Y,el,Z,b,ep,ed,ei,p,d,eu,ea]),em=(0,E.useCallback)(()=>{w(!0===s.weak?LB(!0,["_weak"]):LN(["_weak"]))},[w,s]),eg=(null==f?void 0:f._weak)?"weak":"strong",ey=!0===s.weak?"weak":"strong",ev=Z&&!$.isLoading&&(null==f?void 0:f._strengthenOnPublish),eb=!$.isLoading&&(null==(l=$.result)?void 0:l.availability.available)&&Z&&eg!==ey&&!ev,ex=(0,_.jsxs)(_.Fragment,{children:[U&&J&&f._strengthenOnPublish&&(0,_.jsx)(Vj,{schemaType:s,handleRemoveStrengthenOnPublish:Q}),eb&&(0,_.jsx)(VD,{actualStrength:eg,handleFixStrengthMismatch:em}),$.error&&(0,_.jsx)(VT,{errorMessage:$.error.message,onHandleRetry:$.retry})]}),eC=(0,_.jsx)(etH,{menuRef:M,menuButtonRef:F,containerRef:N,children:(0,_.jsx)(Y7,{dragHandle:A,readOnly:!!d,presence:!ei&&y.length>0&&(0,_.jsx)(W_,{presence:y,maxAvatars:1}),validation:!ei&&v.length>0&&(0,_.jsx)(HO,{validation:v}),menu:eh,footer:ei?void 0:ex,tone:ei?void 0:er,focused:C,children:ei?(0,_.jsx)(I.Box,{padding:1,ref:N,children:(0,_.jsx)(HJ,{title:s.title,description:s.description,__unstable_presence:y,validation:v,inputId:b,deprecated:s.deprecated,children:k})}):(0,_.jsxs)(VE,{as:L,tone:"inherit",radius:2,documentId:null==f?void 0:f._ref,documentType:null==ee?void 0:ee.name,disabled:W,__unstable_focusRing:!0,selected:en,pressed:et,"data-selected":!!en||void 0,"data-pressed":!!et||void 0,...D,children:[(0,_.jsx)(Vc,{value:f,referenceInfo:$,renderPreview:T,type:s}),W&&(0,_.jsx)(DU,{fill:!0})]})})});return(0,_.jsx)($j,{path:u,isChanged:x,hasFocus:!!C,children:(0,_.jsx)(I.Box,{paddingX:1,children:eC})})}function etY(e){var t;return(null==(t=e.components)?void 0:t.item)?e.components.item:(0,W.isReferenceSchemaType)(e)?etW:etU}let etK={name:nh.ALL_FIELDS_GROUP_NAME,title:"All fields",hidden:!1,i18n:{title:{key:"inputs.object.field-group-tabs.all-fields-title",ns:DK}}};function etG(e){return e}function et$(e){let{getPath:t,hashInput:n,decorator:r=etG}=e,i=new Map;return function(e){return r(function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];let l=(0,S.toString)(t(...a)),s=JSON.stringify(n(...a)),c=i.get(l);if(s===(null==c?void 0:c.serializedHash))return c.result;let u=e(...a);return i.set(l,{serializedHash:s,result:u}),u})}}function etZ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((null==e?void 0:e.collapsible)===!1||(null==e?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};let n="boolean"==typeof(null==e?void 0:e.collapsed)?e.collapsed:t>=3||void 0;return{collapsible:(null==e?void 0:e.collapsible)===!0||(null==e?void 0:e.collapsable)===!0||!0===n||void 0,collapsed:n}}let etX=new WeakMap,etJ={key:"GetIdUndefined"},etQ={key:"GetIdNull"};function et1(e){switch(typeof e){case"undefined":return et1(etJ);case"function":case"object":case"symbol":{if(null===e)return et1(etQ);let t=etX.get(e);if(t)return t;let n=(0,tv.nanoid)();return etX.set(e,n),n}default:return"".concat(e)}}function et2(e,t,n){return!!n&&(n.name===etK.name||void 0!==t&&(0===e.length&&n.name===etK.name||(0,ge.default)(t).includes(n.name)))}function et0(e){return typeof e>"u"||Io(e)}function et5(e,t){return!(Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u")&&(!!e&&!t||!(0,e4.default)(e,t))}let et7={string:"",number:0,boolean:!1,array:[],object:{}};function et3(e){let{comparisonValue:t,value:n,schemaType:r,perspective:i}=e,a="object"==typeof r&&null!==r&&"jsonType"in r&&"string"==typeof r.jsonType&&r.jsonType in et7?r.jsonType:void 0;if(typeof a>"u")throw Error("Expected `jsonType`");let o=et7[a],l={provenance:{bundle:i}};return{__unstable_computeDiff:e=>m0(m9(null!=t?t:o,l),m9(null!=e?e:o,l),{}),compareValue:t}}function et8(e){let t,n,r,i=(0,j.c)(7),{children:a}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t={error:null,info:{}},i[0]=t):t=i[0];let[o,l]=(0,E.useState)(t),{error:s,info:c}=o;i[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>l({error:null,info:{}}),i[1]=n):n=i[1];let u=n;if(!s){let e;return i[2]!==a?(e=(0,_.jsx)(B.ErrorBoundary,{onCatch:l,children:a}),i[2]=a,i[3]=e):e=i[3],e}return i[4]!==s||i[5]!==c?(r=(0,_.jsx)(et4,{error:s,info:c,onRetry:u}),i[4]=s,i[5]=c,i[6]=r):r=i[6],r}function et4(e){let{error:t,info:n,onRetry:r}=e;if(t instanceof AI||t instanceof ekV)throw t;let{t:i}=IO(),a=(0,E.useMemo)(()=>Io(t)&&"string"==typeof t.message&&t.message,[t]),o=(0,E.useMemo)(()=>Io(t)&&"string"==typeof t.stack&&t.stack,[t]),l=(0,E.useMemo)(()=>"string"==typeof(null==n?void 0:n.componentStack)&&n.componentStack,[null==n?void 0:n.componentStack]);return bw(r),(0,_.jsx)(zz,{status:"error",title:(0,_.jsx)(_.Fragment,{children:i("form.error.unhandled-runtime-error.title")}),children:(0,_.jsxs)(I.Stack,{space:4,children:[(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)(_.Fragment,{children:i("form.error.unhandled-runtime-error.error-message",{message:a})})}),o&&(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(I.Text,{as:"p",size:1,children:(0,_.jsx)(_.Fragment,{children:i("form.error.unhandled-runtime-error.call-stack.title")})}),(0,_.jsx)(I.Card,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:o&&(0,_.jsx)(I.Code,{size:1,style:{maxHeight:"40vh"},children:o})})]})},"call-stack"),IX&&l&&(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(I.Text,{as:"p",size:1,children:(0,_.jsx)(_.Fragment,{children:i("form.error.unhandled-runtime-error.component-stack.title")})}),(0,_.jsx)(I.Card,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l&&(0,_.jsx)(I.Code,{size:1,style:{maxHeight:"40vh"},children:l})})]})},"component-stack")]})})}let et6=typeof window>"u"?$.EMPTY:(0,eo.fromEvent)(window,"orientationchange").pipe((0,ep.shareReplay)(1)),et9=typeof window>"u"?$.EMPTY:(0,eo.fromEvent)(window,"resize").pipe((0,ep.shareReplay)(1)),ene=typeof window>"u"?$.EMPTY:(0,eo.fromEvent)(window,"scroll",{passive:!0,capture:!0}).pipe((0,ep.shareReplay)(1)),ent="u">typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype&&("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),1)?function(){let e=new ea.Subject,t=new IntersectionObserver(t=>{t.forEach(t=>{e.next(t)})},{threshold:0,rootMargin:"".concat(150,"px")});return function(n){return new er.Observable(e=>(t.observe(n),e.next(),()=>t.unobserve(n))).pipe((0,eC.mergeMap)(()=>e.asObservable()),(0,ew.filter)(e=>e.target===n),(0,Z.map)(e=>({isIntersecting:e.isIntersecting})))}}():function(e){let t=()=>{var t,n;return t=e.getBoundingClientRect(),n={left:0,right:window.innerWidth,top:0,bottom:window.innerHeight},t.left<=n.right+150&&t.right>=n.left-150&&t.top<=n.bottom+150&&t.bottom>=n.top-150};return(0,ei.merge)((0,Y.of)(t()),et9,ene,et6).pipe((0,Z.map)(t),(0,Z.map)(e=>({isIntersecting:e})))},enn=typeof window>"u"?$.EMPTY:(0,eo.fromEvent)(document,"visibilitychange").pipe((0,ep.shareReplay)(1));function enr(e){return e.isIntersecting}function eni(e){var t;return e.target instanceof Document&&!(null==e||null==(t=e.target)?void 0:t.hidden)}function ena(e){return Il(e)?e:void 0}function eno(e){var t,n,r;let i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(39);b[0]!==e?({layout:a,value:d,component:i,style:u,schemaType:s,skipVisibilityCheck:c,perspectiveStack:o,...l}=e,b[0]=e,b[1]=i,b[2]=a,b[3]=o,b[4]=l,b[5]=s,b[6]=c,b[7]=u,b[8]=d):(i=b[1],a=b[2],o=b[3],l=b[4],s=b[5],c=b[6],u=b[7],d=b[8]);let{t:x}=IO(),[C,k]=(0,E.useState)(null),w=function(e){let t,n,r=(0,j.c)(5),{element:i,hideDelay:a,disabled:o}=e,l=void 0===a?0:a,[s,c]=(0,E.useState)(!1);return r[0]!==o||r[1]!==i||r[2]!==l?(t=()=>{if(!i||o)return;i&&"checkVisibility"in i&&c(i.checkVisibility());let e=(0,K.concat)((0,Y.of)(!document.hidden),enn.pipe((0,Z.map)(eni))).pipe((0,ed.distinctUntilChanged)()),t=ent(i).pipe((0,Z.map)(enr)),n=e.pipe((0,Q.switchMap)(e=>e?t:(0,Y.of)(!1)),(0,Q.switchMap)(e=>e?(0,Y.of)(!0):(0,Y.of)(!1).pipe((0,eU.delay)(l))),(0,ed.distinctUntilChanged)()).subscribe(c);return()=>n.unsubscribe()},n=[i,l,o],r[0]=o,r[1]=i,r[2]=l,r[3]=t,r[4]=n):(t=r[3],n=r[4]),(0,E.useLayoutEffect)(t,n),!o&&s}({disabled:c,element:C,hideDelay:2e3})||c,S=c||w;b[9]!==o||b[10]!==s||b[11]!==S||b[12]!==d?(p={enabled:S,schemaType:s,value:d,perspectiveStack:o},b[9]=o,b[10]=s,b[11]=S,b[12]=d,b[13]=p):p=b[13];let T=Wt(p),D=(null==u?void 0:u.minWidth)||1,I=(null==u?void 0:u.minHeight)||1;b[14]!==u||b[15]!==D||b[16]!==I?(f={...u,minWidth:D,minHeight:I},b[14]=u,b[15]=D,b[16]=I,b[17]=f):f=b[17];let A=f;b[18]!==d?(h=function(e){var t,n;if(!Io(e))return;let r="number"==typeof e.progress?e.progress:0,i=ena(e.initiated||e.createdAt),a=ena(e.updated||e.updatedAt),o=ena(null==e||null==(t=e.file)?void 0:t.name),l=ena(null==e||null==(n=e.file)?void 0:n.type),s=ena(e.previewImage);if(i&&a&&o&&l)return{progress:r,createdAt:i,updatedAt:a,file:{name:o,type:l},previewImage:s}}(null==(t=d)?void 0:t._upload),b[18]=d,b[19]=h):h=b[19];let O=h;e:{if(null==O?void 0:O.previewImage){let e,t;b[20]!==x?(e=x("preview.image.file-is-being-uploaded.alt-text"),b[20]=x,b[21]=e):e=b[21],b[22]!==e||b[23]!==O.previewImage?(t=(0,_.jsx)("img",{alt:e,src:O.previewImage}),b[22]=e,b[23]=O.previewImage,b[24]=t):t=b[24],m=t;break e}if(!(null==T||null==(n=T.value)?void 0:n.media)){m=s.icon;break e}m=null==T||null==(r=T.value)?void 0:r.media}let P=m;b[25]!==(null==T?void 0:T.value)?(g=(null==T?void 0:T.value)||{},b[25]=null==T?void 0:T.value,b[26]=g):g=b[26];let M=null==T?void 0:T.error,F=null==T?void 0:T.isLoading;return b[27]!==i||b[28]!==a||b[29]!==P||b[30]!==l||b[31]!==s||b[32]!==g||b[33]!==M||b[34]!==F?(y=(0,_.jsx)(i,{...l,...g,media:P,error:M,isPlaceholder:F,layout:a,schemaType:s}),b[27]=i,b[28]=a,b[29]=P,b[30]=l,b[31]=s,b[32]=g,b[33]=M,b[34]=F,b[35]=y):y=b[35],b[36]!==A||b[37]!==y?(v=(0,_.jsx)("div",{ref:k,style:A,children:y}),b[36]=A,b[37]=y,b[38]=v):v=b[38],v}function enl(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsxs)(I.Text,{size:1,children:["This is a example custom marker, please implement ",(0,_.jsx)("code",{children:"renderCustomMarkers"})," function."]}),t[0]=e):e=t[0],e}let ens={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function enc(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(61),{__internal_fieldActions:h,__internal_patchChannel:m,autoFocus:g,changesOpen:y,children:v,collapsedFieldSets:b,collapsedPaths:x,file:C,filterField:k,focusPath:w,focused:S,groups:E,id:T,image:I,onChange:A,onFieldGroupSelect:O,onPathBlur:P,onPathFocus:M,onPathOpen:F,onSetFieldSetCollapsed:R,onSetPathCollapsed:B,presence:N,readOnly:L,renderAnnotation:z,renderBlock:V,renderField:U,renderInlineBlock:H,renderInput:q,renderItem:W,renderPreview:Y,schemaType:K,unstable:G,validation:$}=e,Z=void 0===h?Ie:h,X=void 0===m?ens:m,J=(null==G?void 0:G.CustomMarkers)||enl,Q=(null==G?void 0:G.Markers)||Lj;f[0]!==J||f[1]!==Q?(t={ArrayFunctions:qz,CustomMarkers:J,Markers:Q},f[0]=J,f[1]=Q,f[2]=t):t=f[2],f[3]!==Z?(n={actions:Z},f[3]=Z,f[4]=n):n=f[4];let ee=(null==C?void 0:C.directUploads)!==!1;f[5]!==C.assetSources||f[6]!==ee?(r={assetSources:C.assetSources,directUploads:ee},f[5]=C.assetSources,f[6]=ee,f[7]=r):r=f[7];let et=k||enu,en=(null==I?void 0:I.directUploads)!==!1;f[8]!==I.assetSources||f[9]!==en?(i={assetSources:I.assetSources,directUploads:en},f[8]=I.assetSources,f[9]=en,f[10]=i):i=f[10],f[11]!==A||f[12]!==X||f[13]!==i||f[14]!==t||f[15]!==n||f[16]!==r||f[17]!==et?(a={patchChannel:X,components:t,field:n,file:r,filterField:et,image:i,onChange:A},f[11]=A,f[12]=X,f[13]=i,f[14]=t,f[15]=n,f[16]=r,f[17]=et,f[18]=a):a=f[18];let er=a;f[19]!==er||f[20]!==g||f[21]!==y||f[22]!==b||f[23]!==x||f[24]!==w||f[25]!==S||f[26]!==E||f[27]!==T||f[28]!==L||f[29]!==z||f[30]!==V||f[31]!==U||f[32]!==H||f[33]!==q||f[34]!==W||f[35]!==Y||f[36]!==K?(o={__internal:er,autoFocus:g,changesOpen:y,collapsedFieldSets:b,collapsedPaths:x,focusPath:w,focused:S,groups:E,id:T,readOnly:L,renderAnnotation:z,renderBlock:V,renderField:U,renderInlineBlock:H,renderInput:q,renderItem:W,renderPreview:Y,schemaType:K},f[19]=er,f[20]=g,f[21]=y,f[22]=b,f[23]=x,f[24]=w,f[25]=S,f[26]=E,f[27]=T,f[28]=L,f[29]=z,f[30]=V,f[31]=U,f[32]=H,f[33]=q,f[34]=W,f[35]=Y,f[36]=K,f[37]=o):o=f[37];let ei=o;return f[38]!==v?(l=(0,_.jsx)(zf,{children:v}),f[38]=v,f[39]=l):l=f[39],f[40]!==l||f[41]!==$?(s=(0,_.jsx)(LS,{validation:$,children:l}),f[40]=l,f[41]=$,f[42]=s):s=f[42],f[43]!==N||f[44]!==s?(c=(0,_.jsx)(Lx,{presence:N,children:s}),f[43]=N,f[44]=s,f[45]=c):c=f[45],f[46]!==T||f[47]!==c?(u=(0,_.jsx)(L6,{id:T,children:c}),f[46]=T,f[47]=c,f[48]=u):u=f[48],f[49]!==A||f[50]!==O||f[51]!==P||f[52]!==M||f[53]!==F||f[54]!==R||f[55]!==B||f[56]!==u?(d=(0,_.jsx)(L7,{onChange:A,onFieldGroupSelect:O,onPathBlur:P,onPathFocus:M,onPathOpen:F,onSetPathCollapsed:B,onSetFieldSetCollapsed:R,children:u}),f[49]=A,f[50]=O,f[51]=P,f[52]=M,f[53]=F,f[54]=R,f[55]=B,f[56]=u,f[57]=d):d=f[57],f[58]!==ei||f[59]!==d?(p=(0,_.jsx)(D.FormBuilderContext.Provider,{value:ei,children:d}),f[58]=ei,f[59]=d,f[60]=p):p=f[60],p}function enu(){return!0}function end(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(46),{__internal_fieldActions:u,__internal_patchChannel:d,autoFocus:p,changesOpen:f,children:h,collapsedFieldSets:m,collapsedPaths:g,focusPath:y,focused:v,groups:b,id:x,onChange:C,onPathBlur:k,onPathFocus:w,onPathOpen:S,onFieldGroupSelect:E,onSetPathCollapsed:T,onSetFieldSetCollapsed:D,presence:I,readOnly:A,schemaType:O,validation:P}=e,{file:M,image:F}=eii().form,R=enN(),B=enL(),N=enz(),L=enV(),z=enU(),V=enH(),U=enq();c[0]!==R?(t=e=>(0,_.jsx)(R,{...e}),c[0]=R,c[1]=t):t=c[1];let H=t;c[2]!==B?(n=e=>(0,_.jsx)(B,{...e}),c[2]=B,c[3]=n):n=c[3];let q=n;c[4]!==L?(r=e=>{let{key:t,...n}=e;return(0,_.jsx)(L,{...n},t)},c[4]=L,c[5]=r):r=c[5];let W=r;c[6]!==N?(i=e=>(0,_.jsx)(eno,{component:N,...e}),c[6]=N,c[7]=i):i=c[7];let Y=i;c[8]!==z?(a=e=>(0,_.jsx)(z,{...e}),c[8]=z,c[9]=a):a=c[9];let K=a;c[10]!==V?(o=e=>(0,_.jsx)(V,{...e}),c[10]=V,c[11]=o):o=c[11];let G=o;c[12]!==U?(l=e=>(0,_.jsx)(U,{...e}),c[12]=U,c[13]=l):l=c[13];let $=l;return c[14]!==p||c[15]!==f||c[16]!==h||c[17]!==m||c[18]!==g||c[19]!==u||c[20]!==M||c[21]!==y||c[22]!==v||c[23]!==b||c[24]!==x||c[25]!==F||c[26]!==C||c[27]!==E||c[28]!==k||c[29]!==w||c[30]!==S||c[31]!==D||c[32]!==T||c[33]!==d||c[34]!==I||c[35]!==A||c[36]!==$||c[37]!==K||c[38]!==q||c[39]!==G||c[40]!==H||c[41]!==W||c[42]!==Y||c[43]!==O||c[44]!==P?(s=(0,_.jsx)(enc,{__internal_fieldActions:u,__internal_patchChannel:d,autoFocus:p,changesOpen:f,collapsedFieldSets:m,collapsedPaths:g,file:M,focusPath:y,focused:v,groups:b,id:x,image:F,onChange:C,onPathBlur:k,onPathFocus:w,onPathOpen:S,onFieldGroupSelect:E,onSetPathCollapsed:T,onSetFieldSetCollapsed:D,presence:I,readOnly:A,renderAnnotation:$,renderBlock:K,renderField:q,renderInlineBlock:G,renderInput:H,renderItem:W,renderPreview:Y,schemaType:O,validation:P,children:h}),c[14]=p,c[15]=f,c[16]=h,c[17]=m,c[18]=g,c[19]=u,c[20]=M,c[21]=y,c[22]=v,c[23]=b,c[24]=x,c[25]=F,c[26]=C,c[27]=E,c[28]=k,c[29]=w,c[30]=S,c[31]=D,c[32]=T,c[33]=d,c[34]=I,c[35]=A,c[36]=$,c[37]=K,c[38]=q,c[39]=G,c[40]=H,c[41]=W,c[42]=Y,c[43]=O,c[44]=P,c[45]=s):s=c[45],s}function enp(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,I=(0,j.c)(110),{__internal_fieldActions:A,__internal_patchChannel:O,autoFocus:P,changesOpen:M,collapsedFieldSets:F,collapsedPaths:R,focused:B,focusPath:N,groups:L,id:z,members:V,onChange:U,onFieldGroupSelect:H,onPathBlur:q,onPathFocus:W,onPathOpen:Y,onSetFieldSetCollapsed:K,onSetPathCollapsed:G,openPath:$,perspective:Z,presence:X,readOnly:J,schemaType:Q,validation:ee,value:et,compareValue:en}=e,er=void 0===$?Ie:$;I[0]!==G?(t=e=>G([e],!0),I[0]=G,I[1]=t):t=I[1];let ei=t;I[2]!==G?(n=e=>G([e],!1),I[2]=G,I[3]=n):n=I[3];let ea=n;I[4]!==q?(r=()=>q(Ie),I[4]=q,I[5]=r):r=I[5];let eo=r;I[6]!==W?(i=()=>W(Ie),I[6]=W,I[7]=i):i=I[7];let el=i;I[8]!==U?(a=e=>U(zU.from(e)),I[8]=U,I[9]=a):a=I[9];let es=a,ec=(0,E.useRef)(null);I[10]!==H?(o=e=>H(Ie,e),I[10]=H,I[11]=o):o=I[11];let eu=o;I[12]!==Y?(l=e=>Y([e]),I[12]=Y,I[13]=l):l=I[13];let ed=l;I[14]!==Y?(s=()=>Y([]),I[14]=Y,I[15]=s):s=I[15];let ep=s;I[16]!==K?(c=e=>K([e],!0),I[16]=K,I[17]=c):c=I[17];let ef=c;I[18]!==K?(u=e=>K([e],!1),I[18]=K,I[19]=u):u=I[19];let eh=u,em=enN(),eg=enL(),ey=enz(),ev=enV(),eb=enU(),ex=enH(),eC=enq();I[20]!==em?(d=e=>(0,_.jsx)(et8,{children:(0,_.jsx)(em,{...e})}),I[20]=em,I[21]=d):d=I[21];let ek=d;I[22]!==eg?(p=e=>(0,_.jsx)(eg,{...e}),I[22]=eg,I[23]=p):p=I[23];let ew=p;I[24]!==ev?(f=e=>{let{key:t,...n}=e;return(0,_.jsx)(ev,{...n},t)},I[24]=ev,I[25]=f):f=I[25];let e_=f;I[26]!==ey?(h=e=>(0,_.jsx)(eno,{component:ey,...e}),I[26]=ey,I[27]=h):h=I[27];let ej=h;I[28]!==eb?(m=e=>(0,_.jsx)(eb,{...e}),I[28]=eb,I[29]=m):m=I[29];let eS=m;I[30]!==ex?(g=e=>(0,_.jsx)(ex,{...e}),I[30]=ex,I[31]=g):g=I[31];let eE=g;I[32]!==eC?(y=e=>(0,_.jsx)(eC,{...e}),I[32]=eC,I[33]=y):y=I[33];let eT=y;I[34]!==en||I[35]!==Z||I[36]!==Q||I[37]!==et?(v=et3({comparisonValue:en,value:et,schemaType:Q,perspective:Z}),I[34]=en,I[35]=Z,I[36]=Q,I[37]=et,I[38]=v):v=I[38];let eD=v;I[39]!==eo||I[40]!==el||I[41]!==z?(b={ref:ec,id:z,onBlur:eo,onFocus:el,"aria-describedby":void 0},I[39]=eo,I[40]=el,I[41]=z,I[42]=b):b=I[42];let eI=eD.__unstable_computeDiff;I[43]!==V?(x=V.some(enf),I[43]=V,I[44]=x):x=I[44],I[45]!==eD.__unstable_computeDiff||I[46]!==N||I[47]!==B||I[48]!==L||I[49]!==es||I[50]!==ep||I[51]!==ei||I[52]!==ef||I[53]!==ea||I[54]!==eh||I[55]!==ed||I[56]!==eu||I[57]!==z||I[58]!==V||I[59]!==W||I[60]!==J||I[61]!==eT||I[62]!==eS||I[63]!==ew||I[64]!==eE||I[65]!==ek||I[66]!==e_||I[67]!==ej||I[68]!==Q||I[69]!==b||I[70]!==x||I[71]!==et?(C={focusPath:N,elementProps:b,focused:B,groups:L,id:z,level:0,members:V,onChange:es,onFieldClose:ep,onFieldCollapse:ei,onFieldSetCollapse:ef,onFieldExpand:ea,onFieldSetExpand:eh,onPathFocus:W,onFieldOpen:ed,onFieldGroupSelect:eu,path:Ie,presence:Ie,readOnly:J,renderAnnotation:eT,renderBlock:eS,renderField:ew,renderInlineBlock:eE,renderInput:ek,renderItem:e_,renderPreview:ej,schemaType:Q,validation:Ie,value:et,__unstable_computeDiff:eI,changed:x},I[45]=eD.__unstable_computeDiff,I[46]=N,I[47]=B,I[48]=L,I[49]=es,I[50]=ep,I[51]=ei,I[52]=ef,I[53]=ea,I[54]=eh,I[55]=ed,I[56]=eu,I[57]=z,I[58]=V,I[59]=W,I[60]=J,I[61]=eT,I[62]=eS,I[63]=ew,I[64]=eE,I[65]=ek,I[66]=e_,I[67]=ej,I[68]=Q,I[69]=b,I[70]=x,I[71]=et,I[72]=C):C=I[72];let eA=C;return I[73]!==Y||I[74]!==er||I[75]!==ek||I[76]!==eA?(k=(0,_.jsx)(YK,{children:(0,_.jsx)(enh,{rootInputProps:eA,onPathOpen:Y,openPath:er,renderInput:ek})}),I[73]=Y,I[74]=er,I[75]=ek,I[76]=eA,I[77]=k):k=I[77],I[78]!==A||I[79]!==k?(w=(0,_.jsx)(U$,{actions:A,children:k}),I[78]=A,I[79]=k,I[80]=w):w=I[80],I[81]!==w||I[82]!==et?(S=(0,_.jsx)(zR,{value:et,children:w}),I[81]=w,I[82]=et,I[83]=S):S=I[83],I[84]!==S||I[85]!==et?(T=(0,_.jsx)(Uw,{value:et,children:S}),I[84]=S,I[85]=et,I[86]=T):T=I[86],I[87]!==P||I[88]!==M||I[89]!==F||I[90]!==R||I[91]!==A||I[92]!==N||I[93]!==B||I[94]!==L||I[95]!==z||I[96]!==U||I[97]!==H||I[98]!==q||I[99]!==W||I[100]!==Y||I[101]!==K||I[102]!==G||I[103]!==O||I[104]!==X||I[105]!==J||I[106]!==Q||I[107]!==T||I[108]!==ee?(D=(0,_.jsx)(end,{__internal_fieldActions:A,__internal_patchChannel:O,autoFocus:P,changesOpen:M,collapsedFieldSets:F,collapsedPaths:R,focusPath:N,focused:B,groups:L,id:z,onChange:U,onPathBlur:q,onPathFocus:W,onPathOpen:Y,onFieldGroupSelect:H,onSetPathCollapsed:G,onSetFieldSetCollapsed:K,presence:X,validation:ee,readOnly:J,schemaType:Q,children:T}),I[87]=P,I[88]=M,I[89]=F,I[90]=R,I[91]=A,I[92]=N,I[93]=B,I[94]=L,I[95]=z,I[96]=U,I[97]=H,I[98]=q,I[99]=W,I[100]=Y,I[101]=K,I[102]=G,I[103]=O,I[104]=X,I[105]=J,I[106]=Q,I[107]=T,I[108]=ee,I[109]=D):D=I[109],D}function enf(e){return"field"===e.kind&&e.field.changed}function enh(e){let t,n,r=(0,j.c)(10),{rootInputProps:i,onPathOpen:a,openPath:o,renderInput:l}=e,s=YY(),c="root"===i.id;r[0]!==c||r[1]!==a||r[2]!==o||r[3]!==i||r[4]!==s.enabled?(t=s.enabled&&c&&(0,_.jsx)(YW,{onPathFocus:i.onPathFocus,onPathOpen:a,openPath:o,rootInputProps:i,schemaType:i.schemaType}),r[0]=c,r[1]=a,r[2]=o,r[3]=i,r[4]=s.enabled,r[5]=t):t=r[5];let u=t;return r[6]!==u||r[7]!==l||r[8]!==i?(n=l({...i,__internal_arrayEditingModal:u}),r[6]=u,r[7]=l,r[8]=i,r[9]=n):n=r[9],n}let enm=(0,F.styled)(I.Card)(e=>{let{color:t,radius:n,space:r}=e.theme.sanity,i=(0,F.css)(jl(),r[1],r[1],r[1],r[1],n[2],t.dark?"screen":"multiply");return(0,F.css)(js(),n[1],t.input.default.hovered.border,i,t.dark?z.hues.purple[950].hex:z.hues.purple[50].hex,i,t.muted.caution.hovered.bg,t.muted.caution.hovered.border,i,t.input.invalid.enabled.bg,t.input.invalid.hovered.border)}),eng=(0,F.styled)(I.Flex)(jc()),eny=F.styled.div(e=>{let{theme:t,$hasChanges:n}=e,{space:r}=t.sanity;return(0,F.css)(jd(),r[2],r[1],r[2],!1,!n&&(0,F.css)(ju()))});(0,F.styled)(I.Flex)(jp());let env=(0,F.styled)(I.Box)(jf()),enb=(0,F.styled)(I.Flex)(jh()),enx=(0,F.styled)(I.Box)(jm()),enC={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function enk(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(42),{children:y,focused:v,isOpen:b,onOpen:x,onRemove:C,readOnly:k,value:w}=e,{t:S}=IO(),T=(0,E.useId)(),D=(0,E.useRef)(null),A=(0,E.useRef)(!1);g[0]!==w?(t=(0,W.isReference)(w)?(0,E.forwardRef)(function(e,t){return(0,_.jsx)(nr.IntentLink,{...e,intent:"edit",params:{id:w._ref},ref:t})}):void 0,g[0]=w,g[1]=t):t=g[1];let O=t;g[2]!==b?(n=()=>{b&&(A.current=!1)},r=[b],g[2]=b,g[3]=n,g[4]=r):(n=g[3],r=g[4]),(0,E.useEffect)(n,r),g[5]!==v||g[6]!==b?(i=e=>{v&&"Tab"===e.key&&D.current&&!A.current&&!b&&(e.preventDefault(),e.stopPropagation(),D.current.focus(),A.current=!0)},g[5]=v,g[6]=b,g[7]=i):i=g[7],(0,I.useGlobalKeyDown)(i),g[8]!==C?(a=e=>{e.preventDefault(),e.stopPropagation(),C()},g[8]=C,g[9]=a):a=g[9];let P=a;g[10]!==y?(o=(0,_.jsx)(I.Box,{flex:1,children:y}),g[10]=y,g[11]=o):o=g[11],g[12]!==S?(l=S("inputs.portable-text.block.open-menu-aria-label"),g[12]=S,g[13]=l):l=g[13];let M=+!v;return g[14]===Symbol.for("react.memo_cache_sentinel")?(s={content:"Open menu"},g[14]=s):s=g[14],g[15]!==l||g[16]!==M?(c=(0,_.jsx)(B.Button,{"aria-label":l,icon:R.EllipsisHorizontalIcon,mode:"bleed",paddingY:3,tabIndex:M,tooltipProps:s}),g[15]=l,g[16]=M,g[17]=c):c=g[17],g[18]!==O||g[19]!==S||g[20]!==w?(u="_ref"in w&&!!w._ref&&(0,_.jsx)(B.MenuItem,{as:O,"data-as":"a",icon:R.LinkIcon,text:S("inputs.portable-text.block.open-reference")}),g[18]=O,g[19]=S,g[20]=w,g[21]=u):u=g[21],g[22]!==x||g[23]!==k||g[24]!==S?(d=k&&(0,_.jsx)(B.MenuItem,{icon:R.EyeOpenIcon,onClick:x,text:S("inputs.portable-text.block.view")}),g[22]=x,g[23]=k,g[24]=S,g[25]=d):d=g[25],g[26]!==P||g[27]!==x||g[28]!==k||g[29]!==S?(p=!k&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.MenuItem,{icon:R.EditIcon,onClick:x,text:S("inputs.portable-text.block.edit")}),(0,_.jsx)(B.MenuItem,{icon:R.TrashIcon,onClick:P,text:S("inputs.portable-text.block.remove"),tone:"critical"})]}),g[26]=P,g[27]=x,g[28]=k,g[29]=S,g[30]=p):p=g[30],g[31]!==u||g[32]!==d||g[33]!==p?(f=(0,_.jsx)(I.Menu,{children:(0,_.jsxs)(_.Fragment,{children:[u,d,p]})}),g[31]=u,g[32]=d,g[33]=p,g[34]=f):f=g[34],g[35]!==T||g[36]!==f||g[37]!==c?(h=(0,_.jsx)(I.Box,{children:(0,_.jsx)(B.MenuButton,{button:c,ref:D,id:T,menu:f,popover:enC})}),g[35]=T,g[36]=f,g[37]=c,g[38]=h):h=g[38],g[39]!==h||g[40]!==o?(m=(0,_.jsxs)(I.Flex,{children:[o,h]}),g[39]=h,g[40]=o,g[41]=m):m=g[41],m}function enw(e){var t,n,r,i;let{floatingBoundary:a,focused:o,isFullscreen:l,onItemClose:s,onItemOpen:c,onPathFocus:u,path:d,readOnly:p,referenceBoundary:f,relativePath:h,renderAnnotation:m,renderBlock:g,renderBlockActions:y,renderCustomMarkers:v,renderField:b,renderInlineBlock:x,renderInput:C,renderItem:k,renderPreview:w,schemaType:j,selected:T,setElementRef:D,value:A}=e,{onChange:O}=L3(),{Markers:P}=Lw().__internal.components,M=L2(),F=M&&Au(M.path).startsWith(Au(d)),R=LA(d),N=pk(),[L,z]=(0,E.useState)(null),V=LL(Au(d)),U=(0,E.useRef)(!1),H=(0,E.useMemo)(()=>({anchor:{path:h,offset:0},focus:{path:h,offset:0}}),[h]),q=(0,E.useCallback)(()=>{V&&(hq.blur(N),c(V.node.path))},[N,V,c]),W=(0,E.useCallback)(()=>{s(),hq.select(N,H),hq.focus(N)},[s,N,H]),Y=(0,E.useCallback)(()=>{if(!U.current)try{hq.delete(N,H,{mode:"blocks"})}catch(e){console.error(e)}finally{U.current=!0}},[N,H]);(0,E.useEffect)(()=>()=>{U.current&&hq.focus(N)},[N]);let K=(0,E.useMemo)(()=>l&&!y?{paddingX:5}:l&&y?{paddingLeft:5,paddingRight:2}:y?{paddingLeft:3,paddingRight:2}:{paddingX:3},[l,y]),{validation:G,hasError:$,hasWarning:Z,hasInfo:X}=LI(null==V?void 0:V.node),J=N.schemaTypes.portableText,Q=R.length>0,ee=Lk(d,!0),et=(0,E.useMemo)(()=>ee.filter(e=>(0,S.isEqual)(e.path,d)),[d,ee]),en=$||Z||X||Q,er=(0,E.useMemo)(()=>en&&(0,_.jsx)(enx,{children:(0,_.jsx)(P,{markers:R,validation:G,renderCustomMarkers:v})})||null,[P,R,v,en,G]),ei=!!(null==V?void 0:V.member.open),ea=null==V?void 0:V.input,eo=(null==V?void 0:V.node.path)||Ie,el=(0,E.useMemo)(()=>({__unstable_floatingBoundary:a,__unstable_referenceBoundary:f,__unstable_referenceElement:L,children:ea,focused:o,markers:R,onClose:W,onOpen:q,onPathFocus:u,onRemove:Y,open:ei,parentSchemaType:J,path:eo,presence:et,readOnly:!!p,renderAnnotation:m,renderBlock:g,renderDefault:en_,renderField:b,renderInlineBlock:x,renderInput:C,renderItem:k,renderPreview:w,schemaType:j,selected:T,validation:G,value:A}),[a,L,ea,o,R,W,q,u,Y,ei,J,eo,et,p,f,m,g,b,x,C,k,w,j,T,G,A]),es=y&&A&&!p,ec=l&&V,eu=(0,E.useCallback)(e=>{V&&D({key:V.member.key,elementRef:e}),z(e)},[V,D,z]);return(0,E.useMemo)(()=>(0,_.jsx)(I.Box,{ref:eu,contentEditable:!1,children:(0,_.jsx)(I.Flex,{paddingBottom:1,marginY:3,style:void 0,children:(0,_.jsxs)(eng,{...K,children:[(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(B.Tooltip,{placement:"top",portal:"editor",disabled:!!ei||!en,content:er,children:(0,_.jsx)("div",{children:g&&g(el)})})}),es&&(0,_.jsx)(env,{contentEditable:!1,marginRight:3,children:(0,_.jsx)(enb,{children:o&&(0,_.jsx)($T,{block:A,onChange:O,renderBlockActions:y})})}),ec&&(0,_.jsx)(eny,{$hasChanges:V.member.item.changed,contentEditable:!1,children:(0,_.jsx)($S,{hasFocus:o,isChanged:V.member.item.changed,path:V.member.item.path,withHoverEffect:!1})}),F&&(0,_.jsx)($y,{$fullScreen:!!l})]})})}),[es,ec,el,o,K,null==V||null==(n=V.member)||null==(t=n.item)?void 0:t.changed,null==V||null==(i=V.member)||null==(r=i.item)?void 0:r.path,O,g,y,F,l,eu,er,en,A,ei])}let en_=e=>{let t,n,r,i,a,o,l,s=(0,j.c)(41),{__unstable_floatingBoundary:c,__unstable_referenceBoundary:u,__unstable_referenceElement:d,children:p,focused:f,markers:h,onClose:m,onOpen:g,onRemove:y,open:v,readOnly:b,renderPreview:x,schemaType:C,selected:k,value:w,validation:S}=e,{t:E}=IO(),T=(0,W.isImage)(w),D=S.filter(enj).length>0,I=S.filter(enS).length>0,A=h.length>0,O=k||f?"primary":"default";s[0]!==g?(t=e=>{e.preventDefault(),e.stopPropagation(),g()},s[0]=g,s[1]=t):t=s[1];let P=t;s[2]!==E?(n=E("inputs.portable-text.block.aria-label"),s[2]=E,s[3]=n):n=s[3];let M=f?"":void 0,F=T?"":void 0,R=D?"":void 0,B=A?"":void 0,N=b?"":void 0,L=k?"":void 0,z=I?"":void 0,V=+!T;s[4]!==f||s[5]!==g||s[6]!==y||s[7]!==v||s[8]!==b||s[9]!==w?(r=(0,_.jsx)(enk,{isOpen:v,focused:f,onOpen:g,onRemove:y,readOnly:b,value:w}),s[4]=f,s[5]=g,s[6]=y,s[7]=v,s[8]=b,s[9]=w,s[10]=r):r=s[10];let U=T?"blockImage":"block";return s[11]!==x||s[12]!==C||s[13]!==r||s[14]!==U||s[15]!==w?(i=x({actions:r,layout:U,schemaType:C,skipVisibilityCheck:!0,value:w}),s[11]=x,s[12]=C,s[13]=r,s[14]=U,s[15]=w,s[16]=i):i=s[16],s[17]!==P||s[18]!==n||s[19]!==i||s[20]!==M||s[21]!==F||s[22]!==R||s[23]!==B||s[24]!==N||s[25]!==L||s[26]!==z||s[27]!==V||s[28]!==O?(a=(0,_.jsx)(enm,{"aria-label":n,"data-focused":M,"data-image-preview":F,"data-invalid":R,"data-markers":B,"data-read-only":N,"data-selected":L,"data-testid":"pte-block-object","data-warning":z,flex:1,onDoubleClick:P,padding:V,tone:O,children:i}),s[17]=P,s[18]=n,s[19]=i,s[20]=M,s[21]=F,s[22]=R,s[23]=B,s[24]=N,s[25]=L,s[26]=z,s[27]=V,s[28]=O,s[29]=a):a=s[29],s[30]!==c||s[31]!==u||s[32]!==d||s[33]!==p||s[34]!==m||s[35]!==v||s[36]!==C?(o=v&&(0,_.jsx)(Z9,{floatingBoundary:c,defaultType:"dialog",onClose:m,autoFocus:!0,schemaType:C,referenceBoundary:u,referenceElement:d,children:p}),s[30]=c,s[31]=u,s[32]=d,s[33]=p,s[34]=m,s[35]=v,s[36]=C,s[37]=o):o=s[37],s[38]!==a||s[39]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[a,o]}),s[38]=a,s[39]=o,s[40]=l):l=s[40],l};function enj(e){return"error"===e.level}function enS(e){return"warning"===e.level}function enE(e){var t;return(null==(t=e.components)?void 0:t.block)?e.components.block:Ao(e)?$$:en_}function enT(e){var t;return(null==(t=e.components)?void 0:t.inlineBlock)?e.components.inlineBlock:Xt}function enD(e){var t;return(null==(t=e.components)?void 0:t.annotation)?e.components.annotation:LY}function enI(e){let t,n,r,i=(0,j.c)(9),{componentResolver:a,componentProps:o}=e;if(!o.schemaType)throw Error("the `schemaType` property must be defined");i[0]!==o.schemaType||i[1]!==a?(t=a(o.schemaType),i[0]=o.schemaType,i[1]=a,i[2]=t):t=i[2];let l=t;i[3]!==a?(n=e=>{var t;if(!(null==(t=e.schemaType)?void 0:t.type))throw Error("Attempted to render form component of non-existent parent type");let{components:n,...r}=e.schemaType,i=a(r);return(0,_.jsx)(i,{...e})},i[3]=a,i[4]=n):n=i[4];let s=n;return i[5]!==l||i[6]!==o||i[7]!==s?(r=(0,_.jsx)(l,{...o,renderDefault:s}),i[5]=l,i[6]=o,i[7]=s,i[8]=r):r=i[8],r}function enA(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:etB},n[0]=e,n[1]=t):t=n[1],enI(t)}function enO(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:zA},n[0]=e,n[1]=t):t=n[1],enI(t)}function enP(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:etY},n[0]=e,n[1]=t):t=n[1],enI(t)}function enM(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:etN},n[0]=e,n[1]=t):t=n[1],enI(t)}function enF(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:enE},n[0]=e,n[1]=t):t=n[1],enI(t)}function enR(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:enT},n[0]=e,n[1]=t):t=n[1],enI(t)}function enB(e){let t,n=(0,j.c)(2);return n[0]!==e?(t={componentProps:e,componentResolver:enD},n[0]=e,n[1]=t):t=n[1],enI(t)}function enN(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enA,pick:Xu},t[0]=e):e=t[0],Aa(e)}function enL(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enO,pick:Xd},t[0]=e):e=t[0],Aa(e)}function enz(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enM,pick:Xp},t[0]=e):e=t[0],Aa(e)}function enV(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enP,pick:Xf},t[0]=e):e=t[0],Aa(e)}function enU(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enF,pick:Xh},t[0]=e):e=t[0],Aa(e)}function enH(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enR,pick:Xm},t[0]=e):e=t[0],Aa(e)}function enq(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:enB,pick:Xg},t[0]=e):e=t[0],Aa(e)}function enW(e){let t,n=(0,j.c)(3),r=enz();return n[0]!==r||n[1]!==e?(t=(0,_.jsx)(eno,{...e,component:r}),n[0]=r,n[1]=e,n[2]=t):t=n[2],t}let enY=["_id","_rev","_type"],enK=[...enY,"_key"],enG={available:!0,reason:"READABLE"},en$={available:!1,reason:"PERMISSION_DENIED"},enZ={available:!1,reason:"NOT_FOUND"},enX={available:!1,reason:"VERSION_DELETED"},enJ={title:"Invalid preview config",subtitle:"Check the error log in the console",media:(0,_.jsx)(R.WarningOutlineIcon,{})};function enQ(e,t){let n,r={},i=0;return function(){for(var e=arguments.length,o=Array(e),l=0;l<e;l++)o[l]=arguments[l];return new er.Observable(e=>{clearTimeout(n),n=setTimeout(a,t);let l={args:o,observer:e,completed:!1};return r[i++]=l,()=>{l.completed=!0}})};function a(){let t=r;r={};let n=Object.keys(t).filter(e=>{let n=t[e];return n&&!n.completed});0!==n.length&&e(n.map(e=>{let n=t[e];return n&&n.args}).filter(D2)).subscribe({next(e){e.forEach((r,i)=>{let a=t[n[i]];a&&!a.completed&&a.observer.next(e[i])})},complete(){n.forEach(e=>{let n=t[e];n&&!n.completed&&n.observer.complete()})},error(e){n.forEach(n=>{let r=t[n];r&&!r.completed&&r.observer.error(e)})}})}}let en1=Ig({maxSize:1e3});function en2(e,t){return e.push(...t),e}function en0(e,t,n){if(n!==(null==e?void 0:e._rev))throw Error("Invalid document revision. The provided patch is calculated from a different revision than the current document");let r=bQ(function(e){if(void 0===e)return;let{_rev:t,...n}=e;return n}(e),t);return null===r?void 0:r}let en5=[["_createdAt"],["_updatedAt"]];function en7(e){let t=null==e?void 0:e.select;return t?(Object.values(t).map(e=>String(e).split("."))||[]).concat(en5):void 0}let en3=["_id","_type","_upload","_createdAt","_updatedAt"],en8=[],en4=(()=>{let e={};return{add:(t,n,r)=>{let i="name"in t?t.name:t.type;e[i]||(e[i]=[]),e[i].push({error:r,type:t,value:n})},getAll:()=>e,clear(){e={}}}})(),en6=(0,nc.default)(()=>{let e=en4.getAll(),t=(0,td.default)(Object.keys(e).map(t=>{let n=e[t];return(0,ns.default)(n,e=>e.error.message)})).length;0!==t&&(console.groupCollapsed("%cHeads up! Got ".concat(1===t?"error":"".concat(t," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(t=>{let n=e[t],r=n[0];console.group('Check the preview config for schema type "'.concat(t,'": %o'),r.type.preview),(0,ns.default)(n,e=>e.error.message).forEach(e=>{if("returnValueError"===e.error.type){var t;let n="function"==typeof(null==(t=e.type.preview)?void 0:t.prepare),{value:r,error:i}=e;console.log("Encountered an invalid ".concat(n?"return value when calling prepare(%o)":"value targeted by preview.select",":"),r),console.error(i)}if("prepareError"===e.error.type){let{value:t,error:n}=e;console.log("Encountered an error when calling prepare(%o):",t),console.error(n)}}),console.groupEnd()}),console.groupEnd(),en4.clear())},1e3),en9=e=>t=>{let n=typeof t;return null===t||"undefined"===n||"string"===n||"number"===n||"boolean"===n?en8:[ern("returnValueError",Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(ert(t))))]},ere={media:()=>en8,title:en9("title"),subtitle:en9("subtitle"),description:en9("description"),imageUrl:en9("imageUrl"),date:en9("date")};function ert(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(Io(e)){let n=Object.keys(e),r=n.length>3?"...":"";return"".concat(t?"object with keys ":"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){let n=e.length>3?"...":"";return"".concat(t?"array with ":"","[").concat(e.map(e=>ert(e,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function ern(e,t){return Object.assign(t,{type:e})}function err(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null==(n=e.preview)?void 0:n.prepare;try{return{returnValue:i?i(t,r):JM(t).reduce((e,n)=>{let r=t[n];return{...e,[n]:Array.isArray(r)&&(0===r.length||r.some(W.isPortableTextTextBlock))?function(e){let t=Array.isArray(e)&&e.find(W.isPortableTextTextBlock);return t&&t.children?t.children.filter(W.isPortableTextSpan).map(e=>e.text).join(""):""}(r):r}},{}),errors:en8}}catch(e){return{returnValue:null,errors:[ern("prepareError",e)]}}}function eri(e,t,n){return e.errors.forEach(e=>en4.add(t,n,e)),en6(),enJ}function era(e,t){var n,r,i;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof(null==(n=t.preview)?void 0:n.prepare),l=(null==(r=t.preview)?void 0:r.select)||{},s=Object.keys(l).reduce((n,r)=>{var i,a;let s="fields"in t?t:null,c=l[r],u=null==s||null==(i=s.fields)?void 0:i.find(e=>e.name===c),d=u&&(!function(e){let t=!!e.options&&"object"==typeof e.options&&e.options;return!!t&&"list"in t&&Array.isArray(t.list)}(a=u.type)?void 0:a.options.list.map(e=>(0,W.isTitledListValue)(e)?e:{title:e,value:e}));if(!o&&d){let t=d&&d.find(t=>t.value===(0,n_.default)(e,l[r]));n[r]=t?t.value:(0,n_.default)(e,l[r])}else n[r]=(0,n_.default)(e,l[r]);return n},{}),c=err(t,s,a);if(c.errors.length>0)return eri(c,t,s);let u={...c,errors:[...c.errors||[],...(i=c.returnValue,(0,nE.default)(i)&&null!==i?Object.entries(i).reduce((e,t)=>{let[n,r]=t;return[...e,...function(e,t){if(typeof t>"u")return en8;let n=ere[e];return n&&n(t)||en8}(n,r)]},en8):[ern("returnValueError",Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(ert(i))))])]};return u.errors.length>0?eri(u,t,s):{...(0,h3.default)(e,en3),...c.returnValue}}let ero=e=>e;function erl(e){return JSON.stringify(e)}let ers=e=>(e=>!Ix.test(e)||Ib.includes(e))(e)?'"'.concat(e,'": @').concat('["'.concat(e,'"]')):e;function erc(e){let{ids:t,fields:n}=e,r=[...enY,...n];return"*[_id in [".concat(t.map(erl).join(","),"]][0...").concat(t.length,"]{").concat(r.map(ers).join(","),"}")}function eru(e,t,n,r){let i=e.observeForPreview({_id:(0,th.getPublishedId)(n)},t,{perspective:r}),a=(0,th.isVersionId)(n)?(0,th.getVersionFromId)(n):"drafts",o=a?e.observeForPreview({_id:(0,th.getPublishedId)(n)},t,{perspective:[a]}):(0,Y.of)(null);return(0,ev.combineLatest)([i,o]).pipe((0,Z.map)(e=>{let[t,n]=e;return{isLoading:!1,snapshot:(null==t?void 0:t.snapshot)||null,original:(null==n?void 0:n.snapshot)||null}}),(0,eI.startWith)({isLoading:!0,snapshot:null,original:null}))}let erd={};function erp(e){var t;let{snapshot:n,original:r,fallback:i}=e;return n||r||(t=i||erd,{title:(0,_.jsx)("em",{children:t.title?String(t.title):"Missing document"}),subtitle:(0,_.jsx)("em",{children:t.title?"Missing document ID: ".concat(t._id):"Document ID: ".concat(t._id)}),media:()=>(0,_.jsx)(R.WarningOutlineIcon,{})})}function erf(){return eii().dataset}function erh(){return eii().projectId}let erm={data:[],error:null,loading:!0},erg=new Map,ery=Ig({maxSize:100});function erv(e){let{documentId:t}=e,n=(0,th.getPublishedId)(t),r=erf(),i=erh(),a=Fu(),[o,l]=(0,E.useState)(erm),s=(0,E.useMemo)(()=>(function(e){let{documentPreviewStore:t,projectId:n,dataset:r,publishedId:i,params:a}=e,o="".concat(n,"-").concat(r,"-").concat(i),l=erg.get(o);if(l)return l;let s=t.unstable_observeDocumentIdSet('sanity::versionOf("'.concat(i,'")'),a,{apiVersion:Of.apiVersion}).pipe(ery(o),(0,Z.map)(e=>{let{value:t}=e;return{data:t.documentIds,error:null,loading:!1}}),(0,J.catchError)(e=>(0,Y.of)({error:e,data:[],loading:!1})),(0,em.finalize)(()=>{erg.delete(o)}),(0,ep.shareReplay)({refCount:!0,bufferSize:1}));return erg.set(o,s),s})({documentPreviewStore:a,publishedId:n,projectId:i,dataset:r}),[r,a,i,n]);return(0,E.useEffect)(()=>{let e=s.subscribe(e=>{l(e)});return()=>e.unsubscribe()},[s]),o}let erb=["asap","scheduled","undecided"];function erx(e,t){if("scheduled"===e.metadata.releaseType&&"scheduled"===t.metadata.releaseType){let n=e.publishAt||e.metadata.intendedPublishAt;if(!n)return -1;let r=t.publishAt||t.metadata.intendedPublishAt;return r?new Date(n).getTime()-new Date(r).getTime():1}return erb.indexOf(e.metadata.releaseType)-erb.indexOf(t.metadata.releaseType)}let erC=e=>{let t,n,r=(0,j.c)(4),{documentId:i}=e;r[0]!==i?(t={documentId:i},r[0]=i,r[1]=t):t=r[1];let{data:a}=erv(t);return r[2]!==a?(n=a&&a.length>0&&!a.some(erk),r[2]=a,r[3]=n):n=r[3],n};function erk(e){return!(0,th.isVersionId)(e)}let erw=Object.create(null);function er_(e){let t,n,r=(0,j.c)(8),i=Fu(),{getClient:a,i18n:o}=eii(),l=el3(),{state$:s}=Fz();r[0]!==i||r[1]!==a||r[2]!==o||r[3]!==e||r[4]!==s||r[5]!==l?(t=(e=>{let{schema:t,documentPreviewStore:n,getClient:r,releaseId:i,i18n:a,releasesState$:o}=e;return erw[i]||(erw[i]=o.pipe((0,Z.map)(e=>e.releases.get(FH(i))),(0,ew.filter)(Boolean),(0,ed.distinctUntilChanged)((e,t)=>e._rev===t._rev),(0,Q.switchMap)(e=>{let o="".concat(i,"-").concat(e._rev);if(!erw[o]){let l;l="published"===e.state||"archived"===e.state?(e=>{var t;let{getClient:n,release:r}=e,i=n(Of),a=i.observable,o=i.config().dataset;if(!(null==(t=r.finalDocumentStates)?void 0:t.length))return(0,Y.of)({loading:!1,results:[],error:null});function l(e){var t;let n=e+10;return a.request({url:"/data/history/".concat(o,"/documents/").concat(null==(t=r.finalDocumentStates)?void 0:t.slice(e,n).map(e=>e.id).join(","),"?lastRevision=true")}).pipe((0,Z.map)(e=>{let{documents:t}=e;return{documents:t,finalIndex:n}}))}return l(0).pipe((0,eR.expand)(e=>r.finalDocumentStates&&e.finalIndex<r.finalDocumentStates.length?l(e.finalIndex):(0,Y.of)()),(0,eB.reduce)((e,t)=>e.concat(t.documents),[])).pipe((0,Z.map)(e=>({loading:!1,results:e.map(e=>({document:e,memoKey:(0,h6.uuid)(),validation:{validation:[],hasError:!1,isValidating:!1}})),error:null})),(0,J.catchError)(e=>(0,Y.of)({loading:!1,results:[],error:e})))})({getClient:r,release:e}):(e=>{let{schema:t,documentPreviewStore:n,i18n:r,getClient:i,releaseId:a}=e;return n.unstable_observeDocumentIdSet("sanity::partOfRelease($releaseId)",{releaseId:a},{apiVersion:Of.apiVersion}).pipe((0,Z.map)(e=>e.documentIds||[]),(0,Q.switchMap)(e=>{if(0===e.length)return(0,Y.of)([]);let a=[];for(let t=0;t<e.length;t+=5)a.push(e.slice(t,t+5));return(0,ev.combineLatest)(a.map((e,a)=>(0,Y.of)(e).pipe((0,eU.delay)(100*(0!==a)),(0,nt.mergeMapArray)(e=>(e=>{let a={observeDocumentPairAvailability:n.unstable_observeDocumentPairAvailability,i18n:r,getClient:i,schema:t},o=n.unstable_observeDocument(e,{apiVersion:Of.apiVersion}).pipe((0,ew.filter)(Boolean),(0,Q.switchMap)(t=>n.unstable_observeDocumentPairAvailability(e).pipe((0,Z.map)(e=>({...t,publishedDocumentExists:e.published.available}))))),l=o.pipe((0,Q.switchMap)(e=>{var t,n,r,i;return t=a,q6(n=e)?(0,Y.of)({isValidating:!1,validation:[],revision:n._rev,hasError:!1}):(0,en.from)((r=()=>Promise.resolve(),"scheduler"in window&&"function"==typeof(null==(i=window.scheduler)?void 0:i.yield)?window.scheduler.yield():r())).pipe((0,Q.switchMap)(()=>PU(t,(0,Y.of)(n)).pipe((0,Z.map)(e=>({...e,hasError:e.validation.some(e=>(0,W.isValidationErrorMarker)(e))})))))}));return(0,ev.combineLatest)([o,l]).pipe((0,Z.map)(e=>{let[t,n]=e;return{document:t,validation:n,memoKey:(0,h6.uuid)()}}))})(e))).pipe((0,eU.delay)(100*a)))).pipe((0,Z.map)(e=>e.flat()))}),(0,Z.map)(e=>({loading:!1,results:e,error:null})),(0,J.catchError)(e=>(0,Y.of)({loading:!1,results:[],error:e})))})({schema:t,documentPreviewStore:n,i18n:a,getClient:r,releaseId:i}),erw[o]=l.pipe((0,em.finalize)(()=>{delete erw[o]}),(0,ep.shareReplay)(1))}return erw[o]}),(0,eI.startWith)({loading:!0,results:[],error:null}),(0,ep.shareReplay)(1))),erw[i]})({schema:l,documentPreviewStore:i,getClient:a,releaseId:e,i18n:o,releasesState$:s}),r[0]=i,r[1]=a,r[2]=o,r[3]=e,r[4]=s,r[5]=l,r[6]=t):t=r[6];let c=t;return r[7]===Symbol.for("react.memo_cache_sentinel")?(n={loading:!0,results:[],error:null},r[7]=n):n=r[7],(0,te.useObservable)(c,n)}function erj(e,t){var n;let r,i,a,o,l,s=(0,j.c)(18);s[0]!==t?(r=void 0===t?{}:t,s[0]=t,s[1]=r):r=s[1];let{includePreview:c}=r,u=void 0!==c&&c;s[2]!==e?(i=e?FF(e):"",s[2]=e,s[3]=i):i=s[3];let{results:d,loading:p,error:f}=er_(i),h=el3(),m=null==d||null==(n=d[0])?void 0:n.document,g=(null==d?void 0:d.length)||0;s[4]!==m||s[5]!==h?(a=m?h.get(m._type):null,s[4]=m,s[5]=h,s[6]=a):a=s[6];let y=a,v=u&&!!m&&!!y,b=y||void 0;s[7]!==m||s[8]!==v||s[9]!==b?(o={enabled:v,schemaType:b,value:m},s[7]=m,s[8]=v,s[9]=b,s[10]=o):o=s[10];let{value:x,isLoading:C}=Wt(o),k=u?x:void 0,w=!!u&&C;return s[11]!==g||s[12]!==f||s[13]!==m||s[14]!==p||s[15]!==k||s[16]!==w?(l={firstDocument:m,firstDocumentPreview:k,documentsCount:g,loading:p,error:f,previewLoading:w},s[11]=g,s[12]=f,s[13]=m,s[14]=p,s[15]=k,s[16]=w,s[17]=l):l=s[17],l}function erS(){let e,t,n,r=(0,j.c)(7),{state$:i}=Fz(),{releases:a,error:o,state:l}=(0,te.useObservable)(i);r[0]!==a?(e=zJ(Array.from(a.values())),r[0]=a,r[1]=e):e=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(t=["loading","initialising"],r[2]=t):t=r[2];let s=t.includes(l);return r[3]!==o||r[4]!==e||r[5]!==s?(n={data:e,error:o,loading:s},r[3]=o,r[4]=e,r[5]=s,r[6]=n):n=r[6],n}function erE(){return(0,E.useContext)(D.ReleasesUpsellContext)||erT}let erT={upsellDialogOpen:!1,mode:"default",onReleaseLimitReached:()=>null,guardWithReleaseLimitUpsell:async()=>{},telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}},erD=e=>"object"==typeof e&&null!==e&&"details"in e&&"object"==typeof e.details,erI=e=>{var t;return erD(e)&&(null==(t=e.details)?void 0:t.type)==="releaseLimitExceededError"};function erA(){let e,t=(0,j.c)(3),n=eTt(Of),{onReleaseLimitReached:r}=erE();return t[0]!==r||t[1]!==n?(e=function(e){let{client:t,onReleaseLimitReached:n}=e,r=(e,t)=>e.catch(e=>{throw!(null==t?void 0:t.dryRun)&&erI(e)&&n(e.details.limit||0),e}),i=(e,n)=>r(t.releases.create({releaseId:FF(e._id),metadata:e.metadata},n),n),a=(e,n)=>r(t.releases.publish({releaseId:FF(e)},n),n);return{archive:(e,n)=>t.releases.archive({releaseId:FF(e)},n),unarchive:(e,n)=>r(t.releases.unarchive({releaseId:FF(e)},n),n),schedule:(e,n,i)=>r(t.releases.schedule({releaseId:FF(e),publishAt:n.toISOString()},i),i),unschedule:(e,n)=>r(t.releases.unschedule({releaseId:FF(e)},n),n),createRelease:i,updateRelease:async(e,n)=>{let i=FF(e._id),a=Object.entries(e).filter(e=>{let[t,n]=e;return void 0===n}).map(e=>{let[t]=e;return"metadata.".concat(t)});return r(t.releases.edit({releaseId:i,patch:{set:{metadata:e.metadata},unset:a}},n),n)},publishRelease:a,deleteRelease:(e,n)=>t.releases.delete({releaseId:FF(e)},n),revertRelease:async(e,n,r,o)=>{await i({_id:e,metadata:{title:r.title,description:r.description,releaseType:"asap",cardinality:"many"}});let l=FF(e),s=n.map(e=>({actionType:"sanity.action.document.version.create",document:{...e,_id:(0,th.getVersionId)(e._id,l)},publishedId:(0,th.getPublishedId)(e._id)}));await t.action(s),"immediate"===o&&await a(e)},duplicateRelease:async(e,n,r)=>{if(await i({_id:e,metadata:n}),r){let n=FF(e),i=r.map(e=>({actionType:"sanity.action.document.version.create",document:{...e,_id:(0,th.getVersionId)(e._id,n)},publishedId:(0,th.getPublishedId)(e._id)}));await t.action(i)}},createVersion:async(e,n,r)=>{let i=await t.getDocument(n);if(!i)throw Error("Document with id ".concat(n," not found"));return t.createVersion({baseId:n,ifBaseRevisionId:null==i?void 0:i._rev,publishedId:(0,th.getPublishedId)(n),releaseId:e},r)},discardVersion:(e,n,r)=>t.discardVersion({releaseId:e,publishedId:(0,th.getPublishedId)(n)},!1,r),unpublishVersion:(e,n)=>{let r=(0,th.getVersionFromId)(e);if(!r)throw Error("Release ID not found for document ".concat(e));return t.unpublishVersion({releaseId:r,publishedId:(0,th.getPublishedId)(e)},n)},revertUnpublishVersion:async(e,n)=>await t.action({actionType:"sanity.action.document.edit",draftId:e,publishedId:(0,th.getPublishedId)(e),patch:{unset:["_system.delete"]}},n)}}({client:n,onReleaseLimitReached:r}),t[0]=r,t[1]=n,t[2]=e):e=t[2],e}function erO(){let e,t,n,r,i,a,o=(0,j.c)(17),l=erA(),{data:s}=erS();o[0]!==l?(e=async(e,t,n)=>{let r=RC();return await l.createRelease({_id:r,metadata:{title:e,description:"",releaseType:"scheduled",cardinality:"one",intendedPublishAt:t.toISOString()}},n),r},o[0]=l,o[1]=e):e=o[1];let c=e;o[2]!==c||o[3]!==l?(t=async(e,t,n,r)=>{let i=await c(n?"Scheduled publish of '".concat(n,"'"):"Schedule Publish",t,r),a=(0,th.getDraftId)(e),o=FF(i);return await l.createVersion(o,a,r),await l.schedule(i,t,r),i},o[2]=c,o[3]=l,o[4]=t):t=o[4];let u=t;o[5]!==l?(n=async(e,t)=>{RS(e)&&await l.unschedule(e._id,t),await l.publishRelease(e._id,t)},o[5]=l,o[6]=n):n=o[6];let d=n;o[7]!==s||o[8]!==l?(r=async(e,t)=>{let n=s.find(t=>t._id===e);if(!n)throw Error("Release with ID ".concat(e," not found"));("scheduled"===n.state||"scheduling"===n.state)&&await l.unschedule(e,t),"archived"!==n.state&&"published"!==n.state&&await l.archive(e,t),await l.deleteRelease(e,t)},o[7]=s,o[8]=l,o[9]=r):r=o[9];let p=r;o[10]!==l?(i=async(e,t,n)=>{await l.unschedule(e,n),await l.schedule(e,t,n)},o[10]=l,o[11]=i):i=o[11];let f=i;return o[12]!==u||o[13]!==p||o[14]!==d||o[15]!==f?(a={createScheduledDraft:u,publishScheduledDraft:d,deleteScheduledDraft:p,rescheduleScheduledDraft:f},o[12]=u,o[13]=p,o[14]=d,o[15]=f,o[16]=a):a=o[16],a}function erP(e){let{onClose:t,release:n,documentType:r}=e,{t:i}=IO(),a=(0,A.useToast)(),o=el3(),l=erO(),[s,c]=(0,E.useState)(!1),{firstDocument:u,firstDocumentPreview:d}=erj(n._id,{includePreview:!0}),p=r?o.get(r):null,f=(0,E.useCallback)(async()=>{c(!0);try{await l.deleteScheduledDraft(n._id),a.push({closable:!0,status:"success",description:(0,_.jsx)(IZ,{t:i,i18nKey:"release.toast.delete-schedule-draft.success",values:{title:(null==d?void 0:d.title)||i("preview.default.title-fallback")}})})}catch(e){console.error("Failed to delete scheduled draft:",e),a.push({closable:!0,status:"error",description:(0,_.jsx)(IZ,{t:i,i18nKey:"release.toast.delete-schedule-draft.error",values:{title:(null==d?void 0:d.title)||i("preview.default.title-fallback"),error:Ir(e)}})})}finally{c(!1),t()}},[n._id,l,a,i,null==d?void 0:d.title,t]);return(0,_.jsx)(B.Dialog,{id:"delete-schedule-dialog",header:i("release.dialog.delete-schedule-draft.header"),onClose:t,width:0,padding:!1,footer:{cancelButton:{disabled:s,onClick:t},confirmButton:{text:i("release.dialog.delete-schedule-draft.confirm"),tone:"critical",onClick:f,disabled:s,loading:s}},children:(0,_.jsxs)(I.Stack,{space:3,paddingX:3,marginBottom:2,children:[p&&u?(0,_.jsx)(enW,{value:u,schemaType:p}):(0,_.jsx)(DU,{}),(0,_.jsx)(I.Box,{paddingX:2,children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:i("release.dialog.delete-schedule-draft.body")})})]})})}function erM(e){let{onClose:t,release:n,documentType:r}=e,{t:i}=IO(),a=(0,A.useToast)(),o=el3(),l=erO(),[s,c]=(0,E.useState)(!1),{firstDocument:u,firstDocumentPreview:d}=erj(n._id,{includePreview:!0}),p=r?o.get(r):null,f=(0,E.useCallback)(async()=>{c(!0);try{await l.publishScheduledDraft(n),a.push({closable:!0,status:"success",description:(0,_.jsx)(IZ,{t:i,i18nKey:"release.toast.publish-scheduled-draft.success",values:{title:(null==d?void 0:d.title)||i("preview.default.title-fallback")}})})}catch(e){console.error("Failed to run scheduled draft:",e),a.push({closable:!0,status:"error",description:(0,_.jsx)(IZ,{t:i,i18nKey:"release.toast.publish-scheduled-draft.error",values:{title:(null==d?void 0:d.title)||i("preview.default.title-fallback"),error:Ir(e)}})})}finally{c(!1),t()}},[l,n,a,i,null==d?void 0:d.title,t]);return(0,_.jsx)(B.Dialog,{id:"publish-scheduled-draft-dialog","data-testid":"publish-scheduled-draft-dialog",header:i("release.dialog.publish-scheduled-draft.header"),onClose:t,width:0,padding:!1,footer:{cancelButton:{disabled:s,onClick:t},confirmButton:{text:i("release.dialog.publish-scheduled-draft.confirm"),tone:"primary",onClick:f,disabled:s,loading:s}},children:(0,_.jsxs)(I.Stack,{space:3,paddingX:3,marginBottom:2,children:[p&&u?(0,_.jsx)(enW,{value:u,schemaType:p}):(0,_.jsx)(DU,{}),(0,_.jsx)(I.Box,{paddingX:2,children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:i("release.dialog.publish-scheduled-draft.body")})})]})})}let erF={toast:[100,11e3]},erR={type:"scheduledPublishing"},erB={type:"contentReleases"},erN={schedule:{headerI18nKey:"schedule-publish-dialog.header",descriptionI18nKey:"schedule-publish-dialog.description",confirmButtonTextI18nKey:"schedule-publish-dialog.confirm"},"edit-schedule":{headerI18nKey:"release.dialog.edit-schedule.header",descriptionI18nKey:"release.dialog.edit-schedule.body",confirmButtonTextI18nKey:"release.dialog.edit-schedule.confirm"}};function erL(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P,M,F=(0,j.c)(108),{onClose:R,onSchedule:N,variant:L,loading:z,initialDate:V}=e,U=void 0!==z&&z,{t:H}=IO();F[0]!==V?(t=()=>new Date(V||new Date),F[0]=V,F[1]=t):t=F[1];let[q,W]=(0,E.useState)(t),{utcToCurrentZoneDate:Y,zoneDateToUtc:K}=K3(erB);if(F[2]!==U||F[3]!==R||F[4]!==N||F[5]!==q||F[6]!==H||F[7]!==Y||F[8]!==L||F[9]!==K){let e,t,j,E,D,A,O,P,M,z,V,G=q?Y(q):void 0;F[34]!==H?(e=GT(H),F[34]=H,F[35]=e):e=F[35];let $=e,Z=erN[L];F[36]!==q||F[37]!==K?(t=()=>!q||(0,tK.isBefore)(K(q),new Date),F[36]=q,F[37]=K,F[38]=t):t=F[38];let X=t;F[39]!==K?(j=e=>{e&&W(K((0,tG.startOfMinute)(e)))},F[39]=K,F[40]=j):j=F[40];let J=j;F[41]!==K?(E=e=>{let t=e.currentTarget.value,n=K((0,tk.parse)(t,"PP HH:mm",new Date));(0,tC.isValid)(n)&&W(n)},F[41]=K,F[42]=E):E=F[42];let Q=E;F[43]!==X||F[44]!==N||F[45]!==q?(D=async()=>{!q||X()||N(q)},F[43]=X,F[44]=N,F[45]=q,F[46]=D):D=F[46];let ee=D;F[47]!==X?(A=X(),F[47]=X,F[48]=A):A=F[48],o=A,a=B.Dialog,p="schedule-draft-dialog",F[49]!==Z.headerI18nKey||F[50]!==H?(f=H(Z.headerI18nKey),F[49]=Z.headerI18nKey,F[50]=H,F[51]=f):f=F[51],h=U?void 0:R,m=0,g=!1,F[52]!==Z.confirmButtonTextI18nKey||F[53]!==H?(O=H(Z.confirmButtonTextI18nKey),F[52]=Z.confirmButtonTextI18nKey,F[53]=H,F[54]=O):O=F[54];let et=o||U||!q;F[55]!==ee||F[56]!==U||F[57]!==O||F[58]!==et?(P={text:O,tone:"primary",onClick:ee,loading:U,disabled:et},F[55]=ee,F[56]=U,F[57]=O,F[58]=et,F[59]=P):P=F[59],F[60]!==U?(M={disabled:U},F[60]=U,F[61]=M):M=F[61],F[62]!==P||F[63]!==M?(v={confirmButton:P,cancelButton:M},F[62]=P,F[63]=M,F[64]=v):v=F[64],i=I.Stack,s=4,c=4,u=4,F[65]!==Z.descriptionI18nKey||F[66]!==H?(z=H(Z.descriptionI18nKey),F[65]=Z.descriptionI18nKey,F[66]=H,F[67]=z):z=F[67],F[68]!==z?(d=(0,_.jsx)(I.Text,{size:1,muted:!0,children:z}),F[68]=z,F[69]=d):d=F[69],r=I.Stack,T=3,F[70]!==H?(V=H("release.schedule-dialog.select-publish-date-label"),F[70]=H,F[71]=V):V=F[71],F[72]!==V?(l=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:V}),F[72]=V,F[73]=l):l=F[73],n=Gj,y=!0,b=Gy.carousel,x=J,C=Q,k=G,w=$,S=G?(0,tY.format)(G,"PP HH:mm"):"",F[2]=U,F[3]=R,F[4]=N,F[5]=q,F[6]=H,F[7]=Y,F[8]=L,F[9]=K,F[10]=n,F[11]=r,F[12]=i,F[13]=a,F[14]=o,F[15]=l,F[16]=s,F[17]=c,F[18]=u,F[19]=d,F[20]=p,F[21]=f,F[22]=h,F[23]=m,F[24]=g,F[25]=y,F[26]=v,F[27]=b,F[28]=x,F[29]=C,F[30]=k,F[31]=w,F[32]=S,F[33]=T}else n=F[10],r=F[11],i=F[12],a=F[13],o=F[14],l=F[15],s=F[16],c=F[17],u=F[18],d=F[19],p=F[20],f=F[21],h=F[22],m=F[23],g=F[24],y=F[25],v=F[26],b=F[27],x=F[28],C=F[29],k=F[30],w=F[31],S=F[32],T=F[33];return F[74]!==n||F[75]!==y||F[76]!==b||F[77]!==x||F[78]!==C||F[79]!==k||F[80]!==w||F[81]!==S?(D=(0,_.jsx)(n,{selectTime:y,monthPickerVariant:b,onChange:x,onInputChange:C,value:k,calendarLabels:w,inputValue:S,constrainSize:!1,isPastDisabled:!0,timeZoneScope:erB}),F[74]=n,F[75]=y,F[76]=b,F[77]=x,F[78]=C,F[79]=k,F[80]=w,F[81]=S,F[82]=D):D=F[82],F[83]!==r||F[84]!==l||F[85]!==D||F[86]!==T?(A=(0,_.jsx)("label",{children:(0,_.jsxs)(r,{space:T,children:[l,D]})}),F[83]=r,F[84]=l,F[85]=D,F[86]=T,F[87]=A):A=F[87],F[88]!==o||F[89]!==H?(O=o&&(0,_.jsx)(I.Card,{marginBottom:1,padding:2,radius:2,shadow:1,tone:"critical",children:(0,_.jsx)(I.Text,{size:1,children:H("release.schedule-dialog.publish-date-in-past-warning")})}),F[88]=o,F[89]=H,F[90]=O):O=F[90],F[91]!==i||F[92]!==s||F[93]!==c||F[94]!==u||F[95]!==d||F[96]!==A||F[97]!==O?(P=(0,_.jsxs)(i,{space:s,paddingX:c,paddingBottom:u,children:[d,A,O]}),F[91]=i,F[92]=s,F[93]=c,F[94]=u,F[95]=d,F[96]=A,F[97]=O,F[98]=P):P=F[98],F[99]!==a||F[100]!==p||F[101]!==f||F[102]!==h||F[103]!==m||F[104]!==g||F[105]!==v||F[106]!==P?(M=(0,_.jsx)(a,{id:p,header:f,onClose:h,width:m,padding:g,footer:v,children:P}),F[99]=a,F[100]=p,F[101]=f,F[102]=h,F[103]=m,F[104]=g,F[105]=v,F[106]=P,F[107]=M):M=F[107],M}function erz(e){let{release:t,documentType:n,disabled:r=!1,onActionComplete:i,onEditSchedule:a}=e,{t:o}=IO(),l=(0,A.useToast)(),s=erO(),[c,u]=(0,E.useState)(null),[d,p]=(0,E.useState)(!1),{firstDocumentPreview:f}=erj(null==t?void 0:t._id,{includePreview:!0}),h=(0,E.useCallback)(async e=>{if(null==t?void 0:t._id){p(!0);try{await s.rescheduleScheduledDraft(t._id,e),null==i||i()}catch(e){console.error("Failed to reschedule draft:",e),l.push({closable:!0,status:"error",description:(0,_.jsx)(IZ,{t:o,i18nKey:"release.toast.reschedule-scheduled-draft.error",values:{title:(null==f?void 0:f.title)||o("preview.default.title-fallback"),error:Ir(e)}})})}finally{p(!1),u(null)}}},[null==t?void 0:t._id,s,i,l,o,null==f?void 0:f.title]),m=(0,E.useCallback)(e=>u(e),[]),g=(0,E.useCallback)(()=>{d||u(null)},[d]);return{actions:(0,E.useMemo)(()=>{let e=r||d;return{publishNow:{icon:R.PublishIcon,text:o("release.action.publish-now"),tone:"default",onClick:()=>m("publish-now"),disabled:e,"data-testid":"publish-now-menu-item"},editSchedule:{icon:R.CalendarIcon,text:o("release.action.edit-schedule"),tone:"default",onClick:a||(()=>m("edit-schedule")),disabled:e,"data-testid":"edit-schedule-menu-item"},deleteSchedule:{icon:R.TrashIcon,text:o("release.action.delete-schedule"),tone:"critical",onClick:()=>m("delete-schedule"),disabled:e,"data-testid":"delete-schedule-menu-item"}}},[o,m,r,d,a]),dialogs:(0,E.useMemo)(()=>{if(!c||!t)return null;switch(c){case"publish-now":return(0,_.jsx)(erM,{release:t,documentType:n,onClose:g});case"edit-schedule":return(0,_.jsx)(erL,{onClose:g,onSchedule:h,variant:"edit-schedule",loading:d,initialDate:t.publishAt});case"delete-schedule":return(0,_.jsx)(erP,{release:t,documentType:n,onClose:g});default:return null}},[c,t,n,g,h,d]),isPerformingOperation:d}}function erV(){let e,t=(0,j.c)(3),n=(0,nr.useRouter)(),{document:r}=FU(),{drafts:i}=r,{enabled:a}=i,o=a?Rm:Rg;return t[0]!==o||t[1]!==n?(e=e=>{let t=e&&e!==o?e:"";n.navigate({stickyParams:{excludedPerspectives:null,perspective:t}})},t[0]=o,t[1]=n,t[2]=e):e=t[2],e}function erU(){let e,t,n,r,i,a=(0,j.c)(15),o=(0,tp.useTelemetry)(),{createVersion:l,discardVersion:s,unpublishVersion:c,revertUnpublishVersion:u}=erA(),d=erV();a[0]!==l||a[1]!==d||a[2]!==o?(e=async(e,t)=>{let n=In(t);await l(e,t),d(e),o.log(I5,{documentOrigin:n})},a[0]=l,a[1]=d,a[2]=o,a[3]=e):e=a[3];let p=e;a[4]!==s?(t=async(e,t)=>s(e,t),a[4]=s,a[5]=t):t=a[5];let f=t;a[6]!==c?(n=async e=>c(e),a[6]=c,a[7]=n):n=a[7];let h=n;a[8]!==u?(r=async e=>u(e),a[8]=u,a[9]=r):r=a[9];let m=r;return a[10]!==p||a[11]!==f||a[12]!==m||a[13]!==h?(i={createVersion:p,discardVersion:f,unpublishVersion:h,revertUnpublishVersion:m},a[10]=p,a[11]=f,a[12]=m,a[13]=h,a[14]=i):i=a[14],i}let erH="releases";function erq(e){let{onClose:t,documentId:n,documentType:r,fromPerspective:i}=e,{t:a}=IO(erH),{t:o}=IO(),{discardChanges:l}=euu((0,th.getPublishedId)(n),r),{selectedPerspective:s}=Ar(),{discardVersion:c}=erU(),u=el3(),d=(0,A.useToast)(),[p,f]=(0,E.useState)(!1),h=(0,th.isDraftId)(n)?"draft":"release",m="string"==typeof i?i:i.metadata.title,g=(0,nn.getVersionNameFromId)(n),y=u.get(r),v=(0,E.useCallback)(async()=>{if(f(!0),(0,th.isVersionId)(n))try{await c((0,th.getVersionFromId)(n)||FF(s._id),n)}catch(e){d.push({closable:!0,status:"error",title:o("release.action.discard-version.failure"),description:e.message})}else l.execute();f(!1),t()},[n,t,c,s,d,o,l]);return(0,_.jsx)(B.Dialog,{id:"discard-version-dialog",header:(0,_.jsx)(IZ,{t:a,i18nKey:"discard-version-dialog.header-".concat(h),values:{releaseTitle:m}}),onClose:t,width:0,padding:!1,footer:{cancelButton:{disabled:p,onClick:t},confirmButton:{text:a("discard-version-dialog.title-".concat(h)),onClick:v,disabled:p}},children:(0,_.jsxs)(I.Stack,{space:3,paddingX:3,marginBottom:2,children:[y?(0,_.jsx)(enW,{value:{_id:n},schemaType:y,perspectiveStack:[g]}):(0,_.jsx)(DU,{}),(0,_.jsx)(I.Box,{paddingX:2,children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:(0,_.jsx)(IZ,{t:a,i18nKey:"discard-version-dialog.description-".concat(h),values:{releaseTitle:m}})})})]})})}let erW="studio.release-form.recovery";function erY(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={getStoredReleaseData:er$,saveReleaseDataToStorage:erG,clearReleaseDataFromStorage:erK},t[0]=e):e=t[0],e}function erK(){localStorage.removeItem(erW)}function erG(e){localStorage.setItem(erW,JSON.stringify(e))}function er$(){let e=localStorage.getItem(erW);return e?JSON.parse(e):void 0}let erZ=e=>{let t,n,r=(0,j.c)(5),{tone:i}=e,a="release-avatar-".concat(i),o="var(--card-badge-".concat(i,"-icon-color)");r[0]!==o?(t={"--card-icon-color":o},r[0]=o,r[1]=t):t=r[1];let l=t;return r[2]!==a||r[3]!==l?(n=(0,_.jsx)(R.DotIcon,{"data-testid":a,style:l}),r[2]=a,r[3]=l,r[4]=n):n=r[4],n};function erX(e){let t,n,r,i,a=(0,j.c)(9),{fontSize:o,padding:l,tone:s}=e,c=void 0===o?1:o,u=void 0===l?3:l;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={borderRadius:3},a[0]=t):t=a[0],a[1]!==s?(n=(0,_.jsx)(erZ,{tone:s}),a[1]=s,a[2]=n):n=a[2],a[3]!==c||a[4]!==n?(r=(0,_.jsx)(I.Text,{size:c,children:n}),a[3]=c,a[4]=n,a[5]=r):r=a[5],a[6]!==u||a[7]!==r?(i=(0,_.jsx)(I.Box,{flex:"none",padding:u,style:t,children:r}),a[6]=u,a[7]=r,a[8]=i):i=a[8],i}let erJ="PP HH:mm",erQ=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(47),{value:y,onChange:v,timeZoneScope:b}=e,{t:x}=IO(),{timeZone:C,utcToCurrentZoneDate:k,zoneDateToUtc:w}=K3(b),{dialogTimeZoneShow:S,DialogTimeZone:E,dialogProps:T}=Gr(b);if(g[0]!==v||g[1]!==x||g[2]!==k||g[3]!==y||g[4]!==w){let e,p,f,h=y?k(y):void 0;g[16]!==v||g[17]!==w?(e=e=>{e&&v(w(e))},g[16]=v,g[17]=w,g[18]=e):e=g[18];let m=e;g[19]!==v||g[20]!==w?(p=e=>{let t=e.currentTarget.value,n=w((0,tk.parse)(t,erJ,new Date));(0,tC.isValid)(n)&&v(n)},g[19]=v,g[20]=w,g[21]=p):p=g[21];let b=p;g[22]!==x?(f=GT(x),g[22]=x,g[23]=f):f=g[23];let C=f;n=I.Flex,u=1,d="space-between",t=Gj,r=!0,i=Gy.carousel,a=m,o=b,l=C,s=h,c=h?(0,tY.format)(h,erJ):"",g[0]=v,g[1]=x,g[2]=k,g[3]=y,g[4]=w,g[5]=t,g[6]=n,g[7]=r,g[8]=i,g[9]=a,g[10]=o,g[11]=l,g[12]=s,g[13]=c,g[14]=u,g[15]=d}else t=g[5],n=g[6],r=g[7],i=g[8],a=g[9],o=g[10],l=g[11],s=g[12],c=g[13],u=g[14],d=g[15];g[24]!==t||g[25]!==r||g[26]!==i||g[27]!==a||g[28]!==o||g[29]!==l||g[30]!==s||g[31]!==c||g[32]!==b?(p=(0,_.jsx)(t,{selectTime:r,monthPickerVariant:i,onChange:a,onInputChange:o,calendarLabels:l,value:s,inputValue:c,constrainSize:!1,padding:0,isPastDisabled:!0,timeZoneScope:b}),g[24]=t,g[25]=r,g[26]=i,g[27]=a,g[28]=o,g[29]=l,g[30]=s,g[31]=c,g[32]=b,g[33]=p):p=g[33];let D="".concat(C.abbreviation);return g[34]!==S||g[35]!==D?(f=(0,_.jsx)(B.Button,{icon:R.EarthGlobeIcon,mode:"bleed",size:"default",text:D,onClick:S}),g[34]=S,g[35]=D,g[36]=f):f=g[36],g[37]!==E||g[38]!==T?(h=E&&(0,_.jsx)(E,{...T}),g[37]=E,g[38]=T,g[39]=h):h=g[39],g[40]!==n||g[41]!==p||g[42]!==f||g[43]!==h||g[44]!==u||g[45]!==d?(m=(0,_.jsxs)(n,{flex:u,justify:d,children:[p,f,h]}),g[40]=n,g[41]=p,g[42]=f,g[43]=h,g[44]=u,g[45]=d,g[46]=m):m=g[46],m},er1=F.styled.input(e=>{let{color:t,font:n}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(jg(),n.text.family,n.text.weights.bold,n.text.sizes[4].fontSize,n.text.sizes[4].lineHeight,t.input.default.enabled.fg,t.input.default.enabled.placeholder)}),er2=F.styled.textarea(e=>{let{color:t,font:n}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(jy(),n.text.family,n.text.weights.regular,n.text.sizes[2].fontSize,n.text.sizes[2].lineHeight,t.input.default.enabled.fg,t.input.default.enabled.placeholder)}),er0=e=>"archived"!==e.state&&"published"!==e.state;function er5(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(41),{release:m,onChange:g,disabled:y}=e;h[0]!==m?(t=er0(m),h[0]=m,h[1]=t):t=h[1];let v=t,b=(0,E.useRef)(null),[x,C]=(0,E.useState)(46),k=null==m?void 0:m._id,w=null==m?void 0:m.metadata.title,S=null==m?void 0:m.metadata.description;h[2]!==w||h[3]!==S?(n={title:w,description:S},h[2]=w,h[3]=S,h[4]=n):n=h[4],h[5]!==k||h[6]!==n?(r={_id:k,metadata:n},h[5]=k,h[6]=n,h[7]=r):r=h[7];let[T,D]=(0,E.useState)(r),{t:A}=IO();h[8]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{b.current&&C(b.current.scrollHeight)},a=[],h[8]=i,h[9]=a):(i=h[8],a=h[9]),(0,E.useEffect)(i,a),h[10]!==m?(l=()=>{D(m)},o=[m],h[10]=m,h[11]=o,h[12]=l):(o=h[11],l=h[12]),(0,E.useEffect)(l,o),h[13]!==g||h[14]!==m.metadata||h[15]!==T?(s=e=>{e.preventDefault();let t=e.target.value;g({...T,metadata:{...m.metadata,title:t}}),D({...T,metadata:{...m.metadata,title:t}})},h[13]=g,h[14]=m.metadata,h[15]=T,h[16]=s):s=h[16];let O=s;h[17]!==v||h[18]!==g||h[19]!==m.metadata||h[20]!==T?(c=e=>{if(e.preventDefault(),!v)return;let t=e.target.value;g({...T,metadata:{...m.metadata,description:t}}),D({...T,metadata:{...m.metadata,description:t}}),b.current&&(b.current.style.overflow="hidden",b.current.style.height="auto",b.current.style.height="".concat(b.current.scrollHeight,"px"),parseInt(b.current.style.height,10)>200&&(b.current.style.overflow="auto")),C(e.currentTarget.scrollHeight)},h[17]=v,h[18]=g,h[19]=m.metadata,h[20]=T,h[21]=c):c=h[21];let P=c,M=v||T.metadata.description,F=T.metadata.title;h[22]!==A?(u=A("release.placeholder-untitled-release"),h[22]=A,h[23]=u):u=h[23];let R=!v;return h[24]!==y||h[25]!==O||h[26]!==u||h[27]!==R||h[28]!==T.metadata.title?(d=(0,_.jsx)(er1,{onChange:O,value:F,placeholder:u,"data-testid":"release-form-title",readOnly:R,disabled:y}),h[24]=y,h[25]=O,h[26]=u,h[27]=R,h[28]=T.metadata.title,h[29]=d):d=h[29],h[30]!==y||h[31]!==P||h[32]!==v||h[33]!==x||h[34]!==M||h[35]!==A||h[36]!==T?(p=M&&(0,_.jsx)(er2,{ref:b,autoFocus:!T,value:T.metadata.description,placeholder:A("release.form.placeholder-describe-release"),onChange:P,style:{height:"".concat(x,"px"),maxHeight:200},"data-testid":"release-form-description",disabled:y,readOnly:!v}),h[30]=y,h[31]=P,h[32]=v,h[33]=x,h[34]=M,h[35]=A,h[36]=T,h[37]=p):p=h[37],h[38]!==d||h[39]!==p?(f=(0,_.jsxs)(I.Stack,{space:3,children:[d,p]}),h[38]=d,h[39]=p,h[40]=f):f=h[40],f}function er7(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,O,P,M,F,N,L,z=(0,j.c)(80),{onChange:V,value:U}=e;z[0]!==U.metadata?(t=U.metadata||{},z[0]=U.metadata,z[1]=t):t=z[1];let{releaseType:H,intendedPublishAt:q}=t,{t:W}=IO(),{getStoredReleaseData:Y,saveReleaseDataToStorage:K}=erY(),G=U._id;z[2]!==Y||z[3]!==G||z[4]!==V?(n=()=>{let e=Y();if(e){var t;V({_id:G,...{metadata:{title:e.title,description:e.description,releaseType:null!=(t=e.releaseType)?t:Ry,intendedPublishAt:e.intendedPublishAt}}})}},r=[Y,G,V],z[2]=Y,z[3]=G,z[4]=V,z[5]=n,z[6]=r):(n=z[5],r=z[6]),(0,E.useEffect)(n,r),z[7]!==V||z[8]!==K?(i=e=>{V(e),K({...e.metadata})},z[7]=V,z[8]=K,z[9]=i):i=z[9];let $=i;z[10]!==$||z[11]!==U?(a=e=>{$({...U,metadata:{...U.metadata,intendedPublishAt:e.toISOString()}})},z[10]=$,z[11]=U,z[12]=a):a=z[12];let Z=a;z[13]!==$||z[14]!==U?(o=e=>{let t=e.currentTarget.dataset.value;if(!("string"==typeof t&&Iu.includes(t)))return;let n=(0,t$.startOfHour)((0,tZ.addHours)(new Date,1));$({...U,metadata:{...U.metadata,releaseType:t,intendedPublishAt:"scheduled"===t&&n.toISOString()||void 0}})},z[13]=$,z[14]=U,z[15]=o):o=z[15];let X=o;z[16]!==$||z[17]!==U?(l=e=>{$({...U,metadata:{...U.metadata,title:e.metadata.title,description:e.metadata.description}})},z[16]=$,z[17]=U,z[18]=l):l=z[18];let J=l,Q=(0,E.useId)(),[ee,et]=(0,E.useState)(null);z[19]!==W?(s=W("release.dialog.tooltip.title"),z[19]=W,z[20]=s):s=z[20],z[21]!==Q||z[22]!==s?(c=(0,_.jsx)(I.Text,{as:"label",htmlFor:Q,children:s}),z[21]=Q,z[22]=s,z[23]=c):c=z[23],z[24]===Symbol.for("react.memo_cache_sentinel")?(u={maxWidth:304},z[24]=u):u=z[24],z[25]!==W?(d=W("release.dialog.tooltip.description"),z[25]=W,z[26]=d):d=z[26],z[27]!==d?(p=(0,_.jsx)(I.Text,{size:1,children:d}),z[27]=d,z[28]=p):p=z[28],z[29]!==W?(f=W("release.dialog.tooltip.note"),z[29]=W,z[30]=f):f=z[30],z[31]!==f?(h=(0,_.jsx)(I.Text,{muted:!0,size:1,children:f}),z[31]=f,z[32]=h):h=z[32],z[33]!==p||z[34]!==h?(m=(0,_.jsxs)(I.Stack,{space:3,style:u,children:[p,h]}),z[33]=p,z[34]=h,z[35]=m):m=z[35],z[36]===Symbol.for("react.memo_cache_sentinel")?(g=(0,_.jsx)(R.InfoOutlineIcon,{}),z[36]=g):g=z[36],z[37]!==m?(y=(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(B.Tooltip,{content:m,delay:0,placement:"right-start",portal:!0,children:g})}),z[37]=m,z[38]=y):y=z[38],z[39]!==y||z[40]!==c?(v=(0,_.jsxs)(I.Flex,{gap:2,align:"center",children:[c,y]}),z[39]=y,z[40]=c,z[41]=v):v=z[41];let en="release.type.".concat(H);z[42]!==W||z[43]!==en?(b=W(en),z[42]=W,z[43]=en,z[44]=b):b=z[44];let er=H?Rb[H].tone:"critical";return z[45]!==b||z[46]!==er?(x=(0,_.jsx)(er3,{text:b,tone:er}),z[45]=b,z[46]=er,z[47]=x):x=z[47],z[48]===Symbol.for("react.memo_cache_sentinel")?(C=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ChevronDownIcon,{})}),z[48]=C):C=z[48],z[49]!==x?(k=(0,_.jsx)(I.Button,{mode:"ghost",children:(0,_.jsxs)(I.Flex,{justify:"space-between",align:"center",children:[x,C]})}),z[49]=x,z[50]=k):k=z[50],z[51]!==ee?(w={placement:"bottom",matchReferenceWidth:!0,boundaryElement:ee},z[51]=ee,z[52]=w):w=z[52],z[53]===Symbol.for("react.memo_cache_sentinel")?(S=Object.entries(Rb),z[53]=S):S=z[53],z[54]!==X||z[55]!==W?(T=(0,_.jsx)(I.Menu,{children:S.map(e=>{let[t,n]=e,{tone:r}=n;return(0,_.jsx)(I.MenuItem,{"data-value":t,onClick:X,children:(0,_.jsx)(er3,{text:W("release.type.".concat(t)),tone:r})},t)})}),z[54]=X,z[55]=W,z[56]=T):T=z[56],z[57]!==Q||z[58]!==k||z[59]!==w||z[60]!==T?(D=(0,_.jsx)(B.MenuButton,{id:Q,ref:et,button:k,popover:w,menu:T}),z[57]=Q,z[58]=k,z[59]=w,z[60]=T,z[61]=D):D=z[61],z[62]!==Z||z[63]!==q||z[64]!==H?(O="scheduled"===H&&(0,_.jsx)(A.TabPanel,{"aria-labelledby":"release-timing-at-time-tab",flex:1,id:"release-timing-at-time",style:{outline:"none"},tabIndex:-1,children:(0,_.jsx)(erQ,{value:q?new Date(q):void 0,onChange:Z,timeZoneScope:erB})}),z[62]=Z,z[63]=q,z[64]=H,z[65]=O):O=z[65],z[66]!==O?(P=(0,_.jsx)(I.Flex,{gap:1,children:O}),z[66]=O,z[67]=P):P=z[67],z[68]!==D||z[69]!==P?(M=(0,_.jsxs)(I.Stack,{space:3,children:[D,P]}),z[68]=D,z[69]=P,z[70]=M):M=z[70],z[71]!==v||z[72]!==M?(F=(0,_.jsxs)(I.Stack,{space:4,children:[v,M]}),z[71]=v,z[72]=M,z[73]=F):F=z[73],z[74]!==J||z[75]!==U?(N=(0,_.jsx)(er5,{release:U,onChange:J}),z[74]=J,z[75]=U,z[76]=N):N=z[76],z[77]!==F||z[78]!==N?(L=(0,_.jsxs)(I.Stack,{space:5,children:[F,N]}),z[77]=F,z[78]=N,z[79]=L):L=z[79],L}let er3=e=>{let t,n,r,i=(0,j.c)(7),{tone:a,text:o}=e;return i[0]!==a?(t=(0,_.jsx)(erX,{padding:1,tone:a}),i[0]=a,i[1]=t):t=i[1],i[2]!==o?(n=(0,_.jsx)(I.Text,{children:o}),i[2]=o,i[3]=n):n=i[3],i[4]!==t||i[5]!==n?(r=(0,_.jsxs)(I.Flex,{gap:3,align:"center",children:[t,n]}),i[4]=t,i[5]=n,i[6]=r):r=i[6],r},er8={data:[],error:null,loading:!0},er4=OC((e,t,n)=>n.unstable_observeDocumentIdSet('_type == "sanity.canvas.link" && (\n            studioDocumentId in path("versions.**."+ $publishedId) || \n            studioDocumentId in [$publishedId, "drafts." + $publishedId]\n         )',{publishedId:e}).pipe((0,Z.map)(e=>e.documentIds),(0,nt.mergeMapArray)(e=>t.observable.fetch("*[_id == $id][0]{ _id, canvasDocumentId, studioDocumentId}",{id:e},{tag:"canvas.companion-docs"}).pipe((0,Z.map)(e=>{if(!(null==e?void 0:e._id))throw Error("Companion doc not ready");return e}),(0,eF.retry)({count:2,delay:e=>{if(e instanceof Error&&"Companion doc not ready"===e.message)return(0,es.timer)(1e3);throw e}}))),(0,Z.map)(e=>({error:null,data:e,loading:!1})),(0,J.catchError)(e=>(0,Y.of)({error:e,data:[],loading:!1})),(0,eI.startWith)(er8),(0,ep.shareReplay)(1)),(e,t)=>"".concat(e,"-").concat(t.config().dataset,"-").concat(t.config().projectId));function er6(){let e,t=(0,j.c)(5),n=Fa(),r=FU(),i=Fu(),a=eTt(AE);return t[0]!==i||t[1]!==n||t[2]!==a||t[3]!==r?(e=n.get({dependencies:[r,i],namespace:"CompanionDocsStore"})||function(e){let{client:t,previewStore:n}=e;return{getCompanionDocs:e=>er4((0,th.getPublishedId)(e),t,n)}}({client:a,previewStore:i}),n.set({dependencies:[r,i],namespace:"CompanionDocsStore",value:e}),t[0]=i,t[1]=n,t[2]=a,t[3]=r,t[4]=e):e=t[4],e}function er9(e){let t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(ni.default);if(t.length)throw Error("Invalid plugin configuration:\n".concat(t.map(e=>"	".concat(e)).join("\n")))}function eie(e){return"function"==typeof e?t=>{let n=e(t);return er9(n),n}:(er9(e),()=>e)}function eit(){let e,t,n=(0,j.c)(6),{data:r,error:i,loading:a}=erS();n[0]!==r?(e=Array.from(r.values()).filter(ein),n[0]=r,n[1]=e):e=n[1];let o=e;return n[2]!==o||n[3]!==i||n[4]!==a?(t={data:o,error:i,loading:a},n[2]=o,n[3]=i,n[4]=a,n[5]=t):t=n[5],t}function ein(e){return Rv.includes(e.state)}function eir(e){let t,n,r=(0,j.c)(16);r[0]!==e?({children:t,...n}=e,r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]);let i=(0,E.useContext)(D.SourceContext),{unstable_sources:a}=FU();if("source"in n){let e,{source:i}=n;return r[3]!==t||r[4]!==i?(e=(0,_.jsx)(D.SourceContext.Provider,{value:i,children:t}),r[3]=t,r[4]=i,r[5]=e):e=r[5],e}if("name"in n){let e,o,{name:l}=n;if(r[6]!==l||r[7]!==a){let t;r[9]!==l?(t=e=>e.name===l,r[9]=l,r[10]=t):t=r[10],e=a.find(t),r[6]=l,r[7]=a,r[8]=e}else e=r[8];let s=e;if(!s)throw Error("Could not find source with name `".concat(l,"` in current workspace"));if(i===s){let e;return r[11]!==t?(e=(0,_.jsx)(_.Fragment,{children:t}),r[11]=t,r[12]=e):e=r[12],e}return r[13]!==t||r[14]!==s?(o=(0,_.jsx)(D.SourceContext.Provider,{value:s,children:t}),r[13]=t,r[14]=s,r[15]=o):o=r[15],o}throw Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function eii(){let e=(0,E.useContext)(D.SourceContext);if(!e)throw Error("Could not find `source` context");return e}let eia={events:[],nextCursor:"",loading:!0,error:null};function eio(e){return{...e,id:"".concat(e.timestamp,"-").concat(e.type),origin:"events"}}let eil=Object.create(null),eis={editEvents:[],loading:!0,error:null},eic=e=>"createRelease"===e.type,eiu=e=>"events"===e.origin,eid={events:[],hasMore:!1,error:null,loading:!0},eip={events$:(0,Y.of)({events:[],nextCursor:"",loading:!1,error:null}),reloadEvents:()=>{},loadMore:()=>{}};function eif(e){let t,n,r,i,a,o=(0,j.c)(10);o[0]!==e?({time:n,...t}=e,o[0]=e,o[1]=t,o[2]=n):(t=o[1],n=o[2]),o[3]!==n?(r=n instanceof Date?n:new Date(n),o[3]=n,o[4]=r):r=o[4];let l=r,s=Rp(l,t);return o[5]!==l?(i=l.toISOString(),o[5]=l,o[6]=i):i=o[6],o[7]!==i||o[8]!==s?(a=(0,_.jsx)("time",{dateTime:i,title:s,children:s}),o[7]=i,o[8]=s,o[9]=a):a=o[9],a}function eih(e){var t;let{documentId:n,documentType:r,perspectiveStack:i}=e||{},a=el3().get(r),o=Fu(),{perspectiveStack:l}=Ar(),s=(0,E.useMemo)(()=>n&&a?eru(o,a,n,null!=i?i:l):(0,Y.of)(null),[n,o,a,i,l]),c=(0,te.useObservable)(s),u=null==(t=null==c?void 0:c.isLoading)||t,{snapshot:d}=c||{},p=null==d?void 0:d.title,f=null==d?void 0:d.subtitle,h=null==d?void 0:d.description;return{isLoading:u,value:{title:p,subtitle:f,media:null==d?void 0:d.media,description:h}}}function eim(e){let{documentId:t,documentTypeName:n,releaseId:r,releaseState:i,documentRevision:a,layout:o,isGoingToBePublished:l=!1}=e,s=Fb(t),c=(0,E.useMemo)(()=>"published"===i?{rev:"@release:".concat(FF(r)),inspect:"sanity/structure/history"}:"archived"===i?{rev:"@lastEdited",inspect:"sanity/structure/history",historyEvent:a,historyVersion:FF(r),archivedRelease:"true"}:{},[i,r,a]),u=(0,E.useMemo)(()=>(0,E.forwardRef)(function(e,a){return(0,_.jsx)(nr.IntentLink,{...e,intent:"edit",params:{id:(0,th.getPublishedId)(t),type:n,...c},searchParams:"archived"===i||"archiving"===i||"unarchiving"===i?void 0:[["perspective","published"===i?"published":FF(r)]],ref:a})}),[t,n,c,i,r]),d=(0,E.useMemo)(()=>(null==s?void 0:s.length)>0&&(0,_.jsx)(ecQ,{presence:s}),[s]),{isLoading:p,value:f}=eih({documentId:l?(0,th.getPublishedId)(t):t,documentType:n,perspectiveStack:l?[]:[FF(r)]});return(0,_.jsx)(I.Card,{tone:"inherit",as:u,radius:2,"data-as":"a",children:(0,_.jsx)(q8,{...f||{},status:d,isPlaceholder:p,layout:o})})}let eig=(0,F.styled)(I.Text)(jv()),eiy={addDocumentToRelease:"activity.event.add-document",archiveRelease:"activity.event.archive",createRelease:"activity.event.create",discardDocumentFromRelease:"activity.event.discard-document",publishRelease:"activity.event.publish",scheduleRelease:"activity.event.schedule",unarchiveRelease:"activity.event.unarchive",unscheduleRelease:"activity.event.unschedule",editRelease:"activity.event.edit"},eiv=e=>{let t,n=(0,j.c)(4),{event:r,releaseId:i}=e;return n[0]!==r.documentId||n[1]!==r.documentType||n[2]!==i?(t=(0,_.jsx)(I.Stack,{space:2,children:(0,_.jsx)(eim,{releaseId:i,documentId:r.documentId,documentTypeName:r.documentType,layout:"block"})}),n[0]=r.documentId,n[1]=r.documentType,n[2]=i,n[3]=t):t=n[3],t},eib=e=>{let t,n,r,i,a=(0,j.c)(13),{children:o,event:l}=e;a[0]===Symbol.for("react.memo_cache_sentinel")?(t={dateStyle:"full",timeStyle:"medium"},a[0]=t):t=a[0];let s=Rs(t),{t:c}=IO(erH);e:{var u;let e,t;if("editRelease"===l.type){if("asap"===l.change.releaseType){let e;a[1]!==c?(e=c("activity.event.edit-time-asap"),a[1]=c,a[2]=e):e=a[2],n=e;break e}if("undecided"===l.change.releaseType){let e;a[3]!==c?(e=c("activity.event.edit-time-undecided"),a[3]=c,a[4]=e):e=a[4],n=e;break e}}if("scheduleRelease"===l.type?e=l.publishAt:eic(l)?e=null==(u=l.change)?void 0:u.intendedPublishDate:"editRelease"===l.type&&(e=l.change.intendedPublishDate),!e){n=null;break e}a[5]!==e||a[6]!==s?(t=s.format(new Date(e)),a[5]=e,a[6]=s,a[7]=t):t=a[7],n=t}let d=n;if(!d&&eic(l))return null;let p=d||"---";return a[8]!==p?(r=(0,_.jsx)("strong",{children:p}),a[8]=p,a[9]=r):r=a[9],a[10]!==o||a[11]!==r?(i=(0,_.jsxs)("span",{children:[o," ",r]}),a[10]=o,a[11]=r,a[12]=i):i=a[12],i},eix=na.motion.create(I.Card),eiC=(0,E.memo)(e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(28),{event:h,releaseId:m,releaseTitle:g}=e,{t:y}=IO(erH);f[0]===Symbol.for("react.memo_cache_sentinel")?(t={opacity:0},n={opacity:1},r={type:"spring",bounce:0,duration:.4},f[0]=t,f[1]=n,f[2]=r):(t=f[0],n=f[1],r=f[2]),f[3]!==h.author?(i=(0,_.jsx)(Ri,{user:h.author}),f[3]=h.author,f[4]=i):i=f[4],f[5]!==h?(a={ScheduleTarget:e=>{let{children:t}=e;return(0,_.jsx)(eib,{event:h,children:t})}},f[5]=h,f[6]=a):a=f[6],f[7]!==g?(o={releaseTitle:g},f[7]=g,f[8]=o):o=f[8];let v=eiy[h.type];return f[9]!==y||f[10]!==a||f[11]!==o||f[12]!==v?(l=(0,_.jsx)(IZ,{t:y,components:a,values:o,i18nKey:v}),f[9]=y,f[10]=a,f[11]=o,f[12]=v,f[13]=l):l=f[13],f[14]!==h.timestamp?(s=(0,_.jsx)(eif,{time:h.timestamp,useTemporalPhrase:!0,minimal:!0}),f[14]=h.timestamp,f[15]=s):s=f[15],f[16]!==l||f[17]!==s?(c=(0,_.jsx)(I.Flex,{gap:2,paddingY:2,children:(0,_.jsxs)(eig,{muted:!0,size:1,children:[l," ","· ",s]})}),f[16]=l,f[17]=s,f[18]=c):c=f[18],f[19]!==h||f[20]!==m?(u="addDocumentToRelease"===h.type||"discardDocumentFromRelease"===h.type?(0,_.jsx)(eiv,{event:h,releaseId:m}):null,f[19]=h,f[20]=m,f[21]=u):u=f[21],f[22]!==c||f[23]!==u?(d=(0,_.jsxs)(I.Stack,{flex:1,children:[c,u]}),f[22]=c,f[23]=u,f[24]=d):d=f[24],f[25]!==d||f[26]!==i?(p=(0,_.jsx)(eix,{paddingX:1,paddingTop:1,paddingBottom:2,overflow:"hidden",initial:t,animate:n,transition:r,children:(0,_.jsxs)(I.Flex,{align:"flex-start",gap:2,children:[i,d]})}),f[25]=d,f[26]=i,f[27]=p):p=f[27],p},(e,t)=>e.event.id===t.event.id&&e.releaseId===t.releaseId);eiC.displayName="ReleaseActivityListItem";let eik=(0,F.styled)(I.Box)(jb()),eiw=e=>{let{events:t,releaseTitle:n,releaseId:r,hasMore:i,loadMore:a,isLoading:o}=e,l=(0,E.useRef)(null),s=(0,E.useMemo)(()=>{if(!i&&!o)return t;let e=[...t].reverse().find(eiu);if(!e&&!o)return t;if(!e)return[];let n=new Date(e.timestamp);return t.filter(e=>"translog"!==e.origin||new Date(e.timestamp)>n)},[t,i,o]),c=(0,O.useVirtualizer)({count:i||o?s.length+1:s.length,getScrollElement:()=>l.current,estimateSize:e=>(e=>e?"addDocumentToRelease"===e.type||"discardDocumentFromRelease"===e.type?70:56:40)(t[e]),overscan:10,paddingEnd:24}),u=c.getVirtualItems();return(0,E.useEffect)(()=>{let e=u.at(-1);e&&e.index>=s.length-1&&i&&a()},[s.length,i,a,u]),(0,_.jsx)(eik,{id:"virtualizer-container",ref:l,paddingX:3,children:(0,_.jsx)("div",{style:{height:"".concat(c.getTotalSize(),"px"),width:"100%",position:"relative"},children:(0,_.jsx)(no.AnimatePresence,{initial:!1,children:c.getVirtualItems().map(e=>{let t=s[e.index],i=!t;return(0,_.jsx)("div",{"data-index":e.index,ref:c.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(e.start,"px)")},children:i?(0,_.jsx)(I.Box,{paddingY:4,children:(0,_.jsx)(DU,{fill:!0})}):(0,_.jsx)(eiC,{event:t,releaseId:r,releaseTitle:n})},e.key)})})})})},ei_=na.motion.create(I.Flex),eij=F.styled.div(jx());function eiS(e){let{events:t,release:n,show:r}=e,{t:i}=IO(erH),{t:a}=IO();return(0,_.jsx)(no.AnimatePresence,{children:r&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(na.motion.div,{animate:{width:"auto",opacity:1},initial:{width:0,opacity:0},exit:{width:0,opacity:0},transition:{type:"spring",bounce:0,duration:.2},children:(0,_.jsx)(W6,{as:eij,minWidth:320,maxWidth:800,initialWidth:320,resizerPosition:"left",style:{display:"flex",flexDirection:"column",flex:"none",maxHeight:"100%"},children:(0,_.jsxs)(ei_,{flex:"none",height:"fill",direction:"column",children:[(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:i("activity.panel.title")})}),t.error&&!t.events.length&&(0,_.jsx)(I.Card,{padding:3,tone:"caution",children:(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{size:0,children:i("activity.panel.error")})})}),t.loading&&!t.events.length&&(0,_.jsx)(DU,{title:i("activity.panel.loading")}),(0,_.jsx)(eiw,{releaseTitle:n.metadata.title||a("release.placeholder-untitled-release"),releaseId:n._id,events:t.events,hasMore:t.hasMore,loadMore:t.loadMore,isLoading:t.loading})]})})})})})}let eiE=e=>{let t,n,r=(0,j.c)(5),{tone:i,icon:a}=e,o="var(--card-badge-".concat(i,"-icon-color)");r[0]!==o?(t={"--card-icon-color":o},r[0]=o,r[1]=t):t=r[1];let l=t;return r[2]!==a||r[3]!==l?(n=(0,_.jsx)(a,{style:l}),r[2]=a,r[3]=l,r[4]=n):n=r[4],n},eiT=(0,F.styled)(I.Text)(jC()),eiD=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(12);l[0]!==e?({tone:a,dimmed:n,muted:r,...i}=e,l[0]=e,l[1]=n,l[2]=r,l[3]=i,l[4]=a):(n=l[1],r=l[2],i=l[3],a=l[4]);let s=n?"":void 0,c=r?"":void 0;return l[5]!==r||l[6]!==t||l[7]!==i||l[8]!==s||l[9]!==c||l[10]!==a?(o=(0,_.jsx)(eiT,{"data-ui":"TextWithTone","data-dimmed":s,"data-muted":c,"data-tone":a,muted:r,ref:t,...i}),l[5]=r,l[6]=t,l[7]=i,l[8]=s,l[9]=c,l[10]=a,l[11]=o):o=l[11],o}),eiI={error:null,projectSubscriptions:null,isLoading:!0},eiA=new Map;function eiO(e){return(0,Y.of)({isLoading:!1,projectSubscriptions:null,error:e})}function eiP(e){return{isLoading:!1,projectSubscriptions:e,error:null}}let eiM=[],eiF={enabled:!0,error:null,features:eiM,isLoading:!0},eiR=new Map;function eiB(e){let{projectId:t,versionedClient:n}=e,r=eiR.get(t);return r||(r=(function(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})})({versionedClient:n}).pipe((0,ep.shareReplay)()),eiR.set(t,r)),r}function eiN(e){let t=eTt(AE),{projectId:n}=eii(),r=eiB({projectId:n,versionedClient:t}),i=(0,E.useMemo)(()=>r.pipe((0,Z.map)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{isLoading:!1,enabled:!!(null==t?void 0:t.includes(e)),features:t,error:null}}),(0,eI.startWith)(eiF),(0,J.catchError)(e=>(0,Y.of)({isLoading:!1,enabled:!1,features:eiM,error:e}))),[e,r]);return(0,te.useObservable)(i,eiF)}let eiL="ReleasePermissions";function eiz(){var e;let t,n,r=(0,j.c)(3),i=Fa(),a=eiN("contentReleases");return r[0]!==a||r[1]!==i?(t=i.get({dependencies:[a],namespace:eiL})||(e=a.enabled,{checkWithPermissionGuard:async function(t){for(var r,i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(!e)return!0;if(void 0!==n[t.name])return n[t.name];try{return await t(...a,{dryRun:!0,skipCrossDatasetReferenceValidation:!0}),n={...n,[t.name]:!0},!0}catch(e){return n={...n,[t.name]:!1},!(erD(e)&&(null==(r=e.details)?void 0:r.type)==="insufficientPermissionsError")}},permissions:n={}}),i.set({namespace:eiL,value:t,dependencies:[a]}),r[0]=a,r[1]=i,r[2]=t):t=r[2],t}function eiV(e){let t,n,r,i,a=(0,j.c)(13),{release:o}=e,{updateRelease:l}=erA(),[s,c]=(0,E.useState)(void 0),{checkWithPermissionGuard:u}=eiz(),[d,p]=(0,E.useState)(null);a[0]!==d||a[1]!==s||a[2]!==l?(t=e=>{clearTimeout(s),c(setTimeout(()=>{d&&l(e)},200))},a[0]=d,a[1]=s,a[2]=l,a[3]=t):t=a[3];let f=t,h=(0,E.useRef)(!1);a[4]!==u||a[5]!==o||a[6]!==l?(n=()=>(h.current=!0,er0(o)&&u(l,o).then(e=>{h.current&&p(e)}),()=>{h.current=!1}),r=[u,o,o._id,l],a[4]=u,a[5]=o,a[6]=l,a[7]=n,a[8]=r):(n=a[7],r=a[8]),(0,E.useEffect)(n,r);let m=o._id,g=!d;return a[9]!==f||a[10]!==o||a[11]!==g?(i=(0,_.jsx)(er5,{release:o,onChange:f,disabled:g},m),a[9]=f,a[10]=o,a[11]=g,a[12]=i):i=a[12],i}let eiU=()=>{let e,t,n,r,i=(0,j.c)(9);i[0]===Symbol.for("react.memo_cache_sentinel")?(e={type:"contentReleases"},i[0]=e):e=i[0];let{timeZone:a,utcToCurrentZoneDate:o,getLocalTimeZone:l}=K3(e);i[1]!==l?(t=l(),i[1]=l,i[2]=t):t=i[2];let{abbreviation:s}=t;i[3]!==s||i[4]!==a.abbreviation?(n=()=>a.abbreviation===s?"":"(".concat(a.abbreviation,")"),i[3]=s,i[4]=a.abbreviation,i[5]=n):n=i[5];let c=n;return i[6]!==c||i[7]!==o?(r=e=>{let t=Rk(e);return t?"".concat((0,tY.format)(o(t),"PPpp")," ").concat(c()):null},i[6]=c,i[7]=o,i[8]=r):r=i[8],r},eiH=e=>!!("scheduled"===e.metadata.releaseType&&e.metadata.intendedPublishAt&&(0,tI.isPast)(new Date(e.metadata.intendedPublishAt))),eiq=e=>{let t,n=(0,j.c)(7),{release:r}=e,{t:i}=IO(),a=eiU(),{metadata:o}=r;if("asap"===o.releaseType){let e;return n[0]!==i?(e=i("release.type.asap"),n[0]=i,n[1]=e):e=n[1],e}if("undecided"===o.releaseType){let e;return n[2]!==i?(e=i("release.type.undecided"),n[2]=i,n[3]=e):e=n[3],e}return n[4]!==a||n[5]!==r?(t=a(r),n[4]=a,n[5]=r,n[6]=t):t=n[6],t},eiW="PP HH:mm";function eiY(e){let{release:t}=e,n=(0,E.useRef)(null),r=(0,E.useRef)(null),i=(0,E.useRef)(null),a=(0,E.useRef)(null),{t:o}=IO(erH),{t:l}=IO(),{updateRelease:s}=erA(),c=(0,A.useToast)(),{utcToCurrentZoneDate:u,zoneDateToUtc:d}=K3(erB),p=eiU(),[f,h]=(0,E.useState)(!1),[m,g]=(0,E.useState)(t.metadata.releaseType),y=(0,E.useMemo)(()=>Rk(t),[t]),[v,b]=(0,E.useState)(!1),[x,C]=(0,E.useState)(y&&(0,tK.isBefore)(new Date(y),new Date)),[k,w]=(0,E.useState)(y?new Date(y):void 0),j=null==k?void 0:k.toISOString(),S=k&&u(k),T=(0,E.useMemo)(()=>GT(l),[l]),D=(0,E.useCallback)(()=>{let e=document.querySelector("#time-zone");if(f&&!e){let e={...t,metadata:{...t.metadata,releaseType:m,...typeof j>"u"||"scheduled"!==m?{}:{intendedPublishAt:j}}};(0,e4.default)(e,t)||(eiH(e)?(g(t.metadata.releaseType),w(t.metadata.intendedPublishAt?new Date(t.metadata.intendedPublishAt):void 0),c.push({closable:!0,status:"warning",title:l("release.schedule-dialog.publish-date-in-past-warning")})):(b(!0),s(e).finally(()=>{b(!1)}))),h(!1)}},[f,t,j,m,c,l,s]);(0,I.useClickOutsideEvent)(D,()=>[n.current,r.current,i.current,a.current]);let O=!!y&&(0,tK.isBefore)(new Date(y),new Date),P=RS(t),M=(0,E.useMemo)(()=>"published"===t.state?O&&y?o("dashboard.details.published-on",{date:p(t)}):o("dashboard.details.published-asap"):(0,_.jsx)(eiq,{release:t}),[p,O,y,t,o]),F=(0,E.useCallback)(e=>{g(e),w("scheduled"===e?null!=y?y:(0,tG.startOfMinute)(new Date):null!=y?y:void 0),C(!0)},[y]),N=(0,E.useCallback)(e=>{if(!e)return;let t=d((0,tG.startOfMinute)(new Date(e)));C((0,tK.isBefore)(t,new Date)),w(t)},[d]),L=(0,E.useCallback)(e=>{let t=d((0,tk.parse)(e.currentTarget.value,eiW,new Date));(0,tC.isValid)(t)&&(C((0,tK.isBefore)(t,new Date)),w((0,tG.startOfMinute)(t)))},[d]),z="published"===t.state?"positive":RD(t),V=(0,E.useMemo)(()=>v?(0,_.jsx)(I.Spinner,{size:1,"data-testid":"updating-release-spinner"}):"published"===t.state?(0,_.jsx)(R.PublishIcon,{}):(0,_.jsx)(erX,{tone:z,padding:0}),[v,t.state,z]),U=(0,E.useMemo)(()=>(0,_.jsxs)(I.Flex,{flex:1,gap:2,align:"center",children:[V,(0,_.jsx)(I.Text,{muted:!0,size:1,"data-testid":"release-type-label",weight:"medium",children:M}),P&&(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.LockIcon,{})})]}),[P,M,V]);return(0,_.jsx)(B.Popover,{content:(0,_.jsx)(()=>(0,_.jsxs)(I.Stack,{space:1,children:[(0,_.jsxs)(I.TabList,{space:.5,children:[(0,_.jsx)(B.Tab,{"aria-controls":"release-timing-asap",id:"release-timing-asap-tab",onClick:()=>F("asap"),label:l("release.type.asap"),selected:"asap"===m}),(0,_.jsx)(B.Tab,{"aria-controls":"release-timing-at-time",id:"release-timing-at-time-tab",onClick:()=>F("scheduled"),selected:"scheduled"===m,label:l("release.type.scheduled")}),(0,_.jsx)(B.Tab,{"aria-controls":"release-timing-undecided",id:"release-timing-undecided-tab",onClick:()=>F("undecided"),selected:"undecided"===m,label:l("release.type.undecided")})]}),"scheduled"===m&&(0,_.jsxs)(_.Fragment,{children:[x&&(0,_.jsx)(I.Card,{margin:1,padding:2,radius:2,shadow:1,tone:"critical",children:(0,_.jsx)(I.Text,{size:1,children:l("release.schedule-dialog.publish-date-in-past-warning")})}),(0,_.jsx)(Gi,{"data-testid":"date-input",value:S?(0,tY.format)(S,eiW):void 0,onChange:L}),(0,_.jsx)(G_,{ref:a,monthPickerVariant:Gy.carousel,calendarLabels:T,selectTime:!0,padding:0,value:S,onChange:N,isPastDisabled:!0,showTimeZone:!0,timeZoneScope:erB})]})]}),{}),open:f,padding:1,placement:"bottom-start",ref:n,children:"published"===t.state?(0,_.jsx)(I.Card,{tone:"default","data-testid":"published-release-type-label",padding:2,style:{borderRadius:"999px"},children:U}):(0,_.jsx)(B.Button,{disabled:P,mode:"bleed",onClick:()=>{f?D():h(!0)},ref:r,tooltipProps:{placement:"bottom",content:P&&o("type-picker.tooltip.scheduled")},selected:f,tone:z,style:{borderRadius:"999px"},"data-testid":"release-type-picker",children:U})})}let eiK=e=>e*Math.PI/180;function eiG(e){let t,n,r,i,a,o=(0,j.c)(9);o[0]!==e?({progress:t,...n}=e,o[0]=e,o[1]=t,o[2]=n):(t=o[1],n=o[2]);let l=function(e,t,n,r,i){let a=i-r;if(0===a)return[];let o=4.5*Math.cos(r)+12.5,l=n*Math.sin(r)+12.5,s=n*Math.cos(i)+e,c=n*Math.sin(i)+t;return[["M",o,l],["A",n,n,0,Math.abs(a)<=Math.PI?"0":"1",a<0?"0":"1",s,c]]}(12.5,12.5,4.5,eiK(-90),eiK(360*t-90)),s=l.length>0?"".concat(l.map(ei$).join(" ")," L 12.5 12.5 Z"):void 0;return o[3]!==s?(r=s&&(0,_.jsx)("path",{d:s,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),o[3]=s,o[4]=r):r=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)("path",{d:"M12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),o[5]=i):i=o[5],o[6]!==n||o[7]!==r?(a=(0,_.jsxs)("svg",{"data-sanity-icon":"progress-50",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[r,i]}),o[6]=n,o[7]=r,o[8]=a):a=o[8],a}function ei$(e){return e.join(" ")}function eiZ(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(34),{documents:m,layout:g}=e,y=m.length;h[0]!==m?(d=!1,p=!1,f=0,m.forEach(e=>{if(q6(e.document))f+=1;else{let t=!e.validation.isValidating;d=d||e.validation.hasError,p=p||e.validation.isValidating,t&&(f+=1)}}),t={hasError:d,isValidating:p,validatedCount:f},h[0]=m,h[1]=t):t=h[1];let{validatedCount:v,isValidating:b,hasError:x}=t,[C,k]=(0,E.useState)(!1),{t:w}=IO(erH),S="minimal"===(void 0===g?"default":g),T=v===y&&0!==v;if(h[2]!==T?(n=()=>{if(T){let e=setTimeout(()=>{k(!0)},2500);return()=>clearTimeout(e)}},h[2]=T,h[3]=n):n=h[3],h[4]!==T||h[5]!==C?(r=[T,C],h[4]=T,h[5]=C,h[6]=r):r=h[6],(0,E.useEffect)(n,r),h[7]!==b?(i=()=>{b&&k(!1)},a=[b],h[7]=b,h[8]=i,h[9]=a):(i=h[8],a=h[9]),(0,E.useEffect)(i,a),!T&&!b)return null;let D=b?"neutral":T&&C&&!x?"transparent":x?"critical":"positive",A=T&&C&&!x?"transparent":void 0,O=2*!S;return h[10]!==A?(o={background:A},h[10]=A,h[11]=o):o=h[11],h[12]!==x||h[13]!==b||h[14]!==w||h[15]!==y||h[16]!==v?(l=(0,_.jsx)(I.Text,{size:1,children:b?(0,_.jsx)(eiG,{progress:v/y}):(0,_.jsx)(B.Tooltip,{content:w(x?"summary.errors-found":"summary.all-documents-validated"),children:x?(0,_.jsx)(R.ErrorOutlineIcon,{}):(0,_.jsx)(R.CheckmarkCircleIcon,{})})}),h[12]=x,h[13]=b,h[14]=w,h[15]=y,h[16]=v,h[17]=l):l=h[17],h[18]!==x||h[19]!==S||h[20]!==b||h[21]!==C||h[22]!==w||h[23]!==y||h[24]!==v?(s=!C&&!S&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:b?w("summary.validating-documents",{validatedCount:v,totalCount:y}):w(x?"summary.all-documents-errors-found":"summary.all-documents-validated")}),h[18]=x,h[19]=S,h[20]=b,h[21]=C,h[22]=w,h[23]=y,h[24]=v,h[25]=s):s=h[25],h[26]!==s||h[27]!==l?(c=(0,_.jsxs)(I.Flex,{gap:2,children:[l,s]}),h[26]=s,h[27]=l,h[28]=c):c=h[28],h[29]!==c||h[30]!==O||h[31]!==o||h[32]!==D?(u=(0,_.jsx)(I.Card,{padding:O,radius:"full",tone:D,style:o,children:c}),h[29]=c,h[30]=O,h[31]=o,h[32]=D,h[33]=u):u=h[33],u}function eiX(e){var t,n,r,i;let a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=(0,j.c)(60),{release:k,documents:w}=e,{state:S}=k;C[0]!==k._id?(a=FF(k._id),C[0]=k._id,C[1]=a):a=C[1];let T=a,{checkWithPermissionGuard:D}=eiz(),{publishRelease:A,schedule:O}=erA(),{t:P}=IO(erH),{selectedReleaseId:M}=Ar(),F=erV(),{projectSubscriptions:N}=function(){let e,t=(0,j.c)(4),n=eTt(AE),{projectId:r}=eii();if(!eiA.get(r)){let e=(function(e){let{versionedClient:t}=e;return t.observable.request({uri:"/subscriptions/project/".concat(t.config().projectId),tag:"project-subscriptions"})})({versionedClient:n}).pipe((0,ep.shareReplay)());eiA.set(r,e)}e:{let n;if(t[0]!==r){let i=eiA.get(r);if(!i){let n;t[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Y.of)({isLoading:!1,error:null,projectSubscriptions:null}),t[3]=n):n=t[3],e=n;break e}n=i.pipe((0,Z.map)(eiP),(0,eI.startWith)(eiI),(0,J.catchError)(eiO)),t[0]=r,t[1]=n,t[2]=e}else n=t[1],e=t[2];e=n}return(0,te.useObservable)(e,eiI)}(),L=null==N?void 0:N.featureTypes.retention.features[0].attributes.maxRetentionDays,z=T===M,V=(null==k||null==(t=k.metadata)?void 0:t.releaseType)==="scheduled",U="archived"!==S&&"published"!==S,H="active"===k.state,q=H&&"u">typeof k.error,[W,K]=(0,E.useState)(!1),G=H&&W,$=(0,E.useRef)(!1);C[2]!==D||C[3]!==H||C[4]!==V||C[5]!==A||C[6]!==k._id||C[7]!==k.metadata.intendedPublishAt||C[8]!==O?(o=()=>($.current=!0,H&&(D(A,k._id).then(e=>($.current&&K(!e),null)),k.metadata.intendedPublishAt&&V&&D(O,k._id,new Date).then(e=>($.current&&K(!e),null))),()=>{$.current=!1}),l=[D,H,V,A,k._id,k.metadata.intendedPublishAt,O],C[2]=D,C[3]=H,C[4]=V,C[5]=A,C[6]=k._id,C[7]=k.metadata.intendedPublishAt,C[8]=O,C[9]=o,C[10]=l):(o=C[9],l=C[10]),(0,E.useEffect)(o,l),C[11]!==z||C[12]!==T||C[13]!==F?(s=()=>{F(z?"drafts":T)},C[11]=z,C[12]=T,C[13]=F,C[14]=s):s=C[14];let X=s;return C[15]===Symbol.for("react.memo_cache_sentinel")?(c=[3,3,4,5],C[15]=c):c=C[15],C[16]!==X||C[17]!==U||C[18]!==z||C[19]!==k.metadata.title||C[20]!==P?(u=U&&(0,_.jsx)(B.Button,{icon:z?R.PinFilledIcon:R.PinIcon,tooltipProps:{placement:"top",content:P(z?"dashboard.details.unpin-release":"dashboard.details.pin-release")},mode:"bleed",onClick:X,radius:"full",selected:z,"aria-label":z?"".concat(P("dashboard.details.unpin-release"),': "').concat(k.metadata.title,'"'):"".concat(P("dashboard.details.pin-release"),': "').concat(k.metadata.title,'"'),"aria-live":"assertive"}),C[16]=X,C[17]=U,C[18]=z,C[19]=k.metadata.title,C[20]=P,C[21]=u):u=C[21],C[22]!==k?(d="archived"!==k.state&&(0,_.jsx)(eiY,{release:k}),C[22]=k,C[23]=d):d=C[23],C[24]!==w?(p=(0,_.jsx)(eiZ,{documents:w}),C[24]=w,C[25]=p):p=C[25],C[26]!==V||C[27]!==q||C[28]!==P?(f=q&&(0,_.jsxs)(I.Flex,{gap:2,padding:2,"data-testid":"release-error-details",children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:"critical"})}),(0,_.jsx)(eiD,{size:1,tone:"critical",children:P(V?"failed-schedule-title":"failed-publish-title")})]}),C[26]=V,C[27]=q,C[28]=P,C[29]=f):f=C[29],C[30]!==G||C[31]!==P?(h=G&&(0,_.jsxs)(I.Flex,{gap:2,padding:2,"data-testid":"release-permission-error-details",children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(eiE,{icon:R.WarningOutlineIcon,tone:"caution"})}),(0,_.jsx)(eiD,{size:1,tone:"caution",children:P("permission-missing-title")})]}),C[30]=G,C[31]=P,C[32]=h):h=C[32],C[33]!==h||C[34]!==u||C[35]!==d||C[36]!==p||C[37]!==f?(m=(0,_.jsxs)(I.Flex,{gap:1,align:"center",children:[u,d,p,f,h]}),C[33]=h,C[34]=u,C[35]=d,C[36]=p,C[37]=f,C[38]=m):m=C[38],C[39]!==k?(g=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(eiV,{release:k})}),C[39]=k,C[40]=g):g=C[40],C[41]!==V||C[42]!==(null==(n=k.error)?void 0:n.message)||C[43]!==q||C[44]!==P?(y=q&&(0,_.jsx)(I.Card,{padding:4,radius:4,tone:"critical",children:(0,_.jsxs)(I.Flex,{gap:3,children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),(0,_.jsxs)(I.Stack,{space:4,children:[(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:P(V?"failed-schedule-title":"failed-publish-title")}),(0,_.jsx)(Vx,{title:P("error-details-title"),children:(0,_.jsx)(I.Text,{size:1,accent:!0,children:(0,_.jsx)("code",{children:null==(r=k.error)?void 0:r.message})})})]})]})}),C[41]=V,C[42]=null==(i=k.error)?void 0:i.message,C[43]=q,C[44]=P,C[45]=y):y=C[45],C[46]!==G||C[47]!==P?(v=G&&(0,_.jsx)(I.Card,{padding:4,radius:4,tone:"caution",children:(0,_.jsxs)(I.Flex,{gap:3,children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})}),(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Text,{size:1,children:P("permission-missing-title")}),(0,_.jsx)(I.Text,{size:1,muted:!0,children:P("permission-missing-description")})]})]})}),C[46]=G,C[47]=P,C[48]=v):v=C[48],C[49]!==U||C[50]!==L||C[51]!==S||C[52]!==P?(b=!U&&L&&(0,_.jsx)(I.Card,{padding:4,radius:4,tone:"primary","data-testid":"retention-policy-card",children:(0,_.jsxs)(I.Flex,{gap:3,children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.InfoOutlineIcon,{})}),(0,_.jsxs)(I.Stack,{space:4,children:[(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:P("archived"===S?"archive-info.title":"publish-info.title")}),(0,_.jsx)(I.Text,{size:1,accent:!0,children:P("archive-info.description",{retentionDays:L})})]})]})}),C[49]=U,C[50]=L,C[51]=S,C[52]=P,C[53]=b):b=C[53],C[54]!==m||C[55]!==g||C[56]!==y||C[57]!==v||C[58]!==b?(x=(0,_.jsx)(I.Container,{width:3,children:(0,_.jsxs)(I.Stack,{padding:3,paddingY:c,children:[m,g,y,v,b]})}),C[54]=m,C[55]=g,C[56]=y,C[57]=v,C[58]=b,C[59]=x):x=C[59],x}let eiJ=e=>{let{release:t,documents:n,disabled:r,isMenuItem:i=!1,onConfirmDialogOpen:a,onConfirmDialogClose:o}=e,l=(0,A.useToast)(),{publishRelease:s}=erA(),{checkWithPermissionGuard:c}=eiz(),{t:u}=IO(erH),{t:d}=IO(),p=Ar(),f=erV(),h=(0,tp.useTelemetry)(),[m,g]=(0,E.useState)("idle"),[y,v]=(0,E.useState)(!1),b=n.some(e=>{let{validation:t}=e;return t.isValidating}),x=n.some(e=>{let{validation:t}=e;return t.hasError}),C=r||b||x||!y,k=(0,E.useRef)(!1);(0,E.useEffect)(()=>(k.current=!0,c(s,t._id).then(e=>{k.current&&v(e)}),()=>{k.current=!1}),[c,s,t._id,t.metadata.intendedPublishAt]);let w=(0,E.useCallback)(async()=>{if(t)try{var e;g("publishing"),await s(t._id),h.log(I8),Id(p.selectedPerspective)&&(null==(e=p.selectedPerspective)?void 0:e._id)===t._id&&f("drafts")}catch(e){l.push({status:"error",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:u,i18nKey:"toast.publish.error",values:{title:t.metadata.title||d("release.placeholder-untitled-release"),error:e.message}})})}),console.error(e)}finally{null==o||o(),g("idle")}},[t,s,h,l,u,d,p.selectedPerspective,f,o]),j=(0,E.useMemo)(()=>"idle"===m?null:(0,_.jsx)(B.Dialog,{id:"confirm-publish-dialog","data-testid":"confirm-publish-dialog",header:u("publish-dialog.confirm-publish.title"),onClose:()=>{null==o||o(),g("idle")},footer:{confirmButton:{text:u("action.publish-all-documents"),tone:"positive",onClick:w,loading:"publishing"===m,disabled:"publishing"===m}},children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:u,i18nKey:"publish-dialog.confirm-publish-description",values:{title:t.metadata.title||d("release.placeholder-untitled-release"),releaseDocumentsLength:n.length,count:n.length}})})}),[m,u,w,t.metadata.title,d,n.length,o]),S=(0,E.useMemo)(()=>x||b||!y?(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsxs)(I.Flex,{align:"center",gap:3,padding:1,children:[(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:b?"default":"critical"}),0===n.length?u("publish-action.validation.no-documents"):y?b?u("publish-dialog.validation.loading"):x?u("publish-dialog.validation.error"):null:u("publish-dialog.validation.no-permission")]})}):null,[n.length,x,b,y,u]),T=(0,E.useCallback)(()=>{g("confirm"),null==a||a()},[a]),D=(0,E.useMemo)(()=>({icon:R.PublishIcon,disabled:C||"publishing"===m||0===n.length,text:u("action.publish-all-documents"),handleOnClick:T,tooltipProps:{disabled:!C,content:S,placement:"bottom"}}),[n.length,T,C,m,S,u]);return(0,_.jsxs)(_.Fragment,{children:[i?(0,_.jsx)(B.MenuItem,{tooltipProps:D.tooltipProps,icon:D.icon,disabled:D.disabled,text:D.text,onClick:D.handleOnClick,"data-testid":"publish-all-button-menu-item"}):(0,_.jsx)(B.Button,{tooltipProps:D.tooltipProps,icon:D.icon,disabled:D.disabled,text:D.text,onClick:D.handleOnClick,loading:"publishing"===m,"data-testid":"publish-all-button",tone:"positive"}),j]})};function eiQ(e,t){let{projectId:n}=e.config();return e.withConfig({apiVersion:"vX"}).observable.request({uri:"projects/".concat(n,"/new-content-release-allowed"),tag:"new-content-release-allowed-".concat(t)}).pipe((0,J.catchError)(e=>{if(console.error(e),403===e.statusCode&&"string"!=typeof e.response.body&&"data"in e.response.body)return(0,Y.of)(e.response.body);throw e}),(0,Z.map)(e=>{let{data:t}=e;return t}))}let ei1="ReleaseLimits",ei2=()=>{let e,t,n=(0,j.c)(4),r=Fa();n[0]===Symbol.for("react.memo_cache_sentinel")?(e={apiVersion:"v2025-02-19"},n[0]=e):e=n[0];let i=eTt(e);return n[1]!==i||n[2]!==r?(t=r.get({dependencies:[i],namespace:ei1})||{releaseLimits$:eiQ(i,"releaseLimits").pipe((0,Z.map)(e=>({defaultOrgActiveReleaseLimit:e.defaultOrgActiveReleaseLimit,datasetReleaseLimit:e.datasetReleaseLimit,orgActiveReleaseLimit:e.orgActiveReleaseLimit})),(0,ep.shareReplay)(1),(0,J.catchError)(e=>(console.error("Failed to fetch release limits",e),(0,Y.of)(null))))},r.set({namespace:ei1,value:t,dependencies:[i]}),n[1]=i,n[2]=r,n[3]=t):t=n[3],t},ei0=()=>{let e,t=(0,j.c)(3),{releaseLimits$:n}=ei2(),{enabled:r}=eiN("contentReleases");t[0]!==r||t[1]!==n?(e=r?n:(0,Y.of)(null),t[0]=r,t[1]=n,t[2]=e):e=t[2];let i=(0,te.useObservable)(e,null);if(!r)return!1;let{orgActiveReleaseLimit:a,defaultOrgActiveReleaseLimit:o}=i||{};return!!a&&a>(void 0===o?0:o)};function ei5(e){let{document:t}=e;return{...t,_id:(0,th.getPublishedId)(t._id)}}function ei7(e){return e._id}function ei3(e){let{documents:t}=e,[n]=t;return n}function ei8(e){return void 0!==e}function ei4(e){return null==e?void 0:e.filter(ei8)}function ei6(e){return console.error("Error in document revert states pipeline:",e),(0,Y.of)(void 0)}function ei9(e){let{document:t}=e;return(0,th.getPublishedId)(t._id)}function eae(e){return e.length>1}function eat(){return(0,Y.of)(null)}let ean=e=>{let{revertReleaseStatus:t,documents:n,setRevertReleaseStatus:r,release:i}=e,{t:a}=IO(erH),{t:o}=IO(),l=(e=>{var t;let n,r=(0,j.c)(5),i=eTt(Of),a=null==(t=e[0])?void 0:t.document._rev;e:{let t;if(!e.length){let e;r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)(!1),r[0]=e):e=r[0],n=e;break e}r[1]!==i||r[2]!==e||r[3]!==a?(t=(0,en.from)(FW(i,e.map(ei9),{fromTransaction:a,limit:2})).pipe((0,Z.map)(eae),(0,J.catchError)(eat)),r[1]=i,r[2]=e,r[3]=a,r[4]=t):t=r[4],n=t}return(0,te.useObservable)(n,null)})(n),s=(e=>{var t;let n,r,i,a,o,l,s,c=(0,j.c)(15),u=eTt(Of),d=u.observable,p=null==(t=e[0])?void 0:t.document._rev;c[0]!==u?(n=u.config(),c[0]=u,c[1]=n):n=c[1];let{dataset:f}=n,h=(0,E.useRef)(null),m=(0,E.useRef)(null),g=(0,E.useRef)(null);c[2]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{if(!h.current){let{promise:e,resolve:t}=Promise.withResolvers();h.current=e,m.current=t}},i=[],c[2]=r,c[3]=i):(r=c[2],i=c[3]),(0,E.useEffect)(r,i);e:{let t;if(!e.length){let e;c[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)(void 0),c[4]=e):e=c[4],a=e;break e}if(c[5]!==u||c[6]!==f||c[7]!==d||c[8]!==e||c[9]!==p){let n=e.map(ei5);t=(0,en.from)(FW(u,n.map(ei7),{toTransaction:p,reverse:!0})).pipe((0,Z.map)(e=>n.map(t=>({docId:t._id,revisionId:(t=>{var n;return null==(n=e.find(e=>{let{documentIDs:n}=e;return n.includes(t)}))?void 0:n.id})(t._id)}))),(0,Q.switchMap)(e=>e?(0,eL.forkJoin)(e.map(e=>{let{docId:t,revisionId:r}=e;if(!r){let{publishedDocumentExists:e,...r}=n.find(e=>e._id===t)||{};return(0,Y.of)({...r,_system:{delete:!0}})}return d.request({url:"/data/history/".concat(f,"/documents/").concat(t,"?revision=").concat(r)}).pipe((0,Z.map)(ei3),(0,J.catchError)(e=>(console.error("Error fetching document ".concat(t,":"),e),(0,Y.of)(void 0))))})):(0,Y.of)(void 0)),(0,Z.map)(ei4),(0,J.catchError)(ei6)),c[5]=u,c[6]=f,c[7]=d,c[8]=e,c[9]=p,c[10]=t}else t=c[10];a=t}let y=(0,te.useObservable)(a,null);return c[11]!==y?(o=()=>{null!==y&&(g.current=y,m.current&&(m.current(y),m.current=null,h.current=null))},l=[y],c[11]=y,c[12]=o,c[13]=l):(o=c[12],l=c[13]),(0,E.useEffect)(o,l),c[14]===Symbol.for("react.memo_cache_sentinel")?(s=()=>g.current?Promise.resolve(g.current):h.current,c[14]=s):s=c[14],s})(n),[c,u]=(0,E.useState)(!0),d=(0,A.useToast)(),p=(0,tp.useTelemetry)(),{revertRelease:f}=erA(),h=(0,nr.useRouter)(),m=(0,E.useCallback)(e=>()=>h.navigate({releaseId:FF(e)}),[h]),g=(0,E.useCallback)(async()=>{r("reverting");let e=await s(),t=RC();try{if(!e)throw Error("Unable to find documents to revert");await f(t,e,{title:a("revert-release.title",{title:i.metadata.title||o("release.placeholder-untitled-release")}),description:a("revert-release.description",{title:i.metadata.title||o("release.placeholder-untitled-release")}),releaseType:"asap"},c?"staged":"immediate"),c?(p.log(At,{revertType:"staged"}),d.push({closable:!0,status:"success",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{components:{Link:()=>(0,_.jsx)(I.Text,{size:1,weight:"medium","data-as":"a",onClick:m(t),style:{cursor:"pointer",marginBottom:"0.5rem",display:"flex"},"data-testid":"revert-stage-success-link",children:a("toast.revert-stage.success-link")})},t:a,i18nKey:"toast.revert-stage.success",values:{title:i.metadata.title||o("release.placeholder-untitled-release")}})})})):(p.log(At,{revertType:"immediate"}),d.push({closable:!0,status:"success",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:a,i18nKey:"toast.immediate-revert.success",values:{title:i.metadata.title||o("release.placeholder-untitled-release")}})})}))}catch(e){if(erI(e))return;d.push({status:"error",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:a,i18nKey:"toast.revert.error",values:{error:e.message}})})}),console.error(e)}finally{r("idle")}},[r,s,f,a,o,i.metadata.title,c,p,d,m]),y=n.length>1?"revert-dialog.confirm-revert-description_other":"revert-dialog.confirm-revert-description_one";return(0,_.jsxs)(B.Dialog,{id:"confirm-revert-dialog",header:a("revert-dialog.confirm-revert.title",{title:i.metadata.title||o("release.placeholder-untitled-release")}),onClose:()=>r("idle"),footer:{confirmButton:{text:a(c?"action.create-revert-release":"action.immediate-revert-release"),tone:"positive",onClick:g,loading:"reverting"===t,disabled:"reverting"===t}},children:[(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:a,i18nKey:y,values:{releaseDocumentsLength:n.length}})}),(0,_.jsxs)(I.Flex,{align:"center",paddingTop:4,children:[(0,_.jsx)(I.Checkbox,{onChange:()=>u(e=>!e),id:"immediate-revert-release",style:{display:"block"},checked:!c}),(0,_.jsx)(I.Box,{flex:1,paddingLeft:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)("label",{htmlFor:"immediate-revert-release",children:a("revert-dialog.confirm-revert.stage-revert-checkbox-label")})})})]}),l&&!c&&(0,_.jsx)(I.Card,{marginTop:4,padding:3,radius:2,shadow:1,tone:"critical",children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:a("revert-dialog.confirm-revert.warning-card")})})]})},ear=e=>{let t,n,r,i,a,o,l,s,c,u=(0,j.c)(25),{release:d,documents:p,disabled:f}=e,{t:h}=IO(erH),{t:m}=IO(),{guardWithReleaseLimitUpsell:g,mode:y}=erE(),[v,b]=(0,E.useState)("idle"),[x,C]=(0,E.useState)(!1),{createRelease:k}=erA(),{checkWithPermissionGuard:w}=eiz(),[S,T]=(0,E.useState)(null);u[0]!==g?(t=async()=>{C(!0),await g(()=>b("confirm")),C(!1)},u[0]=g,u[1]=t):t=u[1];let D=t,I=ei0(),A=(0,E.useRef)(!1);if(u[2]!==w||u[3]!==k?(n=()=>(A.current=!0,w(k,RE()).then(e=>{A.current&&T(e)}),()=>{A.current=!1}),r=[w,k],u[2]=w,u[3]=k,u[4]=n,u[5]=r):(n=u[4],r=u[5]),(0,E.useEffect)(n,r),!I)return null;u[6]!==h?(i=h("action.revert"),u[6]=h,u[7]=i):i=u[7];let O=!0===S;u[8]!==m?(a=m("release.action.permission.error"),u[8]=m,u[9]=a):a=u[9],u[10]!==O||u[11]!==a?(o={disabled:O,content:a},u[10]=O,u[11]=a,u[12]=o):o=u[12];let P=x||!S||f||"disabled"===y;return u[13]!==D||u[14]!==i||u[15]!==o||u[16]!==P?(l=(0,_.jsx)(B.Button,{icon:R.RestoreIcon,onClick:D,text:i,tone:"critical",tooltipProps:o,disabled:P,"data-testid":"revert-button"}),u[13]=D,u[14]=i,u[15]=o,u[16]=P,u[17]=l):l=u[17],u[18]!==p||u[19]!==d||u[20]!==v?(s="idle"!==v&&(0,_.jsx)(ean,{release:d,documents:p,revertReleaseStatus:v,setRevertReleaseStatus:b}),u[18]=p,u[19]=d,u[20]=v,u[21]=s):s=u[21],u[22]!==s||u[23]!==l?(c=(0,_.jsxs)(_.Fragment,{children:[l,s]}),u[22]=s,u[23]=l,u[24]=c):c=u[24],c},eai=e=>{let{release:t,disabled:n,documents:r,isMenuItem:i=!1,onConfirmDialogOpen:a,onConfirmDialogClose:o}=e,l=(0,A.useToast)(),{schedule:s,updateRelease:c}=erA(),{checkWithPermissionGuard:u}=eiz(),[d,p]=(0,E.useState)(!1),{t:f}=IO(erH),{t:h}=IO(),m=(0,tp.useTelemetry)(),{utcToCurrentZoneDate:g,zoneDateToUtc:y}=K3(erB),[v,b]=(0,E.useState)("idle"),[x,C]=(0,E.useState)(),[k,w]=(0,E.useState)(0),j=x?g(x):void 0,S=r.some(e=>{let{validation:t}=e;return t.isValidating}),T=r.some(e=>{let{validation:t}=e;return t.hasError}),D=n||S||!d||T,O=(0,E.useRef)(!1);(0,E.useEffect)(()=>(O.current=!0,u(s,t._id,new Date).then(e=>{O.current&&p(e)}),()=>{O.current=!1}),[u,t._id,t.metadata.intendedPublishAt,s]);let P=(0,E.useCallback)(()=>(0,tK.isBefore)(y(x||new Date),new Date),[x,y]),M=(0,E.useCallback)(async()=>{if(x){if(i){let e={...t,metadata:{...t.metadata,releaseType:"scheduled",intendedPublishAt:x.toISOString()}};(0,e4.default)(e,t)||c(e)}if(P())return void w(e=>e+1);try{b("scheduling"),await s(t._id,x),m.log(I4),l.push({closable:!0,status:"info",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:f,i18nKey:"toast.schedule.success",values:{title:t.metadata.title||h("release.placeholder-untitled-release")}})})})}catch(e){l.push({status:"error",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:f,i18nKey:"toast.schedule.error",values:{title:t.metadata.title||h("release.placeholder-untitled-release"),error:e.message}})})}),console.error(e)}finally{null==o||o(),b("idle")}}},[x,i,P,t,c,s,m,l,f,h,o]),F=(0,E.useMemo)(()=>GT(h),[h]),N=(0,E.useCallback)(e=>{e&&C(y((0,tG.startOfMinute)(e)))},[y]),L=(0,E.useCallback)(e=>{let t=e.currentTarget.value,n=y((0,tk.parse)(t,"PP HH:mm",new Date));(0,tC.isValid)(n)&&C(n)},[y]),z=(0,E.useCallback)(()=>{null==o||o(),"scheduling"!==v&&b("idle")},[o,v]),V=(0,E.useMemo)(()=>{if("idle"===v)return null;let e=P();return(0,_.jsx)(B.Dialog,{id:"confirm-schedule-dialog","data-testid":"confirm-schedule-dialog",header:f("schedule-dialog.confirm-title",{documentsLength:r.length,count:r.length}),onClose:z,footer:{confirmButton:{text:f("schedule-dialog.confirm-button"),tone:"default",onClick:M,loading:"scheduling"===v,disabled:e||"scheduling"===v},cancelButton:{disabled:"scheduling"===v}},children:(0,_.jsxs)(I.Stack,{space:3,children:[e&&(0,_.jsx)(I.Card,{marginBottom:1,padding:2,radius:2,shadow:1,tone:"critical",children:(0,_.jsx)(I.Text,{size:1,children:h("release.schedule-dialog.publish-date-in-past-warning")})}),(0,_.jsx)("label",{children:(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:h("release.schedule-dialog.select-publish-date-label")}),(0,_.jsx)(Gj,{selectTime:!0,monthPickerVariant:Gy.carousel,onChange:N,onInputChange:L,value:j,calendarLabels:F,inputValue:j?(0,tY.format)(j,"PP HH:mm"):"",constrainSize:!1,isPastDisabled:!0,timeZoneScope:erB})]})}),(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:f,i18nKey:"schedule-dialog.confirm-description",values:{title:t.metadata.title||h("release.placeholder-untitled-release"),count:r.length}})})]})},k)},[v,P,k,f,r.length,z,M,N,L,j,F,t.metadata.title,h]),U=(0,E.useCallback)(()=>{C(t.metadata.intendedPublishAt?new Date(t.metadata.intendedPublishAt):new Date),b("confirm"),null==a||a()},[a,t.metadata.intendedPublishAt]),H=(0,E.useMemo)(()=>0===r.length?f("schedule-action.validation.no-documents"):d?S?f("schedule-button-tooltip.validation.loading"):T?f("schedule-button-tooltip.validation.error"):RS(t)?f("schedule-button-tooltip.already-scheduled"):null:f("schedule-button-tooltip.validation.no-permission"),[r.length,T,S,t,d,f]),q=(0,E.useMemo)(()=>(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsxs)(I.Flex,{align:"center",gap:3,padding:1,children:[(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:S?"default":"critical"}),H]})}),[S,H]),W=(0,E.useMemo)(()=>({icon:R.ClockIcon,disabled:D||"scheduling"===v||0===r.length,text:f("action.schedule"),handleOnClick:U,tooltipProps:{disabled:!H,content:q,placement:"bottom"}}),[r.length,U,D,q,v,f,H]);return(0,_.jsxs)(_.Fragment,{children:[i?(0,_.jsx)(B.MenuItem,{tooltipProps:W.tooltipProps,icon:W.icon,disabled:W.disabled,text:W.text,onClick:W.handleOnClick,"data-testid":"schedule-button-menu-item"}):(0,_.jsx)(B.Button,{tooltipProps:W.tooltipProps,tone:"primary",icon:W.icon,disabled:W.disabled,text:W.text,onClick:W.handleOnClick,loading:"scheduling"===v,"data-testid":"schedule-button"}),V]})},eaa=e=>{let{release:t,disabled:n,documents:r}=e,i=(0,A.useToast)(),{unschedule:a}=erA(),{t:o}=IO(erH),{t:l}=IO(),s=(0,tp.useTelemetry)(),[c,u]=(0,E.useState)("idle"),d=(0,E.useCallback)(async()=>{try{u("unscheduling"),await a(t._id),s.log(I6)}catch(e){i.push({status:"error",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:o,i18nKey:"toast.unschedule.error",values:{title:t.metadata.title||l("release.placeholder-untitled-release"),error:e.message}})})}),console.error(e)}finally{u("idle")}},[a,t._id,t.metadata.title,s,i,o,l]),p=(0,E.useMemo)(()=>"idle"===c?null:(0,_.jsx)(B.Dialog,{id:"confirm-unschedule-dialog",header:o("unschedule-dialog.confirm-title"),onClose:()=>"unscheduling"!==c&&u("idle"),footer:{confirmButton:{text:o("action.unschedule"),tone:"default",onClick:d,loading:"unscheduling"===c,disabled:"unscheduling"===c},cancelButton:{disabled:"unscheduling"===c}},children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:o,i18nKey:"unschedule-dialog.confirm-description",values:{title:t.metadata.title||l("release.placeholder-untitled-release"),documentsLength:r.length,count:r.length}})})}),[t.metadata.title,r.length,d,c,o,l]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.Button,{icon:R.CloseCircleIcon,disabled:n||"unscheduling"===c,text:o("action.unschedule"),onClick:()=>u("confirm"),loading:"unscheduling"===c,"data-testid":"schedule-button"}),p]})},eao=new WeakMap,eal=0;function eas(e){let t=eao.get(e);if(t)return t;let n="".concat(e.name||e.displayName||"<anonymous>","-").concat(eal++);return eao.set(e,n),n}let eac=(0,E.memo)(e=>{let{hooks:t,keys:n,args:r,handleNext:i,handleReset:a}=e,o=(0,E.useMemo)(()=>t.map(e=>{let t=eas(e),r=n[t]||0;return[function(e){let{hook:t,id:n}=e,r=e=>{let r,i,a,o,l=(0,j.c)(9),{args:s,handleNext:c,handleReset:u}=e;l[0]!==u?(r=()=>{u(n)},l[0]=u,l[1]=r):r=l[1],l[2]!==s||l[3]!==r?(i={...s,onComplete:r},l[2]=s,l[3]=r,l[4]=i):i=l[4];let d=t(i);return l[5]!==c||l[6]!==d?(a=()=>{d?c(n,{...d,action:t.action}):c(n,d)},o=[c,d],l[5]=c,l[6]=d,l[7]=a,l[8]=o):(a=l[7],o=l[8]),(0,E.useEffect)(a,o),null},{displayName:i="HookState"}=t;return r.displayName=i,(0,E.memo)(r,(e,t)=>e.args===t.args)}({hook:e,id:t}),"".concat(t,"-").concat(r)]}),[t,n]);return(0,_.jsx)(_.Fragment,{children:o.map(e=>{let[t,n]=e;return(0,_.jsx)(t,{args:r,handleNext:i,handleReset:a},n)})})});eac.displayName="Memo(HookCollectionState)";let eau={trailing:!0};function ead(e,t){let{hooks:n}=t;return n.map(t=>{let n=eas(t);return e.get(n)}).filter(D2)}function eap(e){if("AbortError"!==e.name)throw e}function eaf(){return new Map}let eah=(0,E.memo)(e=>{let t,n,r,i,a=(0,j.c)(15),{hooks:o,args:l,children:s,group:c,onReset:u}=e,{handleReset:d,keys:p}=function(e){let t,n,r,i=(0,j.c)(6);i[0]===Symbol.for("react.memo_cache_sentinel")?(t={},i[0]=t):t=i[0];let[a,o]=(0,E.useState)(t);i[1]!==e?(n=t=>{o(e=>({...e,[t]:(e[t]||0)+1})),null==e||e()},i[1]=e,i[2]=n):n=i[2];let l=n;return i[3]!==l||i[4]!==a?(r={keys:a,handleReset:l},i[3]=l,i[4]=a,i[5]=r):r=i[5],r}(u);a[0]!==c||a[1]!==o?(t={hooks:o,group:c},a[0]=c,a[1]=o,a[2]=t):t=a[2];let{states:f,handleNext:h}=function(e){let t,n,r,i,a=(0,j.c)(13),{hooks:o,group:l}=e,[s]=(0,E.useState)(eaf);a[0]!==o||a[1]!==s?(t=()=>ead(s,{hooks:o}),a[0]=o,a[1]=s,a[2]=t):t=a[2];let[c,u]=(0,E.useState)(t),d=(0,E.useRef)(null);a[3]!==o||a[4]!==s?(n=()=>{var e,t;null==(e=d.current)||e.abort(),d.current=new AbortController,null==(t=PZ(()=>{u(ead(s,{hooks:o}))},{signal:d.current.signal}))||t.catch(eap)},a[3]=o,a[4]=s,a[5]=n):n=a[5];let p=function(e,t,n){let r,i=(0,j.c)(4);return i[0]!==e||i[1]!==n||60!==i[2]?(r=(0,M.default)(e,60,n),i[0]=e,i[1]=n,i[2]=t,i[3]=r):r=i[3],r}(n,60,eau);a[6]!==l||a[7]!==p||a[8]!==s?(r=(e,t)=>{let n=!0,r=(null==t?void 0:t.group)||["default"];if(null===t||l&&!r.includes(l))s.delete(e);else{if(s.has(e)){let r=s.get(e);n=!(0,T.default)(r,t)}s.set(e,t)}n&&p()},a[6]=l,a[7]=p,a[8]=s,a[9]=r):r=a[9];let f=r;return a[10]!==f||a[11]!==c?(i={states:c,handleNext:f},a[10]=f,a[11]=c,a[12]=i):i=a[12],i}(t);a[3]!==s||a[4]!==f?(n=s({states:f}),a[3]=s,a[4]=f,a[5]=n):n=a[5];let m=n;return a[6]!==l||a[7]!==h||a[8]!==d||a[9]!==p||a[10]!==o?(r=(0,_.jsx)(eac,{hooks:o,keys:p,args:l,handleNext:h,handleReset:d}),a[6]=l,a[7]=h,a[8]=d,a[9]=p,a[10]=o,a[11]=r):r=a[11],a[12]!==m||a[13]!==r?(i=(0,_.jsxs)(_.Fragment,{children:[r,m]}),a[12]=m,a[13]=r,a[14]=i):i=a[14],i});eah.displayName="Memo(GetHookCollectionState)";let eam=eah,eag=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(7),{states:a,onActions:o,renderChildren:l}=e;return i[0]!==o||i[1]!==a?(t=()=>{o(a)},n=[a,o],i[0]=o,i[1]=a,i[2]=t,i[3]=n):(t=i[2],n=i[3]),(0,E.useEffect)(t,n),i[4]!==l||i[5]!==a?(r=l?l({states:a}):null,i[4]=l,i[5]=a,i[6]=r):r=i[6],r}),eay=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(10),{actions:a,release:o,documents:l,onActions:s,children:c}=e;i[0]!==l||i[1]!==o?(t={release:o,documents:l},i[0]=l,i[1]=o,i[2]=t):t=i[2];let u=t;return i[3]!==c||i[4]!==s?(n=e=>{let{states:t}=e;return(0,_.jsx)(eag,{states:t,onActions:s,renderChildren:c})},i[3]=c,i[4]=s,i[5]=n):n=i[5],i[6]!==u||i[7]!==a||i[8]!==n?(r=(0,_.jsx)(eam,{hooks:a,args:u,children:n}),i[6]=u,i[7]=a,i[8]=n,i[9]=r):r=i[9],r}),eav=e=>{let t,n,r,i,a=(0,j.c)(9),{actionResult:o}=e,l=(0,nr.useRouter)(),{t:s}=IO(erH);a[0]!==o||a[1]!==l?(t=()=>{o&&"releaseId"in o&&l.navigate({releaseId:FF(o.releaseId)})},a[0]=o,a[1]=l,a[2]=t):t=a[2];let c=t;return a[3]===Symbol.for("react.memo_cache_sentinel")?(n={cursor:"pointer",marginBottom:"0.5rem",display:"flex"},a[3]=n):n=a[3],a[4]!==s?(r=s("toast.duplicate.success-link"),a[4]=s,a[5]=r):r=a[5],a[6]!==c||a[7]!==r?(i=(0,_.jsx)(I.Text,{size:1,weight:"medium","data-as":"a",onClick:c,style:n,"data-testid":"duplicate-release-success-link",children:r}),a[6]=c,a[7]=r,a[8]=i):i=a[8],i},eab={delete:{confirmDialog:{dialogId:"confirm-delete-dialog",dialogHeaderI18nKey:"delete-dialog.confirm-delete.header",dialogDescriptionI18nKey:"delete-dialog.confirm-delete-description",dialogConfirmButtonI18nKey:"delete-dialog.confirm-delete-button",confirmButtonTone:"critical"},toastSuccessI18nKey:"toast.delete.success",toastFailureI18nKey:"toast.delete.error",telemetry:I3},archive:{confirmDialog:{dialogId:"confirm-archive-dialog",dialogHeaderI18nKey:"archive-dialog.confirm-archive-header",dialogDescriptionI18nKey:"archive-dialog.confirm-archive-description",dialogConfirmButtonI18nKey:"archive-dialog.confirm-archive-button",confirmButtonTone:"critical"},toastFailureI18nKey:"toast.archive.error",telemetry:I9},unarchive:{confirmDialog:!1,toastFailureI18nKey:"toast.unarchive.error",telemetry:Ae},unschedule:{confirmDialog:!1,toastFailureI18nKey:"toast.unschedule.error",telemetry:I6},duplicate:{confirmDialog:{dialogId:"confirm-duplicate-dialog",dialogHeaderI18nKey:"duplicate-dialog.confirm-duplicate-header",dialogDescriptionI18nKey:"duplicate-dialog.confirm-duplicate-description",dialogConfirmButtonI18nKey:"duplicate-dialog.confirm-duplicate-button",confirmButtonTone:"primary"},toastSuccessI18nKey:"toast.duplicate.success",toastFailureI18nKey:"toast.duplicate.error",telemetry:An}};function eax(e){return FF(e._id)}function eaC(e){return null==e?void 0:e._rev}let eak=["_id","_type","_rev","_createdAt","_updatedAt"],eaw={};function ea_(e){let t=Fu(),n=function(e){let t,n,r=(0,j.c)(4);r[0]!==e?(t=e.map(eax),r[0]=e,r[1]=t):t=r[1];let i=t;return r[2]!==i?(n={releasesIds:i},r[2]=i,r[3]=n):n=r[3],n}(z0().data).releasesIds,[r,i]=[(0,th.getDraftId)(e),(0,th.getPublishedId)(e)],a=(0,E.useMemo)(()=>{let e=n.length>0?(0,ev.combineLatest)(Object.fromEntries(n.map(e=>[e,t.observePaths({_id:(0,th.getVersionId)(i,e)},eak).pipe((0,Z.map)(e=>eaC(e)?e:void 0))]))):(0,Y.of)(eaw);return(0,ev.combineLatest)({isLoading:(0,Y.of)(!1),draft:t.observePaths({_id:r},eak).pipe((0,Z.map)(e=>eaC(e)?e:void 0)),published:t.observePaths({_id:i},eak).pipe((0,Z.map)(e=>eaC(e)?e:void 0)),versions:e})},[r,t,i,n]);return(0,te.useObservable)(a,{isLoading:!0,versions:eaw,draft:void 0,published:void 0})}let eaj=e=>{let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(115),{ignoreCTA:f,disabled:h,release:m,setSelectedAction:g,documents:y}=e,v=!m||h,{t:b}=IO(erH),{mode:x}=erE(),{archive:C,unarchive:k,deleteRelease:w,publishRelease:S,schedule:T,createRelease:D}=erA(),{checkWithPermissionGuard:I}=eiz(),[A,O]=(0,E.useState)(null),[P,M]=(0,E.useState)(null),[F,N]=(0,E.useState)(null),[L,z]=(0,E.useState)(null),[V,U]=(0,E.useState)(null),[H,q]=(0,E.useState)(null),W=ei0(),Y=(0,E.useRef)(!1);p[0]!==C||p[1]!==I||p[2]!==D||p[3]!==w||p[4]!==S||p[5]!==m._id||p[6]!==m.state||p[7]!==v||p[8]!==T||p[9]!==k?(t=()=>(Y.current=!0,v||("published"!==m.state&&("archived"===m.state?I(k,m._id).then(e=>{Y.current&&M(e)}):(I(C,m._id).then(e=>{Y.current&&O(e)}),I(S,m._id).then(e=>{Y.current&&z(e)}),I(T,m._id,new Date).then(e=>{Y.current&&U(e)})),I(D,RE()).then(e=>{Y.current&&q(e)})),("archived"===m.state||"published"==m.state)&&I(w,m._id).then(e=>{Y.current&&N(e)})),()=>{Y.current=!1}),p[0]=C,p[1]=I,p[2]=D,p[3]=w,p[4]=S,p[5]=m._id,p[6]=m.state,p[7]=v,p[8]=T,p[9]=k,p[10]=t):t=p[10],p[11]!==C||p[12]!==I||p[13]!==D||p[14]!==w||p[15]!==x||p[16]!==S||p[17]!==m._id||p[18]!==m.metadata.releaseType||p[19]!==m.state||p[20]!==v||p[21]!==T||p[22]!==k?(n=[m._id,x,v,m.state,I,k,C,w,m.metadata.releaseType,S,T,D],p[11]=C,p[12]=I,p[13]=D,p[14]=w,p[15]=x,p[16]=S,p[17]=m._id,p[18]=m.metadata.releaseType,p[19]=m.state,p[20]=v,p[21]=T,p[22]=k,p[23]=n):n=p[23],(0,E.useEffect)(t,n),p[24]!==g?(r=e=>{g(e.currentTarget.getAttribute("data-value"))},p[24]=g,p[25]=r):r=p[25];let K=r;e:{let e,t,n,r,a;if("published"===m.state){i=null;break e}if("archived"===m.state){let e,t,n,r,a=v||"disabled"===x||!P;p[26]!==b?(e=b("action.unarchive"),p[26]=b,p[27]=e):e=p[27],p[28]!==P||p[29]!==b?(t=!P&&b("permissions.error.unarchive"),p[28]=P,p[29]=b,p[30]=t):t=p[30],p[31]!==t?(n={content:t},p[31]=t,p[32]=n):n=p[32],p[33]!==K||p[34]!==a||p[35]!==e||p[36]!==n?(r=(0,_.jsx)(B.MenuItem,{"data-value":"unarchive",disabled:a,onClick:K,icon:R.UnarchiveIcon,text:e,"data-testid":"unarchive-release-menu-item",tooltipProps:n},"unarchive"),p[33]=K,p[34]=a,p[35]=e,p[36]=n,p[37]=r):r=p[37],i=r;break e}let o=!!A&&(!["scheduled","scheduling"].includes(m.state)||h);p[38]!==A||p[39]!==b?(e=b(A?"action.archive.tooltip":"permissions.error.archive"),p[38]=A,p[39]=b,p[40]=e):e=p[40],p[41]!==o||p[42]!==e?(t={disabled:o,content:e},p[41]=o,p[42]=e,p[43]=t):t=p[43],p[44]!==b?(n=b("action.archive"),p[44]=b,p[45]=n):n=p[45],p[46]!==A||p[47]!==m.state||p[48]!==v?(r=v||["scheduled","scheduling"].includes(m.state)||!A,p[46]=A,p[47]=m.state,p[48]=v,p[49]=r):r=p[49],p[50]!==K||p[51]!==t||p[52]!==n||p[53]!==r?(a=(0,_.jsx)(B.MenuItem,{tooltipProps:t,"data-value":"archive",onClick:K,icon:R.ArchiveIcon,text:n,"data-testid":"archive-release-menu-item",disabled:r},"archive"),p[50]=K,p[51]=t,p[52]=n,p[53]=r,p[54]=a):a=p[54],i=a}let G=i;t:{let e,t,n,r;if("archived"!==m.state&&"published"!==m.state){a=null;break t}let i=v||!F;p[55]!==b?(e=b("action.delete-release"),p[55]=b,p[56]=e):e=p[56],p[57]!==F||p[58]!==b?(t=!F&&b("permissions.error.delete"),p[57]=F,p[58]=b,p[59]=t):t=p[59],p[60]!==t?(n={content:t},p[60]=t,p[61]=n):n=p[61],p[62]!==K||p[63]!==i||p[64]!==e||p[65]!==n?(r=(0,_.jsx)(B.MenuItem,{"data-value":"delete",onClick:K,disabled:i,icon:R.TrashIcon,text:e,"data-testid":"delete-release-menu-item",tooltipProps:n},"delete"),p[62]=K,p[63]=i,p[64]=e,p[65]=n,p[66]=r):r=p[66],a=r}let $=a;n:{let e,t;if(f||"scheduled"!==m.state&&"scheduling"!==m.state){o=null;break n}p[67]!==b?(e=b("action.unschedule"),p[67]=b,p[68]=e):e=p[68],p[69]!==K||p[70]!==v||p[71]!==e?(t=(0,_.jsx)(B.MenuItem,{"data-value":"unschedule",onClick:K,disabled:v,icon:R.CloseCircleIcon,text:e,"data-testid":"unschedule-release-menu-item"},"unschedule"),p[69]=K,p[70]=v,p[71]=e,p[72]=t):t=p[72],o=t}let Z=o;r:{let e,t,n;if("active"!==m.state||f&&"scheduled"===m.metadata.releaseType){l=null;break r}let r=v||!V;p[73]!==g?(t=()=>g(void 0),e=()=>g("schedule"),p[73]=g,p[74]=e,p[75]=t):(e=p[74],t=p[75]),p[76]!==y||p[77]!==m||p[78]!==e||p[79]!==r||p[80]!==t?(n=(0,_.jsx)(eai,{disabled:r,release:m,documents:y,isMenuItem:!0,onConfirmDialogClose:t,onConfirmDialogOpen:e},"schedule"),p[76]=y,p[77]=m,p[78]=e,p[79]=r,p[80]=t,p[81]=n):n=p[81],l=n}let X=l;u:{let e,t,n;if("active"!==m.state||f&&"scheduled"!==m.metadata.releaseType){s=null;break u}let r=v||!L;p[82]!==g?(e=()=>g(void 0),t=()=>g("publish"),p[82]=g,p[83]=e,p[84]=t):(e=p[83],t=p[84]),p[85]!==y||p[86]!==m||p[87]!==e||p[88]!==t||p[89]!==r?(n=(0,_.jsx)(eiJ,{release:m,documents:y,disabled:r,isMenuItem:!0,onConfirmDialogClose:e,onConfirmDialogOpen:t},"publish"),p[85]=y,p[86]=m,p[87]=e,p[88]=t,p[89]=r,p[90]=n):n=p[90],s=n}let J=s;d:{let e,t,n,r;if(!W||"published"===m.state||"archived"===m.state){c=null;break d}let i=v||!H||"disabled"===x;p[91]!==b?(e=b("action.duplicate-release"),p[91]=b,p[92]=e):e=p[92],p[93]!==H||p[94]!==b?(t=!H&&b("permissions.error.duplicate"),p[93]=H,p[94]=b,p[95]=t):t=p[95],p[96]!==t?(n={content:t},p[96]=t,p[97]=n):n=p[97],p[98]!==K||p[99]!==i||p[100]!==e||p[101]!==n?(r=(0,_.jsx)(B.MenuItem,{"data-value":"duplicate",onClick:K,disabled:i,icon:R.CopyIcon,text:e,"data-testid":"duplicate-release-menu-item",tooltipProps:n},"duplicate"),p[98]=K,p[99]=i,p[100]=e,p[101]=n,p[102]=r):r=p[102],c=r}let Q=c;p:{let e;if("scheduled"===m.metadata.releaseType){let e;p[103]!==J||p[104]!==X?(e=[X,J],p[103]=J,p[104]=X,p[105]=e):e=p[105],u=e;break p}p[106]!==J||p[107]!==X?(e=[J,X],p[106]=J,p[107]=X,p[108]=e):e=p[108],u=e}let ee=u;return p[109]!==ee||p[110]!==G||p[111]!==$||p[112]!==Q||p[113]!==Z?(d=[Z,...ee,Q,G,$],p[109]=ee,p[110]=G,p[111]=$,p[112]=Q,p[113]=Z,p[114]=d):d=p[114],d};function eaS(e){let t,n,r,i,a,o,l,s=(0,j.c)(17),{release:c}=e,{t:u}=IO();return s[0]!==c?(t=RD(c),s[0]=c,s[1]=t):t=s[1],s[2]!==t?(n=(0,_.jsx)(erX,{tone:t,padding:0}),s[2]=t,s[3]=n):n=s[3],s[4]!==c.metadata.title||s[5]!==u?(r=c.metadata.title||u("release.placeholder-untitled-release"),s[4]=c.metadata.title,s[5]=u,s[6]=r):r=s[6],s[7]!==r?(i=(0,_.jsx)(I.Text,{weight:"medium",size:1,children:r}),s[7]=r,s[8]=i):i=s[8],s[9]!==c?(a=(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(eiq,{release:c})}),s[9]=c,s[10]=a):a=s[10],s[11]!==i||s[12]!==a?(o=(0,_.jsxs)(I.Stack,{space:2,children:[i,a]}),s[11]=i,s[12]=a,s[13]=o):o=s[13],s[14]!==n||s[15]!==o?(l=(0,_.jsx)(I.Card,{border:!0,padding:1,radius:2,children:(0,_.jsxs)(I.Flex,{gap:3,padding:3,children:[n,o]})}),s[14]=n,s[15]=o,s[16]=l):l=s[16],l}let eaE={duplicate:e=>({Link:()=>(0,_.jsx)(eav,{actionResult:e})})},eaT=e=>{let{ignoreCTA:t,release:n,documentsCount:r,documents:i}=e,a=(0,A.useToast)(),o=(0,nr.useRouter)(),{archive:l,unarchive:s,deleteRelease:c,unschedule:u,duplicateRelease:d}=erA(),[p,f]=(0,E.useState)(!1),[h,m]=(0,E.useState)(),{selectedReleaseId:g}=Ar(),y=erV(),v=(0,E.useRef)(null),b=(0,E.useRef)(null),[x,C]=(0,E.useState)(!1),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=eii();return(0,E.useMemo)(()=>{var r;return(null==(r=n.releases)?void 0:r.actions)?n.releases.actions({release:e,documents:t}):[]},[n,e,t])}(n,null!=i?i:[]),[w,j]=(0,E.useState)([]),S=(0,E.useCallback)(e=>{j(e.filter(Boolean))},[]),T=!n,{t:O}=IO(erH),{t:P}=IO(),M=(0,tp.useTelemetry)(),{guardWithReleaseLimitUpsell:F}=erE(),N=n.metadata.title||P("release.placeholder-untitled-release"),L="publish"===h||"schedule"===h,z=(0,E.useCallback)(async()=>{await c(n._id),o.navigate({})},[c,n._id,o]),V=(0,E.useCallback)(async()=>F(()=>s(n._id),!0),[F,n._id,s]),U=(0,E.useCallback)(async()=>{let e=RC();return await F(async()=>{let t=null==i?void 0:i.map(e=>e.document);return d(e,{...n.metadata,title:"".concat(n.metadata.title," (").concat(O("copy-suffix"),")")},t)},!0),{releaseId:e}},[F,d,i,n.metadata,O]),H=(0,E.useCallback)(async e=>{if("publish"===e||"schedule"===e||T)return;let t=eab[e];try{("archive"===e||"delete"===e)&&g===FF(n._id)&&y("drafts"),f(!0);let i=await ({delete:z,archive:l,unarchive:V,unschedule:u,duplicate:U})[e](n._id);if(M.log(t.telemetry),"u">typeof t.toastSuccessI18nKey){var r;let n=null==(r=eaE[e])?void 0:r.call(eaE,i);a.push({closable:!0,status:"success",title:(0,_.jsx)(D.RouterContext.Provider,{value:o,children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:O,components:n,i18nKey:t.toastSuccessI18nKey,values:{title:N}})})})})}}catch(e){if(erI(e))return;"u">typeof t.toastFailureI18nKey&&a.push({status:"error",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:O,i18nKey:t.toastFailureI18nKey,values:{title:N,error:e.toString()}})})}),console.error(e)}finally{f(!1),m(void 0)}},[T,z,l,V,u,U,g,n._id,M,y,o,a,O,N]);(0,E.useEffect)(()=>{!h||L||eab[h].confirmDialog||H(h)},[r,H,L,h]);let q=(0,E.useMemo)(()=>{if(!h||L)return null;let{confirmDialog:e}=eab[h];return e?(0,_.jsx)(B.Dialog,{id:e.dialogId,"data-testid":e.dialogId,header:O(e.dialogHeaderI18nKey),onClose:()=>!p&&m(void 0),padding:!1,footer:{confirmButton:{text:O(e.dialogConfirmButtonI18nKey),tone:e.confirmButtonTone,onClick:()=>H(h),loading:p,disabled:p},cancelButton:{disabled:p}},children:(0,_.jsxs)(I.Stack,{space:4,paddingX:4,paddingBottom:4,children:[(0,_.jsx)(eaS,{release:n}),!!r&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:O,i18nKey:e.dialogDescriptionI18nKey,values:{count:r}})})]})}):null},[h,L,O,p,n,r,H]),W=()=>{C(!1)};(0,I.useClickOutsideEvent)(()=>{L||W()},()=>[v.current,b.current]);let Y=(0,E.useCallback)(e=>{e||W(),m(e)},[]),K=(0,E.useMemo)(()=>w.map((e,t)=>(0,_.jsx)(B.MenuItem,{icon:e.icon,text:e.label,disabled:e.disabled||p,onClick:(e=>()=>{e.onHandle&&(e.onHandle(),W())})(e),tooltipProps:e.title?{content:e.title}:void 0},"custom-action-".concat(t))),[w,p]),G=k.length>0;return(0,_.jsxs)(_.Fragment,{children:[G&&(0,_.jsx)(eay,{actions:k,release:n,documents:null!=i?i:[],onActions:S}),(0,_.jsx)(B.Popover,{content:(0,_.jsxs)(I.Menu,{ref:b,children:[(0,_.jsx)(eaj,{ignoreCTA:t,release:n,setSelectedAction:Y,disabled:p,documents:null!=i?i:[]}),G&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.MenuDivider,{}),K]})]}),open:x,ref:v,constrainSize:!1,fallbackPlacements:["top-end"],portal:!0,tone:"default",placement:"bottom",children:(0,_.jsx)(B.Button,{disabled:T||p,icon:p?I.Spinner:R.EllipsisHorizontalIcon,mode:"bleed",tooltipProps:{content:O("menu.tooltip")},"aria-label":O("menu.label"),"data-testid":"release-menu-button",onClick:()=>{x?W():C(!0)}})}),q]})};function eaD(e){let t,n,r,i,a,o=(0,j.c)(13),{avatar:l,text:s,testId:c}=e;o[0]!==l?(t=l&&(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsx)("div",{style:{margin:-1},children:l})}),o[0]=l,o[1]=t):t=o[1];let u=l?1:void 0;return o[2]!==s?(n=(0,_.jsx)(I.Text,{muted:!0,size:1,children:s}),o[2]=s,o[3]=n):n=o[3],o[4]!==u||o[5]!==n?(r=(0,_.jsx)(I.Box,{padding:2,paddingLeft:u,children:n}),o[4]=u,o[5]=n,o[6]=r):r=o[6],o[7]!==t||o[8]!==r?(i=(0,_.jsxs)(I.Flex,{children:[t,r]}),o[7]=t,o[8]=r,o[9]=i):i=o[9],o[10]!==i||o[11]!==c?(a=(0,_.jsx)(I.Card,{"data-testid":c,children:i}),o[10]=i,o[11]=c,o[12]=a):a=o[12],a}let eaI={createRelease:"footer.status.created",publishRelease:"footer.status.published",archiveRelease:"footer.status.archived",unarchiveRelease:"footer.status.unarchived"};function eaA(e){let t,n,r=(0,j.c)(13),{events:i,release:a}=e,{t:o}=IO(erH);r[0]!==i?(t=[i.find(eic),i.find(eaO)].filter(D2),r[0]=i,r[1]=t):t=r[1];let l=t;if(!l.length){let e,t,n,i;return r[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(Re,{$size:0}),r[2]=e):e=r[2],r[3]!==o?(t=o(eaI.createRelease),r[3]=o,r[4]=t):t=r[4],r[5]!==a._createdAt?(n=(0,_.jsx)(eif,{time:a._createdAt,useTemporalPhrase:!0,minimal:!0}),r[5]=a._createdAt,r[6]=n):n=r[6],r[7]!==t||r[8]!==n?(i=(0,_.jsx)(I.Flex,{flex:1,gap:1,children:(0,_.jsx)(eaD,{avatar:e,text:(0,_.jsxs)(_.Fragment,{children:[t," ",n]})})}),r[7]=t,r[8]=n,r[9]=i):i=r[9],i}return r[10]!==l||r[11]!==o?(n=(0,_.jsx)(I.Flex,{flex:1,gap:1,children:l.map(e=>(0,_.jsx)(eaD,{testId:"status-".concat(e.type),avatar:e.author&&(0,_.jsx)(Ri,{size:0,user:e.author}),text:(0,_.jsxs)(_.Fragment,{children:[o(eaI[e.type])," ",(0,_.jsx)(eif,{time:e.timestamp,useTemporalPhrase:!0,minimal:!0})]})},e.id))}),r[10]=l,r[11]=o,r[12]=n):n=r[12],n}function eaO(e){return"publishRelease"===e.type||"archiveRelease"===e.type||"unarchiveRelease"===e.type}function eaP(e){let t,n,r,i,a,o,l=(0,j.c)(30),{documents:s,release:c,events:u}=e;e:{if("archived"===c.state){t=null;break e}if(RS(c)){let e,n=!s.length;l[0]!==s||l[1]!==c||l[2]!==n?(e=(0,_.jsx)(eaa,{release:c,documents:s,disabled:n}),l[0]=s,l[1]=c,l[2]=n,l[3]=e):e=l[3],t=e;break e}if("active"===c.state){if("scheduled"===c.metadata.releaseType){let e,n=!s.length;l[4]!==s||l[5]!==c||l[6]!==n?(e=(0,_.jsx)(eai,{release:c,documents:s,disabled:n}),l[4]=s,l[5]=c,l[6]=n,l[7]=e):e=l[7],t=e;break e}if("asap"===c.metadata.releaseType){let e,n=!s.length;l[8]!==s||l[9]!==c||l[10]!==n?(e=(0,_.jsx)(eiJ,{release:c,documents:s,disabled:n}),l[8]=s,l[9]=c,l[10]=n,l[11]=e):e=l[11],t=e;break e}}if("published"===c.state){let e,n=!s.length;l[12]!==s||l[13]!==c||l[14]!==n?(e=(0,_.jsx)(ear,{release:c,documents:s,disabled:n}),l[12]=s,l[13]=c,l[14]=n,l[15]=e):e=l[15],t=e;break e}t=null}let d=t;l[16]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Card,{borderTop:!0,marginX:2,style:{opacity:.6}}),l[16]=n):n=l[16],l[17]!==u||l[18]!==c?(r=(0,_.jsx)(I.Flex,{flex:1,gap:1,children:(0,_.jsx)(eaA,{events:u,release:c})}),l[17]=u,l[18]=c,l[19]=r):r=l[19];let p="undecided"!==c.metadata.releaseType;return l[20]!==s||l[21]!==c||l[22]!==p?(i=(0,_.jsx)(eaT,{release:c,documentsCount:s.length,documents:s,ignoreCTA:p}),l[20]=s,l[21]=c,l[22]=p,l[23]=i):i=l[23],l[24]!==d||l[25]!==i?(a=(0,_.jsxs)(I.Flex,{flex:"none",gap:1,"data-testid":"release-dashboard-footer-actions",children:[d,i]}),l[24]=d,l[25]=i,l[26]=a):a=l[26],l[27]!==r||l[28]!==a?(o=(0,_.jsxs)(I.Card,{flex:"none",children:[n,(0,_.jsxs)(I.Flex,{padding:3,children:[r,a]})]}),l[27]=r,l[28]=a,l[29]=o):o=l[29],o}let eaM="date",eaF="group",eaR="view";function eaB(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(34),{inspector:m,release:g,setInspector:y}=e,{t:v}=IO(erH),{t:b}=IO();h[0]!==g.metadata.title||h[1]!==b?(t=g.metadata.title||b("release.placeholder-untitled-release"),h[0]=g.metadata.title,h[1]=b,h[2]=t):t=h[2];let x=t,C=(0,nr.useRouter)();h[3]!==g.state||h[4]!==C?(n=()=>{let e="archived"!==g.state&&"published"!==g.state;C.navigate({_searchParams:e?void 0:[[eaF,"archived"]]})},h[3]=g.state,h[4]=C,h[5]=n):n=h[5];let k=n;h[6]!==y?(r=()=>{y(eaN)},h[6]=y,h[7]=r):r=h[7];let w=r;h[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Box,{paddingY:2,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ChevronRightIcon,{})})}),h[8]=i):i=h[8],h[9]!==v?(a=v("overview.title"),h[9]=v,h[10]=a):a=h[10],h[11]!==k||h[12]!==a?(o=(0,_.jsx)(I.Button,{mode:"bleed",onClick:k,text:a,textWeight:"regular",padding:2,"data-testid":"back-to-releases-button"}),h[11]=k,h[12]=a,h[13]=o):o=h[13],h[14]!==b||h[15]!==x?(l=x||b("release.placeholder-untitled-release"),h[14]=b,h[15]=x,h[16]=l):l=h[16],h[17]!==x?(s=x?void 0:{opacity:.5},h[17]=x,h[18]=s):s=h[18],h[19]!==l||h[20]!==s?(c=(0,_.jsx)(I.Button,{mode:"bleed",text:l,textWeight:"semibold",padding:2,style:s}),h[19]=l,h[20]=s,h[21]=c):c=h[21],h[22]!==o||h[23]!==c?(u=(0,_.jsx)(I.Flex,{flex:1,gap:1,children:(0,_.jsxs)(A.Breadcrumbs,{space:0,separator:i,children:[o,c]})}),h[22]=o,h[23]=c,h[24]=u):u=h[24];let S="activity"===m;return h[25]!==v?(d=v("dashboard.details.activity"),h[25]=v,h[26]=d):d=h[26],h[27]!==w||h[28]!==S||h[29]!==d?(p=(0,_.jsx)(I.Flex,{flex:"none",gap:2,children:(0,_.jsx)(I.Button,{icon:R.RestoreIcon,mode:"bleed",onClick:w,padding:2,selected:S,space:2,text:d})}),h[27]=w,h[28]=S,h[29]=d,h[30]=p):p=h[30],h[31]!==p||h[32]!==u?(f=(0,_.jsxs)(I.Flex,{align:"flex-start",children:[u,p]}),h[31]=p,h[32]=u,h[33]=f):f=h[33],f}function eaN(e){return"activity"===e?void 0:"activity"}let eaL={textAlign:"center",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},eaz={justifyContent:"center",alignItems:"center",height:"100%"},eaV=e=>{let t,n,r=(0,j.c)(10),{emptyState:i,colSpan:a}=e;if("string"==typeof i){let e,t;return r[0]!==i?(e=(0,_.jsx)(I.Text,{muted:!0,size:1,children:i}),r[0]=i,r[1]=e):e=r[1],r[2]!==a||r[3]!==e?(t=(0,_.jsx)(I.Card,{borderBottom:!0,display:"flex",padding:4,as:"tr",style:eaz,children:(0,_.jsx)("td",{colSpan:a,style:eaL,children:e})}),r[2]=a,r[3]=e,r[4]=t):t=r[4],t}return r[5]!==i?(t=(0,_.jsx)(i,{}),r[5]=i,r[6]=t):t=r[6],r[7]!==a||r[8]!==t?(n=(0,_.jsx)(I.Card,{borderBottom:!0,display:"flex",padding:4,as:"tr",style:eaz,children:(0,_.jsx)("td",{colSpan:a,style:eaL,children:t})}),r[7]=a,r[8]=t,r[9]=n):n=r[9],n},eaU=e=>{let t,n,r,i=(0,j.c)(7),{children:a,defaultSort:o}=e,[l,s]=(0,E.useState)(null),[c,u]=(0,E.useState)(o||null);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{u(t=>(null==t?void 0:t.column)===e?{...t,direction:"asc"===t.direction?"desc":"asc"}:{column:String(e),direction:"desc"})},i[0]=t):t=i[0];let d=t;i[1]!==l||i[2]!==c?(n={searchTerm:l,setSearchTerm:s,sort:c,setSortColumn:d},i[1]=l,i[2]=c,i[3]=n):n=i[3];let p=n;return i[4]!==a||i[5]!==p?(r=(0,_.jsx)(D.TableContext.Provider,{value:p,children:a}),i[4]=a,i[5]=p,i[6]=r):r=i[6],r},eaH=()=>{let e=(0,E.useContext)(D.TableContext);if(!e)throw Error("useTableContext must be used within a TableProvider");return e},eaq=na.motion.create(R.ArrowUpIcon),eaW=e=>{let t,n,r,i=(0,j.c)(8),{headers:a,searchDisabled:o}=e;if(i[0]===Symbol.for("react.memo_cache_sentinel")?(t={paddingInline:"max(\n          calc((100% - var(--maxInlineSize)) / 2),\n          var(--paddingInline)\n        )"},i[0]=t):t=i[0],i[1]!==a||i[2]!==o){let e;i[4]!==o?(e=e=>{let{header:t,style:n,width:r,id:i,sorting:a}=e;return!!t&&(0,_.jsx)(t,{headerProps:{as:"th",id:String(i),style:{...n,width:r||void 0}},header:{id:i,sorting:a},searchDisabled:o},String(i))},i[4]=o,i[5]=e):e=i[5],n=a.map(e),i[1]=a,i[2]=o,i[3]=n}else n=i[3];return i[6]!==n?(r=(0,_.jsx)(I.Card,{as:"thead",borderBottom:!0,children:(0,_.jsx)(I.Flex,{as:"tr",style:t,children:n})}),i[6]=n,i[7]=r):r=i[7],r},eaY={SortHeaderButton:e=>{let t,n,r,i,a,o=(0,j.c)(12),{header:l,text:s}=e,{sort:c,setSortColumn:u}=eaH(),d=180*((null==c?void 0:c.direction)!=="asc");o[0]!==d?(t={rotate:d},o[0]=d,o[1]=t):t=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(n={duration:.25,ease:"easeInOut"},o[2]=n):n=o[2],o[3]!==t?(r=(0,_.jsx)(eaq,{initial:!1,animate:t,transition:n}),o[3]=t,o[4]=r):r=o[4];let p=r,f=l.sorting&&(null==c?void 0:c.column)===l.id?p:void 0;return o[5]!==l.id||o[6]!==u?(i=()=>u(String(l.id)),o[5]=l.id,o[6]=u,o[7]=i):i=o[7],o[8]!==f||o[9]!==i||o[10]!==s?(a=(0,_.jsx)(B.Button,{iconRight:f,onClick:i,mode:"bleed",size:"default",text:s}),o[8]=f,o[9]=i,o[10]=s,o[11]=a):a=o[11],a},TableHeaderSearch:e=>{let t,n,r,i,a,o=(0,j.c)(16),{headerProps:l,searchDisabled:s,placeholder:c}=e,{t:u}=IO(),{setSearchTerm:d,searchTerm:p}=eaH();o[0]!==c||o[1]!==u?(t=c||u("search.placeholder"),o[0]=c,o[1]=u,o[2]=t):t=o[2];let f=p||"";o[3]!==d?(n=e=>d(e.currentTarget.value),r=()=>d(""),o[3]=d,o[4]=n,o[5]=r):(n=o[4],r=o[5]);let h=!!p;return o[6]!==s||o[7]!==t||o[8]!==f||o[9]!==n||o[10]!==r||o[11]!==h?(i=(0,_.jsx)(I.TextInput,{border:!1,fontSize:1,icon:R.SearchIcon,placeholder:t,radius:3,value:f,disabled:s,onChange:n,onClear:r,clearButton:h}),o[6]=s,o[7]=t,o[8]=f,o[9]=n,o[10]=r,o[11]=h,o[12]=i):i=o[12],o[13]!==l||o[14]!==i?(a=(0,_.jsx)(I.Stack,{...l,flex:1,paddingY:2,paddingRight:3,sizing:"border",children:i}),o[13]=l,o[14]=i,o[15]=a):a=o[15],a},BasicHeader:e=>{let t,n=(0,j.c)(2),{text:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:r})}),n[0]=r,n[1]=t):t=n[1],t}},eaK=e=>{let t,n,r,i=(0,j.c)(17),{isEmptyState:a,header:o,content:l,contentHeight:s}=e;if(a){let e,t,n,r,a,s;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e={height:"100%",display:"grid",gridTemplateRows:"auto 1fr"},i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t={height:"100%",position:"relative",overflow:"hidden"},i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n={width:"100%",height:"100%"},r={height:"100%"},i[2]=n,i[3]=r):(n=i[2],r=i[3]),i[4]!==l?(a=(0,_.jsx)(I.Box,{style:t,as:"div",children:(0,_.jsx)("table",{style:n,children:(0,_.jsx)("tbody",{style:r,children:l})})}),i[4]=l,i[5]=a):a=i[5],i[6]!==o||i[7]!==a?(s=(0,_.jsxs)("div",{style:e,children:[o,a]}),i[6]=o,i[7]=a,i[8]=s):s=i[8],s}return i[9]!==s?(t={height:s,position:"relative"},i[9]=s,i[10]=t):t=i[10],i[11]!==l||i[12]!==t?(n=(0,_.jsx)(I.Box,{style:t,as:"tbody",children:l}),i[11]=l,i[12]=t,i[13]=n):n=i[13],i[14]!==o||i[15]!==n?(r=(0,_.jsxs)(I.Stack,{as:"table",children:[o,n]}),i[14]=o,i[15]=n,i[16]=r):r=i[16],r},eaG=e=>{var t,n,r;let{columnDefs:i,data:a,emptyState:o,searchFilter:l,rowId:s,rowActions:c,loading:u=!1,rowProps:d=()=>({}),scrollContainerRef:p,hideTableInlinePadding:f=!1}=e,{searchTerm:h,sort:m}=eaH(),g=(0,E.useRef)(null),y=(0,E.useMemo)(()=>{let e=h&&l?l(a,h):a;if(!m)return e;let t=i.find(e=>e.id===m.column);return[...e].sort((e,n)=>{let r,[i,a]=[e,n].map(e=>{var n,r;return null!=(r=null==t||null==(n=t.sortTransform)?void 0:n.call(t,e,m.direction))?r:(0,n_.default)(e,m.column)});if("string"!=typeof i||"string"!=typeof a||(0,tC.isValid)(i)||(0,tC.isValid)(a)){let[e,n]=[i,a].map(e=>(null==t?void 0:t.sortTransform)&&"number"==typeof e?e:"string"==typeof e?Date.parse(e):0);r=e-n}else r=i.toLowerCase().localeCompare(a.toLowerCase());return"asc"===m.direction?r:-r})},[i,a,l,h,m]),v=(0,O.useVirtualizer)({count:y.length,getScrollElement:()=>p,estimateSize:()=>59,overscan:5}),b=(0,E.useMemo)(()=>({id:"actions",sorting:!1,width:50,header:e=>{let{headerProps:{id:t}}=e;return(0,_.jsx)(I.Flex,{as:"th",id:t,paddingY:3,paddingX:3,sizing:"border",style:{width:"50px"},children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:" "})})},cell:e=>{let{datum:t,cellProps:{id:n}}=e;return(0,_.jsx)(I.Flex,{as:"td",id:n,align:"center",flex:"none",padding:3,style:{width:"25px"},children:!t.isLoading&&(null==c?void 0:c({datum:t}))||(0,_.jsx)(I.Box,{style:{width:"25px"}})})}}),[c]),x=(0,E.useMemo)(()=>(c?[...i,b]:i).filter(e=>!e.hidden),[i,b,c]),C=(0,E.useMemo)(()=>function(e){let t=d(e),n=u?"skeleton-".concat(e.index):String((0,n_.default)(e,s));return(0,_.jsx)(I.Card,{"data-testid":u?"table-row-skeleton":"table-row",borderBottom:!0,display:"flex","data-index":e.index,as:"tr",style:{height:"".concat(e.virtualRow.size,"px"),position:"absolute",top:0,left:0,right:0,transform:"translateY(".concat(e.virtualRow.start,"px)"),paddingInline:"max(\n                calc((100% - var(--maxInlineSize)) / 2),\n                var(--paddingInline)\n              )"},...t,children:x.map(t=>{let{cell:n,style:r,width:i,id:a,sorting:o=!1}=t;return(0,_.jsx)(E.Fragment,{children:(0,_.jsx)(n,{datum:{...e,isLoading:u},cellProps:{as:"td",id:String(a),style:{...r,width:i||void 0}},sorting:o})},String(a))})},n)},[x,u,s,d]),k=(0,E.useMemo)(()=>(0,_.jsx)(eaV,{emptyState:o,colSpan:x.length}),[x.length,o]),w=(0,E.useMemo)(()=>x.map(e=>{let{cell:t,sortTransform:n,...r}=e;return{...r,id:String(r.id)}}),[x]),j=(0,I.useTheme)(),S=!f&&(null==(t=j.sanity.v2)?void 0:t.container[3])||0;return(0,_.jsx)("div",{ref:g,style:{height:"100%"},children:(0,_.jsx)("div",{style:{width:"100%",height:"100%",position:"relative","--maxInlineSize":(0,I.rem)(S),"--paddingInline":(0,I.rem)(null!=(r=null==(n=j.sanity.v2)?void 0:n.space[3])?r:0)},children:(0,_.jsx)(eaK,{isEmptyState:0===y.length&&!u,header:(0,_.jsx)(eaW,{headers:w,searchDisabled:u||!h&&!a.length}),content:(()=>u?Array.from({length:3}).map((e,t)=>{let n="skeleton-".concat(t);return C({_id:n,isLoading:!0,virtualRow:{index:t,start:59*t,size:59,lane:0,key:n,end:59*t+59},index:t,isFirst:0===t,isLast:2===t})}):0===y.length?k:v.getVirtualItems().map((e,t)=>C({...y[e.index],virtualRow:e,index:t,isFirst:0===e.index,isLast:e.index===y.length-1})))(),contentHeight:"".concat(v.getTotalSize(),"px")})})})},ea$=e=>{let{defaultSort:t,...n}=e;return(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsx)(eaU,{defaultSort:t,children:(0,_.jsx)(eaG,{...n})})})},eaZ="u">typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"Cmd":"Ctrl",eaX=I.studioTheme.space[4];function eaJ(){let e=(0,E.useContext)(D.SearchContext);if(void 0===e)throw Error("useSearchState must be used within an SearchProvider");return e}function eaQ(e){let{allowEmptyQueries:t,terms:n}=e,r=!!t||n.query.length>0,i=!!n.filter,a=n.types.length>0;return r||i||a}let ea1=(0,tl.isHotkey)("mod+".concat("k")),ea2=(0,tl.isHotkey)("escape");function ea0(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(24),{children:p,hasValidTerms:f,onClose:h,onOpen:m,open:g}=e,y=(0,E.useRef)(!1),{dispatch:v,searchCommandList:b,setOnClose:x,state:C}=eaJ(),{result:k}=C;d[0]!==v||d[1]!==h||d[2]!==b?(t=()=>{var e;v({index:null!=(e=null==b?void 0:b.getTopIndex())?e:-1,type:"LAST_ACTIVE_INDEX_SET"}),h()},d[0]=v,d[1]=h,d[2]=b,d[3]=t):t=d[3];let w=t;return d[4]!==w||d[5]!==m||d[6]!==g?(n={onClose:w,onOpen:m,open:g},d[4]=w,d[5]=m,d[6]=g,d[7]=n):n=d[7],function(e){let t,n,r=(0,j.c)(7),{open:i,onClose:a,onOpen:o}=e,{isTopLayer:l}=(0,I.useLayer)();r[0]!==a?(t=()=>{null==a||a()},r[0]=a,r[1]=t):t=r[1];let s=t;r[2]!==s||r[3]!==l||r[4]!==o||r[5]!==i?(n=e=>{ea1(e)&&(e.preventDefault(),i?s():null==o||o()),ea2(e)&&i&&l&&s()},r[2]=s,r[3]=l,r[4]=o,r[5]=i,r[6]=n):n=r[6],(0,I.useGlobalKeyDown)(n)}(n),d[8]!==w||d[9]!==x?(r=()=>{x(()=>w)},i=[w,x],d[8]=w,d[9]=x,d[10]=r,d[11]=i):(r=d[10],i=d[11]),(0,E.useEffect)(r,i),d[12]!==v||d[13]!==f||d[14]!==k.loaded?(a=()=>{(!f||k.loaded)&&y.current&&v({index:0,type:"LAST_ACTIVE_INDEX_SET"})},o=[v,f,k.loaded],d[12]=v,d[13]=f,d[14]=k.loaded,d[15]=a,d[16]=o):(a=d[15],o=d[16]),(0,E.useEffect)(a,o),d[17]!==v||d[18]!==f||d[19]!==g?(l=()=>{f||!y.current||g||v({type:"ORDERING_RESET"})},s=[v,f,g],d[17]=v,d[18]=f,d[19]=g,d[20]=l,d[21]=s):(l=d[20],s=d[21]),(0,E.useEffect)(l,s),d[22]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{(null==y?void 0:y.current)||(y.current=!0)},u=[],d[22]=c,d[23]=u):(c=d[22],u=d[23]),(0,E.useEffect)(c,u),p}function ea5(e){return e.reduce((e,t)=>(e[t.name]=t,e),{})}function ea7(e){return e.reduce((e,t)=>(e[t.type]=t,e),{})}function ea3(e,t){return t?e[t]:void 0}function ea8(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:(null==e||null==(n=e.operators.find(e=>"item"===e.type))?void 0:n.name)||""}}function ea4(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:i}=e;return r.filter(e=>eot({filter:e,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:i})).map(e=>{var r;return null==(r=ea3(i,e.operatorType))?void 0:r.groqFilter({fieldPath:function(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e,i=ea6(n,t),a=r[t.filterName];if(a)switch(a.type){case"field":return null==i?void 0:i.fieldPath;case"pinned":return null==a?void 0:a.fieldPath;default:return}}({filter:e,fieldDefinitions:t,filterDefinitions:n}),value:null==e?void 0:e.value})}).filter(e=>!(0,nS.default)(e)).filter(D2).join(" && ")}function ea6(e,t){return(null==t?void 0:t.fieldId)?e[t.fieldId]:void 0}function ea9(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function eoe(e){let{fieldDefinitions:t,filters:n,types:r}=e,i=r.map(e=>e.name),a=Object.values(t).filter(e=>n.map(e=>null==e?void 0:e.fieldId).includes(e.id)).filter(e=>e.documentTypes.length>0).map(e=>e.documentTypes),o=(0,nj.default)(...a),l=[];return i.length>0&&l.push(i),o.length>0&&l.push(o),(0,nj.default)(...l).sort()}function eot(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:i}=e,a=n[t.filterName],o=ea3(i,t.operatorType),l=ea6(r,t);return!(!a||!o||t.fieldId&&!l||"field"===a.type&&(!(null==l?void 0:l.fieldPath)||!t.fieldId||!o.groqFilter({fieldPath:l.fieldPath,value:t.value}))||"pinned"===a.type&&!o.groqFilter({fieldPath:a.fieldPath,value:t.value}))}let eon=(0,tl.isHotkey)("escape"),eor=F.styled.div(jk());function eoi(e){let t,n,r,i,a,o,l=(0,j.c)(15),{anchorElement:s,children:c,onClose:u}=e,{isTopLayer:d}=(0,I.useLayer)();l[0]!==d||l[1]!==u?(t=e=>{eon(e)&&d&&u()},l[0]=d,l[1]=u,l[2]=t):t=l[2],(0,I.useGlobalKeyDown)(t);let p=function(e){let t,n,r,i,a,o,l=(0,j.c)(10);l[0]!==e?(t=e&&eoa(e),l[0]=e,l[1]=t):t=l[1];let[s,c]=(0,E.useState)(t);l[2]!==e?(n=()=>{e&&c(eoa(e))},l[2]=e,l[3]=n):n=l[3];let u=n;return l[4]!==e?(r=()=>{e&&c(eoa(e))},i=[e],l[4]=e,l[5]=r,l[6]=i):(r=l[5],i=l[6]),(0,E.useEffect)(r,i),l[7]!==u?(a=()=>(window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)),o=[u],l[7]=u,l[8]=a,l[9]=o):(a=l[8],o=l[9]),(0,E.useEffect)(a,o),s}(s||null);l[3]!==u?(n=(0,_.jsx)(eor,{onClick:u}),l[3]=u,l[4]=n):n=l[4];let f="min(calc(100vh - ".concat(p,"px - ").concat(5,"px - ").concat(eaX,"px), ").concat(500,"px");return l[5]!==f?(r={maxHeight:f,zIndex:1},l[5]=f,l[6]=r):r=l[6],l[7]!==c?(i=(0,_.jsx)(I.Flex,{children:c}),l[7]=c,l[8]=i):i=l[8],l[9]!==r||l[10]!==i?(a=(0,_.jsx)(ts.default,{autoFocus:!1,returnFocus:!0,children:(0,_.jsx)(I.Card,{display:"flex",overflow:"hidden",radius:3,style:r,children:i})}),l[9]=r,l[10]=i,l[11]=a):a=l[11],l[12]!==n||l[13]!==a?(o=(0,_.jsxs)(_.Fragment,{children:[n,a]}),l[12]=n,l[13]=a,l[14]=o):o=l[14],o}function eoa(e){let t=e.getBoundingClientRect();return t.y+t.height+5}let eoo=(0,F.styled)(I.Box)(e=>{let{$background:t,$smallClearButton:n}=e;return(0,F.css)(jw(),e=>{let{theme:n}=e;return t?n.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),eol=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(11);return l[0]!==e?({$background:n,$smallClearButton:r,...i}=e,l[0]=e,l[1]=n,l[2]=r,l[3]=i):(n=l[1],r=l[2],i=l[3]),l[4]!==t||l[5]!==i?(a=(0,_.jsx)(I.TextInput,{...i,ref:t}),l[4]=t,l[5]=i,l[6]=a):a=l[6],l[7]!==n||l[8]!==r||l[9]!==a?(o=(0,_.jsx)(eoo,{$background:n,$smallClearButton:r,children:a}),l[7]=n,l[8]=r,l[9]=a,l[10]=o):o=l[10],o}),eos=(0,F.styled)(I.Box)(j_(),e=>{let{theme:t}=e;return t.sanity.color.base.border}),eoc=(0,F.styled)(I.Flex)(jj()),eou=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(11),{ariaInputLabel:a,onChange:o,onClear:l,typeFilter:s}=e,{state:c}=eaJ(),{fullscreen:u}=c,{t:d}=IO(),p=!!s,f=u?2:1;return i[0]!==d?(n=d("search.filter-placeholder"),i[0]=d,i[1]=n):n=i[1],i[2]!==a||i[3]!==o||i[4]!==l||i[5]!==t||i[6]!==p||i[7]!==f||i[8]!==n||i[9]!==s?(r=(0,_.jsx)(eos,{children:(0,_.jsx)(eoc,{align:"center",flex:1,padding:1,children:(0,_.jsx)(eol,{__unstable_disableFocusRing:!0,$smallClearButton:!0,"aria-label":a,autoComplete:"off",border:!1,clearButton:p,fontSize:f,icon:R.SearchIcon,muted:!0,onChange:o,onClear:l,placeholder:n,ref:t,spellCheck:!1,radius:2,value:s})})}),i[2]=a,i[3]=o,i[4]=l,i[5]=t,i[6]=p,i[7]=f,i[8]=n,i[9]=s,i[10]=r):r=i[10],r});function eod(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:i,headerTitle:a,tone:o}=e,l=r.map(e=>({fieldDefinition:ea6(t,e),filterDefinition:n[e.filterName],filter:e,group:i,tone:o||"default",type:"filter"}));return l.length>0?[...a?[{title:a||"",tone:o||"default",type:"header"}]:[],...l]:[]}function eop(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function eof(e){return"pinned"===e.type&&"u">typeof(null==e?void 0:e.group)}function eoh(e){return"pinned"===e.type&&typeof(null==e?void 0:e.group)>"u"}function eom(e){let{filter:t,maxLength:n}=e,{state:{definitions:r}}=eaJ(),i=(0,E.useMemo)(()=>{let e=r.filters[t.filterName];switch(null==e?void 0:e.type){case"field":{let e=ea6(r.fields,t);return(null==e?void 0:e.titlePath)?e.titlePath[e.titlePath.length-1]:null}case"pinned":return e.title;default:return null}},[r,t]);return i?n&&i.length>n?(0,_.jsxs)("span",{children:[i.slice(0,n),"…"]}):(0,_.jsx)("span",{children:i}):null}function eog(e){var t;let n,r,i=(0,j.c)(6),{filter:a}=e,{state:o}=eaJ(),{definitions:l}=o;i[0]!==l.filters||i[1]!==a.filterName?(n=null==(t=l.filters[a.filterName])?void 0:t.icon,i[0]=l.filters,i[1]=a.filterName,i[2]=n):n=i[2];let s=n;if(s){let e;return i[3]!==s?(e=(0,_.jsx)(s,{}),i[3]=s,i[4]=e):e=i[4],e}return i[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(R.UnknownIcon,{}),i[5]=r):r=i[5],r}function eoy(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(18),{filter:u}=e,{state:d}=eaJ(),{definitions:p}=d;if(c[0]!==p.fields||c[1]!==u){var f;let e=ea6(p.fields,u);t=I.Stack,n=2,r=(null==e?void 0:e.titlePath)&&(null==(f=e.titlePath)?void 0:f.length)>1&&(0,_.jsx)(I.Box,{marginLeft:4,children:(0,_.jsx)(I.Text,{muted:!0,size:0,children:e.titlePath.slice(0,-1).map((t,n)=>(0,_.jsxs)(E.Fragment,{children:[(0,_.jsx)("span",{children:t}),n!==e.titlePath.length-2&&(0,_.jsx)("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:(0,_.jsx)(R.ChevronRightIcon,{})})]},n))})}),c[0]=p.fields,c[1]=u,c[2]=t,c[3]=n,c[4]=r}else t=c[2],n=c[3],r=c[4];return c[5]===Symbol.for("react.memo_cache_sentinel")?(i={flexShrink:0},c[5]=i):i=c[5],c[6]!==u?(a=(0,_.jsx)(I.Box,{style:i,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(eog,{filter:u})})}),c[6]=u,c[7]=a):a=c[7],c[8]!==u?(o=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:(0,_.jsx)(eom,{filter:u})}),c[8]=u,c[9]=o):o=c[9],c[10]!==a||c[11]!==o?(l=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:3,children:[a,o]}),c[10]=a,c[11]=o,c[12]=l):l=c[12],c[13]!==t||c[14]!==n||c[15]!==r||c[16]!==l?(s=(0,_.jsxs)(t,{space:n,children:[r,l]}),c[13]=t,c[14]=n,c[15]=r,c[16]=l,c[17]=s):s=c[17],s}function eov(e,t){let n=t.split("."),r=n[0];if(r&&(0,W.isObjectSchemaType)(e)){let t=e.fields.find(e=>e.name===r);if(t){let e=n.slice(1).join(".");return e?eov(t.type,e):t}}}function eob(e){var t,n;return(0,E.isValidElement)(e)?(t=(0,bS.renderToString)(e),(null==(n=new DOMParser().parseFromString(t,"text/html"))?void 0:n.body.textContent)||""):"string"==typeof e?e:""}function eox(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:i}=e,{state:{documentTypesNarrowed:a}}=eaJ(),{t:o}=IO(),l=el3(),s=(0,E.useMemo)(()=>(null==n?void 0:n.documentTypes)?n.documentTypes.map(e=>{let t=l.get(e);return(null==t?void 0:t.title)||(0,ti.default)(null==t?void 0:t.name)}).filter(D2).sort():[],[null==n?void 0:n.documentTypes,l]),c=(0,E.useMemo)(()=>{if(null==n?void 0:n.documentTypes){let e=n.documentTypes.map(e=>{let t=l.get(e);if(t){let e=eov(t,n.fieldPath);return(null==e?void 0:e.type.description)&&eob(null==e?void 0:e.type.description)}return null}).filter(D2).sort(),t=(0,nC.default)(e);if(1===t.length)return t[0]}},[null==n?void 0:n.documentTypes,null==n?void 0:n.fieldPath,l]);return(0,_.jsx)(B.Tooltip,{content:(0,_.jsx)(I.Card,{tone:"default",radius:2,style:{maxWidth:"250px"},children:(0,_.jsxs)(I.Stack,{space:4,children:[n&&(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-name")}),(0,_.jsx)(eiD,{size:1,style:{fontFamily:"monospace"},tone:"primary",textOverflow:"ellipsis",children:null==n?void 0:n.name})]}),c&&(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-description")}),(0,_.jsx)(I.Text,{muted:!0,size:1,children:Iw(c,256)})]}),(null==r?void 0:r.description)&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:Iw(r.description,256)}),!a.length&&s.length>0&&(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-used-in-document-types")}),(0,_.jsx)(I.Card,{padding:1,radius:2,tone:"transparent",children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:s.length})})]}),(0,_.jsxs)(I.Text,{size:1,weight:"regular",muted:!0,children:[s.slice(0,10).join(", "),(null==s?void 0:s.length)>10?" +".concat(s.length-10," more"):""]})]})]})}),disabled:!i,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}let eoC=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(24);u[0]!==e?({item:t,onClose:n,...r}=e,u[0]=e,u[1]=t,u[2]=n,u[3]=r):(t=u[1],n=u[2],r=u[3]);let{dispatch:d,state:p}=eaJ(),{filters:f}=p;u[4]!==d||u[5]!==t.filter||u[6]!==n?(i=()=>{d({filter:t.filter,type:"TERMS_FILTERS_ADD"}),null==n||n()},u[4]=d,u[5]=t.filter,u[6]=n,u[7]=i):i=u[7];let h=i,m=!!f.find(e=>ea9(e)===ea9(t.filter)),g=!!(t.fieldDefinition||t.filterDefinition.description),y=m?void 0:h;u[8]===Symbol.for("react.memo_cache_sentinel")?(a={position:"relative",whiteSpace:"normal",width:"100%"},u[8]=a):a=u[8];let v=null==t?void 0:t.tone;return u[9]!==t.filter?(o=(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(eoy,{filter:t.filter})}),u[9]=t.filter,u[10]=o):o=u[10],u[11]!==t.fieldDefinition||u[12]!==t.filterDefinition||u[13]!==o||u[14]!==g?(l=(0,_.jsx)(eox,{fieldDefinition:t.fieldDefinition,filterDefinition:t.filterDefinition,visible:g,children:o}),u[11]=t.fieldDefinition,u[12]=t.filterDefinition,u[13]=o,u[14]=g,u[15]=l):l=u[15],u[16]!==m||u[17]!==y||u[18]!==v||u[19]!==l?(s=(0,_.jsx)(I.Button,{disabled:m,fontSize:1,justify:"flex-start",mode:"bleed",onClick:y,padding:0,style:a,tabIndex:-1,tone:v,children:l}),u[16]=m,u[17]=y,u[18]=v,u[19]=l,u[20]=s):s=u[20],u[21]!==r||u[22]!==s?(c=(0,_.jsx)(I.Box,{...r,children:s}),u[21]=r,u[22]=s,u[23]=c):c=u[23],c}),eok=(0,E.memo)(function(e){let t,n,r=(0,j.c)(5),{item:i}=e,a=null==i?void 0:i.tone;return r[0]!==i.title?(t=(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:i.title}),r[0]=i.title,r[1]=t):t=r[1],r[2]!==a||r[3]!==t?(n=(0,_.jsx)(I.Box,{paddingTop:1,children:(0,_.jsx)(I.Card,{borderBottom:!0,paddingX:2,paddingY:3,tone:a,children:t})}),r[2]=a,r[3]=t,r[4]=n):n=r[4],n}),eow={width:"300px"};function eo_(e){let{onClose:t}=e,[n,r]=(0,E.useState)(null),[i,a]=(0,E.useState)(""),{t:o}=IO(),l=(0,E.useCallback)(e=>a(e.currentTarget.value),[a]),s=(0,E.useCallback)(()=>a(""),[]),c=el3(),{state:{documentTypesNarrowed:u,definitions:d,filters:p,terms:{types:f}}}=eaJ(),h=(0,E.useMemo)(()=>(function(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:i,titleFilter:a,types:o,t:l}=e,s=Object.values(n).filter(e=>{var t,n;return t=e,n=a,t.titlePath.join("/").toLowerCase().includes(n.toLowerCase())}).map(e=>{let t=r[e.filterName];return t?ea8(t,e.id):null}).filter(D2),c=function(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e,i=Object.values(n).filter(eoh).filter(e=>eop(e,r)).map(e=>ea8(e)),a=Object.values(n).filter(eof).filter(e=>eop(e,r)).reduce((e,t)=>(e[t.group]=e[t.group]||[],e[t.group].push(ea8(t)),e),{});return[...eod({fieldDefinitions:t,filterDefinitions:n,filters:i,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(a).flatMap(e=>{let[r,i]=e;return eod({fieldDefinitions:t,filterDefinitions:n,filters:i,headerTitle:r,id:r,tone:"primary"})})]}({fieldDefinitions:n,filterDefinitions:r,titleFilter:a});return 0===t.length?[...c,...eod({fieldDefinitions:n,filterDefinitions:r,filters:s,headerTitle:l("search.filter-all-fields-header"),id:"field"})]:[...c,...function(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:i,schema:a,types:o,t:l}=e,s=i.filter(e=>{var r,i;return r=t,i=ea6(n,e),0===(0,mV.default)(r,(null==i?void 0:i.documentTypes)||[]).length});return[...t.length>1&&o.length>1?eod({fieldDefinitions:n,filterDefinitions:r,filters:s,headerTitle:l("search.filter-shared-fields-header"),id:"shared",tone:"primary"}):[],...t.map(e=>{let t=a.get(e);return{title:(null==t?void 0:t.title)||(0,ti.default)(null==t?void 0:t.name)||"(Unknown type)",documentType:e}}).sort((e,t)=>e.title.localeCompare(t.title)).flatMap(e=>{let{documentType:t,title:a}=e,o=i.filter(e=>{var r,i;return r=[t],null==(i=ea6(n,e))?void 0:i.documentTypes.some(e=>r.includes(e))});return eod({fieldDefinitions:n,filterDefinitions:r,filters:o,id:a,headerTitle:a})})]}({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:s,schema:i,types:o,t:l})]})({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:i,types:f,t:o}),[u,d.fields,d.filters,c,i,f,o]),m=(0,E.useCallback)(e=>"filter"===e.type?(0,_.jsx)(eoC,{item:e,onClose:t,paddingBottom:1}):"header"===e.type?(0,_.jsx)(eok,{item:e}):null,[t]),g=(0,E.useCallback)(e=>{let t=h[e];return"filter"!==t.type||!!p.find(e=>ea9(e)===ea9(t.filter))},[h,p]),y=(0,E.useCallback)(e=>{let t=h[e];switch(t.type){case"filter":return[...t.group?[t.group]:[],ea9(t.filter)].join("-");case"header":return"".concat(t.type,"-").concat(t.title);default:return e}},[h]);return(0,_.jsxs)(I.Flex,{direction:"column",style:eow,children:[(0,_.jsx)(eou,{ariaInputLabel:o("search.filter-by-title-aria-label"),onChange:l,onClear:s,ref:r,typeFilter:i}),(0,_.jsxs)(I.Flex,{children:[h.length>0&&(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:o("search.filters-aria-label",{count:h.length}),autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:h,overscan:20,padding:1,paddingBottom:0,renderItem:m}),0==h.length&&(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:o("search.filter-no-matches-found",{filter:i})})})]})]})}function eoj(){let e,t,n,r,i,a,o,l,s,c=(0,j.c)(18),[u,d]=(0,E.useState)(!1),[p,f]=(0,E.useState)(null),h=(0,E.useRef)(null),{t:m}=IO(),{state:g}=eaJ(),{fullscreen:y}=g;c[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>d(!1),c[0]=e):e=c[0];let v=e;c[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>d(!0),c[1]=t):t=c[1];let b=t;c[2]!==p?(n=()=>[p,h.current],c[2]=p,c[3]=n):n=c[3],(0,I.useClickOutsideEvent)(v,n),c[4]===Symbol.for("react.memo_cache_sentinel")?(r=[5,0,0,0],c[4]=r):r=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(eo_,{onClose:v}),c[5]=i):i=c[5],c[6]!==p?(a=(0,_.jsx)(eoi,{anchorElement:p,onClose:v,children:i}),c[6]=p,c[7]=a):a=c[7];let x=y?"large":"default";return c[8]!==m?(o=m("search.action.add-filter"),c[8]=m,c[9]=o):o=c[9],c[10]!==u||c[11]!==x||c[12]!==o?(l=(0,_.jsx)(B.Button,{icon:R.AddIcon,mode:"bleed",onClick:b,size:x,ref:f,selected:u,text:o}),c[10]=u,c[11]=x,c[12]=o,c[13]=l):l=c[13],c[14]!==u||c[15]!==a||c[16]!==l?(s=(0,_.jsx)(B.Popover,{__unstable_margins:r,content:a,open:u,placement:"bottom-start",radius:3,ref:h,portal:!0,children:l}),c[14]=u,c[15]=a,c[16]=l,c[17]=s):s=c[17],s}function eoS(e){let t,{availableCharacters:n=40,types:r}=e;if(0===r.length)return{remainingCount:0,types:[]};let i=r.reduce((t=n,function(e,r,i){let a=eoT(r);return t-=a.length,(0===i||n>a.length&&t>a.length)&&e.push(r),e}),[]);return{remainingCount:r.length-i.length,types:i.map(eoT)}}function eoE(e){let{t,availableCharacters:n,types:r}=e;if(0===r.length)return t("search.document-type-list-all-types");let{remainingCount:i,types:a}=eoS({availableCharacters:n,types:r});return t(i>0?"search.document-type-list-truncated":"search.document-type-list",{count:i,types:a,formatParams:{types:{style:"short",type:"unit"}}})}function eoT(e){var t;return null!=(t=e.title)?t:e.name}function eoD(e){return V7(e).filter(e=>!1!==e.__experimental_omnisearch_visibility)}function eoI(e,t){var n,r;return(null!=(n=e.title)?n:e.name).localeCompare(null!=(r=t.title)?r:t.name)}let eoA=(0,E.memo)(function(e){var t,n;let r,i,a,o,l,s,c,u,d=(0,j.c)(23);d[0]!==e?({selected:i,type:a,...r}=e,d[0]=e,d[1]=r,d[2]=i,d[3]=a):(r=d[1],i=d[2],a=d[3]);let{dispatch:p}=eaJ();d[4]!==p||d[5]!==a?(o=()=>{p({type:"TERMS_TYPE_ADD",schemaType:a})},d[4]=p,d[5]=a,d[6]=o):o=d[6];let f=o;d[7]!==p||d[8]!==a?(l=()=>{p({type:"TERMS_TYPE_REMOVE",schemaType:a})},d[7]=p,d[8]=a,d[9]=l):l=d[9];let h=l;d[10]!==f||d[11]!==h||d[12]!==i?(s=()=>{i?h():f()},d[10]=f,d[11]=h,d[12]=i,d[13]=s):s=d[13];let m=s,g=null!=(t=a.title)?t:a.name,y=i&&R.CheckmarkIcon,v=null!=(n=a.title)?n:a.name,b=i?"primary":"default";return d[14]!==m||d[15]!==g||d[16]!==y||d[17]!==v||d[18]!==b?(c=(0,_.jsx)(B.Button,{iconRight:y,justify:"flex-start",mode:"bleed",onClick:m,width:"fill",size:"large",tabIndex:-1,text:v,tone:b},g),d[14]=m,d[15]=g,d[16]=y,d[17]=v,d[18]=b,d[19]=c):c=d[19],d[20]!==r||d[21]!==c?(u=(0,_.jsx)(I.Box,{...r,children:c}),d[20]=r,d[21]=c,d[22]=u):u=d[22],u}),eoO=(0,F.styled)(I.Box)(jS(),e=>{let{theme:t}=e;return t.sanity.color.base.border}),eoP={width:"250px"};function eoM(){let e,t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(37),[h,m]=(0,E.useState)(null),[g,y]=(0,E.useState)(""),v=(0,E.useRef)(null),{t:b}=IO(),x=el3(),{dispatch:C,state:k}=eaJ(),{terms:w}=k,{types:S}=w,[T,D]=(0,E.useState)(S),A=function(e,t,n,r){let i,a=(0,j.c)(5);if(a[0]!==e||a[1]!==t||a[2]!==n||a[3]!==r){let[o,l]=(0,mz.default)(eoD(e).filter(e=>{var t,n,i;return t=e,!(n=r)||(null!=(i=t.title)?i:t.name).toLowerCase().includes(null==n?void 0:n.toLowerCase())}).sort(eoI),e=>n.includes(e)),s=o.length>0,c=o.length>0;i=[],s&&i.push({title:"Selected",type:"header"}),o.forEach(e=>i.push({item:e,selected:t.includes(e),type:"item"})),s&&c&&i.push({type:"divider"}),l.forEach(e=>i.push({item:e,selected:t.includes(e),type:"item"})),a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i}else i=a[4];return i}(x,S,T,g);f[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>y(e.currentTarget.value),f[0]=e):e=f[0];let O=e;f[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>y(""),f[1]=t):t=f[1];let P=t;f[2]!==C?(n=()=>{var e,t;D([]),C({type:"TERMS_TYPES_CLEAR"}),null==v||null==(e=v.current)||e.focusInputElement(),null==v||null==(t=v.current)||t.scrollToIndex(0)},f[2]=C,f[3]=n):n=f[3];let M=n;f[4]!==A?(r=e=>{let t=A[e];switch(t.type){case"divider":return"".concat(t.type,"-").concat(e);case"header":return"".concat(t.type,"-").concat(t.title);case"item":return"".concat(t.type,"-").concat(t.item.name);default:return e}},f[4]=A,f[5]=r):r=f[5];let F=r;f[6]!==A?(i=e=>"item"!==A[e].type,f[6]=A,f[7]=i):i=f[7];let R=i;f[8]!==A?(a=e=>{let t=A[e];return"item"===t.type&&t.selected},f[8]=A,f[9]=a):a=f[9];let B=a;return f[10]!==b?(o=b("search.action.filter-by-document-type-aria-label"),f[10]=b,f[11]=o):o=f[11],f[12]!==o||f[13]!==g?(l=(0,_.jsx)(eou,{ariaInputLabel:o,onChange:O,onClear:P,ref:m,typeFilter:g}),f[12]=o,f[13]=g,f[14]=l):l=f[14],f[15]!==A||f[16]!==R||f[17]!==F||f[18]!==B||f[19]!==h||f[20]!==b?(s=A.length>0&&(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:b("search.document-types-aria-label"),ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:R,getItemSelected:B,getItemKey:F,inputElement:h,itemHeight:37,items:A,overscan:20,padding:1,paddingBottom:0,ref:v,renderItem:eoF}),f[15]=A,f[16]=R,f[17]=F,f[18]=B,f[19]=h,f[20]=b,f[21]=s):s=f[21],f[22]!==A.length||f[23]!==b||f[24]!==g?(c=!A.length&&(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:b("search.document-types-no-matches-found",{filter:g})})}),f[22]=A.length,f[23]=b,f[24]=g,f[25]=c):c=f[25],f[26]!==s||f[27]!==c?(u=(0,_.jsxs)(I.Flex,{children:[s,c]}),f[26]=s,f[27]=c,f[28]=u):u=f[28],f[29]!==M||f[30]!==S||f[31]!==g?(d=!g&&S.length>0&&(0,_.jsx)(eoR,{onClick:M,selectedTypes:S}),f[29]=M,f[30]=S,f[31]=g,f[32]=d):d=f[32],f[33]!==u||f[34]!==d||f[35]!==l?(p=(0,_.jsxs)(I.Flex,{direction:"column",style:eoP,children:[l,u,d]}),f[33]=u,f[34]=d,f[35]=l,f[36]=p):p=f[36],p}function eoF(e){return"divider"===e.type?(0,_.jsx)(I.Box,{paddingY:1,children:(0,_.jsx)(I.MenuDivider,{})}):"header"===e.type?(0,_.jsx)(I.Box,{margin:2,padding:1,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:e.title})}):"item"===e.type?(0,_.jsx)(eoA,{paddingBottom:1,selected:e.selected,type:e.item}):null}function eoR(e){let t,n,r,i=(0,j.c)(9),{onClick:a,selectedTypes:o}=e,{t:l}=IO();i[0]!==l?(t=l("search.action.clear-type-filters-aria-label"),i[0]=l,i[1]=t):t=i[1];let s=0===o.length;return i[2]!==l?(n=l("search.action.clear-type-filters-label"),i[2]=l,i[3]=n):n=i[3],i[4]!==a||i[5]!==t||i[6]!==s||i[7]!==n?(r=(0,_.jsx)(eoO,{padding:1,children:(0,_.jsx)(I.Stack,{children:(0,_.jsx)(B.Button,{"aria-label":t,"data-name":"type-filter-button",disabled:s,mode:"bleed",onClick:a,text:n,tone:"primary"})})}),i[4]=a,i[5]=t,i[6]=s,i[7]=n,i[8]=r):r=i[8],r}let eoB=["top-start","bottom-start"];function eoN(){let e,t,n,r,i,a,o,l,s,c=(0,j.c)(19),[u,d]=(0,E.useState)(!1),[p,f]=(0,E.useState)(null),h=(0,E.useRef)(null),{state:m}=eaJ(),{fullscreen:g,terms:y}=m,{types:v}=y,{t:b}=IO();c[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>d(!1),c[0]=e):e=c[0];let x=e;c[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>d(!0),c[1]=t):t=c[1];let C=t;c[2]!==p?(n=()=>[p,h.current],c[2]=p,c[3]=n):n=c[3],(0,I.useClickOutsideEvent)(x,n),c[4]!==b||c[5]!==v?(r=eoE({types:v,t:b}),c[4]=b,c[5]=v,c[6]=r):r=c[6];let k=r;c[7]===Symbol.for("react.memo_cache_sentinel")?(i=[5,0,0,0],c[7]=i):i=c[7],c[8]===Symbol.for("react.memo_cache_sentinel")?(a=(0,_.jsx)(eoM,{}),c[8]=a):a=c[8],c[9]!==p?(o=(0,_.jsx)(eoi,{anchorElement:p,onClose:x,children:a}),c[9]=p,c[10]=o):o=c[10];let w=g?"large":"default";return c[11]!==u||c[12]!==w||c[13]!==k?(l=(0,_.jsx)(B.Button,{iconRight:R.ChevronDownIcon,mode:"ghost",onClick:C,size:w,ref:f,selected:u,text:k,tone:"default"}),c[11]=u,c[12]=w,c[13]=k,c[14]=l):l=c[14],c[15]!==u||c[16]!==l||c[17]!==o?(s=(0,_.jsx)(B.Popover,{__unstable_margins:i,content:o,open:u,placement:"bottom-start",fallbackPlacements:eoB,portal:!0,radius:3,ref:h,children:l}),c[15]=u,c[16]=l,c[17]=o,c[18]=s):s=c[18],s}let eoL=(0,F.styled)(I.Box)(jE(),e=>{let{$flexShrink:t=0}=e;return t});function eoz(e){let t,n,r,i,a,o,l,s=(0,j.c)(29),{filter:c,fontSize:u,showContent:d}=e,p=void 0===u?1:u,f=void 0===d||d,{t:h}=IO(),{state:m}=eaJ(),{definitions:g,fullscreen:y}=m;s[0]!==g.operators||s[1]!==c.operatorType?(t=ea3(g.operators,c.operatorType),s[0]=g.operators,s[1]=c.operatorType,s[2]=t):t=s[2];let v=t,b=null==v?void 0:v.buttonValueComponent,x=c.value;s[3]!==c||s[4]!==p||s[5]!==y?(n=()=>(0,_.jsx)(eoL,{$flexShrink:+!!y,children:(0,_.jsx)(eiD,{tone:"default",size:p,textOverflow:"ellipsis",weight:"medium",children:(0,_.jsx)(eom,{filter:c,maxLength:y?25:40})})}),s[3]=c,s[4]=p,s[5]=y,s[6]=n):n=s[6],s[7]!==p||s[8]!==f?(r=e=>{let{children:t}=e;return f?(0,_.jsx)(eoL,{$flexShrink:0,children:(0,_.jsx)(eiD,{tone:"default",size:p,textOverflow:"ellipsis",weight:"regular",children:t})}):null},s[7]=p,s[8]=f,s[9]=r):r=s[9],s[10]!==b||s[11]!==x||s[12]!==p||s[13]!==f?(i=e=>{let{children:t}=e;return f?(0,_.jsx)(eoL,{$flexShrink:1,children:(0,_.jsx)(eiD,{tone:"default",size:p,textOverflow:"ellipsis",weight:"medium",children:b?(0,_.jsx)(b,{value:x}):t})}):null},s[10]=b,s[11]=x,s[12]=p,s[13]=f,s[14]=i):i=s[14],s[15]!==n||s[16]!==r||s[17]!==i?(a={Field:n,Operator:r,Value:i},s[15]=n,s[16]=r,s[17]=i,s[18]=a):a=s[18];let C=a;if((null==v?void 0:v.descriptionKey)||console.warn("Missing `descriptionKey` for operator `%s`",c.operatorType),!f||!(null==v?void 0:v.descriptionKey)){let e,t=C.Field;return s[19]!==t?(e=(0,_.jsx)(I.Flex,{align:"center",gap:1,children:(0,_.jsx)(t,{})}),s[19]=t,s[20]=e):e=s[20],e}let k=null==v?void 0:v.descriptionKey;return s[21]!==c||s[22]!==h?(o=function(e,t){let n={};return"number"==typeof e.value&&(n.count=e.value),eoV(e.value)&&(n.value=e.value),"boolean"==typeof e.value&&(n.value=t(e.value?"search.filter-boolean-true":"search.filter-boolean-false")),Io(e.value)&&"from"in e.value&&eoV(e.value.from)&&(n.from=e.value.from),Io(e.value)&&"to"in e.value&&eoV(e.value.to)&&(n.to=e.value.to),n}(c,h),s[21]=c,s[22]=h,s[23]=o):o=s[23],s[24]!==C||s[25]!==h||s[26]!==o||s[27]!==k?(l=(0,_.jsx)(I.Flex,{align:"center",gap:1,children:(0,_.jsx)(IZ,{t:h,i18nKey:k,components:C,values:o})}),s[24]=C,s[25]=h,s[26]=o,s[27]=k,s[28]=l):l=s[28],l}function eoV(e){return"string"==typeof e||"number"==typeof e}function eoU(e){let t,n,r,i,a,o,l,s=(0,j.c)(15),{t:c}=IO();return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(eiD,{tone:"critical",children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),s[0]=t):t=s[0],s[1]!==c?(n=c("search.error.display-filter-title"),s[1]=c,s[2]=n):n=s[2],s[3]!==n?(r=(0,_.jsx)(eiD,{size:1,tone:"critical",weight:"medium",children:n}),s[3]=n,s[4]=r):r=s[4],s[5]!==c?(i=c("search.error.display-filter-description"),s[5]=c,s[6]=i):i=s[6],s[7]!==i?(a=(0,_.jsx)(eiD,{size:1,tone:"critical",children:i}),s[7]=i,s[8]=a):a=s[8],s[9]!==r||s[10]!==a?(o=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:3,children:[t,(0,_.jsxs)(I.Stack,{space:4,children:[r,a]})]}),s[9]=r,s[10]=a,s[11]=o):o=s[11],s[12]!==e||s[13]!==o?(l=(0,_.jsx)(I.Box,{...e,children:o}),s[12]=e,s[13]=o,s[14]=l):l=s[14],l}function eoH(e){let t,n,r,i=(0,j.c)(11),{onClick:a,operator:o,selected:l}=e;i[0]!==a||i[1]!==o.type?(t=()=>a(o.type),i[0]=a,i[1]=o.type,i[2]=t):t=i[2];let s=t,{t:c}=IO();i[3]!==o.nameKey||i[4]!==c?(n=c(o.nameKey),i[3]=o.nameKey,i[4]=c,i[5]=n):n=i[5];let u=null==o?void 0:o.icon;return i[6]!==s||i[7]!==l||i[8]!==n||i[9]!==u?(r=(0,_.jsx)(B.MenuItem,{onClick:s,pressed:l,tone:"default",text:n,iconRight:u}),i[6]=s,i[7]=l,i[8]=n,i[9]=u,i[10]=r):r=i[10],r}function eoq(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(38),{filter:f,operator:h}=e,m=(0,E.useId)(),{t:g}=IO(),{dispatch:y,state:v}=eaJ();if(p[0]!==y||p[1]!==f||p[2]!==m||p[3]!==h||p[4]!==v.definitions.filters||p[5]!==v.definitions.operators||p[6]!==g){l=Symbol.for("react.early_return_sentinel");e:{var b;let e,s,c,u=null==(b=v.definitions.filters[f.filterName])?void 0:b.operators;p[14]!==y||p[15]!==f?(e=e=>{y({filterKey:ea9(f),operatorType:e,type:"TERMS_FILTERS_SET_OPERATOR"})},p[14]=y,p[15]=f,p[16]=e):e=p[16];let d=e;if(!h||!u||u.length<=1){l=null;break e}r=I.Inline,n=B.MenuButton,p[17]!==h.nameKey||p[18]!==g?(s=g(h.nameKey),p[17]=h.nameKey,p[18]=g,p[19]=s):s=p[19],p[20]!==s?(a=(0,_.jsx)(B.Button,{mode:"ghost",iconRight:R.ChevronDownIcon,text:s}),p[20]=s,p[21]=a):a=p[21],o=m||"",t=I.Menu,p[22]!==d||p[23]!==h.type||p[24]!==v.definitions.operators?(c=(e,t)=>{if("item"===e.type){let n=ea3(v.definitions.operators,e.name);return n?(0,_.jsx)(eoH,{onClick:d,operator:n,selected:h.type===e.name},t):null}return"divider"===e.type?(0,_.jsx)(I.MenuDivider,{},t):null},p[22]=d,p[23]=h.type,p[24]=v.definitions.operators,p[25]=c):c=p[25],i=u.map(c)}p[0]=y,p[1]=f,p[2]=m,p[3]=h,p[4]=v.definitions.filters,p[5]=v.definitions.operators,p[6]=g,p[7]=t,p[8]=n,p[9]=r,p[10]=i,p[11]=a,p[12]=o,p[13]=l}else t=p[7],n=p[8],r=p[9],i=p[10],a=p[11],o=p[12],l=p[13];return l!==Symbol.for("react.early_return_sentinel")?l:(p[26]!==t||p[27]!==i?(s=(0,_.jsx)(t,{children:i}),p[26]=t,p[27]=i,p[28]=s):s=p[28],p[29]===Symbol.for("react.memo_cache_sentinel")?(c={constrainSize:!0,portal:!1,radius:2},p[29]=c):c=p[29],p[30]!==n||p[31]!==a||p[32]!==o||p[33]!==s?(u=(0,_.jsx)(n,{button:a,id:o,menu:s,placement:"bottom-start",popover:c}),p[30]=n,p[31]=a,p[32]=o,p[33]=s,p[34]=u):u=p[34],p[35]!==r||p[36]!==u?(d=(0,_.jsx)(r,{children:u}),p[35]=r,p[36]=u,p[37]=d):d=p[37],d)}function eoW(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(45),{filter:y}=e,[v,b]=(0,E.useState)(null),{dispatch:x,state:C}=eaJ(),{definitions:k,fullscreen:w}=C;g[0]!==k.filters||g[1]!==y.filterName?(t=k.filters[y.filterName],g[0]=k.filters,g[1]=y.filterName,g[2]=t):t=g[2];let S=t;g[3]!==k.operators||g[4]!==y.operatorType?(n=ea3(k.operators,y.operatorType),g[3]=k.operators,g[4]=y.operatorType,g[5]=n):n=g[5];let T=n;g[6]!==k.fields||g[7]!==y?(r=ea6(k.fields,y),g[6]=k.fields,g[7]=y,g[8]=r):r=g[8];let D=r;g[9]!==y?(i=ea9(y),g[9]=y,g[10]=i):i=g[10];let A=i;g[11]!==x||g[12]!==y?(a=()=>{x({filterKey:ea9(y),type:"TERMS_FILTERS_REMOVE"})},g[11]=x,g[12]=y,g[13]=a):a=g[13];let O=a;g[14]!==x||g[15]!==A?(o=e=>{x({filterKey:A,type:"TERMS_FILTERS_SET_VALUE",value:e})},g[14]=x,g[15]=A,g[16]=o):o=g[16];let P=o;g[17]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{b(e)},g[17]=l):l=g[17];let M=l,F=null==T?void 0:T.inputComponent;if(v){let e;return g[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(eoU,{padding:4}),g[18]=e):e=g[18],e}return g[19]!==F||g[20]!==D||g[21]!==y.operatorType||g[22]!==y.value||g[23]!==P?(s=F&&(0,_.jsx)(I.Card,{borderTop:!0,padding:3,children:(0,_.jsx)(F,{fieldDefinition:D,onChange:P,value:y.value},y.operatorType)}),g[19]=F,g[20]=D,g[21]=y.operatorType,g[22]=y.value,g[23]=P,g[24]=s):s=g[24],g[25]!==y?(c=(0,_.jsx)(I.Box,{paddingLeft:1,paddingRight:2,paddingY:1,children:(0,_.jsx)(eoy,{filter:y})}),g[25]=y,g[26]=c):c=g[26],g[27]!==w||g[28]!==O?(u=w&&(0,_.jsx)(B.Button,{icon:R.TrashIcon,mode:"bleed",onClick:O,tone:"critical",tooltipProps:{content:"Remove filter"}}),g[27]=w,g[28]=O,g[29]=u):u=g[29],g[30]!==c||g[31]!==u?(d=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:3,justify:"space-between",children:[c,u]}),g[30]=c,g[31]=u,g[32]=d):d=g[32],g[33]!==S?(p=(null==S?void 0:S.description)&&(0,_.jsx)(I.Card,{border:!0,padding:3,radius:2,tone:"transparent",children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:S.description})}),g[33]=S,g[34]=p):p=g[34],g[35]!==y||g[36]!==T?(f=(0,_.jsx)(eoq,{filter:y,operator:T}),g[35]=y,g[36]=T,g[37]=f):f=g[37],g[38]!==d||g[39]!==p||g[40]!==f?(h=(0,_.jsx)(I.Card,{padding:3,children:(0,_.jsxs)(I.Stack,{space:3,children:[d,p,f]})}),g[38]=d,g[39]=p,g[40]=f,g[41]=h):h=g[41],g[42]!==h||g[43]!==s?(m=(0,_.jsx)(B.ErrorBoundary,{onCatch:M,children:(0,_.jsx)(ts.default,{autoFocus:!IC,returnFocus:!0,children:(0,_.jsxs)(I.Flex,{direction:"column-reverse",children:[s,h]})})}),g[42]=h,g[43]=s,g[44]=m):m=g[44],m}let eoY=(0,F.styled)(I.Flex)(jT());function eoK(e){let t,n,r,i=(0,j.c)(6),{filter:a}=e;return i[0]!==a?(t=(0,_.jsx)(eoW,{filter:a}),n=!1,i[0]=a,i[1]=t,i[2]=n):(t=i[1],n=i[2]),i[3]!==t||i[4]!==n?(r=(0,_.jsxs)(eoY,{direction:"column",children:[t,n]}),i[3]=t,i[4]=n,i[5]=r):r=i[5],r}let eoG=(0,F.styled)(I.Button)(jD(),e=>{let{theme:t}=e;return"0 ".concat((0,I.rem)(t.sanity.radius[2])," ").concat((0,I.rem)(t.sanity.radius[2])," 0")}),eo$=(0,F.styled)(I.Card)(jI()),eoZ=F.styled.div(jA()),eoX=(0,F.styled)(I.Button)(jO());function eoJ(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(45),{filter:y,initialOpen:v}=e,[b,x]=(0,E.useState)(v),[C,k]=(0,E.useState)(null),w=(0,E.useRef)(null),{dispatch:S,state:T}=eaJ(),{definitions:D,fullscreen:A}=T,{t:O}=IO();g[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>x(!1),g[0]=t):t=g[0];let P=t;g[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>x(!0),g[1]=n):n=g[1];let M=n;g[2]!==S||g[3]!==y?(r=()=>S({filterKey:ea9(y),type:"TERMS_FILTERS_REMOVE"}),g[2]=S,g[3]=y,g[4]=r):r=g[4];let F=r;g[5]!==F?(i=e=>{["Backspace","Delete"].includes(e.key)&&F()},g[5]=F,g[6]=i):i=g[6];let N=i;g[7]!==C?(a=()=>[C,w.current],g[7]=C,g[8]=a):a=g[8],(0,I.useClickOutsideEvent)(P,a),g[9]!==D.fields||g[10]!==D.filters||g[11]!==D.operators||g[12]!==y?(o=eot({fieldDefinitions:D.fields,filter:y,filterDefinitions:D.filters,operatorDefinitions:D.operators}),g[9]=D.fields,g[10]=D.filters,g[11]=D.operators,g[12]=y,g[13]=o):o=g[13];let L=o;g[14]===Symbol.for("react.memo_cache_sentinel")?(l=[5,0,0,0],g[14]=l):l=g[14],g[15]!==y?(s=(0,_.jsx)(eoK,{filter:y}),g[15]=y,g[16]=s):s=g[16],g[17]!==C||g[18]!==s?(c=(0,_.jsx)(eoi,{anchorElement:C,onClose:P,children:s}),g[17]=C,g[18]=s,g[19]=c):c=g[19];let z=L?"primary":"transparent",V=A?3:2,U=A?3:5,H=A?3:2;return g[20]!==y||g[21]!==L?(u=(0,_.jsx)(eoz,{filter:y,showContent:L}),g[20]=y,g[21]=L,g[22]=u):u=g[22],g[23]!==N||g[24]!==V||g[25]!==U||g[26]!==H||g[27]!==u?(d=(0,_.jsx)(eoX,{mode:"bleed",onClick:M,onKeyDown:N,paddingLeft:V,paddingRight:U,paddingY:H,ref:k,children:u}),g[23]=N,g[24]=V,g[25]=U,g[26]=H,g[27]=u,g[28]=d):d=g[28],g[29]!==z||g[30]!==d?(p=(0,_.jsx)(I.Card,{__unstable_focusRing:!0,display:"flex",radius:2,tone:z,children:d}),g[29]=z,g[30]=d,g[31]=p):p=g[31],g[32]!==A||g[33]!==N||g[34]!==F||g[35]!==L||g[36]!==O?(f=!A&&(0,_.jsx)(eo$,{__unstable_focusRing:!0,display:"flex",radius:2,tone:L?"primary":"transparent",children:(0,_.jsx)(eoG,{"aria-label":O("search.action.remove-filter-aria-label"),fontSize:1,icon:R.CloseIcon,mode:"bleed",onClick:F,onKeyDown:N,padding:2,radius:2})}),g[32]=A,g[33]=N,g[34]=F,g[35]=L,g[36]=O,g[37]=f):f=g[37],g[38]!==p||g[39]!==f?(h=(0,_.jsxs)(eoZ,{children:[p,f]}),g[38]=p,g[39]=f,g[40]=h):h=g[40],g[41]!==b||g[42]!==c||g[43]!==h?(m=(0,_.jsx)(B.Popover,{__unstable_margins:l,content:c,constrainSize:!0,open:b,overflow:"auto",placement:"bottom-start",portal:!0,radius:3,ref:w,children:h}),g[41]=b,g[42]=c,g[43]=h,g[44]=m):m=g[44],m}function eoQ(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(38),{showTypeFilter:g}=e,y=void 0===g||g,{dispatch:v,state:b}=eaJ(),{filters:x,fullscreen:C,lastAddedFilter:k,terms:w}=b,{types:S}=w,{t:T}=IO(),[D,A]=(0,E.useState)(!1);m[0]!==v||m[1]!==y?(t=()=>{y&&v({type:"TERMS_TYPES_CLEAR"}),v({type:"TERMS_FILTERS_CLEAR"})},m[0]=v,m[1]=y,m[2]=t):t=m[2];let O=t,P=x.length>0||y&&S.length>0;m[3]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{A(!0)},r=[],m[3]=n,m[4]=r):(n=m[3],r=m[4]),(0,E.useEffect)(n,r),m[5]!==k?(i=k&&ea9(k),m[5]=k,m[6]=i):i=m[6];let M=i;m[7]!==C||m[8]!==O||m[9]!==T?(a=()=>(0,_.jsx)(B.Button,{mode:"bleed",onClick:O,size:C?"large":"default",text:T("search.action.clear-filters"),tone:"critical"}),m[7]=C,m[8]=O,m[9]=T,m[10]=a):a=m[10];let F=a;return m[11]!==y?(o=y&&(0,_.jsx)(eoN,{}),m[11]=y,m[12]=o):o=m[12],m[13]!==x||m[14]!==D||m[15]!==M?(l=null==x?void 0:x.map(e=>{let t=ea9(e);return(0,_.jsx)(eoJ,{filter:e,initialOpen:D&&M===t},t)}),m[13]=x,m[14]=D,m[15]=M,m[16]=l):l=m[16],m[17]!==C?(s=!C&&(0,_.jsx)(eoj,{}),m[17]=C,m[18]=s):s=m[18],m[19]!==l||m[20]!==s||m[21]!==o?(c=(0,_.jsxs)(I.Flex,{flex:1,gap:2,wrap:"wrap",children:[o,l,s]}),m[19]=l,m[20]=s,m[21]=o,m[22]=c):c=m[22],m[23]!==F||m[24]!==P||m[25]!==C?(u=P&&!C&&(0,_.jsx)(F,{}),m[23]=F,m[24]=P,m[25]=C,m[26]=u):u=m[26],m[27]!==c||m[28]!==u?(d=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c,u]}),m[27]=c,m[28]=u,m[29]=d):d=m[29],m[30]!==F||m[31]!==P||m[32]!==C?(p=C&&(0,_.jsxs)(I.Flex,{justify:"space-between",paddingBottom:2,paddingX:2,children:[(0,_.jsx)(eoj,{}),P&&(0,_.jsx)(F,{})]}),m[30]=F,m[31]=P,m[32]=C,m[33]=p):p=m[33],m[34]===Symbol.for("react.memo_cache_sentinel")?(f=!1,m[34]=f):f=m[34],m[35]!==d||m[36]!==p?(h=(0,_.jsxs)(_.Fragment,{children:[d,p,f]}),m[35]=d,m[36]=p,m[37]=h):h=m[37],h}function eo1(e,t){var n,r,i,a;let o=eoD(e).map(e=>e.name),{documentTypes:l,objectTypes:s}=((null==(n=e._original)?void 0:n.types)||[]).filter(e=>!eo7(e)||o.includes(e.name)).filter(e=>"slug"!==e.name).filter(e=>!e.name.startsWith("sanity.")).reduce((e,t)=>(eo7(t)&&(e.documentTypes[t.name]=t),eo3(t)&&(e.objectTypes[t.name]=t),e),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}};return r=t.reduce((e,t)=>("field"===t.type&&e.push(t.fieldType),e),[]),i=l,a=s,Object.values(i).reduce((e,t)=>{let n=t.fields.reduce((e,n)=>((function e(t){let{acc:n,defType:o,depth:l=0,documentType:s,prevFieldPath:c,prevTitlePath:u}=t,d=o.name.startsWith("_"),p=(null==o?void 0:o.title)?eob(o.title):(0,ti.default)(o.name),f=c?"".concat(c,".").concat(o.name):o.name,h=u?[...u,p]:[p];if(!(l<=3))return;let m=a[o.type],g=i[o.type],y=eo3(o)?o:null,v=g||m||y;if(v){var b;null==v||null==(b=v.fields)||b.forEach(t=>e({acc:n,defType:t,depth:l+1,documentType:s,prevFieldPath:f,prevTitlePath:h}));return}r.includes(o.type)&&n.push({documentTypes:s&&!d?[s]:[],fieldPath:f,filterName:function(e){var t,n,r;if("string"===(t=e).type&&null!=(n=t.options)&&n.list&&t.options.list.length>0)return"stringList";if(eo5(e)){if(e.of.some(e=>"reference"===e.type))return"arrayReferences";if(e.of.find(e=>"block"===e.type))return"portableText";if(eo5(e)&&e.of.every(e=>["boolean","number","string"].includes(e.type))&&null!=(r=e.options)&&r.list&&e.options.list.length>0)return"arrayList"}return e.type}(o),id:"",name:o.name,titlePath:h,title:p,type:o.type})})({acc:e,defType:n,documentType:t.name}),e),[]);return e.push(...n),e},[]).reduce((e,t)=>{let n=e.findIndex(e=>e.fieldPath===t.fieldPath&&e.title===t.title&&e.type===t.type);return n>-1?e[n]={...e[n],documentTypes:[...e[n].documentTypes,...t.documentTypes]}:e.push(t),e},[]).map(eo0).sort(eo8)}function eo2(e){return e.reduce((e,t)=>(e[t.id]=t,e),{})}function eo0(e){return{...e,id:[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}}function eo5(e){return"array"===e.type}function eo7(e){return"document"===e.type}function eo3(e){return"object"===e.type}function eo8(e,t){let n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}let eo4={version:2,recentSearches:[]};function eo6(){let e,t,n,r,i,a=(0,j.c)(18),[o,l]=function(){let e,t,n,r,i,a=(0,j.c)(14),o=Fh(),{dataset:l}=eTt(AE).config(),s="".concat("studio.search.recent",".").concat(l),[c,u]=(0,E.useState)(eo4);a[0]!==o||a[1]!==s?(e=o.getKey(s),a[0]=o,a[1]=s,a[2]=e):e=a[2];let d=e;a[3]!==o||a[4]!==s||a[5]!==d?(t=()=>{let e=d.pipe((0,eI.startWith)(eo4),(0,Z.map)(e=>e?(null==e?void 0:e.version)!==2?(o.setKey(s,eo4),eo4):e:eo4)).subscribe({next:u});return()=>null==e?void 0:e.unsubscribe()},n=[d,o,s],a[3]=o,a[4]=s,a[5]=d,a[6]=t,a[7]=n):(t=a[6],n=a[7]),(0,E.useEffect)(t,n),a[8]!==o||a[9]!==s?(r=e=>{u(e),o.setKey(s,e)},a[8]=o,a[9]=s,a[10]=r):r=a[10];let p=r;return a[11]!==p||a[12]!==c?(i=[c,p],a[11]=p,a[12]=c,a[13]=i):i=a[13],i}(),s=el3(),{search:c}=eii(),{operators:u,filters:d}=c;a[0]!==d||a[1]!==s?(e=eo2(eo1(s,d)),a[0]=d,a[1]=s,a[2]=e):e=a[2],a[3]!==d?(t=ea5(d),a[3]=d,a[4]=t):t=a[4],a[5]!==u?(n=ea7(u),a[5]=u,a[6]=n):n=a[6],a[7]!==e||a[8]!==t||a[9]!==n?(r={fieldDefinitions:e,filterDefinitions:t,operatorDefinitions:n},a[7]=e,a[8]=t,a[9]=n,a[10]=r):r=a[10];let{fieldDefinitions:p,filterDefinitions:f,operatorDefinitions:h}=r;return a[11]!==p||a[12]!==f||a[13]!==h||a[14]!==s||a[15]!==l||a[16]!==o?(i={addSearch:(e,t)=>{let n=(t||[]).map(ele).filter(e=>eot({fieldDefinitions:p,filter:e,filterDefinitions:f,operatorDefinitions:h})),r={created:new Date().toISOString(),filters:n,terms:{query:e.query.trim(),typeNames:e.types.map(eo9)}},i={version:2,recentSearches:[r,...o.recentSearches.filter(e=>!(0,e4.default)((0,uv.default)(e,"created"),(0,uv.default)(r,"created")))].slice(0,5)};return l(i),elt({fieldDefinitions:p,filterDefinitions:f,operatorDefinitions:h,schema:s,storedSearch:i,setStoredSearch:l})},getRecentSearches:()=>elt({fieldDefinitions:p,filterDefinitions:f,operatorDefinitions:h,schema:s,storedSearch:o,setStoredSearch:l}),removeSearch:()=>{let e={...o,recentSearches:[]};return l(e),elt({fieldDefinitions:p,filterDefinitions:f,operatorDefinitions:h,schema:s,storedSearch:e,setStoredSearch:l})},removeSearchAtIndex:e=>{if(e<0||e>o.recentSearches.length)return elt({fieldDefinitions:p,filterDefinitions:f,operatorDefinitions:h,schema:s,storedSearch:o,setStoredSearch:l});let t={...o,recentSearches:[...o.recentSearches.slice(0,e),...o.recentSearches.slice(e+1)]};return l(t),elt({fieldDefinitions:p,filterDefinitions:f,operatorDefinitions:h,schema:s,storedSearch:t,setStoredSearch:l})}},a[11]=p,a[12]=f,a[13]=h,a[14]=s,a[15]=l,a[16]=o,a[17]=i):i=a[17],i}function eo9(e){return e.name}function ele(e){return{fieldId:e.fieldId,filterName:e.filterName,operatorType:e.operatorType,value:e.value}}function elt(e){let{schema:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:i,storedSearch:a,setStoredSearch:o}=e;return(function(e){let{fieldDefinitions:t,filterDefinitions:n,operatorDefinitions:r,studioSchema:i,storedSearch:a,setStoredSearch:o}=e,l=eoD(i).map(e=>e.name),s={version:2,recentSearches:a.recentSearches.filter(e=>e.terms.typeNames.every(e=>l.includes(e))&&e.filters.every(e=>eot({fieldDefinitions:t,filter:e,filterDefinitions:n,operatorDefinitions:r})))};return s.recentSearches.length<a.recentSearches.length&&o(s),s})({studioSchema:t,filterDefinitions:r,fieldDefinitions:n,operatorDefinitions:i,storedSearch:a,setStoredSearch:o}).recentSearches.filter(e=>!!e.terms).map((e,n)=>({__recent:{index:n,timestamp:new Date(e.created).getTime()},filters:e.filters,query:e.terms.query,types:e.terms.typeNames.map(e=>t.get(e)).filter(e=>!!(e&&"object"===e.jsonType))}))}function eln(){let e,t,n=(0,j.c)(3),{t:r}=IO();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={ControlsIcon:elr},n[0]=e):e=n[0],n[1]!==r?(t=(0,_.jsx)(I.Flex,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:(0,_.jsx)(I.Inline,{space:3,children:(0,_.jsx)(I.Text,{muted:!0,children:(0,_.jsx)(IZ,{t:r,i18nKey:"search.instructions",components:e})})})}),n[1]=r,n[2]=t):t=n[2],t}function elr(){return(0,_.jsx)(R.ControlsIcon,{style:{padding:"0 0.25rem"}},0)}function eli(e){let t,n,r=(0,j.c)(6),{availableCharacters:i,types:a}=e,{t:o}=IO();r[0]!==i||r[1]!==o||r[2]!==a?(t=eoE({availableCharacters:i,types:a,t:o}),r[0]=i,r[1]=o,r[2]=a,r[3]=t):t=r[3];let l=t;return r[4]!==l?(n=(0,_.jsx)(I.Card,{border:!0,padding:2,radius:2,children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:l})}),r[4]=l,r[5]=n):n=r[5],n}let ela=(0,F.styled)(I.Card)(jP());function elo(e){let t,n=(0,j.c)(2),{filter:r}=e;return n[0]!==r?(t=(0,_.jsx)(ela,{border:!0,padding:2,radius:2,tone:"primary",children:(0,_.jsx)(eoz,{filter:r})}),n[0]=r,n[1]=t):t=n[1],t}let ell=(0,F.styled)(I.Button)(jM(),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[2])}),els=(0,F.styled)(I.Box)(jF()),elc=(0,F.styled)(I.Flex)(jR()),elu=F.styled.div(jB(),ell);function eld(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v=(0,j.c)(36);v[0]!==e?({index:n,maxVisibleTypePillChars:i,value:a,...r}=e,v[0]=e,v[1]=n,v[2]=r,v[3]=i,v[4]=a):(n=v[1],r=v[2],i=v[3],a=v[4]);let b=void 0===i?40:i,{dispatch:x}=eaJ(),C=eo6(),k=b-a.query.length;v[5]!==x||v[6]!==C||v[7]!==a?(o=()=>{x({type:"TERMS_SET",filters:null==a?void 0:a.filters,terms:a}),C&&(null==C||C.addSearch(a,null==a?void 0:a.filters))},v[5]=x,v[6]=C,v[7]=a,v[8]=o):o=v[8];let w=o;v[9]!==n||v[10]!==C?(l=e=>{e.stopPropagation(),C&&(null==C||C.removeSearchAtIndex(n))},v[9]=n,v[10]=C,v[11]=l):l=v[11];let S=l;return v[12]===Symbol.for("react.memo_cache_sentinel")?(s=(0,_.jsxs)(I.Inline,{paddingY:2,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.ClockIcon,{})}),(0,_.jsx)(I.Text,{children:"​"})]}),v[12]=s):s=v[12],v[13]!==a.query?(c=a.query&&(0,_.jsx)(elc,{align:"center",paddingY:2,children:(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:a.query})}),v[13]=a.query,v[14]=c):c=v[14],v[15]!==k||v[16]!==a.types?(u=a.types.length>0&&(0,_.jsx)(els,{children:(0,_.jsx)(eli,{availableCharacters:k,types:a.types})}),v[15]=k,v[16]=a.types,v[17]=u):u=v[17],v[18]!==a.filters?(d=null==a||null==(t=a.filters)?void 0:t.map(elp),v[18]=a.filters,v[19]=d):d=v[19],v[20]!==c||v[21]!==u||v[22]!==d?(p=(0,_.jsxs)(I.Flex,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[c,u,d]}),v[20]=c,v[21]=u,v[22]=d,v[23]=p):p=v[23],v[24]===Symbol.for("react.memo_cache_sentinel")?(f=(0,_.jsx)(I.Flex,{padding:2,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.CloseIcon,{})})}),v[24]=f):f=v[24],v[25]!==S?(h=(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(elu,{onClick:S,children:f})}),v[25]=S,v[26]=h):h=v[26],v[27]!==h||v[28]!==p?(m=(0,_.jsxs)(I.Flex,{align:"stretch",children:[s,p,h]}),v[27]=h,v[28]=p,v[29]=m):m=v[29],v[30]!==w||v[31]!==m?(g=(0,_.jsx)(ell,{mode:"bleed",onClick:w,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:m}),v[30]=w,v[31]=m,v[32]=g):g=v[32],v[33]!==r||v[34]!==g?(y=(0,_.jsx)(I.Box,{...r,children:g}),v[33]=r,v[34]=g,v[35]=y):y=v[35],y}function elp(e,t){return(0,_.jsx)(elo,{filter:e},t)}let elf=(0,F.styled)(I.Card)(jN());function elh(e){let t,n,r,i,a,o=(0,j.c)(17),{inputElement:l}=e,{state:s}=eaJ(),{filtersVisible:c,fullscreen:u}=s,d=eo6();o[0]!==d?(t=null==d?void 0:d.getRecentSearches(),o[0]=d,o[1]=t):t=o[1];let p=t,f=(0,E.useRef)(null),{t:h}=IO();o[2]!==d?(n=()=>{var e;d&&d.removeSearch(),null==f||null==(e=f.current)||e.focusInputElement()},o[2]=d,o[3]=n):n=o[3];let m=n,g=2>(0,I.useMediaIndex)()?20:40;o[4]!==g?(r=(e,t)=>{let{virtualIndex:n}=t;return(0,_.jsx)(eld,{index:n,maxVisibleTypePillChars:g,paddingBottom:1,value:e})},o[4]=g,o[5]=r):r=o[5];let y=r,v=!!p.length,b=v||!v&&!c&&u;return o[6]!==c||o[7]!==u||o[8]!==m||o[9]!==l||o[10]!==p||o[11]!==y||o[12]!==h?(i=p.length>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Box,{paddingBottom:2,paddingTop:4,paddingX:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:h("search.recent-searches-label")})}),(0,_.jsx)(I.Box,{children:(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:h("search.recent-searches-aria-label"),inputElement:l,initialIndex:0,itemHeight:36,items:p,paddingX:2,paddingY:1,renderItem:y})}),(0,_.jsx)(I.Box,{paddingBottom:2,paddingTop:1,paddingX:2,children:(0,_.jsx)(B.Button,{mode:"bleed",onClick:m,tone:"default",text:h("search.action.clear-recent-searches"),muted:!0})})]}):!c&&u&&(0,_.jsx)(eln,{}),o[6]=c,o[7]=u,o[8]=m,o[9]=l,o[10]=p,o[11]=y,o[12]=h,o[13]=i):i=o[13],o[14]!==b||o[15]!==i?(a=(0,_.jsx)(elf,{borderTop:b,flex:1,children:i}),o[14]=b,o[15]=i,o[16]=a):a=o[16],a}let elm=(0,F.keyframes)(jL()),elg=(0,F.styled)(R.SpinnerIcon)(jz(),elm),ely=F.styled.div(jV()),elv=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(48),{ariaInputLabel:v,onClose:b}=e,x=(0,E.useRef)(!1),{t:C}=IO(),{dispatch:k,state:w}=eaJ(),{filters:S,filtersVisible:T,fullscreen:D,result:A,terms:O}=w,{loading:P}=A,{types:M,query:F}=O;y[0]!==O?(n=eaQ({terms:O}),y[0]=O,y[1]=n):n=y[1];let N=n;y[2]!==v||y[3]!==N||y[4]!==C?(r=C(v||N?"search.search-results-aria-label":"search.recent-searches-aria-label"),y[2]=v,y[3]=N,y[4]=C,y[5]=r):r=y[5];let L=r;y[6]!==k||y[7]!==T?(i=()=>k({type:"FILTERS_VISIBLE_SET",visible:!T}),y[6]=k,y[7]=T,y[8]=i):i=y[8];let z=i;y[9]!==k?(a=e=>k({type:"TERMS_QUERY_SET",query:e.currentTarget.value}),y[9]=k,y[10]=a):a=y[10];let V=a;y[11]!==k?(o=()=>{k({type:"TERMS_QUERY_SET",query:""})},y[11]=k,y[12]=o):o=y[12];let U=o;y[13]!==k||y[14]!==D?(l=()=>{D||k({type:"FILTERS_VISIBLE_SET",visible:!0})},s=[k,D],y[13]=k,y[14]=D,y[15]=l,y[16]=s):(l=y[15],s=y[16]),(0,E.useEffect)(l,s),y[17]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{x.current=!0},u=[],y[17]=c,y[18]=u):(c=y[17],u=y[18]),(0,E.useEffect)(c,u);let H=S.length>0||M.length>0,q=D?2:1,W=D?2:1;y[19]!==D||y[20]!==b||y[21]!==C?(d=D&&(0,_.jsx)(B.Button,{"aria-label":C("search.action.close-search-aria-label"),icon:R.ArrowLeftIcon,mode:"bleed",onClick:b,size:"large",tooltipProps:{content:C("search.action.close-search-aria-label")}}),y[19]=D,y[20]=b,y[21]=C,y[22]=d):d=y[22];let Y=!!F;y[23]===Symbol.for("react.memo_cache_sentinel")?(p=[2,2,1],y[23]=p):p=y[23];let K=P?elg:R.SearchIcon;return y[24]!==C?(f=C("search.placeholder"),y[24]=C,y[25]=f):f=y[25],y[26]!==L||y[27]!==D||y[28]!==V||y[29]!==U||y[30]!==F||y[31]!==t||y[32]!==Y||y[33]!==K||y[34]!==f?(h=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(eol,{__unstable_disableFocusRing:!0,$background:D,$smallClearButton:D,"aria-label":L,autoComplete:"off",border:!1,clearButton:Y,fontSize:p,icon:K,onChange:V,onClear:U,placeholder:f,radius:2,ref:t,spellCheck:!1,value:F})}),y[26]=L,y[27]=D,y[28]=V,y[29]=U,y[30]=F,y[31]=t,y[32]=Y,y[33]=K,y[34]=f,y[35]=h):h=y[35],y[36]!==T||y[37]!==D||y[38]!==z||y[39]!==H||y[40]!==C?(m=D&&(0,_.jsx)(ely,{children:(0,_.jsx)(eDs,{"aria-expanded":T,"aria-label":C("search.action.toggle-filters-aria-label",{context:T?"hide":"show"}),icon:R.ControlsIcon,mode:"bleed",onClick:z,selected:T,size:"large",tone:H?"primary":void 0,tooltipProps:{content:C("search.action.toggle-filters-label",{context:T?"hide":"show"})}})}),y[36]=T,y[37]=D,y[38]=z,y[39]=H,y[40]=C,y[41]=m):m=y[41],y[42]!==q||y[43]!==W||y[44]!==d||y[45]!==h||y[46]!==m?(g=(0,_.jsx)(I.Card,{flex:"none",children:(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:q,padding:W,children:[d,h,m]})}),y[42]=q,y[43]=W,y[44]=d,y[45]=h,y[46]=m,y[47]=g):g=y[47],g});function elb(){let e,t,n,r,i,a=(0,j.c)(11),{t:o}=IO();return a[0]!==o?(e=o("search.no-results-title"),a[0]=o,a[1]=e):e=a[1],a[2]!==e?(t=(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,weight:"medium",children:e}),a[2]=e,a[3]=t):t=a[3],a[4]!==o?(n=o("search.no-results-help-description"),a[4]=o,a[5]=n):n=a[5],a[6]!==n?(r=(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:n}),a[6]=n,a[7]=r):r=a[7],a[8]!==t||a[9]!==r?(i=(0,_.jsx)(I.Container,{width:0,children:(0,_.jsxs)(I.Stack,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[t,r]})}),a[8]=t,a[9]=r,a[10]=i):i=a[10],i}function elx(){let e,t,n,r,i,a,o=(0,j.c)(12),{t:l}=IO();return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Box,{marginBottom:1,children:(0,_.jsx)(eiD,{tone:"critical",children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),o[0]=e):e=o[0],o[1]!==l?(t=l("search.error.unspecified-error-title"),o[1]=l,o[2]=t):t=o[2],o[3]!==t?(n=(0,_.jsx)(eiD,{size:2,tone:"critical",weight:"medium",children:t}),o[3]=t,o[4]=n):n=o[4],o[5]!==l?(r=l("search.error.unspecified-error-help-description"),o[5]=l,o[6]=r):r=o[6],o[7]!==r?(i=(0,_.jsx)(eiD,{size:1,tone:"critical",children:r}),o[7]=r,o[8]=i):i=o[8],o[9]!==n||o[10]!==i?(a=(0,_.jsxs)(I.Flex,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[e,n,i]}),o[9]=n,o[10]=i,o[11]=a):a=o[11],a}let elC=e=>{let{searchStrategy:t}=e;return{createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},titleKey:"search.ordering.created-ascending-label"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},titleKey:"search.ordering.created-descending-label"},relevance:{customMeasurementLabel:"relevance",..."groqLegacy"===t?{sort:{direction:"desc",field:"_updatedAt"}}:{},titleKey:"search.ordering.best-match-label"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},titleKey:"search.ordering.updated-ascending-label"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.updated-descending-label"}}},elk=(0,F.styled)(I.Flex)(jU());function elw(e){return"divider"===e.type}function el_(e){let t,n,r,i,a=(0,j.c)(13),{ordering:o}=e,{t:l}=IO(),{dispatch:s,state:c}=eaJ(),{ordering:u}=c;a[0]!==s||a[1]!==o?(t=()=>{s({ordering:o,type:"ORDERING_SET"})},a[0]=s,a[1]=o,a[2]=t):t=a[2];let d=t;a[3]!==u||a[4]!==o?(n=(0,e4.default)(u,o),a[3]=u,a[4]=o,a[5]=n):n=a[5];let p=n;return a[6]!==o.titleKey||a[7]!==l?(r=l(o.titleKey),a[6]=o.titleKey,a[7]=l,a[8]=r):r=a[8],a[9]!==d||a[10]!==p||a[11]!==r?(i=(0,_.jsx)(B.MenuItem,{onClick:d,pressed:p,tone:"default",text:r}),a[9]=d,a[10]=p,a[11]=r,a[12]=i):i=a[12],i}function elj(){let{t:e}=IO(),{strategy:t}=FU().search,{state:{ordering:n}}=eaJ(),r=(0,E.useId)(),i=(0,E.useMemo)(()=>{let e=elC({searchStrategy:t});return[e.relevance,{type:"divider"},e.createdAsc,e.createdDesc,{type:"divider"},e.updatedAsc,e.updatedDesc]},[t]),a=i.find(e=>(0,e4.default)(n,e)&&!elw(e));return a?(0,_.jsx)(I.Card,{borderBottom:!0,children:(0,_.jsx)(elk,{align:"center",flex:1,padding:2,children:(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{mode:"bleed",icon:R.SortIcon,text:e(a.titleKey)}),id:r||"",menu:(0,_.jsx)(I.Menu,{children:i.map((e,t)=>elw(e)?(0,_.jsx)(I.MenuDivider,{},t):(0,_.jsx)(el_,{ordering:e},t))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}let elS=(0,F.styled)(I.Card)(jH());function elE(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(18),{data:u}=e,{score:d}=u,p="default";if(d<=.1?p="critical":d>=.5&&(p="primary"),c[0]!==u.stories){let e=u.stories.filter(elD);n=B.Tooltip,t=I.Stack,r=2,i=e.length?(0,_.jsx)(_.Fragment,{children:e.map(elT)}):(0,_.jsx)(I.Code,{size:0,children:"No matches"}),c[0]=u.stories,c[1]=t,c[2]=n,c[3]=r,c[4]=i}else t=c[1],n=c[2],r=c[3],i=c[4];return c[5]!==t||c[6]!==r||c[7]!==i?(a=(0,_.jsx)(t,{space:r,children:i}),c[5]=t,c[6]=r,c[7]=i,c[8]=a):a=c[8],c[9]!==d?(o=(0,_.jsxs)(I.Code,{size:0,children:["score: ",d]}),c[9]=d,c[10]=o):o=c[10],c[11]!==o||c[12]!==p?(l=(0,_.jsx)(elS,{padding:1,shadow:1,tone:p,children:o}),c[11]=o,c[12]=p,c[13]=l):l=c[13],c[14]!==n||c[15]!==a||c[16]!==l?(s=(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(n,{content:a,placement:"bottom-start",portal:!0,children:l})}),c[14]=n,c[15]=a,c[16]=l,c[17]=s):s=c[17],s}function elT(e){return(0,_.jsxs)(I.Inline,{space:3,children:[(0,_.jsx)(I.Code,{size:0,weight:"medium",children:e.path}),(0,_.jsx)(I.Code,{size:0,children:e.why})]},e.path)}function elD(e){return e.score>0}let elI=(0,F.styled)(I.Box)(jq());function elA(e){let{documentId:t,documentType:n,layout:r,presence:i,schemaType:a,showBadge:o=!0,perspective:l}=e,s=Fu(),c=(0,E.useMemo)(()=>eru(s,a,t,l),[s,a,t,l]),u=(0,E.useMemo)(()=>({_id:t,_type:n}),[t,n]),{isLoading:d,snapshot:p,original:f}=(0,te.useObservable)(c,{snapshot:null,isLoading:!0,original:null}),h=ea_(t),m=(0,E.useMemo)(()=>d?null:(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[i&&i.length>0&&(0,_.jsx)(ecQ,{presence:i}),o&&(0,_.jsx)(I.Badge,{children:a.title}),(0,_.jsx)(z3,{draft:h.draft,published:h.published,versions:h.versions})]}),[d,i,a.title,o,h.draft,h.published,h.versions]),g=(0,_.jsx)(eTv,{draft:h.draft,published:h.published,versions:h.versions});return(0,_.jsx)(elI,{children:(0,_.jsx)(q8,{...erp({snapshot:p,original:f,fallback:u}),isPlaceholder:null==d||d,layout:r||"default",icon:a.icon,status:m,tooltip:g})})}function elO(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D=(0,j.c)(68);D[0]!==e?({disableIntentLink:n,documentId:r,documentType:i,layout:a,onClick:o,onItemSelect:l,previewPerspective:s,...c}=e,D[0]=e,D[1]=n,D[2]=r,D[3]=i,D[4]=a,D[5]=o,D[6]=l,D[7]=s,D[8]=c):(n=D[1],r=D[2],i=D[3],a=D[4],o=D[5],l=D[6],s=D[7],c=D[8]);let A=el3();D[9]!==i||D[10]!==A?(u=A.get(i),D[9]=i,D[10]=A,D[11]=u):u=D[11];let O=u,P=Fb(r);D[12]!==r?(d=(0,th.getPublishedId)(r),D[12]=r,D[13]=d):d=D[13];let M=null==O?void 0:O.name;D[14]!==d||D[15]!==M?(p={id:d,type:M},D[14]=d,D[15]=M,D[16]=p):p=D[16];let F=p;D[17]!==F?(f={intent:"edit",params:F},D[17]=F,D[18]=f):f=D[18];let{onClick:R,href:N}=(0,nr.useIntentLink)(f),{state:L}=eaJ(),{t:z}=IO(),V=Fs(),[U,H]=(0,E.useState)(null),q=null==U?void 0:U.granted;D[19]!==r||D[20]!==i||D[21]!==V||D[22]!==L.canDisableAction?(h=()=>{L.canDisableAction&&V.checkDocumentPermission("create",{_id:r,_type:i}).subscribe(H)},m=[r,i,V,L.canDisableAction],D[19]=r,D[20]=i,D[21]=V,D[22]=L.canDisableAction,D[23]=h,D[24]=m):(h=D[23],m=D[24]),(0,E.useEffect)(h,m),D[25]!==r||D[26]!==L.disabledDocumentIds?(g=null==(t=L.disabledDocumentIds)?void 0:t.some(e=>e.includes((0,th.getPublishedId)(r))),D[25]=r,D[26]=L.disabledDocumentIds,D[27]=g):g=D[27];let W=g,Y=!q&&L.canDisableAction||W;D[28]!==r||D[29]!==i?(y={_id:r,_type:i},D[28]=r,D[29]=i,D[30]=y):y=D[30];let K=y;D[31]!==K||D[32]!==O?(v={enabled:!0,schemaType:O,value:K},D[31]=K,D[32]=O,D[33]=v):v=D[33];let G=Wt(v);D[34]!==n||D[35]!==r||D[36]!==i||D[37]!==o||D[38]!==R||D[39]!==l||D[40]!==G?(b=e=>{var t;null==l||l({_id:r,_type:i,title:null==(t=G.value)?void 0:t.title}),n||R(e),null==o||o(e)},D[34]=n,D[35]=r,D[36]=i,D[37]=o,D[38]=R,D[39]=l,D[40]=G,D[41]=b):b=D[41];let $=b;if(!O)return null;let Z=Y?void 0:"a",X=Y||n?void 0:N,J=Y?"none":void 0,Q=Y?.5:1;D[42]!==J||D[43]!==Q?(x={pointerEvents:J,opacity:Q},D[42]=J,D[43]=Q,D[44]=x):x=D[44],D[45]!==r||D[46]!==P||D[47]!==i||D[48]!==a||D[49]!==s||D[50]!==O?(C=(0,_.jsx)(elA,{documentId:r,documentType:i,layout:a,perspective:s,presence:P,schemaType:O}),D[45]=r,D[46]=P,D[47]=i,D[48]=a,D[49]=s,D[50]=O,D[51]=C):C=D[51],D[52]!==$||D[53]!==Z||D[54]!==X||D[55]!==x||D[56]!==C?(k=(0,_.jsx)(eTA,{as:Z,"data-as":"a",flex:1,href:X,onClick:$,radius:2,tabIndex:-1,style:x,children:C}),D[52]=$,D[53]=Z,D[54]=X,D[55]=x,D[56]=C,D[57]=k):k=D[57],D[58]!==c||D[59]!==k?(w=(0,_.jsx)(I.Box,{...c,children:k}),D[58]=c,D[59]=k,D[60]=w):w=D[60];let ee=w;D[61]!==W||D[62]!==z?(S=z(W?"search.disabledItem":"release.action.permission.error"),D[61]=W,D[62]=z,D[63]=S):S=D[63];let et=S;return D[64]!==ee||D[65]!==Y||D[66]!==et?(T=Y?(0,_.jsx)(B.Tooltip,{content:et,placement:"top",children:ee}):ee,D[64]=ee,D[65]=Y,D[66]=et,D[67]=T):T=D[67],T}let elP=(0,F.styled)(I.Flex)(jW(),e=>{let{$loadingFirstPage:t}=e;return t?.5:1});function elM(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(36),{disableIntentLink:u,inputElement:d,onItemSelect:p,previewPerspective:f}=e,{dispatch:h,onClose:m,setSearchCommandList:g,state:y}=eaJ(),{debug:v,filters:b,fullscreen:x,lastActiveIndex:C,result:k,terms:w,cursor:S}=y,{t:E}=IO(),T=eo6(),D=!!k.hits.length,A=!k.hits.length&&k.loaded,O=k.error;c[0]!==b||c[1]!==m||c[2]!==T||c[3]!==w?(t=e=>{T&&T.addSearch(w,b),e.metaKey||e.ctrlKey||null==m||m()},c[0]=b,c[1]=m,c[2]=T,c[3]=w,c[4]=t):t=c[4];let P=t;c[5]!==h?(n=()=>{h({type:"PAGE_INCREMENT"})},c[5]=h,c[6]=n):n=c[6];let M=n;c[7]!==v||c[8]!==u||c[9]!==P||c[10]!==p||c[11]!==f?(r=e=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(elO,{disableIntentLink:u,documentId:e.hit._id||"",documentType:e.hit._type,onClick:P,onItemSelect:p,previewPerspective:f,paddingY:1}),v&&(0,_.jsx)(elE,{data:e})]}),c[7]=v,c[8]=u,c[9]=P,c[10]=p,c[11]=f,c[12]=r):r=c[12];let F=r,R=x||!!(O||D||A);c[13]!==D?(i=D&&(0,_.jsx)(elj,{}),c[13]=D,c[14]=i):i=c[14];let B=k.loading&&null===S;return c[15]!==M||c[16]!==O||c[17]!==A||c[18]!==D||c[19]!==d||c[20]!==C||c[21]!==F||c[22]!==k.hits||c[23]!==g||c[24]!==E?(a=O?(0,_.jsx)(elx,{}):(0,_.jsxs)(_.Fragment,{children:[D&&(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:E("search.search-results-label"),"data-testid":"search-results",fixedHeight:!0,initialIndex:C,inputElement:d,itemHeight:57,items:k.hits,overscan:4,onEndReached:M,paddingX:2,paddingY:1,ref:g,renderItem:F}),A&&(0,_.jsx)(elb,{})]}),c[15]=M,c[16]=O,c[17]=A,c[18]=D,c[19]=d,c[20]=C,c[21]=F,c[22]=k.hits,c[23]=g,c[24]=E,c[25]=a):a=c[25],c[26]!==k.loading||c[27]!==B||c[28]!==a?(o=(0,_.jsx)(elP,{$loadingFirstPage:B,"aria-busy":k.loading,flex:1,children:a}),c[26]=k.loading,c[27]=B,c[28]=a,c[29]=o):o=c[29],c[30]!==i||c[31]!==o?(l=(0,_.jsxs)(I.Flex,{direction:"column",height:"fill",children:[i,o]}),c[30]=i,c[31]=o,c[32]=l):l=c[32],c[33]!==l||c[34]!==R?(s=(0,_.jsx)(I.Flex,{children:(0,_.jsx)(I.Card,{borderTop:R,flex:1,children:l})}),c[33]=l,c[34]=R,c[35]=s):s=c[35],s}let elF={duration:.4,type:"spring"},elR={open:{opacity:1,scale:1,x:"-50%"},closed:{opacity:0,scale:.99,x:"-50%"}},elB={open:{opacity:1},closed:{opacity:0}},elN=(0,F.styled)(na.motion.create(I.Card))(jY()),elL=(0,F.styled)(na.motion.create(I.Card))(jK(),12,eaX,735,12,2*eaX,800);function elz(e){let t,n,r,i,a,o=(0,j.c)(22),{disableFocusLock:l,disableIntentLink:s,onClose:c,onItemSelect:u,onOpen:d,previewPerspective:p,open:f}=e,[h,m]=(0,E.useState)(null),g=(0,E.useRef)(null),{isTopLayer:y,zIndex:v}=(0,I.useLayer)(),{onClose:b,state:x}=eaJ(),{filtersVisible:C,terms:k}=x;o[0]!==k?(t=eaQ({terms:k}),o[0]=k,o[1]=t):t=o[1];let w=t;return o[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>[g.current],o[2]=n):n=o[2],(0,I.useClickOutsideEvent)(y&&f&&!!b&&b,n),o[3]!==l||o[4]!==s||o[5]!==C||o[6]!==w||o[7]!==h||o[8]!==c||o[9]!==u||o[10]!==f||o[11]!==p||o[12]!==v?(r=f&&(0,_.jsx)(I.Portal,{children:(0,_.jsxs)(ts.default,{autoFocus:!IC,disabled:l,returnFocus:!0,children:[(0,_.jsx)(elN,{animate:"open",exit:"closed",initial:"closed",style:{zIndex:v},transition:elF,variants:elB}),(0,_.jsxs)(elL,{animate:"open",exit:"closed",initial:"closed",overflow:"hidden",radius:3,ref:g,shadow:2,style:{zIndex:v},transition:elF,variants:elR,children:[(0,_.jsx)(elv,{onClose:c,ref:m}),C&&(0,_.jsx)(I.Card,{borderTop:!0,flex:"none",children:(0,_.jsx)(eoQ,{})}),w?(0,_.jsx)(elM,{inputElement:h,onItemSelect:u,disableIntentLink:s,previewPerspective:p}):(0,_.jsx)(elh,{inputElement:h})]})]})}),o[3]=l,o[4]=s,o[5]=C,o[6]=w,o[7]=h,o[8]=c,o[9]=u,o[10]=f,o[11]=p,o[12]=v,o[13]=r):r=o[13],o[14]!==r?(i=(0,_.jsx)(no.AnimatePresence,{children:r}),o[14]=r,o[15]=i):i=o[15],o[16]!==w||o[17]!==c||o[18]!==d||o[19]!==f||o[20]!==i?(a=(0,_.jsx)(ea0,{hasValidTerms:w,onClose:c,onOpen:d,open:f,children:i}),o[16]=w,o[17]=c,o[18]=d,o[19]=f,o[20]=i,o[21]=a):a=o[21],a}let elV={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function elU(e){return null!==e}function elH(e){var t;return{...e,terms:{...e.terms,filter:null==(t=e.terms.filter)?void 0:t.trim(),query:e.terms.query.trim()}}}function elq(e){let t,n,r,i,a=(0,j.c)(16),{allowEmptyQueries:o,initialState:l,onComplete:s,onError:c,onStart:u,schema:d}=e,[p,f]=(0,E.useState)(l),h=eTt(AE),m=zF(),{strategy:g}=FU().search;a[0]!==h||a[1]!==m||a[2]!==d||a[3]!==g?(t=Ul(eoD(d),h,{tag:"search.global",unique:!0,strategy:g,maxDepth:m}),a[0]=h,a[1]=m,a[2]=d,a[3]=g,a[4]=t):t=a[4];let y=t;a[5]!==o||a[6]!==s||a[7]!==c||a[8]!==u||a[9]!==y?(n=e=>e.pipe((0,ew.filter)(elU),(0,Z.map)(elH),(0,ed.distinctUntilChanged)(e4.default),(0,ez.debounce)(elY),(0,eh.tap)(u),(0,Q.switchMap)(e=>(0,K.concat)((0,Y.of)({...elV,loading:!0,options:e.options,terms:e.terms}),(0,eD.iif)(()=>eaQ({allowEmptyQueries:o,terms:e.terms}),y(e.terms,e.options).pipe((0,eh.tap)(e=>{let{hits:t,nextCursor:n}=e;return null==s?void 0:s({hits:t,nextCursor:n})}),(0,J.catchError)(t=>(null==c||c(t),(0,Y.of)({...elV,error:t,loading:!1,options:e.options,terms:e.terms})))),(0,Y.of)($.EMPTY).pipe((0,eh.tap)(()=>null==s?void 0:s({hits:[],nextCursor:void 0})))),(0,Y.of)({loading:!1}))),(0,eO.scan)(elW,elV),(0,eh.tap)(f)),a[5]=o,a[6]=s,a[7]=c,a[8]=u,a[9]=y,a[10]=n):n=a[10];let v=(0,te.useObservableEvent)(n);a[11]!==v?(r=e=>v(e),a[11]=v,a[12]=r):r=a[12];let b=r;return a[13]!==b||a[14]!==p?(i={handleSearch:b,searchState:p},a[13]=b,a[14]=p,a[15]=i):i=a[15],i}function elW(e,t){return{...e,...t}}function elY(e){return(0,es.timer)((null==e?void 0:e.debounceTime)||300)}function elK(e){return"u">typeof e.__recent}let elG="core:studio:navbar:search:";(0,tr.default)(elG);let el$=function(e){let t="".concat(elG).concat(e);return tr.default&&tr.default.enabled(t)?(0,tr.default)(t):(0,tr.default)(elG)}("reducer");function elZ(e,t){var n,r,i;let a="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(a="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(a="💾"),el$(a,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:elC({searchStrategy:e.strategy}).relevance,terms:elX(e.terms),cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1}};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:elX(e.terms),cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1}};case"PAGE_INCREMENT":return{...e,cursor:null!=(n=e.nextCursor)?n:e.cursor,nextCursor:null,terms:elX(e.terms)};case"SEARCH_CLEAR":return{...e,cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,nextCursor:null!=(r=t.nextCursor)?r:null,result:{...e.result,error:null,hasLocal:!0,hits:D6([...e.result.hasLocal?e.result.hits:[],...t.hits].map(e=>{let{hit:t}=e;return t})).map(e=>({hit:e})),loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{let n={...t.filter,value:null==(i=ea3(e.definitions.operators,t.filter.operatorType))?void 0:i.initialValue},r=[...e.filters,n];return{...e,documentTypesNarrowed:eoe({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,lastAddedFilter:n,cursor:null,nextCursor:null,terms:{...e.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_CLEAR":{let t=[];return{...e,documentTypesNarrowed:eoe({fieldDefinitions:e.definitions.fields,filters:t,types:e.terms.types}),filters:t,cursor:null,nextCursor:null,terms:{...e.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:t,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_REMOVE":{let n=e.filters.findIndex(e=>ea9(e)===t.filterKey),r=[...e.filters.slice(0,n),...e.filters.slice(n+1)];return{...e,documentTypesNarrowed:eoe({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,cursor:null,nextCursor:null,terms:{...e.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_OPERATOR":{let n=e.filters.find(e=>ea9(e)===t.filterKey),r=ea3(e.definitions.operators,null==n?void 0:n.operatorType),i=ea3(e.definitions.operators,t.operatorType),a=null==i?void 0:i.initialValue,o=(null==r?void 0:r.inputComponent)!=(null==i?void 0:i.inputComponent),l=e.filters.map(e=>ea9(e)===t.filterKey?{...e,operatorType:t.operatorType,...o?{value:a}:{}}:e);return{...e,filters:l,cursor:null,nextCursor:null,terms:{...e.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_VALUE":{let n=e.filters.map(e=>ea9(e)===t.filterKey?{...e,value:t.value}:e);return{...e,filters:n,cursor:null,nextCursor:null,terms:{...e.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:n,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_QUERY_SET":return{...e,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:elX({...e.terms,query:t.query})};case"TERMS_SET":{let n=t.filters||[],r=[...e.terms.types||[],...t.terms.types].sort(eoI);return{...e,documentTypesNarrowed:eoe({fieldDefinitions:e.definitions.fields,filters:n,types:r}),filters:n,lastAddedFilter:null,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:{...t.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:n,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{let n=[...e.terms.types||[],t.schemaType].sort(eoI),r=eoe({fieldDefinitions:e.definitions.fields,filters:[],types:n}),i=e.filters.filter(t=>{let n=ea6(e.definitions.fields,t);return!n||0===n.documentTypes.length||r.every(e=>n.documentTypes.findIndex(t=>t===e)>-1)});return{...e,documentTypesNarrowed:r,filters:i,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:elX({...e.terms,filter:ea4({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:n})}}case"TERMS_TYPE_REMOVE":{let n=(e.terms.types||[]).filter(e=>e!==t.schemaType);return{...e,documentTypesNarrowed:eoe({fieldDefinitions:e.definitions.fields,filters:e.filters,types:n}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:elX({...e.terms,types:n})}}case"TERMS_TYPES_CLEAR":return{...e,documentTypesNarrowed:eoe({fieldDefinitions:e.definitions.fields,filters:e.filters,types:[]}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:elX({...e.terms,types:[]})};default:return e}}function elX(e){if(elK(e)){let{__recent:t,...n}=e;return n}return e}function elJ(e){let{children:t,fullscreen:n,disabledDocumentIds:r,canDisableAction:i}=e,[a,o]=(0,E.useState)(null),[l,s]=(0,E.useState)(null),{data:c}=z0(),u=el3(),d=A6(),{search:{operators:p,filters:f,strategy:h}}=eii(),{fieldDefinitions:m,filterDefinitions:g,operatorDefinitions:y}=(0,E.useMemo)(()=>({fieldDefinitions:eo2(eo1(u,f)),filterDefinitions:ea5(f),operatorDefinitions:ea7(p)}),[f,p,u]),v=(0,E.useMemo)(()=>(function(e){let{currentUser:t,fullscreen:n,definitions:r,pagination:i,strategy:a}=e;return{currentUser:t,debug:!(typeof window>"u")&&window.location.hash.slice(1).split(";").includes("_debug_search_score"),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:elC({searchStrategy:a}).relevance,...i,result:{error:null,hasLocal:!1,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:r,strategy:a}})({currentUser:d,fullscreen:n,definitions:{fields:m,operators:y,filters:g},pagination:{cursor:null,nextCursor:null},strategy:h}),[d,n,m,y,g,h]),[b,x]=(0,E.useReducer)(elZ,v),{documentTypesNarrowed:C,filters:k,ordering:w,cursor:j,result:S,terms:T}=b,I=(0,E.useRef)(!1),A=(0,E.useRef)(v.ordering),O=(0,E.useRef)(v.cursor),P=(0,E.useRef)(v.terms),{handleSearch:M,searchState:F}=elq({initialState:{...S,terms:T},onComplete:e=>x({...e,type:"SEARCH_REQUEST_COMPLETE"}),onError:e=>x({error:e,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>x({type:"SEARCH_REQUEST_START"}),schema:u}),R=eaQ({terms:T}),B=C.map(e=>u.get(e)),N=k.filter(e=>eot({fieldDefinitions:m,filter:e,filterDefinitions:g,operatorDefinitions:y}));(0,E.useEffect)(()=>{let e=!(0,e4.default)(w,A.current),t=j!==O.current,n=!(0,e4.default)(T,P.current);if(e||t||n){var r,i;let e="findability-sort:";((null==w?void 0:w.customMeasurementLabel)||w.sort)&&(e+=(null==w?void 0:w.customMeasurementLabel)||"".concat(null==(r=w.sort)?void 0:r.field," ").concat(null==(i=w.sort)?void 0:i.direction)),M({options:{comments:[...elK(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),e,"findability-source: global","findability-filter-count:".concat(N.length)],limit:"groq2024"===h?25:1e3,skipSortByScore:w.ignoreScore,...w.sort?{sort:[w.sort]}:{},cursor:j||void 0,perspective:"raw"},terms:{...T,...B?{types:B}:{}}}),t&&(O.current=j)}A.current=w,P.current=T},[N.length,k,B,M,R,w,F.terms,T,j,h,c]),(0,E.useEffect)(()=>{!R&&(null==I?void 0:I.current)&&S.hits.length>0&&x({type:"SEARCH_CLEAR"}),I.current=!0},[x,R,S.hits,T.query,T.types]);let L=(0,E.useMemo)(()=>({dispatch:x,onClose:a,searchCommandList:l,setSearchCommandList:s,setOnClose:o,state:{...b,fullscreen:n,disabledDocumentIds:r,canDisableAction:i}}),[n,r,i,a,l,b]);return(0,_.jsx)(D.SearchContext.Provider,{value:L,children:t})}function elQ(e){let t,n,r,i=(0,j.c)(9),{open:a,onClose:o,releaseId:l,idsInRelease:s}=e;return i[0]!==l?(t=[l],i[0]=l,i[1]=t):t=i[1],i[2]!==o||i[3]!==a||i[4]!==t?(n=(0,_.jsx)(I.PortalProvider,{children:(0,_.jsx)(elz,{onClose:o,onItemSelect:o,open:a,previewPerspective:t,disableIntentLink:!0})}),i[2]=o,i[3]=a,i[4]=t,i[5]=n):n=i[5],i[6]!==s||i[7]!==n?(r=(0,_.jsx)(I.LayerProvider,{zOffset:1,children:(0,_.jsx)(elJ,{disabledDocumentIds:s,canDisableAction:!0,children:n})}),i[6]=s,i[7]=n,i[8]=r):r=i[8],r}let el1=[{key:"added",tone:"positive",translationKey:"table-body.action.add"},{key:"changed",tone:"caution",translationKey:"table-body.action.change"},{key:"unpublished",tone:"critical",translationKey:"table-body.action.unpublish"}];function el2(e){return!e.document||e.isPending?null:q6(e.document)?"unpublished":e.document.publishedDocumentExists?"changed":"added"}let el0=e=>{let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Container,{width:3,children:(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Flex,{align:"center",gap:4,wrap:"wrap",children:r})})}),n[0]=r,n[1]=t):t=n[1],t};function el5(e){let t,n,r,i,a=(0,j.c)(11),{documents:o,releaseState:l,isLoading:s}=e,c=void 0!==s&&s,{t:u}=IO(erH);a[0]!==o?(t=o.reduce(el7,{added:0,changed:0,unpublished:0}),a[0]=o,a[1]=t):t=a[1];let d=t;return"archived"!==l&&"published"!==l&&(c||o.length)?(a[2]!==d||a[3]!==u?(n=el1.map(e=>{let{key:t,tone:n,translationKey:r}=e,i=d[t];return i>0?(0,_.jsxs)(I.Badge,{paddingX:3,paddingY:2,radius:2,tone:n,children:[u(r),": ",i]},t):null}),a[2]=d,a[3]=u,a[4]=n):n=a[4],a[5]!==d||a[6]!==c?(r=c&&el1.map(e=>{let{key:t}=e;return 0===d[t]?(0,_.jsx)(A.Skeleton,{animated:!0,style:{width:"60px",height:"10px"},radius:2,paddingX:3,paddingY:2},"loading-skeleton-".concat(t)):null}),a[5]=d,a[6]=c,a[7]=r):r=a[7],a[8]!==n||a[9]!==r?(i=(0,_.jsxs)(el0,{children:[n,r]}),a[8]=n,a[9]=r,a[10]=i):i=a[10],i):null}function el7(e,t){let n=el2(t);return n&&(e[n]=e[n]+1),e}function el3(){return eii().schema}function el8(e){var t;let{onClose:n,documentVersionId:r,documentType:i}=e,{t:a}=IO(erH),{t:o}=IO(),l=el3(),{unpublishVersion:s}=erU(),[c,u]=(0,E.useState)(!1),d=(0,A.useToast)(),{data:p}=z0(),{data:f}=eit(),h=p.concat(f).find(e=>FF(e._id)===(0,th.getVersionFromId)(r)),m=RD(h),g=l.get(i),y=Wt({schemaType:g,value:{_id:r}}),v=(0,E.useCallback)(async()=>{u(!0);try{var e;await s(r),d.push({closable:!0,status:"success",description:(0,_.jsx)(IZ,{t:o,i18nKey:"release.action.unpublish-version.success",values:{title:(null==y||null==(e=y.value)?void 0:e.title)||r}})})}catch(e){d.push({closable:!0,status:"error",title:o("release.action.unpublish-version.failure"),description:e.message})}u(!1),n()},[o,r,n,null==y||null==(t=y.value)?void 0:t.title,d,s]);return(0,_.jsx)(B.Dialog,{header:a("unpublish-dialog.header"),id:"document-unpublish-dialog",onClickOutside:n,onClose:n,width:0,padding:!1,footer:{cancelButton:{text:a("unpublish-dialog.action.cancel"),onClick:n},confirmButton:{text:a("unpublish-dialog.action.unpublish"),onClick:v,tone:"critical",disabled:c,loading:c}},children:(0,_.jsxs)(I.Stack,{space:4,paddingX:4,paddingBottom:4,children:[g?(0,_.jsx)(enW,{value:{_id:r},schemaType:g}):(0,_.jsx)(DU,{}),(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:a,i18nKey:"unpublish-dialog.description.to-draft",values:{title:(null==h?void 0:h.metadata.title)||o("release.placeholder-untitled-release")},components:{Label:e=>{let{children:t}=e;return(0,_.jsx)("span",{style:{color:"var(--card-badge-".concat(null!=m?m:"default","-fg-color)"),backgroundColor:"var(--card-badge-".concat(null!=m?m:"default","-bg-color)"),borderRadius:3,textDecoration:"none",padding:"0px 2px",fontWeight:500},children:t})}}})}),(0,_.jsx)(I.Text,{muted:!0,size:1,children:a("unpublish-dialog.description.lost-changes")})]})})}let el4=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S=(0,j.c)(66),{document:T,releaseTitle:D}=e,[A,O]=(0,E.useState)(!1),[P,M]=(0,E.useState)(!1),{t:F}=IO(),{t:N}=IO(erH);S[0]!==T.document?(t=q6(T.document),S[0]=T.document,S[1]=t):t=S[1];let L=t;S[2]!==T.document._id?(n=(0,th.getPublishedId)(T.document._id),S[2]=T.document._id,S[3]=n):n=S[3];let z=n,V=T.document._type;S[4]!==T.document._id?(r=(0,th.getVersionFromId)(T.document._id),S[4]=T.document._id,S[5]=r):r=S[5];let U=r;S[6]!==z||S[7]!==V||S[8]!==U?(i={id:z,type:V,version:U,permission:"discardVersion"},S[6]=z,S[7]=V,S[8]=U,S[9]=i):i=S[9];let[H,q]=Mp(i);S[10]!==z||S[11]!==V||S[12]!==U?(a={id:z,type:V,version:U,permission:"unpublish"},S[10]=z,S[11]=V,S[12]=U,S[13]=a):a=S[13];let[W,Y]=Mp(a),K=!(null==H?void 0:H.granted)||q,G=!(null==W?void 0:W.granted)||Y;e:{if(G){let e;S[14]!==N?(e=N("permissions.error.unpublish"),S[14]=N,S[15]=e):e=S[15],o=e;break e}if(!T.document.publishedDocumentExists){let e;S[16]!==N?(e=N("unpublish.no-published-version"),S[16]=N,S[17]=e):e=S[17],o=e;break e}if(L){let e;S[18]!==N?(e=N("unpublish.already-unpublished"),S[18]=N,S[19]=e):e=S[19],o=e;break e}o=null}let $=o,Z=G||!T.document.publishedDocumentExists||L;S[20]===Symbol.for("react.memo_cache_sentinel")?(l=(0,_.jsx)(DO,{}),S[20]=l):l=S[20],S[21]!==F?(s=F("release.action.discard-version"),S[21]=F,S[22]=s):s=S[22],S[23]===Symbol.for("react.memo_cache_sentinel")?(c=()=>O(!0),S[23]=c):c=S[23];let X=!K;S[24]!==N?(u=N("permissions.error.discard-version"),S[24]=N,S[25]=u):u=S[25],S[26]!==X||S[27]!==u?(d={disabled:X,content:u},S[26]=X,S[27]=u,S[28]=d):d=S[28],S[29]!==K||S[30]!==d||S[31]!==s?(p=(0,_.jsx)(B.MenuItem,{text:s,icon:R.CloseIcon,onClick:c,disabled:K,tooltipProps:d}),S[29]=K,S[30]=d,S[31]=s,S[32]=p):p=S[32],S[33]===Symbol.for("react.memo_cache_sentinel")?(f=(0,_.jsx)(I.MenuDivider,{}),S[33]=f):f=S[33],S[34]!==N?(h=N("menu.group.when-releasing"),S[34]=N,S[35]=h):h=S[35],S[36]!==h?(m=(0,_.jsx)(I.Box,{padding:3,paddingBottom:2,children:(0,_.jsx)(I.Label,{size:1,children:h})}),S[36]=h,S[37]=m):m=S[37],S[38]!==N?(g=N("action.unpublish"),S[38]=N,S[39]=g):g=S[39];let J=!Z;return S[40]!==J||S[41]!==$?(y={disabled:J,content:$},S[40]=J,S[41]=$,S[42]=y):y=S[42],S[43]===Symbol.for("react.memo_cache_sentinel")?(v=()=>M(!0),S[43]=v):v=S[43],S[44]!==Z||S[45]!==g||S[46]!==y?(b=(0,_.jsx)(B.MenuItem,{text:g,icon:R.UnpublishIcon,disabled:Z,tooltipProps:y,onClick:v}),S[44]=Z,S[45]=g,S[46]=y,S[47]=b):b=S[47],S[48]!==p||S[49]!==m||S[50]!==b?(x=(0,_.jsx)(I.Card,{tone:"default",display:"flex",children:(0,_.jsx)(B.MenuButton,{id:"document-actions",button:l,menu:(0,_.jsxs)(I.Menu,{children:[p,f,m,b]})})}),S[48]=p,S[49]=m,S[50]=b,S[51]=x):x=S[51],S[52]!==T.document._id||S[53]!==T.document._type||S[54]!==D||S[55]!==A||S[56]!==N?(C=A&&(0,_.jsx)(erq,{onClose:()=>O(!1),documentId:T.document._id,documentType:T.document._type,fromPerspective:D||N("release-placeholder.title")}),S[52]=T.document._id,S[53]=T.document._type,S[54]=D,S[55]=A,S[56]=N,S[57]=C):C=S[57],S[58]!==T.document._id||S[59]!==T.document._type||S[60]!==P?(k=P&&(0,_.jsx)(el8,{onClose:()=>M(!1),documentVersionId:T.document._id,documentType:T.document._type}),S[58]=T.document._id,S[59]=T.document._type,S[60]=P,S[61]=k):k=S[61],S[62]!==x||S[63]!==C||S[64]!==k?(w=(0,_.jsxs)(_.Fragment,{children:[x,C,k]}),S[62]=x,S[63]=C,S[64]=k,S[65]=w):w=S[65],w},(e,t)=>e.document.memoKey===t.document.memoKey),el6=(0,E.memo)(function(e){let t,n=(0,j.c)(7),r=el3().get(e.document.document._type),{t:i}=IO();if(!r){let t,r;return n[0]!==e.document.document._type||n[1]!==i?(t=i("document.type.not-found",{type:e.document.document._type}),n[0]=e.document.document._type,n[1]=i,n[2]=t):t=n[2],n[3]!==t?(r=(0,_.jsx)(DO,{disabled:!0,tooltipProps:{content:t}}),n[3]=t,n[4]=r):r=n[4],r}return n[5]!==e?(t=(0,_.jsx)(el4,{...e}),n[5]=e,n[6]=t):t=n[6],t}),el9=Object.create(null),ese=0,est=[];async function esn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;ese>=e&&await new Promise(e=>est.push(e)),ese+=1}function esr(e,t,n){let r=eTt(Of),[i,a]=(0,E.useState)(null),o=(0,E.useMemo)(()=>e&&t?(0,th.getVersionId)(e,t):"",[e,t]),l=(0,E.useRef)(!1),s=(0,E.useCallback)(async()=>{if(!o)return void a(null);let t="".concat(e,"-").concat(n),i=el9[t];if(i)return void a(i.transactions);await esn();try{let e=await FW(r,o,{tag:"sanity.studio.releases.documents.history",effectFormat:"mendoza",excludeContent:!0,includeIdentifiedDocumentsOnly:!0,limit:1,reverse:!0});l.current||(a(e),el9[t]={transactions:e})}catch(e){console.error("Failed to fetch or parse document history:",e),l.current||a([])}finally{ese=Math.max(0,ese-1);let e=est.shift();e&&e()}},[o,e,n,r]);return(0,E.useEffect)(()=>(l.current=!1,s(),()=>{l.current=!0}),[s]),(0,E.useMemo)(()=>{let e=[];if(!i||0===i.length)return{documentHistory:void 0,collaborators:e,loading:!0};let t={history:[],createdBy:"",lastEditedBy:"",editors:[]};return i.forEach(n=>{var r;let i=n.author;e.includes(i)||e.push(i),0===t.history.length&&(t.createdBy=i),(null==(r=n.mutations)?void 0:r.some(e=>"create"in e))&&(t.createdBy=i),t.editors.includes(i)||t.editors.push(i),t.lastEditedBy=i,t.history.push(n)}),{documentHistory:t,collaborators:e,loading:!1}},[i])}let esi=(0,E.memo)(function(e){let t,n,r=(0,j.c)(9),{item:i,releaseId:a,releaseState:o,documentRevision:l}=e;r[0]!==i.document?(t=q6(i.document),r[0]=i.document,r[1]=t):t=r[1];let s=t;return r[2]!==l||r[3]!==s||r[4]!==i.document._id||r[5]!==i.document._type||r[6]!==a||r[7]!==o?(n=(0,_.jsx)(eim,{documentId:i.document._id,documentTypeName:i.document._type,releaseId:a,releaseState:o,documentRevision:l,isGoingToBePublished:s}),r[2]=l,r[3]=s,r[4]=i.document._id,r[5]=i.document._type,r[6]=a,r[7]=o,r[8]=n):n=r[8],n},(e,t)=>e.item.memoKey===t.item.memoKey&&e.releaseId===t.releaseId),esa=(0,E.memo)(function(e){let t,n,r=(0,j.c)(5),{type:i}=e,a=el3();r[0]!==a||r[1]!==i?(t=a.get(i),r[0]=a,r[1]=i,r[2]=t):t=r[2];let o=(null==t?void 0:t.title)||"Not found";return r[3]!==o?(n=(0,_.jsx)(I.Text,{size:1,children:o}),r[3]=o,r[4]=n):n=r[4],n},(e,t)=>e.type===t.type);function eso(e){var t;let n,r,i,a,o,l,s=(0,j.c)(16),{cellProps:c,datum:u,releaseDocumentId:d}=e,{document:p,isLoading:f}=u;s[0]!==d?(n=FF(d),s[0]=d,s[1]=n):n=s[1];let h=n,{documentHistory:m}=esr(u.isPending||(null==p||null==(t=p._id)?void 0:t.endsWith("-pending"))||null==p?void 0:p._id,h,null==p?void 0:p._rev);return s[2]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:130},s[2]=r):r=s[2],s[3]!==(null==m?void 0:m.lastEditedBy)||s[4]!==f?(i=(f||!(null==m?void 0:m.lastEditedBy))&&(0,_.jsx)(Re,{$size:0,animated:!0}),s[3]=null==m?void 0:m.lastEditedBy,s[4]=f,s[5]=i):i=s[5],s[6]!==p||s[7]!==m||s[8]!==f?(a=!f&&p._updatedAt&&(0,_.jsxs)(_.Fragment,{children:[(null==m?void 0:m.lastEditedBy)&&(0,_.jsx)(Ri,{size:0,user:m.lastEditedBy}),(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(eif,{time:p._updatedAt,useTemporalPhrase:!0,minimal:!0})})]}),s[6]=p,s[7]=m,s[8]=f,s[9]=a):a=s[9],s[10]!==i||s[11]!==a?(o=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[i,a]}),s[10]=i,s[11]=a,s[12]=o):o=s[12],s[13]!==c||s[14]!==o?(l=(0,_.jsx)(I.Flex,{...c,align:"center",paddingX:2,paddingY:3,style:r,sizing:"border",children:o}),s[13]=c,s[14]=o,s[15]=l):l=s[15],l}function esl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(typeof e>"u"||null===e||t>3)return"";if("string"==typeof e)return e;if("number"==typeof e)return e.toString();if(Array.isArray(e))return e.map(e=>"object"==typeof e&&e.children&&"block"===e._type?e.children.map(e=>e.text).join(" ").trim():Array.isArray(e)?esl(e,t+1,n):e.toString().trim()).filter(Boolean).join(" ");if("object"==typeof e&&null!==e){if(n.includes(e))return"";n.push(e);let r=Object.entries(e);if(r.length>0&&r.every(e=>{let[t,n]=e;return"boolean"!=typeof n&&!t.startsWith("_")}))return r.map(e=>{let[,r]=e;return esl(r,t+1,n)}).filter(Boolean).join(" ");let i="title"in e&&"string"==typeof e.title?e.title.toString().trim():void 0,a="name"in e&&"string"==typeof e.name?e.name.toString().trim():void 0,o="text"in e&&"string"==typeof e.text?e.text.toString().trim():void 0;return i||a||o?[i,a,o].filter(Boolean).join(" "):r.filter(e=>{let[t]=e;return!t.startsWith("_")}).map(e=>{let[,r]=e;return esl(r,t+1,n)}).filter(Boolean).join(" ")}return""}function ess(e){let{documents:t,isLoading:n=!1,release:r}=e,[i,a]=(0,E.useState)(null),o=(0,A.useToast)(),{createVersion:l}=erA(),s=(0,tp.useTelemetry)(),[c,u]=(0,E.useState)(!1),[d,p]=(0,E.useState)([]),{t:f}=IO(erH),h=FF(r._id),m=(0,E.useCallback)(e=>{let t;return"active"!==r.state||!((t=e.datum)&&"object"==typeof t&&"memoKey"in t&&"document"in t&&"validation"in t)||e.datum.isPending?null:(0,_.jsx)(el6,{document:e.datum,releaseTitle:r.metadata.title})},[r.metadata.title,r.state]),g=(0,E.useMemo)(()=>{let e,t;return e=r._id,t=r.state,[..."archived"===t||"published"===t?[]:[{id:"action",width:100,header:e=>(0,_.jsx)(I.Flex,{...e.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.BasicHeader,{text:f("table-header.action")})}),cell:e=>{let{cellProps:t,datum:n}=e;return(0,_.jsx)(I.Flex,{align:"center",...t,children:(0,_.jsx)(I.Box,{paddingX:2,children:(()=>{let e=el2(n);if(!e)return null;let t=el1.find(t=>{let{key:n}=t;return n===e});return t?(0,_.jsx)(I.Badge,{radius:2,tone:t.tone,"data-testid":"".concat(e,"-badge-").concat(n.document._id),children:f(t.translationKey)}):null})()})})}}],{id:"document._type",width:100,sorting:!0,header:e=>(0,_.jsx)(I.Flex,{...e.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{text:f("table-header.type"),...e})}),cell:e=>{let{cellProps:t,datum:n}=e;return(0,_.jsx)(I.Flex,{align:"center",...t,children:(0,_.jsx)(I.Box,{paddingX:2,children:!n.isLoading&&(0,_.jsx)(esa,{type:n.document._type})})})}},{id:"search",width:null,style:{minWidth:"50%",maxWidth:"50%"},sortTransform(e){var t,n,r;return String((null==(t=e.document)?void 0:t.title)||(null==(n=e.document)?void 0:n.name)||(null==(r=e.document)?void 0:r._id)).toLowerCase()||0},header:e=>(0,_.jsx)(eaY.TableHeaderSearch,{...e,placeholder:f("search-documents-placeholder")}),cell:n=>{let{cellProps:r,datum:i}=n;return(0,_.jsx)(I.Box,{...r,flex:1,padding:1,paddingRight:2,sizing:"border",children:i.isPending||i.isLoading?(0,_.jsx)(q8,{isPlaceholder:!0}):(0,_.jsx)(esi,{item:i,releaseId:e,releaseState:t,documentRevision:i.document._rev})})}},{id:"document._updatedAt",sorting:!0,width:130,header:e=>(0,_.jsx)(I.Flex,{...e.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{text:f("table-header.edited"),...e})}),cell:t=>(0,_.jsx)(eso,{...t,releaseDocumentId:e})},{id:"validation",sorting:!1,width:50,header:e=>{let{headerProps:t}=e;return(0,_.jsx)(I.Flex,{...t,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.BasicHeader,{text:""})})},cell:e=>{let{cellProps:t,datum:n}=e;if(n.isLoading)return null;let r=n.validation.validation.filter(e=>"error"===e.level).length;return(0,_.jsx)(I.Flex,{...t,flex:1,padding:1,justify:"center",align:"center",sizing:"border",children:n.validation.hasError&&(0,_.jsx)(B.Tooltip,{portal:!0,placement:"bottom-end",content:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsxs)(I.Flex,{align:"center",gap:3,padding:1,children:[(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:"critical"}),f(1===r?"document-validation.error_one":"document-validation.error_other",{count:r})]})}),children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:"critical"})})})})}}]},[r._id,r.state,f]),y=(0,E.useCallback)(()=>u(!0),[]),v=(0,E.useCallback)((e,t)=>e.filter(e=>{let{document:n}=e;return function(e,t){if(!t||0===t.trim().length||!e.title&&!e.name)return!1;let n=esl(e.title),r=esl(e.name),i=t.toLowerCase().trim(),a=n.toLowerCase(),o=r.toLowerCase(),l=a.trim().length>0,s=o.trim().length>0,c="".concat(a," ").concat(o),u=i.split(/\s+/).filter(e=>e.length>0).every(e=>l&&a.includes(e)||s&&o.includes(e)||c.includes(e)),d=s&&i.includes(o)||l&&i.includes(a);return u||d}(n,t)}),[]),b=(0,E.useCallback)(async e=>{if(u(!1),!e)return;let t=(0,th.getVersionId)(e._id,h),n="".concat(t,"-pending"),r={memoKey:t,validation:{isValidating:!1,validation:[],hasError:!1},document:{...e,_id:n,publishedDocumentExists:!1},isPending:!0};p(e=>[...e,r]);try{await l(h,e._id);let t=In(e._id);s.log(I5,{documentOrigin:t})}catch(e){p(e=>e.filter(e=>{let{document:t}=e;return t._id!==n})),o.push({id:"add-version-to-release-".concat(t),closable:!0,status:"error",title:f("toast.create-version.error",{error:e.message})})}},[l,h,f,s,o]);(0,E.useEffect)(()=>{let e=[];null==d||d.forEach(n=>{t.find(e=>{let{document:t}=e;return"".concat(t._id,"-pending")===n.document._id})&&e.push(n.document._id)}),e.length&&p(t=>t.filter(t=>{let{document:n}=t;return!e.includes(n._id)}))},[t,d,f,o]);let x=(0,E.useMemo)(()=>d.length?[...t,...d]:t,[t,d]);return(0,_.jsxs)(I.Card,{ref:a,"data-testid":"document-table-card",style:{height:"100%",overflow:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},className:"hide-scrollbar",children:[(0,_.jsxs)(I.Stack,{children:[(0,_.jsx)(el5,{documents:x,releaseState:r.state,isLoading:n}),(0,_.jsx)(I.Card,{borderTop:!0,children:(0,_.jsx)(ea$,{loading:n,data:x,emptyState:f("summary.no-documents"),rowId:"document._id",columnDefs:g,rowActions:m,searchFilter:v,scrollContainerRef:i,defaultSort:{column:"search",direction:"asc"}})})]}),"active"===r.state&&(0,_.jsx)(I.Container,{width:3,children:(0,_.jsx)(I.Card,{padding:3,children:(0,_.jsx)(B.Button,{icon:R.AddIcon,disabled:n,mode:"bleed",onClick:y,text:f("action.add-document")})})}),(0,_.jsx)(elQ,{open:c,onClose:b,releaseId:h,idsInRelease:t.map(e=>{let{document:t}=e;return t._id})})]})}let esc=na.motion.create(I.Card),esu=()=>{let e,t,n,r,i=(0,j.c)(59),a=(0,nr.useRouter)(),[o,l]=(0,E.useState)(void 0),{t:s}=IO(erH),{releaseId:c}=a.state,u=decodeURIComponent(c||""),{data:d,loading:p}=z0(),{data:f}=eit(),{loading:h,results:m,error:g}=er_(u),y=function(e){var t,n;let r,i,a=(0,j.c)(12),o=eTt(Of),l=Fu(),{state$:s}=Fz(),c=!!(null==(n=eii().beta)||null==(t=n.eventsAPI)?void 0:t.releases);a[0]!==o||a[1]!==l||a[2]!==c||a[3]!==e||a[4]!==s?(r=function(e){let{client:t,releaseId:n,releasesState$:r,documentPreviewStore:i,eventsAPIEnabled:a}=e,o=function(e){let{client:t,observeDocument$:n}=e;return n.pipe((0,ew.filter)(Boolean),(0,ed.distinctUntilChanged)((e,t)=>e._rev===t._rev),(0,Q.switchMap)(e=>(function(e){var t;let{documentId:n,client:r,toTransaction:i}=e,a="".concat(n),o=eil[a]||[];if(o.length>0&&o[0].id===i)return(0,Y.of)(o);function l(e){return(0,en.from)(FW(r,n,{tag:"sanity.studio.release.history",effectFormat:"mendoza",limit:100,reverse:!0,fromTransaction:e.fromTransaction,toTransaction:e.toTransaction}))}return l({fromTransaction:null==(t=o[0])?void 0:t.id,toTransaction:i}).pipe((0,eR.expand)(e=>100===e.length?l({fromTransaction:void 0,toTransaction:e[e.length-1].id}):(0,Y.of)()),(0,eB.reduce)((e,t)=>e.concat(t),[])).pipe((0,Z.map)(e=>(function(e,t){let n=new Set;return e.concat(t).filter(e=>!n.has(e.id)&&(n.add(e.id),!0))})(e,o)),(0,eh.tap)(e=>{eil[a]=e}))})({client:t,documentId:e._id,toTransaction:e._rev}).pipe((0,Z.map)(t=>({editEvents:function(e,t){var n;if(t._rev!==(null==(n=e[0])?void 0:n.id))return console.error("Some transactions are missing, cannot calculate the edit events"),[];let r=[],i=t;for(let n of e){let e=n.effects[t._id];if(!e)continue;let a=en0(i,e.revert,i._rev),o={};(null==a?void 0:a.state)!==i.state&&"archived"===i.state&&r.push({type:"archiveRelease",timestamp:n.timestamp,author:n.author,releaseName:FF(t._id),id:n.id,origin:"translog"}),(null==a?void 0:a.state)!==i.state&&"published"===i.state&&r.push({type:"publishRelease",timestamp:n.timestamp,author:n.author,releaseName:FF(t._id),id:n.id,origin:"translog"}),(null==a?void 0:a.state)==="unarchiving"&&"active"===i.state&&r.push({type:"unarchiveRelease",timestamp:n.timestamp,author:n.author,releaseName:FF(t._id),id:n.id,origin:"translog"}),(null==a?void 0:a.metadata.releaseType)!==i.metadata.releaseType&&(o.releaseType=i.metadata.releaseType),(null==a?void 0:a.metadata.intendedPublishAt)!==i.metadata.intendedPublishAt&&(o.intendedPublishDate=i.metadata.intendedPublishAt),Object.values(o).length>=1&&r.push({type:a?"editRelease":"createRelease",origin:"translog",author:n.author,change:o,id:n.id,timestamp:n.timestamp,releaseName:FF(t._id)}),a&&(i=a)}return r}(t,e),loading:!1,error:null})),(0,J.catchError)(e=>(console.error(e),(0,Y.of)({editEvents:[],loading:!1,error:e}))))),(0,eI.startWith)(eis),(0,eO.scan)((e,t)=>{let n=t.loading?e.editEvents:t.editEvents;return{...t,editEvents:n}},eis),(0,ep.shareReplay)(1))}({client:t,observeDocument$:i.unstable_observeDocument(n,{apiVersion:Of.apiVersion})}),l=r.pipe((0,Z.map)(e=>{var t;return null==(t=e.releases.get(n))?void 0:t._rev}),(0,ew.filter)(Boolean),(0,ed.distinctUntilChanged)(),(0,eN.skip)(1)),s=a?function(e){let{client:t,releaseId:n}=e,r=new ef.BehaviorSubject({cursor:null,origin:"initial"}),i="";return{events$:r.pipe((0,Q.switchMap)(e=>{let{cursor:r,origin:i}=e;return(e=>{let{limit:r,nextCursor:i}=e,a=new URLSearchParams({limit:r.toString()});return i&&a.append("nextCursor",i),t.observable.request({url:"/data/history/".concat(t.config().dataset,"/events/releases/").concat(FF(n),"?").concat(a.toString()),tag:"get-release-events"}).pipe((0,Z.map)(e=>({events:e.events.map(eio),nextCursor:e.nextCursor,loading:!1,error:null})),(0,J.catchError)(e=>(console.error(e),[{events:[],nextCursor:"",loading:!1,error:e}])))})({nextCursor:r,limit:"reload"===i?10:100}).pipe((0,Z.map)(e=>({...e,origin:i})),(0,eI.startWith)({events:[],nextCursor:"",loading:!0,error:null,origin:i}))}),(0,eO.scan)((e,t)=>({events:Array.from([...e.events,...t.events].reduce((e,t)=>e.has(t.id)?e:e.set(t.id,t),new Map).values()).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),nextCursor:"reload"===t.origin?e.nextCursor:t.nextCursor,loading:t.loading,error:t.error}),eia),(0,eh.tap)(e=>{i=e.nextCursor}),(0,ep.shareReplay)(1)),reloadEvents:()=>r.next({cursor:null,origin:"reload"}),loadMore:()=>{let e=r.getValue().cursor;i&&e!==i&&r.next({origin:"loadMore",cursor:i})}}}({client:t,releaseId:n}):eip,c=a?(0,Y.of)(0):i.unstable_observeDocumentIdSet("sanity::partOfRelease($releaseId)",{releaseId:FF(n)},{apiVersion:Of.apiVersion}).pipe((0,ew.filter)(e=>{let{status:t}=e;return"connected"===t}),(0,Z.map)(e=>{let{documentIds:t}=e;return t.length}),(0,ed.distinctUntilChanged)(),(0,eN.skip)(1)),u=(0,ei.merge)(l,c).pipe((0,eh.tap)(()=>{s.reloadEvents()}),(0,eI.startWith)(null));return{events$:(0,ev.combineLatest)([s.events$,o,u]).pipe((0,Z.map)(e=>{let t,[n,r]=e;return{events:(t=[...n.events,...r.editEvents].sort((e,t)=>Date.parse(t.timestamp)-Date.parse(e.timestamp)).reduce((e,t)=>{if(eic(t)){let n=e.find(eic);n?eiu(n)&&"translog"===t.origin&&(e[e.indexOf(n)]=t):e.push(t)}else e.push(t);return e},[])).filter((e,n)=>{var r,i;let a=t[n+1];return!a||!(e.type===a.type&&(r=e.timestamp,i=a.timestamp,1e3>=Math.abs(new Date(r).getTime()-new Date(i).getTime())))}),hasMore:!!n.nextCursor,error:n.error||r.error,loading:n.loading||r.loading}})),loadMore:s.loadMore}}({client:o,releaseId:FH(e),releasesState$:s,documentPreviewStore:l,eventsAPIEnabled:c}),a[0]=o,a[1]=l,a[2]=c,a[3]=e,a[4]=s,a[5]=r):r=a[5];let u=r,d=(0,te.useObservable)(u.events$,eid);return a[6]!==d.error||a[7]!==d.events||a[8]!==d.hasMore||a[9]!==d.loading||a[10]!==u.loadMore?(i={events:d.events,hasMore:d.hasMore,loading:d.loading,error:d.error,loadMore:u.loadMore},a[6]=d.error,a[7]=d.events,a[8]=d.hasMore,a[9]=d.loading,a[10]=u.loadMore,a[11]=i):i=a[11],i}(u);if(i[0]!==f||i[1]!==d||i[2]!==u){let t;i[4]!==u?(t=e=>FF(e._id)===u,i[4]=u,i[5]=t):t=i[5],e=d.concat(f).find(t),i[0]=f,i[1]=d,i[2]=u,i[3]=e}else e=i[3];let v=e;e:{let e;if(g){let e,n,r,a,o,l,c,u;i[6]===Symbol.for("react.memo_cache_sentinel")?(e={opacity:0},n={opacity:1},i[6]=e,i[7]=n):(e=i[6],n=i[7]),i[8]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),i[8]=r):r=i[8],i[9]!==s?(a=s("loading-release-documents.error.title"),i[9]=s,i[10]=a):a=i[10],i[11]!==a?(o=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:a}),i[11]=a,i[12]=o):o=i[12],i[13]!==s?(l=s("loading-release-documents.error.description"),i[13]=s,i[14]=l):l=i[14],i[15]!==l?(c=(0,_.jsx)(I.Text,{size:1,children:l}),i[15]=l,i[16]=c):c=i[16],i[17]!==o||i[18]!==c?(u=(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(esc,{initial:e,animate:n,tone:"critical",padding:4,radius:4,children:(0,_.jsxs)(I.Flex,{gap:3,children:[r,(0,_.jsxs)(I.Stack,{space:4,children:[o,c]})]})})}),i[17]=o,i[18]=c,i[19]=u):u=i[19],t=u;break e}if(!v){t=null;break e}i[20]!==h||i[21]!==v||i[22]!==m?(e=(0,_.jsx)(ess,{isLoading:h,documents:m,release:v}),i[20]=h,i[21]=v,i[22]=m,i[23]=e):e=i[23],t=e}let b=t;if(p){let e,t;return i[24]!==s?(e=s("loading-release"),i[24]=s,i[25]=e):e=i[25],i[26]!==e?(t=(0,_.jsx)(DU,{title:e,fill:!0,"data-testid":"release-documents-table-loader"}),i[26]=e,i[27]=t):t=i[27],t}if(v){let e,t,n,r,a,s,c,u;i[28]!==o||i[29]!==v?(e=(0,_.jsx)(I.Card,{flex:"none",padding:3,children:(0,_.jsx)(eaB,{release:v,inspector:o,setInspector:l})}),i[28]=o,i[29]=v,i[30]=e):e=i[30],i[31]!==v||i[32]!==m?(t=(0,_.jsx)(eiX,{release:v,documents:m}),i[31]=v,i[32]=m,i[33]=t):t=i[33],i[34]!==b||i[35]!==t?(n=(0,_.jsxs)(I.Card,{flex:1,overflow:"auto",children:[t,b]}),i[34]=b,i[35]=t,i[36]=n):n=i[36],i[37]!==y.events||i[38]!==v||i[39]!==m?(r=(0,_.jsx)(eaP,{documents:m,release:v,events:y.events}),i[37]=y.events,i[38]=v,i[39]=m,i[40]=r):r=i[40],i[41]!==n||i[42]!==r?(a=(0,_.jsxs)(I.Flex,{direction:"column",flex:1,height:"fill",children:[n,r]}),i[41]=n,i[42]=r,i[43]=a):a=i[43];let d="activity"===o;return i[44]!==y||i[45]!==v||i[46]!==d?(s=(0,_.jsx)(eiS,{events:y,release:v,show:d}),i[44]=y,i[45]=v,i[46]=d,i[47]=s):s=i[47],i[48]!==a||i[49]!==s?(c=(0,_.jsxs)(I.Flex,{flex:1,children:[a,s]}),i[48]=a,i[49]=s,i[50]=c):c=i[50],i[51]!==e||i[52]!==c?(u=(0,_.jsxs)(I.Flex,{direction:"column",flex:1,height:"fill",overflow:"hidden",children:[e,c]}),i[51]=e,i[52]=c,i[53]=u):u=i[53],u}return i[54]!==u||i[55]!==s?(n=s("not-found",{releaseId:u}),i[54]=u,i[55]=s,i[56]=n):n=i[56],i[57]!==n?(r=(0,_.jsx)(I.Card,{flex:1,tone:"critical",children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(I.Stack,{paddingX:4,paddingY:6,space:1,children:(0,_.jsx)(I.Heading,{children:n})})})}),i[57]=n,i[58]=r):r=i[58],r};function esd(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(30),{date:p,focused:f,isCurrentMonth:h,isToday:m,onSelect:g,selected:y,disabled:v,dateStyles:b}=e;d[0]!==b?(t=void 0===b?{}:b,d[0]=b,d[1]=t):t=d[1];let x=t;d[2]!==p||d[3]!==g||d[4]!==y?(n=()=>{g(y?void 0:p)},d[2]=p,d[3]=g,d[4]=y,d[5]=n):n=d[5];let C=n;m||y?r="primary":((0,tX.isWeekend)(p),r="default"),d[6]!==p?(i=p.toDateString(),d[6]=p,d[7]=i):i=d[7];let k=f?"true":"",w=m?"day-tile-today":"day-tile-".concat(p.getDate(),"-").concat(p.getMonth());d[8]===Symbol.for("react.memo_cache_sentinel")?(a={position:"relative"},d[8]=a):a=d[8];let S=y||h?1:.35;return d[9]!==x||d[10]!==S?(o={opacity:S,textAlign:"center",...x},d[9]=x,d[10]=S,d[11]=o):o=d[11],d[12]!==p||d[13]!==y?(l=y?(0,_.jsx)(R.CloseIcon,{}):p.getDate(),d[12]=p,d[13]=y,d[14]=l):l=d[14],d[15]!==o||d[16]!==l?(s=(0,_.jsx)(I.Text,{size:1,style:o,children:l}),d[15]=o,d[16]=l,d[17]=s):s=d[17],d[18]!==v||d[19]!==C||d[20]!==y||d[21]!==s||d[22]!==i||d[23]!==k||d[24]!==w||d[25]!==r?(c=(0,_.jsx)(I.Card,{"aria-label":i,"aria-pressed":y,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":k,"data-testid":w,role:"button",tabIndex:-1,onClick:C,paddingX:3,paddingY:4,radius:2,selected:y,style:a,tone:r,disabled:v,children:s}),d[18]=v,d[19]=C,d[20]=y,d[21]=s,d[22]=i,d[23]=k,d[24]=w,d[25]=r,d[26]=c):c=d[26],d[27]!==y||d[28]!==c?(u=(0,_.jsx)("div",{"aria-selected":y,"data-ui":"CalendarDay",children:c}),d[27]=y,d[28]=c,d[29]=u):u=d[29],u}function esp(e){let t,n,r,i,a,o=(0,j.c)(24),{date:l,renderCalendarDay:s,hidden:c,disabled:u,timeZoneScope:d}=e,{getCurrentZoneDate:p}=K3(d),f=s||esd,h=Gd(l),m=c||!1;if(o[0]===Symbol.for("react.memo_cache_sentinel")?(t={gridGap:"1px",gridTemplateColumns:"repeat(7, 1fr)"},n=Gs.map(esf),o[0]=t,o[1]=n):(t=o[0],n=o[1]),o[2]!==f||o[3]!==l||o[4]!==u||o[5]!==p||o[6]!==e.focused||o[7]!==e.onSelect||o[8]!==e.selected||o[9]!==h){let t;o[11]!==f||o[12]!==l||o[13]!==u||o[14]!==p||o[15]!==e.focused||o[16]!==e.onSelect||o[17]!==e.selected?(t=(t,n)=>t.days.map((t,r)=>{let i=e.focused&&(0,tR.isSameDay)(t,e.focused),a=e.selected&&(0,tR.isSameDay)(t,e.selected),o=(0,tR.isSameDay)(t,p()),s=(0,tB.isSameMonth)(t,e.focused||l);return(0,_.jsx)(f,{date:t,focused:i,isCurrentMonth:s,isToday:o,onSelect:e.onSelect,selected:a,disabled:u},"".concat(n,"-").concat(r))}),o[11]=f,o[12]=l,o[13]=u,o[14]=p,o[15]=e.focused,o[16]=e.onSelect,o[17]=e.selected,o[18]=t):t=o[18],r=h.map(t),o[2]=f,o[3]=l,o[4]=u,o[5]=p,o[6]=e.focused,o[7]=e.onSelect,o[8]=e.selected,o[9]=h,o[10]=r}else r=o[10];return o[19]!==r?(i=(0,_.jsxs)(I.Grid,{style:t,children:[n,r]}),o[19]=r,o[20]=i):i=o[20],o[21]!==m||o[22]!==i?(a=(0,_.jsx)(I.Box,{"aria-hidden":m,"data-ui":"CalendarMonth",children:i}),o[21]=m,o[22]=i,o[23]=a):a=o[23],a}function esf(e){return(0,_.jsx)(I.Card,{paddingY:3,children:(0,_.jsx)(I.Label,{size:1,style:{textAlign:"center"},children:e.slice(0,1)})},e)}let esh=(0,_.jsx)("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),esm=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P,M,F,N,L,z,V,U,H,q,W,Y=(0,j.c)(86);Y[0]!==e?({focusedDate:i,onFocusedDateChange:n,onSelect:r,selectedDate:l,renderCalendarDay:a,timeZoneScope:s,...o}=e,Y[0]=e,Y[1]=n,Y[2]=r,Y[3]=i,Y[4]=a,Y[5]=o,Y[6]=l,Y[7]=s):(n=Y[1],r=Y[2],i=Y[3],a=Y[4],o=Y[5],l=Y[6],s=Y[7]),Y[8]===Symbol.for("react.memo_cache_sentinel")?(c=new Date,Y[8]=c):c=Y[8];let[K,G]=(0,E.useState)(c),{t:$}=IO(),{zoneDateToUtc:Z}=K3(s),X=i||K;Y[9]!==n||Y[10]!==i?(u=e=>{n&&i?n(e):G(e)},Y[9]=n,Y[10]=i,Y[11]=u):u=Y[11];let J=u;Y[12]!==J||Y[13]!==Z?(d=e=>{J(Z(e))},Y[12]=J,Y[13]=Z,Y[14]=d):d=Y[14];let Q=d;Y[15]!==X||Y[16]!==Q?(p=e=>Q((0,tz.addMonths)(X,e)),Y[15]=X,Y[16]=Q,Y[17]=p):p=Y[17];let ee=p;Y[18]!==J||Y[19]!==r||Y[20]!==Z?(f=e=>{if(e){let t=Z((0,tU.setMinutes)((0,tH.setHours)(e,e.getHours()),e.getMinutes()));r(t),J(t)}else r(void 0)},Y[18]=J,Y[19]=r,Y[20]=Z,Y[21]=f):f=Y[21];let et=f,en=(0,E.useRef)(null);Y[22]===Symbol.for("react.memo_cache_sentinel")?(h=()=>en.current,Y[22]=h):h=Y[22],(0,E.useImperativeHandle)(t,h),Y[23]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{var e,t;null==(t=en.current)||null==(e=t.querySelector('[data-focused="true"]'))||e.focus()},Y[23]=m):m=Y[23];let er=m;Y[24]!==X||Y[25]!==J||Y[26]!==Z?(g=e=>{if(Gc.includes(e.key)){var t,n;if(e.preventDefault(),e.currentTarget.hasAttribute("data-calendar-grid"))return void er();"ArrowUp"===e.key&&J(Z((0,tA.addDays)(X,-7))),"ArrowDown"===e.key&&J(Z((0,tA.addDays)(X,7))),"ArrowLeft"===e.key&&J(Z((0,tA.addDays)(X,-1))),"ArrowRight"===e.key&&J(Z((0,tA.addDays)(X,1))),null==(n=en.current)||null==(t=n.querySelector("[data-preserve-focus]"))||t.focus()}},Y[24]=X,Y[25]=J,Y[26]=Z,Y[27]=g):g=Y[27];let ei=g;Y[28]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{er()},v=[er],Y[28]=y,Y[29]=v):(y=Y[28],v=Y[29]),(0,E.useEffect)(y,v),Y[30]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{var e;(null==(e=document.activeElement)?void 0:e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&er()},Y[30]=b):b=Y[30],Y[31]!==X?(x=[en,er,X],Y[31]=X,Y[32]=x):x=Y[32],(0,E.useEffect)(b,x),Y[33]!==J||Y[34]!==r?(C=()=>{let e=new Date;r(e),J(e)},Y[33]=J,Y[34]=r,Y[35]=C):C=Y[35];let ea=C;Y[36]!==ee?(k=()=>ee(-1),Y[36]=ee,Y[37]=k):k=Y[37];let eo=k;Y[38]!==ee?(w=()=>ee(1),Y[38]=ee,Y[39]=w):w=Y[39];let el=w;Y[40]===Symbol.for("react.memo_cache_sentinel")?(S={borderBottom:"1px solid var(--card-border-color)",minHeight:"55px",position:"sticky",top:0},Y[40]=S):S=Y[40];let es=Gl[null==X?void 0:X.getMonth()];Y[41]!==X?(T=null==X?void 0:X.getFullYear(),Y[41]=X,Y[42]=T):T=Y[42],Y[43]!==es||Y[44]!==T?(D=(0,_.jsxs)(I.Text,{weight:"medium",size:1,children:[es," ",T]}),Y[43]=es,Y[44]=T,Y[45]=D):D=Y[45],Y[46]===Symbol.for("react.memo_cache_sentinel")?(A={content:"Previous month"},Y[46]=A):A=Y[46],Y[47]!==eo||Y[48]!==o.disabled?(O=(0,_.jsx)(B.Button,{icon:R.ChevronLeftIcon,mode:"bleed",onClick:eo,tooltipProps:A,disabled:o.disabled}),Y[47]=eo,Y[48]=o.disabled,Y[49]=O):O=Y[49],Y[50]===Symbol.for("react.memo_cache_sentinel")?(P={content:"Next month"},Y[50]=P):P=Y[50],Y[51]!==el||Y[52]!==o.disabled?(M=(0,_.jsx)(B.Button,{icon:R.ChevronRightIcon,mode:"bleed",onClick:el,tooltipProps:P,disabled:o.disabled}),Y[51]=el,Y[52]=o.disabled,Y[53]=M):M=Y[53],Y[54]!==O||Y[55]!==M?(F=(0,_.jsx)(I.Flex,{paddingRight:3,gap:2,children:(0,_.jsxs)(B.TooltipDelayGroupProvider,{children:[O,M]})}),Y[54]=O,Y[55]=M,Y[56]=F):F=Y[56],Y[57]!==D||Y[58]!==F?(N=(0,_.jsx)(I.Flex,{align:"center",paddingLeft:4,style:S,children:(0,_.jsxs)(I.Flex,{align:"center",flex:1,justify:"space-between",children:[D,F]})}),Y[57]=D,Y[58]=F,Y[59]=N):N=Y[59],Y[60]!==X||Y[61]!==et||Y[62]!==i||Y[63]!==a||Y[64]!==o.disabled||Y[65]!==l||Y[66]!==s?(L=(0,_.jsx)(esp,{date:X,focused:i,onSelect:et,selected:l,renderCalendarDay:a,disabled:o.disabled,timeZoneScope:s}),Y[60]=X,Y[61]=et,Y[62]=i,Y[63]=a,Y[64]=o.disabled,Y[65]=l,Y[66]=s,Y[67]=L):L=Y[67],Y[68]!==ei||Y[69]!==L?(z=(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Box,{"data-calendar-grid":!0,onKeyDown:ei,overflow:"hidden",paddingBottom:1,paddingX:1,tabIndex:0,children:[L,esh]})}),Y[68]=ei,Y[69]=L,Y[70]=z):z=Y[70],Y[71]===Symbol.for("react.memo_cache_sentinel")?(V={borderBottom:"1px solid var(--card-border-color)"},Y[71]=V):V=Y[71];let ec=o.disabled;return Y[72]!==$?(U=$("calendar.action.go-to-today-aria-label"),Y[72]=$,Y[73]=U):U=Y[73],Y[74]!==$?(H=$("calendar.action.go-to-today"),Y[74]=$,Y[75]=H):H=Y[75],Y[76]!==ea||Y[77]!==o.disabled||Y[78]!==U||Y[79]!==H?(q=(0,_.jsx)(I.Box,{flex:1,style:V,children:(0,_.jsx)(B.Button,{disabled:ec,mode:"bleed",onClick:ea,width:"fill","aria-label":U,text:H})}),Y[76]=ea,Y[77]=o.disabled,Y[78]=U,Y[79]=H,Y[80]=q):q=Y[80],Y[81]!==o||Y[82]!==N||Y[83]!==z||Y[84]!==q?(W=(0,_.jsxs)(I.Box,{"data-ui":"Calendar",...o,ref:en,children:[N,z,q]}),Y[81]=o,Y[82]=N,Y[83]=z,Y[84]=q,Y[85]=W):W=Y[85],W}),esg=()=>{let e,t=(0,j.c)(2),{zoneDateToUtc:n}=K3(erB);return t[0]!==n?(e=e=>{var t;let{metadata:r}=e,i=r.intendedPublishAt?n(new Date(r.intendedPublishAt)).toISOString():void 0;return{...e,metadata:{...r,intendedPublishAt:i,title:null==r||null==(t=r.title)?void 0:t.trim()}}},t[0]=n,t[1]=e):e=t[1],e};function esy(){let e,t,n,r=(0,j.c)(7),[i,a]=(0,E.useState)(!0),[o,l]=(0,E.useState)(null),{guardWithReleaseLimitUpsell:s}=erE();return r[0]!==s?(e=()=>{a(!0),l(new Promise(e=>{s(nL.default,!1,t=>{e(t)})}))},r[0]=s,r[1]=e):e=r[1],r[2]!==s||r[3]!==i?(t=[s,i],r[2]=s,r[3]=i,r[4]=t):t=r[4],(0,E.useEffect)(e,t),r[5]!==o?(n={releasePromise:o},r[5]=o,r[6]=n):n=r[6],n}function esv(e){var t,n;return(null==(t=e.metadata)?void 0:t.releaseType)==="scheduled"&&!(null==(n=e.metadata)?void 0:n.intendedPublishAt)}function esb(e){let{onCancel:t,onSubmit:n,origin:r}=e,i=(0,A.useToast)(),{createRelease:a}=erA(),o=erV(),{t:l}=IO(),s=(0,tp.useTelemetry)(),c=esg(),{clearReleaseDataFromStorage:u}=erY(),[d,p]=(0,E.useState)(RE),[f,h]=(0,E.useState)(!1),m=esv(d),{releasePromise:g}=esy(),y=(0,E.useCallback)(async e=>{if(e.preventDefault(),h(!0),!await g)return void h(!1);try{let e=c(d);await a(e),s.log(I7,{origin:r}),await new Promise(e=>setTimeout(e,1e3)),o(FF(d._id)),n(FF(d._id))}catch(e){erI(e)?(t(),u()):(console.error(e),i.push({closable:!0,status:"error",title:l("release.toast.create-release-error.title")}))}finally{h(!1),u()}},[g,c,d,a,s,r,o,n,t,i,l,u]),v=(0,E.useCallback)(e=>{p(e)},[]),b=l("release.dialog.create.title"),x=l("release.dialog.create.confirm"),C=(0,E.useCallback)(()=>{u(),t()},[u,t]);return(0,_.jsx)(B.Dialog,{onClickOutside:t,header:b,id:"create-release-dialog",onClose:C,width:1,padding:!1,children:(0,_.jsx)(I.Card,{padding:4,borderTop:!0,children:(0,_.jsxs)("form",{onSubmit:y,children:[(0,_.jsx)(I.Box,{paddingBottom:4,children:(0,_.jsx)(er7,{onChange:v,value:d})}),(0,_.jsx)(I.Flex,{justify:"flex-end",paddingTop:5,children:(0,_.jsx)(B.Button,{size:"large",disabled:f||m,type:"submit",text:x,loading:f,"data-testid":"submit-release-button"})})]})})})}let esx=Symbol("__internal_quotaExcludedReleasesEnabled");function esC(){var e,t;return!!(null==(t=eii().__internal)||null==(e=t.options)?void 0:e[esx])}let esk={data:null,error:null,loading:!1},esw=e=>{let t,n,r,i,a,o,l,s,c=(0,j.c)(15),{children:u}=e;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let[d,p]=(0,E.useState)(t),{getMetadataStateForSlugs$:f}=Fz(),[h,m]=(0,E.useState)(null);c[1]!==f||c[2]!==d?(n=f(d.map(esj)),c[1]=f,c[2]=d,c[3]=n):n=c[3];let g=(0,te.useObservable)(n)||esk;c[4]!==g.data?(r=()=>m(e=>g.data?{...e,...g.data}:e),i=[g.data],c[4]=g.data,c[5]=r,c[6]=i):(r=c[5],i=c[6]),(0,E.useEffect)(r,i),c[7]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{p(t=>[...t,...e.filter(esS)])},c[7]=a):a=c[7];let y=a;c[8]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{p(t=>{let{nextSlugs:n}=t.reduce((t,n)=>{let{removedSlugs:r,nextSlugs:i}=t;return e.includes(n)&&!r.includes(n)?{removedSlugs:[...r,n],nextSlugs:i}:{removedSlugs:r,nextSlugs:[...i,n]}},{removedSlugs:[],nextSlugs:[]});return n})},c[8]=o):o=c[8];let v=o;c[9]!==g||c[10]!==h?(l={addReleaseIdsToListener:y,removeReleaseIdsFromListener:v,state:{...g,data:h}},c[9]=g,c[10]=h,c[11]=l):l=c[11];let b=l;return c[12]!==u||c[13]!==b?(s=(0,_.jsx)(D.ReleasesMetadataContext.Provider,{value:b,children:u}),c[12]=u,c[13]=b,c[14]=s):s=c[14],s},es_=e=>{let t,n=(0,j.c)(2),{children:r}=e;return(0,E.useContext)(D.ReleasesMetadataContext)?r:(n[0]!==r?(t=(0,_.jsx)(esw,{children:r}),n[0]=r,n[1]=t):t=n[1],t)};function esj(e){return e}function esS(e){return"string"==typeof e}function esE(){return null}function esT(){return null}function esD(e){let t,n,r,i,a,o,l,s=(0,j.c)(14),{content:c}=e,u=(0,E.useRef)(null),d=(0,E.useRef)(null),[p,f]=(0,E.useState)(!1),{t:h}=IO(erH);return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>f(!1),n=()=>[u.current,d.current],s[0]=t,s[1]=n):(t=s[0],n=s[1]),(0,I.useClickOutsideEvent)(t,n),s[2]!==h?(r=h("overview.calendar.tooltip"),s[2]=h,s[3]=r):r=s[3],s[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>f(esI),s[4]=i):i=s[4],s[5]!==p?(a=(0,_.jsx)(I.Button,{name:"calendar","data-as":"a",icon:R.CalendarIcon,mode:"bleed",padding:2,radius:"full",selected:p,onClick:i,ref:u,space:2}),s[5]=p,s[6]=a):a=s[6],s[7]!==r||s[8]!==a?(o=(0,_.jsx)(B.Tooltip,{content:r,children:a}),s[7]=r,s[8]=a,s[9]=o):o=s[9],s[10]!==c||s[11]!==p||s[12]!==o?(l=(0,_.jsx)(B.Popover,{content:c,placement:"bottom",open:p,ref:d,children:o}),s[10]=c,s[11]=p,s[12]=o,s[13]=l):l=s[13],l}function esI(e){return!e}let esA=e=>{let t,n,r,i,a=(0,j.c)(8),{isDraftModelEnabled:o,isScheduledDraftsEnabled:l}=e,{t:s}=IO(erH);if(!(!o||!l))return null;a[0]!==l||a[1]!==s?(t=()=>s(l?"banner.drafts-mode-disabled":"banner.scheduled-drafts-disabled"),a[0]=l,a[1]=s,a[2]=t):t=a[2];let c=t;return a[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Text,{size:0,children:(0,_.jsx)(R.WarningOutlineIcon,{})}),a[3]=n):n=a[3],a[4]!==c?(r=c(),a[4]=c,a[5]=r):r=a[5],a[6]!==r?(i=(0,_.jsx)(I.Box,{padding:1,marginBottom:4,children:(0,_.jsx)(I.Card,{radius:3,paddingX:2,paddingY:2,tone:"caution",children:(0,_.jsxs)(I.Flex,{align:"center",gap:3,paddingX:2,children:[n,(0,_.jsx)(I.Flex,{align:"center",flex:1,gap:2,paddingY:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:r})})]})})}),a[6]=r,a[7]=i):i=a[7],i},esO=()=>{let e,t=(0,j.c)(2),{zoneDateToUtc:n}=K3(erB);return t[0]!==n?(e=e=>[(0,tJ.startOfDay)(e),(0,tQ.endOfDay)(e)].map(n),t[0]=n,t[1]=e):e=t[1],e},esP=e=>{var t;let n,r,i,a,o,l,s,c=(0,j.c)(18),{data:u}=z0(),d=esO();c[0]!==e?({date:i,cardinalityView:r,...n}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i):(n=c[1],r=c[2],i=c[3]),c[4]!==i||c[5]!==d?(a=d(i),c[4]=i,c[5]=d,c[6]=a):a=c[6];let[p,f]=a;c[7]!==u||c[8]!==r||c[9]!==f||c[10]!==p?(o=null==u||null==(t=u.filter(RT(r)))?void 0:t.some(e=>{let t=e.publishAt||e.metadata.intendedPublishAt;if(!t)return!1;let n=new Date(t);return"scheduled"===e.metadata.releaseType&&n>=p&&n<=f}),c[7]=u,c[8]=r,c[9]=f,c[10]=p,c[11]=o):o=c[11];let h=o;return c[12]!==h?(l=h?{fontWeight:700}:{},c[12]=h,c[13]=l):l=c[13],c[14]!==n||c[15]!==i||c[16]!==l?(s=(0,_.jsx)(esd,{...n,date:i,dateStyles:l}),c[14]=n,c[15]=i,c[16]=l,c[17]=s):s=c[17],s},esM=na.motion.create(B.Button),esF=e=>{let t,n,r,i=(0,j.c)(8),{filterDate:a,onClear:o}=e,[l,s]=(0,E.useState)(!1);i[0]!==o?(t=()=>{s(!1),o()},i[0]=o,i[1]=t):t=i[1];let c=t;return a?(i[2]!==a||i[3]!==l?(n=!l&&(0,_.jsx)(esM,{"data-testid":"selected-date-filter",initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.35,ease:"easeInOut"},iconRight:R.CloseIcon,mode:"bleed",onClick:()=>s(!0),selected:!0,text:(0,tY.format)(a,"PPP")}),i[2]=a,i[3]=l,i[4]=n):n=i[4],i[5]!==c||i[6]!==n?(r=(0,_.jsx)(no.AnimatePresence,{onExitComplete:c,children:n}),i[5]=c,i[6]=n,i[7]=r):r=i[7],r):null},esR=e=>{let t,n,r=(0,j.c)(6),{release:i,documentsCount:a}=e;r[0]!==i._id?(t=FF(i._id),r[0]=i._id,r[1]=t):t=r[1];let{results:o}=er_(t);return r[2]!==o||r[3]!==a||r[4]!==i?(n=(0,_.jsx)(eaT,{release:i,documentsCount:a,documents:o}),r[2]=o,r[3]=a,r[4]=i,r[5]=n):n=r[5],n},esB=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsxs)("svg",{width:"248",height:"201",viewBox:"0 0 248 201",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{opacity:"0.2",d:"M175.4 29.8262V98.1738C175.4 103.823 181.346 107.498 186.399 104.971L222.399 86.9714C224.974 85.684 226.6 83.0524 226.6 80.1738V11.8262C226.6 6.17654 220.654 2.50197 215.601 5.02859L179.601 23.0286C177.026 24.316 175.4 26.9476 175.4 29.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M183.4 33.8262V102.174C183.4 107.823 189.346 111.498 194.399 108.971L230.399 90.9714C232.974 89.684 234.6 87.0524 234.6 84.1738V15.8262C234.6 10.1765 228.654 6.50197 223.601 9.02859L187.601 27.0286C185.026 28.316 183.4 30.9476 183.4 33.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M195.4 39.8262V108.174C195.4 113.823 201.346 117.498 206.399 114.971L242.399 96.9714C244.974 95.684 246.6 93.0524 246.6 90.1738V21.8262C246.6 16.1765 240.654 12.502 235.601 15.0286L199.601 33.0286C197.026 34.316 195.4 36.9476 195.4 39.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.6",d:"M109.4 50.8262V119.174C109.4 124.823 115.346 128.498 120.399 125.971L156.399 107.971C158.974 106.684 160.6 104.052 160.6 101.174V32.8262C160.6 27.1765 154.654 23.502 149.601 26.0286L113.601 44.0286C111.026 45.316 109.4 47.9476 109.4 50.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.9",d:"M118 123.174V54.8262C118 52.1748 119.498 49.751 121.87 48.5653L157.87 30.5652C162.524 28.2381 168 31.6226 168 36.8262V105.174C168 107.825 166.502 110.249 164.131 111.435L128.13 129.435C123.476 131.762 118 128.377 118 123.174Z",fill:"#F6F6F8",stroke:"#4E556D",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M121.4 56.8262V125.174C121.4 130.823 127.346 134.498 132.399 131.971L168.399 113.971C170.974 112.684 172.6 110.052 172.6 107.174V38.8262C172.6 33.1765 166.654 29.502 161.601 32.0286L125.601 50.0286C123.026 51.316 121.4 53.9476 121.4 56.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M125.4 58.8262V127.174C125.4 132.823 131.346 136.498 136.399 133.971L172.399 115.971C174.974 114.684 176.6 112.052 176.6 109.174V40.8262C176.6 35.1765 170.654 31.502 165.601 34.0286L129.601 52.0286C127.026 53.316 125.4 55.9476 125.4 58.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M137.4 64.8262V133.174C137.4 138.823 143.346 142.498 148.399 139.971L184.399 121.971C186.974 120.684 188.6 118.052 188.6 115.174V46.8262C188.6 41.1765 182.654 37.502 177.601 40.0286L141.601 58.0286C139.026 59.316 137.4 61.9476 137.4 64.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M145.4 68.8262V137.174C145.4 142.823 151.346 146.498 156.399 143.971L192.399 125.971C194.974 124.684 196.6 122.052 196.6 119.174V50.8262C196.6 45.1765 190.654 41.502 185.601 44.0286L149.601 62.0286C147.026 63.316 145.4 65.9476 145.4 68.8262Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.6",d:"M1.4 104.826V173.174C1.4 178.823 7.34557 182.498 12.3988 179.971L48.3988 161.971C50.9736 160.684 52.6 158.052 52.6 155.174V86.8262C52.6 81.1765 46.6544 77.502 41.6012 80.0286L5.60117 98.0286C3.02641 99.316 1.4 101.948 1.4 104.826Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.6",d:"M56.6 146.174V77.8262C56.6 75.4021 57.9696 73.186 60.1378 72.1019L96.1378 54.1019C100.393 51.9742 105.4 55.0686 105.4 59.8262V128.174C105.4 130.598 104.03 132.814 101.862 133.898L65.8622 151.898C61.6068 154.026 56.6 150.931 56.6 146.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.8",d:"M60.6 148.174V79.8262C60.6 77.4021 61.9696 75.186 64.1378 74.1019L100.138 56.1019C104.393 53.9742 109.4 57.0686 109.4 61.8262V130.174C109.4 132.598 108.03 134.814 105.862 135.898L69.8622 153.898C65.6068 156.026 60.6 152.931 60.6 148.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.9",d:"M64 150.174V81.8262C64 79.1748 65.498 76.751 67.8695 75.5653L103.87 57.5652C108.524 55.2381 114 58.6226 114 63.8262V132.174C114 134.825 112.502 137.249 110.131 138.435L74.1305 156.435C69.4762 158.762 64 155.377 64 150.174Z",fill:"#F6F6F8",stroke:"#4E556D",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M72.6 154.174V85.8262C72.6 83.4021 73.9696 81.186 76.1378 80.1019L112.138 62.1019C116.393 59.9742 121.4 63.0686 121.4 67.8262V136.174C121.4 138.598 120.03 140.814 117.862 141.898L81.8622 159.898C77.6068 162.026 72.6 158.931 72.6 154.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M76.6 156.174V87.8262C76.6 85.4021 77.9696 83.186 80.1378 82.1019L116.138 64.1019C120.393 61.9742 125.4 65.0686 125.4 69.8262V138.174C125.4 140.598 124.03 142.814 121.862 143.898L85.8622 161.898C81.6068 164.026 76.6 160.931 76.6 156.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M84.6 160.174V91.8262C84.6 89.4021 85.9696 87.186 88.1378 86.1019L124.138 68.1019C128.393 65.9742 133.4 69.0686 133.4 73.8262V142.174C133.4 144.598 132.03 146.814 129.862 147.898L93.8622 165.898C89.6068 168.026 84.6 164.931 84.6 160.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M88.6 162.174V93.8262C88.6 91.4021 89.9696 89.186 92.1378 88.1019L128.138 70.1019C132.393 67.9742 137.4 71.0686 137.4 75.8262V144.174C137.4 146.598 136.03 148.814 133.862 149.898L97.8622 167.898C93.6068 170.026 88.6 166.931 88.6 162.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M92.6 164.174V95.8262C92.6 93.4021 93.9696 91.186 96.1378 90.1019L132.138 72.1019C136.393 69.9742 141.4 73.0686 141.4 77.8262V146.174C141.4 148.598 140.03 150.814 137.862 151.898L101.862 169.898C97.6068 172.026 92.6 168.931 92.6 164.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M96.6 166.174V97.8262C96.6 95.4021 97.9696 93.186 100.138 92.1019L136.138 74.1019C140.393 71.9742 145.4 75.0686 145.4 79.8262V148.174C145.4 150.598 144.03 152.814 141.862 153.898L105.862 171.898C101.607 174.026 96.6 170.931 96.6 166.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M104.6 170.174V101.826C104.6 99.4021 105.97 97.186 108.138 96.1019L144.138 78.1019C148.393 75.9742 153.4 79.0686 153.4 83.8262V152.174C153.4 154.598 152.03 156.814 149.862 157.898L113.862 175.898C109.607 178.026 104.6 174.931 104.6 170.174Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.8",d:"M5.4 106.826V175.174C5.4 180.823 11.3456 184.498 16.3988 181.971L52.3988 163.971C54.9736 162.684 56.6 160.052 56.6 157.174V88.8262C56.6 83.1765 50.6544 79.502 45.6012 82.0286L9.60117 100.029C7.02641 101.316 5.4 103.948 5.4 106.826Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.9",d:"M10 177.174V108.826C10 106.175 11.498 103.751 13.8695 102.565L49.8695 84.5652C54.5238 82.2381 60 85.6226 60 90.8262V159.174C60 161.825 58.502 164.249 56.1305 165.435L20.1305 183.435C15.4762 185.762 10 182.377 10 177.174Z",fill:"#F6F6F8",stroke:"#4E556D",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M13.4 110.826V179.174C13.4 184.823 19.3456 188.498 24.3988 185.971L60.3988 167.971C62.9736 166.684 64.6 164.052 64.6 161.174V92.8262C64.6 87.1765 58.6544 83.502 53.6012 86.0286L17.6012 104.029C15.0264 105.316 13.4 107.948 13.4 110.826Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M29.4 118.826V187.174C29.4 192.823 35.3456 196.498 40.3988 193.971L76.3988 175.971C78.9736 174.684 80.6 172.052 80.6 169.174V100.826C80.6 95.1765 74.6544 91.502 69.6012 94.0286L33.6012 112.029C31.0264 113.316 29.4 115.948 29.4 118.826Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"}),(0,_.jsx)("path",{opacity:"0.2",d:"M33.4 120.826V189.174C33.4 194.823 39.3456 198.498 44.3988 195.971L80.3988 177.971C82.9736 176.684 84.6 174.052 84.6 171.174V102.826C84.6 97.1765 78.6544 93.502 73.6012 96.0286L37.6012 114.029C35.0264 115.316 33.4 117.948 33.4 120.826Z",fill:"white",stroke:"#515870",strokeWidth:"1.2"})]}),t[0]=e):e=t[0],e},esN=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(25),{createReleaseButton:h,onClickCreateRelease:m}=e,{t:g}=IO(erH);f[0]!==m?(t=()=>{m()},f[0]=m,f[1]=t):t=f[1];let y=t;return f[2]===Symbol.for("react.memo_cache_sentinel")?(n={maxWidth:"300px"},r=(0,_.jsx)(esB,{}),f[2]=n,f[3]=r):(n=f[2],r=f[3]),f[4]!==g?(i=g("overview.title"),f[4]=g,f[5]=i):i=f[5],f[6]!==i?(a=(0,_.jsx)(I.Text,{as:"h1",size:1,weight:"semibold","data-testid":"no-releases-info-text",children:i}),f[6]=i,f[7]=a):a=f[7],f[8]===Symbol.for("react.memo_cache_sentinel")?(o={textAlign:"center"},f[8]=o):o=f[8],f[9]!==g?(l=g("overview.description"),f[9]=g,f[10]=l):l=f[10],f[11]!==l?(s=(0,_.jsx)(I.Text,{size:1,muted:!0,style:o,children:l}),f[11]=l,f[12]=s):s=f[12],f[13]!==g?(c=g("overview.action.documentation"),f[13]=g,f[14]=c):c=f[14],f[15]!==y||f[16]!==c?(u=(0,_.jsx)(B.Button,{as:"a",href:"https://www.sanity.io/docs/content-releases",target:"_blank",mode:"ghost",onClick:y,text:c}),f[15]=y,f[16]=c,f[17]=u):u=f[17],f[18]!==h||f[19]!==u?(d=(0,_.jsxs)(I.Inline,{space:2,children:[h,u]}),f[18]=h,f[19]=u,f[20]=d):d=f[20],f[21]!==d||f[22]!==a||f[23]!==s?(p=(0,_.jsxs)(I.Flex,{gap:3,direction:"column",align:"center",style:n,children:[r,a,s,d]}),f[21]=d,f[22]=a,f[23]=s,f[24]=p):p=f[24],p};function esL(e){let t,n,r=(0,j.c)(5),{releaseId:i}=e;r[0]!==i?(t=FF(i),r[0]=i,r[1]=t):t=r[1];let{results:a,loading:o}=er_(t);return r[2]!==a||r[3]!==o?(n=o?(0,_.jsx)(I.Spinner,{size:1,muted:!0}):(0,_.jsx)(eiZ,{layout:"minimal",documents:a}),r[2]=a,r[3]=o,r[4]=n):n=r[4],n}let esz=e=>{let t,n=(0,j.c)(2),{documentCount:r}=e,i=r||"-";return n[0]!==i?(t=(0,_.jsx)(I.Text,{muted:!0,size:1,children:i}),n[0]=i,n[1]=t):t=n[1],t},esV={block:{icon:25,media:{width:33,height:33}},blockImage:{icon:25,media:{width:600,height:400}},compact:{icon:21,media:{width:25,height:25}},default:{icon:21,media:{width:33,height:33}},detail:{icon:25,media:{width:73,height:73}},inline:{icon:15,media:{width:15,height:15}},media:{icon:25,media:{width:160,height:160}}},esU=(0,F.styled)(I.Flex).attrs({align:"center"})(jG(),(0,I.rem)(esV.detail.media.height)),esH=(0,F.styled)(I.Box)(j$()),esq=(0,F.styled)(A.Skeleton).attrs({animated:!0,radius:2})(jZ(),(0,I.rem)(esV.detail.media.width),(0,I.rem)(esV.detail.media.height)),esW=(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(jX(),(0,I.rem)(160)),esY=(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(jJ(),(0,I.rem)(120)),esK=(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(jQ(),(0,I.rem)(180)),esG=(0,F.styled)(I.Text)(e=>{let{theme:t}=e,{fonts:n}=t.sanity,r=2*n.text.sizes[1].lineHeight;return(0,F.css)(j1(),(0,I.rem)(r),2)}),es$=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(59),{cellProps:x,datum:C}=e,k=(0,nr.useRouter)(),{t:w}=IO(erH),{t:S}=IO(),{selectedReleaseId:E}=Ar(),T=erV(),{state:D}=C;b[0]!==C._id||b[1]!==C.isLoading?(t=C.isLoading?"loading":FF(C._id),b[0]=C._id,b[1]=C.isLoading,b[2]=t):t=b[2];let O=t,P="archived"===D,M=O===E;b[3]!==M||b[4]!==O||b[5]!==T?(n=()=>{T(M?"drafts":O)},b[3]=M,b[4]=O,b[5]=T,b[6]=n):n=b[6];let F=n;b[7]!==x?(r=e=>{let{children:t}=e;return(0,_.jsx)(I.Box,{...x,paddingLeft:3,flex:1,paddingY:1,paddingRight:2,sizing:"border",children:t})},b[7]=x,b[8]=r):r=b[8];let N=r;if(C.isLoading){let e,t;return b[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[(0,_.jsx)(A.Skeleton,{animated:!0,radius:1,style:esV.default.media}),(0,_.jsx)(esW,{})]}),b[9]=e):e=b[9],b[10]!==N?(t=(0,_.jsx)(N,{children:e}),b[10]=N,b[11]=t):t=b[11],t}b[12]!==C.isDeleted||b[13]!==O||b[14]!==k?(i=C.isDeleted?{tone:"transparent"}:{as:"a",onClick:()=>k.navigate({releaseId:O}),tone:"inherit"},b[12]=C.isDeleted,b[13]=O,b[14]=k,b[15]=i):i=b[15];let L=i,z=M?R.PinFilledIcon:R.PinIcon;b[16]!==C.metadata.title||b[17]!==S?(a=C.metadata.title||S("release.placeholder-untitled-release"),b[16]=C.metadata.title,b[17]=S,b[18]=a):a=b[18];let V=a,U=!C.isDeleted;b[19]!==V?(o={title:V},b[19]=V,b[20]=o):o=b[20],b[21]!==w||b[22]!==o?(l=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:w,i18nKey:"deleted-release",values:o})}),b[21]=w,b[22]=o,b[23]=l):l=b[23];let H=P||"published"===C.state;b[24]!==M||b[25]!==w?(s=w(M?"dashboard.details.unpin-release":"dashboard.details.pin-release"),b[24]=M,b[25]=w,b[26]=s):s=b[26],b[27]!==s||b[28]!==H?(c={disabled:H,content:s},b[27]=s,b[28]=H,b[29]=c):c=b[29];let q=P||"published"===C.state,W=M?"".concat(w("dashboard.details.unpin-release"),': "').concat(C.metadata.title,'"'):"".concat(w("dashboard.details.pin-release"),': "').concat(C.metadata.title,'"');return b[30]!==F||b[31]!==M||b[32]!==z||b[33]!==c||b[34]!==q||b[35]!==W?(u=(0,_.jsx)(B.Button,{tooltipProps:c,disabled:q,icon:z,mode:"bleed","data-testid":"pin-release-button",onClick:F,radius:"full",selected:M,"aria-label":W,"aria-live":"assertive"}),b[30]=F,b[31]=M,b[32]=z,b[33]=c,b[34]=q,b[35]=W,b[36]=u):u=b[36],b[37]!==C?(d=RD(C),b[37]=C,b[38]=d):d=b[38],b[39]!==d?(p=(0,_.jsx)(I.Box,{flex:"none",children:(0,_.jsx)(erX,{tone:d})}),b[39]=d,b[40]=p):p=b[40],b[41]!==V?(f=(0,_.jsx)(I.Stack,{flex:1,space:2,children:(0,_.jsx)(I.Flex,{align:"center",gap:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:V})})}),b[41]=V,b[42]=f):f=b[42],b[43]!==p||b[44]!==f?(h=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[p,f]}),b[43]=p,b[44]=f,b[45]=h):h=b[45],b[46]!==L||b[47]!==h?(m=(0,_.jsx)(I.Card,{...L,padding:2,radius:2,flex:1,children:h}),b[46]=L,b[47]=h,b[48]=m):m=b[48],b[49]!==u||b[50]!==m?(g=(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[u,m]}),b[49]=u,b[50]=m,b[51]=g):g=b[51],b[52]!==g||b[53]!==U||b[54]!==l?(y=(0,_.jsx)(B.Tooltip,{disabled:U,content:l,children:g}),b[52]=g,b[53]=U,b[54]=l,b[55]=y):y=b[55],b[56]!==N||b[57]!==y?(v=(0,_.jsx)(N,{children:y}),b[56]=N,b[57]=y,b[58]=v):v=b[58],v},esZ=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(40),{release:m,releaseGroupMode:g}=e,{t:y}=IO(),v=(0,E.useRef)(null),b=(0,E.useRef)(null),[x,C]=(0,E.useState)(!1),{firstDocument:k}=erj(m._id),w=null==k?void 0:k._type,S=!k;h[0]!==m||h[1]!==w||h[2]!==S?(t={release:m,documentType:w,disabled:S},h[0]=m,h[1]=w,h[2]=S,h[3]=t):t=h[3];let{actions:T,dialogs:D,isPerformingOperation:A}=erz(t);e:{let e,t,r,i;if("archived"===g){let e;h[4]!==T.deleteSchedule?(e=[(0,_.jsx)(B.MenuItem,{...T.deleteSchedule},"delete-schedule")],h[4]=T.deleteSchedule,h[5]=e):e=h[5],n=e;break e}h[6]!==T.publishNow?(e=(0,_.jsx)(B.MenuItem,{...T.publishNow},"publish-now"),h[6]=T.publishNow,h[7]=e):e=h[7],h[8]!==T.editSchedule?(t=(0,_.jsx)(B.MenuItem,{...T.editSchedule},"edit-schedule"),h[8]=T.editSchedule,h[9]=t):t=h[9],h[10]!==T.deleteSchedule?(r=(0,_.jsx)(B.MenuItem,{...T.deleteSchedule},"delete-schedule"),h[10]=T.deleteSchedule,h[11]=r):r=h[11],h[12]!==e||h[13]!==t||h[14]!==r?(i=[e,t,r],h[12]=e,h[13]=t,h[14]=r,h[15]=i):i=h[15],n=i}let O=n,P=!!k;h[16]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{C(esX)},h[16]=r):r=h[16];let M=r;if(h[17]===Symbol.for("react.memo_cache_sentinel")?(i=()=>C(!1),a=()=>[v.current,b.current],h[17]=i,h[18]=a):(i=h[17],a=h[18]),(0,I.useClickOutsideEvent)(i,a),!P)return null;h[19]!==O?(o=(0,_.jsx)(I.Menu,{ref:b,children:O}),h[19]=O,h[20]=o):o=h[20],h[21]===Symbol.for("react.memo_cache_sentinel")?(l=["top-end"],h[21]=l):l=h[21];let F=!P||A,N=A?I.Spinner:R.EllipsisHorizontalIcon;return h[22]!==y?(s=y("release.menu.tooltip"),h[22]=y,h[23]=s):s=h[23],h[24]!==s?(c={content:s},h[24]=s,h[25]=c):c=h[25],h[26]!==y?(u=y("release.menu.label"),h[26]=y,h[27]=u):u=h[27],h[28]!==F||h[29]!==N||h[30]!==c||h[31]!==u?(d=(0,_.jsx)(B.Button,{disabled:F,icon:N,mode:"bleed",tooltipProps:c,"aria-label":u,"data-testid":"scheduled-draft-menu-button",onClick:M}),h[28]=F,h[29]=N,h[30]=c,h[31]=u,h[32]=d):d=h[32],h[33]!==x||h[34]!==d||h[35]!==o?(p=(0,_.jsx)(B.Popover,{content:o,open:x,ref:v,constrainSize:!1,fallbackPlacements:l,portal:!0,tone:"default",placement:"bottom",children:d}),h[33]=x,h[34]=d,h[35]=o,h[36]=p):p=h[36],h[37]!==D||h[38]!==p?(f=(0,_.jsxs)(_.Fragment,{children:[p,D]}),h[37]=D,h[38]=p,h[39]=f):f=h[39],f};function esX(e){return!e}let esJ=e=>{let t,n,r=(0,j.c)(12),{datum:i,cellProps:a}=e,{firstDocument:o,loading:l}=erj(i._id&&!i.isLoading?i._id:void 0);if(i.isLoading||l||!o){let e,t;return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.Skeleton,{animated:!0,radius:2,style:{height:"32px",width:"100%"}}),r[0]=e):e=r[0],r[1]!==a?(t=(0,_.jsx)(I.Flex,{...a,align:"center",paddingX:2,paddingY:3,sizing:"border",children:e}),r[1]=a,r[2]=t):t=r[2],t}return r[3]!==o._id||r[4]!==o._rev||r[5]!==o._type||r[6]!==i._id||r[7]!==i.state?(t=(0,_.jsx)(eim,{documentId:o._id,documentTypeName:o._type,releaseId:i._id,releaseState:i.state,documentRevision:o._rev,layout:"default"}),r[3]=o._id,r[4]=o._rev,r[5]=o._type,r[6]=i._id,r[7]=i.state,r[8]=t):t=r[8],r[9]!==a||r[10]!==t?(n=(0,_.jsx)(I.Box,{...a,flex:1,padding:1,paddingLeft:2,paddingRight:2,sizing:"border",children:t}),r[9]=a,r[10]=t,r[11]=n):n=r[11],n},esQ=e=>{let t,n,r,i,a,o=(0,j.c)(17),{datum:l,cellProps:s}=e,{createdBy:c,loading:u}=function(e,t){let n,r,i=(0,j.c)(7),a=void 0!==t&&t;i[0]!==a||i[1]!==e?(n=e&&!a?FF(e):"",i[0]=a,i[1]=e,i[2]=n):n=i[2];let o=n,{firstDocument:l,loading:s}=erj(e),{documentHistory:c,loading:u}=esr(null==l?void 0:l._id,o);if(!e||a){let e;return i[3]===Symbol.for("react.memo_cache_sentinel")?(e={createdBy:void 0,loading:!1},i[3]=e):e=i[3],e}if(s||u){let e;return i[4]===Symbol.for("react.memo_cache_sentinel")?(e={createdBy:void 0,loading:!0},i[4]=e):e=i[4],e}let d=null==c?void 0:c.createdBy;return i[5]!==d?(r={createdBy:d,loading:!1},i[5]=d,i[6]=r):r=i[6],r}(l.isLoading?void 0:l._id,l.isLoading);if(l.isLoading||!l.metadata){let e,t;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.Skeleton,{animated:!0,radius:2,style:{height:"40px",width:"150px"}}),o[0]=e):e=o[0],o[1]!==s?(t=(0,_.jsx)(I.Flex,{...s,align:"center",paddingX:2,paddingY:3,sizing:"border",children:e}),o[1]=s,o[2]=t):t=o[2],t}return o[3]!==u?(t=u&&(0,_.jsx)(Re,{$size:1,animated:!0}),o[3]=u,o[4]=t):t=o[4],o[5]!==c||o[6]!==u?(n=!u&&c&&(0,_.jsx)(Ri,{user:c,size:1}),o[5]=c,o[6]=u,o[7]=n):n=o[7],o[8]!==l?(r=(0,_.jsx)(I.Stack,{space:1,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(eiq,{release:l})})}),o[8]=l,o[9]=r):r=o[9],o[10]!==t||o[11]!==n||o[12]!==r?(i=(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[t,n,r]}),o[10]=t,o[11]=n,o[12]=r,o[13]=i):i=o[13],o[14]!==s||o[15]!==i?(a=(0,_.jsx)(I.Flex,{...s,align:"center",paddingX:2,paddingY:3,sizing:"border",children:i}),o[14]=s,o[15]=i,o[16]=a):a=o[16],a},es1=na.motion.create(B.Button),es2={column:"publishAt",direction:"asc"},es0={column:"lastActivity",direction:"desc"};function es5(){let{data:e,loading:t}=z0(),{data:n}=eit(),{mode:r}=erE(),i=esC(),{document:{drafts:{enabled:a}}}=FU(),o=(0,nr.useRouter)(),[l,s]=(0,E.useState)(()=>"archived"===new URLSearchParams(o.state._searchParams).get(eaF)?"archived":"active"),[c,u]=(0,E.useState)(i?()=>"drafts"===new URLSearchParams(o.state._searchParams).get(eaR)?"drafts":"releases":"releases"),[d,p]=(0,E.useState)(()=>{let e=new URLSearchParams(o.state._searchParams).get(eaM);return e?new Date(e):void 0}),[f,h]=(0,E.useState)(!1),m=(0,E.useMemo)(()=>e.filter(RT(c)),[e,c]),g=(0,E.useMemo)(()=>n.filter(RT(c)),[n,c]),y=(0,E.useMemo)(()=>m.map(e=>e._id),[m]),{data:v,loading:b}=(e=>{let t,n,r,i,a,o=(0,j.c)(14),{addReleaseIdsToListener:l,removeReleaseIdsFromListener:s,state:c}=(()=>{let e,t=(0,j.c)(2),n=(0,E.useContext)(D.ReleasesMetadataContext);return t[0]!==n?(e=n||{state:esk,addReleaseIdsToListener:esE,removeReleaseIdsFromListener:esT},t[0]=n,t[1]=e):e=t[1],e})(),[u,d]=(0,E.useState)(null);o[0]!==l||o[1]!==e||o[2]!==s?(t=()=>(e.length&&l([...new Set(e)]),()=>s([...new Set(e)])),n=[l,e,s],o[0]=l,o[1]=e,o[2]=s,o[3]=t,o[4]=n):(t=o[3],n=o[4]),(0,E.useEffect)(t,n);let{data:p,loading:f}=c;return o[5]!==p||o[6]!==e||o[7]!==u?(r=()=>{p&&(!u||Object.entries(u).some(e=>{let[t,n]=e;return n!==p[t]}))&&d(Object.fromEntries(e.map(e=>[e,p[e]])))},i=[e,p,u],o[5]=p,o[6]=e,o[7]=u,o[8]=r,o[9]=i):(r=o[8],i=o[9]),(0,E.useEffect)(r,i),o[10]!==f||o[11]!==u||o[12]!==c.error?(a={error:c.error,loading:f,data:u},o[10]=f,o[11]=u,o[12]=c.error,o[13]=a):a=o[13],a})(y),x=t||b&&!v,C=x||!v&&!!y.length,{t:k}=IO(erH),{t:w}=IO(),{timeZone:S,utcToCurrentZoneDate:T}=K3(erB),{selectedPerspective:A}=Ar(),{DialogTimeZone:O,dialogProps:P,dialogTimeZoneShow:M}=Gr(erB),F=esO(),{createRelease:N}=erA(),{checkWithPermissionGuard:L}=eiz(),[z,V]=(0,E.useState)(null),U=(0,I.useMediaIndex)(),H=(0,E.useCallback)(e=>e.isDeleted?{tone:"transparent"}:{tone:Id(A)&&A._id===e._id?RD(e):"default"},[A]),[q,W]=(0,E.useState)(null),Y=e.length>0||n.length>0,K="drafts"===c&&(!a||!i),G=x||Y,$=!x&&!Y,Z=(0,E.useMemo)(()=>Y&&v?m.map(e=>({...e,publishAt:e.publishAt||e.metadata.intendedPublishAt,documentsMetadata:v[e._id]||{}})):[],[Y,v,m]),X=(0,E.useRef)(!1);(0,E.useEffect)(()=>(X.current=!0,L(N,RE()).then(e=>{X.current&&V(e)}),()=>{X.current=!1}),[L,N]),(0,E.useEffect)(()=>{"archived"!==l||t||g.length||s("active")},[l,g.length,t]);let J=(0,E.useCallback)(e=>{let{currentTarget:{value:t}}=e;s(t)},[]),Q=(0,E.useCallback)(e=>()=>u(e),[]),ee=(0,E.useCallback)(e=>p(t=>{if(!e)return;let n=T(e);return t&&(0,tR.isSameDay)(t,n)?void 0:n}),[T]),et=(0,E.useCallback)(()=>{p(void 0),s("active")},[]);(0,E.useEffect)(()=>{o.navigate({_searchParams:((e,t,n)=>{let r=[];return e?r.push([eaM,(0,tY.format)(e,"yyyy-MM-dd")]):"archived"===t&&r.push([eaF,t]),"drafts"===n&&r.push([eaR,"drafts"]),r})(d,l,i?c:"releases")})},[d,l,c,o,i]);let[en,er]=(0,E.useState)(!1);(0,E.useEffect)(()=>{er(!0)},[]);let ei=U>2,ea=(0,E.useMemo)(()=>{if(!i){if(!e.some(Ip))return(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[(0,_.jsx)(R.CalendarIcon,{}),(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:k("action.releases")})]});let t=k("releases"===c?"action.releases":"action.drafts");return(0,_.jsx)(B.MenuButton,{id:"cardinality-view-menu",button:(0,_.jsx)(B.Button,{mode:"bleed",paddingY:2,text:t,icon:R.CalendarIcon,iconRight:R.ChevronDownIcon,disabled:x,style:{fontWeight:600}}),menu:(0,_.jsxs)(I.Menu,{children:[(0,_.jsx)(B.MenuItem,{text:k("action.releases"),selected:"releases"===c,onClick:Q("releases")}),(0,_.jsx)(B.MenuItem,{text:k("action.drafts"),selected:"drafts"===c,onClick:Q("drafts")})]})})}if(!a&&!e.some(e=>Ip(e)))return(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[(0,_.jsx)(R.CalendarIcon,{}),(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:k("action.releases")})]});let t=k("releases"===c?"action.releases":"action.drafts");return(0,_.jsx)(B.MenuButton,{id:"cardinality-view-menu",button:(0,_.jsx)(B.Button,{mode:"bleed",paddingY:2,text:t,icon:R.CalendarIcon,iconRight:R.ChevronDownIcon,disabled:x,style:{fontWeight:600}}),menu:(0,_.jsxs)(I.Menu,{children:[(0,_.jsx)(B.MenuItem,{text:k("action.releases"),selected:"releases"===c,onClick:Q("releases")}),(0,_.jsx)(B.MenuItem,{text:k("action.drafts"),selected:"drafts"===c,onClick:Q("drafts")})]})})},[x,c,k,Q,i,a,e]),eo=(0,E.useMemo)(()=>{let e={disabled:x||!Y,mode:"bleed",padding:2,...en?{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,ease:"easeInOut"}}:{}};return(0,_.jsxs)(no.AnimatePresence,{children:[(0,_.jsx)(es1,{...e,onClick:J,selected:"active"===l,text:k("action.open"),value:"active"},"open-group"),(0,_.jsx)(B.Tooltip,{disabled:0!==g.length,content:k("no-archived-release"),placement:"bottom",children:(0,_.jsx)("div",{children:(0,_.jsx)(es1,{...e,disabled:e.disabled||!g.length,onClick:J,selected:"archived"===l,text:k("action.archived"),value:"archived"},"archived-group")})})]})},[x,Y,en,J,l,k,g.length]),el=(0,E.useCallback)(async()=>{h(!0)},[]),es=(0,E.useMemo)(()=>i&&"drafts"===c?null:(0,_.jsx)(B.Button,{icon:R.AddIcon,disabled:!z||f||"disabled"===r,onClick:el,text:w("release.action.create-new"),tooltipProps:{disabled:!0===z,content:w("release.action.permission.error")}}),[c,z,f,r,el,w,i]),ec=(0,E.useCallback)(e=>{h(!1),o.navigate({releaseId:e},{stickyParams:{excludedPerspectives:null,perspective:e}})},[o]),eu=(0,E.useCallback)(e=>{var t,n,r;let{datum:i}=e;if(i.isDeleted||i.isLoading)return null;if("drafts"===c)return(0,_.jsx)(esZ,{release:i,releaseGroupMode:l});let a=null!=(r="active"===l?null==(t=i.documentsMetadata)?void 0:t.documentCount:null==(n=i.finalDocumentStates)?void 0:n.length)?r:0;return(0,_.jsx)(esR,{release:i,documentsCount:a})},[l,c]),ed=(0,E.useMemo)(()=>{if(!d)return"active"===l?Z:g;let[e,t]=F(d);return Z.filter(n=>{if(!n.publishAt||"scheduled"!==n.metadata.releaseType)return!1;let r=new Date(n.publishAt);return r>=e&&r<=t})},[d,l,Z,g,F]),ep=(0,E.useMemo)(()=>(e=>{let t=t=>{let n,r=(0,j.c)(2);return r[0]!==t?(n=(0,_.jsx)(esP,{...t,cardinalityView:e}),r[0]=t,r[1]=n):n=r[1],n};return t.displayName="ReleaseCalendarFilterDayComponent",t})(c),[c]),ef=(0,E.useMemo)(()=>(0,_.jsx)(I.Flex,{flex:"none",children:(0,_.jsx)(I.Card,{borderRight:!0,flex:"none",disabled:!0,children:(0,_.jsx)(esm,{disabled:x||0===m.length,renderCalendarDay:ep,selectedDate:d,onSelect:ee,timeZoneScope:erB})})}),[x,m,d,ee,ep]),eh=(0,E.useMemo)(()=>"drafts"===c?[{id:"documentPreview",sorting:!1,width:null,style:{flex:1},header:e=>(0,_.jsx)(I.Flex,{...e.headerProps,paddingLeft:2,paddingRight:2,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.BasicHeader,{text:k("table-header.document")})}),cell:esJ},{id:"publishAt",sorting:!0,width:300,header:e=>(0,_.jsx)(I.Flex,{...e.headerProps,paddingY:3,paddingX:2,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{...e,text:k("archived"===l?"table-header.scheduled-draft.published-at":"table-header.scheduled-for")})}),cell:esQ}]:((e,t)=>{let n,r=(n=t,(e,t)=>{if(!n)throw Error("currentMode is required");if("all"===t||t===n)return e});return[r({id:"metadata.title",sorting:!0,width:null,style:{minWidth:"50%",maxWidth:"50%"},header:t=>(0,_.jsx)(I.Flex,{...t.headerProps,flex:1,paddingLeft:6,width:3,paddingRight:2,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{...t,text:e("table-header.title")})}),cell:es$},"all"),r({id:"publishAt",sorting:!0,sortTransform:e=>{if("undecided"===e.metadata.releaseType)return 1/0;let t=Rk(e);return"asap"!==e.metadata.releaseType&&t?new Date(t).getTime():0},width:250,header:t=>(0,_.jsx)(I.Flex,{...t.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{text:e("table-header.time"),...t})}),cell:e=>{let{cellProps:t,datum:n}=e;return n.isLoading?null:(0,_.jsxs)(I.Flex,{...t,align:"center",paddingX:2,paddingY:3,gap:2,sizing:"border",children:[(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(eiq,{release:n})}),RS(n)&&(0,_.jsx)(I.Text,{size:1,"data-testid":"release-lock-icon",children:(0,_.jsx)(R.LockIcon,{})})]})}},"active"),r({id:"lastActivity",hidden:!0,sorting:!0,width:100,sortTransform:e=>{let{publishedAt:t,_updatedAt:n}=e,r=null!=t?t:n;return r?new Date(r).getTime():-1/0}},"archived"),r({id:"publishedAt",sorting:!0,sortTransform:(e,t)=>"published"!==e.state?"asc"===t?1/0:-1/0:e.publishedAt?new Date(e.publishedAt).getTime():e._updatedAt,width:250,header:t=>(0,_.jsx)(I.Flex,{...t.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{text:e("table-header.published-at"),...t})}),cell:e=>{let{cellProps:t,datum:n}=e;return(0,_.jsx)(I.Flex,{...t,align:"center",paddingX:2,paddingY:3,gap:2,sizing:"border",children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:n.publishedAt?(0,_.jsx)(eif,{time:n.publishedAt,useTemporalPhrase:!0,minimal:!0}):"-"})})}},"archived"),r({id:"_updatedAt",sorting:!0,sortTransform:(e,t)=>"archived"!==e.state?"asc"===t?1/0:-1/0:new Date(e._updatedAt).getTime(),width:250,header:t=>(0,_.jsx)(I.Flex,{...t.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{text:e("table-header.archivedAt"),...t})}),cell:e=>{let{cellProps:t,datum:n}=e;return(0,_.jsx)(I.Flex,{...t,align:"center",paddingX:2,paddingY:3,gap:2,sizing:"border",children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:"archived"===n.state?(0,_.jsx)(eif,{time:n._updatedAt,useTemporalPhrase:!0,minimal:!0}):"-"})})}},"archived"),r({id:"documentsMetadata.updatedAt",sorting:!0,width:150,header:t=>(0,_.jsx)(I.Flex,{...t.headerProps,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.SortHeaderButton,{text:e("table-header.edited"),...t})}),cell:e=>{var t;let{datum:{documentsMetadata:n,_updatedAt:r},cellProps:i}=e,a=null!=(t=null==n?void 0:n.updatedAt)?t:r;return(0,_.jsx)(I.Flex,{...i,align:"center",gap:2,paddingX:2,paddingY:3,sizing:"border",children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:a?(0,_.jsx)(eif,{time:a,useTemporalPhrase:!0,minimal:!0}):"-"})})}},"active"),r({id:"error",sorting:!1,width:40,header:()=>(0,_.jsx)(E.Fragment,{}),cell:t=>{let{datum:{error:n,state:r},cellProps:i}=t;return(0,_.jsx)(I.Flex,{...i,align:"center",paddingX:2,paddingY:3,sizing:"border","data-testid":"error-indicator",children:"u">typeof n&&"active"===r&&(0,_.jsx)(B.Tooltip,{content:(0,_.jsx)(I.Text,{size:1,children:e("failed-publish-title")}),portal:!0,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:"critical"})})})})}},"all"),r({id:"documentCount",sorting:!1,width:120,header:t=>{let{headerProps:n}=t;return(0,_.jsx)(I.Flex,{...n,paddingY:3,sizing:"border",children:(0,_.jsx)(eaY.BasicHeader,{text:e("table-header.documents")})})},cell:t=>{let{datum:{isDeleted:n,state:r,finalDocumentStates:i,documentsMetadata:a,_id:o},cellProps:l}=t;return(0,_.jsxs)(I.Flex,{...l,align:"center",paddingX:2,paddingY:3,sizing:"border",gap:2,children:["active"===r&&(0,_.jsx)(esL,{releaseId:o}),"scheduled"===r&&(0,_.jsx)(I.Card,{padding:0,radius:"full",tone:"neutral",style:{background:"transparent"},children:(0,_.jsx)(I.Flex,{gap:2,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(B.Tooltip,{content:e("summary.all-documents-validated"),children:(0,_.jsx)(R.CheckmarkCircleIcon,{})})})})}),!n&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(esz,{documentCount:"archived"===r||"published"===r?null==i?void 0:i.length:null==a?void 0:a.documentCount})})]})}},"all")].filter(Boolean)})(k,l),[c,l,k]),em="archived"===l&&"releases"===c?es0:es2,eg=(0,E.useCallback)(()=>(0,_.jsx)(I.Flex,{direction:"column",flex:1,justify:$?"center":"flex-start",align:$?"center":"flex-start",style:{position:"relative"},children:(0,_.jsx)(esN,{createReleaseButton:es,onClickCreateRelease:el})}),[$,es,el]),ey=(0,E.useCallback)(()=>(0,_.jsx)(esN,{createReleaseButton:es,onClickCreateRelease:el}),[es,el]),ev=(0,E.useMemo)(()=>"releases"===c&&"active"===l?ey:k("drafts"===c?"no-scheduled-drafts":"no-releases"),[c,l,ey,k]);return(0,_.jsxs)(I.Flex,{direction:"row",flex:1,style:{height:"100%"},children:[(0,_.jsxs)(I.Flex,{flex:1,children:[ei&&ef,$?(0,_.jsx)(eg,{}):(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(I.Flex,{direction:"column",flex:1,style:{position:"relative"},children:[(0,_.jsx)(I.Card,{flex:"none",padding:3,children:(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:3,children:[(0,_.jsxs)(I.Inline,{children:[!ei&&(0,_.jsx)(esD,{content:ef}),ea]}),(0,_.jsx)(I.Flex,{flex:1,gap:1,children:G&&(d?(0,_.jsx)(esF,{filterDate:d,onClear:et}):eo)}),(0,_.jsxs)(I.Flex,{flex:"none",gap:2,children:[(0,_.jsx)(B.Button,{icon:R.EarthGlobeIcon,iconRight:R.ChevronDownIcon,mode:"bleed",text:"".concat(S.abbreviation," (").concat(S.namePretty,")"),onClick:M}),O&&(0,_.jsx)(O,{...P}),G&&es]})]})}),K&&(0,_.jsx)(esA,{isDraftModelEnabled:a,isScheduledDraftsEnabled:i}),(0,_.jsx)(I.Box,{ref:W,marginTop:3*!K,overflow:"auto",children:(x||Y)&&(0,_.jsx)(ea$,{defaultSort:em,loading:C,data:ed,columnDefs:eh,emptyState:ev,rowId:"_id",rowActions:eu,rowProps:H,scrollContainerRef:q,hideTableInlinePadding:!0},d?"by_date":l)})]})})]}),f?(0,_.jsx)(esb,{onCancel:()=>h(!1),onSubmit:ec,origin:"release-plugin"}):null]})}let es7=[];function es3(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(21),{currentUser:d,context:p}=e,{t:f}=IO();u[0]===Symbol.for("react.memo_cache_sentinel")?(t={style:"short",type:"unit"},u[0]=t):t=u[0];let h=Iz(t),m=(null==d?void 0:d.roles)||es7;u[1]!==h||u[2]!==m?(n=()=>(0,_.jsx)(_.Fragment,{children:h.formatToParts(m.map(es4)).map(es8)}),u[1]=h,u[2]=m,u[3]=n):n=u[3];let g=n;return u[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Text,{size:0,children:(0,_.jsx)(R.AccessDeniedIcon,{})}),u[4]=r):r=u[4],u[5]!==f?(i=f("insufficient-permissions-message.title"),u[5]=f,u[6]=i):i=u[6],u[7]!==i?(a=(0,_.jsxs)(I.Inline,{space:2,children:[r,(0,_.jsx)(I.Text,{size:1,weight:"medium",children:i})]}),u[7]=i,u[8]=a):a=u[8],u[9]!==p||u[10]!==f?(o=(0,_.jsx)(I.Inline,{marginTop:4,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{i18nKey:"insufficient-permissions-message.not-authorized-explanation",t:f,context:p})})}),u[9]=p,u[10]=f,u[11]=o):o=u[11],u[12]!==g?(l={Roles:g},u[12]=g,u[13]=l):l=u[13],u[14]!==f||u[15]!==l?(s=(0,_.jsx)(I.Inline,{marginTop:4,marginBottom:1,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{i18nKey:"insufficient-permissions-message.roles",t:f,components:l})})}),u[14]=f,u[15]=l,u[16]=s):s=u[16],u[17]!==a||u[18]!==o||u[19]!==s?(c=(0,_.jsxs)(I.Box,{children:[a,o,s]}),u[17]=a,u[18]=o,u[19]=s,u[20]=c):c=u[20],c}function es8(e,t){return"element"===e.type?(0,_.jsx)("code",{children:e.value},"".concat(e.value,"-").concat(t)):(0,_.jsx)(E.Fragment,{children:e.value},"".concat(e.value,"-").concat(t))}function es4(e){return e.title||(0,ti.default)(e.name)}let es6=e=>{let{id:t,type:n,release:r,version:i}=e,a=A6(),{t:o}=IO(),{selectedPerspective:l}=Ar(),[s,c]=Mp({id:t,type:n,version:r,permission:"discardVersion"}),[u,d]=(0,E.useState)(!1),p=(0,E.useCallback)(()=>{d(!0)},[]);return i?c||(null==s?void 0:s.granted)?{disabled:c||!(null==s?void 0:s.granted),dialog:u&&{type:"custom",component:(0,_.jsx)(erq,{documentId:i._id,documentType:n,onClose:()=>d(!1),fromPerspective:l})},label:o("release.action.discard-version"),icon:R.TrashIcon,onHandle:p,title:o("release.action.discard-version")}:{disabled:!0,icon:R.TrashIcon,label:"no permissions",title:(0,_.jsx)(es3,{currentUser:a,context:"discard-changes"})}:null};es6.action="discardVersion",es6.displayName="DiscardVersionAction";let es9=e=>t=>{let{type:n,release:r}=t,{data:i=[]}=erS(),a=i.find(e=>FF(e._id)===r),{actions:o,dialogs:l}=erz({release:a,documentType:n});if(!a)return null;let s=o[e];return{disabled:s.disabled,icon:s.icon,label:s.text,title:s.text,tone:s.tone,dialog:!!l&&{type:"custom",component:l},onHandle:s.onClick}},ece=es9("publishNow"),ect=es9("editSchedule"),ecn=es9("deleteSchedule");ece.displayName="PublishScheduledDraftAction",ece.action="publish",ect.displayName="EditScheduledDraftAction",ect.action="schedule",ecn.displayName="DeleteScheduledDraftAction",ecn.action="discardVersion";let ecr=e=>{let{id:t,type:n,draft:r}=e,{t:i}=IO(erH),{createScheduledDraft:a}=erO(),o=(0,A.useToast)(),{perspectiveStack:l}=Ar(),{value:s}=eih({documentId:t,documentType:n,perspectiveStack:l}),c=euh(t,n).validation.some(W.isValidationErrorMarker),u=function(e){let t,n,r=(0,j.c)(5),{data:i}=z0();r[0]!==e?(t={documentId:e},r[0]=e,r[1]=t):t=r[1];let{data:a}=erv(t);e:{let e;if(!i||!a){n=!1;break e}if(r[2]!==i||r[3]!==a){let t=a.map(th.getVersionFromId).filter(Boolean);e=i.some(e=>{let n=FF(e._id);return t.includes(n)&&Ip(e)}),r[2]=i,r[3]=a,r[4]=e}else e=r[4];n=e}return n}(t),[d,p]=(0,E.useState)(!1),[f,h]=(0,E.useState)(!1),m=(0,E.useCallback)(()=>{p(!0)},[]),g=(0,E.useCallback)(()=>{p(!1)},[]),y=(0,E.useCallback)(async e=>{h(!0);try{let n=(null==s?void 0:s.title)||void 0;await a(t,e,n),o.push({closable:!0,status:"success",title:i("action.schedule-publish-success","Document scheduled for publishing"),description:i("action.schedule-publish-success-description","Publishing scheduled for ".concat(e.toLocaleString()))}),p(!1)}catch(e){console.error("Failed to schedule document publish:",e),o.push({closable:!0,status:"error",title:i("action.schedule-publish-error","Failed to schedule publishing"),description:e instanceof Error?e.message:"An unknown error occurred"})}finally{h(!1)}},[t,a,null==s?void 0:s.title,o,i]);if(!r)return null;let v=i(u?"action.schedule-publish.disabled.cardinality-one":c?"action.schedule-publish.disabled.validation-issues":"action.schedule-publish");return{icon:R.CalendarIcon,disabled:u||c,label:i("action.schedule-publish"),title:v,onHandle:m,dialog:d&&{type:"custom",component:(0,_.jsx)(erL,{onClose:g,onSchedule:y,variant:"schedule",loading:f})}}};ecr.action="schedule",ecr.displayName="SchedulePublishAction";let eci=e=>{let{id:t,type:n,release:r,published:i,version:a}=e,o=A6(),{t:l}=IO(erH),s=!!a&&q6(a),{revertUnpublishVersion:c}=erU(),u=(0,A.useToast)(),{t:d}=IO(),[p,f]=Mp({id:t,type:n,version:r,permission:"unpublish"}),[h,m]=(0,E.useState)(!1),g=(0,E.useCallback)(async()=>{if(s&&a)try{await c(a._id)}catch(e){u.push({closable:!0,status:"error",title:d("release.action.revert-unpublish-version.failure.title"),description:d("release.action.revert-unpublish-version.failure.description")})}else m(!0)},[s,a,c,u,d]);return a?f||(null==p?void 0:p.granted)?{dialog:h&&!s&&{type:"custom",component:(0,_.jsx)(el8,{documentVersionId:a._id,documentType:n,onClose:()=>m(!1)})},label:l(s?"action.revert-unpublish-actions":"action.unpublish-doc-actions"),icon:s?R.RevertIcon:R.UnpublishIcon,onHandle:g,disabled:null===i,title:l(s?"action.revert-unpublish-actions":"action.unpublish-doc-actions")}:{disabled:!0,icon:R.TrashIcon,label:"no permissions",title:(0,_.jsx)(es3,{context:"unpublish-document",currentUser:o})}:null};eci.action="unpublishVersion",eci.displayName="UnpublishVersionAction";let eca={interpolate:/{{([\s\S]+?)}}/g},eco=e=>{let t,n,r,i,a=(0,j.c)(16),{dataUri:o,feature:l}=e,[s,c]=(0,E.useState)(null),u=(0,tp.useTelemetry)(),d=erh(),p=eTt(AE),f="https://www.sanity.".concat(p.config().apiHost.endsWith(".sanity.work")?"work":"io");a[0]!==l||a[1]!==u?(t={dialogSecondaryClicked:()=>u.log(eja,{feature:l,type:"modal"}),dialogPrimaryClicked:()=>u.log(eji,{feature:l,type:"modal"}),dialogViewed:e=>u.log(ejn,{feature:l,type:"modal",source:e}),dialogDismissed:()=>{u.log(ejr,{feature:l,type:"modal"})},panelViewed:e=>u.log(ejn,{feature:l,type:"inspector",source:e}),panelDismissed:()=>u.log(ejr,{feature:l,type:"inspector"}),panelPrimaryClicked:()=>u.log(eji,{feature:l,type:"inspector"}),panelSecondaryClicked:()=>u.log(eja,{feature:l,type:"inspector"})},a[0]=l,a[1]=u,a[2]=t):t=a[2];let h=t;return a[3]!==f||a[4]!==p.observable||a[5]!==o||a[6]!==d?(n=()=>{let e=p.observable.request({uri:o}).subscribe({next:e=>{if(e)try{let t=(0,mL.default)(e.ctaButton.url,eca);e.ctaButton.url=t({baseUrl:f,projectId:d});let n=(0,mL.default)(e.secondaryButton.url,eca);e.secondaryButton.url=n({baseUrl:f,projectId:d}),c(e)}catch(e){}},error:ecl});return()=>{e.unsubscribe()}},a[3]=f,a[4]=p.observable,a[5]=o,a[6]=d,a[7]=n):n=a[7],a[8]!==f||a[9]!==p||a[10]!==o||a[11]!==d?(r=[p,d,f,o],a[8]=f,a[9]=p,a[10]=o,a[11]=d,a[12]=r):r=a[12],(0,E.useEffect)(n,r),a[13]!==h||a[14]!==s?(i={upsellData:s,telemetryLogs:h},a[13]=h,a[14]=s,a[15]=i):i=a[15],i};function ecl(){}let ecs={inlineIcon:(e,t,n)=>{var r,i,a,o;if(!(0,W.isPortableTextTextBlock)(n))return n;let l=!!((null==(r=n.children[t-1])?void 0:r._type)==="span"&&(null==(i=n.children[t-1])?void 0:i.text)),s=!!((null==(a=n.children[t+1])?void 0:a._type)==="span"&&(null==(o=n.children[t+1])?void 0:o.text));return{...e,hasTextRight:s,hasTextLeft:l}}},ecc=(0,F.styled)(I.Box)(j2()),ecu=F.styled.div(j0()),ecd=(0,F.styled)(I.Text)(e=>e.accent?"\n    --card-icon-color: var(--card-accent-fg-color);\n    ":""),ecp=F.styled.span(j5()),ecf=F.styled.span(e=>{let{theme:t}=e,{weights:n}=t.sanity.fonts.text;return(0,F.css)(j7(),n.semibold)}),ech=(0,F.styled)(R.Icon)(j3(),e=>e.$hasTextLeft?"0":"",e=>e.$hasTextRight?"0":""),ecm=F.styled.a(j8(),e=>e.$useTextColor?"var(--card-muted-fg-color) !important":""),ecg=F.styled.span(j4(),e=>{let{$inline:t}=e;return t?"inline-block":"inline"}),ecy=e=>(0,_.jsx)(ecp,{children:e}),ecv=e=>{let t,n,r,i,a=(0,j.c)(8),[o,l]=(0,E.useState)("");a[0]!==e.icon.url?(t=()=>{let t=new AbortController,n=t.signal;return fetch(e.icon.url,{signal:n}).then(ecj).then(e=>l(e)).catch(ecS),()=>{t.abort()}},n=[e.icon.url],a[0]=e.icon.url,a[1]=t,a[2]=n):(t=a[1],n=a[2]),(0,E.useEffect)(t,n);let s=!!e.inline;return a[3]!==o?(r={__html:o},a[3]=o,a[4]=r):r=a[4],a[5]!==s||a[6]!==r?(i=(0,_.jsx)(ecg,{$inline:s,dangerouslySetInnerHTML:r}),a[5]=s,a[6]=r,a[7]=i):i=a[7],i};function ecb(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{paddingX:2,marginBottom:4,children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:r})}),n[0]=r,n[1]=t):t=n[1],t}function ecx(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{paddingX:2,marginY:4,children:(0,_.jsx)(I.Heading,{size:2,as:"h2",children:r})}),n[0]=r,n[1]=t):t=n[1],t}function ecC(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{paddingX:2,marginY:4,children:(0,_.jsx)(I.Heading,{size:1,as:"h3",children:r})}),n[0]=r,n[1]=t):t=n[1],t}let eck=F.styled.img(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(j6(),t.radius[3])});function ecw(e){var t;let n,r=(0,j.c)(2),i=null==(t=e.value.image)?void 0:t.url;return r[0]!==i?(n=(0,_.jsx)(I.Box,{paddingX:2,marginY:4,children:(0,_.jsx)(eck,{src:i})}),r[0]=i,r[1]=n):n=r[1],n}function ec_(e){let t,n,r,i=(0,j.c)(8),{blocks:a,onLinkClick:o,interpolation:l}=e;i[0]!==a?(t=a.map(e=>{if((0,W.isPortableTextTextBlock)(e)&&"block"===e._type){let t=e.children.map((t,n)=>ecs[t._type]?ecs[t._type](t,n,e):t);return{...e,children:t}}return e}),i[0]=a,i[1]=t):t=i[1];let s=t;i[2]!==l||i[3]!==o?(n=(e=>{let t,{onLinkClick:n,interpolation:r}=e,i=(t=r,e=>e&&t?(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?(0,mL.default)(e,eca)(t):e):e);return{block:{normal:e=>{let{children:t}=e;return(0,_.jsx)(ecb,{children:i(t)})},h2:e=>{let{children:t}=e;return(0,_.jsx)(ecx,{children:i(t)})},h3:e=>{let{children:t}=e;return(0,_.jsx)(ecC,{children:i(t)})}},list:{bullet:e=>{let{children:t}=e;return(0,_.jsx)("ul",{children:i(t)})},number:e=>{let{children:t}=e;return(0,_.jsx)("ol",{children:i(t)})},checkmarks:e=>{let{children:t}=e;return(0,_.jsx)(_.Fragment,{children:i(t)})}},listItem:{bullet:e=>{let{children:t}=e;return(0,_.jsx)(I.Text,{as:"li",size:1,muted:!0,style:{display:"list-item",padding:"0.5rem 0"},children:i(t)})},number:e=>{let{children:t}=e;return(0,_.jsx)(I.Text,{as:"li",size:1,muted:!0,style:{display:"list-item",padding:"0.5rem 0"},children:i(t)})},checkmarks:e=>{let{children:t}=e;return(0,_.jsx)(I.Text,{children:t})}},marks:{strong:e=>{let{children:t}=e;return(0,_.jsx)("strong",{children:i(t)})},semibold:e=>{let{children:t}=e;return(0,_.jsx)(ecf,{children:i(t)})},link:e=>(0,_.jsxs)(ecm,{href:e.value.href,rel:"noopener noreferrer",target:"_blank",$useTextColor:e.value.useTextColor,onClick:n?()=>n({url:e.value.href,linkTitle:e.text}):void 0,children:[e.children,e.value.showIcon&&(0,_.jsx)(R.LinkIcon,{style:{marginLeft:"2px"}})]}),accent:e=>{let{children:t}=e;return(0,_.jsx)(ecp,{children:i(t)})}},types:{inlineIcon:e=>{var t;return(0,_.jsx)(B.ConditionalWrapper,{condition:e.value.accent,wrapper:ecy,children:e.value.sanityIcon?(0,_.jsx)(ech,{symbol:e.value.sanityIcon,$hasTextLeft:e.value.hasTextLeft,$hasTextRight:e.value.hasTextRight}):(0,_.jsx)(_.Fragment,{children:(null==(t=e.value.icon)?void 0:t.url)&&(0,_.jsx)(ecv,{icon:e.value.icon,inline:!0})})})},divider:()=>(0,_.jsx)(I.Box,{marginY:3,children:(0,_.jsx)(I.Box,{paddingY:3,children:(0,_.jsx)(ecc,{})})}),iconAndText:e=>{var t;return(0,_.jsxs)(I.Flex,{align:"flex-start",paddingX:2,paddingTop:1,paddingBottom:2,marginTop:2,gap:2,children:[(0,_.jsxs)(I.Flex,{gap:2,style:{flexShrink:0},children:[(0,_.jsx)(ecd,{size:1,accent:e.value.accent,children:e.value.sanityIcon?(0,_.jsx)(R.Icon,{symbol:e.value.sanityIcon}):(0,_.jsxs)(_.Fragment,{children:[(null==(t=e.value.icon)?void 0:t.url)&&(0,_.jsx)(ecv,{icon:e.value.icon})," "]})}),(0,_.jsx)(I.Text,{size:1,weight:"semibold",accent:e.value.accent,children:i(e.value.title)})]}),(0,_.jsx)(I.Text,{size:1,muted:!0,accent:e.value.accent,children:i(e.value.text)})]})},imageBlock:e=>(0,_.jsx)(ecw,{...e})}}})({onLinkClick:o,interpolation:l}),i[2]=l,i[3]=o,i[4]=n):n=i[4];let c=n;return i[5]!==c||i[6]!==s?(r=(0,_.jsx)(I.Card,{tone:"default",children:(0,_.jsx)(ecu,{children:(0,_.jsx)(nM.PortableText,{value:s,components:c,onMissingComponent:!1})})}),i[5]=c,i[6]=s,i[7]=r):r=i[7],r}function ecj(e){if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.text()}function ecS(e){"AbortError"!==e.name&&console.error(e)}let ecE=(0,F.styled)(B.Button)(e=>{let{theme:t}=e,{space:n}=(0,ne.getTheme_v2)(t);return"\n      position: absolute;\n      top: ".concat(n[3],"px;\n      right: ").concat(n[3],"px;\n      z-index: 20;\n      background: transparent;\n      border-radius: 9999px;\n      box-shadow: none;\n      color: ").concat(z.white.hex,";\n      --card-fg-color: ").concat(z.white.hex,";\n      :hover {\n        --card-fg-color: ").concat(z.white.hex,";\n      }\n    ")}),ecT=F.styled.img(j9());function ecD(e){var t,n,r;let i,a,o,l,s,c,u,d,p=(0,j.c)(25),{data:f,onClose:h,onPrimaryClick:m,onSecondaryClick:g,interpolation:y}=e;p[0]!==f.secondaryButton||p[1]!==g?(i=(null==(t=f.secondaryButton)?void 0:t.text)?{text:f.secondaryButton.text,mode:"bleed",tone:"default",iconRight:R.LaunchIcon,...f.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:f.secondaryButton.url},onClick:g}:void 0,p[0]=f.secondaryButton,p[1]=g,p[2]=i):i=p[2];let v=null==(n=f.ctaButton)?void 0:n.text;return p[3]!==f.ctaButton.url?(a=f.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:f.ctaButton.url},p[3]=f.ctaButton.url,p[4]=a):a=p[4],p[5]!==m||p[6]!==v||p[7]!==a?(o={text:v,mode:"default",tone:"primary",...a,onClick:m},p[5]=m,p[6]=v,p[7]=a,p[8]=o):o=p[8],p[9]!==i||p[10]!==o?(l={cancelButton:i,confirmButton:o},p[9]=i,p[10]=o,p[11]=l):l=p[11],p[12]!==h?(s=(0,_.jsx)(ecE,{icon:R.CloseIcon,mode:"bleed",tone:"default",onClick:h,tabIndex:-1,tooltipProps:null}),p[12]=h,p[13]=s):s=p[13],p[14]!==f.image?(c=f.image&&(0,_.jsx)(ecT,{src:f.image.asset.url,alt:null!=(r=f.image.asset.altText)?r:""}),p[14]=f.image,p[15]=c):c=p[15],p[16]!==f.descriptionText||p[17]!==y?(u=(0,_.jsx)(I.Box,{padding:3,marginTop:2,children:(0,_.jsx)(I.Stack,{space:4,paddingBottom:2,children:(0,_.jsx)(ec_,{blocks:f.descriptionText,interpolation:y})})}),p[16]=f.descriptionText,p[17]=y,p[18]=u):u=p[18],p[19]!==h||p[20]!==l||p[21]!==s||p[22]!==c||p[23]!==u?(d=(0,_.jsxs)(B.Dialog,{id:"upsell-dialog",onClose:h,onClickOutside:h,__unstable_hideCloseButton:!0,bodyHeight:"fill",padding:!1,zOffset:800,footer:l,children:[s,c,u]}),p[19]=h,p[20]=l,p[21]=s,p[22]=c,p[23]=u,p[24]=d):d=p[24],d}let ecI="orgActiveReleaseCount";class ecA extends Error{constructor(){super("StudioReleaseLimitExceeded"),this.name="StudioReleaseLimitExceededError",this.details={type:"releaseLimitExceededError"}}}function ecO(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(36),[h,m]=(0,E.useState)(!1),{data:g}=z0(),{enabled:y}=eiN("contentReleases");f[0]===Symbol.for("react.memo_cache_sentinel")?(t={dataUri:"/journey/content-releases",feature:"content-releases"},f[0]=t):t=f[0];let{upsellData:v,telemetryLogs:b}=eco(t);e:{if(!y&&v){n="upsell";break e}if(y&&!v){n="disabled";break e}n="default"}let x=n;f[1]!==b?(r=()=>{b.dialogPrimaryClicked()},f[1]=b,f[2]=r):r=f[2];let C=r;f[3]!==b?(i=()=>{b.dialogSecondaryClicked()},f[3]=b,f[4]=i):i=f[4];let k=i;f[5]!==b?(a=()=>{m(!1),b.dialogDismissed()},f[5]=b,f[6]=a):a=f[6];let w=a,[S,T]=(0,E.useState)(null);f[7]!==b?(o=e=>{m(!0),void 0!==e&&T(e),b.dialogViewed("navbar")},f[7]=b,f[8]=o):o=f[8];let I=o,{releaseLimits$:A}=ei2(),{orgActiveReleaseCount$:O}=(()=>{let e=Fa(),{data:t}=z0(),n=eTt({apiVersion:"v2025-02-19"}),r=(null==t?void 0:t.length)||0,i=(0,E.useMemo)(()=>({activeReleasesCount:r}),[r]);return(0,E.useMemo)(()=>{let t=e.get({dependencies:[n,i],namespace:ecI})||function(e,t){let n=new ef.BehaviorSubject(null),r=new ef.BehaviorSubject(!1),i=new ef.BehaviorSubject(null);return{orgActiveReleaseCount$:n.pipe((0,Q.switchMap)(a=>null===a||!0===r.getValue()||i.getValue()!==t?(r.next(!1),eiQ(e,"orgActiveReleaseCount").pipe((0,eh.tap)(()=>i.next(t)),(0,Z.map)(e=>e.orgActiveReleaseCount),(0,J.catchError)(e=>{if(console.error("Failed to fetch org release count",e),!a)throw e;return(0,Y.of)(a)}),(0,Q.switchMap)(e=>(n.next(e),(0,es.timer)(6e4).subscribe(()=>{r.next(!0),i.next(null)}),(0,Y.of)(e))))):(0,Y.of)(a)))}}(n,i.activeReleasesCount);return e.set({namespace:ecI,value:t,dependencies:[n,i]}),t},[n,i,e])})();f[9]!==(null==g?void 0:g.length)||f[10]!==I||f[11]!==x||f[12]!==O||f[13]!==A?(l=async(e,t,n)=>{let r=void 0!==t&&t,i=e=>{if(I(e),r)throw new ecA;return!1};if("upsell"===x)return null==n||n(!1),i();let a=await (async()=>{try{return await Promise.all([(0,ek.firstValueFrom)(O),(0,ek.firstValueFrom)(A)])}catch(e){return console.error("Error fetching release limits and org count for upsell:",e),null}})();if(null===a)return null==n||n(!0),e();let[o,l]=a;if(null===l||null===o)return null==n||n(!0),e();let{orgActiveReleaseLimit:s,datasetReleaseLimit:c}=l;if(null===o)return null==n||n(!0),e();let u=(null==g?void 0:g.length)||0,d=null!==s&&o>=s;return u>=c||null!==s&&u>=s||d?(null==n||n(!1),i(o)):(null==n||n(!0),e())},f[9]=null==g?void 0:g.length,f[10]=I,f[11]=x,f[12]=O,f[13]=A,f[14]=l):l=f[14];let P=l;f[15]!==I?(s=e=>I(e),f[15]=I,f[16]=s):s=f[16];let M=s;f[17]!==P||f[18]!==x||f[19]!==M||f[20]!==b||f[21]!==h?(c={mode:x,upsellDialogOpen:h,guardWithReleaseLimitUpsell:P,onReleaseLimitReached:M,telemetryLogs:b},f[17]=P,f[18]=x,f[19]=M,f[20]=b,f[21]=h,f[22]=c):c=f[22];let F=c;f[23]!==S?(u=null===S?void 0:{releaseLimit:S},f[23]=S,f[24]=u):u=f[24];let R=u;return f[25]!==w||f[26]!==C||f[27]!==k||f[28]!==R||f[29]!==v||f[30]!==h?(d=v&&h&&(0,_.jsx)(ecD,{interpolation:R,data:v,onClose:w,onPrimaryClick:C,onSecondaryClick:k}),f[25]=w,f[26]=C,f[27]=k,f[28]=R,f[29]=v,f[30]=h,f[31]=d):d=f[31],f[32]!==F||f[33]!==e.children||f[34]!==d?(p=(0,_.jsxs)(D.ReleasesUpsellContext.Provider,{value:F,children:[e.children,d]}),f[32]=F,f[33]=e.children,f[34]=d,f[35]=p):p=f[35],p}let ecP="sanity/releases",ecM="releases",ecF="release",ecR="releases-scheduled-drafts",ecB=eie({name:ecP,studio:{components:{layout:function(e){let t,n,r=(0,j.c)(6);if(!ecN()){let t;return r[0]!==e?(t=e.renderDefault(e),r[0]=e,r[1]=t):t=r[1],t}return r[2]!==e?(t=e.renderDefault(e),r[2]=e,r[3]=t):t=r[3],r[4]!==t?(n=(0,_.jsx)(ecO,{children:(0,_.jsx)(es_,{children:t})}),r[4]=t,r[5]=n):n=r[5],n}}},tools:[{name:ecM,title:"Releases",component:function(){let e,t=(0,j.c)(3),{releaseId:n}=(0,nr.useRouter)().state;if(n){let e;return t[0]!==n?(e=(0,_.jsx)(esu,{},n),t[0]=n,t[1]=e):e=t[1],e}return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(es5,{}),t[2]=e):e=t[2],e},router:nr.route.create("/",[nr.route.create("/:releaseId")]),canHandleIntent:e=>e===ecF||e===ecR,getIntentState(e,t){if(e===ecF)return{releaseId:t.id};if(e===ecR){let e=[];return t.view&&e.push(["view",t.view]),{_searchParams:e}}return null}}],i18n:{bundles:[{locale:"en-US",namespace:erH,resources:()=>e.A(416004)}]},document:{actions:(e,t)=>(function(e,t){let n=e.filter(e=>{let{action:t}=e;return"duplicate"===t});if("scheduled-draft"===t.versionType)return[ece,ect,ecn];if("version"===t.versionType)return n.concat(es6,eci);if(t[esx]&&"draft"===t.versionType){let t=e.filter(e=>{let{action:t}=e;return"schedule"!==t}),n=t.findIndex(e=>{let{action:t}=e;return"publish"===t}),r=n+1,i=n>=0;return[...i?t.slice(0,r):[],ecr,...i?t.slice(r):t]}return e})(e,t)}});function ecN(){let e,t=(0,j.c)(2),n=FU();return t[0]!==n?(e=n.tools.some(e=>{let{name:t}=e;return t===ecM}),t[0]=n,t[1]=e):e=t[1],e}let ecL=e=>{var t;let n,r,i,a,o=(0,j.c)(30),{onCreateRelease:l}=e,{t:s}=IO(),{mode:c}=erE(),{createRelease:u}=erA(),{checkWithPermissionGuard:d}=eiz(),p=esg();o[0]!==d||o[1]!==u||o[2]!==p?(n=(0,en.from)(d(u,p(RE()))),o[0]=d,o[1]=u,o[2]=p,o[3]=n):n=o[3];let f=(0,te.useObservable)(n),h=z0().data.length,{releases:m}=FU(),g=null!=(t=null==m?void 0:m.limit)?t:1/0,y=h>=g;o[4]!==s?(r=s("release.action.create-new"),o[4]=s,o[5]=r):r=o[5],o[6]!==l||o[7]!==r?(i={icon:R.AddIcon,onClick:l,"data-testid":"create-new-release-button",text:r},o[6]=l,o[7]=r,o[8]=i):i=o[8];let v=i;if(y){let e,t,n,r;return o[9]!==s?(e=s("release.action.create-new"),o[9]=s,o[10]=e):e=o[10],o[11]!==s||o[12]!==g?(t=s("release.action.new-release.limit-reached",{count:g}),o[11]=s,o[12]=g,o[13]=t):t=o[13],o[14]!==t?(n={content:t},o[14]=t,o[15]=n):n=o[15],o[16]!==v||o[17]!==e||o[18]!==n?(r=(0,_.jsx)(B.MenuItem,{...v,text:e,tooltipProps:n,disabled:!0}),o[16]=v,o[17]=e,o[18]=n,o[19]=r):r=o[19],r}if(!f||"disabled"===c){let e,t,n,r=!0===f;return o[20]!==s?(e=s("release.action.permission.error"),o[20]=s,o[21]=e):e=o[21],o[22]!==r||o[23]!==e?(t={disabled:r,content:e},o[22]=r,o[23]=e,o[24]=t):t=o[24],o[25]!==v||o[26]!==t?(n=(0,_.jsx)(B.MenuItem,{...v,tooltipProps:t,disabled:!0}),o[25]=v,o[26]=t,o[27]=n):n=o[27],n}return o[28]!==v?(a=(0,_.jsx)(B.MenuItem,{...v}),o[28]=v,o[29]=a):a=o[29],a},ecz=(0,E.memo)(function(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(33),{release:m}=e,{t:g}=IO();h[0]!==m?(n=RS(m),h[0]=m,h[1]=n):n=h[1];let y=n;return h[2]!==m?(r=RD(m),h[2]=m,h[3]=r):r=h[3],h[4]!==r?(i=(0,_.jsx)(erX,{padding:2,tone:r}),h[4]=r,h[5]=i):i=h[5],h[6]!==m.metadata.title||h[7]!==g?(a=(null==(t=m.metadata)?void 0:t.title)||g("release.placeholder-untitled-release"),h[6]=m.metadata.title,h[7]=g,h[8]=a):a=h[8],h[9]!==a?(o=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:a}),h[9]=a,h[10]=o):o=h[10],h[11]!==m.metadata.releaseType||h[12]!==g?(l="asap"===m.metadata.releaseType&&(0,_.jsx)(_.Fragment,{children:g("release.type.asap")}),h[11]=m.metadata.releaseType,h[12]=g,h[13]=l):l=h[13],h[14]!==m||h[15]!==g?(s="scheduled"===m.metadata.releaseType&&(m.metadata.intendedPublishAt?(0,_.jsx)(_.Fragment,{children:Rw(m)}):(0,_.jsx)(_.Fragment,{children:g("release.chip.tooltip.unknown-date")})),h[14]=m,h[15]=g,h[16]=s):s=h[16],h[17]!==m.metadata.releaseType||h[18]!==g?(c="undecided"===m.metadata.releaseType&&(0,_.jsx)(_.Fragment,{children:g("release.type.undecided")}),h[17]=m.metadata.releaseType,h[18]=g,h[19]=c):c=h[19],h[20]!==l||h[21]!==s||h[22]!==c?(u=(0,_.jsxs)(I.Text,{muted:!0,size:1,children:[l,s,c]}),h[20]=l,h[21]=s,h[22]=c,h[23]=u):u=h[23],h[24]!==o||h[25]!==u?(d=(0,_.jsxs)(I.Stack,{flex:1,space:2,children:[o,u]}),h[24]=o,h[25]=u,h[26]=d):d=h[26],h[27]!==y?(p=y&&(0,_.jsx)(R.LockIcon,{}),h[27]=y,h[28]=p):p=h[28],h[29]!==p||h[30]!==i||h[31]!==d?(f=(0,_.jsxs)(I.Flex,{gap:3,justify:"center",align:"center",children:[i,d,p]}),h[29]=p,h[30]=i,h[31]=d,h[32]=f):f=h[32],f}),ecV=(0,F.styled)(I.Stack)(Se()),ecU=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(48),{releases:v,fromRelease:b,onCreateRelease:x,onCreateVersion:C,disabled:k,hasCreatePermission:w}=e,{t:S}=IO();if(y[0]!==k||y[1]!==b||y[2]!==w||y[3]!==C||y[4]!==v||y[5]!==S){let e,f;r=v.filter(ecH),n=gr,l=R.CopyIcon,y[18]===Symbol.for("react.memo_cache_sentinel")?(s={placement:"right-start"},y[18]=s):s=y[18],y[19]!==S?(c=S("release.action.copy-to"),y[19]=S,y[20]=c):c=y[20],u=k;let h=!0===w;y[21]!==S?(e=S("release.action.permission.error"),y[21]=S,y[22]=e):e=y[22],y[23]!==e||y[24]!==h?(d={disabled:h,content:e},y[23]=e,y[24]=h,y[25]=d):d=y[25],p="copy-version-to-release-button-group",t=ecV,i=b,a=1,y[26]!==C?(f=e=>(0,_.jsx)(B.MenuItem,{as:"a",onClick:()=>C(e._id),renderMenuItem:()=>(0,_.jsx)(ecz,{release:e})},e._id),y[26]=C,y[27]=f):f=y[27],o=r.map(f),y[0]=k,y[1]=b,y[2]=w,y[3]=C,y[4]=v,y[5]=S,y[6]=t,y[7]=n,y[8]=r,y[9]=i,y[10]=a,y[11]=o,y[12]=l,y[13]=s,y[14]=c,y[15]=u,y[16]=d,y[17]=p}else t=y[6],n=y[7],r=y[8],i=y[9],a=y[10],o=y[11],l=y[12],s=y[13],c=y[14],u=y[15],d=y[16],p=y[17];return y[28]!==t||y[29]!==i||y[30]!==a||y[31]!==o?(f=(0,_.jsx)(t,{space:a,children:o},i),y[28]=t,y[29]=i,y[30]=a,y[31]=o,y[32]=f):f=y[32],y[33]!==r.length?(h=r.length>1&&(0,_.jsx)(I.MenuDivider,{}),y[33]=r.length,y[34]=h):h=y[34],y[35]!==x?(m=(0,_.jsx)(ecL,{onCreateRelease:x}),y[35]=x,y[36]=m):m=y[36],y[37]!==n||y[38]!==h||y[39]!==m||y[40]!==l||y[41]!==s||y[42]!==c||y[43]!==u||y[44]!==d||y[45]!==p||y[46]!==f?(g=(0,_.jsxs)(n,{icon:l,popover:s,text:c,disabled:u,tooltipProps:d,"data-testid":p,children:[f,h,m]}),y[37]=n,y[38]=h,y[39]=m,y[40]=l,y[41]=s,y[42]=c,y[43]=u,y[44]=d,y[45]=p,y[46]=f,y[47]=g):g=y[47],g});function ecH(e){return!RS(e)}let ecq=(0,E.memo)(function(e){let t,n,r,i,a,o=(0,j.c)(26),{releases:l,releasesLoading:s,fromRelease:c,isVersion:u,onDiscard:d,onCreateRelease:p,onCreateVersion:f,disabled:h,locked:m,isGoingToUnpublish:g,hasCreatePermission:y,hasDiscardPermission:v,isPublished:b}=e,{t:x}=IO(),C=h||!y||void 0!==g&&g;return o[0]!==h||o[1]!==c||o[2]!==u||o[3]!==x?(t=u&&(0,_.jsx)(nr.IntentLink,{intent:"release",params:{id:c},rel:"noopener noreferrer",style:{textDecoration:"none"},disabled:h,children:(0,_.jsx)(B.MenuItem,{icon:R.CalendarIcon,text:x("release.action.view-release")})}),o[0]=h,o[1]=c,o[2]=u,o[3]=x,o[4]=t):t=o[4],o[5]!==s?(n=s&&(0,_.jsx)(I.Spinner,{}),o[5]=s,o[6]=n):n=o[6],o[7]!==c||o[8]!==y||o[9]!==C||o[10]!==p||o[11]!==f||o[12]!==l?(r=(0,_.jsx)(ecU,{releases:l,fromRelease:c,onCreateRelease:p,onCreateVersion:f,disabled:C,hasCreatePermission:y}),o[7]=c,o[8]=y,o[9]=C,o[10]=p,o[11]=f,o[12]=l,o[13]=r):r=o[13],o[14]!==h||o[15]!==v||o[16]!==b||o[17]!==m||o[18]!==d||o[19]!==x?(i=!b&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.MenuDivider,{}),(0,_.jsx)(B.MenuItem,{icon:R.TrashIcon,onClick:d,text:x("release.action.discard-version"),tone:"critical",disabled:h||m||!v,tooltipProps:{disabled:!0===v,content:x("release.action.permission.error")}})]}),o[14]=h,o[15]=v,o[16]=b,o[17]=m,o[18]=d,o[19]=x,o[20]=i):i=o[20],o[21]!==t||o[22]!==n||o[23]!==r||o[24]!==i?(a=(0,_.jsxs)(I.Menu,{children:[t,n,r,i]}),o[21]=t,o[22]=n,o[23]=r,o[24]=i,o[25]=a):a=o[25],a}),ecW=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(28),{releases:d,fromRelease:p,onCreateRelease:f,onCreateVersion:h,disabled:m,type:g,isGoingToUnpublish:y,release:v,onChangeSchedule:b,hasCreatePermission:x}=e,C=m||!x||void 0!==y&&y;u[0]!==m||u[1]!==b||u[2]!==v||u[3]!==g?(t={release:v,documentType:g,disabled:m,onEditSchedule:b},u[0]=m,u[1]=b,u[2]=v,u[3]=g,u[4]=t):t=u[4];let{actions:k,dialogs:w}=erz(t);return u[5]!==k.publishNow?(n=(0,_.jsx)(B.MenuItem,{...k.publishNow}),u[5]=k.publishNow,u[6]=n):n=u[6],u[7]!==k.editSchedule?(r=(0,_.jsx)(B.MenuItem,{...k.editSchedule}),u[7]=k.editSchedule,u[8]=r):r=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.MenuDivider,{}),u[9]=i):i=u[9],u[10]!==p||u[11]!==x||u[12]!==C||u[13]!==f||u[14]!==h||u[15]!==d?(a=(0,_.jsx)(ecU,{releases:d,fromRelease:p,onCreateRelease:f,onCreateVersion:h,disabled:C,hasCreatePermission:x}),u[10]=p,u[11]=x,u[12]=C,u[13]=f,u[14]=h,u[15]=d,u[16]=a):a=u[16],u[17]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsx)(I.MenuDivider,{}),u[17]=o):o=u[17],u[18]!==k.deleteSchedule?(l=(0,_.jsx)(B.MenuItem,{...k.deleteSchedule}),u[18]=k.deleteSchedule,u[19]=l):l=u[19],u[20]!==n||u[21]!==r||u[22]!==a||u[23]!==l?(s=(0,_.jsxs)(I.Menu,{children:[n,r,i,a,o,l]}),u[20]=n,u[21]=r,u[22]=a,u[23]=l,u[24]=s):s=u[24],u[25]!==w||u[26]!==s?(c=(0,_.jsxs)(_.Fragment,{children:[s,w]}),u[25]=w,u[26]=s,u[27]=c):c=u[27],c}),ecY=(0,E.memo)(function(e){let t,n,r,i,a,o,l=(0,j.c)(39),{documentId:s,releases:c,releasesLoading:u,fromRelease:d,isVersion:p,onDiscard:f,onCreateRelease:h,onCreateVersion:m,disabled:g,locked:y,type:v,isGoingToUnpublish:b,release:x,onChangeSchedule:C}=e,k=void 0!==b&&b;l[0]!==s||l[1]!==p?(t=(0,th.isPublishedId)(s)&&!p,l[0]=s,l[1]=p,l[2]=t):t=l[2];let w=t,{checkWithPermissionGuard:S}=eiz(),{createRelease:T}=erA(),[D,I]=(0,E.useState)(null);l[3]!==s?(n=(0,th.getPublishedId)(s),l[3]=s,l[4]=n):n=l[4];let A=p?d:void 0,O="draft"===d?"discardDraft":"discardVersion";l[5]!==n||l[6]!==A||l[7]!==O||l[8]!==v?(r={id:n,type:v,version:A,permission:O},l[5]=n,l[6]=A,l[7]=O,l[8]=v,l[9]=r):r=l[9];let[P,M]=Mp(r),F=!M&&(null==P?void 0:P.granted),R=(0,E.useRef)(!1);if(l[10]!==S||l[11]!==T?(i=()=>(R.current=!0,S(T,RE()).then(e=>{R.current&&I(e)}),()=>{R.current=!1}),a=[S,T],l[10]=S,l[11]=T,l[12]=i,l[13]=a):(i=l[12],a=l[13]),(0,E.useEffect)(i,a),x&&Ip(x)&&p&&x){let e;return l[14]!==g||l[15]!==d||l[16]!==D||l[17]!==k||l[18]!==C||l[19]!==h||l[20]!==m||l[21]!==x||l[22]!==c||l[23]!==v?(e=(0,_.jsx)(ecW,{releases:c,fromRelease:d,onCreateRelease:h,onCreateVersion:m,disabled:g,type:v,isGoingToUnpublish:k,release:x,onChangeSchedule:C,hasCreatePermission:D}),l[14]=g,l[15]=d,l[16]=D,l[17]=k,l[18]=C,l[19]=h,l[20]=m,l[21]=x,l[22]=c,l[23]=v,l[24]=e):e=l[24],e}let B=F||!1;return l[25]!==g||l[26]!==d||l[27]!==D||l[28]!==k||l[29]!==w||l[30]!==p||l[31]!==y||l[32]!==h||l[33]!==m||l[34]!==f||l[35]!==c||l[36]!==u||l[37]!==B?(o=(0,_.jsx)(ecq,{releases:c,releasesLoading:u,fromRelease:d,isVersion:p,onDiscard:f,onCreateRelease:h,onCreateVersion:m,disabled:g,locked:y,isGoingToUnpublish:k,hasCreatePermission:D,hasDiscardPermission:B,isPublished:w}),l[25]=g,l[26]=d,l[27]=D,l[28]=k,l[29]=w,l[30]=p,l[31]=y,l[32]=h,l[33]=m,l[34]=f,l[35]=c,l[36]=u,l[37]=B,l[38]=o):o=l[38],o});function ecK(e){let{onClose:t,documentId:n,documentType:r,tone:i,title:a,onCreateVersion:o}=e,{t:l}=IO();IO(erH);let s=(0,A.useToast)(),c=esg(),{releasePromise:u}=esy(),d=el3().get(r),[p]=(0,E.useState)(RC),[f,h]=(0,E.useState)(()=>({_id:p,metadata:{title:"",description:"",releaseType:Ry}})),[m,g]=(0,E.useState)(!1),[,y]=(0,E.useState)(0),v=(0,tp.useTelemetry)(),{createRelease:b}=erA(),{clearReleaseDataFromStorage:x}=erY(),C=a||l("release.placeholder-untitled-release"),k=eiH(f),w=esv(f),j=(0,E.useCallback)(e=>{h(e)},[]),S=(0,E.useCallback)(async()=>{o(p)},[o,p]),T=(0,E.useCallback)(async()=>{if(eiH(f))return void y(e=>e+1);if(g(!0),!await u)return void g(!1);try{let e=c(f);await b(e),await S(),v.log(I7,{origin:"document-panel"})}catch(e){erI(e)?t():(console.error(e),s.push({closable:!0,status:"error",title:l("release.toast.create-release-error.title"),description:e.message}))}finally{g(!1),x()}},[f,u,c,b,S,v,t,s,l,x]),D=(0,E.useCallback)(()=>{x(),t()},[x,t]);return(0,_.jsxs)(B.Dialog,{id:"create-release-dialog",header:l("release.dialog.copy-to-release.title"),onClickOutside:t,onClose:D,padding:!1,width:1,children:[(0,_.jsx)(I.Box,{paddingX:2,marginBottom:2,style:{borderBottom:"1px solid var(--card-border-color)"},children:(0,_.jsxs)(I.Flex,{align:"center",padding:4,paddingTop:1,justify:"space-between",children:[d?(0,_.jsx)(enW,{value:{_id:n},schemaType:d}):(0,_.jsx)(DU,{}),(0,_.jsxs)(I.Flex,{align:"center",gap:2,padding:1,paddingRight:2,style:{borderRadius:999,border:"1px solid var(--card-border-color)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[(0,_.jsx)(erX,{padding:1,tone:i}),(0,_.jsx)(I.Text,{size:1,title:C,children:C})]})]})}),(0,_.jsxs)(I.Box,{paddingX:5,paddingY:3,children:[k&&(0,_.jsx)(I.Card,{padding:3,marginBottom:3,radius:2,shadow:1,tone:"critical",children:(0,_.jsx)(I.Text,{size:1,children:l("release.schedule-dialog.publish-date-in-past-warning")})}),(0,_.jsx)(er7,{onChange:j,value:f}),(0,_.jsxs)(I.Flex,{width:"full",gap:3,justify:"flex-end",paddingTop:3,align:"center",children:[(0,_.jsx)(B.Button,{disabled:m,text:l("common.dialog.cancel-button.text"),"data-testid":"cancel-button",onClick:t,mode:"bleed"}),(0,_.jsx)(B.Button,{disabled:m||k||w,type:"submit",onClick:T,text:l("release.action.add-to-new-release"),loading:m,tone:"primary","data-testid":"confirm-button"})]})]})]})}let ecG=F.styled.span(St()),ec$=(0,F.styled)(I.Button)(Sn()),ecZ=(0,E.memo)(function(e){let{disabled:t,selected:n,tooltipContent:r,onClick:i,text:a,tone:o,locked:l=!1,contextValues:{documentId:s,releases:c,releasesLoading:u,documentType:d,menuReleaseId:p,fromRelease:f,isVersion:h,disabled:m=!1,isGoingToUnpublish:g=!1,release:y}}=e,v=ecN(),b=((e,t)=>{let n,r,i,a=(0,j.c)(13);e:{let r;if("published"===t){let t;a[0]!==e?(t=(0,th.getPublishedId)(e),a[0]=e,a[1]=t):t=a[1],n=t;break e}if("draft"===t){let t;a[2]!==e?(t=(0,th.getDraftId)(e),a[2]=e,a[3]=t):t=a[3],n=t;break e}a[4]!==e||a[5]!==t?(r=(0,th.getVersionId)(e,t),a[4]=e,a[5]=t,a[6]=r):r=a[6],n=r}let o=n,l=er6();a[7]!==l||a[8]!==e?(r=l.getCompanionDocs(e),a[7]=l,a[8]=e,a[9]=r):r=a[9];let s=(0,te.useObservable)(r);return a[10]!==(null==s?void 0:s.data)||a[11]!==o?(i=null==s?void 0:s.data.some(e=>(null==e?void 0:e.studioDocumentId)===o),a[10]=null==s?void 0:s.data,a[11]=o,a[12]=i):i=a[12],i})(s,f),[x,C]=(0,E.useState)(void 0),k=(0,E.useRef)(null),[w,S]=(0,E.useState)(!1),[T,D]=(0,E.useState)(!1),[O,P]=(0,E.useState)(!1),[M,F]=(0,E.useState)(!1),N=(0,E.useRef)(null);(0,E.useEffect)(()=>{var e;n&&(null==(e=N.current)||e.scrollIntoView({inline:"center"}))},[n]);let L=h?(0,th.getVersionId)(s,f):s,{createVersion:z}=erU(),V=(0,A.useToast)(),{t:U}=IO(),H=(null==y?void 0:y.metadata.title)||U("release.placeholder-untitled-release"),q=erO(),W=(0,E.useCallback)(()=>C(void 0),[]),Y=(0,E.useCallback)(e=>{e.preventDefault(),C({x:e.clientX,y:e.clientY})},[]);(0,I.useClickOutsideEvent)(()=>{(null==x?void 0:x.x)&&(null==x?void 0:x.y)&&W()},()=>[k.current]),(0,I.useGlobalKeyDown)((0,E.useCallback)(e=>{"Escape"===e.key&&W()},[W]));let K=(0,E.useCallback)(()=>{S(!0)},[S]),G=(0,E.useCallback)(()=>D(!0),[]),$=(0,E.useCallback)(()=>{P(!0)},[]),Z=(0,E.useCallback)(async e=>{if(y){F(!0);try{await q.rescheduleScheduledDraft(y._id,e),P(!1)}catch(e){console.error("Failed to reschedule draft:",e),V.push({closable:!0,status:"error",description:(0,_.jsx)(IZ,{t:U,i18nKey:"release.toast.reschedule-scheduled-draft.error",values:{title:H,error:Ir(e)}})})}finally{F(!1)}}},[y,q,V,U,H]),X=(0,E.useCallback)(async e=>{try{await z(FF(e),L)}catch(e){V.push({closable:!0,status:"error",title:U("release.action.create-version.failure"),description:e.message})}W()},[W,z,L,U,V]),J=(0,E.useMemo)(()=>x?{getBoundingClientRect:()=>({x:x.x,y:x.y,left:x.x,top:x.y,right:x.x,bottom:x.y,width:0,height:0})}:null,[x]),Q=t||!v?void 0:Y,ee=O&&y&&Ip(y);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.Tooltip,{content:r,fallbackPlacements:[],portal:!0,placement:"bottom",children:(0,_.jsx)(ecG,{children:(0,_.jsx)(ec$,{"data-testid":"document-header-".concat(a.replaceAll(" ","-"),"-chip"),ref:N,disabled:t,mode:t?"ghost":"bleed",onClick:i,selected:n,tone:o,onContextMenu:Q,paddingY:2,paddingLeft:2,paddingRight:3,space:2,radius:"full",icon:(0,_.jsx)(erZ,{tone:o}),iconRight:b?(0,_.jsx)(R.ComposeSparklesIcon,{}):l&&(0,_.jsx)(R.LockIcon,{}),text:a})})}),(0,_.jsx)(B.Popover,{content:(0,_.jsx)(ecY,{documentId:s,releases:c,releasesLoading:u,fromRelease:f,isVersion:h,onDiscard:K,onCreateRelease:G,disabled:m,onCreateVersion:X,locked:l,type:d,isGoingToUnpublish:g,release:y,onChangeSchedule:$}),fallbackPlacements:[],open:!!J,portal:!0,placement:"bottom-start",ref:k,referenceElement:J,zOffset:10}),w&&(0,_.jsx)(erq,{onClose:()=>S(!1),documentId:h?(0,th.getVersionId)(s,FF(p)):s,fromPerspective:a,documentType:d}),T&&(0,_.jsx)(ecK,{onClose:()=>D(!1),onCreateVersion:X,documentId:h?(0,th.getVersionId)(s,FF(p)):s,documentType:d,tone:o,title:a}),ee&&(0,_.jsx)(erL,{onClose:()=>!M&&P(!1),onSchedule:Z,variant:"edit-schedule",loading:M,initialDate:y.publishAt||y.metadata.intendedPublishAt})]})}),ecX={portal:!0},ecJ=F.styled.div(e=>{let{space:t}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Sr(),0-t[1])});function ecQ(e){let{presence:t}=e,{t:n}=IO(erH),{data:r}=z0(),i=(0,E.useMemo)(()=>Array.from(new Set(t.map(e=>e.user.id))).map(e=>t.find(t=>t.user.id===e)).filter(D2),[t]),a=(0,E.useMemo)(()=>{if(1===i.length){var e,t;let a=i[0],o=null==a?void 0:a.documentId,l=null==(t=o?r.find(e=>FF(e._id)===(0,th.getVersionFromId)(o)):void 0)||null==(e=t.metadata)?void 0:e.title;return n("presence.tooltip.one",{displayName:a.user.displayName,releaseTitle:l||n("release-placeholder.title")})}if(i.length>1)return n("presence.tooltip.other",{count:i.length})},[r,n,i]);return(0,_.jsx)(B.Tooltip,{content:a,...ecX,children:(0,_.jsx)(ecJ,{children:(0,_.jsx)(I.AvatarStack,{maxLength:2,"aria-label":a,size:0,children:i.map(e=>(0,_.jsx)(Ri,{size:0,user:e.user},e.user.id))})})})}let ec1=[0,0,1,0];function ec2(e){return e.stopPropagation()}function ec0(e){return e.stopPropagation()}function ec5(e){let t,n,r,i=(0,j.c)(21),{children:a,header:o,onClose:l,type:s,width:c}=e,[u,d]=(0,E.useState)(null),p=(0,E.useRef)(null);i[0]!==a?(t=(0,_.jsx)(W0,{margins:ec1,children:(0,_.jsx)(I.Box,{ref:p,children:a})}),i[0]=a,i[1]=t):t=i[1];let f=t;if("dialog"===s){let t,n,r=e.id||"";return i[2]!==f||i[3]!==o||i[4]!==l||i[5]!==e.autofocus||i[6]!==r||i[7]!==c?(t=(0,_.jsx)(B.Dialog,{__unstable_autoFocus:e.autofocus,contentRef:d,"data-testid":"edit-portal-dialog",header:o,id:r,onClickOutside:l,onClose:l,onDragEnter:ec2,onDrop:ec0,width:c,children:f}),i[2]=f,i[3]=o,i[4]=l,i[5]=e.autofocus,i[6]=r,i[7]=c,i[8]=t):t=i[8],i[9]!==u||i[10]!==t?(n=(0,_.jsx)(W5,{scrollElement:u,containerElement:p,children:t}),i[9]=u,i[10]=t,i[11]=n):n=i[11],n}return i[12]!==f||i[13]!==u?(n=(0,_.jsx)(W5,{scrollElement:u,containerElement:p,children:f}),i[12]=f,i[13]=u,i[14]=n):n=i[14],i[15]!==o||i[16]!==l||i[17]!==e.legacy_referenceElement||i[18]!==n||i[19]!==c?(r=(0,_.jsx)(eTD,{header:o,onClose:l,referenceElement:e.legacy_referenceElement,width:c,containerRef:d,children:n}),i[15]=o,i[16]=l,i[17]=e.legacy_referenceElement,i[18]=n,i[19]=c,i[20]=r):r=i[20],r}function ec7(e,t){let{currentUser:n,document:r,parent:i,value:a}=t;return"boolean"==typeof e||void 0===e?!!e:!0===e({document:r,parent:i,value:a,currentUser:n})}function ec3(e,t,n){var r;if(0===t.length)return{...e,value:n};let[i,...a]=t,o=(0,W.isKeySegment)(i)?i._key:String(i),l=null!=(r=null==e?void 0:e.children)?r:{};return{value:null==e?void 0:e.value,children:{...l,[o]:ec3(l[o]||{},a,n)}}}function ec8(e){let{property:t}=e,n={value:!0},r=null;return function(e){var i;let{currentUser:a,documentValue:o,schemaType:l,...s}=e,c=JSON.stringify({currentUser:et1(a),schemaType:et1(l),document:et1(o)});if(t in s&&!0===s[t])return n;if((null==r?void 0:r.serializedHash)===c)return r.result;let u=Lb(null!=(i=null==r?void 0:r.result)?i:null,function e(t){let{value:n,parent:r,document:i,currentUser:a,schemaType:o,level:l,property:s}=t,c={value:n,parent:r,document:i,currentUser:a},u=ec7(o[s],c);if(u||20===l)return{value:u};let d={};if("object"===o.jsonType){var p;for(let t of o.fieldsets?o.fieldsets:o.fields.map(e=>({single:!0,field:e}))){if(t.single){let r=e({currentUser:a,document:i,parent:n,value:null==n?void 0:n[t.field.name],schemaType:t.field.type,level:l+1,property:s});if(!r)continue;d[t.field.name]=r;continue}let r=ec7(t.hidden,c);for(let o of(r&&(d["fieldset:".concat(t.name)]={value:r}),t.fields)){let t=e({currentUser:a,document:i,parent:n,value:null==n?void 0:n[o.name],schemaType:o.type,level:l+1,property:s});t&&(d[o.name]=t)}}for(let e of null!=(p=o.groups)?p:Ie)if(s in e){let t=ec7(e[s],c);if(!t)continue;d["group:".concat(e.name)]={value:t}}}if("array"===o.jsonType&&Array.isArray(n)&&n.every(W.isKeyedObject))for(let t of n){let r=YF(o,t);if(!r)continue;let c=e({currentUser:a,document:i,level:l+1,value:t,parent:n,schemaType:r,property:s});c&&(d[t._key]=c)}if(Object.keys(d).length)return{children:d}}({currentUser:a,document:o,level:0,parent:null,schemaType:l,value:o,property:t}));return r={result:u,serializedHash:c},u}}function ec4(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function ec6(e,t){return 0===t.length?[]:(0,W.isObjectSchemaType)(e.schemaType)&&ec4(e)?function e(t,n){var r,i;if(0===n.length)return[];let[a,...o]=n,l=t._allMembers.find(e=>"fieldSet"===e.kind&&e.fieldSet.members.some(e=>"field"===e.kind&&e.name===a)),s=(l?l.fieldSet.members:t._allMembers).find(e=>null!==e&&"field"===e.kind&&e.name===a),c=t.schemaType.fields.find(e=>e.name===a),u=null==(r=t.groups.find(e=>e.selected))?void 0:r.name,d=c&&(0,ge.default)(c.group)||[],p=u&&(u===etK.name||d.includes(u)),f=[];if(!p){let e=(null==(i=t.groups.find(e=>d.includes(e.name)))?void 0:i.name)||etK.name;f.push({type:"setSelectedGroup",path:t.path,groupName:e})}return l&&f.push({type:"expandFieldSet",path:l.fieldSet.path}),s&&ec4(s.field)&&(LP(s)?f.push(...ec9(s.field,o)):LO(s)&&f.push(...e(s.field,o))),f}(e,t):(0,W.isArrayOfObjectsSchemaType)(e.schemaType)?ec9(e,t):[]}function ec9(e,t){if(0===t.length)return[];let[n,...r]=t;if(!(0,W.isKeySegment)(n))throw Error("Expected path segment to be an object with a _key property");let i=e.members.find(e=>e.key===n._key);return i?ec6(i.item,r):[]}let eue=e=>{let t=er6(),n=(0,th.getPublishedId)(e),r=(0,E.useMemo)(()=>t.getCompanionDocs(n),[n,t]),i=(0,te.useObservable)(r),a=(0,E.useMemo)(()=>null==i?void 0:i.data.find(t=>(null==t?void 0:t.studioDocumentId)===e),[i,e]);return{isLinked:!!a,companionDoc:a,loading:null==i?void 0:i.loading}};function eut(e){return null==e?void 0:e._create}function eun(e){return(null==e?void 0:e.ejected)===!1}let eur="connecting";function eui(e){return e?(0,Y.of)("connected"):(0,es.timer)(200).pipe((0,e3.mapTo)("reconnecting"))}function eua(e){return"reconnect"!==e}function euo(e){return e.type}function eul(){let e=(0,E.useContext)(D.ActiveWorkspaceMatcherContext);if(!e)throw Error("Could not find `ActiveWorkspaceMatcher` context");return e}function eus(e){let{documentId:t,documentType:n,resourceType:r,resourceId:i,schemaName:a}=e,{node:o}=Fg();if("studio"!==r&&!i)throw Error("resourceId is required for media-library and canvas resources");return{recordEvent:(0,E.useCallback)(e=>{try{var l;null==o||null==(l=o.post)||l.call(o,"dashboard/v1/events/history",{eventType:e,document:{id:t,type:n,resource:{id:i,type:r,schemaName:a}}})}catch(e){throw console.error("Failed to record history event:",e),e}},[t,n,i,r,a,o])}}function euc(e){let{operationName:t,comlinkEventType:n,hasComlink:r,recordEvent:i,preRecordEvent:a=e=>e()}=e;return function(e){return r?{...e,[t]:{...e[t],execute:function(){for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];a(()=>i(n)),e[t].execute(...o)}}}:e}}function euu(e,t,n){let r,i,a=(0,j.c)(9),o=Fd();a[0]!==t||a[1]!==o.pair||a[2]!==e||a[3]!==n?(r=o.pair.editOperations(e,t,n),a[0]=t,a[1]=o.pair,a[2]=e,a[3]=n,a[4]=r):r=a[4];let l=(0,te.useObservable)(r);return a[5]!==l||a[6]!==t||a[7]!==e?(i={api:l,docTypeName:t,publishedDocId:e},a[5]=l,a[6]=t,a[7]=e,a[8]=i):i=a[8],function(e){let{api:t,publishedDocId:n,docTypeName:r,version:i}=e,{activeWorkspace:a}=eul(),{recordEvent:o}=eus({resourceType:"studio",documentId:i?(0,th.getVersionId)(n,i):n,documentType:r,resourceId:[a.projectId,a.dataset].join("."),schemaName:a.name}),l=Fm(),s=(0,te.useObservable)(l.capabilities),[c,u]=(0,E.useState)(!1),d=(0,E.useCallback)(e=>{c||(e(),u(!0))},[c]),p=(0,E.useMemo)(()=>({hasComlink:null==s?void 0:s.comlink,recordEvent:o}),[null==s?void 0:s.comlink,o]),f=(0,E.useMemo)(()=>euc({...p,operationName:"delete",comlinkEventType:"deleted"}),[p]);return f((0,E.useMemo)(()=>euc({...p,operationName:"del",comlinkEventType:"deleted"}),[p])((0,E.useMemo)(()=>euc({...p,operationName:"patch",comlinkEventType:"edited",preRecordEvent:d}),[p,d])(t)))}(i)}function eud(e,t,n,r){let i,a=(0,j.c)(10);if("published"===r||"draft"===r)throw Error("Version cannot be published or draft");let o=Fd();e:{let l;if("low"===(void 0===n?"default":n)){let n;if(a[0]!==t||a[1]!==o.pair||a[2]!==e||a[3]!==r){let i=o.pair.editState(e,t,r).pipe((0,eg.share)());n=(0,ei.merge)(i.pipe((0,ee.take)(1)),i.pipe((0,eN.skip)(1),(0,ez.debounce)(eup))),a[0]=t,a[1]=o.pair,a[2]=e,a[3]=r,a[4]=n}else n=a[4];i=n;break e}a[5]!==t||a[6]!==o.pair||a[7]!==e||a[8]!==r?(l=o.pair.editState(e,t,r),a[5]=t,a[6]=o.pair,a[7]=e,a[8]=r,a[9]=l):l=a[9],i=l}return(0,te.useObservable)(i)}function eup(){return(0,es.timer)(1e3)}let euf={validation:[],isValidating:!1};function euh(e,t,n){let r,i=(0,j.c)(5),a=Fd();return i[0]!==t||i[1]!==a.pair||i[2]!==e||i[3]!==n?(r=a.pair.validation(e,t,n),i[0]=t,i[1]=a.pair,i[2]=e,i[3]=n,i[4]=r):r=i[4],(0,te.useObservable)(r,euf)}function eum(e,t){return e?"published"===e?"published":t.find(t=>FF(t._id)===e)||"drafts":"drafts"}function eug(e){var t;let{documentType:n,getFormDocumentValue:r,documentId:i,initialValue:a,changesOpen:o=!1,comparisonValue:l,releaseId:s,initialFocusPath:c,selectedPerspectiveName:u,readOnly:d,onFocusPath:p}=e,f=el3(),h=Fp(),{data:m}=z0(),{data:g}=erv({documentId:i}),y=f.get(n);if(!y)throw Error("Schema type for '".concat(n,"' not found"));let v=!!y.liveEdit,b=(0,th.getPublishedId)(i),x=(0,tp.useTelemetry)(),{validation:C}=euh(i,n,s),k=IE(C),{sortedDocumentList:w}=(e=>{let t,n,r,i=(0,j.c)(9),{documentId:a}=e,{data:o}=z0();i[0]!==a?(t={documentId:a},i[0]=a,i[1]=t):t=i[1];let{data:l}=erv(t);if(i[2]!==l||i[3]!==o){let e;i[5]!==l?(e=e=>{let{_id:t}=e;return l.some(e=>(0,th.getVersionFromId)(e)===FF(t))},i[5]=l,i[6]=e):e=i[6],n=o.filter(e).sort(erx),i[2]=l,i[3]=o,i[4]=n}else n=i[4];let s=n;return i[7]!==s?(r={sortedDocumentList:s},i[7]=s,i[8]=r):r=i[8],r})({documentId:i}),_=erC({documentId:i}),D=w.length>0?g.find(e=>(0,th.getVersionFromId)(e)===FF(w[0]._id)):void 0,I=eud(i,n,"default",(0,E.useMemo)(()=>g.some(e=>(0,th.getVersionFromId)(e)===s)||s&&(!g||!_)?s:(0,th.getVersionFromId)(null!=D?D:""),[g,_,s,D])),A=function(e,t,n){let r,i=(0,j.c)(5),a=Fd();return i[0]!==t||i[1]!==a.pair||i[2]!==e||i[3]!==n?(r=a.pair.documentEvents(e,t,n).pipe((0,Z.map)(euo),(0,Z.map)(eua),(0,Q.switchMap)(eui),(0,eI.startWith)(eur),(0,ed.distinctUntilChanged)()),i[0]=t,i[1]=a.pair,i[2]=e,i[3]=n,i[4]=r):r=i[4],(0,te.useObservable)(r,eur)}(i,n,s);eTc("reconnecting"===A);let[O,P]=(0,E.useState)(c||Ie),F=(0,E.useMemo)(()=>"function"==typeof l?l(I):l,[l,I]),R=(0,E.useMemo)(()=>{let e=(null==a?void 0:a.value)||{_id:i,_type:n};return s?I.version&&q6(I.version)?I.published||e:I.version||I.draft||I.published||e:u&&R_(u)?I.published||(v?e:{_id:i,_type:n}):!u&&_?I.version||I.draft||I.published||e:(null==I?void 0:I.draft)||(null==I?void 0:I.published)||e},[i,n,I.draft,I.published,I.version,a,v,s,u,_]),[B,N]=(0,E.useState)([]);(0,E.useEffect)(()=>{let e=h.documentPresence(R._id,{excludeVersions:!0}).subscribe(e=>{N(e)});return()=>{e.unsubscribe()}},[h,R._id]);let[L,z]=(0,E.useState)(Ie),[V,U]=(0,E.useState)(),[H,q]=(0,E.useState)(),[Y,K]=(0,E.useState)(),G=(0,E.useCallback)((e,t)=>{q(n=>ec3(n,e,t))},[]),$=(0,E.useCallback)((e,t)=>{K(n=>ec3(n,e,t))},[]),X=(0,E.useCallback)((e,t)=>U(n=>ec3(n,e,t)),[]),J=R._createdAt?"update":"create",ee=(0,E.useMemo)(()=>{var e;return s?(0,th.getVersionId)(b,s):v?(null==I||null==(e=I.draft)?void 0:e._id)||b:(0,th.getDraftId)(i)},[i,null==I||null==(t=I.draft)?void 0:t._id,v,b,s]),[et,en]=function(e){let t,n,r=(0,j.c)(5),{document:i,permission:a,grantsStore:o}=e,l=Fs(),s=o||l,[c,u]=(0,E.useReducer)(Mm,Mh),d=(0,E.useRef)(null);return r[0]!==i||r[1]!==s||r[2]!==a?(t=()=>(u({type:"loading"}),d.current&&d.current.unsubscribe(),d.current=Mf({grantsStore:s,document:i,permission:a}).pipe((0,ed.distinctUntilChanged)(Mg)).subscribe({next:e=>u({type:"value",value:e}),error:e=>u({type:"error",error:e})}),()=>{d.current&&(d.current.unsubscribe(),d.current=null)}),n=[s,i,a],r[0]=i,r[1]=s,r[2]=a,r[3]=t,r[4]=n):(t=r[3],n=r[4]),(0,E.useEffect)(t,n),c}({document:(0,E.useMemo)(()=>({...R,_id:ee}),[R,ee]),permission:J}),er=!(null==R?void 0:R._id),ei=eun(eut(R)),ea="connected"===A&&I.ready&&!(null==a?void 0:a.loading),eo=(0,E.useMemo)(()=>eum(u,m),[u,m]),el=(0,E.useMemo)(()=>!!Id(eo)&&RS(eo),[eo]),{isLinked:es}=eue(R._id),ec=(0,E.useMemo)(()=>{var e,t;let n=!en&&!(null==et?void 0:et.granted),r=!(0,nm.isActionEnabled)(y,"update"),i=er&&!(0,nm.isActionEnabled)(y,"create"),a="reconnecting"===A,o=null==(e=I.transactionSyncLock)?void 0:e.enabled,l=!!R&&q6(R);return!!I.version&&!I.draft&&!I.published&&!!_&&u!==(0,th.getVersionFromId)(I.version._id)&&!1===Ma(I)||!!v&&null!=(t=I.draft)&&!!t._id||!v&&"published"===u||!!s&&(0,th.getVersionFromId)(R._id)!==s&&!1===Ma(I)||!ea||!!es||!!n||!!r||!!i||!!a||!!o||!!ei||!!l||!!el||("function"==typeof d?d(I):!!d)},[en,es,null==et?void 0:et.granted,y,er,A,I,R,_,u,v,s,ea,ei,el,d]),{patch:eu}=euu(i,n,s),ep=(0,E.useRef)(()=>{throw Error("Attempted to patch the Sanity document during initial render or in an `useInsertionEffect`. Input components should only call `onChange()` in a useEffect or an event handler.")}),ef=(0,E.useCallback)(e=>ep.current(e),[]);(0,E.useInsertionEffect)(()=>{ec&&!ei?ep.current=()=>{throw Error("Attempted to patch a read-only document")}:ep.current=e=>{I.draft||I.published||x.log(G4),eu.execute(e.patches.map(eux),null==a?void 0:a.value)}},[I.draft,I.published,a,eu,x,ec,ei]);let eh=function(e){let{comparisonValue:t,documentValue:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:a,focusPath:o,openPath:l,presence:s,validation:c,readOnly:u,changesOpen:d,schemaType:p,perspective:f}=e,h=A6(),[m]=(0,E.useState)(()=>ec8({property:"hidden"})),[g]=(0,E.useState)(()=>ec8({property:"readOnly"})),[y]=(0,E.useState)(()=>(function(){let{decorators:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=et$({decorator:e.prepareFieldMember,getPath:e=>{let{parent:t,field:n}=e;return[...t.path,n.name]},hashInput:e=>{var t,n,r,i,a,o,l,s,c,u,d,p;let{parent:f,field:h}=e,m=[...f.path,h.name];return{changesOpen:f.changesOpen,presence:f.presence.filter(e=>(0,S.startsWith)(m,e.path)),validation:f.validation.filter(e=>(0,S.startsWith)(m,e.path)),focusPath:(0,S.startsWith)(m,f.focusPath)?f.focusPath:[],openPath:(0,S.startsWith)(m,f.openPath)?f.openPath:[],value:et1(null==(t=f.value)?void 0:t[h.name]),comparisonValue:et1(null==(n=f.comparisonValue)?void 0:n[h.name]),collapsedFieldSets:et1(null==(i=f.collapsedFieldSets)||null==(r=i.children)?void 0:r[h.name]),collapsedPaths:et1(null==(o=f.collapsedPaths)||null==(a=o.children)?void 0:a[h.name]),currentUser:et1(f.currentUser),fieldGroupState:et1(f.fieldGroupState),hidden:!0===f.hidden||(null==(l=f.hidden)?void 0:l.value)||et1(null==(c=f.hidden)||null==(s=c.children)?void 0:s[h.name]),readOnly:!0===f.readOnly||(null==(u=f.readOnly)?void 0:u.value)||et1(null==(p=f.readOnly)||null==(d=p.children)?void 0:d[h.name]),schemaType:et1(f.schemaType)}}}),n=et$({decorator:e.prepareObjectInputState,getPath:e=>{let{path:t}=e;return t},hashInput:e=>{var t,n;return{changesOpen:e.changesOpen,presence:e.presence.filter(t=>(0,S.startsWith)(e.path,t.path)),validation:e.validation.filter(t=>(0,S.startsWith)(e.path,t.path)),focusPath:(0,S.startsWith)(e.path,e.focusPath)?e.focusPath:[],openPath:(0,S.startsWith)(e.path,e.openPath)?e.openPath:[],value:et1(e.value),comparisonValue:et1(e.comparisonValue),collapsedFieldSets:et1(e.collapsedFieldSets),collapsedPaths:e.collapsedPaths,currentUser:et1(e.currentUser),fieldGroupState:et1(e.fieldGroupState),hidden:!0===e.hidden||(null==(t=e.hidden)?void 0:t.value)||et1(e.hidden),readOnly:!0===e.readOnly||(null==(n=e.readOnly)?void 0:n.value)||et1(e.readOnly),schemaType:et1(e.schemaType),perspective:et1(e.perspective)}}}),r=et$({decorator:e.prepareArrayOfPrimitivesInputState,getPath:e=>{let{path:t}=e;return t},hashInput:e=>{var t,n;return{changesOpen:e.changesOpen,presence:e.presence.filter(t=>(0,S.startsWith)(e.path,t.path)),validation:e.validation.filter(t=>(0,S.startsWith)(e.path,t.path)),focusPath:(0,S.startsWith)(e.path,e.focusPath)?e.focusPath:[],openPath:(0,S.startsWith)(e.path,e.openPath)?e.openPath:[],value:et1(e.value),comparisonValue:et1(e.comparisonValue),collapsedFieldSets:et1(e.collapsedFieldSets),collapsedPaths:e.collapsedPaths,currentUser:et1(e.currentUser),fieldGroupState:et1(e.fieldGroupState),hidden:!0===e.hidden||(null==(t=e.hidden)?void 0:t.value)||et1(e.hidden),readOnly:!0===e.readOnly||(null==(n=e.readOnly)?void 0:n.value)||et1(e.readOnly),schemaType:et1(e.schemaType),perspective:et1(e.perspective)}}}),i=et$({decorator:e.prepareArrayOfObjectsInputState,getPath:e=>{let{path:t}=e;return t},hashInput:e=>{var t,n;return{changesOpen:e.changesOpen,presence:e.presence.filter(t=>(0,S.startsWith)(e.path,t.path)),validation:e.validation.filter(t=>(0,S.startsWith)(e.path,t.path)),focusPath:(0,S.startsWith)(e.path,e.focusPath)?e.focusPath:[],openPath:(0,S.startsWith)(e.path,e.openPath)?e.openPath:[],value:et1(e.value),comparisonValue:et1(e.comparisonValue),collapsedFieldSets:et1(e.collapsedFieldSets),collapsedPaths:e.collapsedPaths,currentUser:et1(e.currentUser),fieldGroupState:et1(e.fieldGroupState),hidden:!0===e.hidden||(null==(t=e.hidden)?void 0:t.value)||et1(e.hidden),readOnly:!0===e.readOnly||(null==(n=e.readOnly)?void 0:n.value)||et1(e.readOnly),schemaType:et1(e.schemaType),perspective:et1(e.perspective)}}}),a=et$({decorator:e.prepareArrayOfObjectsMember,getPath:e=>{let{parent:t,arrayItem:n}=e;return[...t.path,{_key:n._key}]},hashInput:e=>{var t,n,r,i,a,o,l,s,c,u,d,p;let{parent:f,arrayItem:h}=e,m=Array.isArray(f.comparisonValue)?f.comparisonValue.find(e=>(0,W.isKeyedObject)(e)&&e._key===h._key):void 0,g=h._key,y=[...f.path,{_key:g}];return{changesOpen:f.changesOpen,presence:f.presence.filter(e=>(0,S.startsWith)(y,e.path)),validation:f.validation.filter(e=>(0,S.startsWith)(y,e.path)),focusPath:(0,S.startsWith)(y,f.focusPath)?f.focusPath:[],openPath:(0,S.startsWith)(y,f.openPath)?f.openPath:[],value:et1(h),comparisonValue:et1(m),collapsedFieldSets:et1(null==(n=f.collapsedFieldSets)||null==(t=n.children)?void 0:t[g]),collapsedPaths:et1(null==(i=f.collapsedPaths)||null==(r=i.children)?void 0:r[g]),currentUser:et1(f.currentUser),fieldGroupState:et1(null==(o=f.fieldGroupState)||null==(a=o.children)?void 0:a[g]),hidden:!0===f.hidden||(null==(l=f.hidden)?void 0:l.value)||et1(null==(c=f.hidden)||null==(s=c.children)?void 0:s[g]),readOnly:!0===f.readOnly||(null==(u=f.readOnly)?void 0:u.value)||et1(null==(p=f.readOnly)||null==(d=p.children)?void 0:d[g]),schemaType:et1(f.schemaType),perspective:et1(f.perspective)}}}),o=et$({decorator:e.prepareArrayOfPrimitivesMember,getPath:e=>{let{parent:t,index:n}=e;return[...t.path,n]},hashInput:e=>{var t,n,r,i,a,o,l,s,c,u,d,p;let{parent:f,index:h,arrayItem:m}=e,g=Array.isArray(f.comparisonValue)?f.comparisonValue[h]:void 0,y=[...f.path,h];return{changesOpen:f.changesOpen,presence:f.presence.filter(e=>(0,S.startsWith)(y,e.path)),validation:f.validation.filter(e=>(0,S.startsWith)(y,e.path)),focusPath:(0,S.startsWith)(y,f.focusPath)?f.focusPath:[],openPath:(0,S.startsWith)(y,f.openPath)?f.openPath:[],collapsedFieldSets:et1(null==(n=f.collapsedFieldSets)||null==(t=n.children)?void 0:t[h]),collapsedPaths:et1(null==(i=f.collapsedPaths)||null==(r=i.children)?void 0:r[h]),currentUser:et1(f.currentUser),fieldGroupState:et1(null==(o=f.fieldGroupState)||null==(a=o.children)?void 0:a[h]),hidden:!0===f.hidden||(null==(l=f.hidden)?void 0:l.value)||et1(null==(c=f.hidden)||null==(s=c.children)?void 0:s[h]),readOnly:!0===f.readOnly||(null==(u=f.readOnly)?void 0:u.value)||et1(null==(p=f.readOnly)||null==(d=p.children)?void 0:d[h]),schemaType:et1(f.schemaType),value:"".concat(m),comparisonValue:"".concat(g),perspective:et1(f.perspective)}}}),l=et$({decorator:e.preparePrimitiveInputState,getPath:e=>{let{path:t}=e;return t},hashInput:e=>{var t,n;return{changesOpen:e.changesOpen,presence:e.presence.filter(t=>(0,S.startsWith)(e.path,t.path)),validation:e.validation.filter(t=>(0,S.startsWith)(e.path,t.path)),focusPath:(0,S.startsWith)(e.path,e.focusPath)?e.focusPath:[],openPath:(0,S.startsWith)(e.path,e.openPath)?e.openPath:[],value:et1(e.value),comparisonValue:et1(e.comparisonValue),collapsedFieldSets:et1(e.collapsedFieldSets),collapsedPaths:e.collapsedPaths,currentUser:et1(e.currentUser),fieldGroupState:et1(e.fieldGroupState),hidden:!0===e.hidden||(null==(t=e.hidden)?void 0:t.value)||et1(e.hidden),readOnly:!0===e.readOnly||(null==(n=e.readOnly)?void 0:n.value)||et1(e.readOnly),schemaType:et1(e.schemaType),perspective:et1(e.perspective)}}}),s=t(function(e){var t,n,r,i,a,o,l,s,p,f,m,g,y,v,b,x,C,k,w,_,j,E,T,D,I,A,O,P,M,F,R,B,N,L,z,V,U,H,q,Y,K,G,$,Z,X,J,Q,ee,et,en,er,ei;let{field:ea,index:eo,parent:el}=e,es=(0,S.pathFor)([...el.path,ea.name]),ec=(er=ea.type,ei=el.level+1,(0,W.isArraySchemaType)(er)?function(e,t){var n;let{options:r}=e,i=(null==(n=(null==r?void 0:r.list)||[])?void 0:n.length)>0,a=zC.includes((null==r?void 0:r.layout)||"");return i&&!a?t:0}(er,ei):function(e,t){var n,r,i;let{type:a,options:o}=e,l=function e(t,n){return(null==t?void 0:t.name)&&n.includes(null==t?void 0:t.name)?t:t?e(t.type,n):void 0}(a,zb),s=(null==e?void 0:e.jsonType)==="object"?e.fields:void 0,c=(null==l?void 0:l.name)||"";if(zk.includes(c))return 0;let u=zb.includes(c),d=(null!=(r=null==s?void 0:s.filter(e=>!zx.includes(e.name)).length)?r:0)>0,p=(null!=(i=null==o||null==(n=o.list)?void 0:n.length)?i:0)>0;return d||p||!u?t:0}(er,ei)),eu=el.value,ed=el.comparisonValue;if(!et0(eu))throw Error("Unexpected non-object value");let ep=ea.group?(0,ge.default)(ea.group):[],ef=et2(el.groups,ea.group,el.selectedGroup);if((0,W.isObjectSchemaType)(ea.type)){let e=null==eu?void 0:eu[ea.name],u=Io(ed)?null==ed?void 0:ed[ea.name]:void 0;if(!et0(e))return{kind:"error",key:ea.name,fieldName:ea.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:ea.type,resolvedValueType:(0,nw.resolveTypeName)(e),value:e}};if(!0===el.hidden||(null==el||null==(t=el.hidden)?void 0:t.value)||(null==(i=el.hidden)||null==(r=i.children)||null==(n=r[ea.name])?void 0:n.value))return{kind:"hidden",key:"field-".concat(ea.name),name:ea.name,index:eo};let d=null==(o=el.fieldGroupState)||null==(a=o.children)?void 0:a[ea.name],h=null==(s=el.collapsedPaths)||null==(l=s.children)?void 0:l[ea.name],C=null==(f=el.collapsedFieldSets)||null==(p=f.children)?void 0:p[ea.name],k=!0===el.hidden||(null==(m=el.hidden)?void 0:m.value)||(null==(y=el.hidden)||null==(g=y.children)?void 0:g[ea.name]),w=!0===el.readOnly||(null==(v=el.readOnly)?void 0:v.value)||(null==(x=el.readOnly)||null==(b=x.children)?void 0:b[ea.name]),_=c({schemaType:ea.type,currentUser:el.currentUser,value:e,changed:et5(e,u),comparisonValue:u,perspective:el.perspective,presence:el.presence,validation:el.validation,fieldGroupState:d,path:es,level:ec,focusPath:el.focusPath,openPath:el.openPath,collapsedPaths:h,collapsedFieldSets:C,hidden:k,readOnly:w,changesOpen:el.changesOpen});if(null===_)return null;let j=etZ(ea.type.options,ec),E=h?h.value:j.collapsed;return{kind:"field",key:"field-".concat(ea.name),name:ea.name,index:eo,inSelectedGroup:ef,groups:ep,open:(0,S.startsWith)(es,el.openPath),field:_,collapsed:E,collapsible:j.collapsible}}if((0,W.isArraySchemaType)(ea.type)){let e=null==eu?void 0:eu[ea.name],t=Io(ed)?null==ed?void 0:ed[ea.name]:void 0;if((0,W.isArrayOfObjectsSchemaType)(ea.type)){let n="u">typeof e;if(n&&!(typeof e>"u"||Array.isArray(e))){let t=(0,nw.resolveTypeName)(e);return{kind:"error",key:ea.name,fieldName:ea.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:ea.type,resolvedValueType:t,value:e}}}if(n&&!(0===e.length||e.every(e=>Io(e))))return{kind:"error",key:ea.name,fieldName:ea.name,error:{type:"MIXED_ARRAY",schemaType:ea.type,value:e}};if(n&&!(null==e?void 0:e.every(e=>Io(e)&&"_key"in e)))return{kind:"error",key:ea.name,fieldName:ea.name,error:{type:"MISSING_KEYS",value:e,schemaType:ea.type}};let r=n?function(e){let t=new Set;return e.reduce((e,n,r)=>(t.has(n._key)&&e.push([r,n._key]),t.add(n._key),e),[])}(e):[];if(r.length>0)return{kind:"error",key:ea.name,fieldName:ea.name,error:{type:"DUPLICATE_KEYS",duplicates:r,schemaType:ea.type}};let i=null==(k=el.fieldGroupState)||null==(C=k.children)?void 0:C[ea.name],a=null==(_=el.collapsedPaths)||null==(w=_.children)?void 0:w[ea.name],o=null==(E=el.collapsedFieldSets)||null==(j=E.children)?void 0:j[ea.name],l=!0===el.hidden||(null==(T=el.hidden)?void 0:T.value)||(null==(I=el.hidden)||null==(D=I.children)?void 0:D[ea.name]),s=!0===el.readOnly||(null==(A=el.readOnly)?void 0:A.value)||(null==(P=el.readOnly)||null==(O=P.children)?void 0:O[ea.name]),c=d({schemaType:ea.type,currentUser:el.currentUser,value:e,changed:et5(e,t),comparisonValue:t,fieldGroupState:i,focusPath:el.focusPath,openPath:el.openPath,perspective:el.perspective,presence:el.presence,validation:el.validation,collapsedPaths:a,collapsedFieldSets:o,level:ec,path:es,readOnly:s,hidden:l,changesOpen:el.changesOpen});return null===c?null:{kind:"field",key:"field-".concat(ea.name),name:ea.name,index:eo,open:(0,S.startsWith)(es,el.openPath),inSelectedGroup:ef,groups:ep,collapsible:!1,collapsed:!1,field:c}}{if(!(typeof e>"u"||Array.isArray(e))){let t=(0,nw.resolveTypeName)(e);return{kind:"error",key:ea.name,fieldName:ea.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:ea.type,resolvedValueType:t,value:e}}}let n=null==(F=el.fieldGroupState)||null==(M=F.children)?void 0:M[ea.name],r=null==(B=el.collapsedPaths)||null==(R=B.children)?void 0:R[ea.name],i=null==(L=el.collapsedFieldSets)||null==(N=L.children)?void 0:N[ea.name],a=!0===el.hidden||(null==(z=el.hidden)?void 0:z.value)||(null==(U=el.hidden)||null==(V=U.children)?void 0:V[ea.name]),o=!0===el.readOnly||(null==(H=el.readOnly)?void 0:H.value)||(null==(Y=el.readOnly)||null==(q=Y.children)?void 0:q[ea.name]),l=u({changed:et5(e,t),comparisonValue:t,schemaType:ea.type,currentUser:el.currentUser,value:e,fieldGroupState:n,focusPath:el.focusPath,openPath:el.openPath,perspective:el.perspective,presence:el.presence,validation:el.validation,collapsedPaths:r,collapsedFieldSets:i,level:ec,path:es,readOnly:o,hidden:a,changesOpen:el.changesOpen});return null===l?null:{kind:"field",key:"field-".concat(ea.name),name:ea.name,index:eo,inSelectedGroup:ef,groups:ep,open:(0,S.startsWith)(es,el.openPath),collapsible:!1,collapsed:!1,field:l}}}{let e=null==eu?void 0:eu[ea.name],t=Io(ed)?null==ed?void 0:ed[ea.name]:void 0;if(!0===el.hidden||(null==(K=el.hidden)?void 0:K.value)||(null==(Z=el.hidden)||null==($=Z.children)||null==(G=$[ea.name])?void 0:G.value))return null;let n=!0===el.hidden||(null==(X=el.hidden)?void 0:X.value)||(null==(Q=el.hidden)||null==(J=Q.children)?void 0:J[ea.name]),r=!0===el.readOnly||(null==(ee=el.readOnly)?void 0:ee.value)||(null==(en=el.readOnly)||null==(et=en.children)?void 0:et[ea.name]),i=h({...el,comparisonValue:t,value:e,schemaType:ea.type,path:es,readOnly:r,hidden:n});return{kind:"field",key:"field-".concat(ea.name),name:ea.name,index:eo,open:(0,S.startsWith)(es,el.openPath),inSelectedGroup:ef,groups:ep,collapsible:!1,collapsed:!1,field:i}}}),c=n(function(e){var t,n;let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(20===e.level)return null;let i=!0===e.readOnly||(null==(t=e.readOnly)?void 0:t.value),a=e.schemaType.groups||[],o=e.changesOpen||(null==(n=e.fieldGroupState)?void 0:n.value)===etK.name,l=t=>{var n,r,i,a;return(!o||t.name!==etK.name)&&(!0===e.hidden||(null==(n=e.hidden)?void 0:n.value)||(null==(a=e.hidden)||null==(i=a.children)||null==(r=i["group:".concat(t.name)])?void 0:r.value))},c=a.some(e=>e.name===etK.name)?a:[etK,...a],u=(c.find(e=>e.default)||c.find(e=>!l(e))||c[0]).name,d=c.flatMap(t=>{var n;let r=l(t),i=t.name===((null==(n=e.fieldGroupState)?void 0:n.value)||u),a=e.changesOpen?t.name===etK.name:i,o=!!e.changesOpen&&!a;return r?[]:[{disabled:o,icon:null==t?void 0:t.icon,name:t.name,selected:a,title:t.title,i18n:t.i18n}]}),p=d.find(e=>e.selected),f=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(e=>({single:!0,field:e}))).flatMap((t,n)=>{var r,i,a,o,l,c,u,f;if(t.single){let r=s({field:t.field,parent:{...e,groups:d,selectedGroup:p},index:n});return r?[r]:[]}let h=!0===e.hidden||(null==(r=e.hidden)?void 0:r.value)||(null==(o=e.hidden)||null==(a=o.children)||null==(i=a["fieldset:".concat(t.name)])?void 0:i.value),m=t.fields.flatMap(t=>{if(h)return[{kind:"hidden",key:"field-".concat(t.name),name:t.name,index:n}];let r=s({field:t,parent:{...e,groups:d,selectedGroup:p},index:n});return r?[r]:[]}),g=etZ(t.options,e.level),y=null!=(f=null==(l=((null==(c=e.collapsedFieldSets)?void 0:c.children)||{})[t.name])?void 0:l.value)?f:g.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(t.name),_inSelectedGroup:et2(d,t.group,p),groups:t.group?(0,ge.default)(t.group):[],fieldSet:{path:(0,S.pathFor)(e.path.concat(t.name)),name:t.name,title:t.title,description:t.description,hidden:!1,level:e.level+1,members:m.filter(e=>"hidden"!==e.kind),collapsible:null==g?void 0:g.collapsible,collapsed:y,columns:null==t||null==(u=t.options)?void 0:u.columns}}]}),h=a.length>0,m=e.presence.filter(t=>(0,S.isEqual)(t.path,e.path)),g=m.length?m:Ie,y=e.validation.filter(t=>(0,S.isEqual)(t.path,e.path)).map(e=>({level:e.level,message:e.message,path:e.path})),v=f.filter(e=>"hidden"!==e.kind);if(0===v.length&&r)return null;let b=h?d.flatMap(e=>e.name===etK.name||v.some(t=>"error"!==t.kind&&("field"===t.kind?t.groups.includes(e.name):t.groups.includes(e.name)||t.fieldSet.members.some(t=>"error"!==t.kind&&t.groups.includes(e.name))))?e:[]):[],x=v.flatMap(e=>{if("error"===e.kind)return[e];if("field"===e.kind)return e.inSelectedGroup?[e]:[];let t=e.fieldSet.members.filter(e=>"field"!==e.kind||e.inSelectedGroup);return t.length>0?[{...e,fieldSet:{...e.fieldSet,members:t}}]:[]}),C=et3(e),k={value:e.value,schemaType:e.schemaType,readOnly:i,path:e.path,id:(0,S.toString)(e.path),level:e.level,focused:(0,S.isEqual)(e.path,e.focusPath),focusPath:(0,S.trimChildPath)(e.path,e.focusPath),presence:g,validation:y,members:x,groups:b,__unstable_computeDiff:C.__unstable_computeDiff,changed:et5(e.value,e.comparisonValue)};return Object.defineProperty(k,"_allMembers",{value:f,enumerable:!1}),k}),u=r(function(e){var t,n;if(20===e.level||!0===e.hidden||(null==(t=e.hidden)?void 0:t.value))return null;let r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(t=>(0,S.isEqual)(t.path,e.path)),a=i.length?i:Ie,o=e.validation.filter(t=>(0,S.isEqual)(t.path,e.path)).map(e=>({level:e.level,message:e.message,path:e.path})),l=r.flatMap((t,n)=>f({arrayItem:t,parent:e,index:n})),s=et3(e);return{value:e.value,readOnly:!0===e.readOnly||(null==(n=e.readOnly)?void 0:n.value),schemaType:e.schemaType,focused:(0,S.isEqual)(e.path,e.focusPath),focusPath:(0,S.trimChildPath)(e.path,e.focusPath),path:e.path,perspective:e.perspective,id:(0,S.toString)(e.path),level:e.level,validation:o,presence:a,members:l,__unstable_computeDiff:s.__unstable_computeDiff,changed:e.changed||l.some(e=>"item"===e.kind&&e.item.changed)}}),d=i(function(e){var t,n;if(20===e.level||!0===e.hidden||(null==(t=e.hidden)?void 0:t.value))return null;let r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(t=>(0,S.isEqual)(t.path,e.path)),a=i.length?i:Ie,o=e.validation.filter(t=>(0,S.isEqual)(t.path,e.path)).map(e=>({level:e.level,message:e.message,path:e.path})),l=r.flatMap((t,n)=>p({arrayItem:t,parent:e,index:n})),s=et3(e);return{value:e.value,perspective:e.perspective,readOnly:!0===e.readOnly||(null==(n=e.readOnly)?void 0:n.value),schemaType:e.schemaType,focused:(0,S.isEqual)(e.path,e.focusPath),focusPath:(0,S.trimChildPath)(e.path,e.focusPath),path:e.path,id:(0,S.toString)(e.path),level:e.level,validation:o,presence:a,members:l,__unstable_computeDiff:s.__unstable_computeDiff,changed:e.changed||l.some(e=>"item"===e.kind&&e.item.changed)}}),p=a(function(e){var t,n,r,i,a,o,l,s,u,d,p,f,h;let{arrayItem:m,parent:g,index:y}=e,v=YF(g.schemaType,m),b=m._key;if(!v)return{kind:"error",key:b,index:y,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:(0,nw.resolveTypeName)(m),value:m,validTypes:g.schemaType.of}};let x=(0,S.pathFor)([...g.path,{_key:b}]),C=g.level+1,k=null==(n=g.fieldGroupState)||null==(t=n.children)?void 0:t[b],w=null==(i=g.collapsedPaths)||null==(r=i.children)?void 0:r[b],_=null==(o=g.collapsedFieldSets)||null==(a=o.children)?void 0:a[b],j=!0===g.hidden||(null==(l=g.hidden)?void 0:l.value)||(null==(u=g.hidden)||null==(s=u.children)?void 0:s[b]),E=!0===g.readOnly||(null==(d=g.readOnly)?void 0:d.value)||(null==(f=g.readOnly)||null==(p=f.children)?void 0:p[b]),T=Array.isArray(g.comparisonValue)&&g.comparisonValue.find(e=>e._key===m._key)||void 0,D=c({schemaType:v,level:C,value:m,comparisonValue:T,changed:et5(m,T),path:x,perspective:g.perspective,focusPath:g.focusPath,openPath:g.openPath,currentUser:g.currentUser,collapsedPaths:w,collapsedFieldSets:_,presence:g.presence,validation:g.validation,fieldGroupState:k,readOnly:E,hidden:j},!1),I=etZ(v.options,C),A=null!=(h=null==w?void 0:w.value)?h:I.collapsed;return{kind:"item",key:b,index:y,open:(0,S.startsWith)(x,g.openPath),collapsed:A,collapsible:!0,parentSchemaType:g.schemaType,item:D}}),f=o(function(e){var t,n,r,i,a;let{arrayItem:o,parent:l,index:s}=e,c=function(e,t){let n=(0,nw.resolveTypeName)(t);return null==e?void 0:e.of.find(e=>e.name===n||e.jsonType===n)}(l.schemaType,o),u=(0,S.pathFor)([...l.path,s]),d=null==(t=l.value)?void 0:t[s],p=null==(n=l.comparisonValue)?void 0:n[s],f=l.level+1,m="".concat((null==c?void 0:c.name)||"invalid-type","-").concat(String(s));if(!c)return{kind:"error",key:m,index:s,error:{type:"INVALID_ITEM_TYPE",validTypes:l.schemaType.of,resolvedValueType:(0,nw.resolveTypeName)(c),value:d}};let g=!0===l.readOnly||(null==(r=l.readOnly)?void 0:r.value)||(null==(a=l.readOnly)||null==(i=a.children)?void 0:i[s]),y=h({...l,path:u,schemaType:c,level:f,value:d,comparisonValue:p,readOnly:g});return{kind:"item",key:m,index:s,parentSchemaType:l.schemaType,open:(0,S.isEqual)(u,l.openPath),item:y}}),h=l(function(e){var t;let n=e.presence.filter(t=>(0,S.isEqual)(t.path,e.path)),r=n.length?n:Ie,i=e.validation.filter(t=>(0,S.isEqual)(t.path,e.path)).map(e=>({level:e.level,message:e.message,path:e.path})),a=et3(e);return{schemaType:e.schemaType,value:e.value,level:e.level,id:(0,S.toString)(e.path),readOnly:!0===e.readOnly||(null==(t=e.readOnly)?void 0:t.value),focused:(0,S.isEqual)(e.path,e.focusPath),path:e.path,perspective:e.perspective,presence:r,validation:i,__unstable_computeDiff:a.__unstable_computeDiff,changed:et5(e.value,e.comparisonValue)}});function m(e){let{collapsedFieldSets:t,collapsedPaths:n,comparisonValue:r,currentUser:i,documentValue:a,fieldGroupState:o,focusPath:l,hidden:s,openPath:u,perspective:d,presence:p,readOnly:f,schemaType:h,validation:m,changesOpen:g}=e;return c({collapsedFieldSets:t,collapsedPaths:n,comparisonValue:r,currentUser:i,value:a,fieldGroupState:o,focusPath:l,hidden:!1===s?D9:s,openPath:u,perspective:d,presence:p,readOnly:!1===f?D9:f,schemaType:h,validation:m,changesOpen:g,level:0,path:[]})}return m._prepareFieldMember=s,m._prepareFieldMember=s,m._prepareObjectInputState=c,m._prepareArrayOfPrimitivesInputState=u,m._prepareArrayOfObjectsInputState=d,m._prepareArrayOfObjectsMember=p,m._prepareArrayOfPrimitivesMember=f,m._preparePrimitiveInputState=h,m})()),[v]=(0,E.useState)(()=>{let e;return t=>{let n=Lb(null!=e?e:null,t);return e=n,n}}),b=(0,E.useMemo)(()=>v(r),[r,v]),[x]=(0,E.useState)(()=>{let e;return t=>{let n=Lb(null!=e?e:null,t);return e=n,n}}),C=(0,E.useMemo)(()=>x(a),[a,x]),[k]=(0,E.useState)(()=>{let e;return t=>{let n=Lb(null!=e?e:null,t);return e=n,n}}),w=(0,E.useMemo)(()=>k(i),[i,k]),{hidden:_,readOnly:j}=(0,E.useMemo)(()=>({hidden:m({currentUser:h,documentValue:n,schemaType:p}),readOnly:g({currentUser:h,documentValue:n,schemaType:p,readOnly:u})}),[m,h,n,p,g,u]),T=n&&q6(n);return(0,E.useMemo)(()=>y({schemaType:p,fieldGroupState:b,collapsedFieldSets:w,collapsedPaths:C,documentValue:n,comparisonValue:t,focusPath:o,openPath:l,readOnly:j,hidden:_,currentUser:h,presence:s,validation:T?Ie:c,changesOpen:d,perspective:f}),[y,p,b,w,C,n,t,o,l,f,j,_,h,s,T,c,d])}({schemaType:y,documentValue:(0,E.useMemo)(()=>r?r(R):R,[r,R]),readOnly:ec,comparisonValue:F||R,focusPath:O,openPath:L,perspective:eo,collapsedPaths:H,presence:B,validation:k,collapsedFieldSets:Y,fieldGroupState:V,changesOpen:o}),em=(0,E.useRef)(eh);(0,E.useEffect)(()=>{em.current=eh},[eh]),function(e){var t,n,r;let i,a,o,l,s=(0,j.c)(18),{editState:c}=e,u=Fm(),d=(0,te.useObservable)(u.capabilities),{activeWorkspace:p}=eul(),f=null!=(n=null!=(t=c.version)?t:c.draft)?n:c.published,h=null!=(r=null==f?void 0:f._id)?r:c.id,m=c.type;s[0]!==p.dataset||s[1]!==p.projectId?(i=[p.projectId,p.dataset],s[0]=p.dataset,s[1]=p.projectId,s[2]=i):i=s[2];let g=i.join(".");s[3]!==p.name||s[4]!==c.type||s[5]!==h||s[6]!==g?(a={resourceType:"studio",documentId:h,documentType:m,resourceId:g,schemaName:p.name},s[3]=p.name,s[4]=c.type,s[5]=h,s[6]=g,s[7]=a):a=s[7];let{recordEvent:y}=eus(a),v=(0,E.useRef)(!1);s[8]!==(null==d?void 0:d.comlink)||s[9]!==f||s[10]!==c.ready||s[11]!==y?(o=()=>{let e=c.ready&&null!==f;(null==d?void 0:d.comlink)&&e&&!v.current&&(v.current=!0,y("viewed"))},s[8]=null==d?void 0:d.comlink,s[9]=f,s[10]=c.ready,s[11]=y,s[12]=o):o=s[12];let b=null==d?void 0:d.comlink;s[13]!==f||s[14]!==c.ready||s[15]!==y||s[16]!==b?(l=[b,f,c.ready,y],s[13]=f,s[14]=c.ready,s[15]=y,s[16]=b,s[17]=l):l=s[17],(0,E.useEffect)(o,l)}({editState:I});let eg=(0,E.useCallback)(e=>{var t;(t=em.current,[...e.map((t,n)=>({type:"expandPath",path:e.slice(0,n+1)})),...ec6(t,e)]).forEach(e=>{"expandPath"===e.type&&q(t=>ec3(t,e.path,!1)),"expandFieldSet"===e.type&&K(t=>ec3(t,e.path,!1)),"setSelectedGroup"===e.type&&U(t=>ec3(t,e.path,e.groupName))}),z(e)},[em]),ey=(0,E.useCallback)((e,t)=>{h.setLocation([{type:"document",documentId:R._id,path:e,lastActiveAt:new Date().toISOString(),selection:null==t?void 0:t.selection}])},[h,R._id]),ev=(0,E.useMemo)(()=>(0,M.default)(ey,1e3,{leading:!0,trailing:!0}),[ey]),eb=(0,E.useRef)([]),ex=(0,E.useCallback)((e,t)=>{let n=(0,S.pathFor)(e);n!==eb.current&&(P((0,S.pathFor)(n)),eg((0,S.pathFor)(n.slice(0,-1))),eb.current=n,null==p||p(n)),ev(n,t)},[p,P,eg,ev]),eC=(0,E.useCallback)(e=>{P(Ie),eb.current!==Ie&&(eb.current=Ie,null==p||p(Ie))},[p,P]),ek=(0,E.useCallback)(e=>{(0,T.default)(eb.current,e)||(P(e),eg(e),null==p||p(e),eb.current=e)},[p,eg]);return{editState:I,connectionState:A,focusPath:O,validation:k,ready:ea,value:R,formState:eh,permissions:et,isPermissionsLoading:en,formStateRef:em,collapsedFieldSets:Y,collapsedPaths:H,openPath:L,schemaType:y,onChange:ef,onPathOpen:eg,onProgrammaticFocus:ek,onBlur:eC,onFocus:ex,onSetActiveFieldGroup:X,onSetCollapsedPath:G,onSetCollapsedFieldSet:$}}let euy=/^\d+$/;function euv(e){return e.split(/[[.\]]/g).filter(Boolean).map(e=>e.includes("==")?function(e){let[t,n]=e.split("==");return{[t]:n.replace(/^['"]/,"").replace(/['"]$/,"")}}(e):euy.test(e)?Number(e):e)}function eub(e,t){return(0,td.default)(t.map(t=>{var n,r;let i;return n=e,r=t,(0,td.default)(Object.keys(r).filter((i=["id","ifRevisionID","query"],e=>!i.includes(e))).map(e=>{if("unset"===e)return r.unset.map(e=>({type:"unset",path:euv(e),origin:n}));if("insert"===e){let e="before"in r.insert?"before":"after";return{type:"insert",position:e,path:euv(r.insert[e]),items:r.insert.items,origin:n}}return Object.keys(r[e]).map(t=>"set"===e?{type:"set",path:euv(t),value:r[e][t],origin:n}:"inc"===e||"dec"===e?{type:e,path:euv(t),value:r[e][t],origin:n}:"setIfMissing"===e?{type:"setIfMissing",path:euv(t),value:r[e][t],origin:n}:"diffMatchPatch"===e?{type:e,path:euv(t),value:r[e][t],origin:n}:(console.warn(Error("Unsupported patch type: ".concat(e))),null)).filter(Boolean)}))}))}function eux(e){if(e.patchType!==LM&&e.type)throw Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==LM)throw Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');let t=mi(e.path||[]);if("insert"===e.type){let{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if("unset"===e.type)return{unset:[t]};if(!e.type)throw Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}let euC=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(9),{transform:a}=e,o=L3();i[0]!==o||i[1]!==a?(t=e=>{let t=a(e.patches);o.onChange(zU.from(t))},i[0]=o,i[1]=a,i[2]=t):t=i[2];let l=t;i[3]!==o||i[4]!==l?(n={...o,onChange:l},i[3]=o,i[4]=l,i[5]=n):n=i[5];let s=n;return i[6]!==s||i[7]!==e.children?(r=(0,_.jsx)(D.FormCallbacksContext.Provider,{value:s,children:e.children}),i[6]=s,i[7]=e.children,i[8]=r):r=i[8],r});function euk(){let e,t,n=(0,j.c)(3);n[0]===Symbol.for("react.memo_cache_sentinel")?(e={apiVersion:"vX"},n[0]=e):e=n[0];let r=eTt(e);n[1]!==r?(t=r.config(),n[1]=r,n[2]=t):t=n[2];let{token:i}=t;return i}function euw(){return euk()?"token":"cookie"}function eu_(){return(0,E.useContext)(D.MediaLibraryIdsContext)}function euj(e){let{schemaType:t}=e,n=eu_(),r=eTt({apiVersion:"vX"});return{onLinkAssets:(0,E.useCallback)(e=>{var i;if(!(null==n?void 0:n.libraryId))throw Error("No libraryId found");let a=t&&(0,W.isImageSchemaType)(t)?null==(i=t.options)?void 0:i.metadata:void 0;if(Jz(t))return(0,ek.firstValueFrom)((0,en.from)(e).pipe((0,Z.map)(e=>({kind:"assetDocumentId",value:e.asset._id,mediaLibraryProps:{mediaLibraryId:n.libraryId,assetId:e.asset._id,assetInstanceId:e.assetInstanceId}})),(0,eV.toArray)()),{defaultValue:[]});let o=(0,en.from)(e).pipe(function(e){let{client:t,mediaLibraryId:n,metadataPropsFromSchema:r}=e;return(0,eC.mergeMap)(e=>t.observable.request({method:"POST",url:"/assets/media-library-link/".concat(t.config().dataset,"?").concat((null==r?void 0:r.map(e=>"meta[]=".concat(e)).join("&"))||""),withCredentials:!0,body:{mediaLibraryId:n,assetInstanceId:e.assetInstanceId,assetId:e.asset._id},tag:"media-library.link-asset"}).pipe((0,eF.retry)({count:10,delay(e){if(function(e){let t=422===(0,n_.default)(e,["statusCode"]),n="Media library asset is not ready"===(0,n_.default)(e,["response","body","message"]);return t&&n}(e))return(0,es.timer)(2e3);throw e}}),(0,Z.map)(t=>{let{document:r}=t;return{kind:"assetDocumentId",value:r._id,mediaLibraryProps:{mediaLibraryId:n,assetId:e.asset._id,assetInstanceId:e.assetInstanceId}}}),(0,eU.delay)(1e3)),5)}({client:r,mediaLibraryId:n.libraryId,metadataPropsFromSchema:a}),(0,eV.toArray)());return(0,ek.firstValueFrom)(o,{defaultValue:[]})},[r,null==n?void 0:n.libraryId,t])}}function euS(){let e,t,n,r=(0,j.c)(8);r[0]===Symbol.for("react.memo_cache_sentinel")?(e={apiVersion:"vX"},r[0]=e):e=r[0];let i=eTt(e).config().apiHost.endsWith("sanity.work"),a=i?"https://media.sanity.work":"https://media.sanity.io",o=i?"staging":"production",l=i?"https://sanity-cdn.work":"https://sanity-cdn.com",s=i?"https://api.sanity.work":"https://api.sanity.io";return r[1]!==a||r[2]!==l||r[3]!==s?(t={cdn:l,app:a,api:s},r[1]=a,r[2]=l,r[3]=s,r[4]=t):t=r[4],r[5]!==o||r[6]!==t?(n={__internal:{apiVersion:"vX",appBasePath:"",hosts:t,isLocalDev:!1,env:o}},r[5]=o,r[6]=t,r[7]=n):n=r[7],n}let euE=(e,t)=>{let n,r,i,a,o=(0,j.c)(11),l=euk(),[s,c]=(0,E.useState)(null);o[0]!==s||o[1]!==e?(n=t=>{var n;(null==s?void 0:s.contentWindow)&&(null==(n=s.contentWindow)||n.postMessage(t,e))},o[0]=s,o[1]=e,o[2]=n):n=o[2];let u=n;return o[3]!==t||o[4]!==s||o[5]!==u||o[6]!==l?(r=()=>{let e=e=>{s&&e.source===(null==s?void 0:s.contentWindow)&&("tokenRequest"===e.data.type&&u({type:"tokenResponse",token:l||null}),t&&t(e.data,u))};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}},i=[t,s,u,l],o[3]=t,o[4]=s,o[5]=u,o[6]=l,o[7]=r,o[8]=i):(r=o[7],i=o[8]),(0,E.useEffect)(r,i),o[9]!==u?(a={postMessage:u,setIframe:c},o[9]=u,o[10]=a):a=o[10],a},euT=(0,F.styled)(A.Dialog)(Si()),euD={display:"flex",width:"100%",height:"100%",flexDirection:"column",overflow:"hidden"},euI={display:"none"},euA=(0,E.forwardRef)(function(e,t){let n,r,i,a=(0,j.c)(7),{src:o,hidden:l}=e,s=l?euI:euD;return a[0]===Symbol.for("react.memo_cache_sentinel")?(n={overflow:"hidden",flexGrow:1,border:"none",margin:0,padding:0,height:"100%",width:"100%"},a[0]=n):n=a[0],a[1]!==t||a[2]!==o?(r=(0,_.jsx)("iframe",{ref:t,src:o,style:n}),a[1]=t,a[2]=o,a[3]=r):r=a[3],a[4]!==s||a[5]!==r?(i=(0,_.jsx)(I.Card,{style:s,children:r}),a[4]=s,a[5]=r,a[6]=i):i=a[6],i});function euO(e){var t,n;let r=(0,I.useTheme)(),{t:i}=IO(),{dark:a}=r.sanity.color,o=eu_(),l=euS(),s=l.__internal.hosts.app,c=euw(),{dialogHeaderTitle:u,onClose:d,open:p,onSelect:f,selectionType:h="single",ref:m,selectAssetType:g,schemaType:y}=e,v=(0,A.useToast)(),[b,x]=(0,E.useState)(e.selection),[C,k]=(0,E.useState)(!1),[w,j]=(0,E.useState)([]),S=eTt({apiVersion:l.__internal.apiVersion}),T=FU(),D=el3(),O=zB([]),P=(0,E.useCallback)(async e=>{var t;let n={_type:"mainImage",media:{_ref:"media-library:".concat(null==o?void 0:o.libraryId,":").concat(e.asset._id),_type:"globalDocumentReference",_weak:!0}};return await (t={value:n,getClient:()=>S,path:[],schema:D,type:y,parent:O,i18n:T.i18n,environment:"studio",document:O,getDocumentExists:async()=>!0},(0,e_.lastValueFrom)(PN(t)))},[S,O,null==o?void 0:o.libraryId,D,y,T.i18n]),M=(0,E.useMemo)(()=>{var e,t;let n=[];return(null==y||null==(t=y.options)||null==(e=t.mediaLibrary)?void 0:e.filters)&&n.push(...y.options.mediaLibrary.filters.map(e=>({type:"groq",name:e.name,query:e.query,active:!0}))),n},[null==y||null==(n=y.options)||null==(t=n.mediaLibrary)?void 0:t.filters]),F=function(e,t){let n=euS(),r=eu_(),i=n.__internal.hosts.app,a=n.__internal.appBasePath,o=(0,nr.encodeJsonParams)(t);return"".concat(i).concat(a,"/").concat(null==r?void 0:r.organizationId,"/").concat(null==r?void 0:r.libraryId).concat(e,"?createPluginView=").concat(o)}("/assets",(0,E.useMemo)(()=>({selectionType:h,selectAssetTypes:["sanity.video"===g?"video":g],scheme:a?"dark":"light",auth:c,pluginFilters:M}),[h,g,a,c,M])),{onLinkAssets:R}=euj({schemaType:y}),N=(0,E.useCallback)(async()=>{try{k(!0);let e=await R([b[0]]);f(e),d()}catch(e){v.push({closable:!0,status:"error",id:"insert-asset-error",title:i("asset-source.dialog.insert-asset-error")}),console.error(e),k(!1)}},[b,R,f,d,v,i]),L=(0,E.useCallback)(()=>{d()},[d]),z=(0,E.useCallback)(async e=>{if(0===e.length)return void j([]);let t=await P(e[0]);t.some(e=>"error"===e.level)&&j(t)},[P]),{setIframe:V}=euE(s,(0,E.useCallback)(e=>{"assetSelection"===e.type&&(x(e.selection),z(e.selection))},[z]));return p?(0,_.jsx)(euT,{header:u,id:"media-library-plugin-dialog-select-assets",onClose:L,onClickOutside:L,open:!0,ref:m,"data-testid":"media-library-plugin-dialog-select-assets",width:3,footer:(0,_.jsx)(I.Card,{width:"full",height:"fill",padding:3,shadow:1,style:{position:"relative",minHeight:"2dvh"},children:(0,_.jsx)(I.Flex,{width:"full",gap:3,justify:"flex-end",children:(0,_.jsxs)(I.Flex,{width:"full",gap:2,justify:"flex-end",align:"center",children:[w.length>0&&(0,_.jsx)(HO,{fontSize:2,placement:"top",validation:w}),(0,_.jsx)(B.Button,{mode:"bleed",onClick:L,text:i("asset-source.dialog.button.cancel"),size:"large"}),(0,_.jsx)(B.Button,{onClick:N,loading:C,disabled:0===b.length||w.some(e=>"error"===e.level),text:i("asset-source.dialog.button.select"),size:"large",tone:"primary"})]})})}),children:(0,_.jsx)(I.Box,{style:{position:"absolute",inset:0,borderTop:"1px solid",borderColor:"var(--card-border-color)",overflow:"hidden",display:"flex"},children:(0,_.jsx)(euA,{ref:V,src:F})})}):null}let euP=function(e){let t,n,r,i,a,o,l,s=(0,j.c)(24),c=eu_(),{schemaType:u}=e;s[0]!==u?(t={schemaType:u},s[0]=u,s[1]=t):t=s[1];let{onLinkAssets:d}=euj(t),{open:p,onSelect:f,onClose:h,uploader:m}=e,g=euS(),y=euw(),v=(0,A.useToast)(),{t:b}=IO(),x=g.__internal.hosts.app,C=g.__internal.appBasePath,k="".concat(x).concat(C,"/plugin/v1/library/").concat(null==c?void 0:c.libraryId,"/upload?auth=").concat(y);s[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,E.createRef)(),s[2]=n):n=s[2];let w=n,[S,T]=(0,E.useState)(!1);s[3]!==h||s[4]!==d||s[5]!==f||s[6]!==b||s[7]!==v?(r=async e=>{try{let t=await d(e);f(t),h()}catch(e){v.push({closable:!0,status:"error",id:"insert-asset-error",title:b("asset-source.dialog.insert-asset-error")}),console.error(e)}},s[3]=h,s[4]=d,s[5]=f,s[6]=b,s[7]=v,s[8]=r):r=s[8];let D=r;s[9]!==D||s[10]!==p||s[11]!==m?(i=e=>{p&&("pageLoaded"===e.type&&"upload"===e.page&&T(!0),"pageUnloaded"===e.type&&"upload"===e.page&&T(!1),"uploadProgress"===e.type&&m&&e.files.forEach(e=>{let{id:t,status:n,progress:r,error:i}=e;m.updateFile(t,{status:n,progress:r,error:i})}),"uploadResponse"===e.type&&m&&D(e.assets))},s[9]=D,s[10]=p,s[11]=m,s[12]=i):i=s[12];let{postMessage:I,setIframe:O}=euE(x,i);return(s[13]!==p||s[14]!==S||s[15]!==I||s[16]!==b||s[17]!==v||s[18]!==m?(a=()=>{var e;return p&&m?(S&&m.getFiles().length>0&&m.getFiles().every(euM)&&(I({type:"uploadRequest",files:m.getFiles()}),T(!1)),w.current={uploader:m,unsubscribe:m.subscribe(e=>{"all-complete"===e.type&&e.files.filter(euF).forEach(e=>{v.push({status:"warning",title:b("asset-sources.media-library.warning.file-already-exist.title",{filename:e.file.name}),description:b("asset-sources.media-library.warning.file-already-exist.description"),closable:!0,duration:1e4})}),"status"===e.type&&"aborted"===e.status&&I({type:"abortUploadRequest",files:[{id:e.file.id}]})})},w.current.unsubscribe):null==(e=w.current)?void 0:e.unsubscribe()},o=[p,S,I,b,v,m,w],s[13]=p,s[14]=S,s[15]=I,s[16]=b,s[17]=v,s[18]=m,s[19]=a,s[20]=o):(a=s[19],o=s[20]),(0,E.useEffect)(a,o),p)?(s[21]!==k||s[22]!==O?(l=(0,_.jsx)(euA,{ref:O,src:k,hidden:!0}),s[21]=k,s[22]=O,s[23]=l):l=s[23],l):null};function euM(e){return"pending"===e.status}function euF(e){return"alreadyExists"===e.status}let euR=(0,E.memo)((0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u=(0,j.c)(31),{action:d,assetType:p,dialogHeaderTitle:f,libraryId:h,onClose:m,onSelect:g,schemaType:y,uploader:v}=e,b=void 0===d?"select":d,x=void 0===p?"image":p,{t:C}=IO();u[0]===Symbol.for("react.memo_cache_sentinel")?(n={apiVersion:"vX"},u[0]=n):n=u[0];let k=eTt(n);u[1]!==k?(r=k.config(),u[1]=k,u[2]=r):r=u[2];let w=r.projectId,S=euB();if(!w)throw Error("No projectId found");let E="upload"===b;u[3]!==m||u[4]!==g||u[5]!==y||u[6]!==E||u[7]!==v?(i=(0,_.jsx)(euP,{open:E,onClose:m,onSelect:g,schemaType:y,uploader:v}),u[3]=m,u[4]=g,u[5]=y,u[6]=E,u[7]=v,u[8]=i):i=u[8],u[9]!==x||u[10]!==f||u[11]!==(null==y?void 0:y.title)||u[12]!==C?(a=f||C("asset-sources.media-library.select-dialog.title",{assetType:x,targetTitle:null==y?void 0:y.title}),u[9]=x,u[10]=f,u[11]=null==y?void 0:y.title,u[12]=C,u[13]=a):a=u[13];let T="select"===b;return u[14]===Symbol.for("react.memo_cache_sentinel")?(o=[],u[14]=o):o=u[14],u[15]!==x||u[16]!==m||u[17]!==g||u[18]!==t||u[19]!==y||u[20]!==a||u[21]!==T?(l=(0,_.jsx)(euO,{dialogHeaderTitle:a,open:T,ref:t,onClose:m,onSelect:g,selection:o,schemaType:y,selectAssetType:x}),u[15]=x,u[16]=m,u[17]=g,u[18]=t,u[19]=y,u[20]=a,u[21]=T,u[22]=l):l=u[22],u[23]!==S||u[24]!==l?(s=(0,_.jsx)(I.PortalProvider,{element:S,children:l}),u[23]=S,u[24]=l,u[25]=s):s=u[25],u[26]!==h||u[27]!==w||u[28]!==s||u[29]!==i?(c=(0,_.jsxs)(I0,{projectId:w,libraryId:h,children:[i,s]}),u[26]=h,u[27]=w,u[28]=s,u[29]=i,u[30]=c):c=u[30],c})),euB=()=>{let e,t,n=(0,j.c)(3),[r]=(0,E.useState)(euN);return n[0]!==r?(e=()=>(r.classList.add("media-library-portal"),document.body.appendChild(r),()=>{document.body.removeChild(r)}),t=[r],n[0]=r,n[1]=e,n[2]=t):(e=n[1],t=n[2]),(0,E.useEffect)(e,t),r};function euN(){return document.createElement("div")}class euL{checkAllComplete(){this.files.length>0&&this.files.every(e=>["complete","error","aborted","alreadyExists"].includes(e.status))&&(this.files.some(e=>"error"===e.status)&&this.emit({type:"error",files:this.files.filter(e=>"error"===e.status)}),this.emit({type:"all-complete",files:this.files}),this.reset())}emit(e){this.subscribers.forEach(t=>t(e))}upload(e){for(let t of e){let e={id:(0,h6.uuid)(),file:t,progress:0,status:"pending"};this.files.push(e)}return this.files}abort(e){if(e){let t=this.files.find(t=>t.id===e.id);t&&["pending","uploading"].includes(t.status)&&this.updateFile(t.id,{status:"aborted"})}else for(let e of this.files)["pending","uploading"].includes(e.status)&&this.updateFile(e.id,{status:"aborted"});this.emit({type:"abort",files:this.files.filter(e=>"aborted"===e.status)}),this.checkAllComplete()}updateFile(e,t){let n=this.files.find(t=>t.id===e);n&&(t.error&&(n.error=t.error),t.progress&&t.progress!==n.progress&&(n.progress=t.progress,this.emit({type:"progress",file:n,progress:100*n.progress})),t.status&&t.status!==n.status&&(n.status=t.status,this.emit({type:"status",file:n,status:n.status}))),this.checkAllComplete()}subscribe(e){for(let t of(this.subscribers.add(e),this.files))e({type:"status",file:t,status:t.status}),e({type:"progress",file:t,progress:t.progress});return this.checkAllComplete(),()=>{this.subscribers.delete(e)}}getFiles(){return this.files}reset(){this.files=[]}constructor(){(0,k._)(this,"files",[]),(0,k._)(this,"subscribers",new Set)}}let euz="sanity-media-library";class euV extends Error{constructor({propertyName:e,path:t,cause:n}){super("An error occurred while resolving `".concat(e,"` from ").concat(t.join(" > ")).concat(Io(n)&&"string"==typeof(null==n?void 0:n.message)?": ".concat(n.message):"")),this.name="ConfigPropertyError",this.propertyName=e,this.cause=n,this.path=t}}class euU extends Error{constructor({causes:e,name:t,type:n}){super("Could not resolve ".concat(n).concat(t?" `".concat(t,"`"):"",":\n").concat(e.filter(Boolean).map(e=>Io(e)&&"string"==typeof(null==e?void 0:e.message)?e.message:String(e)).map(e=>"	- ".concat(e)).join("\n"),"\n\n")),this.name=t,this.causes=e,this.type=n}}function euH(e){return Math.abs(16807*e.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0)%0x7fffffff)/0x7fffffff}let euq=F.styled.text(Sa(),e=>{let{theme:t}=e;return t.sanity.fonts.text.family},e=>{let{theme:t}=e;return t.sanity.fonts.text.weights.medium},e=>{let{theme:t}=e;return t.sanity.fonts.text.sizes[1].fontSize});function euW(e){return e}let euY={delete:"delete",discardChanges:"discardChanges",discardVersion:"discardVersion",duplicate:"duplicate",restore:"restore",publish:"publish",unpublish:"unpublish",unpublishVersion:"unpublishVersion",linkToCanvas:"linkToCanvas",editInCanvas:"editInCanvas",unlinkFromCanvas:"unlinkFromCanvas",schedule:"schedule"},euK=e=>!!e.action&&void 0!==euY[e.action];function euG(e){return e}let eu$=(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.unstable_fieldActions;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof i))},euZ=[{name:"copyField",useAction(e){let{path:t}=e,n=U_(),{onCopy:r}=eS7(),{t:i}=IO("copy-paste"),a=0===t.length,o=i("copy-paste.field-action-copy-button.document.title"),l=i("copy-paste.field-action-copy-button.field.title"),s=a?o:l,c=(0,E.useCallback)(()=>{r(t,n([]),{context:{source:a?"documentFieldAction":"fieldAction"}})},[t,a,r,n]);return{type:"action",icon:R.CopyIcon,onAction:c,title:s}}},{name:"pasteField",useAction(e){let{path:t}=e,{t:n}=IO("copy-paste"),r=U_(),i=0===t.length,a=n("copy-paste.field-action-paste-button.document.title"),o=n("copy-paste.field-action-paste-button.field.title"),l=i?a:o,{onPaste:s}=eS7(),c=(0,E.useCallback)(()=>{s(t,r([]),{context:{source:i?"documentFieldAction":"fieldAction"}})},[r,s,t,i]);return{type:"action",icon:R.ClipboardIcon,onAction:c,title:l}}}],euX=eie({name:"sanity/deprecated/scheduled-publishing",studio:{components:{layout:function(e){let t,n,r,i=(0,j.c)(5),a=(0,A.useToast)();return i[0]!==a?(t=()=>{console.error("Scheduled publishing plugin is added by default, please remove this plugin from your config. \n        \nIf you have a custom date config, you can use the scheduledPublishing API to customize the date input.\n        \nSee: https://www.sanity.io/docs/scheduled-publishing.\n        "),a.push({id:"scheduled-publishing-deprecated",closable:!0,duration:6e4,status:"error",title:"Scheduled publishing plugin is deprecated",description:"The scheduled publishing plugin is now deprecated, you should remove the plugin from your configuration. If you have a custom date config, you can use the scheduledPublishing API to customize the date input. See: https://www.sanity.io/docs/scheduled-publishing."})},n=[a],i[0]=a,i[1]=t,i[2]=n):(t=i[1],n=i[2]),(0,E.useEffect)(t,n),i[3]!==e?(r=e.renderDefault(e),i[3]=e,i[4]=r):r=i[4],r}}}}),euJ=["scheduled-publishing"],euQ=(e,t)=>{let{plugins:n=[],...r}=e,i={config:r,path:[...t,r.name]},a=n.flatMap(e=>euQ(e,[...t,r.name])),o=a.find(e=>"scheduled-publishing"===e.config.name);return o&&a.push({path:o.path,config:euX()}),[...a.filter(e=>!euJ.includes(e.config.name)),i]},eu1=[],eu2=[],eu0=[],eu5=(e,t,n)=>{let{schema:r}=t,i=null==r?void 0:r.types;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `schema.types` to be an array or a function, but received ".concat(Bm(i)))},eu7=async(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.productionUrl;return i?await i(e,n):e},eu3=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if("function"==typeof r)return r(e,n);if(Array.isArray(r))return[...e,...r];throw Error("Expected `tools` to be an array or a function, but received ".concat(Bm(r)))},eu8=(e,t,n)=>{let{schema:r}=t,i=null==r?void 0:r.templates;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `schema.templates` to be an array or a function, but received ".concat(Bm(i)))},eu4=(e,t,n)=>{let{i18n:r}=t,i=null==r?void 0:r.locales;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `i18n.locales` to be an array or a function, but received ".concat(Bm(i)))},eu6=(e,t,n)=>{let{i18n:r}=t,i=null==r?void 0:r.bundles;if(!i)return e;if(Array.isArray(i))return[...e,...i];if("function"==typeof i)return i(e,n);throw Error("Expected `i18n.bundles` to be an array or a function, but received ".concat(typeof i))},eu9=(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.badges;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `document.badges` to be an array or a function, but received ".concat(Bm(i)))},ede=(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.actions;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `document.actions` to be an array or a function, but received ".concat(Bm(i)))},edt=(e,t,n)=>{let{releases:r}=t,i=null==r?void 0:r.actions;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `releases.actions` to be an array or a function, but received ".concat(Bm(i)))},edn=(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.newDocumentOptions;if(!i)return e;if("function"!=typeof i)throw Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Bm(i)));return i(e,n)},edr=(e,t,n)=>{var r;let{form:i}=t,a=null==i||null==(r=i.file)?void 0:r.assetSources;if(!a)return e;if("function"==typeof a)return a(e,n);if(Array.isArray(a))return[...e,...a];throw Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Bm(a)))},edi=e=>{let{config:t,schemaTypeName:n}=e;return euQ(t,[]).reduce((e,t)=>{var r,i;let{config:a}=t,o=null==(i=a.form)||null==(r=i[n])?void 0:r.directUploads;if(!o&&"boolean"!=typeof o)return e;if("boolean"==typeof o)return o;throw Error("Expected `form.".concat(n,".directUploads` to be a boolean, but received ").concat(Bm(o)))},!0)},eda=(e,t,n)=>{var r;let{form:i}=t,a=null==i||null==(r=i.image)?void 0:r.assetSources;if(!a)return e;if("function"==typeof a)return a(e,n);if(Array.isArray(a))return[...e,...a];throw Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Bm(a)))},edo=(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.unstable_languageFilter;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Bm(i)))},edl=(e,t,n)=>{let{document:r}=t,i=null==r?void 0:r.inspectors;if(!i)return e;if("function"==typeof i)return i(e,n);if(Array.isArray(i))return[...e,...i];throw Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Bm(i)))},eds=e=>{let{config:t,context:n,initialValue:r}=e;return euQ(t,[]).reduce((e,t)=>{var r,i,a,o,l;let{config:s}=t,c=null!=(l=null==(i=s.document)||null==(r=i.comments)?void 0:r.enabled)?l:null==(o=s.document)||null==(a=o.unstable_comments)?void 0:a.enabled;if(!c&&"boolean"!=typeof c)return e;if("function"==typeof c)return c(n);if("boolean"==typeof c)return c;throw Error("Expected `document.comments.enabled` to be a boolean or a function, but received ".concat(Bm(c)))},r)},edc=e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((t,n)=>{var r,i,a,o;let{config:l}=n;if(null==(i=l.beta)||null==(r=i.eventsAPI)?void 0:r.enabled)throw Error("The `beta.eventsAPI.enabled` option has been removed. Use `beta.eventsAPI.".concat(e.key,"` instead."));let s=null==(o=l.beta)||null==(a=o.eventsAPI)?void 0:a[e.key];if(typeof s>"u")return t;if("boolean"==typeof s)return s;throw Error("Expected `beta.eventsAPI.".concat(e.key,"` to be a boolean, but received ").concat(Bm(s)))},n)},edu=e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((e,t)=>{var n;let{config:r}=t,i=null==(n=r.mediaLibrary)?void 0:n.enabled;if(!i&&"boolean"!=typeof i)return e;if("boolean"==typeof i)return i;throw Error("Expected `mediaLibrary.enabled` to be a boolean, but received ".concat(Bm(i)))},n)},edd=e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((e,t)=>{var n;let{config:r}=t,i=null==(n=r.mediaLibrary)?void 0:n.libraryId;if(!i&&"string"!=typeof i)return e;if("string"==typeof i)return i;throw Error("Expected `mediaLibrary.libraryId` to be a string, but received ".concat(Bm(i)))},n)},edp=(e,t)=>{let{search:n}=t;return"u">typeof(null==n?void 0:n.enableLegacySearch)?n.enableLegacySearch:e},edf=(e,t)=>{var n,r,i,a;let{document:o}=t;if("boolean"==typeof(null==o||null==(n=o.drafts)?void 0:n.enabled))return null==o||null==(r=o.drafts)?void 0:r.enabled;if("u">typeof(null==o||null==(i=o.drafts)?void 0:i.enabled))throw Error("Expected boolean, but received ".concat(Bm(null==o||null==(a=o.drafts)?void 0:a.enabled)));return e},edh=(e,t,n)=>{let{advancedVersionControl:r}=t,i=null==r?void 0:r.enabled;if("boolean"==typeof i)return i;if("function"==typeof i)return i(e,n);if("u">typeof i)throw Error("Expected boolean, but received ".concat(Bm(i)));return e};function edm(e){let{config:t,context:n,initialValue:r,propertyName:i,...a}=e,o=euQ(t,[]);if("reducer"in a)return o.reduce((e,t)=>{let{config:r,path:o}=t;try{return a.reducer(e,r,n)}catch(e){throw new euV({propertyName:i,path:o,cause:e})}},r);let l=a.asyncReducer;return(async()=>{let e=r;for(let{config:t,path:r}of o)try{e=await l(e,t,n)}catch(e){throw new euV({propertyName:i,path:r,cause:e})}return e})()}async function edg(e){let t=await Promise.all(e.map(async e=>({...e,resources:await edy(e)}))),n={};for(let e of t){var r,i;let t=null==(r=e.deep)||r,a=null==(i=e.overwrite)||i;t?function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let i in n){if("__proto__"===i||"constructor"===i)continue;if(!(i in t)){t[i]=n[i];continue}let a=t[i],o=n[i],l=edv(a),s=edv(o);if((l||s)&&r){t[i]=n[i];continue}if(l||s)continue;let c=Array.isArray(o),u=Array.isArray(a);if(c||u){r&&(t[i]=o);continue}e(a,o,r)}return t}(n,e.resources,a):a?Object.assign(n,e.resources):Object.assign({},e.resources,n)}return n}async function edy(e){var t,n;return"function"!=typeof e.resources?e.resources:"default"in(n=t=await e.resources())&&"object"==typeof n.default&&(0,nE.default)(n.default)?t.default:t}function edv(e){return"string"==typeof e||e instanceof String}let edb={ns:[DK],defaultNS:DK,partialBundledLanguages:!0,fallbackLng:DG.id,lng:DG.id,debug:!!IT,load:"currentOnly",initImmediate:!0,interpolation:{escapeValue:!1},react:{bindI18nStore:"added"}};function edx(e){let{bundles:t,...n}=e;return n}let edC=[{fieldPath:"_updatedAt",icon:R.CalendarIcon,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Edited at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:R.CalendarIcon,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:R.LinkIcon,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:R.UlistIcon,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:R.UlistIcon,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:R.UlistIcon,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:R.CheckmarkCircleIcon,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:R.CalendarIcon,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:R.CalendarIcon,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:R.StringIcon,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:R.DocumentIcon,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:R.ImageIcon,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:R.NumberIcon,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:R.BlockContentIcon,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:R.LinkIcon,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:R.StringIcon,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:R.StringIcon,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:R.ChevronDownIcon,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:R.StringIcon,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:R.StringIcon,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function edk(e){let t,n,r,i=(0,j.c)(7);i[0]!==e?(t=void 0===e?{}:e,i[0]=e,i[1]=t):t=i[1];let a=t,o=IF().id;i[2]!==a?(n={unitDisplay:"long",...a,style:"unit"},i[2]=a,i[3]=n):n=i[3];let l=n;return i[4]!==o||i[5]!==l?(r=function(e,t){return IB.numberFormat(o,{...l,unit:t}).format(e)},i[4]=o,i[5]=l,i[6]=r):r=i[6],r}function edw(e){let t,n,r,i,a=(0,j.c)(12),{documentId:o,schemaType:l}=e,s=Fu();a[0]!==o||a[1]!==s||a[2]!==l?(t=eru(s,l,o),a[0]=o,a[1]=s,a[2]=l,a[3]=t):t=a[3];let c=t;a[4]===Symbol.for("react.memo_cache_sentinel")?(n={isLoading:!0,snapshot:null,original:null},a[4]=n):n=a[4];let{snapshot:u,original:d,isLoading:p}=(0,te.useObservable)(c,n);if(p){let e;return a[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.Skeleton,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}),a[5]=e):e=a[5],e}return a[6]!==o||a[7]!==(null==d?void 0:d.title)||a[8]!==(null==u?void 0:u.title)?(r=(null==u?void 0:u.title)||(null==d?void 0:d.title)||o.slice(0,8),a[6]=o,a[7]=null==d?void 0:d.title,a[8]=null==u?void 0:u.title,a[9]=r):r=a[9],a[10]!==r?(i=(0,_.jsx)(_.Fragment,{children:r}),a[10]=r,a[11]=i):i=a[11],i}function ed_(e){let t,n,r,i,a=(0,j.c)(8),{value:o}=e,l=o.includeTime?"short":void 0;a[0]!==l?(t={dateStyle:"medium",timeStyle:l},a[0]=l,a[1]=t):t=a[1];let s=Rs(t);if(a[2]!==s||a[3]!==o.date){r=Symbol.for("react.early_return_sentinel");e:{let e=(null==o?void 0:o.date)?new Date(o.date):null;if(!e||!(0,tC.isValid)(e)){r=null;break e}n=s.format(e)}a[2]=s,a[3]=o.date,a[4]=n,a[5]=r}else n=a[4],r=a[5];return r!==Symbol.for("react.early_return_sentinel")?r:(a[6]!==n?(i=(0,_.jsx)(_.Fragment,{children:n}),a[6]=n,a[7]=i):i=a[7],i)}function edj(e){let t,n,r=(0,j.c)(4),{value:i}=e,a=i.includeTime?"short":void 0;r[0]!==a?(t={dateStyle:"medium",timeStyle:a},r[0]=a,r[1]=t):t=r[1];let o=Rs(t),l=(null==i?void 0:i.from)?new Date(i.from):null,s=(null==i?void 0:i.to)?new Date(i.to):null;if(!s||!l||!(0,tC.isValid)(s)||!(0,tC.isValid)(l))return null;let c=o.format(l),u=o.format(s),d="".concat(c," → ").concat(u);return r[2]!==d?(n=(0,_.jsx)(_.Fragment,{children:d}),r[2]=d,r[3]=n):n=r[3],n}function edS(e){let t,n,r=(0,j.c)(6),{value:i}=e,a=el3(),o=i._ref;r[0]!==a||r[1]!==i._type?(t=a.get(i._type),r[0]=a,r[1]=i._type,r[2]=t):t=r[2];let l=t;return l?(r[3]!==o||r[4]!==l?(n=(0,_.jsx)(edw,{documentId:o,schemaType:l}),r[3]=o,r[4]=l,r[5]=n):n=r[5],n):null}function edE(e){let t,n,r,i=(0,j.c)(9),{value:a,onChange:o}=e,[l,s]=(0,E.useState)(null!=a?a:""),{state:c}=eaJ(),{fullscreen:u}=c,{t:d}=IO();i[0]!==o?(t=e=>{s(e.currentTarget.value);let t=parseFloat(e.currentTarget.value);o(Number.isFinite(t)?t:null)},i[0]=o,i[1]=t):t=i[1];let p=t,f=u?2:1;return i[2]!==d?(n=d("search.filter-number-value-placeholder"),i[2]=d,i[3]=n):n=i[3],i[4]!==p||i[5]!==f||i[6]!==n||i[7]!==l?(r=(0,_.jsx)(I.TextInput,{fontSize:f,onChange:p,placeholder:n,radius:2,step:"any",type:"number",value:l}),i[4]=p,i[5]=f,i[6]=n,i[7]=l,i[8]=r):r=i[8],r}function edT(e){var t,n;let r,i,a,o,l,s,c,u=(0,j.c)(23),{onChange:d,value:p}=e,[f,h]=(0,E.useState)(null!=(t=null==p?void 0:p.to)?t:""),[m,g]=(0,E.useState)(null!=(n=null==p?void 0:p.from)?n:""),{state:y}=eaJ(),{fullscreen:v}=y,{t:b}=IO();u[0]!==d||u[1]!==(null==p?void 0:p.from)?(r=e=>{var t;h(e.currentTarget.value);let n=parseFloat(e.currentTarget.value);d({to:Number.isFinite(n)?n:null,from:null!=(t=null==p?void 0:p.from)?t:null})},u[0]=d,u[1]=null==p?void 0:p.from,u[2]=r):r=u[2];let x=r;u[3]!==d||u[4]!==(null==p?void 0:p.to)?(i=e=>{var t;g(e.currentTarget.value);let n=parseFloat(e.currentTarget.value);d({to:null!=(t=null==p?void 0:p.to)?t:null,from:Number.isFinite(n)?n:null})},u[3]=d,u[4]=null==p?void 0:p.to,u[5]=i):i=u[5];let C=i,k=v?2:1;u[6]!==b?(a=b("search.filter-number-min-value-placeholder"),u[6]=b,u[7]=a):a=u[7],u[8]!==m||u[9]!==C||u[10]!==k||u[11]!==a?(o=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.TextInput,{fontSize:k,onChange:C,placeholder:a,radius:2,step:"any",type:"number",value:m})}),u[8]=m,u[9]=C,u[10]=k,u[11]=a,u[12]=o):o=u[12];let w=v?2:1;return u[13]!==b?(l=b("search.filter-number-max-value-placeholder"),u[13]=b,u[14]=l):l=u[14],u[15]!==x||u[16]!==w||u[17]!==l||u[18]!==f?(s=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.TextInput,{fontSize:w,onChange:x,placeholder:l,radius:2,step:"any",type:"number",value:f})}),u[15]=x,u[16]=w,u[17]=l,u[18]=f,u[19]=s):s=u[19],u[20]!==o||u[21]!==s?(c=(0,_.jsxs)(I.Flex,{gap:2,children:[o,s]}),u[20]=o,u[21]=s,u[22]=c):c=u[22],c}let edD=()=>!0,edI=(0,F.styled)(I.Text)(So()),edA=(0,E.forwardRef)(function(e,t){let{onSelect:n,types:r=[],value:i}=e,a=(0,E.useRef)(null),o=el3(),{state:{fullscreen:l}}=eaJ(),{t:s}=IO(),c=(0,E.useId)(),[u,d]=(0,E.useState)([]),{handleSearch:p,searchState:f}=elq({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:r}},onComplete:e=>{d(e.hits.map(e=>{let{hit:t}=e;return{value:t._id,hit:t}}))},schema:o}),h=(0,E.useCallback)(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:r}})},[p,r]),m=(0,E.useCallback)(e=>{p(e?{options:{limit:100},terms:{query:e||"",types:r}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:r}})},[p,r]),g=(0,E.useCallback)(e=>{var t;let r=null==(t=u.find(t=>t.value===e))?void 0:t.hit;r&&(null==n||n({_ref:(0,th.getPublishedId)(r._id),_type:r._type}))},[u,n]),y=(0,E.useMemo)(()=>{if(0===r.length)return s("search.action.search-all-types");let{remainingCount:e,types:t}=eoS({types:r});return s(e>0?"search.action.search-specific-types-truncated":"search.action.search-specific-types",{count:e,types:t,formatParams:{types:{style:"short",type:"unit"}}})},[r,s]),v=(0,E.useCallback)(e=>(0,_.jsx)(elO,{disableIntentLink:!0,documentId:e.value,documentType:e.hit._type,layout:"compact"}),[]),b=(0,E.useCallback)((e,t)=>{let{content:n,hidden:r,onMouseEnter:i,onMouseLeave:o}=e,l=u&&u.length>0;return(0,_.jsx)(B.Popover,{constrainSize:!0,content:(0,_.jsx)("div",{ref:t,children:l?n:f.terms.query&&(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",children:(0,_.jsx)(edI,{align:"center",muted:!0,children:(0,_.jsx)(IZ,{t:s,i18nKey:"new-document.no-results",values:{searchQuery:f.terms.query}})})})})}),fallbackPlacements:["bottom","bottom-end"],matchReferenceWidth:!0,onMouseEnter:i,onMouseLeave:o,open:!f.loading&&!r,overflow:"auto",placement:"bottom-start",radius:3,referenceElement:a.current})},[u,f.loading,f.terms.query,s]);return(0,_.jsx)("div",{ref:a,children:(0,_.jsx)(A.Autocomplete,{"aria-label":y,filterOption:edD,fontSize:l?2:1,id:c,loading:f.loading,openButton:{onClick:h},options:u,onQueryChange:m,onSelect:g,placeholder:y,radius:2,ref:t,renderOption:v,renderPopover:b,value:null==i?void 0:i._ref})})});function edO(e){let t,n,r,i,a,o,l=(0,j.c)(25),{fieldDefinition:s,onChange:c,value:u}=e,{onClose:d,state:p}=eaJ(),{documentTypesNarrowed:f}=p,h=el3(),{t:m}=IO();l[0]!==c?(t=e=>c(e),l[0]=c,l[1]=t):t=l[1];let g=t;e:{let e;if(!s){let e;l[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],l[2]=e):e=l[2],n=e;break e}if(l[3]!==f||l[4]!==s.documentTypes||l[5]!==s.fieldPath||l[6]!==h){let t,n;l[8]!==f?(t=e=>f.includes(e),l[8]=f,l[9]=t):t=l[9],l[10]!==s.fieldPath||l[11]!==h?(n=e=>{let t=h.get(e);if(t){let e=eov(t,s.fieldPath);if((0,W.isArraySchemaType)(null==e?void 0:e.type))return null==e?void 0:e.type.of.filter(W.isReferenceSchemaType).flatMap(edM);if((0,W.isReferenceSchemaType)(null==e?void 0:e.type))return null==e?void 0:e.type.to}return[]},l[10]=s.fieldPath,l[11]=h,l[12]=n):n=l[12],e=s.documentTypes.filter(t).flatMap(n).reduce(edP,[]),l[3]=f,l[4]=s.documentTypes,l[5]=s.fieldPath,l[6]=h,l[7]=e}else e=l[7];n=e}let y=n;l[13]!==g?(r=()=>g(null),l[13]=g,l[14]=r):r=l[14];let v=r;l[15]!==d?(i=()=>{null==d||d()},l[15]=d,l[16]=i):i=l[16];let b=i;return l[17]===Symbol.for("react.memo_cache_sentinel")?(a={width:"min(calc(100vw - 40px), 420px)"},l[17]=a):a=l[17],l[18]!==g||l[19]!==v||l[20]!==b||l[21]!==y||l[22]!==m||l[23]!==u?(o=(0,_.jsx)(I.Box,{style:a,children:(null==u?void 0:u._ref)&&(null==u?void 0:u._type)?(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Card,{padding:1,radius:1,shadow:1,children:(0,_.jsx)(elO,{documentId:u._ref,documentType:u._type,layout:"compact",onClick:b})}),(0,_.jsx)(B.Button,{mode:"ghost",onClick:v,text:m("search.filter-reference-clear"),tone:"critical"})]}):(0,_.jsx)(edA,{onSelect:g,types:y,value:u})}),l[18]=g,l[19]=v,l[20]=b,l[21]=y,l[22]=m,l[23]=u,l[24]=o):o=l[24],o}function edP(e,t){return 0>e.findIndex(e=>e.name===(null==t?void 0:t.name))&&e.push(t),e}function edM(e){return e.to}function edF(e){let t,n,r=(0,j.c)(7),{onClick:i,selected:a,title:o,value:l}=e;r[0]!==i||r[1]!==l?(t=()=>i(l),r[0]=i,r[1]=l,r[2]=t):t=r[2];let s=t,c="".concat(o);return"u">typeof l&&o!==l&&(c+=" (".concat(l,")")),r[3]!==s||r[4]!==c||r[5]!==a?(n=(0,_.jsx)(B.MenuItem,{onClick:s,pressed:a,tone:"default",text:c}),r[3]=s,r[4]=c,r[5]=a,r[6]=n):n=r[6],n}function edR(e){let{fieldDefinition:t,onChange:n,value:r}=e,i=(0,E.useId)(),{state:{documentTypesNarrowed:a}}=eaJ(),{t:o}=IO(),l=el3(),s=(0,E.useMemo)(()=>t?t.documentTypes.filter(e=>a.includes(e)).map(e=>{var n;let r=l.get(e);return r?null==(n=eov(r,t.fieldPath))?void 0:n.type.options:null}).filter(D2).map(e=>e.list).flatMap(e=>null==e?void 0:e.map(e=>{var t;return t=e,(0,W.isTitledListValue)(t)?t:{title:(0,nT.default)("".concat(t)),value:t}})).filter(D2).reduce((e,t)=>{let n=e.findIndex(e=>e.value===(null==t?void 0:t.value));if(n>-1){let r=e[n];e[n]={...e[n],title:(0,nC.default)([...r.title,t.title]).sort()}}else e.push({...t,title:[t.title]});return e},[]):[],[a,t,l]),c=(0,E.useCallback)(e=>{n(e)},[n]);return(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{mode:"ghost",iconRight:R.ChevronDownIcon,text:r?String(r):o("search.filter-string-value-select-predefined-value")}),id:i||"",menu:(0,_.jsx)(I.Menu,{children:s.map((e,t)=>(0,_.jsx)(edF,{onClick:c,selected:e.value===r,title:e.title.join(", "),value:e.value||""},t))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}let edB=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),t[0]=e):e=t[0],e},edN=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),t[0]=e):e=t[0],e},edL=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),t[0]=e):e=t[0],e},edz=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})}),t[0]=e):e=t[0],e};function edV(e){return JSON.stringify(e)}function edU(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(20),{t:d}=IO();return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(eiD,{tone:"caution",children:(0,_.jsx)(R.WarningOutlineIcon,{})}),u[0]=t):t=u[0],u[1]!==d?(n=d("search.error.no-valid-asset-source-title"),u[1]=d,u[2]=n):n=u[2],u[3]!==n?(r=(0,_.jsx)(eiD,{size:1,tone:"caution",weight:"medium",children:n}),u[3]=n,u[4]=r):r=u[4],u[5]!==d?(i=d("search.error.no-valid-asset-source-only-default-description"),u[5]=d,u[6]=i):i=u[6],u[7]!==i?(a=(0,_.jsx)(eiD,{size:1,tone:"caution",children:i}),u[7]=i,u[8]=a):a=u[8],u[9]!==d?(o=d("search.error.no-valid-asset-source-check-config-description"),u[9]=d,u[10]=o):o=u[10],u[11]!==o?(l=(0,_.jsx)(eiD,{size:1,tone:"caution",children:o}),u[11]=o,u[12]=l):l=u[12],u[13]!==r||u[14]!==a||u[15]!==l?(s=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:3,children:[t,(0,_.jsxs)(I.Stack,{space:4,children:[r,a,l]})]}),u[13]=r,u[14]=a,u[15]=l,u[16]=s):s=u[16],u[17]!==e||u[18]!==s?(c=(0,_.jsx)(I.Box,{...e,children:s}),u[17]=e,u[18]=s,u[19]=c):c=u[19],c}function edH(e){let t,n,r,i=(0,j.c)(6),{reference:a}=e,o=Fu();i[0]!==o?(t=e=>U1(o,e),i[0]=o,i[1]=t):t=i[1];let l=t;return i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(edY,{}),i[2]=n):n=i[2],i[3]!==l||i[4]!==a?(r=(0,_.jsx)(Q5,{observeAsset:l,reference:a,waitPlaceholder:n,children:edq}),i[3]=l,i[4]=a,i[5]=r):r=i[5],r}function edq(e){return(0,_.jsx)(edW,{asset:e})}function edW(e){let t,n,r,i,a,o=(0,j.c)(10),{asset:l}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Card,{padding:3,radius:1,shadow:1,tone:"transparent",children:(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.BinaryDocumentIcon,{})})}),o[0]=t):t=o[0];let s=(null==l?void 0:l.originalFilename)||l._id;return o[1]!==s?(n=(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:s}),o[1]=s,o[2]=n):n=o[2],o[3]!==l.size?(r=Q4(l.size),o[3]=l.size,o[4]=r):r=o[4],o[5]!==r?(i=(0,_.jsx)(I.Text,{size:1,muted:!0,children:r}),o[5]=r,o[6]=i):i=o[6],o[7]!==n||o[8]!==i?(a=(0,_.jsx)(I.Card,{padding:2,shadow:1,children:(0,_.jsxs)(I.Flex,{align:"center",justify:"space-between",wrap:"nowrap",children:[t,(0,_.jsxs)(I.Stack,{flex:1,space:2,marginLeft:3,children:[n,i]})]})}),o[7]=n,o[8]=i,o[9]=a):a=o[9],a}function edY(){let e,t,n,r=(0,j.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Card,{padding:3,radius:1,shadow:1,tone:"transparent",children:(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.BinaryDocumentIcon,{})})}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(A.TextSkeleton,{animated:!0,style:{width:"100%"},radius:1}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Card,{padding:2,shadow:1,children:(0,_.jsxs)(I.Flex,{align:"center",justify:"flex-start",children:[e,(0,_.jsxs)(I.Stack,{flex:1,space:2,marginLeft:3,children:[t,(0,_.jsx)(A.TextSkeleton,{animated:!0,style:{width:"100%"},radius:1})]})]})}),r[2]=n):n=r[2],n}let edK=(0,F.styled)(I.Card)(Sl()),edG=F.styled.img(Ss());function ed$(e){let t,n,r=(0,j.c)(5),{reference:i}=e,a=Fu();r[0]!==a?(t=e=>U1(a,e),r[0]=a,r[1]=t):t=r[1];let o=t;return r[2]!==o||r[3]!==i?(n=(0,_.jsx)(Q5,{observeAsset:o,reference:i,children:edZ}),r[2]=o,r[3]=i,r[4]=n):n=r[4],n}function edZ(e){return(0,_.jsx)(edX,{asset:e})}function edX(e){let t,n,r,i,a=(0,j.c)(8),{asset:o}=e,[l,s]=(0,E.useState)(!1),c="".concat(o.url,"?h=800&fit=max");a[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>s(!0),a[0]=t):t=a[0];let u=t;return a[1]!==l?(n=!l&&(0,_.jsx)(DU,{fill:!0,showText:!0}),a[1]=l,a[2]=n):n=a[2],a[3]!==c?(r=(0,_.jsx)(edG,{onLoad:u,src:c}),a[3]=c,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsxs)(edK,{__unstable_checkered:!0,border:!0,children:[n,r]}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i}function edJ(e){let t=(0,j.c)(4),{reference:n}=e;if(!n)return null;if(n._type.startsWith("sanity.fileAsset")){let e;return t[0]!==n?(e=(0,_.jsx)(edH,{reference:n}),t[0]=n,t[1]=e):e=t[1],e}if(n._type.startsWith("sanity.imageAsset")){let e;return t[2]!==n?(e=(0,_.jsx)(ed$,{reference:n}),t[2]=n,t[3]=e):e=t[3],e}return null}let edQ={file:"sanity.fileAsset",image:"sanity.imageAsset"},ed1=(0,F.styled)(I.Box)(Sc());function ed2(e){return function(t){let{onChange:n,value:r}=t,[i,a]=(0,E.useState)(null),[o,l]=(0,E.useState)(null);eaJ();let{file:s,image:c}=eii().form,{t:u}=IO(),d=(0,E.useMemo)(()=>{switch(e){case"file":return s.assetSources.filter(e=>e.name===QR);case"image":return c.assetSources.filter(e=>e.name===QR);default:throw Error("Unknown asset source found")}},[s.assetSources,c.assetSources]),p=(0,E.useId)(),f=eTt(AE),h=(0,E.useCallback)(()=>{l(null),n(null)},[n]),m=(0,E.useCallback)(()=>{a(null)},[]),g=(0,E.useCallback)(e=>{l(e[0]),m()},[m]),y=(0,E.useCallback)(e=>a(e),[]);(0,E.useEffect)(()=>{(null==o?void 0:o.kind)==="assetDocumentId"&&"string"==typeof(null==o?void 0:o.value)&&e&&n({_ref:o.value,_type:edQ[e]})},[f,n,o]);let v=null==i?void 0:i.component,b=u(r?"search.filter-asset-change":"search.filter-asset-select",{context:e}),x=(0,n_.default)(e,"options.accept","image"===e?"image/*":"");return(0,_.jsx)(ed1,{children:(0,_.jsxs)(I.Stack,{space:3,children:[i&&v&&(0,_.jsx)(I.Portal,{children:(0,_.jsx)(v,{assetType:e,assetSource:i,dialogHeaderTitle:u("search.action.select-asset",{context:e}),onClose:m,onSelect:g,selectedAssets:[],selectionType:"single",accept:x})}),r&&(0,_.jsx)(edJ,{reference:r}),(0,_.jsxs)(I.Flex,{gap:2,children:[0===d.length&&(0,_.jsx)(edU,{padding:2}),d.length>0&&(0,_.jsx)(_.Fragment,{children:d.length>1?(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{icon:r?R.UndoIcon:R.SearchIcon,iconRight:R.ChevronDownIcon,mode:"ghost",width:r?"fill":void 0,text:b}),id:p,menu:(0,_.jsx)(I.Menu,{children:d.map(e=>(0,_.jsx)(B.MenuItem,{icon:e.icon||R.ImageIcon,onClick:()=>y(e),text:(e.i18nKey?u(e.i18nKey):e.title)||(0,ti.default)(e.name)},e.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):(0,_.jsx)(B.Button,{icon:r?R.UndoIcon:R.SearchIcon,mode:"ghost",onClick:()=>y(d[0]),width:r?"fill":void 0,text:b})}),r&&(0,_.jsx)(B.Button,{mode:"ghost",onClick:h,width:"fill",text:u("search.filter-asset-clear"),tone:"critical"})]})]})})}}let ed0={assetFileEqual:{nameKey:"search.operator.asset-file-equal.name",descriptionKey:"search.operator.asset-file-equal.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(t,".asset._ref == ").concat(edV(n._ref)):null},initialValue:null,inputComponent:ed2("file"),type:"assetFileEqual"},assetFileNotEqual:{nameKey:"search.operator.asset-file-not-equal.name",descriptionKey:"search.operator.asset-file-not-equal.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(t,".asset._ref != ").concat(edV(n._ref)):null},initialValue:null,inputComponent:ed2("file"),type:"assetFileNotEqual"},assetImageEqual:{nameKey:"search.operator.asset-image-equal.name",descriptionKey:"search.operator.asset-image-equal.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(t,".asset._ref == ").concat(edV(n._ref)):null},initialValue:null,inputComponent:ed2("image"),type:"assetImageEqual"},assetImageNotEqual:{nameKey:"search.operator.asset-image-not-equal.name",descriptionKey:"search.operator.asset-image-not-equal.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(t,".asset._ref != ").concat(edV(n._ref)):null},initialValue:null,inputComponent:ed2("image"),type:"assetImageNotEqual"}},ed5=(0,F.styled)(I.Text)(Su());function ed7(e){let t,n,r,i,a,o=(0,j.c)(14),{onChange:l,value:s}=e,{t:c}=IO();return o[0]!==c?(t=c("calendar.action.include-time-label"),o[0]=c,o[1]=t):t=o[1],o[2]!==l||o[3]!==t?(n=(0,_.jsx)(I.Stack,{children:(0,_.jsx)(ed5,{muted:!0,onClick:l,size:1,weight:"medium",children:t})}),o[2]=l,o[3]=t,o[4]=n):n=o[4],o[5]!==c?(r=c("calendar.action.include-time-label"),o[5]=c,o[6]=r):r=o[6],o[7]!==l||o[8]!==r||o[9]!==s?(i=(0,_.jsx)(I.Switch,{checked:s,label:r,onChange:l}),o[7]=l,o[8]=r,o[9]=s,o[10]=i):i=o[10],o[11]!==n||o[12]!==i?(a=(0,_.jsxs)(I.Flex,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[n,i]}),o[11]=n,o[12]=i,o[13]=a):a=o[13],a}function ed3(){let e=(0,E.useContext)(D.CalendarContext);if(void 0===e)throw Error("useCalendar must be used within an CalendarContext.Provider");return e}function ed8(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(39),{t:v}=IO();y[0]===Symbol.for("react.memo_cache_sentinel")?(t={month:"long",year:"numeric"},y[0]=t):t=y[0];let b=Rs(t),{focusedDate:x}=ed3(),{moveFocusedDate:C,onNowClick:k}=e;y[1]!==C?(n=()=>C(-1),y[1]=C,y[2]=n):n=y[2];let w=n;y[3]!==C?(r=()=>C(1),y[3]=C,y[4]=r):r=y[4];let S=r;return y[5]!==x||y[6]!==b?(i=(0,bE.default)(b.format(x)),y[5]=x,y[6]=b,y[7]=i):i=y[7],y[8]!==i?(a=(0,_.jsx)(I.Inline,{paddingLeft:2,space:1,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:i})}),y[8]=i,y[9]=a):a=y[9],y[10]!==v?(o=v("calendar.action.go-to-today-aria-label"),y[10]=v,y[11]=o):o=y[11],y[12]!==v?(l=v("calendar.action.go-to-today"),y[12]=v,y[13]=l):l=y[13],y[14]!==k||y[15]!==o||y[16]!==l?(s=(0,_.jsx)(B.Button,{"aria-label":o,mode:"bleed",onClick:k,text:l}),y[14]=k,y[15]=o,y[16]=l,y[17]=s):s=y[17],y[18]!==v?(c=v("calendar.action.go-to-previous-month"),y[18]=v,y[19]=c):c=y[19],y[20]!==c?(u={content:c},y[20]=c,y[21]=u):u=y[21],y[22]!==w||y[23]!==u?(d=(0,_.jsx)(B.Button,{icon:R.ChevronLeftIcon,mode:"bleed",onClick:w,tooltipProps:u}),y[22]=w,y[23]=u,y[24]=d):d=y[24],y[25]!==v?(p=v("calendar.action.go-to-next-month"),y[25]=v,y[26]=p):p=y[26],y[27]!==p?(f={content:p},y[27]=p,y[28]=f):f=y[28],y[29]!==S||y[30]!==f?(h=(0,_.jsx)(B.Button,{icon:R.ChevronRightIcon,mode:"bleed",onClick:S,tooltipProps:f}),y[29]=S,y[30]=f,y[31]=h):h=y[31],y[32]!==d||y[33]!==h||y[34]!==s?(m=(0,_.jsxs)(I.Flex,{align:"center",children:[s,d,h]}),y[32]=d,y[33]=h,y[34]=s,y[35]=m):m=y[35],y[36]!==m||y[37]!==a?(g=(0,_.jsxs)(I.Flex,{align:"center",flex:1,justify:"space-between",children:[a,m]}),y[36]=m,y[37]=a,y[38]=g):g=y[38],g}let ed4=F.styled.svg(e=>{let{theme:t}=e;return(0,F.css)(Sd(),t.sanity.color.card.enabled.border)}),ed6=(0,F.styled)(I.Card)(Sp());function ed9(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(38),{date:p,onSelect:f}=e;d[0]!==p||d[1]!==f?(t=()=>{f(p)},d[0]=p,d[1]=f,d[2]=t):t=d[2];let h=t,{date:m,endDate:g,focusedDate:y,selectRange:v}=ed3();d[3]!==p||d[4]!==m?(n=m&&(0,tR.isSameDay)(p,m),d[3]=p,d[4]=m,d[5]=n):n=d[5];let b=n;d[6]!==p||d[7]!==v||d[8]!==m?(r=v&&m&&(0,tR.isSameDay)(p,m),d[6]=p,d[7]=v,d[8]=m,d[9]=r):r=d[9];let x=r;d[10]!==p||d[11]!==v||d[12]!==g?(i=v&&g&&(0,tR.isSameDay)(p,g),d[10]=p,d[11]=v,d[12]=g,d[13]=i):i=d[13];let C=i,k=(0,tB.isSameMonth)(p,y),w=y&&(0,tR.isSameDay)(p,y);d[14]!==p?(a=(0,tR.isSameDay)(p,new Date),d[14]=p,d[15]=a):a=d[15];let S=a,E=m&&g&&!x&&!C&&(0,t1.isAfter)(p,m)&&(0,tK.isBefore)(p,g);d[16]!==p?(o=p.toDateString(),d[16]=p,d[17]=o):o=d[17];let T=!!C||void 0,D=w?"true":"",A=!!x||void 0,O=!!E||void 0,P=b||x||C,M=E?"primary":"default";d[18]!==S?(l=S&&(0,_.jsx)(ed4,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:(0,_.jsx)("circle",{cx:"50",cy:"50",r:"40%"})}),d[18]=S,d[19]=l):l=d[19];let F=!b&&!k,R=k?"medium":"regular";return d[20]!==p?(s=p.getDate(),d[20]=p,d[21]=s):s=d[21],d[22]!==F||d[23]!==R||d[24]!==s?(c=(0,_.jsx)(I.Text,{align:"center",muted:F,size:1,weight:R,children:s}),d[22]=F,d[23]=R,d[24]=s,d[25]=c):c=d[25],d[26]!==h||d[27]!==b||d[28]!==O||d[29]!==P||d[30]!==M||d[31]!==l||d[32]!==c||d[33]!==o||d[34]!==T||d[35]!==D||d[36]!==A?(u=(0,_.jsxs)(ed6,{__unstable_focusRing:!0,"aria-label":o,"aria-pressed":b,"data-end-date":T,"data-focused":D,"data-ui":"CalendarDay","aria-selected":b,"data-start-date":A,"data-within-range":O,forwardedAs:"button",onClick:h,paddingX:3,paddingY:2,radius:2,role:"button",selected:P,tabIndex:-1,tone:M,children:[l,c]}),d[26]=h,d[27]=b,d[28]=O,d[29]=P,d[30]=M,d[31]=l,d[32]=c,d[33]=o,d[34]=T,d[35]=D,d[36]=A,d[37]=u):u=d[37],u}let epe=["calendar.weekday-names.short.monday","calendar.weekday-names.short.tuesday","calendar.weekday-names.short.wednesday","calendar.weekday-names.short.thursday","calendar.weekday-names.short.friday","calendar.weekday-names.short.saturday","calendar.weekday-names.short.sunday"];(0,mU.default)(0,24);let ept=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],epn=[1,2,3,4,5,6];function epr(e){return{number:(0,tF.getWeek)(e[0]),days:e}}let epi={1:epe,6:[...epe.slice(5),...epe.slice(0,5)],7:[epe[6],...epe.slice(0,6)]},epa=(0,F.styled)(I.Grid)(Sf());function epo(e){let t,n,r,i,a=(0,j.c)(16),{hidden:o,onSelect:l}=e,{focusedDate:s,firstWeekDay:c}=ed3(),{t:u}=IO(),d=o||!1,p=epi[c];if(a[0]!==u||a[1]!==p){let e;a[3]!==u?(e=e=>(0,_.jsx)(I.Box,{paddingBottom:3,paddingTop:2,children:(0,_.jsx)(I.Text,{align:"center",size:1,weight:"medium",children:u(e)})},e),a[3]=u,a[4]=e):e=a[4],t=p.map(e),a[0]=u,a[1]=p,a[2]=t}else t=a[2];let f=(e=>{let t,n=(0,j.c)(3),{weekInfo:r}=IF();return n[0]!==e||n[1]!==r.firstDay?(t=((e,t)=>{let n=(0,tO.startOfMonth)(e);return(0,tP.eachWeekOfInterval)({start:n,end:(0,tM.lastDayOfMonth)(n)},{weekStartsOn:7===t?0:t})})(e,r.firstDay).map(e=>[e,...epn.map(t=>(0,tA.addDays)(e,t))]).map(epr),n[0]=e,n[1]=r.firstDay,n[2]=t):t=n[2],t})(s);if(a[5]!==l||a[6]!==f){let e;a[8]!==l?(e=(e,t)=>e.days.map((e,n)=>(0,_.jsx)(ed9,{date:e,onSelect:l},"".concat(t,"-").concat(n))),a[8]=l,a[9]=e):e=a[9],n=f.map(e),a[5]=l,a[6]=f,a[7]=n}else n=a[7];return a[10]!==t||a[11]!==n?(r=(0,_.jsxs)(epa,{gapY:1,children:[t,n]}),a[10]=t,a[11]=n,a[12]=r):r=a[12],a[13]!==d||a[14]!==r?(i=(0,_.jsx)(I.Box,{"aria-hidden":d,"data-ui":"CalendarMonth",children:r}),a[13]=d,a[14]=r,a[15]=i):i=a[15],i}let epl=(0,_.jsx)("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function eps(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(53),{date:x,endDate:C,onSelect:k,selectRange:w,selectTime:S}=e,[T,A]=(0,E.useState)(null),[O,P]=(0,E.useState)(!1);b[0]!==x?(t=x||new Date,b[0]=x,b[1]=t):t=b[1];let[M,F]=(0,E.useState)(t),R=(0,E.useRef)(x||null),B=(0,E.useRef)(C||null),{weekInfo:N}=IF(),{firstDay:L}=N;b[2]!==T?(n=()=>{var e;null==T||null==(e=T.querySelector('[data-focused="true"]'))||e.focus()},b[2]=T,b[3]=n):n=b[3];let z=n;b[4]!==x||b[5]!==C||b[6]!==k||b[7]!==O||b[8]!==w?(r=e=>{let t=(0,t2.set)(e,{hours:e.getHours(),minutes:e.getMinutes(),seconds:0,milliseconds:0}),n=x&&(0,tK.isBefore)(t,x),r=C&&(0,t1.isAfter)(t,C);if(w){if(n||r)return void k({date:t,endDate:null});k(O?{date:x||null,endDate:t}:{date:t,endDate:x?null:C||null})}else k({date:t})},b[4]=x,b[5]=C,b[6]=k,b[7]=O,b[8]=w,b[9]=r):r=b[9];let V=r;b[10]!==k||b[11]!==w?(i=()=>{let e=new Date;w?F(e):k({date:e})},b[10]=k,b[11]=w,b[12]=i):i=b[12];let U=i;b[13]!==T||b[14]!==z||b[15]!==M?(a=e=>{if(ept.includes(e.key)){var t;if(e.preventDefault(),e.target.hasAttribute("data-calendar-grid"))return void z();"ArrowUp"===e.key&&F((0,tA.addDays)(M,-7)),"ArrowDown"===e.key&&F((0,tA.addDays)(M,7)),"ArrowLeft"===e.key&&F((0,tA.addDays)(M,-1)),"ArrowRight"===e.key&&F((0,tA.addDays)(M,1)),null==T||null==(t=T.querySelector("[data-preserve-focus]"))||t.focus()}},b[13]=T,b[14]=z,b[15]=M,b[16]=a):a=b[16];let H=a;b[17]!==M?(o=e=>F((0,tz.addMonths)(M,e)),b[17]=M,b[18]=o):o=b[18];let q=o;b[19]!==z?(l=()=>{z()},s=[z],b[19]=z,b[20]=l,b[21]=s):(l=b[20],s=b[21]),(0,E.useEffect)(l,s),b[22]!==z?(c=()=>{var e;(null==(e=document.activeElement)?void 0:e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&z()},b[22]=z,b[23]=c):c=b[23],b[24]!==z||b[25]!==M?(u=[z,M],b[24]=z,b[25]=M,b[26]=u):u=b[26],(0,E.useEffect)(c,u),b[27]!==x||b[28]!==C||b[29]!==k?(d=()=>{var e,t;let n=(null==x?void 0:x.getTime())!==(null==(e=R.current)?void 0:e.getTime()),r=(null==C?void 0:C.getTime())!==(null==(t=B.current)?void 0:t.getTime()),i=x&&C&&(0,t1.isAfter)(x,C);n&&!r&&(i&&(P(!0),k({date:x,endDate:null})),P(!!x),x&&F(x)),!n&&r&&(i&&(P(!0),k({date:C,endDate:null})),P(!!x&&!C),C&&F(C)),n&&r&&(P(!0),x&&F(x)),R.current=x||null,B.current=C||null},p=[x,C,k],b[27]=x,b[28]=C,b[29]=k,b[30]=d,b[31]=p):(d=b[30],p=b[31]),(0,E.useEffect)(d,p),b[32]!==x||b[33]!==C||b[34]!==L||b[35]!==M||b[36]!==w||b[37]!==S?(f={date:x,endDate:C,focusedDate:M,selectRange:w,selectTime:S,firstWeekDay:L},b[32]=x,b[33]=C,b[34]=L,b[35]=M,b[36]=w,b[37]=S,b[38]=f):f=b[38];let W=f;return b[39]!==U||b[40]!==q?(h=(0,_.jsx)(I.Flex,{children:(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(ed8,{moveFocusedDate:q,onNowClick:U})})}),b[39]=U,b[40]=q,b[41]=h):h=b[41],b[42]!==V?(m=(0,_.jsx)(epo,{onSelect:V}),b[42]=V,b[43]=m):m=b[43],b[44]!==H||b[45]!==m?(g=(0,_.jsxs)(I.Box,{"data-calendar-grid":!0,onKeyDown:H,marginTop:2,overflow:"hidden",tabIndex:0,children:[m,epl]}),b[44]=H,b[45]=m,b[46]=g):g=b[46],b[47]!==h||b[48]!==g?(y=(0,_.jsxs)(I.Box,{"data-ui":"Calendar",ref:A,children:[h,g]}),b[47]=h,b[48]=g,b[49]=y):y=b[49],b[50]!==y||b[51]!==W?(v=(0,_.jsx)(D.CalendarContext.Provider,{value:W,children:y}),b[50]=y,b[51]=W,b[52]=v):v=b[52],v}function epc(e){let t,n,r=(0,j.c)(8),{date:i,endDate:a,onChange:o,selectRange:l,selectTime:s}=e;r[0]!==o?(t=e=>{o(e)},r[0]=o,r[1]=t):t=r[1];let c=t;return r[2]!==i||r[3]!==a||r[4]!==c||r[5]!==l||r[6]!==s?(n=(0,_.jsx)(eps,{date:i,endDate:a,onSelect:c,selectRange:l,selectTime:s}),r[2]=i,r[3]=a,r[4]=c,r[5]=l,r[6]=s,r[7]=n):n=r[7],n}function epu(e){let t,{date:n,dateOnly:r,roundDay:i}=e;switch(i){case"end":t=(0,tQ.endOfDay)(n);break;case"start":t=(0,tJ.startOfDay)(n);break;default:t=n}return r?t.toISOString().split("T")[0]:t.toISOString()}let epd={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}};function epp(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x=(0,j.c)(53);x[0]!==e?({isDateTime:t,onChange:r,placeholderDate:i,isDateTimeFormat:n,value:o,...a}=e,x[0]=e,x[1]=t,x[2]=n,x[3]=r,x[4]=i,x[5]=a,x[6]=o):(t=x[1],n=x[2],r=x[3],i=x[4],a=x[5],o=x[6]);let{t:C}=IO(),k=n?epd.datetime.pattern:epd.date.pattern,[w,S]=(0,E.useState)(void 0);x[7]!==k||x[8]!==o?(l=()=>{if(!o)return"";let e=new Date(o);return(0,tY.format)(e,k)},x[7]=k,x[8]=o,x[9]=l):l=x[9];let[T,D]=(0,E.useState)(l);x[10]!==i?(s=i||new Date,x[10]=i,x[11]=s):s=x[11];let I=s;x[12]!==I||x[13]!==k?(c=(0,tY.format)(I,k),x[12]=I,x[13]=k,x[14]=c):c=x[14];let A=c;x[15]!==k||x[16]!==t||x[17]!==r?(u=e=>{let{dateString:n,triggerOnChange:i}=e;if(!n)return;let a=(0,tk.parse)(n,k,new Date),o=(0,tC.isValid)(a);o&&(i&&r(epu({date:a,dateOnly:!t})),D((0,tY.format)(a,k))),S(o?void 0:"Invalid ".concat(t?"datetime":"date"))},x[15]=k,x[16]=t,x[17]=r,x[18]=u):u=x[18];let O=u;x[19]!==T||x[20]!==O?(d=()=>{O({dateString:T,triggerOnChange:!0})},x[19]=T,x[20]=O,x[21]=d):d=x[21];let P=d;x[22]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{D(e.currentTarget.value)},x[22]=p):p=x[22];let M=p;x[23]!==r?(f=()=>{r(null),S(void 0),D("")},x[23]=r,x[24]=f):f=x[24];let F=f;x[25]!==T||x[26]!==O?(h=e=>{"Enter"===e.key&&O({dateString:T,triggerOnChange:!0})},x[25]=T,x[26]=O,x[27]=h):h=x[27];let R=h;x[28]!==k||x[29]!==O||x[30]!==o?(m=()=>{let e=o&&new Date(o);e&&O({dateString:(0,tY.format)(e,k),triggerOnChange:!1})},x[28]=k,x[29]=O,x[30]=o,x[31]=m):m=x[31],x[32]!==k||x[33]!==n||x[34]!==O||x[35]!==o?(g=[k,O,n,o],x[32]=k,x[33]=n,x[34]=O,x[35]=o,x[36]=g):g=x[36],(0,E.useEffect)(m,g);let N=n?epd.datetime.exampleDate:epd.date.exampleDate;x[37]!==C||x[38]!==N?(y=C("calendar.error.must-be-in-format",{exampleDate:N}),x[37]=C,x[38]=N,x[39]=y):y=x[39];let L=!w,z=!!T;return x[40]!==w||x[41]!==A||x[42]!==P||x[43]!==F||x[44]!==R||x[45]!==T||x[46]!==a||x[47]!==z?(v=(0,_.jsx)(eol,{...a,clearButton:z,customValidity:w,onBlur:P,onChange:M,onClear:F,onKeyDown:R,placeholder:A,value:T}),x[40]=w,x[41]=A,x[42]=P,x[43]=F,x[44]=R,x[45]=T,x[46]=a,x[47]=z,x[48]=v):v=x[48],x[49]!==y||x[50]!==L||x[51]!==v?(b=(0,_.jsx)(B.Tooltip,{content:y,disabled:L,placement:"top",portal:!0,children:v}),x[49]=y,x[50]=L,x[51]=v,x[52]=b):b=x[52],b}function epf(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(36),{direction:p,isDateTime:f,onChange:h,value:m}=e,{state:g}=eaJ(),{fullscreen:y}=g,{t:v}=IO();switch(p){case"after":t="end";break;case"before":t="start";break;default:t=void 0}let b=t;d[0]!==f||d[1]!==h||d[2]!==b||d[3]!==(null==m?void 0:m.includeTime)?(n=e=>{let{date:t}=e,n=null;t&&(n=epu({date:t,dateOnly:!f,roundDay:(null==m?void 0:m.includeTime)?void 0:b})),h({includeTime:null==m?void 0:m.includeTime,date:n})},d[0]=f,d[1]=h,d[2]=b,d[3]=null==m?void 0:m.includeTime,d[4]=n):n=d[4];let x=n;d[5]!==f||d[6]!==h||d[7]!==b||d[8]!==m?(r=()=>{let e=!(null==m?void 0:m.includeTime),t=(null==m?void 0:m.date)?new Date(m.date):null,n=null;t&&(n=epu({date:t,dateOnly:!f,roundDay:e?"start":b})),h({includeTime:e,date:n})},d[5]=f,d[6]=h,d[7]=b,d[8]=m,d[9]=r):r=d[9];let C=r;d[10]!==h||d[11]!==(null==m?void 0:m.includeTime)?(i=e=>{h({includeTime:null==m?void 0:m.includeTime,date:e||null})},d[10]=h,d[11]=null==m?void 0:m.includeTime,d[12]=i):i=d[12];let k=i;d[13]!==v?(a=v("search.filter-date-aria-label"),d[13]=v,d[14]=a):a=d[14];let w=y?2:1,S=f&&(null==m?void 0:m.includeTime),E=null==m?void 0:m.date;return d[15]!==k||d[16]!==f||d[17]!==a||d[18]!==w||d[19]!==S||d[20]!==E?(o=(0,_.jsx)(epp,{"aria-label":a,fontSize:w,isDateTime:f,isDateTimeFormat:S,onChange:k,radius:2,value:E}),d[15]=k,d[16]=f,d[17]=a,d[18]=w,d[19]=S,d[20]=E,d[21]=o):o=d[21],d[22]!==m?(l=(null==m?void 0:m.date)?new Date(m.date):void 0,d[22]=m,d[23]=l):l=d[23],d[24]!==x||d[25]!==f||d[26]!==l?(s=(0,_.jsx)(epc,{date:l,onChange:x,selectTime:f}),d[24]=x,d[25]=f,d[26]=l,d[27]=s):s=d[27],d[28]!==C||d[29]!==f||d[30]!==(null==m?void 0:m.includeTime)?(c=f&&(0,_.jsx)(ed7,{onChange:C,value:!!(null==m?void 0:m.includeTime)}),d[28]=C,d[29]=f,d[30]=null==m?void 0:m.includeTime,d[31]=c):c=d[31],d[32]!==o||d[33]!==s||d[34]!==c?(u=(0,_.jsxs)(I.Stack,{space:3,children:[o,s,c]}),d[32]=o,d[33]=s,d[34]=c,d[35]=u):u=d[35],u}function eph(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(34),{isDateTime:d,onChange:p,value:f}=e,{state:h}=eaJ(),{fullscreen:m}=h,{t:g}=IO();u[0]!==d||u[1]!==p||u[2]!==(null==f?void 0:f.includeTime)?(t=e=>{let{date:t}=e;if(t){let e=epu({date:t,dateOnly:!d});p({includeTime:null==f?void 0:f.includeTime,date:e})}else p(null)},u[0]=d,u[1]=p,u[2]=null==f?void 0:f.includeTime,u[3]=t):t=u[3];let y=t;u[4]!==d||u[5]!==p||u[6]!==f?(n=()=>{let e=!(null==f?void 0:f.includeTime),t=(null==f?void 0:f.date)?new Date(f.date):null,n=null;t&&(n=epu({date:t,dateOnly:!d})),p({includeTime:e,date:n})},u[4]=d,u[5]=p,u[6]=f,u[7]=n):n=u[7];let v=n;u[8]!==p||u[9]!==(null==f?void 0:f.includeTime)?(r=e=>{p({includeTime:null==f?void 0:f.includeTime,date:e||null})},u[8]=p,u[9]=null==f?void 0:f.includeTime,u[10]=r):r=u[10];let b=r;u[11]!==g?(i=g("search.filter-date-aria-label"),u[11]=g,u[12]=i):i=u[12];let x=m?2:1,C=d&&(null==f?void 0:f.includeTime),k=null==f?void 0:f.date;return u[13]!==b||u[14]!==d||u[15]!==i||u[16]!==x||u[17]!==C||u[18]!==k?(a=(0,_.jsx)(epp,{"aria-label":i,fontSize:x,isDateTime:d,isDateTimeFormat:C,onChange:b,radius:2,value:k}),u[13]=b,u[14]=d,u[15]=i,u[16]=x,u[17]=C,u[18]=k,u[19]=a):a=u[19],u[20]!==f?(o=(null==f?void 0:f.date)?new Date(f.date):void 0,u[20]=f,u[21]=o):o=u[21],u[22]!==y||u[23]!==d||u[24]!==o?(l=(0,_.jsx)(epc,{date:o,onChange:y,selectTime:d}),u[22]=y,u[23]=d,u[24]=o,u[25]=l):l=u[25],u[26]!==v||u[27]!==d||u[28]!==(null==f?void 0:f.includeTime)?(s=d&&(0,_.jsx)(ed7,{onChange:v,value:!!(null==f?void 0:f.includeTime)}),u[26]=v,u[27]=d,u[28]=null==f?void 0:f.includeTime,u[29]=s):s=u[29],u[30]!==l||u[31]!==s||u[32]!==a?(c=(0,_.jsxs)(I.Stack,{space:3,children:[a,l,s]}),u[30]=l,u[31]=s,u[32]=a,u[33]=c):c=u[33],c}function epm(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(eph,{...e,isDateTime:!1}),n[0]=e,n[1]=t):t=n[1],t}let epg=[{unit:"day",key:"search.filter-date-unit_days"},{unit:"month",key:"search.filter-date-unit_months"},{unit:"year",key:"search.filter-date-unit_years"}];function epy(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(26),{onChange:d,value:p}=e,[f,h]=(0,E.useState)((null==p?void 0:p.unitValue)||""),m=(0,E.useRef)("day"),g=(0,E.useRef)((null==p?void 0:p.unitValue)||null),{t:y}=IO(),{state:v}=eaJ(),{fullscreen:b}=v;u[0]!==d?(t=()=>{d({unit:null==m?void 0:m.current,unitValue:null==g?void 0:g.current})},u[0]=d,u[1]=t):t=u[1];let x=t;u[2]!==x?(n=e=>{m.current=e.currentTarget.value,x()},u[2]=x,u[3]=n):n=u[3];let C=n;u[4]!==x?(r=e=>{h(e.currentTarget.value);let t=parseFloat(e.currentTarget.value);g.current=Number.isFinite(t)?t:null,x()},u[4]=x,u[5]=r):r=u[5];let k=r;u[6]!==y?(i=y("search.filter-date-value-aria-label"),u[6]=y,u[7]=i):i=u[7];let w=b?2:1;u[8]!==k||u[9]!==i||u[10]!==w||u[11]!==f?(a=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.TextInput,{"aria-label":i,fontSize:w,onChange:k,pattern:"\\d*",radius:2,step:"1",type:"number",value:f})}),u[8]=k,u[9]=i,u[10]=w,u[11]=f,u[12]=a):a=u[12],u[13]!==y?(o=y("search.filter-date-unit-aria-label"),u[13]=y,u[14]=o):o=u[14];let S=b?2:1,T=null==p?void 0:p.unit;return u[15]!==y?(l=epg.map(e=>(0,_.jsx)("option",{value:e.unit,children:y(e.key)},e.key)),u[15]=y,u[16]=l):l=u[16],u[17]!==C||u[18]!==T||u[19]!==l||u[20]!==o||u[21]!==S?(s=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Select,{"aria-label":o,fontSize:S,onChange:C,radius:2,value:T,children:l})}),u[17]=C,u[18]=T,u[19]=l,u[20]=o,u[21]=S,u[22]=s):s=u[22],u[23]!==s||u[24]!==a?(c=(0,_.jsxs)(I.Flex,{gap:2,children:[a,s]}),u[23]=s,u[24]=a,u[25]=c):c=u[25],c}function epv(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(56),{isDateTime:g,onChange:y,value:v}=e,{t:b}=IO(),{state:x}=eaJ(),{fullscreen:C}=x,[k]=(0,E.useState)(epx),[w]=(0,E.useState)(epb);m[0]!==g||m[1]!==y||m[2]!==(null==v?void 0:v.includeTime)?(t=e=>{let{date:t,endDate:n}=e;y(epC({date:t,endDate:n,includeTime:null==v?void 0:v.includeTime,isDateTime:g}))},m[0]=g,m[1]=y,m[2]=null==v?void 0:v.includeTime,m[3]=t):t=m[3];let S=t;m[4]!==g||m[5]!==y||m[6]!==v?(n=()=>{let e=!(null==v?void 0:v.includeTime);y(epC({date:(null==v?void 0:v.from)?new Date(v.from):null,endDate:(null==v?void 0:v.to)?new Date(v.to):null,includeTime:e,isDateTime:g}))},m[4]=g,m[5]=y,m[6]=v,m[7]=n):n=m[7];let T=n;m[8]!==y||m[9]!==(null==v?void 0:v.from)||m[10]!==(null==v?void 0:v.includeTime)?(r=e=>{y({includeTime:null==v?void 0:v.includeTime,to:e||null,from:(null==v?void 0:v.from)||null})},m[8]=y,m[9]=null==v?void 0:v.from,m[10]=null==v?void 0:v.includeTime,m[11]=r):r=m[11];let D=r;m[12]!==y||m[13]!==(null==v?void 0:v.includeTime)||m[14]!==(null==v?void 0:v.to)?(i=e=>{y({includeTime:null==v?void 0:v.includeTime,to:(null==v?void 0:v.to)||null,from:e||null})},m[12]=y,m[13]=null==v?void 0:v.includeTime,m[14]=null==v?void 0:v.to,m[15]=i):i=m[15];let A=i;m[16]!==b?(a=b("search.filter-date-range-start-date-aria-label"),m[16]=b,m[17]=a):a=m[17];let O=C?2:1,P=g&&(null==v?void 0:v.includeTime),M=null==v?void 0:v.from;m[18]!==A||m[19]!==g||m[20]!==k||m[21]!==a||m[22]!==O||m[23]!==P||m[24]!==M?(o=(0,_.jsx)(epp,{"aria-label":a,fontSize:O,isDateTime:g,isDateTimeFormat:P,onChange:A,placeholderDate:k,radius:2,value:M}),m[18]=A,m[19]=g,m[20]=k,m[21]=a,m[22]=O,m[23]=P,m[24]=M,m[25]=o):o=m[25],m[26]!==b?(l=b("search.filter-date-range-end-date-aria-label"),m[26]=b,m[27]=l):l=m[27];let F=C?2:1,R=g&&(null==v?void 0:v.includeTime),B=null==v?void 0:v.to;return m[28]!==D||m[29]!==g||m[30]!==w||m[31]!==l||m[32]!==F||m[33]!==R||m[34]!==B?(s=(0,_.jsx)(epp,{"aria-label":l,fontSize:F,isDateTime:g,isDateTimeFormat:R,onChange:D,placeholderDate:w,radius:2,value:B}),m[28]=D,m[29]=g,m[30]=w,m[31]=l,m[32]=F,m[33]=R,m[34]=B,m[35]=s):s=m[35],m[36]!==o||m[37]!==s?(c=(0,_.jsxs)(I.Flex,{direction:"column",gap:3,children:[o,s]}),m[36]=o,m[37]=s,m[38]=c):c=m[38],m[39]!==v?(u=(null==v?void 0:v.from)?new Date(v.from):void 0,m[39]=v,m[40]=u):u=m[40],m[41]!==v?(d=(null==v?void 0:v.to)?new Date(v.to):void 0,m[41]=v,m[42]=d):d=m[42],m[43]!==S||m[44]!==g||m[45]!==u||m[46]!==d?(p=(0,_.jsx)(epc,{date:u,endDate:d,onChange:S,selectRange:!0,selectTime:g}),m[43]=S,m[44]=g,m[45]=u,m[46]=d,m[47]=p):p=m[47],m[48]!==T||m[49]!==g||m[50]!==(null==v?void 0:v.includeTime)?(f=g&&(0,_.jsx)(ed7,{onChange:T,value:!!(null==v?void 0:v.includeTime)}),m[48]=T,m[49]=g,m[50]=null==v?void 0:v.includeTime,m[51]=f):f=m[51],m[52]!==c||m[53]!==p||m[54]!==f?(h=(0,_.jsx)("div",{children:(0,_.jsxs)(I.Stack,{space:3,children:[c,p,f]})}),m[52]=c,m[53]=p,m[54]=f,m[55]=h):h=m[55],h}function epb(){return new Date}function epx(){return(0,tA.addDays)(new Date,-7)}function epC(e){let{date:t,endDate:n,includeTime:r,isDateTime:i}=e;return r?{includeTime:r,to:n?epu({date:n,dateOnly:!i,roundDay:"start"}):null,from:t?epu({date:t,dateOnly:!i,roundDay:"start"}):null}:{includeTime:r,to:n?epu({date:n,dateOnly:!i,roundDay:"end"}):null,from:t?epu({date:t,dateOnly:!i,roundDay:"start"}):null}}function epk(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(eph,{...e,isDateTime:!0}),n[0]=e,n[1]=t):t=n[1],t}let epw={dateAfter:{buttonValueComponent:ed_,initialValue:null},dateBefore:{buttonValueComponent:ed_,initialValue:null},dateEqual:{buttonValueComponent:ed_,initialValue:{date:null,includeTime:!1}},dateLast:{buttonValueComponent:function(e){var t;let n,r,i=(0,j.c)(6),{value:a}=e,o=edk(),l=Math.floor(null!=(t=null==a?void 0:a.unitValue)?t:0);return i[0]!==o||i[1]!==l||i[2]!==a.unit?(n=o(l,a.unit),i[0]=o,i[1]=l,i[2]=a.unit,i[3]=n):n=i[3],i[4]!==n?(r=(0,_.jsx)(_.Fragment,{children:n}),i[4]=n,i[5]=r):r=i[5],r}},dateNotEqual:{buttonValueComponent:ed_,initialValue:{date:null,includeTime:!1}},dateRange:{initialValue:null}},ep_={dateAfter:{...epw.dateAfter,nameKey:"search.operator.date-after.name",descriptionKey:"search.operator.date-after.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.date)&&t?"".concat(t," > ").concat(edV(null==n?void 0:n.date)):null},inputComponent:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(epf,{...e,direction:"after",isDateTime:!1}),n[0]=e,n[1]=t):t=n[1],t},type:"dateAfter"},dateBefore:{...epw.dateBefore,nameKey:"search.operator.date-before.name",descriptionKey:"search.operator.date-before.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.date)&&t?"".concat(t," < ").concat(edV(null==n?void 0:n.date)):null},inputComponent:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(epf,{...e,direction:"before",isDateTime:!1}),n[0]=e,n[1]=t):t=n[1],t},type:"dateBefore"},dateEqual:{...epw.dateEqual,nameKey:"search.operator.date-equal.name",descriptionKey:"search.operator.date-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.date)&&t?"".concat(t," == ").concat(edV(n.date)):null},inputComponent:epm,type:"dateEqual"},dateLast:{...epw.dateLast,nameKey:"search.operator.date-last.name",descriptionKey:"search.operator.date-last.description",groqFilter:e=>{let{fieldPath:t,value:n}=e,r="number"==typeof(null==n?void 0:n.unitValue)?Math.floor(n.unitValue):void 0,i=Number.isFinite(r)?(0,t7.sub)(new Date,{days:(null==n?void 0:n.unit)==="day"?r:0,months:(null==n?void 0:n.unit)==="month"?r:0,years:(null==n?void 0:n.unit)==="year"?r:0}).toISOString().split("T")[0]:null;return i&&t?"".concat(t," > ").concat(edV(i)):null},inputComponent:epy,initialValue:{unit:"day",unitValue:7},type:"dateLast"},dateNotEqual:{...epw.dateNotEqual,nameKey:"search.operator.date-not-equal.name",descriptionKey:"search.operator.date-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.date)&&t?"".concat(t," != ").concat(edV(n.date)):null},inputComponent:epm,type:"dateNotEqual"},dateRange:{...epw.dateRange,nameKey:"search.operator.date-range.name",descriptionKey:"search.operator.date-range.description",buttonValueComponent:edj,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.to)&&(null==n?void 0:n.from)&&t?"".concat(t," >= ").concat(edV(n.from)," && ").concat(t," <= ").concat(edV(n.to)):null},initialValue:{includeTime:!1,to:(0,t0.startOfToday)().toISOString(),from:null},inputComponent:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(epv,{...e,isDateTime:!1}),n[0]=e,n[1]=t):t=n[1],t},type:"dateRange"},dateTimeAfter:{...epw.dateAfter,nameKey:"search.operator.date-time-after.name",descriptionKey:"search.operator.date-time-after.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.date)&&t?"dateTime(".concat(t,") > dateTime(").concat(edV(n.date),")"):null},inputComponent:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(epf,{...e,direction:"after",isDateTime:!0}),n[0]=e,n[1]=t):t=n[1],t},type:"dateTimeAfter"},dateTimeBefore:{...epw.dateBefore,nameKey:"search.operator.date-time-before.name",descriptionKey:"search.operator.date-time-before.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.date)&&t?"dateTime(".concat(t,") < dateTime(").concat(edV(n.date),")"):null},inputComponent:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(epf,{...e,direction:"before",isDateTime:!0}),n[0]=e,n[1]=t):t=n[1],t},type:"dateTimeBefore"},dateTimeEqual:{...epw.dateEqual,nameKey:"search.operator.date-time-equal.name",descriptionKey:"search.operator.date-time-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e,r=(null==n?void 0:n.date)&&new Date(n.date);if(!r||!(0,tC.isValid)(r)||!t)return null;let i=((null==n?void 0:n.includeTime)?(0,tG.startOfMinute)(r):(0,tJ.startOfDay)(r)).toISOString(),a=((null==n?void 0:n.includeTime)?(0,t5.endOfMinute)(r):(0,tQ.endOfDay)(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(edV(i),") && dateTime(").concat(t,") < dateTime(").concat(edV(a),")")},inputComponent:epk,type:"dateTimeEqual"},dateTimeLast:{...epw.dateLast,nameKey:"search.operator.date-time-last.name",descriptionKey:"search.operator.date-time-last.description",groqFilter:e=>{let{fieldPath:t,value:n}=e,r="number"==typeof(null==n?void 0:n.unitValue)?Math.floor(n.unitValue):void 0,i=Number.isFinite(r)?(0,t7.sub)(new Date,{days:(null==n?void 0:n.unit)==="day"?r:0,months:(null==n?void 0:n.unit)==="month"?r:0,years:(null==n?void 0:n.unit)==="year"?r:0}).toISOString():null;return i&&t?"dateTime(".concat(t,") > dateTime(").concat(edV(i),")"):null},initialValue:{unit:"day",unitValue:7},inputComponent:epy,type:"dateTimeLast"},dateTimeNotEqual:{...epw.dateNotEqual,nameKey:"search.operator.date-time-not-equal.name",descriptionKey:"search.operator.date-time-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e,r=(null==n?void 0:n.date)&&new Date(n.date);if(!r||!(0,tC.isValid)(r)||!t)return null;let i=((null==n?void 0:n.includeTime)?(0,tG.startOfMinute)(r):(0,tJ.startOfDay)(r)).toISOString(),a=((null==n?void 0:n.includeTime)?(0,t5.endOfMinute)(r):(0,tQ.endOfDay)(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(edV(i),") || dateTime(").concat(t,") > dateTime(").concat(edV(a),")")},inputComponent:epk,type:"dateTimeNotEqual"},dateTimeRange:{...epw.dateRange,nameKey:"search.operator.date-time-range.name",descriptionKey:"search.operator.date-time-range.description",buttonValueComponent:edj,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n.to)&&(null==n?void 0:n.from)&&t?"dateTime(".concat(t,") >= dateTime(").concat(edV(n.from),") && dateTime(").concat(t,") <= dateTime(").concat(edV(n.to),")"):null},initialValue:{includeTime:!1,to:(0,t0.startOfToday)().toISOString(),from:null},inputComponent:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(epv,{...e,isDateTime:!0}),n[0]=e,n[1]=t):t=n[1],t},type:"dateTimeRange"}};function epj(e){let t,n,r,i=(0,j.c)(9),{onChange:a,value:o}=e,{state:l}=eaJ(),{fullscreen:s}=l,{t:c}=IO();i[0]!==a?(t=e=>a(e.currentTarget.value||null),i[0]=a,i[1]=t):t=i[1];let u=t,d=s?2:1;i[2]!==c?(n=c("search.filter-string-value-placeholder"),i[2]=c,i[3]=n):n=i[3];let p=o||"";return i[4]!==u||i[5]!==d||i[6]!==n||i[7]!==p?(r=(0,_.jsx)(I.TextInput,{fontSize:d,onChange:u,placeholder:n,radius:2,value:p}),i[4]=u,i[5]=d,i[6]=n,i[7]=p,i[8]=r):r=i[8],r}let epS={referenceEqual:{nameKey:"search.operator.reference-equal.name",descriptionKey:"search.operator.reference-equal.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(t,"._ref == ").concat(edV(n._ref)):null},initialValue:null,inputComponent:edO,type:"referenceEqual"},referenceNotEqual:{nameKey:"search.operator.reference-not-equal.name",descriptionKey:"search.operator.reference-not-equal.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(t,"._ref != ").concat(edV(n._ref)):null},initialValue:null,inputComponent:edO,type:"referenceNotEqual"},referencesAssetFile:{nameKey:"search.operator.reference-asset-file.name",descriptionKey:"search.operator.reference-asset-file.description",buttonValueComponent:edS,groqFilter:e=>{let{value:t}=e;return(null==t?void 0:t._ref)?"references(".concat(edV(t._ref),")"):null},initialValue:null,inputComponent:ed2("file"),type:"referencesAssetFile"},referencesAssetImage:{nameKey:"search.operator.reference-asset-image.name",descriptionKey:"search.operator.reference-asset-image.description",buttonValueComponent:edS,groqFilter:e=>{let{value:t}=e;return(null==t?void 0:t._ref)?"references(".concat(edV(t._ref),")"):null},initialValue:null,inputComponent:ed2("image"),type:"referencesAssetImage"},referencesDocument:{nameKey:"search.operator.reference-document.name",descriptionKey:"search.operator.reference-document.description",buttonValueComponent:edS,groqFilter:e=>{let{value:t}=e;return(null==t?void 0:t._ref)?"references(".concat(edV(t._ref),")"):null},initialValue:null,inputComponent:edO,type:"referencesDocument"}},epE=Object.values({arrayCountEqual:{nameKey:"search.operator.array-count-equal.name",descriptionKey:"search.operator.array-count-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(edV(n)):null},initialValue:null,inputComponent:edE,type:"arrayCountEqual"},arrayCountGt:{nameKey:"search.operator.array-count-gt.name",descriptionKey:"search.operator.array-count-gt.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(edV(n)):null},icon:edN,initialValue:null,inputComponent:edE,type:"arrayCountGt"},arrayCountGte:{nameKey:"search.operator.array-count-gte.name",descriptionKey:"search.operator.array-count-gte.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(edV(n)):null},icon:edB,initialValue:null,inputComponent:edE,type:"arrayCountGte"},arrayCountLt:{nameKey:"search.operator.array-count-lt.name",descriptionKey:"search.operator.array-count-lt.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(edV(n)):null},icon:edz,initialValue:null,inputComponent:edE,type:"arrayCountLt"},arrayCountLte:{nameKey:"search.operator.array-count-lte.name",descriptionKey:"search.operator.array-count-lte.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(edV(n)):null},icon:edL,initialValue:null,inputComponent:edE,type:"arrayCountLte"},arrayCountNotEqual:{nameKey:"search.operator.array-count-not-equal.name",descriptionKey:"search.operator.array-count-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(edV(n)):null},initialValue:null,inputComponent:edE,type:"arrayCountNotEqual"},arrayCountRange:{nameKey:"search.operator.array-count-range.name",descriptionKey:"search.operator.array-count-range.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(null==n?void 0:n.to)&&Number.isFinite(null==n?void 0:n.from)&&t?"count(".concat(t,") > ").concat(edV(null==n?void 0:n.from)," && count(").concat(t,") < ").concat(edV(null==n?void 0:n.to)):""},initialValue:null,inputComponent:edT,type:"arrayCountRange"},arrayListIncludes:{nameKey:"search.operator.array-list-includes.name",descriptionKey:"search.operator.array-list-includes.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(edV(n)," in ").concat(t):null},initialValue:null,inputComponent:edR,type:"arrayListIncludes"},arrayListNotIncludes:{nameKey:"search.operator.array-list-not-includes.name",descriptionKey:"search.operator.array-list-not-includes.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(edV(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:edR,type:"arrayListNotIncludes"},arrayReferenceIncludes:{nameKey:"search.operator.array-reference-includes.name",descriptionKey:"search.operator.array-reference-includes.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"".concat(edV(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:edO,type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{nameKey:"search.operator.array-reference-not-includes.name",descriptionKey:"search.operator.array-reference-not-includes.description",buttonValueComponent:edS,groqFilter:e=>{let{fieldPath:t,value:n}=e;return(null==n?void 0:n._ref)&&t?"!(".concat(edV(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:edO,type:"arrayReferenceNotIncludes"},...ed0,booleanEqual:{nameKey:"search.operator.boolean-equal.name",descriptionKey:"search.operator.boolean-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return"u">typeof n&&t?"".concat(t," == ").concat(edV(n)):null},initialValue:!0,inputComponent:function(e){let t,n,r,i,a,o,l=(0,j.c)(16),{onChange:s,value:c}=e,{state:u}=eaJ(),{fullscreen:d}=u,{t:p}=IO();l[0]!==s?(t=e=>{s("true"===e.currentTarget.value)},l[0]=s,l[1]=t):t=l[1];let f=t,h=d?2:1,m=String(null==c||c);return l[2]!==p?(n=p("search.filter-boolean-true"),l[2]=p,l[3]=n):n=l[3],l[4]!==n?(r=(0,_.jsx)("option",{value:"true",children:n}),l[4]=n,l[5]=r):r=l[5],l[6]!==p?(i=p("search.filter-boolean-false"),l[6]=p,l[7]=i):i=l[7],l[8]!==i?(a=(0,_.jsx)("option",{value:"false",children:i}),l[8]=i,l[9]=a):a=l[9],l[10]!==f||l[11]!==h||l[12]!==m||l[13]!==r||l[14]!==a?(o=(0,_.jsxs)(I.Select,{fontSize:h,onChange:f,radius:2,value:m,children:[r,a]}),l[10]=f,l[11]=h,l[12]=m,l[13]=r,l[14]=a,l[15]=o):o=l[15],o},type:"booleanEqual"},...ep_,defined:{nameKey:"search.operator.defined.name",descriptionKey:"search.operator.defined.description",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},type:"defined"},notDefined:{nameKey:"search.operator.not-defined.name",descriptionKey:"search.operator.not-defined.description",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},type:"notDefined"},numberEqual:{nameKey:"search.operator.number-equal.name",descriptionKey:"search.operator.number-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(edV(n)):null},initialValue:null,inputComponent:edE,type:"numberEqual"},numberGt:{nameKey:"search.operator.number-gt.name",descriptionKey:"search.operator.number-gt.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(edV(n)):null},icon:edN,initialValue:null,inputComponent:edE,type:"numberGt"},numberGte:{nameKey:"search.operator.number-gte.name",descriptionKey:"search.operator.number-gte.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(edV(n)):null},icon:edB,initialValue:null,inputComponent:edE,type:"numberGte"},numberLt:{nameKey:"search.operator.number-lt.name",descriptionKey:"search.operator.number-lt.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(edV(n)):null},icon:edz,initialValue:null,inputComponent:edE,type:"numberLt"},numberLte:{nameKey:"search.operator.number-lte.name",descriptionKey:"search.operator.number-lte.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(edV(n)):null},icon:edL,initialValue:null,inputComponent:edE,type:"numberLte"},numberNotEqual:{nameKey:"search.operator.number-not-equal.name",descriptionKey:"search.operator.number-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(edV(n)):null},initialValue:null,inputComponent:edE,type:"numberNotEqual"},numberRange:{nameKey:"search.operator.number-range.name",descriptionKey:"search.operator.number-range.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(null==n?void 0:n.to)&&Number.isFinite(null==n?void 0:n.from)&&t?"".concat(t," > ").concat(edV(null==n?void 0:n.from)," && ").concat(t," < ").concat(edV(null==n?void 0:n.to)):""},initialValue:null,inputComponent:edT,type:"numberRange"},portableTextEqual:{nameKey:"search.operator.portable-text-equal.name",descriptionKey:"search.operator.portable-text-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"portableTextEqual"},portableTextMatches:{nameKey:"search.operator.portable-text-contains.name",descriptionKey:"search.operator.portable-text-contains.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"portableTextMatches"},portableTextNotEqual:{nameKey:"search.operator.portable-text-not-equal.name",descriptionKey:"search.operator.portable-text-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"portableTextNotEqual"},portableTextNotMatches:{nameKey:"search.operator.portable-text-not-contains.name",descriptionKey:"search.operator.portable-text-not-contains.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(edV(n),")"):null},initialValue:null,inputComponent:epj,type:"portableTextNotMatches"},...epS,slugEqual:{nameKey:"search.operator.slug-equal.name",descriptionKey:"search.operator.slug-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"slugEqual"},slugMatches:{nameKey:"search.operator.slug-contains.name",descriptionKey:"search.operator.slug-contains.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"slugMatches"},slugNotEqual:{nameKey:"search.operator.slug-not-equal.name",descriptionKey:"search.operator.slug-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"slugNotEqual"},slugNotMatches:{nameKey:"search.operator.slug-not-contains.name",descriptionKey:"search.operator.slug-not-contains.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(edV(n),")"):null},initialValue:null,inputComponent:epj,type:"slugNotMatches"},stringEqual:{nameKey:"search.operator.string-equal.name",descriptionKey:"search.operator.string-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"stringEqual"},stringListEqual:{nameKey:"search.operator.string-list-equal.name",descriptionKey:"search.operator.string-list-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(edV(n)):null},initialValue:null,inputComponent:edR,type:"stringListEqual"},stringListNotEqual:{nameKey:"search.operator.string-list-not-equal.name",descriptionKey:"search.operator.string-list-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(edV(n)):null},initialValue:null,inputComponent:edR,type:"stringListNotEqual"},stringMatches:{nameKey:"search.operator.string-contains.name",descriptionKey:"search.operator.string-contains.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,' match "*').concat(n,'*"'):null},initialValue:null,inputComponent:epj,type:"stringMatches"},stringNotEqual:{nameKey:"search.operator.string-not-equal.name",descriptionKey:"search.operator.string-not-equal.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(edV(n)):null},initialValue:null,inputComponent:epj,type:"stringNotEqual"},stringNotMatches:{nameKey:"search.operator.string-not-contains.name",descriptionKey:"search.operator.string-not-contains.description",groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,' match "*').concat(n,'*")'):null},initialValue:null,inputComponent:epj,type:"stringNotMatches"}});function epT(e){var t;let n,r,i,a,o=(0,j.c)(32),{assetSources:l,readOnly:s,id:c,browseButtonElementRef:u,schemaType:d,setIsBrowseMenuOpen:p,setSelectedAssetSource:f}=e,h=null==(t=d.options)?void 0:t.sources,{t:m}=IO();o[0]!==p||o[1]!==f?(n=e=>{p(!1),f(e)},o[0]=p,o[1]=f,o[2]=n):n=o[2];let g=n;if((null==h?void 0:h.length)===0||0===l.length)return null;if(l.length>1&&!s){let e,t,n,r,i,a="".concat(c,"_assetFileButton");if(o[3]!==m?(e=m("inputs.file.multi-browse-button.text"),o[3]=m,o[4]=e):e=o[4],o[5]!==e?(t=(0,_.jsx)(B.Button,{mode:"bleed",text:e,"data-testid":"video-input-multi-browse-button",icon:R.SearchIcon,iconRight:R.ChevronDownIcon}),o[5]=e,o[6]=t):t=o[6],o[7]!==l||o[8]!==g||o[9]!==m){let e;o[11]!==g||o[12]!==m?(e=e=>(0,_.jsx)(B.MenuItem,{text:(e.i18nKey?m(e.i18nKey):e.title)||(0,ti.default)(e.name),onClick:()=>g(e),icon:e.icon||R.ImageIcon,"data-testid":"video-input-browse-button-".concat(e.name)},e.name),o[11]=g,o[12]=m,o[13]=e):e=o[13],n=l.map(e),o[7]=l,o[8]=g,o[9]=m,o[10]=n}else n=o[10];return o[14]!==n?(r=(0,_.jsx)(I.Menu,{children:n}),o[14]=n,o[15]=r):r=o[15],o[16]!==u||o[17]!==a||o[18]!==t||o[19]!==r?(i=(0,_.jsx)(B.MenuButton,{id:a,ref:u,button:t,"data-testid":"input-select-button",menu:r}),o[16]=u,o[17]=a,o[18]=t,o[19]=r,o[20]=i):i=o[20],i}o[21]!==m?(r=m("inputs.file.browse-button.text"),o[21]=m,o[22]=r):r=o[22],o[23]!==l[0]||o[24]!==g?(i=()=>g(l[0]),o[23]=l[0],o[24]=g,o[25]=i):i=o[25];let y="video-input-browse-button-".concat(l[0].name);return o[26]!==u||o[27]!==s||o[28]!==r||o[29]!==i||o[30]!==y?(a=(0,_.jsx)(B.Button,{text:r,icon:R.SearchIcon,mode:"bleed",onClick:i,"data-testid":y,disabled:s,ref:u}),o[26]=u,o[27]=s,o[28]=r,o[29]=i,o[30]=y,o[31]=a):a=o[31],a}function epD(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(20),{onClearValue:d}=e,{t:p}=IO();return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),u[0]=t):t=u[0],u[1]!==p?(n=p("inputs.file.invalid-file-warning.title"),u[1]=p,u[2]=n):n=u[2],u[3]!==n?(r=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:n}),u[3]=n,u[4]=r):r=u[4],u[5]!==p?(i=p("inputs.file.invalid-file-warning.description"),u[5]=p,u[6]=i):i=u[6],u[7]!==i?(a=(0,_.jsx)(I.Text,{size:1,children:i}),u[7]=i,u[8]=a):a=u[8],u[9]!==r||u[10]!==a?(o=(0,_.jsxs)(I.Flex,{gap:4,marginBottom:4,children:[t,(0,_.jsxs)(I.Stack,{space:3,children:[r,a]})]}),u[9]=r,u[10]=a,u[11]=o):o=u[11],u[12]!==p?(l=p("inputs.file.invalid-file-warning.reset-button.text"),u[12]=p,u[13]=l):l=u[13],u[14]!==d||u[15]!==l?(s=(0,_.jsx)(B.Button,{icon:R.ResetIcon,mode:"ghost",onClick:d,text:l,width:"fill"}),u[14]=d,u[15]=l,u[16]=s):s=u[16],u[17]!==o||u[18]!==s?(c=(0,_.jsxs)(I.Card,{tone:"caution",padding:4,border:!0,radius:2,children:[o,s]}),u[17]=o,u[18]=s,u[19]=c):c=u[19],c}let epI=(0,F.styled)(I.Card)(Sh()),epA=(0,F.styled)(I.Flex)(Sm()),epO=(0,F.styled)(I.Card)(Sg(),e=>e.$isPortrait?"max-height: 30dvh;":""),epP=()=>{},epM={isLoading:!0,result:void 0,error:void 0,retry:epP},epF={isLoading:!1,result:void 0,error:void 0,retry:epP};function epR(){let e,t,n,r=(0,j.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.Skeleton,{padding:3,radius:1,animated:!0}),r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(A.TextSkeleton,{style:{width:"100%"},radius:1,animated:!0}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsxs)(I.Flex,{align:"center",justify:"flex-start",padding:2,children:[e,(0,_.jsxs)(I.Stack,{flex:1,space:2,marginLeft:3,children:[t,(0,_.jsx)(A.TextSkeleton,{style:{width:"100%"},radius:1,animated:!0})]})]}),r[2]=n):n=r[2],n}let epB=(0,E.lazy)(()=>e.A(668510).then(e=>({default:e.VideoPlayer}))),epN=(0,F.styled)(I.Inline)(Sy());function epL(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(47),{customDomain:v,playbackId:b,tokens:x,children:C,aspectRatio:k,muted:w,disabled:S,onClick:T,isMenuOpen:D,onMenuOpen:A,setMenuButtonElement:O}=e,[P,M]=(0,E.useState)(null),[F,R]=(0,E.useState)(null);y[0]!==A?(t=()=>A(!0),y[0]=A,y[1]=t):t=y[1];let N=t;y[2]!==F||y[3]!==D||y[4]!==A?(n=e=>{D&&("Escape"===e.key||"Tab"===e.key)&&(A(!1),null==F||F.focus())},y[2]=F,y[3]=D,y[4]=A,y[5]=n):n=y[5],(0,I.useGlobalKeyDown)(n),y[6]!==F||y[7]!==A?(r=e=>{(null==F?void 0:F.contains(e.target))||A(!1)},y[6]=F,y[7]=A,y[8]=r):r=y[8],y[9]!==P?(i=()=>[P],y[9]=P,y[10]=i):i=y[10],(0,I.useClickOutsideEvent)(r,i),y[11]!==O?(a=e=>{O(e),R(e)},y[11]=O,y[12]=a):a=y[12];let L=a;y[13]!==D||y[14]!==P?(o=()=>{D&&(null==P||P.focus())},l=[D,P],y[13]=D,y[14]=P,y[15]=o,y[16]=l):(o=y[15],l=y[16]),(0,E.useEffect)(o,l);let{t:z}=IO(),V=w||S?void 0:"button",U=void 0!==k&&k<.75;y[17]!==k?(s={"--aspect-ratio":k},y[17]=k,y[18]=s):s=y[18];let H=s;return y[19]!==k||y[20]!==v||y[21]!==b||y[22]!==x?(c=b&&(0,_.jsx)(E.Suspense,{fallback:(0,_.jsx)(epR,{}),children:(0,_.jsx)(epB,{customDomain:v,playbackId:b,tokens:x,aspectRatio:k})}),y[19]=k,y[20]=v,y[21]=b,y[22]=x,y[23]=c):c=y[23],y[24]!==H||y[25]!==c||y[26]!==U?(u=(0,_.jsx)(epO,{tone:"transparent",$isPortrait:U,style:H,children:c}),y[24]=H,y[25]=c,y[26]=U,y[27]=u):u=y[27],y[28]!==T||y[29]!==u||y[30]!==V?(d=(0,_.jsx)(I.Card,{as:V,tone:"inherit",onClick:T,flex:1,children:u}),y[28]=T,y[29]=u,y[30]=V,y[31]=d):d=y[31],y[32]!==C?(p=(0,_.jsx)(I.Menu,{ref:M,children:C}),y[32]=C,y[33]=p):p=y[33],y[34]!==z?(f=z("inputs.file.actions-menu.video-options.aria-label"),y[34]=z,y[35]=f):f=y[35],y[36]!==N||y[37]!==L||y[38]!==f?(h=(0,_.jsx)(DO,{"aria-label":f,"data-testid":"options-menu-button",onClick:N,ref:L}),y[36]=N,y[37]=L,y[38]=f,y[39]=h):h=y[39],y[40]!==D||y[41]!==p||y[42]!==h?(m=(0,_.jsx)(epN,{padding:2,children:(0,_.jsx)(B.Popover,{content:p,id:"video-actions-menu",portal:!0,open:D,constrainSize:!0,children:h})}),y[40]=D,y[41]=p,y[42]=h,y[43]=m):m=y[43],y[44]!==d||y[45]!==m?(g=(0,_.jsxs)(I.Box,{children:[d,m]}),y[44]=d,y[45]=m,y[46]=g):g=y[46],g}function epz(e){var t,n,r;let{assetSources:i,clearField:a,directUploads:o,onSelectFiles:l,readOnly:s,schemaType:c,setBrowseButtonElement:u,setSelectedAssetSource:d,value:p}=e,{t:f}=IO(),[h,m]=(0,E.useState)(!1),g=null==p?void 0:p.asset,y=null==(t=c.options)?void 0:t.sources,v=(0,n_.default)(c,"options.accept",""),b=eTt({apiVersion:"vX"}).config().apiHost.endsWith(".sanity.work"),x=function(e){let t=eTt({apiVersion:"vX"}),[n,r]=(0,E.useState)(0),i=(0,E.useCallback)(()=>{r(e=>e+1)},[]),a=(0,E.useMemo)(()=>e?t.withConfig({apiVersion:"vX",requestTagPrefix:"sanity.studio.mediaLibrary.videoPlaybackInfo"}):null,[t,e]),o=(0,E.useMemo)(()=>{if(!e||!a)return(0,Y.of)(epF);try{let t=function(e){if(e.startsWith("video-"))return e;let t=e.split(":");if(3!==t.length)throw Error("Invalid asset reference format: expected 3 parts, got ".concat(t.length));let[n,r,i]=t;if("media-library"!==n)throw Error('Invalid resource type: expected "media-library", got "'.concat(n,'"'));if(!r.startsWith("ml"))throw Error('Invalid media library ID: expected to start with "ml", got "'.concat(r,'"'));if(!i)throw Error("Missing asset instance ID in reference");return i}(e.assetRef._ref);return(0,en.from)(a.request({uri:"/media-libraries/".concat(e.mediaLibraryId,"/video/").concat(t,"/playback-info")})).pipe((0,Z.map)(e=>({isLoading:!1,result:e,error:void 0,retry:i,retryAttempt:n})),(0,eI.startWith)(epM),(0,J.catchError)(e=>(console.error("Failed to fetch video playback info:",e),(0,Y.of)({isLoading:!1,result:void 0,error:e,retry:i,retryAttempt:n}))))}catch(e){return console.error("Invalid asset reference:",e),(0,Y.of)({isLoading:!1,result:void 0,error:e instanceof Error?e:Error("Invalid asset reference"),retry:i,retryAttempt:n})}},[e,a,i,n]);return(0,te.useObservable)(o,epM)}((0,E.useMemo)(()=>{if(!(null==g?void 0:g._ref))return null;try{return{mediaLibraryId:function(e){var t;let n=null==(t=e.split(":"))?void 0:t[1];if(!n||!n.startsWith("ml"))throw Error("Invalid asset reference");return n}(g._ref),assetRef:g}}catch(e){return console.error("Failed to parse asset reference:",e),null}},[g])),C=(0,E.useMemo)(()=>x.result?function(e){if("token"in e.stream)return{animated:e.animated.token,playback:e.stream.token,thumbnail:e.thumbnail.token,storyboard:e.storyboard.token}}(x.result):void 0,[x.result]),k=(0,E.useMemo)(()=>{var e,t;let n=b?"m.sanity-cdn.work":"m.sanity-cdn.com",r={aspectRatio:null==(e=x.result)?void 0:e.aspectRatio,customDomain:n,playbackId:null==(t=x.result)?void 0:t.id,onMenuOpen:m,isMenuOpen:h,setMenuButtonElement:u};return C?{...r,tokens:C}:r},[b,null==(n=x.result)?void 0:n.aspectRatio,null==(r=x.result)?void 0:r.id,h,u,C]),w=i.filter(e=>!!e.Uploader),j=(0,E.useCallback)(e=>{m(!1);let t=e.currentTarget.getAttribute("data-asset-source-name"),n=i.find(e=>e.name===t);n?d(n):console.warn("No asset source found for the selected asset source name '".concat(t,"'"))},[i,d]),S=(0,E.useCallback)((e,t)=>{m(!1),l(e,t)},[l]),T=(0,E.useCallback)(e=>{S(w[0],e)},[w,S]),D=(0,E.useMemo)(()=>(null==y?void 0:y.length)===0||0===i.length?null:1===i.length?(0,_.jsx)(B.MenuItem,{icon:R.SearchIcon,text:f("inputs.file.browse-button.text"),onClick:j,disabled:s,"data-testid":"video-input-browse-button-".concat(i[0].name),"data-asset-source-name":i[0].name}):i.map(e=>(0,_.jsx)(B.MenuItem,{text:(e.i18nKey?f(e.i18nKey):e.title)||(0,ti.default)(e.name),onClick:j,icon:e.icon||R.ImageIcon,disabled:s,"data-testid":"video-input-browse-button-".concat(e.name),"data-asset-source-name":e.name},e.name)),[i,j,s,null==y?void 0:y.length,f]),I=(0,E.useMemo)(()=>{switch(w.length){case 0:return null;case 1:return(0,_.jsx)(Q8,{icon:R.UploadIcon,onSelect:T,accept:v,"data-asset-source-name":w[0].name,text:f("inputs.files.common.actions-menu.upload.label"),"data-testid":"video-input-upload-button-".concat(w[0].name),disabled:s||!1===o});default:return(0,_.jsx)(Qq,{accept:v,assetSources:w,directUploads:o,onSelectFiles:S,readOnly:s,"data-testid":"video-input-upload-drop-down-menu-button",renderAsMenuGroup:!0})}},[v,w,o,S,T,s,f]);return g?x.isLoading||!x.result?(0,_.jsx)(epR,{}):(0,_.jsx)(epL,{...k,children:(0,_.jsx)(Q7,{browse:D,upload:I,onReset:a,readOnly:s})}):null}let epV=["asset"];function epU(e){var t,n,r;let i,a,o,l,s,c,u,d,p,f,h,m,g,y,v=(0,j.c)(76),{assetSources:b,changed:x,clearField:C,directUploads:k,elementProps:w,hoveringFiles:S,isStale:T,isUploading:D,onCancelUpload:A,onClearUploadStatus:O,onSelectAssets:P,onSelectFiles:M,onStale:F,path:R,readOnly:B,resolveUploader:N,schemaType:L,setHoveringFiles:z,value:V}=e,{t:U}=IO();v[0]!==R?(i=R.concat(epV),v[0]=R,v[1]=i):i=v[1];let H=i,[q,W]=(0,E.useState)(null),[Y,K]=(0,E.useState)(!1);v[2]===Symbol.for("react.memo_cache_sentinel")?(a=[],v[2]=a):a=v[2];let[G,$]=(0,E.useState)(a),Z=null==(t=w.ref)?void 0:t.current,X=b.filter(epW).length>1;v[3]!==w?(o=e=>{var t;e.currentTarget===e.target&&e.currentTarget===(null==(t=w.ref)?void 0:t.current)&&w.onFocus(e)},v[3]=w,v[4]=o):o=v[4];let J=o;v[5]!==k||v[6]!==X||v[7]!==N||v[8]!==L||v[9]!==z?(l=e=>{z(e.filter(epq));let t=!0,n=e.filter(e=>null==N?void 0:N(L,e)),r=e.length-n.length;e.length>0&&(r>0||!1===k)&&(t=!1),X&&t&&K(!0)},v[5]=k,v[6]=X,v[7]=N,v[8]=L,v[9]=z,v[10]=l):l=v[10];let Q=l;v[11]!==z?(s=()=>{z([]),K(!1)},v[11]=z,v[12]=s):s=v[12];let ee=s;v[13]!==k||v[14]!==ee||v[15]!==S.length||v[16]!==M||v[17]!==B||v[18]!==z?(c=(e,t)=>{k&&!B?(z([]),M(e,t)):S.length>0&&ee()},v[13]=k,v[14]=ee,v[15]=S.length,v[16]=M,v[17]=B,v[18]=z,v[19]=c):c=v[19];let et=c;v[20]!==k||v[21]!==S||v[22]!==B||v[23]!==N||v[24]!==L||v[25]!==(null==V?void 0:V._upload)||v[26]!==(null==V?void 0:V.asset)?(u=()=>{let e=S.filter(e=>null==N?void 0:N(L,e)),t=S.length-e.length;return S.length>0&&(t>0||!1===k)?"critical":(null==V?void 0:V._upload)||B||!(S.length>0)?(null==V?void 0:V._upload)&&(null==V?void 0:V.asset)&&B?"transparent":"default":"primary"},v[20]=k,v[21]=S,v[22]=B,v[23]=N,v[24]=L,v[25]=null==V?void 0:V._upload,v[26]=null==V?void 0:V.asset,v[27]=u):u=v[27];let en=u,er=!!((null==V?void 0:V._upload)||(null==V?void 0:V.asset));v[28]!==G||v[29]!==M?(d=e=>{W(e),e&&G.length>0&&(K(!1),M(e,G),$([]),W(null))},v[28]=G,v[29]=M,v[30]=d):d=v[30];let ei=d;v[31]!==q||v[32]!==b||v[33]!==k||v[34]!==X||v[35]!==M||v[36]!==N||v[37]!==L?(p=e=>{let t=e.filter(e=>null==N?void 0:N(L,e));if(!(e.length-t.length>0||!1===k)&&0!==e.length)if(X){if(q){M(q,e),K(!1),W(null);return}K(!0),$(e)}else{let t=b.filter(epH)[0];t&&M(t,e),K(!1),W(null)}},v[31]=q,v[32]=b,v[33]=k,v[34]=X,v[35]=M,v[36]=N,v[37]=L,v[38]=p):p=v[38];let ea=p;v[39]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{K(!1),W(null)},v[39]=f):f=v[39];let eo=f;if(V&&"u">typeof V.asset&&!(null==V?void 0:V._upload)&&!(null==V||null==(r=V.asset)||null==(n=r._ref)?void 0:n.startsWith("media-library:"))){let e;return v[40]!==C?(e=(0,_.jsx)(epD,{onClearValue:C}),v[40]=C,v[41]=e):e=v[41],e}v[42]!==T||v[43]!==O?(h=T&&(0,_.jsx)(I.Box,{marginBottom:2,children:(0,_.jsx)(Q2,{onClearStale:O})}),v[42]=T,v[43]=O,v[44]=h):h=v[44];let el=!!e.focused;return v[45]!==b||v[46]!==k||v[47]!==w||v[48]!==Z||v[49]!==en||v[50]!==J||v[51]!==ee||v[52]!==Q||v[53]!==ea||v[54]!==et||v[55]!==ei||v[56]!==er||v[57]!==S.length||v[58]!==D||v[59]!==A||v[60]!==P||v[61]!==F||v[62]!==e||v[63]!==B||v[64]!==Y||v[65]!==U||v[66]!==V?(m=(null==V?void 0:V._upload)?(0,_.jsx)(Q1,{uploadState:V._upload,onCancel:D&&A?A:void 0,onStale:F}):(0,_.jsx)(JW,{...w,onFocus:J,tabIndex:0,disabled:B||!1===k,onFiles:ea,onFilesOver:Q,onFilesOut:ee,tone:en(),$border:er||S.length>0,style:{padding:1},sizing:"border",radius:2,children:(0,_.jsxs)("div",{style:{position:"relative"},children:[Y&&(0,_.jsx)(JK,{assetSources:b,onSelectAssetSource:ei,referenceElement:Z,onClose:eo,text:U("inputs.files.common.placeholder.select-asset-source-upload-destination",{context:"file"})}),!(null==V?void 0:V.asset)&&(0,_.jsx)(epY,{...e,onSelectFiles:et}),(null==V?void 0:V.asset)&&S.length>0?(0,_.jsx)(epK,{...e,tone:en(),onSelectFiles:et}):null,!(null==V?void 0:V._upload)&&(null==V?void 0:V.asset)&&(0,_.jsx)(epz,{...e,onSelectAssets:P})]})}),v[45]=b,v[46]=k,v[47]=w,v[48]=Z,v[49]=en,v[50]=J,v[51]=ee,v[52]=Q,v[53]=ea,v[54]=et,v[55]=ei,v[56]=er,v[57]=S.length,v[58]=D,v[59]=A,v[60]=P,v[61]=F,v[62]=e,v[63]=B,v[64]=Y,v[65]=U,v[66]=V,v[67]=m):m=v[67],v[68]!==H||v[69]!==x||v[70]!==el||v[71]!==m?(g=(0,_.jsx)($j,{path:H,hasFocus:el,isChanged:x,children:m}),v[68]=H,v[69]=x,v[70]=el,v[71]=m,v[72]=g):g=v[72],v[73]!==h||v[74]!==g?(y=(0,_.jsxs)(_.Fragment,{children:[h,g]}),v[73]=h,v[74]=g,v[75]=y):y=v[75],y}function epH(e){return e.Uploader}function epq(e){return"string"!==e.kind}function epW(e){return!!e.Uploader}function epY(e){let t,n,r,i,a,o,l=(0,j.c)(27),{assetSources:s,directUploads:c,hoveringFiles:u,onSelectFiles:d,readOnly:p,resolveUploader:f,schemaType:h}=e;if(l[0]!==u||l[1]!==f||l[2]!==h){let e;l[4]!==f||l[5]!==h?(e=e=>null==f?void 0:f(h,e),l[4]=f,l[5]=h,l[6]=e):e=l[6],t=u.filter(e),l[0]=u,l[1]=f,l[2]=h,l[3]=t}else t=l[3];let m=t,g=u.length-m.length;l[7]!==h?(n=(0,n_.default)(h,"options.accept",""),l[7]=h,l[8]=n):n=l[8];let y=n,v=p?"transparent":"inherit";return l[9]!==u.length?(r=0===u.length?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},l[9]=u.length,l[10]=r):r=l[10],l[11]!==e?(i=(0,_.jsx)(epT,{...e}),l[11]=e,l[12]=i):i=l[12],l[13]!==y||l[14]!==m||l[15]!==s||l[16]!==c||l[17]!==u||l[18]!==d||l[19]!==p||l[20]!==g||l[21]!==i?(a=(0,_.jsx)(QY,{accept:y,acceptedFiles:m,assetSources:s,browse:i,directUploads:c,hoveringFiles:u,onUpload:d,readOnly:p,rejectedFilesCount:g,type:"file"}),l[13]=y,l[14]=m,l[15]=s,l[16]=c,l[17]=u,l[18]=d,l[19]=p,l[20]=g,l[21]=i,l[22]=a):a=l[22],l[23]!==v||l[24]!==r||l[25]!==a?(o=(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(I.Card,{tone:v,border:!0,paddingX:3,paddingY:2,radius:2,style:r,children:a})}),l[23]=v,l[24]=r,l[25]=a,l[26]=o):o=l[26],o}function epK(e){let t,n,r,i=(0,j.c)(16),{directUploads:a,schemaType:o,readOnly:l,resolveUploader:s,hoveringFiles:c,tone:u}=e;if(i[0]!==c||i[1]!==s||i[2]!==o){let e;i[4]!==s||i[5]!==o?(e=e=>null==s?void 0:s(o,e),i[4]=s,i[5]=o,i[6]=e):e=i[6],t=c.filter(e),i[0]=c,i[1]=s,i[2]=o,i[3]=t}else t=i[3];let d=t,p=c.length-d.length;return i[7]!==d||i[8]!==a||i[9]!==c||i[10]!==l||i[11]!==p?(n=(0,_.jsx)(epA,{align:"center",justify:"center",gap:2,flex:1,children:(0,_.jsx)(Jq,{directUploads:a,readOnly:l,hoveringFiles:c,acceptedFiles:d,rejectedFilesCount:p,type:"file"})}),i[7]=d,i[8]=a,i[9]=c,i[10]=l,i[11]=p,i[12]=n):n=i[12],i[13]!==n||i[14]!==u?(r=(0,_.jsx)(epI,{radius:2,tone:u,children:n}),i[13]=n,i[14]=u,i[15]=r):r=i[15],r}function epG(e){let t,n,r,i,a,o=(0,j.c)(32),{isUploading:l,observeAsset:s,schemaType:c,selectedAssetSource:u,setSelectedAssetSource:d,onSelectAssets:p,value:f,uploader:h}=e,m="sanity.video",{t:g}=IO();o[0]!==c?(t=(0,n_.default)(c,"options.accept",""),o[0]=c,o[1]=t):t=o[1];let y=t;o[2]!==d?(n=()=>{d(null)},o[2]=d,o[3]=n):n=o[3];let v=n;if(!u)return null;let b=u.component;if(f&&f.asset){let e,t,n;return o[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(epR,{}),o[4]=e):e=o[4],o[5]!==b||o[6]!==y||o[7]!==v||o[8]!==l||o[9]!==p||o[10]!==c||o[11]!==u||o[12]!==g||o[13]!==h?(t=e=>(0,_.jsx)(b,{accept:y,action:l?"upload":"select",assetSource:u,assetType:m,dialogHeaderTitle:g("inputs.file.dialog.title"),onClose:v,onSelect:p,schemaType:c,selectedAssets:[e],selectionType:"single",uploader:h}),o[5]=b,o[6]=y,o[7]=v,o[8]=l,o[9]=p,o[10]=c,o[11]=u,o[12]=g,o[13]=h,o[14]=t):t=o[14],o[15]!==s||o[16]!==t||o[17]!==f.asset?(n=(0,_.jsx)(Q5,{observeAsset:s,reference:f.asset,waitPlaceholder:e,children:t}),o[15]=s,o[16]=t,o[17]=f.asset,o[18]=n):n=o[18],n}let x=l?"upload":"select";return o[19]!==g?(r=g("inputs.file.dialog.title"),o[19]=g,o[20]=r):r=o[20],o[21]===Symbol.for("react.memo_cache_sentinel")?(i=[],o[21]=i):i=o[21],o[22]!==b||o[23]!==y||o[24]!==v||o[25]!==p||o[26]!==c||o[27]!==u||o[28]!==x||o[29]!==r||o[30]!==h?(a=(0,_.jsx)(b,{accept:y,action:x,assetSource:u,assetType:m,dialogHeaderTitle:r,onClose:v,onSelect:p,schemaType:c,selectedAssets:i,selectionType:"single",uploader:h}),o[22]=b,o[23]=y,o[24]=v,o[25]=p,o[26]=c,o[27]=u,o[28]=x,o[29]=r,o[30]=h,o[31]=a):a=o[31],a}function ep$(e){let{children:t}=e;return t}function epZ(e){var t;let{client:n,members:r,onChange:i,renderAnnotation:a,renderBlock:o,renderField:l,renderInlineBlock:s,renderInput:c,renderItem:u,renderPreview:d,schemaType:p,value:f}=e,{push:h}=(0,A.useToast)(),{t:m}=IO(),[g,y]=(0,E.useState)([]),[v,b]=(0,E.useState)(!1),[x,C]=(0,E.useState)(!1),[k,w]=(0,E.useState)(!1),[j,S]=(0,E.useState)(null),T=(0,E.useRef)(null),D=(0,E.useRef)(null),I=(0,E.useCallback)(e=>{e&&(T.current=e)},[T]),O=(0,E.useRef)(null),P=(0,E.useCallback)(()=>{i([LN(["asset"]),LN(["media"])])},[i]),M=(0,E.useCallback)(()=>{(null==f?void 0:f._upload)&&i(zU.from([LN(["_upload"])]))},[i,null==f?void 0:f._upload]),F=(0,E.useCallback)(()=>{b(!0)},[]),R=(0,E.useCallback)(()=>{var e;O.current&&(null==(e=O.current)||e.unsubscribe(),M())},[M]),B=(0,E.useCallback)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{source:a}=r,o={metadata:(0,n_.default)(p,"options.metadata"),storeOriginalFilename:(0,n_.default)(p,"options.storeOriginalFilename"),source:a};R(),C(!0),i(zU.from([LF({_type:p.name})])),O.current=e.upload(n,t,p,o).subscribe({next:e=>{e.patches&&i(zU.from(e.patches))},error:e=>{console.error(e),h({status:"error",description:m("inputs.file.upload-failed.description"),title:m("inputs.file.upload-failed.title")}),M()},complete:()=>{C(!1)}})},[R,M,n,i,h,p,m]),N=(0,E.useCallback)(e=>{JU({assetsFromSource:e,onChange:i,type:p,resolveUploader:Hr,uploadWith:B}),S(null),C(!1)},[i,p,B]),L=(0,E.useCallback)((e,t)=>{if(0!==t.length&&(S(e),e.Uploader)){var n,r;let a=new e.Uploader;null==(n=D.current)||n.unsubscribe();try{D.current={unsubscribe:a.subscribe(e=>{switch(e.type){case"progress":i(zU.from([LB(Math.max(2,e.progress),[U0,"progress"]),LB(new Date().toISOString(),[U0,"updatedAt"])]));break;case"error":e.files.forEach(e=>{console.error(e.error)}),h({status:"error",description:m("asset-sources.common.uploader.upload-failed.description"),title:m("asset-sources.common.uploader.upload-failed.title")});break;case"all-complete":i(zU.from([LN([U0])]))}}),uploader:a},C(!0),i(zU.from(U3(t[0]))),a.upload(t,{schemaType:p,onChange:i})}catch(e){i(zU.from([LN([U0])])),C(!1),null==(r=D.current)||r.unsubscribe(),S(null),D.current=null,h({status:"error",description:m("asset-sources.common.uploader.upload-failed.description"),title:m("asset-sources.common.uploader.upload-failed.title")}),console.error(e)}}},[i,h,p,m]);(0,E.useEffect)(()=>()=>{var e,t,n;null==(t=D.current)||null==(e=t.uploader)||e.abort(),null==(n=D.current)||n.unsubscribe()},[]);let z=(0,E.useCallback)(()=>{var e,t;null==(t=D.current)||null==(e=t.uploader)||e.abort()},[]),V=(0,E.useCallback)(()=>(0,_.jsx)(epU,{...e,browseButtonElementRef:T,clearField:P,hoveringFiles:g,isBrowseMenuOpen:k,isStale:v,isUploading:x,onCancelUpload:z,onClearUploadStatus:M,onSelectAssets:N,onSelectFiles:L,onStale:F,selectedAssetSource:j,setBrowseButtonElement:I,setHoveringFiles:y,setIsBrowseMenuOpen:w,setIsUploading:C,setSelectedAssetSource:S}),[z,P,M,N,L,F,g,k,v,x,e,j,T,I]);return(0,_.jsxs)(_.Fragment,{children:[r.map(e=>"field"===e.kind?(0,_.jsx)(Hs,{member:e,renderAnnotation:a,renderBlock:o,renderField:"asset"===e.name?ep$:l,renderInlineBlock:s,renderInput:"asset"===e.name?V:c,renderItem:u,renderPreview:d},e.key):"fieldSet"===e.kind?(0,_.jsx)(H9,{member:e,renderAnnotation:a,renderBlock:o,renderField:l,renderInlineBlock:s,renderInput:c,renderItem:u,renderPreview:d},e.key):"error"===e.kind?(0,_.jsx)(H6,{member:e},e.key):(0,_.jsx)(E.Fragment,{children:m("inputs.file.error.unknown-member-kind",{kind:e.kind})},e.key)),j&&(0,_.jsx)(epG,{...e,browseButtonElementRef:T,clearField:P,hoveringFiles:g,isBrowseMenuOpen:k,isStale:v,isUploading:x,onClearUploadStatus:M,onStale:F,onSelectAssets:N,onSelectFiles:L,selectedAssetSource:j,setBrowseButtonElement:I,setHoveringFiles:y,setIsBrowseMenuOpen:w,setIsUploading:C,setSelectedAssetSource:S,uploader:null==(t=D.current)?void 0:t.uploader})]})}function epX(e){return"sanity-media-library"===e.name}let epJ=(0,W.defineType)({name:"sanity.video",title:"Video",type:"object",components:{input:function(e){var t;let n,r,i,a,o=(0,j.c)(13),l=null==(t=e.schemaType.options)?void 0:t.sources,s=Fu(),{file:c}=Lw().__internal,u=eTt(AE);o[0]!==c.directUploads?(n=(e,t)=>c.directUploads?Hr(e,t):null,o[0]=c.directUploads,o[1]=n):n=o[1];let d=n,p=l||c.assetSources;o[2]!==p?(r=p.filter(epX),o[2]=p,o[3]=r):r=o[3];let f=r;o[4]!==s?(i=e=>U1(s,e),o[4]=s,o[5]=i):i=o[5];let h=i;return o[6]!==u||o[7]!==c.directUploads||o[8]!==f||o[9]!==h||o[10]!==e||o[11]!==d?(a=(0,_.jsx)(epZ,{...e,client:u,assetSources:f,directUploads:c.directUploads,observeAsset:h,resolveUploader:d}),o[6]=u,o[7]=c.directUploads,o[8]=f,o[9]=h,o[10]=e,o[11]=d,o[12]=a):a=o[12],a},field:e=>e.renderDefault({...e,level:e.level-1})},fields:[{name:"asset",type:"globalDocumentReference",to:[{type:"sanity.videoAsset",preview:{select:{title:"_id"}}}],resourceType:"media-library",resourceId:"_"},{name:"media",type:"globalDocumentReference",hidden:!0,to:[{type:"sanity.asset",preview:{select:{title:"_id"}}}],resourceType:"media-library",resourceId:"_"}]}),epQ=(0,W.defineType)({name:"sanity.videoAsset",title:"Video",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"creditLine",type:"string",title:"Credit line"},{name:"metadata",type:"sanity.videoMetadata",title:"Video metadata",readOnly:!0,fieldset:"system"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size",duration:"metadata.duration"},prepare(e){let t=e.duration?"".concat(Math.floor(e.duration/60),":").concat(String(Math.floor(e.duration%60)).padStart(2,"0")):"";return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)").concat(t?" - ".concat(t):"")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]},{title:"Duration",name:"durationDesc",by:[{field:"metadata.duration",direction:"desc"}]}]}),ep1=(0,W.defineType)({name:"sanity.videoMetadata.playback",title:"Playback",type:"object",fields:[{name:"policy",type:"string"}]}),ep2=(0,W.defineType)({name:"sanity.videoMetadata",title:"Video metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsible:!0}}],fields:[{name:"duration",title:"Duration (seconds)",type:"number",readOnly:!0},{name:"framerate",title:"Frame Rate",type:"number",readOnly:!0},{name:"aspectRatio",title:"Aspect Ratio",type:"number",readOnly:!0},{name:"hasAudio",title:"Has audio",type:"boolean",readOnly:!0},{name:"codec",title:"Codec",type:"string",readOnly:!0,fieldset:"extra"},{name:"bitrate",title:"Bitrate",type:"number",readOnly:!0,fieldset:"extra"}]}),ep0="sanity/media-library",ep5=eie({name:ep0,schema:{types:[epJ,epQ,ep2,ep1]}}),ep7="canvas",ep3={locale:"en-US",namespace:ep7,resources:()=>e.A(964020)},ep8={value:null,loading:!0};function ep4(){let e,t=(0,j.c)(2),n=Ff();return t[0]!==n?(e=n.getOrganizationId().pipe((0,Z.map)(ep6),(0,eI.startWith)({value:null,loading:!0})),t[0]=n,t[1]=e):e=t[1],(0,te.useObservable)(e,ep8)}function ep6(e){return{value:e,loading:!1}}function ep9(){let e=Fm();return(0,te.useObservable)(e.renderingContext)}let efe=(0,tc.defineEvent)({name:"Canvas Link CTA Clicked",version:1,description:'The "Link to Canvas" button is clicked.'}),eft=(0,tc.defineEvent)({name:"Canvas Link Redirected",version:1,description:"The user is redirected to the canvas studio-import page"}),efn=(0,tc.defineEvent)({name:"Canvas Link Dialog Diffs Shown",version:1,description:"The diffs dialog is shown"}),efr=(0,tc.defineEvent)({name:"Canvas Link Dialog Rejected",version:1,description:'User clicked "Cancel" in the "Link to Canvas" dialog after seeing the diffs'}),efi=(0,tc.defineEvent)({name:"Canvas Unlink CTA Clicked",version:1,description:'User clicked "Unlink" action'}),efa=(0,tc.defineEvent)({name:"Canvas Unlink Approved",version:1,description:"User confirmed that they want the Studio document unlinked"}),efo=(0,tc.defineEvent)({name:"Canvas Opened from studio",version:1,description:'User clicked "Edit in Canvas"'}),efl=e=>e.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{});function efs(){let e,t=(0,j.c)(2),n=(0,tp.useTelemetry)();return t[0]!==n?(e={linkCtaClicked:()=>n.log(efe),linkRedirected:(e,t)=>n.log(eft,{origin:e,diffs:t?efl(t):void 0}),linkDialogDiffsShown:()=>n.log(efn),linkDialogRejected:e=>n.log(efr,{diffs:efl(e)}),unlinkCtaClicked:()=>n.log(efi),unlinkApproved:()=>n.log(efa),canvasOpened:e=>n.log(efo,{origin:e})},t[0]=n,t[1]=e):e=t[1],e}let efc=(e,t)=>{var n;let r,i=(0,j.c)(10),{value:a}=ep4(),o=eTt(AE),{node:l}=Fg(),s=(null==(n=ep9())?void 0:n.name)==="coreUi",{canvasOpened:c}=efs(),u=(0,A.useToast)(),{t:d}=IO(ep7);return i[0]!==e||i[1]!==c||i[2]!==o||i[3]!==s||i[4]!==l||i[5]!==a||i[6]!==t||i[7]!==d||i[8]!==u?(r=()=>{if(e)if(c(t),s&&l){let t={type:"dashboard/v1/bridge/navigate-to-resource",data:{resourceId:"",resourceType:"canvas",path:"doc/".concat(e)}};l.post(t.type,t.data)}else{if(!a)return void u.push({status:"error",title:d("navigate-to-canvas-doc.error.missing-permissions")});let t="https://api.sanity.work"===o.config().apiHost;window.open("https://www.sanity.".concat(t?"work":"io","/@").concat(a,"/canvas/doc/").concat(e),"_blank")}},i[0]=e,i[1]=c,i[2]=o,i[3]=s,i[4]=l,i[5]=a,i[6]=t,i[7]=d,i[8]=u,i[9]=r):r=i[9],r},efu=e=>{let{t}=IO(ep7),{isLinked:n,companionDoc:r,loading:i}=eue(e.liveEditSchemaType?(0,th.getPublishedId)(e.id):(0,th.getDraftId)(e.id)),a=efc(null==r?void 0:r.canvasDocumentId,"action");return!n||i?null:{icon:R.ComposeSparklesIcon,label:t("action.edit-document"),onHandle:a}};efu.action="editInCanvas",efu.displayName="EditInCanvasAction";let efd=e=>{let{_id:t,_rev:n,_createdAt:r,_updatedAt:i,...a}=JSON.parse(JSON.stringify(e));return a};function efp(e){let t,n,r,i,a,o,l=(0,j.c)(20),{baseDocument:s,document:c}=e,u=el3();l[0]!==c._type||l[1]!==u?(t=u.get(c._type),l[0]=c._type,l[1]=u,l[2]=t):t=l[2];let d=t,{currentUser:p}=eii();l[3]!==s||l[4]!==(null==p?void 0:p.id)||l[5]!==c?(n=m0(m9(efd(null!=s?s:{}),{author:null==p?void 0:p.id}),m9(efd(c),{author:null==p?void 0:p.id})),l[3]=s,l[4]=null==p?void 0:p.id,l[5]=c,l[6]=n):n=l[6];let f=n;return l[7]!==c._id?(r=(0,th.getPublishedId)(c._id),l[7]=c._id,l[8]=r):r=l[8],l[9]!==c||l[10]!==f||l[11]!==d||l[12]!==r?(i={documentId:r,schemaType:d,rootDiff:f,isComparingCurrent:!1,FieldWrapper:eff,value:c,showFromValue:!0},l[9]=c,l[10]=f,l[11]=d,l[12]=r,l[13]=i):i=l[13],l[14]!==f||l[15]!==d?(a=(0,_.jsx)(Li,{diff:f,schemaType:d}),l[14]=f,l[15]=d,l[16]=a):a=l[16],l[17]!==i||l[18]!==a?(o=(0,_.jsx)(D.DocumentChangeContext.Provider,{value:i,children:a}),l[17]=i,l[18]=a,l[19]=o):o=l[19],o}function eff(e){return e.children}let efh=(0,F.styled)(I.Card)(e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Sv(),t.button.ghost[e.tone].enabled.fg)}),efm=e=>{let t,n,r,i,a,o=(0,j.c)(13),{id:l,showSparkles:s}=e,c=In(l),u="published"===c?"Published":"Draft",d="published"===c?"positive":"caution",p="published"===c?"positive":"caution";return o[0]!==p?(t=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(erZ,{tone:p})}),o[0]=p,o[1]=t):t=o[1],o[2]!==u?(n=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:u}),o[2]=u,o[3]=n):n=o[3],o[4]!==s?(r=s&&(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ComposeSparklesIcon,{})}),o[4]=s,o[5]=r):r=o[5],o[6]!==t||o[7]!==n||o[8]!==r?(i=(0,_.jsxs)(I.Flex,{gap:2,align:"center",children:[t,n,r]}),o[6]=t,o[7]=n,o[8]=r,o[9]=i):i=o[9],o[10]!==d||o[11]!==i?(a=(0,_.jsx)(efh,{tone:d,padding:2,paddingRight:3,radius:"full",children:i}),o[10]=d,o[11]=i,o[12]=a):a=o[12],a};function efg(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(34),{originalDocument:x,mappedDocument:C}=e,{t:k}=IO(ep7);b[0]===Symbol.for("react.memo_cache_sentinel")?(t={opacity:0},n={opacity:1},r={opacity:0},i={duration:.3},b[0]=t,b[1]=n,b[2]=r,b[3]=i):(t=b[0],n=b[1],r=b[2],i=b[3]),b[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsx)(I.Text,{size:2,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),b[4]=a):a=b[4],b[5]!==k?(o=k("dialog.confirm-document-changes.title"),b[5]=k,b[6]=o):o=b[6],b[7]!==o?(l=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:o})}),b[7]=o,b[8]=l):l=b[8],b[9]!==k?(s=k("dialog.confirm-document-changes.description"),b[9]=k,b[10]=s):s=b[10],b[11]!==s?(c=(0,_.jsx)(I.Box,{padding:1,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:s})}),b[11]=s,b[12]=c):c=b[12],b[13]!==l||b[14]!==c?(u=(0,_.jsx)(I.Card,{tone:"critical",padding:2,radius:3,children:(0,_.jsxs)(I.Flex,{gap:2,align:"flex-start",children:[a,(0,_.jsxs)(I.Stack,{space:2,children:[l,c]})]})}),b[13]=l,b[14]=c,b[15]=u):u=b[15];let w=(null==x?void 0:x._id)||"";b[16]!==w?(d=(0,_.jsx)(efm,{id:w}),b[16]=w,b[17]=d):d=b[17],b[18]===Symbol.for("react.memo_cache_sentinel")?(p=(0,_.jsx)(I.Text,{size:2,children:(0,_.jsx)(R.ArrowRightIcon,{})}),b[18]=p):p=b[18];let S=(null==C?void 0:C._id)||"";return b[19]!==S?(f=(0,_.jsx)(efm,{id:S,showSparkles:!0}),b[19]=S,b[20]=f):f=b[20],b[21]!==d||b[22]!==f?(h=(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsxs)(I.Flex,{gap:2,align:"center",children:[d,p,f]})}),b[21]=d,b[22]=f,b[23]=h):h=b[23],b[24]===Symbol.for("react.memo_cache_sentinel")?(m=(0,_.jsx)(I.Card,{borderBottom:!0}),b[24]=m):m=b[24],b[25]!==C||b[26]!==x?(g=x&&C&&(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(efp,{baseDocument:x,document:C})}),b[25]=C,b[26]=x,b[27]=g):g=b[27],b[28]!==h||b[29]!==g?(y=(0,_.jsxs)(I.Card,{radius:3,border:!0,marginTop:3,children:[h,m,g]}),b[28]=h,b[29]=g,b[30]=y):y=b[30],b[31]!==u||b[32]!==y?(v=(0,_.jsxs)(na.motion.div,{initial:t,animate:n,exit:r,transition:i,children:[u,y]}),b[31]=u,b[32]=y,b[33]=v):v=b[33],v}function efy(e){let t,n,r=(0,j.c)(5),{children:i}=e,a=(0,E.useContext)(D.AppIdCacheContext);r[0]!==a?(t=a||function(){let e={};return{get:async t=>{let{projectId:n,appIdFetcher:r}=t,i=e[n];return i||(i=(async()=>{try{return await r(n)}catch(t){console.error(t),e[n]=void 0;return}})(),e[n]=i,i)}}}(),r[0]=a,r[1]=t):t=r[1];let o=t;return r[2]!==o||r[3]!==i?(n=(0,_.jsx)(D.AppIdCacheContext.Provider,{value:o,children:i}),r[2]=o,r[3]=i,r[4]=n):n=r[4],n}function efv(){let e=(0,E.useContext)(D.AppIdCacheContext);if(!e)throw Error("AppIdCache: missing context value. Ensure the component is wrapped in a AppIdCacheProvider.");return e}async function efb(e){let t="".concat(e,"/static/create-manifest.json");try{let e=await fetch(t,{method:"HEAD"});return 404!=e.status&&(!(e.status>299)||(console.error("Failed to get manifest from ".concat(t),e),!1))}catch(e){return console.error("Failed to fetch from ".concat(t),e),!1}}let efx="u">typeof __SANITY_STAGING__&&!0===__SANITY_STAGING__?"studio.sanity.work":"sanity.studio";async function efC(e,t,n){return(await e.request({method:"GET",url:"/projects/".concat(t,"/user-applications")})).map(e=>({...e,studioUrl:efw(e,n)}))}async function efk(e){var t,n;let{projectId:r,client:i,fallbackOrigin:a,internalSuffix:o=efx,checkStudioManifest:l=efb,origin:s=null==(t=window.location)?void 0:t.origin}=e,c=await efC(i,r,o),u=c.find(e=>{var t;return e&&s&&(null==(t=e.studioUrl)?void 0:t.startsWith(s))});return(null==u?void 0:u.appHost)&&await l(efw(u,o))?{appId:u.id,studioApps:c}:{appId:null==(n=c.find(e=>{var t;return e&&a&&(null==(t=e.studioUrl)?void 0:t.startsWith("https://".concat(a)))}))?void 0:n.id,studioApps:c}}function efw(e,t){return"internal"===e.urlType?"https://".concat(e.appHost,".").concat(t):e.appHost}function ef_(e){let t,n,r,i=(0,j.c)(9);i[0]===Symbol.for("react.memo_cache_sentinel")?(t={apiVersion:"2024-09-01"},i[0]=t):t=i[0];let a=eTt(t),o=efv(),{projectId:l}=eii();i[1]!==a||i[2]!==e.fallbackStudioOrigin?(n=t=>efk({projectId:t,client:a,fallbackOrigin:e.fallbackStudioOrigin}),i[1]=a,i[2]=e.fallbackStudioOrigin,i[3]=n):n=i[3];let s=n;return i[4]!==s||i[5]!==o||i[6]!==e.enabled||i[7]!==l?(r={projectId:l,cache:o,appIdFetcher:s,enabled:e.enabled},i[4]=s,i[5]=o,i[6]=e.enabled,i[7]=l,i[8]=r):r=i[8],function(e){let{cache:t,enabled:n,appIdFetcher:r,projectId:i}=e,[a,o]=(0,E.useState)(!1),[l,s]=(0,E.useState)();return(0,E.useEffect)(()=>{let e=!0;async function a(){if(i){o(!0);try{let n=await t.get({projectId:i,appIdFetcher:r});e&&s(n)}catch(t){e&&s(void 0)}finally{e&&o(!1)}}}return n&&a().catch(console.error),()=>{e=!1,o(!1)}},[o,r,t,n,i]),{loading:a,studioApp:l}}(r)}let efj=Intl.DateTimeFormat().resolvedOptions(),efS={status:"validating"},efE={apiVersion:"v2025-04-29"};function efT(e){return(0,Y.of)({status:"error",error:e.message})}function efD(){}let efI=e=>{let t,n,r,i,a,o,l,s,c,u=(0,j.c)(35),{document:d,onClose:p}=e,{t:f}=IO(ep7),h=(0,E.useId)();u[0]!==d?(t={document:d},u[0]=d,u[1]=t):t=u[1];let{status:m,error:g,navigateToCanvas:y,response:v}=function(e){var t,n;let r,i,a=(0,j.c)(25),{document:o}=e,l=FU(),s=Ff(),c=ep9(),{node:u}=Fg(),d=(null==c?void 0:c.name)==="coreUi",{linkRedirected:p,linkDialogDiffsShown:f}=efs(),h=null==(n=l.apps)||null==(t=n.canvas)?void 0:t.fallbackStudioOrigin;a[0]!==h?(r={enabled:!0,fallbackStudioOrigin:h},a[0]=h,a[1]=r):r=a[1];let{studioApp:m,loading:g}=ef_(r),y="_.schemas.".concat(FU().name||"default"),v=eTt(efE);e:{let e,t;if(g){let e;a[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)({status:"validating"}),a[2]=e):e=a[2],i=e;break e}if(!(null==m?void 0:m.appId)){let e;a[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)({status:"error",error:"Studio app not found, try deploying it or set the fallbackStudioOrigin"}),a[3]=e):e=a[3],i=e;break e}if(!(null==o?void 0:o._id)){let e;a[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)({status:"missing-document-id",error:"Missing document ID"}),a[4]=e):e=a[4],i=e;break e}a[5]!==v||a[6]!==o._id||a[7]!==o._type||a[8]!==d||a[9]!==u||a[10]!==s||a[11]!==(null==m?void 0:m.appId)||a[12]!==l.name?(e=()=>{let e=v.config().dataset||"",t=v.config().projectId||"",n="studio-import?".concat(new URLSearchParams({projectId:t,dataset:e,documentType:o._type,documentId:o._id,workspaceName:l.name,applicationId:(null==m?void 0:m.appId)||""}).toString());if(d&&u){let e={resourceId:"",resourceType:"canvas",path:n};return(0,Y.of)(()=>u.post("dashboard/v1/bridge/navigate-to-resource",e))}return s.getOrganizationId().pipe((0,Z.map)(e=>{if(!e)return efD;let t="https://www.sanity.".concat("https://api.sanity.work"===v.config().apiHost?"work":"io","/@").concat(e,"/canvas/").concat(n);return()=>window.open(t,"_blank")}))},a[5]=v,a[6]=o._id,a[7]=o._type,a[8]=d,a[9]=u,a[10]=s,a[11]=null==m?void 0:m.appId,a[12]=l.name,a[13]=e):e=a[13];let n=e;if(a[14]!==v||a[15]!==o||a[16]!==n||a[17]!==f||a[18]!==p||a[19]!==y){let e,r;a[21]!==p?(e=e=>{let[t,n]=e;if(!t.error){var r;let e=(null==(r=t.diff)?void 0:r.length)?"diff":"redirecting";return{status:e,error:null,response:t,navigateToCanvas:()=>{p("diff"===e?"diff-dialog":"redirect",t.diff),n()}}}return{status:"error",error:t.error,response:t,redirectUrl:void 0}},a[21]=p,a[22]=e):e=a[22],a[23]!==f?(r=e=>{let{status:t,navigateToCanvas:n}=e;"redirecting"===t&&setTimeout(()=>{n()},1e3),"diff"===t&&f()},a[23]=f,a[24]=r):r=a[24],t=(0,ev.combineLatest)([(e=>{let{client:t,document:n,schemaId:r}=e,i=t.config().dataset;return t.observable.request({url:"/assist/studio-to-canvas/".concat(i),tag:"sanity.canvas",method:"POST",body:{document:n,schemaId:r,localeSettings:{locale:efj.locale,timeZone:efj.timeZone}}})})({client:v,document:o,schemaId:y}),n()]).pipe((0,Z.map)(e),(0,eh.tap)(r),(0,J.catchError)(efT)),a[14]=v,a[15]=o,a[16]=n,a[17]=f,a[18]=p,a[19]=y,a[20]=t}else t=a[20];i=t}return(0,te.useObservable)(i,efS)}(t),{linkDialogRejected:b}=efs();u[2]!==b||u[3]!==p||u[4]!==(null==v?void 0:v.diff)||u[5]!==m?(n=()=>{p(),"diff"===m&&b((null==v?void 0:v.diff)||[])},u[2]=b,u[3]=p,u[4]=null==v?void 0:v.diff,u[5]=m,u[6]=n):n=u[6];let x=n,C="dialog-link-to-canvas-".concat(h);return u[7]!==f?(r=f("dialog.link-to-canvas.title"),u[7]=f,u[8]=r):r=u[8],u[9]!==y||u[10]!==p||u[11]!==m||u[12]!==f?(i="diff"===m?{description:f("dialog.confirm-document-changes.footer-description"),confirmButton:{text:f("dialog.confirm-document-changes.confirm"),icon:R.ComposeSparklesIcon,tone:"default",onClick:y,space:2},cancelButton:{text:f("dialog.confirm-document-changes.cancel"),onClick:p}}:void 0,u[9]=y,u[10]=p,u[11]=m,u[12]=f,u[13]=i):i=u[13],u[14]!==m||u[15]!==f?(a=("validating"===m||"redirecting"===m)&&(0,_.jsx)(I.Box,{paddingY:5,children:(0,_.jsx)(DU,{title:f("validating"===m?"dialog.link-to-canvas.validating":"dialog.link-to-canvas.redirecting"),showText:!0})}),u[14]=m,u[15]=f,u[16]=a):a=u[16],u[17]!==g||u[18]!==m||u[19]!==f?(o=("error"===m||"missing-document-id"===m)&&(0,_.jsx)(na.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,_.jsx)(I.Card,{border:!0,tone:"critical",padding:4,radius:3,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:g||f("dialog.link-to-canvas.error")})})}),u[17]=g,u[18]=m,u[19]=f,u[20]=o):o=u[20],u[21]!==d||u[22]!==v||u[23]!==m?(l="diff"===m&&v&&(0,_.jsx)(efg,{originalDocument:d,mappedDocument:v.mappedDocument}),u[21]=d,u[22]=v,u[23]=m,u[24]=l):l=u[24],u[25]!==a||u[26]!==o||u[27]!==l?(s=(0,_.jsxs)(I.Box,{padding:3,children:[a,o,l]}),u[25]=a,u[26]=o,u[27]=l,u[28]=s):s=u[28],u[29]!==x||u[30]!==C||u[31]!==r||u[32]!==i||u[33]!==s?(c=(0,_.jsx)(B.Dialog,{id:C,header:r,onClose:x,width:1,bodyHeight:"stretch",padding:!1,footer:i,children:s}),u[29]=x,u[30]=C,u[31]=r,u[32]=i,u[33]=s,u[34]=c):c=u[34],c},efA=e=>{var t;let{t:n}=IO(ep7),[r,i]=(0,E.useState)(!1),{selectedPerspective:a}=Ar(),{isLinked:o,loading:l}=eue(e.liveEditSchemaType?(0,th.getPublishedId)(e.id):(0,th.getDraftId)(e.id)),{value:s}=ep4(),{linkCtaClicked:c}=efs(),u=(e=>{var t,n,r;let i,a=(0,j.c)(3),o=el3();return a[0]!==o||a[1]!==e?(i=null==(r=o.get(e))||null==(n=r.options)||null==(t=n.sanityCreate)?void 0:t.exclude,a[0]=o,a[1]=e,a[2]=i):i=a[2],i})(e.type),d=(0,E.useCallback)(()=>i(!1),[]),p=(null==(t=ep9())?void 0:t.name)==="coreUi",f=!!e.release,h=U_(),[m,g]=(0,E.useState)(),y=(0,E.useCallback)(()=>{c();let t=h([]);g({...t,_id:e.liveEditSchemaType?(0,th.getPublishedId)(t._id):(0,th.getDraftId)(t._id)}),i(!0)},[h,e.liveEditSchemaType,c]),v=(0,E.useMemo)(()=>s?p?f?{disabled:!0,reason:n("action.link-document-disabled.version-document")}:e.initialValueResolved?{disabled:!1,reason:void 0}:{disabled:!0,reason:n("action.link-document-disabled.initial-value-not-resolved")}:{disabled:!0,reason:n("action.link-document-disabled.not-in-dashboard")}:{disabled:!0,reason:n("action.link-document-disabled.missing-permissions")},[f,n,e.initialValueResolved,p,s]);return(0,E.useEffect)(()=>{o&&d()},[o,d]),o||l||u||"published"===a&&!e.liveEditSchemaType||Id(a)||!p?null:{disabled:v.disabled,icon:R.ComposeSparklesIcon,dialog:r&&m?{type:"custom",component:(0,_.jsx)(efI,{onClose:d,document:m})}:void 0,label:n("action.link-document"),title:v.reason,onHandle:y}};efA.action="linkToCanvas",efA.displayName="LinkToCanvasAction";let efO=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v=(0,j.c)(50),{document:b,onClose:x,status:C,error:k,handleUnlink:w}=e,{t:S}=IO(ep7),{t:T}=IO();v[0]!==b?(t={document:b},v[0]=b,v[1]=t):t=v[1];let{title:D}=(e=>{let t,n,r,i=(0,j.c)(11),{document:a}=e,o=el3();i[0]!==a._type||i[1]!==o?(t=o.get(a._type),i[0]=a._type,i[1]=o,i[2]=t):t=i[2];let l=t,s=!!a;i[3]!==a||i[4]!==l||i[5]!==s?(n={enabled:s,schemaType:l,value:a},i[3]=a,i[4]=l,i[5]=s,i[6]=n):n=i[6];let{error:c,value:u}=Wt(n);if(!l){let e;return i[7]===Symbol.for("react.memo_cache_sentinel")?(e={error:"Schema type not found"},i[7]=e):e=i[7],e}let d=null==u?void 0:u.title;return i[8]!==c||i[9]!==d?(r={error:c,title:d},i[8]=c,i[9]=d,i[10]=r):r=i[10],r})(t),A="dialog-unlink-from-canvas-".concat((0,E.useId)());v[2]!==S?(n=S("dialog.unlink-from-canvas.title"),v[2]=S,v[3]=n):n=v[3];let O="loading"===C?void 0:x;v[4]!==S?(r=S("dialog.unlink-from-canvas.cancel"),v[4]=S,v[5]=r):r=v[5];let P="idle"!=C;v[6]!==x||v[7]!==r||v[8]!==P?(i={text:r,onClick:x,disabled:P},v[6]=x,v[7]=r,v[8]=P,v[9]=i):i=v[9],v[10]!==S?(a=S("dialog.unlink-from-canvas.unlink-action"),v[10]=S,v[11]=a):a=v[11];let M="loading"===C,F="idle"!=C;return v[12]!==w||v[13]!==F||v[14]!==a||v[15]!==M?(o={text:a,onClick:w,tone:"default",loading:M,disabled:F},v[12]=w,v[13]=F,v[14]=a,v[15]=M,v[16]=o):o=v[16],v[17]!==o||v[18]!==i?(l={cancelButton:i,confirmButton:o},v[17]=o,v[18]=i,v[19]=l):l=v[19],v[20]!==T||v[21]!==D?(s=D||T("preview.default.title-fallback"),v[20]=T,v[21]=D,v[22]=s):s=v[22],v[23]!==s?(c={documentTitle:s},v[23]=s,v[24]=c):c=v[24],v[25]!==S||v[26]!==c?(u=(0,_.jsx)(I.Box,{paddingBottom:2,children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:(0,_.jsx)(IZ,{t:S,i18nKey:"dialog.unlink-from-canvas.unlinking",values:c})})}),v[25]=S,v[26]=c,v[27]=u):u=v[27],v[28]!==S?(d=S("dialog.unlink-from-canvas.description"),v[28]=S,v[29]=d):d=v[29],v[30]!==d?(p=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:d})}),v[30]=d,v[31]=p):p=v[31],v[32]!==u||v[33]!==p?(f=(0,_.jsxs)(I.Stack,{space:3,children:[u,p]}),v[32]=u,v[33]=p,v[34]=f):f=v[34],v[35]!==k||v[36]!==C||v[37]!==S?(h="error"===C&&(0,_.jsx)(na.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:(0,_.jsx)(I.Card,{tone:"critical",padding:2,radius:3,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:k||S("dialog.unlink-from-canvas.error")})})},"error"),v[35]=k,v[36]=C,v[37]=S,v[38]=h):h=v[38],v[39]!==h?(m=(0,_.jsx)(no.AnimatePresence,{children:h}),v[39]=h,v[40]=m):m=v[40],v[41]!==f||v[42]!==m?(g=(0,_.jsxs)(I.Stack,{space:3,children:[f,m]}),v[41]=f,v[42]=m,v[43]=g):g=v[43],v[44]!==l||v[45]!==A||v[46]!==g||v[47]!==n||v[48]!==O?(y=(0,_.jsx)(B.Dialog,{id:A,header:n,onClose:O,bodyHeight:"stretch",footer:l,children:g}),v[44]=l,v[45]=A,v[46]=g,v[47]=n,v[48]=O,v[49]=y):y=v[49],y},efP=e=>{let{t}=IO(ep7),{isLinked:n,companionDoc:r,loading:i}=eue(e.liveEditSchemaType?(0,th.getPublishedId)(e.id):(0,th.getDraftId)(e.id)),a=eTt(AE),{unlinkCtaClicked:o,unlinkApproved:l}=efs(),s=(0,A.useToast)(),[c,u]=(0,E.useState)(!1),[d,p]=(0,E.useState)("idle"),[f,h]=(0,E.useState)(null),m=(0,E.useCallback)(()=>u(!1),[]),g=(0,E.useCallback)(()=>{o(),u(!0)},[o]),y=(0,E.useCallback)(async()=>{try{if(!(null==r?void 0:r._id))throw Error("Companion doc not found");p("loading"),l(),await a.delete(null==r?void 0:r._id),p("idle"),m(),s.push({status:"success",title:t("dialog.unlink-from-canvas.success")})}catch(e){console.error(e),h(e.message),p("error")}},[a,null==r?void 0:r._id,m,l,s,t]),v=e.version||e.draft||e.published;return v&&n&&!i?{icon:R.UnlinkIcon,dialog:c?{type:"custom",component:(0,_.jsx)(efO,{onClose:m,document:v,status:d,error:f,handleUnlink:y})}:void 0,label:t("action.unlink-document"),onHandle:g}:null};efP.action="unlinkFromCanvas",efP.displayName="UnlinkFromCanvasAction";let efM="sanity/canvas-integration",efF=eie(()=>({name:efM,i18n:{bundles:[ep3]},document:{actions:e=>e.flatMap(e=>"publish"===e.action?[e,efA,efP,efu]:e)}})),efR="comments";function efB(e){let t,n,r,i=(0,j.c)(6),{children:a}=e,[o,l]=(0,E.useState)(null);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{l(e)},i[0]=t):t=i[0];let s=t;i[1]!==o?(n={authoringPath:o,setAuthoringPath:s},i[1]=o,i[2]=n):n=i[2];let c=n;return i[3]!==a||i[4]!==c?(r=(0,_.jsx)(D.CommentsAuthoringPathContext.Provider,{value:c,children:a}),i[3]=a,i[4]=c,i[5]=r):r=i[5],r}function efN(e){let[t]=(0,E.useState)(e);return!(0,e4.default)(t,e)}function efL(e){return!!e&&(null==e?void 0:e.some(e=>{var t;return(0,W.isPortableTextTextBlock)(e)&&(null==(t=(null==e?void 0:e.children)||[])?void 0:t.some(e=>(0,W.isPortableTextSpan)(e)?e.text:e.userId))}))}function efz(e){var t,n,r,i,a,o;return!!e&&!!((null==e||null==(r=e.target)||null==(n=r.path)||null==(t=n.selection)?void 0:t.type)==="text"&&(null==e||null==(o=e.target)||null==(a=o.path)||null==(i=a.selection)?void 0:i.value))}let efV=[],efU=(0,_.jsx)(I.Text,{muted:!0,children:(0,_.jsx)(R.ChevronRightIcon,{})}),efH=(e,t)=>(0,_.jsx)(I.Box,{as:"li",children:(0,_.jsx)(I.Text,{textOverflow:"ellipsis",size:1,weight:"medium",children:e})},"".concat(e,"-").concat(t));function efq(e){let t,n,r,i=(0,j.c)(11),{titlePath:a,maxLength:o}=e;e:{let e=a.length,n=Math.ceil(o/2),r=Math.floor(o/2);if(o&&e>o){let o;i[0]!==r||i[1]!==n||i[2]!==e||i[3]!==a?(o=[...a.slice(0,n-1),a.slice(n-1,e-r),...a.slice(e-r)],i[0]=r,i[1]=n,i[2]=e,i[3]=a,i[4]=o):o=i[4],t=o;break e}t=a}let l=t;if(i[5]!==l){let e;i[7]!==l.length?(e=(e,t)=>{let n="".concat(e,"-").concat(t),r=t<l.length-1;return Array.isArray(e)?(0,_.jsxs)(E.Fragment,{children:[(0,_.jsx)(B.Tooltip,{content:(0,_.jsx)(I.Stack,{space:2,padding:2,children:e.map(efH)}),children:(0,_.jsx)(I.Box,{children:efH("...",t)})}),r&&efU]},n):(0,_.jsxs)(E.Fragment,{children:[efH(e,t),r&&efU]},n)},i[7]=l.length,i[8]=e):e=i[8],n=l.map(e),i[5]=l,i[6]=n}else n=i[6];let s=n;return i[9]!==s?(r=(0,_.jsx)(I.Flex,{align:"center",as:"ol",gap:2,children:s}),i[9]=s,i[10]=r):r=i[10],r}function efW(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(27),{isParent:d,onClose:p,commentId:f,onConfirm:h,loading:m,error:g}=e,{t:y}=IO(efR);u[0]!==y?(t={thread:{title:y("delete-thread.title"),body:y("delete-thread.body"),confirmButtonText:y("delete-thread.confirm")},comment:{title:y("delete-comment.title"),body:y("delete-comment.body"),confirmButtonText:y("delete-comment.confirm")}},u[0]=y,u[1]=t):t=u[1];let{title:v,body:b,confirmButtonText:x}=t[d?"thread":"comment"];u[2]!==f||u[3]!==h?(n=()=>{h(f)},u[2]=f,u[3]=h,u[4]=n):n=u[4];let C=n;return u[5]!==p?(r={onClick:p},u[5]=p,u[6]=r):r=u[6],u[7]!==x||u[8]!==C||u[9]!==m?(i={loading:m,onClick:C,text:x,tone:"critical"},u[7]=x,u[8]=C,u[9]=m,u[10]=i):i=u[10],u[11]!==r||u[12]!==i?(a={cancelButton:r,confirmButton:i},u[11]=r,u[12]=i,u[13]=a):a=u[13],u[14]!==b?(o=(0,_.jsx)(I.Text,{size:1,children:b}),u[14]=b,u[15]=o):o=u[15],u[16]!==g||u[17]!==y?(l=g&&(0,_.jsx)(eiD,{tone:"critical",children:y("delete-dialog.error")}),u[16]=g,u[17]=y,u[18]=l):l=u[18],u[19]!==o||u[20]!==l?(s=(0,_.jsxs)(I.Stack,{space:4,children:[o,l]}),u[19]=o,u[20]=l,u[21]=s):s=u[21],u[22]!==p||u[23]!==a||u[24]!==s||u[25]!==v?(c=(0,_.jsx)(B.Dialog,{footer:a,header:v,id:"delete-comment-dialog",onClose:p,width:0,children:s}),u[22]=p,u[23]=a,u[24]=s,u[25]=v,u[26]=c):c=u[26],c}let efY=(0,E.forwardRef)(function(e,t){let n,r,i,a=(0,j.c)(5);return a[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("path",{d:"M5.92627 14.5381H7.92627V18.5381L11.9263 14.5381H15.9263C17.0308 14.5381 17.9263 13.6427 17.9263 12.5381V6.53809C17.9263 5.43352 17.0308 4.53809 15.9263 4.53809H5.92627C4.8217 4.53809 3.92627 5.43352 3.92627 6.53809V12.5381C3.92627 13.6427 4.8217 14.5381 5.92627 14.5381Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),r=(0,_.jsx)("path",{d:"M2.77256 2.66835C2.54413 2.51319 2.23317 2.57259 2.07802 2.80103L1.40378 3.7937C1.32927 3.9034 1.30139 4.0382 1.32627 4.16845C1.35115 4.29871 1.42676 4.41374 1.53646 4.48825L19.5861 16.7479C19.8146 16.903 20.1255 16.8436 20.2807 16.6152L20.9549 15.6225C21.0294 15.5128 21.0573 15.378 21.0324 15.2478C21.0076 15.1175 20.9319 15.0025 20.8222 14.928L2.77256 2.66835Z",fill:"currentColor",strokeLinejoin:"round"}),a[0]=n,a[1]=r):(n=a[0],r=a[1]),a[2]!==e||a[3]!==t?(i=(0,_.jsxs)("svg",{"data-sanity-icon":"comment-disabled",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[n,r]}),a[2]=e,a[3]=t,a[4]=i):i=a[4],i});(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(4);return i[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"}),i[0]=n):n=i[0],i[1]!==e||i[2]!==t?(r=(0,_.jsx)("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:n}),i[1]=e,i[2]=t,i[3]=r):r=i[3],r});let efK=(0,E.forwardRef)(function(e,t){let n,r,i,a=(0,j.c)(5);return a[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),r=(0,_.jsx)("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2}),a[0]=n,a[1]=r):(n=a[0],r=a[1]),a[2]!==e||a[3]!==t?(i=(0,_.jsxs)("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[n,r]}),a[2]=e,a[3]=t,a[4]=i):i=a[4],i}),efG=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s=(0,j.c)(8);return s[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("path",{d:"M10.1044 10.4011L10.1044 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),r=(0,_.jsx)("path",{d:"M14.2393 10.4011L14.2393 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),i=(0,_.jsx)("path",{d:"M7.12128 14.1151C7.70803 15.0226 9.66113 16.8377 11.7735 16.8377C13.8859 16.8377 15.6713 15.0226 16.4257 14.1151",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),a=(0,_.jsx)("path",{d:"M16.703 6.43905C15.3486 5.36511 13.6357 4.72374 11.773 4.72374C7.38731 4.72374 3.83203 8.27902 3.83203 12.6647C3.83203 17.0503 7.38731 20.6056 11.773 20.6056C16.0995 20.6056 19.618 17.1455 19.712 12.8415",stroke:"currentColor",strokeWidth:1.2}),o=(0,_.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1135 9.03425L19.1135 11.4903L20.3135 11.4903L20.3135 9.03425L22.7693 9.03425L22.7693 7.83425L20.3135 7.83425L20.3135 5.37941L19.1135 5.37941L19.1135 7.83425L16.6584 7.83425L16.6584 9.03425L19.1135 9.03425Z",fill:"currentColor"}),s[0]=n,s[1]=r,s[2]=i,s[3]=a,s[4]=o):(n=s[0],r=s[1],i=s[2],a=s[3],o=s[4]),s[5]!==e||s[6]!==t?(l=(0,_.jsxs)("svg",{"data-sanity-icon":"add-reaction",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[n,r,i,a,o]}),s[5]=e,s[6]=t,s[7]=l):l=s[7],l}),ef$=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(4);return i[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),i[0]=n):n=i[0],i[1]!==e||i[2]!==t?(r=(0,_.jsx)("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:n}),i[1]=e,i[2]=t,i[3]=r):r=i[3],r}),efZ=(0,F.styled)(I.Avatar)(Sb()),efX=RegExp("[^\\p{Alpha}\\p{White_Space}]","gu"),efJ=RegExp("\\p{White_Space}+","u");function efQ(e){let t,n,r,i,a=(0,j.c)(12);a[0]!==e?({user:n,...t}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]);let o=n,l=(null==o?void 0:o.displayName)||"";a[3]!==l?(r=function(e){let t=e.replace(efX,"").split(efJ);return 1===t.length?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}(l),a[3]=l,a[4]=r):r=a[4];let s=r;if(!o){let e;return a[5]!==t?(e=(0,_.jsx)(efZ,{...t}),a[5]=t,a[6]=e):e=a[6],e}let c=null==o?void 0:o.imageUrl,u=null==o?void 0:o.displayName;return a[7]!==s||a[8]!==t||a[9]!==c||a[10]!==u?(i=(0,_.jsx)(efZ,{initials:s,src:c,title:u,...t}),a[7]=s,a[8]=t,a[9]=c,a[10]=u,a[11]=i):i=a[11],i}let ef1=F.styled.div(e=>{var t;let n=(0,ne.getTheme_v2)(e.theme),{$size:r=1}=e;return(0,F.css)(Sx(),null==(t=n.avatar.sizes[r])?void 0:t.size)}),ef2=(0,W.defineField)({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),ef0=(0,W.defineField)({type:"block",name:"block",of:[ef2],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),ef5=(0,W.defineArrayMember)({type:"array",name:"body",of:[ef0]}),ef7=cg.compile({name:"comments",types:[ef5]}).get("body"),ef3=F.styled.span(e=>{var t,n,r;let{theme:i}=e,{regular:a}=(null==(t=i.sanity.fonts)?void 0:t.text.weights)||{},{hovered:o}=(null==(n=i.sanity.color)?void 0:n.card)||{},{bg:l}=(null==(r=i.sanity.color.selectable)?void 0:r.caution.pressed)||{};return(0,F.css)(SC(),a,o.bg,l)});function ef8(e){let t,n,r,i,a,o=(0,j.c)(15),{selected:l,userId:s}=e,[c,u]=A4(s),d=A6();if(!c||u){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{"data-testid":"comment-mentions-loading-skeleton",style:{width:"10ch"},size:0,muted:!0,radius:1,animated:!0}),o[0]=e):e=o[0],e}o[1]!==c?(t=(0,_.jsx)(I.Flex,{children:(0,_.jsx)(efQ,{user:c})}),o[1]=c,o[2]=t):t=o[2],o[3]!==c.displayName?(n=(0,_.jsx)(I.Text,{size:1,children:c.displayName}),o[3]=c.displayName,o[4]=n):n=o[4],o[5]!==t||o[6]!==n?(r=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[t,n]}),o[5]=t,o[6]=n,o[7]=r):r=o[7];let p=(null==d?void 0:d.id)===s;return o[8]!==l||o[9]!==p||o[10]!==c.displayName?(i=(0,_.jsxs)(ef3,{"data-selected":l,"data-active":p,children:["@",c.displayName]}),o[8]=l,o[9]=p,o[10]=c.displayName,o[11]=i):i=o[11],o[12]!==r||o[13]!==i?(a=(0,_.jsx)(B.Tooltip,{portal:!0,content:r,children:i}),o[12]=r,o[13]=i,o[14]=a):a=o[14],a}let ef4=(0,F.styled)(I.Text)(Sk());function ef6(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(ef4,{size:1,children:r}),n[0]=r,n[1]=t):t=n[1],t}let ef9=e=>{let{children:t}=e;return(0,_.jsx)(ef6,{children:t})},ehe=e=>{let{children:t,value:n,selected:r}=e;return"mention"===n._type&&n.userId?(0,_.jsx)(ef8,{selected:r,userId:null==n?void 0:n.userId}):t};function eht(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(25),{t:p}=IO(efR),{onClose:f,onConfirm:h}=e;d[0]!==f?(t=e=>{e.stopPropagation(),f()},d[0]=f,d[1]=t):t=d[1];let m=t;d[2]!==h?(n=e=>{e.stopPropagation(),h()},d[2]=h,d[3]=n):n=d[3];let g=n;return d[4]!==p?(r=p("discard.header"),d[4]=p,d[5]=r):r=d[5],d[6]!==m?(i={onClick:m},d[6]=m,d[7]=i):i=d[7],d[8]!==p?(a=p("discard.button-confirm"),d[8]=p,d[9]=a):a=d[9],d[10]!==g||d[11]!==a?(o={onClick:g,text:a,tone:"critical"},d[10]=g,d[11]=a,d[12]=o):o=d[12],d[13]!==i||d[14]!==o?(l={cancelButton:i,confirmButton:o},d[13]=i,d[14]=o,d[15]=l):l=d[15],d[16]!==p?(s=p("discard.text"),d[16]=p,d[17]=s):s=d[17],d[18]!==s?(c=(0,_.jsx)(I.Text,{size:1,children:s}),d[18]=s,d[19]=c):c=d[19],d[20]!==f||d[21]!==r||d[22]!==l||d[23]!==c?(u=(0,_.jsx)(I.ThemeColorProvider,{tone:"default",children:(0,_.jsx)(A.DialogProvider,{zOffset:9999999,children:(0,_.jsx)(B.Dialog,{header:r,id:"discard-comment-dialog",onClose:f,width:0,onClickOutside:f,footer:l,children:c})})}),d[20]=f,d[21]=r,d[22]=l,d[23]=c,d[24]=u):u=d[24],u}let ehn=(0,F.styled)(I.Flex)(Sw()),ehr={width:"50%"};function ehi(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(23),{user:u,onSelect:d}=e,[p]=A4(u.id),{t:f}=IO(efR),h=u.granted?void 0:"inactive";c[0]!==p||c[1]!==h?(t=(0,_.jsx)(efQ,{user:p,status:h}),c[0]=p,c[1]=h,c[2]=t):t=c[2];let m=t;c[3]!==p?(n=p?(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",title:p.displayName,children:p.displayName}):(0,_.jsx)(A.TextSkeleton,{size:1,style:ehr}),c[3]=p,c[4]=n):n=c[4];let g=n;c[5]!==d||c[6]!==u.id?(r=()=>{d(u.id)},c[5]=d,c[6]=u.id,c[7]=r):r=c[7];let y=r,v=!u.granted;return c[8]!==g?(i=(0,_.jsx)(I.Box,{children:g}),c[8]=g,c[9]=i):i=c[9],c[10]!==m||c[11]!==i?(a=(0,_.jsxs)(ehn,{align:"center",gap:2,flex:1,children:[m,i]}),c[10]=m,c[11]=i,c[12]=a):a=c[12],c[13]!==f||c[14]!==u.granted?(o=!u.granted&&(0,_.jsx)(I.Badge,{fontSize:1,mode:"outline",children:f("mentions.unauthorized-user")}),c[13]=f,c[14]=u.granted,c[15]=o):o=c[15],c[16]!==a||c[17]!==o?(l=(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[a,o]}),c[16]=a,c[17]=o,c[18]=l):l=c[18],c[19]!==y||c[20]!==v||c[21]!==l?(s=(0,_.jsx)(I.Card,{as:"button",disabled:v,onClick:y,padding:2,radius:2,children:l}),c[19]=y,c[20]=v,c[21]=l,c[22]=s):s=c[22],s}let eha=[],eho=(0,F.styled)(I.Stack)({maxWidth:"220px"}),ehl=(0,F.styled)(I.Flex)({maxHeight:315.5}),ehs=(0,E.forwardRef)(function(e,t){let{t:n}=IO(efR),{loading:r,onSelect:i,options:a=[],inputElement:o}=e,[l,s]=(0,E.useState)(""),c=(0,E.useRef)(null);(0,E.useImperativeHandle)(t,()=>({setSearchTerm(e){s(e)}}),[]);let u=(0,E.useCallback)(e=>(0,_.jsx)(ehi,{user:e,onSelect:i}),[i]),d=(0,E.useCallback)(e=>{var t;return!(null==a||null==(t=a[e])?void 0:t.granted)},[a]),p=(0,E.useMemo)(()=>{var e,t;if(!l)return a||eha;let n=(0,ga.default)(l).toLocaleLowerCase();return(null==a||null==(t=a.map(e=>({...e,displayName:(0,ga.default)(e.displayName||"").toLocaleLowerCase()})))||null==(e=t.filter(e=>{var t;return null==e||null==(t=e.displayName)?void 0:t.includes(n)}))?void 0:e.sort((e,t)=>{var r,i;let a=null==(r=e.displayName)?void 0:r.startsWith(n),o=null==(i=t.displayName)?void 0:i.startsWith(n);return a&&!o?-1:!a&&o?1:0}))||eha},[a,l]);return r?(0,_.jsx)(eho,{children:(0,_.jsx)(DU,{showText:!0})}):(0,_.jsxs)(I.Flex,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[0===p.length&&(0,_.jsx)(I.Box,{padding:5,children:(0,_.jsx)(I.Text,{align:"center",size:1,muted:!0,children:n("mentions.no-users-found")})}),p.length>0&&(0,_.jsx)(ehl,{direction:"column",flex:1,overflow:"hidden",children:(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:n("mentions.user-list-aria-label"),fixedHeight:!0,getItemDisabled:d,inputElement:o||void 0,itemHeight:41,items:p,padding:1,ref:c,renderItem:u})})]})});function ehc(){let e=(0,E.useContext)(D.CommentInputContext);if(!e)throw Error("useCommentInputContext must be used within a CommentInputProvider");return e}let ehu={passive:!0},ehd=["bottom","top"],ehp={outline:"none"},ehf=[],ehh=F.styled.span(e=>{let{color:t}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(S_(),t.input.default.enabled.placeholder)}),ehm=(0,F.styled)(B.Popover)(e=>{let{theme:t}=e,{space:n,radius:r}=t.sanity;return(0,F.css)(Sj(),n[1],n[1],r[3])});function ehg(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(52),{t:g}=IO(efR),{focusLock:y,onFocus:v,onBlur:b,onKeyDown:x,onSubmit:C,placeholder:k,renderBlock:w}=e;m[0]!==g||m[1]!==k?(t=void 0===k?g("compose.create-comment-placeholder"):k,m[0]=g,m[1]=k,m[2]=t):t=m[2];let S=t,T=(0,E.useRef)(null),[D,A]=(0,E.useState)(null),[O,P]=(0,E.useState)(null),M=(0,E.useRef)(null),F=hK(),{canSubmit:R,closeMentions:B,insertMention:N,mentionOptions:L,mentionsMenuOpen:z,mentionsSearchTerm:V,onBeforeInput:U,value:H}=ehc(),q=!z;m[3]!==D||m[4]!==q?(n={disabled:q,rootElement:D},m[3]=D,m[4]=q,m[5]=n):n=m[5];let Y=function(e){let t,n,r,i,a=(0,j.c)(8),{disabled:o,rootElement:l}=e,[s,c]=(0,E.useState)(null);e:{let e;if(!s){t=null;break e}a[0]!==s?(e={getBoundingClientRect:()=>s},a[0]=s,a[1]=e):e=a[1],t=e}let u=t;a[2]!==o||a[3]!==l?(n=()=>{if(o)return void c(null);let e=window.getSelection();if(!e||!e.isCollapsed||0===e.rangeCount)return;let t=e.getRangeAt(0);if(!(null==l?void 0:l.contains(t.commonAncestorContainer)))return void c(null);let n=null==t?void 0:t.getBoundingClientRect();n&&c(n)},a[2]=o,a[3]=l,a[4]=n):n=a[4];let d=n;return a[5]!==d?(r=()=>(document.addEventListener("selectionchange",d,ehu),()=>{document.removeEventListener("selectionchange",d)}),i=[d],a[5]=d,a[6]=r,a[7]=i):(r=a[6],i=a[7]),(0,E.useEffect)(r,i),u}(n);m[6]!==S?(r=()=>(0,_.jsx)(ehh,{children:S}),m[6]=S,m[7]=r):r=m[7];let K=r;m[8]===Symbol.for("react.memo_cache_sentinel")?(i=()=>[T.current],m[8]=i):i=m[8],(0,I.useClickOutsideEvent)(z&&B,i),m[9]!==R||m[10]!==B||m[11]!==z||m[12]!==x||m[13]!==C?(a=e=>{switch(e.key){case"Enter":if(e.shiftKey)break;if(z){e.preventDefault(),e.stopPropagation(),B();break}C&&R&&(e.preventDefault(),e.stopPropagation(),C());break;case"Escape":case"ArrowLeft":case"ArrowRight":z&&(e.preventDefault(),e.stopPropagation(),B())}x&&x(e)},m[9]=R,m[10]=B,m[11]=z,m[12]=x,m[13]=C,m[14]=a):a=m[14];let G=a;e:{let e,t,n;if(F){o=void 0;break e}let r=H||ehf;if(m[15]!==r){let n=r.slice(-1)[0],i=(0,W.isPortableTextTextBlock)(n)?n.children.slice(-1)[0]:void 0;if(!i){o=void 0;break e}t=[{_key:n._key},"children",{_key:i._key}],e=(0,W.isPortableTextSpan)(i)?i.text.length:0,m[15]=r,m[16]=e,m[17]=t,m[18]=o}else e=m[16],t=m[17],o=m[18];if(m[19]!==e||m[20]!==t){let r={path:t,offset:e};n={focus:r,anchor:r},m[19]=e,m[20]=t,m[21]=n}else n=m[21];o=n}let $=o;m[22]!==V?(l=()=>{var e;null==(e=M.current)||e.setSearchTerm(V)},s=[V],m[22]=V,m[23]=l,m[24]=s):(l=m[23],s=m[24]),(0,E.useEffect)(l,s),m[25]!==B||m[26]!==z||m[27]!==F?(c=()=>{z&&F&&!(0,e4.default)(F.anchor,F.focus)&&B()},u=[z,B,F],m[25]=B,m[26]=z,m[27]=F,m[28]=c,m[29]=u):(c=m[28],u=m[29]),(0,E.useEffect)(c,u);let Z=L.data||ehf;m[30]!==O||m[31]!==N||m[32]!==L.loading||m[33]!==Z?(d=(0,_.jsx)(ehs,{inputElement:O,loading:L.loading,onSelect:N,options:Z,ref:M}),m[30]=O,m[31]=N,m[32]=L.loading,m[33]=Z,m[34]=d):d=m[34];let X=d,J=!z;m[35]!==Y||m[36]!==z||m[37]!==X||m[38]!==J?(p=(0,_.jsx)(ehm,{arrow:!1,constrainSize:!0,content:X,disabled:J,fallbackPlacements:ehd,open:z,placement:"bottom",ref:T,referenceElement:Y}),m[35]=Y,m[36]=z,m[37]=X,m[38]=J,m[39]=p):p=m[39];let Q=y?0:void 0;return m[40]!==G||m[41]!==$||m[42]!==U||m[43]!==b||m[44]!==v||m[45]!==w||m[46]!==K||m[47]!==Q?(f=(0,_.jsx)(pF,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:U,onBlur:b,onFocus:v,onKeyDown:G,ref:P,renderBlock:w,renderChild:ehe,renderPlaceholder:K,selection:$,style:ehp,tabIndex:Q}),m[40]=G,m[41]=$,m[42]=U,m[43]=b,m[44]=v,m[45]=w,m[46]=K,m[47]=Q,m[48]=f):f=m[48],m[49]!==p||m[50]!==f?(h=(0,_.jsxs)("div",{ref:A,children:[p,f]}),m[49]=p,m[50]=f,m[51]=h):h=m[51],h}ehg.displayName="Editable";let ehy=(0,F.styled)(I.Box)(SS()),ehv=(0,F.styled)(I.MenuDivider)({height:20,width:1});function ehb(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}let ehx=(0,F.styled)(I.Card)(e=>{let{theme:t}=e,{color:n,input:r,radius:i}=(0,ne.getTheme_v2)(t),a=i[2];return(0,F.css)(SE(),a,ehb({color:n.input.default.enabled.border,width:r.border.width}),ehy,ehb({color:"var(--card-focus-ring-color)",width:r.border.width}),ehy,ehy,ehb({color:n.input.default.hovered.border,width:r.border.width}))}),ehC=F.styled.div(e=>{var t;return"\n    min-height: ".concat(null==(t=(0,ne.getTheme_v2)(e.theme).avatar.sizes[1])?void 0:t.size,"px;\n    display: flex;\n    align-items: center;\n  ")});function ehk(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(41),{avatarSize:d,currentUser:p,focusLock:f,onBlur:h,onFocus:m,onKeyDown:g,onSubmit:y,placeholder:v,renderBlock:b,withAvatar:x}=e,C=void 0===d?1:d,[k]=A4(p.id),{canSubmit:w,expandOnFocus:S,focused:E,hasChanges:T,insertAtChar:D,openMentions:A,readOnly:O,mentionOptions:P}=ehc(),{t:M}=IO(efR);u[0]!==C||u[1]!==k||u[2]!==x?(t=x?(0,_.jsx)(ehC,{children:(0,_.jsx)(efQ,{user:k,size:C})}):null,u[0]=C,u[1]=k,u[2]=x,u[3]=t):t=u[3];let F=t;u[4]!==D||u[5]!==A?(n=e=>{e.stopPropagation(),D(),A()},u[4]=D,u[5]=A,u[6]=n):n=u[6];let R=n,N=S&&!w?"true":"false",L=E?"true":"false",z=O?"transparent":"default";return u[7]!==f||u[8]!==h||u[9]!==m||u[10]!==g||u[11]!==y||u[12]!==v||u[13]!==b?(r=(0,_.jsx)(ehy,{"data-ui":"CommentInputEditableWrap",paddingX:1,paddingY:2,sizing:"border",children:(0,_.jsx)(ehg,{focusLock:f,onBlur:h,onFocus:m,onKeyDown:g,onSubmit:y,placeholder:v,renderBlock:b})}),u[7]=f,u[8]=h,u[9]=m,u[10]=g,u[11]=y,u[12]=v,u[13]=b,u[14]=r):r=u[14],u[15]!==R||u[16]!==P.disabled||u[17]!==O||u[18]!==M?(i=!P.disabled&&(0,_.jsx)(B.Button,{"aria-label":M("compose.mention-user-aria-label"),"data-testid":"comment-input-mention-button",disabled:O,icon:efK,mode:"bleed",type:"button",onClick:R,tooltipProps:{content:M("compose.mention-user-tooltip")}}),u[15]=R,u[16]=P.disabled,u[17]=O,u[18]=M,u[19]=i):i=u[19],u[20]!==w||u[21]!==T||u[22]!==P.disabled||u[23]!==y||u[24]!==O||u[25]!==M?(a=y&&(0,_.jsxs)(_.Fragment,{children:[!P.disabled&&(0,_.jsx)(ehv,{}),(0,_.jsx)(B.Button,{"aria-label":M("compose.send-comment-aria-label"),"data-testid":"comment-input-send-button",disabled:!w||!T||O,icon:ef$,mode:T&&w?"default":"bleed",onClick:y,tone:T&&w?"primary":"default",tooltipProps:{content:M("compose.send-comment-tooltip")}})]}),u[20]=w,u[21]=T,u[22]=P.disabled,u[23]=y,u[24]=O,u[25]=M,u[26]=a):a=u[26],u[27]!==i||u[28]!==a?(o=(0,_.jsx)(I.Flex,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:(0,_.jsxs)(B.TooltipDelayGroupProvider,{children:[i,a]})}),u[27]=i,u[28]=a,u[29]=o):o=u[29],u[30]!==r||u[31]!==o?(l=(0,_.jsxs)(I.Stack,{children:[r,o]}),u[30]=r,u[31]=o,u[32]=l):l=u[32],u[33]!==l||u[34]!==N||u[35]!==L||u[36]!==z?(s=(0,_.jsx)(ehx,{id:"comment-input-root","data-expand-on-focus":N,"data-focused":L,flex:1,sizing:"border",tone:z,children:l}),u[33]=l,u[34]=N,u[35]=L,u[36]=z,u[37]=s):s=u[37],u[38]!==F||u[39]!==s?(c=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:2,children:[F,s]}),u[38]=F,u[39]=s,u[40]=c):c=u[40],c}function ehw(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(42),{children:p,expandOnFocus:f,focused:h,focusOnMount:m,mentionOptions:g,onMentionMenuOpenChange:y,value:v,readOnly:b}=e,x=void 0!==f&&f,C=void 0!==m&&m,k=pk(),[w,S]=(0,E.useState)(!1),[T,I]=(0,E.useState)(""),[A,O]=(0,E.useState)(null);d[0]!==v?(t=efL(v),d[0]=v,d[1]=t):t=d[1];let P=t,M=efN(v);d[2]!==k||d[3]!==b?(n=()=>{b||hq.focus(k)},d[2]=k,d[3]=b,d[4]=n):n=d[4];let F=n;d[5]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{S(!1),I(""),O(null)},d[5]=r):r=d[5];let R=r;d[6]!==k||d[7]!==(null==g?void 0:g.disabled)?(i=()=>{(null==g?void 0:g.disabled)||(S(!0),I(""),S(!0),O(hq.getSelection(k)))},d[6]=k,d[7]=null==g?void 0:g.disabled,d[8]=i):i=d[8];let B=i;d[9]!==k||d[10]!==(null==g?void 0:g.disabled)||d[11]!==T||d[12]!==B?(a=e=>{if(null==g?void 0:g.disabled)return;let t=hq.getSelection(k),n=t?t.focus.offset:0,r=hq.focusChild(k),i=(0,W.isPortableTextSpan)(r)&&r||void 0,a="insertText"===e.inputType,o="deleteContentBackward"===e.inputType,l=a&&"@"===e.data,s=(null==i?void 0:i.text.slice(0,Math.max(0,n)).lastIndexOf("@"))||0,c=(null==i?void 0:i.text.slice(n-1,n))===" ",u=a&&" "===e.data&&!T;if(l&&(n<1||c))return void B();if(u||o&&((null==i?void 0:i.text.length)===1||s===((null==i?void 0:i.text.length)||0)-1))return void R();if((0,W.isPortableTextSpan)(r)){let t=r.text.slice(s+1,n);a&&(t+=e.data),o&&(t=t.slice(0,Math.max(0,t.length-1))),I(t)}},d[9]=k,d[10]=null==g?void 0:g.disabled,d[11]=T,d[12]=B,d[13]=a):a=d[13];let N=a;d[14]!==k?(o=()=>{S(!0),hq.focus(k),hq.insertChild(k,k.schemaTypes.span,{text:"@"}),O(hq.getSelection(k))},d[14]=k,d[15]=o):o=d[15];let L=o;d[16]!==w||d[17]!==y?(l=()=>null==y?void 0:y(w),d[16]=w,d[17]=y,d[18]=l):l=d[18],zm(w,l),d[19]!==k||d[20]!==A?(s=e=>{let t=k.schemaTypes.inlineObjects.find(eh_),[n,r]=A&&hq.findByPath(k,A.focus.path)||[];if(n&&(0,W.isPortableTextSpan)(n)&&r&&t){var i;hq.focus(k);let a=null==(i=hq.getSelection(k))?void 0:i.focus.offset;"u">typeof a&&(hq.delete(k,{anchor:{path:r,offset:n.text.lastIndexOf("@")},focus:{path:r,offset:a}},{mode:"selected"}),hq.insertChild(k,t,{userId:e}),hq.insertChild(k,k.schemaTypes.span,{text:" "}))}},d[19]=k,d[20]=A,d[21]=s):s=d[21];let z=s,V=!!b;d[22]!==P||d[23]!==k||d[24]!==x||d[25]!==F||d[26]!==C||d[27]!==h||d[28]!==M||d[29]!==L||d[30]!==z||d[31]!==g||d[32]!==w||d[33]!==T||d[34]!==N||d[35]!==B||d[36]!==V||d[37]!==v?(c={canSubmit:P,closeMentions:R,editor:k,expandOnFocus:x,focused:h,focusEditor:F,focusOnMount:C,hasChanges:M,insertAtChar:L,insertMention:z,mentionOptions:g,mentionsMenuOpen:w,mentionsSearchTerm:T,onBeforeInput:N,openMentions:B,readOnly:V,value:v},d[22]=P,d[23]=k,d[24]=x,d[25]=F,d[26]=C,d[27]=h,d[28]=M,d[29]=L,d[30]=z,d[31]=g,d[32]=w,d[33]=T,d[34]=N,d[35]=B,d[36]=V,d[37]=v,d[38]=c):c=d[38];let U=c;return d[39]!==p||d[40]!==U?(u=(0,_.jsx)(D.CommentInputContext.Provider,{value:U,children:p}),d[39]=p,d[40]=U,d[41]=u):u=d[41],u}function eh_(e){return"mention"===e.name}let ehj=[],ehS={behavior:"smooth",block:"center",inline:"center"},ehE=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=(0,j.c)(58),{avatarSize:k,currentUser:w,expandOnFocus:S,focusLock:T,focusOnMount:D,mentionOptions:O,onBlur:P,onChange:M,onDiscardCancel:F,onDiscardConfirm:R,onFocus:B,onKeyDown:N,onMentionMenuOpenChange:L,onSubmit:z,placeholder:V,readOnly:U,renderBlock:H,value:q,withAvatar:W}=e,Y=void 0!==T&&T,K=void 0===H?ef9:H,G=void 0===q?ehj:q,$=void 0===W||W,[Z,X]=(0,E.useState)(!1),J=(0,E.useRef)(null),Q=(0,E.useRef)(null),[ee,et]=(0,E.useState)(!1),en=(0,E.useRef)(null),er=(0,E.useRef)(null),ei=(0,E.useRef)(null);C[0]===Symbol.for("react.memo_cache_sentinel")?(n=sj(),C[0]=n):n=C[0];let[ea,eo]=(0,E.useState)(n);C[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{requestAnimationFrame(()=>{J.current&&hq.focus(J.current)})},C[1]=r):r=C[1];let el=r;C[2]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{eo(sj())},C[2]=i):i=C[2];let es=i;C[3]!==D||C[4]!==M?(a=e=>{"ready"===e.type&&D&&el(),"focus"===e.type&&X(!0),"blur"===e.type&&X(!1),"patch"===e.type&&J.current&&M(hq.getValue(J.current)||ehj)},C[3]=D,C[4]=M,C[5]=a):a=C[5];let ec=a;C[6]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{var e;null==(e=Q.current)||e.scrollIntoView(ehS)},C[6]=o):o=C[6];let eu=o;C[7]!==z?(l=()=>{null==z||z(),es(),el(),eu()},C[7]=z,C[8]=l):l=C[8];let ed=l;C[9]!==R?(s=()=>{R(),es()},C[9]=R,C[10]=s):s=C[10];let ep=s;C[11]===Symbol.for("react.memo_cache_sentinel")?(c={open:()=>{et(!0)},close:()=>{et(!1),el()}},C[11]=c):c=C[11];let ef=c;C[12]===Symbol.for("react.memo_cache_sentinel")?(u=()=>({focus:el,blur(){J.current&&hq.blur(J.current)},scrollTo:eu,reset:es,discardDialogController:ef}),d=[ef,el,es,eu],C[12]=u,C[13]=d):(u=C[12],d=C[13]),(0,E.useImperativeHandle)(t,u,d),C[14]!==Y?(p=e=>{if(!Y)return;let t=e.target,n=ei.current;if(n&&t===en.current)return void(0,A.focusLastDescendant)(n);n&&t===er.current&&(0,A.focusFirstDescendant)(n)},C[14]=Y,C[15]=p):p=C[15];let eh=p;C[16]!==ep||C[17]!==F||C[18]!==ee?(f=ee&&F&&(0,_.jsx)(eht,{onClose:F,onConfirm:ep}),C[16]=ep,C[17]=F,C[18]=ee,C[19]=f):f=C[19];let em=G||ehj;C[20]!==Y?(h=Y&&(0,_.jsx)("div",{ref:en,tabIndex:0}),C[20]=Y,C[21]=h):h=C[21];let eg=z&&ed;return C[22]!==k||C[23]!==w||C[24]!==Y||C[25]!==P||C[26]!==B||C[27]!==N||C[28]!==V||C[29]!==K||C[30]!==eg||C[31]!==$?(m=(0,_.jsx)(I.Stack,{ref:ei,children:(0,_.jsx)(ehk,{avatarSize:k,currentUser:w,focusLock:Y,onBlur:P,onFocus:B,onKeyDown:N,onSubmit:eg,placeholder:V,renderBlock:K,withAvatar:$})}),C[22]=k,C[23]=w,C[24]=Y,C[25]=P,C[26]=B,C[27]=N,C[28]=V,C[29]=K,C[30]=eg,C[31]=$,C[32]=m):m=C[32],C[33]!==Y?(g=Y&&(0,_.jsx)("div",{ref:er,tabIndex:0}),C[33]=Y,C[34]=g):g=C[34],C[35]!==S||C[36]!==D||C[37]!==Z||C[38]!==O||C[39]!==L||C[40]!==U||C[41]!==h||C[42]!==m||C[43]!==g||C[44]!==G?(y=(0,_.jsxs)(ehw,{expandOnFocus:S,focused:Z,focusOnMount:D,mentionOptions:O,onMentionMenuOpenChange:L,readOnly:U,value:G,children:[h,m,g]}),C[35]=S,C[36]=D,C[37]=Z,C[38]=O,C[39]=L,C[40]=U,C[41]=h,C[42]=m,C[43]=g,C[44]=G,C[45]=y):y=C[45],C[46]!==ea||C[47]!==ec||C[48]!==U||C[49]!==em||C[50]!==y?(v=(0,_.jsx)(hq,{onChange:ec,readOnly:U,ref:J,schemaType:ef7,value:em,children:y},ea),C[46]=ea,C[47]=ec,C[48]=U,C[49]=em,C[50]=y,C[51]=v):v=C[51],C[52]!==eh||C[53]!==v?(b=(0,_.jsx)(I.Stack,{ref:Q,"data-testid":"comment-input",onFocus:eh,children:v}),C[52]=eh,C[53]=v,C[54]=b):b=C[54],C[55]!==f||C[56]!==b?(x=(0,_.jsxs)(_.Fragment,{children:[f,b]}),C[55]=f,C[56]=b,C[57]=x):x=C[57],x}),ehT="sanity/comments",ehD="yellow",ehI=[{shortName:":+1:",title:"Thumbs up"},{shortName:":-1:",title:"Thumbs down"},{shortName:":heart:",title:"Heart"},{shortName:":rocket:",title:"Rocket"},{shortName:":heavy_plus_sign:",title:"Heavy plus sign"},{shortName:":eyes:",title:"Eyes"}],ehA={":-1:":"👎",":+1:":"👍",":eyes:":"👀",":heart:":"❤️",":heavy_plus_sign:":"➕",":rocket:":"🚀"},ehO=F.styled.span(e=>{var t;let{theme:n}=e,r=null==(t=n.sanity.v2)?void 0:t.color._dark,i=z.hues[ehD][r?800:100].hex,a=z.hues[ehD][r?700:300].hex,o=z.hues[ehD][r?700:200].hex,l=z.hues[ehD][r?600:400].hex,s=z.hues[ehD][r?700:200].hex,c=z.hues[ehD][r?600:400].hex;return(0,F.css)(ST(),r?"screen":"multiply",i,a,s,c,o,l,i,a)}),ehP=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(14);c[0]!==e?({children:n,isAdded:r,isAuthoring:i,isHovered:a,isNested:o,...l}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o,c[6]=l):(n=c[1],r=c[2],i=c[3],a=c[4],o=c[5],l=c[6]);let u=r?"added":i?"authoring":void 0,d=a?"true":"false",p=o?"true":"false";return c[7]!==n||c[8]!==t||c[9]!==l||c[10]!==u||c[11]!==d||c[12]!==p?(s=(0,_.jsx)(ehO,{...l,"data-hovered":d,"data-inline-comment-nested":p,"data-inline-comment-state":u,ref:t,children:n}),c[7]=n,c[8]=t,c[9]=l,c[10]=u,c[11]=d,c[12]=p,c[13]=s):s=c[13],s}),ehM=(0,F.styled)(I.Stack)(()=>(0,F.css)(SD())),ehF=[];function ehR(e){var t;let n,r,i=(0,j.c)(4);i[0]!==e.children?(n=Array.isArray(t=e.children)?t.flatMap(e=>{let t=[e];for(let e of emq)t=t.flatMap(e);return t}):t,i[0]=e.children,i[1]=n):n=i[1];let a=n;return i[2]!==a?(r=(0,_.jsx)(ef6,{children:a}),i[2]=a,i[3]=r):r=i[3],r}let ehB={block:{normal:ehR,h1:ehR,h2:ehR,h3:ehR,h4:ehR,h5:ehR,h6:ehR,blockquote:ehR,code:ehR},list:{bullet:E.Fragment,number:E.Fragment,checkmarks:E.Fragment},listItem:{bullet:ehR,number:ehR,checkmarks:ehR},marks:{strong:E.Fragment,em:E.Fragment,code:E.Fragment,underline:E.Fragment,strikeThrough:E.Fragment,link:E.Fragment},types:{mention:e=>{var t;return(0,_.jsx)(ef8,{userId:null==e||null==(t=e.value)?void 0:t.userId,selected:!1})}}};function ehN(e){let t,n=(0,j.c)(2),{blocks:r}=e,i=r||ehF;return n[0]!==i?(t=(0,_.jsx)(ehM,{children:(0,_.jsx)(nM.PortableText,{value:i,components:ehB})}),n[0]=i,n[1]=t):t=n[1],t}let ehL=(0,F.styled)(I.Text)(SI());function ehz(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(24),{options:d,onSelect:p}=e,{t:f}=IO(efR);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],u[0]=t):t=u[0];let[h,m]=(0,E.useState)(t),[g,y]=(0,E.useState)(null),[v,b]=(0,E.useState)(0);u[1]!==h.length?(n=e=>{let t=h.length;"ArrowRight"===e.key&&b(e=>(e+1)%t),"ArrowLeft"===e.key&&b(e=>(e-1+t)%t)},u[1]=h.length,u[2]=n):n=u[2];let x=n;u[3]!==h||u[4]!==p||u[5]!==d?(r=e=>{let t=h.indexOf(e.currentTarget);b(t),p(d[t])},u[3]=h,u[4]=p,u[5]=d,u[6]=r):r=u[6];let C=r;if(u[7]!==g?(i=()=>{g&&m(Array.from(g.querySelectorAll("button")))},a=[g],u[7]=g,u[8]=i,u[9]=a):(i=u[8],a=u[9]),(0,E.useEffect)(i,a),u[10]!==h||u[11]!==v?(o=()=>{h.length>0&&h[v].focus()},l=[h,v],u[10]=h,u[11]=v,u[12]=o,u[13]=l):(o=u[12],l=u[13]),(0,E.useEffect)(o,l),u[14]!==C||u[15]!==d||u[16]!==f){let e;u[18]!==C||u[19]!==f?(e=e=>{let t=ehA[e.shortName];return(0,_.jsx)(I.Button,{"aria-label":f("reactions.react-with-aria-label",{reactionName:e.title||e.shortName}),mode:"bleed",onClick:C,padding:2,role:"menuitem",tabIndex:-1,children:(0,_.jsx)(ehL,{align:"center",size:2,children:t})},e.shortName)},u[18]=C,u[19]=f,u[20]=e):e=u[20],s=d.map(e),u[14]=C,u[15]=d,u[16]=f,u[17]=s}else s=u[17];return u[21]!==x||u[22]!==s?(c=(0,_.jsx)(I.Grid,{columns:6,gap:1,onKeyDown:x,ref:y,role:"menu",children:s}),u[21]=x,u[22]=s,u[23]=c):c=u[23],c}let ehV=["top","bottom"];function ehU(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(35),{onMenuClose:p,onMenuOpen:f,onSelect:h,options:m,readOnly:g,renderMenuButton:y,mode:v}=e,[b,x]=(0,E.useState)(null),C=(0,E.useRef)(null),[k,w]=(0,E.useState)(!1),{t:S}=IO(efR);d[0]!==p||d[1]!==f||d[2]!==k?(t=()=>{let e=!k;w(e),e?null==f||f():null==p||p()},d[0]=p,d[1]=f,d[2]=k,d[3]=t):t=d[3];let T=t;d[4]!==p||d[5]!==k?(n=()=>{k&&(w(!1),null==p||p())},d[4]=p,d[5]=k,d[6]=n):n=d[6];let D=n;d[7]!==b||d[8]!==D||d[9]!==k?(r=()=>{k&&(D(),null==b||b.focus())},d[7]=b,d[8]=D,d[9]=k,d[10]=r):r=d[10];let A=r;d[11]!==A?(i=e=>{let{key:t,shiftKey:n}=e;(n&&"Tab"===t||"Escape"===t||"Tab"===t)&&A()},d[11]=A,d[12]=i):i=d[12];let O=i;d[13]!==b?(a=()=>[C.current,b],d[13]=b,d[14]=a):a=d[14],(0,I.useClickOutsideEvent)(D,a),d[15]!==D||d[16]!==h?(o=e=>{h(e),D()},d[15]=D,d[16]=h,d[17]=o):o=d[17];let P=o;if(d[18]!==T||d[19]!==v||d[20]!==k||d[21]!==g||d[22]!==y||d[23]!==S){let e=y({open:k,tooltipContent:S("upsell"===v?"list-item.context-menu-add-reaction-upsell":"list-item.context-menu-add-reaction"),t:S});l=(0,E.cloneElement)(e,{"aria-expanded":k,"aria-haspopup":"true",disabled:g||"upsell"===v,id:"reactions-menu-button",onClick:T,ref:x}),d[18]=T,d[19]=v,d[20]=k,d[21]=g,d[22]=y,d[23]=S,d[24]=l}else l=d[24];let M=l;d[25]!==P||d[26]!==m?(s=(0,_.jsx)(ehz,{onSelect:P,options:m}),d[25]=P,d[26]=m,d[27]=s):s=d[27],d[28]!==O||d[29]!==s?(c=(0,_.jsx)(I.Card,{"aria-labelledby":"reactions-menu-button",onKeyDown:O,padding:1,radius:3,tone:"default",children:s}),d[28]=O,d[29]=s,d[30]=c):c=d[30];let F=c;return d[31]!==M||d[32]!==k||d[33]!==F?(u=(0,_.jsx)(B.Popover,{constrainSize:!0,content:F,fallbackPlacements:ehV,open:k,placement:"bottom",portal:!0,ref:C,tone:"default",children:M}),d[31]=M,d[32]=k,d[33]=F,d[34]=u):u=d[34],u}let ehH=(0,F.styled)(I.Stack)(SA()),ehq=F.styled.div(SO()),ehW=(0,F.styled)(I.Text).attrs({size:1})(SP()),ehY=(0,F.styled)(I.Box)(SM()),ehK=/^\S+/;function ehG(e){let t,n=(0,j.c)(7),{currentUserId:r,isFirst:i,userId:a}=e,[o]=A4(a),{t:l}=IO(efR);if(r===a){let e,t=i?"leading":void 0,r=null==o?void 0:o.displayName;return n[0]!==t||n[1]!==l||n[2]!==r?(e=l("reactions.user-list.you",{context:t,replace:{name:r}}),n[0]=t,n[1]=l,n[2]=r,n[3]=e):e=n[3],e}return n[4]!==l||n[5]!==(null==o?void 0:o.displayName)?(t=(null==o?void 0:o.displayName)||l("reactions.user-list.unknown-user-fallback-name"),n[4]=l,n[5]=null==o?void 0:o.displayName,n[6]=t):t=n[6],t}function eh$(e){let t,n,r,i,a,o=(0,j.c)(10);return o[0]!==e?({children:t,...n}=e,o[0]=e,o[1]=t,o[2]=n):(t=o[1],n=o[2]),o[3]!==n?(r=(0,_.jsx)(ehX,{...n}),o[3]=n,o[4]=r):r=o[4],o[5]!==t?(i=(0,_.jsx)("div",{children:t}),o[5]=t,o[6]=i):i=o[6],o[7]!==r||o[8]!==i?(a=(0,_.jsx)(B.Tooltip,{content:r,placement:"bottom",portal:!0,children:i}),o[7]=r,o[8]=i,o[9]=a):a=o[9],a}function ehZ(e){let t,n,r=(0,j.c)(5),{currentUserId:i,userIds:a}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(t={style:"long",type:"conjunction"},r[0]=t):t=r[0];let o=Iz(t);if(0===a.length)return null;if(r[1]!==i||r[2]!==o||r[3]!==a){let e=o.formatToParts(a);n=[];for(let t=0;t<e.length;t++){let r=e[t];if("literal"===r.type){n.push((0,_.jsx)(ehW,{children:r.value},"literal-".concat(t)));continue}let a=e[t+1];if(a&&"literal"===a.type&&ehK.test(a.value)){let[e]=a.value.match(ehK)||[],o=void 0===e?"":e;n.push((0,_.jsxs)(ehq,{children:[(0,_.jsx)(ehW,{weight:"medium",children:(0,_.jsx)(ehG,{currentUserId:i,isFirst:0===t,userId:r.value})}),(0,_.jsx)(ehW,{children:o})]},r.value)),a.value=a.value.slice(o.length);continue}n.push((0,_.jsx)(ehW,{weight:"medium",children:(0,_.jsx)(ehG,{currentUserId:i,isFirst:0===t,userId:r.value})},r.value))}r[1]=i,r[2]=o,r[3]=a,r[4]=n}else n=r[4];return n}function ehX(e){let t,n,r,i,a,o,l,s=(0,j.c)(19),{currentUser:c,reactionName:u,userIds:d}=e,{t:p}=IO(efR);s[0]!==c||s[1]!==d?(t=()=>c?(0,_.jsx)(ehZ,{currentUserId:c.id,userIds:d}):null,s[0]=c,s[1]=d,s[2]=t):t=s[2];let f=t,h=ehA[u];return s[3]!==h?(n=(0,_.jsx)(I.Flex,{justify:"center",paddingBottom:2,paddingTop:1,children:(0,_.jsx)(ehL,{size:4,children:h})}),s[3]=h,s[4]=n):n=s[4],s[5]!==u?(r={reactionName:u},s[5]=u,s[6]=r):r=s[6],s[7]!==u?(i=()=>(0,_.jsx)(ehW,{muted:!0,children:u}),s[7]=u,s[8]=i):i=s[8],s[9]!==f||s[10]!==i?(a={UserList:f,ReactionName:i,Text:ehJ},s[9]=f,s[10]=i,s[11]=a):a=s[11],s[12]!==p||s[13]!==r||s[14]!==a?(o=(0,_.jsx)(ehY,{children:(0,_.jsx)(IZ,{t:p,i18nKey:"reactions.users-reacted-with-reaction",values:r,components:a})}),s[12]=p,s[13]=r,s[14]=a,s[15]=o):o=s[15],s[16]!==n||s[17]!==o?(l=(0,_.jsxs)(ehH,{padding:1,children:[n,o]}),s[16]=n,s[17]=o,s[18]=l):l=s[18],l}function ehJ(e){let{children:t}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ehW,{muted:!0,children:t})," ",(0,_.jsx)("wbr",{})," "]})}let ehQ=(0,F.styled)(I.Card)(SF()),eh1=e=>{let{open:t,tooltipContent:n}=e;return(0,_.jsx)(I.Button,{fontSize:1,mode:"ghost",padding:0,radius:"full",selected:t,children:(0,_.jsx)(I.Flex,{paddingX:3,paddingY:2,children:(0,_.jsx)(B.Tooltip,{animate:!0,content:n,disabled:t,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(efG,{})})})})})},eh2=(0,E.memo)(function(e){let{currentUser:t,onSelect:n,reactions:r,readOnly:i,mode:a}=e,o=(0,E.useCallback)(e=>{let t=ehI.find(t=>t.shortName===e);t&&n(t)},[n]),l=(0,E.useMemo)(()=>r.filter(e=>e.userId===(null==t?void 0:t.id)).map(e=>e.shortName),[null==t?void 0:t.id,r]),s=(0,E.useMemo)(()=>Object.entries(r.reduce((e,t)=>{let{shortName:n}=t;return e[n]||(e[n]=[]),e[n].push(t),e},{})).sort((e,t)=>{let[n]=e,[i]=t;return r.findIndex(e=>e.shortName===n)-r.findIndex(e=>e.shortName===i)}).filter(e=>{let[t]=e;return ehA[t]}),[r]),[c,u]=(0,E.useState)(()=>({sortOrder:Object.keys(Object.fromEntries(s)),groupedReactions:[],sortedReactions:[]})),{sortedReactions:d}=c;if(c.groupedReactions!==s){let{sortOrder:e}=c;d=s.sort((t,n)=>{let[r]=t,[i]=n,a=e.indexOf(r),o=e.indexOf(i);return -1===a?1:-1===o?-1:a-o}),u({groupedReactions:s,sortOrder:d.map(e=>{let[t]=e;return t}),sortedReactions:d})}return(0,_.jsx)(I.Flex,{align:"center",gap:1,wrap:"wrap",children:(0,_.jsxs)(B.TooltipDelayGroupProvider,{children:[d.map(e=>{let[n,r]=e,s=l.includes(n),c=r.map(e=>e.userId),u=ehA[n];return(0,_.jsx)(eh$,{currentUser:t,reactionName:n,userIds:c,children:(0,_.jsx)(ehQ,{tone:"default",children:(0,_.jsx)(I.Button,{disabled:i||"upsell"===a,mode:"ghost",onClick:()=>o(n),padding:2,radius:"full",selected:s,tone:s?"primary":"default",children:(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[(0,_.jsx)(ehL,{size:1,children:u}),(0,_.jsx)(I.Text,{size:0,weight:s?"semibold":"medium",children:null==r?void 0:r.length})]})})})},n)}),(0,_.jsx)(ehQ,{tone:"default",children:(0,_.jsx)(ehU,{mode:a,onSelect:e=>o(e.shortName),options:ehI,readOnly:i,renderMenuButton:eh1})})]})})});eh2.displayName="Memo(CommentReactionsBar)";let eh0=e=>{let{open:t,tooltipContent:n,t:r}=e;return(0,_.jsx)(B.Button,{"aria-label":r("list-item.context-menu-add-reaction-aria-label"),icon:efG,mode:"bleed",selected:t,tooltipProps:{content:n}})},eh5={placement:"bottom-end"},eh7=(0,F.styled)(I.Card)(SR());function eh3(e){let t,n,r,i,a=(0,j.c)(29),{canDelete:o,canEdit:l,isParent:s,mode:c,onCopyLink:u,onDeleteStart:d,onEditStart:p,onMenuClose:f,onMenuOpen:h,onReactionSelect:m,onStatusChange:g,readOnly:y,status:v}=e,b=!!(u||d||p),{t:x}=IO(efR),C=!!(o||l||u);return a[0]!==c||a[1]!==f||a[2]!==h||a[3]!==m||a[4]!==y?(t=m&&(0,_.jsx)(ehU,{mode:c,onMenuClose:f,onMenuOpen:h,onSelect:m,options:ehI,readOnly:y,renderMenuButton:eh0}),a[0]=c,a[1]=f,a[2]=h,a[3]=m,a[4]=y,a[5]=t):t=a[5],a[6]!==s||a[7]!==g||a[8]!==y||a[9]!==v||a[10]!==x?(n=s&&g&&(0,_.jsx)(B.Button,{"aria-label":x("open"===v?"list-item.resolved-tooltip-aria-label":"list-item.re-open-resolved-aria-label"),"data-testid":"comments-list-item-status-button",disabled:y,icon:"open"===v?R.CheckmarkCircleIcon:R.UndoIcon,mode:"bleed",onClick:g,tooltipProps:{content:x("open"===v?"list-item.resolved-tooltip-content":"list-item.re-open-resolved")}}),a[6]=s,a[7]=g,a[8]=y,a[9]=v,a[10]=x,a[11]=n):n=a[11],a[12]!==o||a[13]!==l||a[14]!==C||a[15]!==c||a[16]!==u||a[17]!==d||a[18]!==p||a[19]!==f||a[20]!==h||a[21]!==y||a[22]!==b||a[23]!==x?(r=C&&(0,_.jsx)(B.MenuButton,{id:"comment-actions-menu",button:(0,_.jsx)(DO,{"aria-label":x("list-item.open-menu-aria-label"),disabled:y,hidden:!b}),onOpen:h,onClose:f,menu:(0,_.jsxs)(I.Menu,{children:[(0,_.jsx)(B.MenuItem,{hidden:!l,icon:R.EditIcon,onClick:p,text:x("list-item.edit-comment"),tooltipProps:"upsell"===c?{content:x("list-item.edit-comment-upsell")}:void 0,disabled:"upsell"===c}),(0,_.jsx)(B.MenuItem,{hidden:!o,icon:R.TrashIcon,onClick:d,text:x("list-item.delete-comment"),tone:"critical"}),u&&(0,_.jsx)(I.MenuDivider,{hidden:!o&&!l}),(0,_.jsx)(B.MenuItem,{hidden:!u,icon:R.LinkIcon,onClick:u,text:x("list-item.copy-link")})]}),popover:eh5}),a[12]=o,a[13]=l,a[14]=C,a[15]=c,a[16]=u,a[17]=d,a[18]=p,a[19]=f,a[20]=h,a[21]=y,a[22]=b,a[23]=x,a[24]=r):r=a[24],a[25]!==t||a[26]!==n||a[27]!==r?(i=(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsx)(I.Flex,{children:(0,_.jsxs)(eh7,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[t,n,r]})})}),a[25]=t,a[26]=n,a[27]=r,a[28]=i):i=a[28],i}let eh8=(0,F.styled)(I.Box).attrs({marginLeft:1,marginRight:2})(SB()),eh4=(0,F.styled)(I.Stack)(e=>{var t;let{theme:n,$hasReferencedValue:r}=e,i=null==(t=n.sanity.v2)?void 0:t.color._dark,a=r?ehD:"gray",o=i?z.hues[a][700].hex:z.hues[a][300].hex;return(0,F.css)(SN(),o)});function eh6(e){let t,n,r,i,a,o=(0,j.c)(13),{hasReferencedValue:l,value:s}=e,{t:c}=IO(efR);o[0]!==c?(t=c("list-item.missing-referenced-value-tooltip-content"),o[0]=c,o[1]=t):t=o[1];let u=t;e:{if(Array.isArray(s)&&(null==s?void 0:s.filter(W.isPortableTextTextBlock).length)>0){let e;o[2]!==s?(e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return e.length<=t?e:"".concat(e.slice(0,t),"...")}(null==s?void 0:s.map(nF.toPlainText).join(" ")),o[2]=s,o[3]=e):e=o[3],n=e;break e}n=null}let d=n;if(!d)return null;let p=!!l;return o[4]!==l||o[5]!==u?(r=!l&&(0,_.jsx)(B.Tooltip,{content:u,children:(0,_.jsx)(eh8,{children:(0,_.jsx)(R.LinkRemovedIcon,{})})}),o[4]=l,o[5]=u,o[6]=r):r=o[6],o[7]!==d||o[8]!==r?(i=(0,_.jsx)(I.Flex,{align:"flex-start",children:(0,_.jsxs)(I.Text,{size:1,muted:!0,children:[r,d]})}),o[7]=d,o[8]=r,o[9]=i):i=o[9],o[10]!==p||o[11]!==i?(a=(0,_.jsx)(eh4,{$hasReferencedValue:p,"data-testid":"comments-list-item-referenced-value",flex:1,forwardedAs:"blockquote",padding:1,paddingLeft:2,sizing:"border",children:i}),o[10]=p,o[11]=i,o[12]=a):a=o[12],a}let eh9=e=>e.stopPropagation(),eme=(0,F.styled)(I.Box)(SL()),emt={width:"50%"},emn=[],emr=(0,F.styled)(I.Text)(e=>{let{theme:t}=e,n=t.sanity.color.dark,r=z.hues.gray[n?200:800].hex;return(0,F.css)(Sz(),r)}),emi=(0,F.styled)(I.Flex)(e=>{var t;let n=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(SV(),null==(t=n.avatar.sizes[e.$size])?void 0:t.size)}),ema=(0,F.styled)(I.Text)(e=>{let{theme:t}=e,n=t.sanity.color.dark,r=z.hues.gray[n?200:800].hex;return(0,F.css)(SU(),r)}),emo=(0,F.styled)(I.Stack)(SH()),eml=(0,F.styled)(I.Flex)(e=>{var t;let n=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Sq(),null==(t=n.avatar.sizes[e.$size])?void 0:t.size)}),ems=(0,F.styled)(I.Card)(SW()),emc=(0,F.styled)(I.Stack)(e=>{let{theme:t}=e,{space:n}=t.sanity;return(0,F.css)(SY(),eme,n[1],n[1],eme,eme,eme)}),emu={useTemporalPhrase:!0};function emd(e){var t;let{avatarSize:n=1,canDelete:r,canEdit:i,comment:a,currentUser:o,hasError:l,hasReferencedValue:s,intent:c,isParent:u,isRetrying:d,mentionOptions:p,mode:f,onCopyLink:h,onCreateRetry:m,onDelete:g,onEdit:y,onInputKeyDown:v,onReactionSelect:b,onStatusChange:x,readOnly:C,withAvatar:k=!0}=e,{_createdAt:w,authorId:j,message:S,_id:T,lastEditedAt:D}=a,[O]=A4(j),{t:P}=IO(efR),[M,F]=(0,E.useState)(S),[R,B]=(0,E.useState)(!1),N=(0,E.useRef)(null),L=(0,E.useRef)(S),[z,V]=(0,E.useState)(!1),U=(0,E.useRef)(null),H=efN(M),q=(0,E.useMemo)(()=>efL(M),[M]),W=(0,E.useMemo)(()=>{var e;return((null==a||null==(e=a.reactions)?void 0:e.filter(e=>(null==e?void 0:e._optimisticState)!=="removed"))||emn).filter(e=>"userId"in e&&"shortName"in e)},[null==a?void 0:a.reactions]),Y=!!(null==W?void 0:W.length),K=w?new Date(w):new Date,G=D?new Date(D):null,$=Rp(K,emu),Z=Rs({dateStyle:"full",timeStyle:"medium"}),X=Z.format(K),J=G?Z.format(G):null,Q=l||d;(0,E.useEffect)(()=>{R||(L.current=S,F(S))},[R,S]);let ee=(0,E.useCallback)(()=>V(!0),[]),et=(0,E.useCallback)(()=>V(!1),[]),en=(0,E.useCallback)(()=>null==h?void 0:h(T),[T,h]),er=(0,E.useCallback)(e=>{e.stopPropagation(),null==m||m(T)},[T,m]),ei=(0,E.useCallback)(()=>g(T),[T,g]),ea=(0,E.useCallback)(()=>{B(!1),F(L.current)},[]),eo=(0,E.useCallback)(()=>{var e;if(!q||!H)return void ea();null==(e=U.current)||e.discardDialogController.open()},[ea,H,q]),el=(0,E.useCallback)(e=>{e.isDefaultPrevented()||("Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),eo()),v&&v(e))},[v,eo]),es=(0,E.useCallback)(()=>{var e;null==(e=U.current)||e.discardDialogController.close()},[]),ec=(0,E.useCallback)(()=>{var e;null==(e=U.current)||e.discardDialogController.close(),ea()},[ea]),eu=(0,E.useCallback)(e=>{null==b||b(T,e)},[T,b]),ed=(0,E.useCallback)(()=>{y(T,{message:M}),B(!1)},[T,y,M]),ep=(0,E.useCallback)(()=>{null==x||x(T,"open"===a.status?"resolved":"open")},[T,a.status,x]),ef=(0,E.useCallback)(()=>{B(e=>!e)},[]),eh=(0,E.useCallback)(()=>V(!1),[]),em=(0,E.useCallback)(e=>{"Escape"!==e.key||H||ea()},[ea,H]);zm(R,eh),(0,I.useClickOutsideEvent)(!H&&ea,()=>[N.current]);let eg=(null==O?void 0:O.displayName)?(0,_.jsx)(I.Text,{size:1,weight:"medium",textOverflow:"ellipsis",title:O.displayName,children:O.displayName}):(0,_.jsx)(A.TextSkeleton,{size:1,style:emt});return(0,_.jsxs)(emc,{"data-menu-open":z?"true":"false","data-testid":"comments-list-item-layout",onKeyDown:em,ref:N,space:4,children:[(0,_.jsxs)(emo,{space:1,"data-muted":Q,children:[(0,_.jsxs)(emi,{align:"center",gap:3,flex:1,$size:n,children:[k&&(0,_.jsx)(efQ,{user:O,size:n}),(0,_.jsxs)(I.Flex,{direction:"column",gap:2,paddingY:2*!!c,children:[(0,_.jsx)(I.Flex,{align:"center",paddingBottom:+(null==(t=a.context)||!t.intent),sizing:"border",flex:1,children:(0,_.jsxs)(I.Flex,{align:"flex-end",gap:2,children:[(0,_.jsx)(I.Box,{flex:1,children:eg}),!Q&&(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[(0,_.jsx)(emr,{muted:!0,size:0,children:(0,_.jsx)("time",{dateTime:K.toISOString(),title:X,children:$})}),J&&G&&(0,_.jsx)(emr,{muted:!0,size:0,title:J,children:(0,_.jsxs)("time",{dateTime:G.toISOString(),title:J,children:["(",P("list-item.layout-edited"),")"]})})]})]})}),c&&(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(ema,{muted:!0,size:0,textOverflow:"ellipsis",children:(0,_.jsx)(IZ,{t:P,i18nKey:"list-item.layout-context",values:{title:c.title,intent:"edit"},components:{IntentLink:e=>{let{children:t}=e;return c?(0,_.jsx)(nr.IntentLink,{params:c.params,intent:c.name,children:t}):void 0}}})})})]}),!R&&!Q&&(0,_.jsx)(eme,{"data-root-menu":u?"true":"false",onClick:eh9,children:(0,_.jsx)(eh3,{canDelete:r,canEdit:i,isParent:u,mode:f,onCopyLink:h?en:void 0,onDeleteStart:ei,onEditStart:ef,onMenuClose:et,onMenuOpen:ee,onReactionSelect:eu,onStatusChange:x?ep:void 0,readOnly:C,status:a.status})})]}),efz(a)&&!!(null==a?void 0:a.contentSnapshot)&&(0,_.jsxs)(I.Flex,{gap:3,marginBottom:3,children:[k&&(0,_.jsx)(ef1,{$size:n}),(0,_.jsx)(eh6,{hasReferencedValue:s,value:null==a?void 0:a.contentSnapshot})]}),R&&(0,_.jsxs)(I.Flex,{align:"flex-start",gap:2,children:[k&&(0,_.jsx)(ef1,{$size:n}),(0,_.jsx)(I.Stack,{flex:1,children:(0,_.jsx)(ehE,{currentUser:o,focusOnMount:!0,mentionOptions:p,onChange:F,onDiscardCancel:es,onDiscardConfirm:ec,onKeyDown:el,onSubmit:ed,readOnly:C,ref:U,value:M,withAvatar:!1})})]}),!R&&(0,_.jsxs)(I.Flex,{gap:3,children:[k&&(0,_.jsx)(ef1,{$size:n}),(0,_.jsx)(ehN,{blocks:S})]}),Y&&(0,_.jsxs)(I.Flex,{gap:3,marginTop:2,children:[k&&(0,_.jsx)(ef1,{$size:n}),(0,_.jsx)(I.Box,{onClick:eh9,children:(0,_.jsx)(eh2,{currentUser:o,mode:f,onSelect:eu,reactions:W,readOnly:C})})]})]}),Q&&(0,_.jsxs)(eml,{gap:3,$size:n,children:[k&&(0,_.jsx)(ef1,{$size:n}),(0,_.jsxs)(I.Flex,{align:"center",gap:1,flex:1,children:[(0,_.jsxs)(I.Text,{muted:!0,size:1,children:[l&&P("list-item.layout-failed-sent"),d&&P("list-item.layout-posting")]}),(0,_.jsx)(I.Flex,{hidden:d,children:(0,_.jsx)(ems,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:er,padding:1,radius:2,tone:"primary",children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:P("list-item.layout-retry")})})})]})]})]})}let emp=(0,F.styled)(I.Card).attrs({padding:3,radius:3,sizing:"border"})(e=>{let{theme:t}=e,n=t.sanity.color.dark,r=z.hues[ehD][n?900:50].hex,i=z.hues.gray[n?900:50].hex;return(0,F.css)(SK(),i,r)}),emf=[],emh={avatarSize:1,parentCommentAvatar:!0,replyAvatar:!0,threadCommentsAvatar:!0},emm=(0,F.styled)(emp)(()=>(0,F.css)(SG())),emg=(0,F.styled)(B.Button)(e=>{let{theme:t}=e,{medium:n}=t.sanity.fonts.text.weights;return(0,F.css)(S$(),n)}),emy=F.styled.button(SZ()),emv=(0,E.memo)(function(e){var t,n,r,i,a;let{avatarConfig:o=emh,canReply:l,currentUser:s,hasReferencedValue:c,innerPadding:u,isSelected:d,mentionOptions:p,mode:f,onCopyLink:h,onCreateRetry:m,onDelete:g,onEdit:y,onKeyDown:v,onPathSelect:b,onReactionSelect:x,onReply:C,onStatusChange:k,parentComment:w,readOnly:j,replies:S=emf}=e,{t:T}=IO(efR),[D,A]=(0,E.useState)(emf),[O,P]=(0,E.useState)(!0),[M,F]=(0,E.useState)(!1),B=(0,E.useRef)(null),{isTopLayer:N}=(0,I.useLayer)(),L=(0,E.useMemo)(()=>efL(D),[D]),[z,V]=(0,E.useState)(!1),U=(0,E.useCallback)(()=>V(!0),[]),H=(0,E.useCallback)(()=>V(!1),[]),q=(0,E.useCallback)(()=>{var e;let t={message:D,parentCommentId:w._id,status:(null==w?void 0:w.status)||"open",threadId:w.threadId,reactions:emf,payload:{fieldPath:(null==(e=w.target.path)?void 0:e.field)||""}};null==C||C(t),A(emf)},[C,w._id,null==w?void 0:w.status,null==(t=w.target.path)?void 0:t.field,w.threadId,D]),W=(0,E.useCallback)(()=>{var e;if(!L)return void A(emf);null==(e=B.current)||e.discardDialogController.open()},[L]),Y=(0,E.useCallback)(e=>{e.isDefaultPrevented()||"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),W())},[W]),K=(0,E.useCallback)(()=>{var e;null==(e=B.current)||e.discardDialogController.close()},[]),G=(0,E.useCallback)(()=>{var e,t;A(emf),null==(e=B.current)||e.discardDialogController.close(),null==(t=B.current)||t.focus()},[]),$=(0,E.useCallback)(e=>{var t;e.stopPropagation(),N&&(null==b||b({fieldPath:(null==(t=w.target.path)?void 0:t.field)||"",origin:"inspector",threadId:w.threadId}))},[N,b,null==(n=w.target.path)?void 0:n.field,w.threadId]),Z=(0,E.useCallback)(e=>{e.stopPropagation(),P(!1),F(!0)},[]),X=(0,E.useMemo)(()=>O?null==S?void 0:S.slice(-5):S,[S,O]),J=(0,E.useMemo)(()=>!!S&&S.length>5,[S]),Q=(0,E.useMemo)(()=>"".concat((null==S?void 0:S.length)-5," more ").concat((null==S?void 0:S.length)-5==1?"comment":"comments"),[null==S?void 0:S.length]);(0,E.useEffect)(()=>{S.length>5&&!M&&P(!0)},[M,S]);let ee=(0,E.useMemo)(()=>X.map(e=>{var t,n;return(0,_.jsx)(I.Stack,{as:"li",...em4(e._id),children:(0,_.jsx)(emd,{avatarSize:o.avatarSize,canDelete:e.authorId===s.id,canEdit:e.authorId===s.id,comment:e,currentUser:s,hasError:(null==(t=e._state)?void 0:t.type)==="createError",isRetrying:(null==(n=e._state)?void 0:n.type)==="createRetrying",intent:function(e,t){var n,r;let i=null==e||null==(n=e.context)?void 0:n.intent,a=null==t||null==(r=t.context)?void 0:r.intent;if(a&&(!i||"preview"in a.params&&"preview"in i.params&&a.params.preview!==i.params.preview))return a}(w,e),mentionOptions:p,mode:f,onCopyLink:h,onCreateRetry:m,onDelete:g,onEdit:y,onInputKeyDown:Y,onReactionSelect:x,readOnly:j,withAvatar:o.threadCommentsAvatar})},e._id)}),[o.threadCommentsAvatar,o.avatarSize,s,Y,p,h,m,g,y,x,w,j,X,f]);return(0,_.jsxs)(emm,{"data-active":d?"true":"false","data-hovered":z?"true":"false","data-testid":"comments-list-item","data-ui":"CommentsListItem",onClick:$,onMouseEnter:U,onMouseLeave:H,children:[(0,_.jsx)(emy,{"data-ui":"GhostButton","aria-label":T("list-item.go-to-field-button.aria-label")}),(0,_.jsxs)(I.Stack,{as:"ul",padding:u,paddingBottom:l?void 0:1,space:4,children:[(0,_.jsx)(I.Stack,{as:"li",...em4(w._id),children:(0,_.jsx)(emd,{avatarSize:o.avatarSize,canDelete:w.authorId===s.id,canEdit:w.authorId===s.id,comment:w,currentUser:s,hasError:(null==(r=w._state)?void 0:r.type)==="createError",hasReferencedValue:c,intent:null==(i=w.context)?void 0:i.intent,isParent:!0,isRetrying:(null==(a=w._state)?void 0:a.type)==="createRetrying",mentionOptions:p,mode:f,onCopyLink:h,onCreateRetry:m,onDelete:g,onEdit:y,onInputKeyDown:v,onReactionSelect:x,onStatusChange:k,readOnly:j,withAvatar:o.parentCommentAvatar})}),J&&!M&&(0,_.jsxs)(I.Flex,{gap:1,paddingY:1,sizing:"border",children:[(0,_.jsx)(ef1,{}),(0,_.jsx)(emg,{iconRight:R.ChevronDownIcon,mode:"bleed",onClick:Z,text:Q})]}),ee,l&&(0,_.jsx)(ehE,{avatarSize:o.avatarSize,currentUser:s,expandOnFocus:!0,mentionOptions:p,onChange:A,onDiscardCancel:K,onDiscardConfirm:G,onKeyDown:Y,onSubmit:q,placeholder:T("upsell"===f?"compose.reply-placeholder-upsell":"compose.reply-placeholder"),readOnly:j||"upsell"===f,ref:B,value:D,withAvatar:o.replyAvatar})]})]})});function emb(e){let t,n=(0,j.c)(17),{status:r,error:i,loading:a,hasNoComments:o}=e,{t:l}=IO(efR);n[0]!==l?(t={open:{title:l("list-status.empty-state-open-title"),message:l("list-status.empty-state-open-text")},resolved:{title:l("list-status.empty-state-resolved-title"),message:l("list-status.empty-state-resolved-text")}},n[0]=l,n[1]=t):t=n[1];let s=t;if(i){let e,t;return n[2]!==l?(e=l("list-status.error"),n[2]=l,n[3]=e):e=n[3],n[4]!==e?(t=(0,_.jsx)(I.Flex,{align:"center",justify:"center",flex:1,padding:4,children:(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:e})})}),n[4]=e,n[5]=t):t=n[5],t}if(a){let e,t;return n[6]!==l?(e=l("list-status.loading"),n[6]=l,n[7]=e):e=n[7],n[8]!==e?(t=(0,_.jsx)(DU,{showText:!0,title:e}),n[8]=e,n[9]=t):t=n[9],t}if(o){let e,t,i,a=s[r];n[10]!==a.title?(e=(0,_.jsx)(I.Text,{align:"center",size:1,muted:!0,weight:"medium",children:a.title}),n[10]=a.title,n[11]=e):e=n[11];let o=s[r];return n[12]!==o.message?(t=(0,_.jsx)(I.Text,{align:"center",size:1,muted:!0,children:o.message}),n[12]=o.message,n[13]=t):t=n[13],n[14]!==e||n[15]!==t?(i=(0,_.jsx)(I.Flex,{align:"center",justify:"center",flex:1,sizing:"border",children:(0,_.jsx)(I.Container,{width:0,padding:4,children:(0,_.jsxs)(I.Stack,{space:3,children:[e,t]})})}),n[14]=e,n[15]=t,n[16]=i):i=n[16],i}return null}emv.displayName="Memo(CommentsListItem)";let emx=[];function emC(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(26),{currentUser:u,fieldTitle:d,mentionOptions:p,mode:f,onBlur:h,onFocus:m,onKeyDown:g,onNewThreadCreate:y,readOnly:v}=e,{t:b}=IO(efR),[x,C]=(0,E.useState)(emx),k=(0,E.useRef)(null);c[0]!==y||c[1]!==x?(t=()=>{null==y||y(x),C(emx)},c[0]=y,c[1]=x,c[2]=t):t=c[2];let w=t;c[3]!==x?(n=efL(x),c[3]=x,c[4]=n):n=c[4];let S=n;c[5]!==S?(r=()=>{var e;S&&(null==(e=k.current)||e.discardDialogController.open())},c[5]=S,c[6]=r):r=c[6];let T=r;c[7]!==g||c[8]!==T?(i=e=>{e.isDefaultPrevented()||("Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),T()),g&&g(e))},c[7]=g,c[8]=T,c[9]=i):i=c[9];let D=i;c[10]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{var e,t;C(emx),null==(e=k.current)||e.discardDialogController.close(),null==(t=k.current)||t.focus()},c[10]=a):a=c[10];let I=a;c[11]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{var e;null==(e=k.current)||e.discardDialogController.close()},c[11]=o):o=c[11];let A=o;c[12]!==d||c[13]!==f||c[14]!==b?(l="upsell"===f?b("compose.add-comment-input-placeholder-upsell"):(0,_.jsx)(IZ,{t:b,i18nKey:"compose.add-comment-input-placeholder",values:{field:d}}),c[12]=d,c[13]=f,c[14]=b,c[15]=l):l=c[15];let O=l,P=v||"upsell"===f;return c[16]!==u||c[17]!==D||c[18]!==w||c[19]!==p||c[20]!==h||c[21]!==m||c[22]!==O||c[23]!==P||c[24]!==x?(s=(0,_.jsx)(ehE,{currentUser:u,expandOnFocus:!0,mentionOptions:p,onBlur:h,onChange:C,onDiscardCancel:A,onDiscardConfirm:I,onKeyDown:D,onFocus:m,onSubmit:w,placeholder:O,readOnly:P,ref:k,value:x}),c[16]=u,c[17]=D,c[18]=w,c[19]=p,c[20]=h,c[21]=m,c[22]=O,c[23]=P,c[24]=x,c[25]=s):s=c[25],s}let emk=(0,F.styled)(I.Flex)(SX()),emw=(0,F.styled)(I.Button)(e=>{let{theme:t}=e,n=t.sanity.color.base.fg;return(0,F.css)(SJ(),n)});function em_(e){let{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:i,fieldPath:a,isSelected:o,mentionOptions:l,mode:s,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,{t:p}=IO(efR),f=(0,E.useCallback)(e=>{let t={message:e,parentCommentId:void 0,status:"open",threadId:(0,h6.uuid)(),reactions:[],payload:{fieldPath:a}};null==c||c(t)},[c,a]),h=(0,E.useCallback)(e=>{e.stopPropagation(),null==u||u({fieldPath:a,origin:"inspector",threadId:null})},[a,u]),m=(0,E.useCallback)(e=>{e.stopPropagation(),0!==e.detail&&(null==u||u({fieldPath:a,origin:"inspector",threadId:null}))},[a,u]),g=(0,E.useMemo)(()=>(null==t?void 0:t.map(e=>e.title))||[],[t]),y=g[g.length-1];return(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(emk,{align:"center",gap:2,paddingRight:1,sizing:"border",children:(0,_.jsx)(I.Stack,{flex:1,children:(0,_.jsx)(I.Flex,{align:"center",children:(0,_.jsx)(emw,{"aria-label":p("list-item.breadcrumb-button-go-to-field-aria-label",{field:y}),mode:"bleed",onClick:h,padding:2,space:2,children:(0,_.jsx)(efq,{maxLength:3,titlePath:g})})})})}),n&&(0,_.jsx)(emp,{onClick:m,"data-active":o,children:(0,_.jsx)(emC,{currentUser:i,fieldTitle:y,mentionOptions:l,mode:s,onNewThreadCreate:f,readOnly:d})}),(0,_.jsx)(I.Stack,{space:2,children:r})]})}let emj=(0,E.forwardRef)(function(e,t){let{beforeListNode:n,comments:r,currentUser:i,error:a,loading:o,mentionOptions:l,mode:s,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:p,onNewThreadCreate:f,onPathSelect:h,onReactionSelect:m,onReply:g,onStatusChange:y,readOnly:v,selectedPath:b,status:x}=e,[C,k]=(0,E.useState)(null),w=(0,E.useMemo)(()=>Object.entries(r.reduce((e,t)=>{let n=t.fieldPath;return e[n]||(e[n]=[]),e[n].push(t),e},{})),[r]),j=!o&&!a&&w.length>0;return(0,_.jsxs)(I.Flex,{"data-testid":"comments-list",direction:"column",flex:1,height:"fill",overflow:"hidden",ref:k,sizing:"border",children:["upsell"!==s&&(0,_.jsx)(emb,{error:a,hasNoComments:0===w.length,loading:o,status:x}),(j||n)&&(0,_.jsxs)(I.Stack,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,ref:t,children:[n,(0,_.jsx)(I.BoundaryElementProvider,{element:C,children:null==w?void 0:w.map(e=>{let[t,n]=e,r=n[0].breadcrumbs,a=n[0].threadId,o=(null==b?void 0:b.fieldPath)===t&&!b.threadId;return(0,_.jsx)(I.Stack,{as:"li",paddingTop:3,...{"data-comments-group-id":em8(a)},children:(0,_.jsx)(em_,{breadcrumbs:r,canCreateNewThread:"open"===x,currentUser:i,fieldPath:t,isSelected:o,mentionOptions:l,mode:s,onNewThreadCreate:f,onPathSelect:h,readOnly:v,children:n.map(e=>{var t,n,r;let a=e.replies.slice().reverse(),o="open"===x&&(null==(t=e.parentComment._state)?void 0:t.type)!=="createError"&&(null==(n=e.parentComment._state)?void 0:n.type)!=="createRetrying",f=(null==b?void 0:b.threadId)===e.parentComment.threadId&&(null==b?void 0:b.fieldPath)===(null==(r=e.parentComment.target.path)?void 0:r.field);return(0,_.jsx)(emv,{canReply:o,currentUser:i,hasReferencedValue:e.hasReferencedValue,isSelected:f,mentionOptions:l,mode:s,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:p,onPathSelect:h,onReactionSelect:m,onReply:g,onStatusChange:y,parentComment:e.parentComment,readOnly:v,replies:a},e.parentComment._id)})},t)},t)})})]})]})}),emS=(0,E.memo)(emj),emE=(0,F.styled)(I.Box)(SQ()),emT=(0,F.keyframes)(S1()),emD=(0,F.styled)(B.Popover)(S2(),emT);function emI(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(23);d[0]!==e?({onDismiss:t,...n}=e,d[0]=e,d[1]=t,d[2]=n):(t=d[1],n=d[2]);let{t:p}=IO(efR);return d[3]!==p?(r=p("onboarding.header"),d[3]=p,d[4]=r):r=d[4],d[5]!==r?(i=(0,_.jsx)(I.Text,{weight:"medium",size:1,children:r}),d[5]=r,d[6]=i):i=d[6],d[7]!==p?(a=p("onboarding.body"),d[7]=p,d[8]=a):a=d[8],d[9]!==a?(o=(0,_.jsx)(I.Text,{size:1,children:a}),d[9]=a,d[10]=o):o=d[10],d[11]!==p?(l=p("onboarding.dismiss"),d[11]=p,d[12]=l):l=d[12],d[13]!==t||d[14]!==l?(s=(0,_.jsx)(I.Flex,{justify:"flex-end",marginTop:2,children:(0,_.jsx)(B.Button,{text:l,tone:"primary",onClick:t})}),d[13]=t,d[14]=l,d[15]=s):s=d[15],d[16]!==i||d[17]!==o||d[18]!==s?(c=(0,_.jsx)(emE,{padding:4,children:(0,_.jsxs)(I.Stack,{space:3,children:[i,o,s]})}),d[16]=i,d[17]=o,d[18]=s,d[19]=c):c=d[19],d[20]!==n||d[21]!==c?(u=(0,_.jsx)(emD,{content:c,open:!0,portal:!0,...n}),d[20]=n,d[21]=c,d[22]=u):u=d[22],u}let emA=F.styled.img(e=>{let{media:t}=(0,ne.getTheme_v2)(e.theme),n=(0,I._responsive)(t,e.$direction,e=>({width:"row"===e?"50%":"100%",height:"row"===e?"auto":"180px"}));return(0,F.css)(S0(),n)}),emO=(0,F.styled)(I.Box)(S5()),emP=[3,3,5];function emM(e){var t;let n,r,i,a,o,l,s,c,u,d=(0,j.c)(28),{data:p,onPrimaryClick:f,onSecondaryClick:h,layout:m}=e,g=void 0===m?"vertical":m,y="horizontal"===g?"row":"column";d[0]!==y?(n=["column","column",y],d[0]=y,d[1]=n):n=d[1];let v=n;d[2]!==p.image||d[3]!==v?(r=p.image&&(0,_.jsx)(emA,{src:p.image.asset.url,alt:null!=(t=p.image.asset.altText)?t:"",$direction:v}),d[2]=p.image,d[3]=v,d[4]=r):r=d[4];let b="horizontal"===g?emP:3;return d[5]!==p.descriptionText?(i=(0,_.jsx)(I.Stack,{space:4,children:(0,_.jsx)(ec_,{blocks:p.descriptionText})}),d[5]=p.descriptionText,d[6]=i):i=d[6],d[7]!==p.secondaryButton.text||d[8]!==p.secondaryButton.url||d[9]!==h?(a=p.secondaryButton.text&&(0,_.jsx)(B.Button,{mode:"bleed",text:p.secondaryButton.text,tone:"primary",iconRight:R.LaunchIcon,...p.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:p.secondaryButton.url},onClick:h}),d[7]=p.secondaryButton.text,d[8]=p.secondaryButton.url,d[9]=h,d[10]=a):a=d[10],d[11]!==p.ctaButton.url?(o=p.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:p.ctaButton.url},d[11]=p.ctaButton.url,d[12]=o):o=d[12],d[13]!==p.ctaButton.text||d[14]!==f||d[15]!==o?(l=(0,_.jsx)(B.Button,{text:p.ctaButton.text,tone:"primary",...o,onClick:f}),d[13]=p.ctaButton.text,d[14]=f,d[15]=o,d[16]=l):l=d[16],d[17]!==a||d[18]!==l?(s=(0,_.jsxs)(I.Flex,{gap:2,justify:"flex-end",marginTop:5,children:[a,l]}),d[17]=a,d[18]=l,d[19]=s):s=d[19],d[20]!==b||d[21]!==i||d[22]!==s?(c=(0,_.jsxs)(emO,{paddingX:3,paddingY:b,children:[i,s]}),d[20]=b,d[21]=i,d[22]=s,d[23]=c):c=d[23],d[24]!==v||d[25]!==c||d[26]!==r?(u=(0,_.jsx)(I.Card,{radius:3,overflow:"hidden",border:!0,children:(0,_.jsxs)(I.Flex,{direction:v,gap:2,children:[r,c]})}),d[24]=v,d[25]=c,d[26]=r,d[27]=u):u=d[27],u}function emF(e){let t,n=(0,j.c)(4),{data:r,onPrimaryClick:i,onSecondaryClick:a}=e;return n[0]!==r||n[1]!==i||n[2]!==a?(t=(0,_.jsx)(I.Container,{width:1,children:(0,_.jsx)(I.Box,{marginBottom:6,children:(0,_.jsx)(emM,{data:r,onPrimaryClick:i,onSecondaryClick:a})})}),n[0]=r,n[1]=i,n[2]=a,n[3]=t):t=n[3],t}function emR(e,t){let n=uY(uP(e,t)),r=function(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){let a=e[i][0],o=e[i][1];switch(a){case 1:n+=o.length;break;case -1:r+=o.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+Math.max(n,r)}(n);return{patches:dl(e,n,{margin:15}),levenshtein:r}}let emB=["",""],emN=RegExp("[".concat(emB.join(""),"]"),"g"),emL=[];function emz(e){let{value:t,comments:n}=e;if(!t||0===t.length)return emL;let r=n.filter(efz),i=[];return r.forEach(e=>{var n,r;null==(r=e.target.path)||null==(n=r.selection)||n.value.forEach(n=>{let r=t.find(e=>e._key===n._key);if(!r||!(0,W.isPortableTextTextBlock)(r))return;let a=n.text.replaceAll(emN,""),o=r.children.map(e=>(0,W.isPortableTextSpan)(e)?e.text.replaceAll(""," "):"").join(""),{patches:l}=emR(a,n.text),s=u4(l,o,{allowExceedingIndices:!0,margin:15})[0],c=s.indexOf(emB[0]),u=s.replaceAll(emB[0],"").indexOf(emB[1]),d=s.replaceAll(emN,""),p=n.text.slice(n.text.indexOf(emB[0])+1,n.text.indexOf(emB[1])),f=d.slice(c,u),{levenshtein:h}=emR(f,p),m=Math.round(f.length+p.length/2),g=!1;if(0===f.length&&(g=!0),h>m&&(g=!0),c+1===u&&(g=!0),-1!==c&&-1!==u){let t=0,n=0,a=0,o=0;for(let e=0;e<d.length&&(""===d[e]&&(e<=c&&(n=-1,t++),o=-1,a++),e<c&&n++,e<c+f.length&&o++,e!==c+f.length);e++);i.push({selection:{anchor:{path:[{_key:r._key},"children",{_key:r.children[t]._key}],offset:n},focus:{path:[{_key:r._key},"children",{_key:r.children[a]._key}],offset:o}},comment:e,range:{_key:r._key,text:g?"":s}})}})}),0===i.length?emL:i}let emV=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s=(0,j.c)(20),{children:c,commentId:u,currentHoveredCommentId:d,onClick:p,onHoverEnd:f,onHoverStart:h,selectedThreadId:m,threadId:g}=e,y=(0,E.useRef)(null),[v,b]=(0,E.useState)(!1),[x,C]=(0,E.useState)(null);s[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{var e,t;let n=null==(e=y.current)?void 0:e.previousSibling,r=null==(t=y.current)?void 0:t.nextSibling;if(!n||!r)return void b(!1);let[i]=Object.keys(em6("")),a=n.getAttribute(i),o=r.getAttribute(i),l=!!(a&&o&&a===o);C(l?a:null),b(l)},n=[],s[0]=t,s[1]=n):(t=s[0],n=s[1]),(0,E.useEffect)(t,n),s[2]!==u||s[3]!==h?(r=()=>h(u),s[2]=u,s[3]=h,s[4]=r):r=s[4];let k=r;s[5]!==f?(i=()=>f(null),s[5]=f,s[6]=i):i=s[6];let w=i;s[7]!==u||s[8]!==p?(a=()=>p(u),s[7]=u,s[8]=p,s[9]=a):a=s[9];let S=a,T=d===u||d===x&&v||m===g;return s[10]!==g?(o=em6(g),s[10]=g,s[11]=o):o=s[11],s[12]!==c||s[13]!==S||s[14]!==k||s[15]!==w||s[16]!==v||s[17]!==T||s[18]!==o?(l=(0,_.jsx)(ehP,{isAdded:!0,isHovered:T,isNested:v,onClick:S,onMouseEnter:k,onMouseLeave:w,ref:y,...o,children:c}),s[12]=c,s[13]=S,s[14]=k,s[15]=w,s[16]=v,s[17]=T,s[18]=o,s[19]=l):l=s[19],l});emV.displayName="Memo(CommentRangeDecoration)";let emU=/\b(https?:\/\/[^\s,()]+(?:\.[^\s,()]+)*|www\.[^\s,()]+\.[^\s,()]{2,})\b/g;function emH(e){e.stopPropagation()}let emq=[e=>"string"==typeof e?e.split(emU).flatMap(e=>e.match(emU)?function(e){let t=e.startsWith("http")?e:"https://".concat(e);return(0,_.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",onClick:emH,children:e},e)}(e):e):e];async function emW(e){let t,{activeTool:n,client:r,comment:i,currentUser:a,dataset:o,documentId:l,documentRevisionId:s,documentType:c,documentVersionId:u,getIntent:d,getNotificationValue:p,getThreadLength:f,onCreate:h,onCreateError:m,projectId:g,createAddonDataset:y,workspace:v}=e,b=(null==i?void 0:i.id)||(0,h6.uuid)(),x=a.id,C=((null==f?void 0:f(i.threadId))||0)+1;if("task"===i.type&&(t={_id:b,_type:"comment",authorId:x,message:i.message,lastEditedAt:void 0,parentCommentId:i.parentCommentId,status:i.status,threadId:i.threadId,reactions:i.reactions,context:{payload:{workspace:v},notification:i.context.notification,tool:(null==n?void 0:n.name)||""},target:{document:{_ref:l,_type:"reference",_weak:!0},documentVersionId:u,documentType:c}}),"field"===i.type){let{documentTitle:e="",url:r="",workspaceTitle:a="",workspaceName:f=""}=p({commentId:b})||{},h=null==d?void 0:d({id:l,type:c,path:i.fieldPath}),m=function e(t){if(t&&"object"==typeof t&&t.hasOwnProperty("_ref"))return{...t,_weak:!0};if(Array.isArray(t))return t.map(t=>e(t));if(t&&"object"==typeof t){let n={};return Object.keys(t).forEach(r=>{let i=t[r];"object"==typeof i&&null!==i?n[r]=e(i):n[r]=i}),n}return t}(i.contentSnapshot);t={_id:b,_type:"comment",authorId:x,message:i.message,lastEditedAt:void 0,parentCommentId:i.parentCommentId,status:i.status,threadId:i.threadId,reactions:i.reactions,context:{payload:{workspace:v},intent:h,notification:{currentThreadLength:C,documentTitle:e,url:r,workspaceTitle:a,workspaceName:f},tool:(null==n?void 0:n.name)||""},contentSnapshot:m,target:{documentRevisionId:s||"",path:{field:i.fieldPath,selection:i.selection},document:{_dataset:o,_projectId:g,_ref:l,_type:"crossDatasetReference",_weak:!0},documentType:c,documentVersionId:u}}}if(t){if(null==h||h(t),!r){try{let e=await y();if(!e)throw Error("Failed to create addon dataset client");await e.create(t)}catch(e){throw null==m||m(t._id,e),e}return}try{await r.create(t)}catch(e){throw null==m||m(t._id,e),e}}}async function emY(e){var t,n,r;let{client:i,currentUser:a,id:o,reaction:l,getComment:s,onUpdate:c}=e,u=(null==s||null==(t=s(o))?void 0:t.reactions)||[],d=u.filter(e=>e.userId===a.id),p=(n=a.id,r=l.shortName,"".concat(n,"-").concat(r)),f=d.find(e=>e._key===p&&"removed"!==e._optimisticState);if(f){let e=u.map(e=>e._key===f._key?{...e,_optimisticState:"removed"}:e);null==c||c(o,{reactions:e}),await i.patch(o).unset(['reactions[_key=="'.concat(p,'"]')]).commit();return}if(!f){let e={_key:p,addedAt:new Date().toISOString(),shortName:l.shortName,userId:a.id},t={...e,_optimisticState:"added"},n=u.concat(t).filter(t=>t._key!==e._key||"removed"!==t._optimisticState);null==c||c(o,{reactions:n}),await i.patch(o).setIfMissing({reactions:[]}).append("reactions",[e]).commit()}}async function emK(e){let{client:t,id:n,onRemove:r}=e;null==r||r(n),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(n,'"]')}),t.delete(n)])}let emG={trailing:!0,leading:!1},em$=new Map;async function emZ(e){let{client:t,id:n,comment:r,transactionId:i,onUpdate:a}=e,o=i||(0,h6.uuid)(),l=null==t?void 0:t.patch(n).set(r),s=t.transaction().transactionId(o).patch(l);null==a||a(n,r),r.status?(await s.commit(),await t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(n,'"]')}).set({status:r.status}).commit()):await s.commit(),em$.delete(n)}async function emX(e){let{id:t,comment:n,throttled:r}=e,i="message"in n,a={...n,lastEditedAt:new Date().toISOString()},o=i?a:n;if(!r)return void await emZ({...e,comment:o});await (function(e){if(!em$.has(e)){let t=(0,M.default)(emZ,1e3,emG);return em$.set(e,t),t}return em$.get(e)})(t)({...e,comment:o})}function emJ(e){return"string"==typeof e.tool?e.tool:void 0}function emQ(){let e=(0,E.useContext)(D.CommentsContext);if(!e)throw Error("useComments must be used within a CommentsProvider");return e}function em1(){return(0,E.useContext)(D.CommentsEnabledContext)}let em2={behavior:"smooth",inline:"center",scrollMode:"if-needed"},em0={...em2,block:"start"},em5={...em2,block:"center"},em7={...em2,block:"center"},em3={comment:{...em2,block:"center"},field:em7,group:em0,"inline-comment":em5};function em8(e){return e.replace(/[[\]_"_=.]/g,"")}function em4(e){return{"data-comments-comment-id":em8(e)}}function em6(e){return{"data-comments-inline-comment-id":em8(e)}}function em9(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(14);u[0]!==e?(t=e||{},u[0]=e,u[1]=t):t=u[1];let{boundaryElement:d}=t,[p,f]=(0,E.useState)(null),h=em3[(null==p?void 0:p.type)||"comment"];u[2]!==d||u[3]!==h?(n={...h,boundary:d},u[2]=d,u[3]=h,u[4]=n):n=u[4];let m=n;u[5]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{f({type:"comment",id:e})},u[5]=r):r=u[5];let g=r;u[6]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{f({type:"group",id:e})},u[6]=i):i=u[6];let y=i;u[7]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{f({type:"field",id:e})},u[7]=a):a=u[7];let v=a;u[8]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{f({type:"inline-comment",id:e})},u[8]=o):o=u[8];let b=o;return u[9]!==m||u[10]!==p?(l=()=>{let e=requestAnimationFrame(()=>{var e;if(!p)return;let{type:t,id:n}=p,r=null==(e=document)?void 0:e.querySelector("[data-comments-".concat(t,'-id="').concat(em8(n),'"]'));r&&aR(r,m)});return()=>{cancelAnimationFrame(e)}},s=[m,p],u[9]=m,u[10]=p,u[11]=l,u[12]=s):(l=u[11],s=u[12]),(0,E.useEffect)(l,s),u[13]===Symbol.for("react.memo_cache_sentinel")?(c={scrollToComment:g,scrollToField:v,scrollToGroup:y,scrollToInlineComment:b},u[13]=c):c=u[13],c}function ege(){let e=(0,E.useContext)(D.CommentsSelectedPathContext);if(!e)throw Error("useCommentsSelectedPath: missing context value");return e}let egt=(0,tc.defineEvent)({name:"Comment Link Copied",version:1,description:"The link to a comment is copied"}),egn=(0,tc.defineEvent)({name:"Comment Viewed From Link",version:1,description:"A comment is viewed from a link"}),egr=(0,tc.defineEvent)({name:"Comment List View Changed",version:1,description:"The view of the comment list is changed"});function egi(){let e=(0,j.c)(1),t=(0,E.useContext)(D.CommentsUpsellContext);if(!t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={upsellData:null,handleOpenDialog:egd,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:egu,dialogPrimaryClicked:egc,panelViewed:egs,panelDismissed:egl,panelPrimaryClicked:ego,panelSecondaryClicked:ega}},e[0]=t):t=e[0],t}return t}function ega(){return null}function ego(){return null}function egl(){return null}function egs(){return null}function egc(){return null}function egu(){return null}function egd(){return null}function egp(e,t){switch(t.type){case"COMMENTS_SET":{let n=t.comments.reduce((e,t)=>({...e,[t._id]:t}),{});return{...e,comments:n}}case"COMMENT_ADDED":{let n=t.payload,r={[n._id]:{...e.comments[n._id],...n,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};return{...e,comments:{...e.comments,...r}}}case"COMMENT_RECEIVED":{let n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{let{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(e=>{r[e].parentCommentId===t.id&&delete r[e]}),{...e,comments:r}}case"COMMENT_UPDATED":{var n;let r=t.payload,i=r._id,a=e.comments[i],o=function(e,t){let n={};for(let t of e)n[t._key]={...t};for(let e of t)n[e._key]={...n[e._key],...e};return Object.values(n)}((null==a||null==(n=a.reactions)?void 0:n.filter(e=>null==e?void 0:e._optimisticState))||[],r.reactions||[]),l={...a,...r,reactions:o};return{...e,comments:{...e.comments,[i]:l}}}default:return e}}let egf={comments:{}},egh={events:["welcome","mutation","reconnect"],includeResult:!0,includeAllVersions:!0,visibility:"query",tag:"comments-store"},egm=['_type == "comment"',"target.document._ref == $documentId"],egg="order(".concat("_createdAt"," ").concat("desc",")"),egy=[],egv={open:egy,resolved:egy},egb=(0,E.memo)(function(e){let{children:t,documentId:n,documentType:r,isCommentsOpen:i,onCommentsOpen:a,sortOrder:o,type:l,getCommentLink:s,onClearSelectedComment:c,selectedCommentId:u,isConnecting:d,onPathOpen:p,releaseId:f,mentionsDisabled:h}=e,m=em1(),[g,y]=(0,E.useState)("open"),{client:v,createAddonDataset:b,isCreatingDataset:x}=ek7(),C=(0,th.getPublishedId)(n),k=eud(C,r,"low",f),w=el3().get(r),T=A6(),{name:I,dataset:A,projectId:O}=FU(),P=(0,E.useMemo)(()=>f?k.version:k.draft||k.published,[k.version,k.draft,k.published,f]),M=(0,E.useMemo)(()=>null==P?void 0:P._rev,[P]),F=(0,E.useMemo)(()=>new Map,[]),R=(0,E.useCallback)(e=>{F.delete(e)},[F]),{dispatch:B,data:N=egy,error:L,loading:z}=function(e){let{client:t,documentId:n,onLatestTransactionIdReceived:r,transactionsIdMap:i,releaseId:a}=e,o=[...egm,a?"target.documentVersionId==$documentVersionId":"!defined(target.documentVersionId)"].join(" && "),l=(0,E.useMemo)(()=>"*[".concat(o,"] ").concat("{\n  _createdAt,\n  _id,\n  authorId,\n  contentSnapshot,\n  context,\n  lastEditedAt,\n  message,\n  parentCommentId,\n  reactions,\n  status,\n  target,\n  threadId\n}"," | ").concat(egg),[o]),[s,c]=(0,E.useReducer)(egp,egf),[u,d]=(0,E.useState)(null!==t),[p,f]=(0,E.useState)(null),h=(0,E.useRef)(!1),m=(0,E.useMemo)(()=>({documentId:(0,th.getPublishedId)(n),...a?{documentVersionId:a}:{}}),[n,a]),g=(0,E.useCallback)(async()=>{if(!t)return void d(!1);try{let e=await t.fetch(l,m);c({type:"COMMENTS_SET",comments:e}),d(!1)}catch(e){f(e)}},[t,m,l]),y=(0,E.useCallback)(async e=>{if("welcome"!==e.type||h.current||(d(!0),await g(),d(!1),h.current=!0),"reconnect"===e.type&&(d(!0),h.current=!1),"mutation"===e.type){if("appear"===e.transition){let t=e.result;t&&c({type:"COMMENT_RECEIVED",payload:t})}if("disappear"===e.transition&&c({type:"COMMENT_DELETED",id:e.documentId}),"update"===e.transition){var t;let n=e.result,a=(null==(t=e.result)?void 0:t._id)||"",o=e.transactionId,l=i.get(a),s=o===l;if(!s&&l)return;n&&(c({type:"COMMENT_UPDATED",payload:n}),s&&r(a))}}},[g,r,i]),v=(0,E.useMemo)(()=>t?t.observable.listen("*[".concat(o,"]"),m,egh).pipe((0,J.catchError)(e=>(f(e),(0,Y.of)(e)))):(0,Y.of)(),[t,o,m]);return(0,E.useEffect)(()=>{let e=v.subscribe(y);return()=>{null==e||e.unsubscribe()}},[y,v]),{data:(0,E.useMemo)(()=>Object.values(s.comments),[s.comments]),dispatch:c,error:p,loading:u}}({documentId:n,releaseId:f,client:v,transactionsIdMap:F,onLatestTransactionIdReceived:R}),V=(0,E.useCallback)((e,t)=>{F.set(e,t)},[F]),U=(0,E.useCallback)(e=>"upsell"===m.mode&&"resolved"===e?null:y(e),[y,m]),H=eTy((0,E.useMemo)(()=>({documentValue:P,permission:"read"}),[P])),q=(0,E.useMemo)(()=>{if(!w||!T)return egv;let e=function(e){let{comments:t,currentUser:n,documentValue:r,schemaType:i,type:a}=e,o=null==t?void 0:t.filter(e=>!e.parentCommentId);return"task"===a?o.map(e=>{let n=null==t?void 0:t.filter(t=>t.parentCommentId===e._id);return{commentsCount:[e,...n].length,parentComment:e,replies:n,threadId:e.threadId,hasReferencedValue:!1,breadcrumbs:efV,fieldPath:""}}):"field"===a?o.map(e=>{var a,o,l;let s=function(e){let{currentUser:t,schemaType:n,fieldPath:r,documentValue:i}=e,a=S.fromString(r),o=[],l=n;return a.forEach((e,n)=>{let r=a.slice(0,n+1),s=a.slice(0,n),c=function e(t,n){let r=S.fromString(n),i=r[0];if(i&&(0,W.isObjectSchemaType)(t)){var a;let n=null==t||null==(a=t.fields)?void 0:a.find(e=>e.name===i);if(n){let t=S.toString(r.slice(1));return t?e(n.type,t):n}}}(l,S.toString([e])),u=e.hasOwnProperty("_key"),d=Ad(i,s),p=Ad(i,r),f={document:i,currentUser:t,parent:d,value:p};if(u&&Array.isArray(d)){let t=function(e,t){if("number"==typeof t)return t;let n=(0,ub.default)(e,t);return -1!==n&&n}(d,e);o.push({invalid:!1===t,isArrayItem:!0,title:"number"==typeof t?"#".concat(Number(t)+1):"Unknown array item"});return}if(null==c?void 0:c.type){let e=ec7(c.type.hidden,f);o.push({invalid:e,isArrayItem:!1,title:q5(c.type)}),l=c.type;return}if((0,W.isArraySchemaType)(l)){var h,m,g,y,v,b,x;let t=null==(h=Ad(i,s))?void 0:h._type,n=null==l||null==(m=l.of)?void 0:m.find(e=>e.name===t),r=null==n||null==(g=n.fields)?void 0:g.find(t=>t.name===e);if(!t&&p){let t=null==l||null==(b=l.of)||null==(v=b.map(e=>null==e?void 0:e.fields).filter(Boolean).flat())?void 0:v.find(t=>(null==t?void 0:t.name)===e),n=ec7(null==t||null==(x=t.type)?void 0:x.hidden,f);t&&(o.push({invalid:n,isArrayItem:!1,title:q5(null==t?void 0:t.type)}),l=null==t?void 0:t.type);return}if(!r)return void o.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});let a=q5(null==r?void 0:r.type),c=ec7(null==n||null==(y=n.type)?void 0:y.hidden,f),u=ec7(null==r?void 0:r.type.hidden,f);return o.push({invalid:c||u,isArrayItem:!1,title:a}),void(l=null==r?void 0:r.type)}o.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),o}({currentUser:n,documentValue:r,fieldPath:(null==(a=e.target.path)?void 0:a.field)||"",schemaType:i}),c=!1;if(efz(e)&&(c=!!((null==(o=e.target.path)?void 0:o.selection)&&e.target.path.selection.value.some(e=>e.text))),s.some(e=>e.invalid))return;let u=null==t?void 0:t.filter(t=>t.parentCommentId===e._id),d=c;return{breadcrumbs:s,commentsCount:[e,...u].length,fieldPath:(null==(l=e.target.path)?void 0:l.field)||"",parentComment:e,replies:u,threadId:e.threadId,hasReferencedValue:d}}).filter(Boolean):efV}({comments:(0,nd.default)(N,["_createdAt"],[o]),currentUser:T,documentValue:P,schemaType:w,type:l});return{open:e.filter(e=>"open"===e.parentComment.status),resolved:e.filter(e=>"resolved"===e.parentComment.status)}},[T,N,P,w,o,l]),K=(0,E.useCallback)(e=>q.open.filter(t=>t.threadId===e).length,[q.open]),G=(0,E.useCallback)(e=>null==N?void 0:N.find(t=>t._id===e),[N]),$=(0,E.useCallback)(e=>{var t,n;let r=(null==N||null==(n=N.find(t=>t._id===e._id))||null==(t=n._state)?void 0:t.type)==="createError";B({type:"COMMENT_ADDED",payload:{...e,_state:r?{type:"createRetrying"}:void 0}})},[N,B]),Z=(0,E.useCallback)((e,t)=>{B({type:"COMMENT_UPDATED",payload:{_id:e,...t}})},[B]),X=(0,E.useCallback)((e,t)=>{B({type:"COMMENT_UPDATED",payload:{_id:e,_state:{error:t,type:"createError"}}})},[B]),{operation:Q}=function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(46),{client:u,currentUser:d,dataset:p,documentId:f,documentRevisionId:h,documentType:m,documentVersionId:g,getComment:y,getThreadLength:v,onCreate:b,onCreateError:x,onRemove:C,onTransactionStart:k,onUpdate:w,projectId:_,createAddonDataset:S,workspace:T,getCommentLink:I}=e,A=(0,E.useContext)(D.CommentsIntentContext),O=(0,nr.useRouterState)(emJ),P=eii().tools;if(c[0]!==O||c[1]!==P){let e;c[3]!==O?(e=e=>e.name===O,c[3]=O,c[4]=e):e=c[4],t=P.find(e),c[0]=O,c[1]=P,c[2]=t}else t=c[2];let M=t;c[5]!==f||c[6]!==m||c[7]!==g||c[8]!==I?(n={documentId:f,documentType:m,getCommentLink:I,documentVersionId:g},c[5]=f,c[6]=m,c[7]=g,c[8]=I,c[9]=n):n=c[9];let{getNotificationValue:F}=function(e){let{documentId:t,documentType:n,getCommentLink:r,documentVersionId:i}=e||{},a=el3().get(n),{title:o,name:l}=FU(),s=Fu(),c=(0,E.useMemo)(()=>t&&a?eru(s,a,t,i?[i,"drafts"]:["drafts"]):(0,Y.of)(null),[t,s,a,i]),{snapshot:u,original:d}=(0,te.useObservable)(c)||{},p=(null==u?void 0:u.title)||(null==d?void 0:d.title)||"Sanity document";return{getNotificationValue:(0,E.useCallback)(e=>{let{commentId:t}=e;return{documentTitle:p,url:null==r?void 0:r(t),workspaceTitle:o,workspaceName:l}},[p,r,o,l])}}(n);c[10]!==M||c[11]!==u||c[12]!==S||c[13]!==d||c[14]!==p||c[15]!==f||c[16]!==h||c[17]!==m||c[18]!==g||c[19]!==A||c[20]!==F||c[21]!==v||c[22]!==b||c[23]!==x||c[24]!==_||c[25]!==T?(r=async e=>{(null==d?void 0:d.id)&&await emW({activeTool:M,client:u,comment:e,currentUser:d,dataset:p,documentId:f,documentRevisionId:h,documentType:m,documentVersionId:g,getIntent:A,getNotificationValue:F,getThreadLength:v,onCreate:b,onCreateError:x,projectId:_,createAddonDataset:S,workspace:T})},c[10]=M,c[11]=u,c[12]=S,c[13]=d,c[14]=p,c[15]=f,c[16]=h,c[17]=m,c[18]=g,c[19]=A,c[20]=F,c[21]=v,c[22]=b,c[23]=x,c[24]=_,c[25]=T,c[26]=r):r=c[26];let R=r;c[27]!==u||c[28]!==C?(i=async e=>{u&&await emK({client:u,id:e,onRemove:C})},c[27]=u,c[28]=C,c[29]=i):i=c[29];let B=i;c[30]!==u||c[31]!==k||c[32]!==w?(a=async(e,t,n)=>{if(!u)return;let{throttled:r}=n||{},i=(0,h6.uuid)();k(e,i),await emX({client:u,comment:t,throttled:r,id:e,onUpdate:w,transactionId:i})},c[30]=u,c[31]=k,c[32]=w,c[33]=a):a=c[33];let N=a;c[34]!==u||c[35]!==d||c[36]!==y||c[37]!==w?(o=async(e,t)=>{u&&(null==d?void 0:d.id)&&await emY({client:u,currentUser:d,id:e,reaction:t,getComment:y,onUpdate:w})},c[34]=u,c[35]=d,c[36]=y,c[37]=w,c[38]=o):o=c[38];let L=o;c[39]!==R||c[40]!==L||c[41]!==B||c[42]!==N?(l={create:R,react:L,remove:B,update:N},c[39]=R,c[40]=L,c[41]=B,c[42]=N,c[43]=l):l=c[43];let z=l;return c[44]!==z?(s={operation:z},c[44]=z,c[45]=s):s=c[45],s}((0,E.useMemo)(()=>({client:v,currentUser:T,dataset:A,documentId:C,documentVersionId:f,documentRevisionId:M,documentType:r,getComment:G,getThreadLength:K,projectId:O,schemaType:w,workspace:I,createAddonDataset:b,onCreate:$,onCreateError:X,onUpdate:Z,onTransactionStart:V,getCommentLink:s}),[v,T,A,C,f,M,r,G,K,O,w,I,b,$,X,Z,V,s])),ee=(0,E.useMemo)(()=>({documentId:n,documentType:r,isCreatingDataset:x,status:g,setStatus:U,getComment:G,getCommentLink:s,onClearSelectedComment:c,selectedCommentId:u,isCommentsOpen:i,onCommentsOpen:a,isConnecting:d,onPathOpen:p,comments:{data:q,error:L,loading:z||x||d||!1},operation:{create:Q.create,react:Q.react,remove:Q.remove,update:Q.update},mentionOptions:{...H,disabled:h}}),[n,r,x,g,U,G,s,c,u,i,a,d,p,q,L,z,Q.create,Q.react,Q.remove,Q.update,H,h]);return(0,_.jsx)(D.CommentsContext.Provider,{value:ee,children:t})}),egx=(0,E.memo)(function(e){let t,n=(0,j.c)(3),{children:r,documentId:i,documentType:a}=e,o=function(e,t){let n,r=(0,j.c)(3),{enabled:i,isLoading:a,error:o}=eiN("studioComments"),{enabled:l}=eii().document.comments,s=l({documentType:t,documentId:(0,th.getPublishedId)(e)});e:{let e;if(a||!s||o){let e;r[0]===Symbol.for("react.memo_cache_sentinel")?(e={enabled:!1,mode:null},r[0]=e):e=r[0],n=e;break e}let t=i?"default":"upsell";r[1]!==t?(e={enabled:!0,mode:t},r[1]=t,r[2]=e):e=r[2],n=e}return n}(i,a);return n[0]!==r||n[1]!==o?(t=(0,_.jsx)(D.CommentsEnabledContext.Provider,{value:o,children:r}),n[0]=r,n[1]=o,n[2]=t):t=n[2],t}),egC=(0,E.memo)(function(e){let t,n=(0,j.c)(3),{children:r,getIntent:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(D.CommentsIntentContext.Provider,{value:i,children:r}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}),egk="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(1);function egw(e){let t,n,r,i,a=(0,j.c)(7),{children:o}=e;a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(()=>{try{let e=window.localStorage.getItem(egk);return!!e&&JSON.parse(e)}catch(e){return!1}})(),a[0]=t):t=a[0];let[l,s]=(0,E.useState)(t);a[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{s(!0),(e=>{try{window.localStorage.setItem(egk,JSON.stringify(e))}catch(e){}})(!0)},a[1]=n):n=a[1];let c=n;a[2]!==l?(r={setDismissed:c,isDismissed:l},a[2]=l,a[3]=r):r=a[3];let u=r;return a[4]!==o||a[5]!==u?(i=(0,_.jsx)(D.CommentsOnboardingContext.Provider,{value:u,children:o}),a[4]=o,a[5]=u,a[6]=i):i=a[6],i}let eg_=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(8),{children:a}=e,[o,l]=(0,E.useState)(null);i[0]!==o?(t=e=>{(0,e4.default)(o,e)||l(e)},i[0]=o,i[1]=t):t=i[1];let s=t;i[2]!==s||i[3]!==o?(n={selectedPath:o,setSelectedPath:s},i[2]=s,i[3]=o,i[4]=n):n=i[4];let c=n;return i[5]!==a||i[6]!==c?(r=(0,_.jsx)(D.CommentsSelectedPathContext.Provider,{value:c,children:a}),i[5]=a,i[6]=c,i[7]=r):r=i[7],r});function egj(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(24),[u,d]=(0,E.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={dataUri:"/journey/comments",feature:"comments"},c[0]=t):t=c[0];let{upsellData:p,telemetryLogs:f}=eco(t);c[1]!==f?(n=()=>{f.dialogPrimaryClicked()},c[1]=f,c[2]=n):n=c[2];let h=n;c[3]!==f?(r=()=>{f.dialogSecondaryClicked()},c[3]=f,c[4]=r):r=c[4];let m=r;c[5]!==f?(i=()=>{d(!1),f.dialogDismissed()},c[5]=f,c[6]=i):i=c[6];let g=i;c[7]!==f?(a=e=>{d(!0),f.dialogViewed(e)},c[7]=f,c[8]=a):a=c[8];let y=a;c[9]!==y||c[10]!==f||c[11]!==p||c[12]!==u?(o={upsellDialogOpen:u,handleOpenDialog:y,upsellData:p,telemetryLogs:f},c[9]=y,c[10]=f,c[11]=p,c[12]=u,c[13]=o):o=c[13];let v=o;return c[14]!==g||c[15]!==h||c[16]!==m||c[17]!==p||c[18]!==u?(l=p&&u&&(0,_.jsx)(ecD,{data:p,onClose:g,onPrimaryClick:h,onSecondaryClick:m}),c[14]=g,c[15]=h,c[16]=m,c[17]=p,c[18]=u,c[19]=l):l=c[19],c[20]!==v||c[21]!==e.children||c[22]!==l?(s=(0,_.jsxs)(D.CommentsUpsellContext.Provider,{value:v,children:[e.children,l]}),c[20]=v,c[21]=e.children,c[22]=l,c[23]=s):s=c[23],s}function egS(e){let t,n,r=(0,j.c)(6);if(!em1().enabled){let t;return r[0]!==e?(t=e.renderDefault(e),r[0]=e,r[1]=t):t=r[1],t}return r[2]!==e?(t=e.renderDefault(e),r[2]=e,r[3]=t):t=r[3],r[4]!==t?(n=(0,_.jsx)(eg_,{children:(0,_.jsx)(efB,{children:t})}),r[4]=t,r[5]=n):n=r[5],n}let egE=(0,F.styled)(I.Stack)(S7());function egT(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(69),{count:y,currentUser:v,fieldTitle:b,isCreatingDataset:x,mentionOptions:C,onChange:k,onClick:w,onClose:S,onCommentAdd:T,onDiscard:D,onInputKeyDown:A,open:O,value:P}=e,{t:M}=IO(efR),F=(0,E.useRef)(null),[N,L]=(0,E.useState)(null),z=(0,E.useRef)(null),V=y>0;g[0]!==N||g[1]!==S||g[2]!==O?(t=()=>{O&&(S(),null==N||N.focus())},g[0]=N,g[1]=S,g[2]=O,g[3]=t):t=g[3];let U=t;g[4]!==U||g[5]!==T?(n=()=>{T(),U()},g[4]=U,g[5]=T,g[6]=n):n=g[6];let H=n;g[7]!==P?(r=efL(P),g[7]=P,g[8]=r):r=g[8];let q=r;g[9]!==U||g[10]!==q?(i=()=>{var e;if(!q)return void U();null==(e=z.current)||e.discardDialogController.open()},g[9]=U,g[10]=q,g[11]=i):i=g[11];let W=i;g[12]!==A?(a=e=>{e.isDefaultPrevented()||A&&A(e)},g[12]=A,g[13]=a):a=g[13];let Y=a;g[14]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{var e;null==(e=z.current)||e.discardDialogController.close()},g[14]=o):o=g[14];let K=o;g[15]!==U||g[16]!==D?(l=()=>{var e;null==(e=z.current)||e.discardDialogController.close(),U(),D()},g[15]=U,g[16]=D,g[17]=l):l=g[17];let G=l;g[18]!==W?(s=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),W())},g[18]=W,g[19]=s):s=g[19];let $=s;if(g[20]===Symbol.for("react.memo_cache_sentinel")?(c=()=>[F.current],g[20]=c):c=g[20],(0,I.useClickOutsideEvent)(!O&&W,c),!V){let e,t,n,r,i,a,o,l,s;g[21]!==b?(e={field:b},g[21]=b,g[22]=e):e=g[22],g[23]!==M||g[24]!==e?(t=(0,_.jsx)(IZ,{t:M,i18nKey:"compose.add-comment-input-placeholder",values:e}),g[23]=M,g[24]=e,g[25]=t):t=g[25];let c=t;g[26]!==v||g[27]!==G||g[28]!==Y||g[29]!==H||g[30]!==x||g[31]!==C||g[32]!==k||g[33]!==c||g[34]!==P?(n=(0,_.jsx)(egE,{padding:2,space:4,children:(0,_.jsx)(ehE,{currentUser:v,focusLock:!0,focusOnMount:!0,mentionOptions:C,onChange:k,onDiscardCancel:K,onDiscardConfirm:G,onKeyDown:Y,onSubmit:H,placeholder:c,readOnly:x,ref:z,value:P})}),g[26]=v,g[27]=G,g[28]=Y,g[29]=H,g[30]=x,g[31]=C,g[32]=k,g[33]=c,g[34]=P,g[35]=n):n=g[35];let u=n;return g[36]===Symbol.for("react.memo_cache_sentinel")?(r=["bottom-end"],g[36]=r):r=g[36],g[37]!==M?(i=M("field-button.aria-label-add"),g[37]=M,g[38]=i):i=g[38],g[39]!==M?(a=M("field-button.title"),g[39]=M,g[40]=a):a=g[40],g[41]!==a?(o={content:a,placement:"top"},g[41]=a,g[42]=o):o=g[42],g[43]!==x||g[44]!==w||g[45]!==O||g[46]!==i||g[47]!==o?(l=(0,_.jsx)("div",{children:(0,_.jsx)(B.Button,{"aria-label":i,disabled:x,icon:R.AddCommentIcon,mode:"bleed",onClick:w,ref:L,selected:O,tooltipProps:o})}),g[43]=x,g[44]=w,g[45]=O,g[46]=i,g[47]=o,g[48]=l):l=g[48],g[49]!==u||g[50]!==$||g[51]!==O||g[52]!==l?(s=(0,_.jsx)(B.Popover,{constrainSize:!0,content:u,fallbackPlacements:r,open:O,placement:"right-start",portal:!0,ref:F,onKeyDown:$,children:l}),g[49]=u,g[50]=$,g[51]=O,g[52]=l,g[53]=s):s=g[53],s}g[54]!==y||g[55]!==M?(u=M("field-button.content",{count:y}),g[54]=y,g[55]=M,g[56]=u):u=g[56],g[57]!==M?(d=M("field-button.aria-label-open"),g[57]=M,g[58]=d):d=g[58],g[59]===Symbol.for("react.memo_cache_sentinel")?(p=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.CommentIcon,{})}),g[59]=p):p=g[59];let Z=y>9?"9+":y;return g[60]!==Z?(f=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[p,(0,_.jsx)(I.Text,{size:0,children:Z})]}),g[60]=Z,g[61]=f):f=g[61],g[62]!==w||g[63]!==d||g[64]!==f?(h=(0,_.jsx)(I.Button,{"aria-label":d,mode:"bleed",onClick:w,padding:2,space:2,children:f}),g[62]=w,g[63]=d,g[64]=f,g[65]=h):h=g[65],g[66]!==h||g[67]!==u?(m=(0,_.jsx)(B.Tooltip,{portal:!0,placement:"top",content:u,children:h}),g[66]=h,g[67]=u,g[68]=m):m=g[68],m}let egD=new Map,egI=[],egA={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},egO=(0,F.styled)(na.motion.div)(e=>{let{theme:t}=e,{radius:n,space:r,color:i}=t.sanity,a=z.hues[ehD][i.dark?900:50].hex;return(0,F.css)(S3(),i.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],2*r[2],2*r[2],a)}),egP=(0,F.styled)(I.Stack)(S8());function egM(e){let{mode:t}=e,n=A6(),{element:r}=(0,I.useBoundaryElement)(),i=(0,E.useRef)(null),{comments:a,isCommentsOpen:o,isCreatingDataset:l,mentionOptions:s,onCommentsOpen:c,operation:u,setStatus:d,status:p}=emQ(),{upsellData:f,handleOpenDialog:h}=egi(),{selectedPath:m,setSelectedPath:g}=ege(),{authoringPath:y,setAuthoringPath:v}=function(){let e=(0,E.useContext)(D.CommentsAuthoringPathContext);if(!e)throw Error("useCommentsAuthoringPath: missing context value");return e}(),{scrollToGroup:b}=em9({boundaryElement:r}),x=(0,E.useMemo)(()=>q5(e.schemaType),[e.schemaType]),C=(0,E.useMemo)(()=>S.toString(e.path),[e.path]),k=egD.get(C)||null,[w,j]=(0,E.useState)(k),T=(0,E.useMemo)(()=>y===C,[y,C]),A=(0,E.useMemo)(()=>!!o&&(null==m?void 0:m.origin)!=="form"&&(null==m?void 0:m.origin)!=="url"&&(null==m?void 0:m.fieldPath)===C,[o,null==m?void 0:m.fieldPath,null==m?void 0:m.origin,C]),O=(0,E.useMemo)(()=>a.data.open.filter(e=>e.threadId===(null==m?void 0:m.threadId)).some(e=>efz(e.parentComment)),[a.data.open,null==m?void 0:m.threadId]),P=(0,E.useMemo)(()=>a.data.open.map(e=>e.fieldPath===C?e.commentsCount:0).reduce((e,t)=>e+t,0)||0,[a.data.open,C]),M=P>0,F=(0,E.useCallback)(()=>{j(null),egD.delete(C)},[C]),R=(0,E.useCallback)(()=>{if(M){var n;"resolved"===p&&d("open"),v(null),null==c||c();let t=null==(n=a.data.open.find(t=>t.fieldPath===S.toString(e.path)))?void 0:n.threadId;t&&(g({threadId:t,origin:"form",fieldPath:S.toString(e.path)}),b(t));return}if("upsell"===t)return void(f?h("field_action"):null==c||c());v(T?null:C)},[a.data.open,h,M,T,t,c,e.path,b,v,g,d,p,C,f]),B=(0,E.useCallback)(()=>{if(w){let t=(0,h6.uuid)(),n={type:"field",fieldPath:S.toString(e.path),message:w,parentCommentId:void 0,status:"open",threadId:t,reactions:egI};u.create(n),null==c||c(),"resolved"===p&&d("open"),F(),g({threadId:t,origin:"form",fieldPath:S.toString(e.path)}),b(t)}},[c,u,e.path,F,b,g,d,p,w]),N=(0,E.useCallback)(()=>v(null),[v]),L=(0,E.useCallback)(e=>{j(e),egD.set(C,e)},[C]),z=(0,E.useMemo)(()=>({button:n&&(0,_.jsx)(egT,{count:Number(P),currentUser:n,fieldTitle:x,isCreatingDataset:l,mentionOptions:s,onChange:L,onClick:R,onClose:N,onCommentAdd:B,onDiscard:F,open:T,value:w}),hasComments:M,isAddingComment:T}),[n,P,x,l,s,L,R,N,B,F,T,w,M]);return(0,_.jsxs)(egP,{...{"data-comments-field-id":em8(S.toString(e.path))},ref:i,children:[e.renderDefault({...e,__internal_comments:z}),(0,_.jsx)(no.AnimatePresence,{children:A&&!O&&(0,_.jsx)(egO,{animate:"animate",exit:"exit",initial:"initial",variants:egA})})]})}let egF=(0,F.styled)(na.motion.create(B.Popover))(S4()),egR=["bottom","top"],egB={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0}};function egN(e){let t,n,r,i,a,o=(0,j.c)(13),{disabled:l,onClick:s,onClickOutside:c,referenceElement:u}=e,d=(0,E.useRef)(null),{t:p}=IO(efR);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>[d.current],o[0]=t):t=o[0],(0,I.useClickOutsideEvent)(c,t),o[1]!==p?(n=p("inline-add-comment-button.disabled-overlap-title"),o[1]=p,o[2]=n):n=o[2];let f=n;o[3]!==p?(r=p("inline-add-comment-button.title"),o[3]=p,o[4]=r):r=o[4];let h=l?f:r,m=l?efY:R.AddCommentIcon;o[5]!==l||o[6]!==s||o[7]!==m||o[8]!==h?(i=(0,_.jsx)(B.Button,{"data-testid":"inline-comment-button",disabled:l,icon:m,mode:"bleed",onClick:s,ref:d,text:h}),o[5]=l,o[6]=s,o[7]=m,o[8]=h,o[9]=i):i=o[9];let g=i;return o[10]!==g||o[11]!==u?(a=(0,_.jsx)(egF,{animate:"visible",content:g,contentEditable:!1,fallbackPlacements:egR,initial:"hidden",open:!0,padding:1,placement:"bottom",portal:!0,referenceElement:u,variants:egB}),o[10]=g,o[11]=u,o[12]=a):a=o[12],a}let egL=["bottom","top"],egz=na.motion.create(B.Popover),egV=(0,F.styled)(I.Stack)(S6()),egU={hidden:{opacity:0},visible:{opacity:1}};function egH(e){let t,n,r,i,a,o,l=(0,j.c)(17),{currentUser:s,mentionOptions:c,onChange:u,onClickOutside:d,onDiscardConfirm:p,onSubmit:f,referenceElement:h,value:m}=e,g=(0,E.useRef)(null),y=(0,E.useRef)(null);l[0]!==p?(t=()=>{var e;null==(e=g.current)||e.discardDialogController.close(),p()},l[0]=p,l[1]=t):t=l[1];let v=t;l[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{var e;null==(e=g.current)||e.discardDialogController.close()},l[2]=n):n=l[2];let b=n;l[3]!==d||l[4]!==m?(r=()=>{if(efL(m)){var e;null==(e=g.current)||e.discardDialogController.open();return}d()},l[3]=d,l[4]=m,l[5]=r):r=l[5],l[6]===Symbol.for("react.memo_cache_sentinel")?(i=()=>[y.current],l[6]=i):i=l[6],(0,I.useClickOutsideEvent)(r,i),l[7]!==s||l[8]!==v||l[9]!==c||l[10]!==u||l[11]!==f||l[12]!==m?(a=(0,_.jsx)(egV,{padding:2,ref:y,children:(0,_.jsx)(ehE,{currentUser:s,focusLock:!0,focusOnMount:!0,mentionOptions:c,onChange:u,onDiscardCancel:b,onDiscardConfirm:v,onSubmit:f,ref:g,value:m})}),l[7]=s,l[8]=v,l[9]=c,l[10]=u,l[11]=f,l[12]=m,l[13]=a):a=l[13];let x=a;return l[14]!==x||l[15]!==h?(o=(0,_.jsx)(egz,{animate:"visible",content:x,"data-ui":"InlineCommentInputPopover",fallbackPlacements:egL,initial:"hidden",open:!0,placement:"bottom",portal:!0,referenceElement:h,variants:egU}),l[14]=x,l[15]=h,l[16]=o):o=l[16],o}let egq=[];function egW(e){let t,n=(0,j.c)(5),{enabled:r,mode:i}=em1(),a="sanity.assist.instruction.prompt"===e.schemaType.name;if(!r||a){let t;return n[0]!==e?(t=e.renderDefault(e),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==i||n[3]!==e?(t=(0,_.jsx)(egY,{...e,mode:i}),n[2]=i,n[3]=e,n[4]=t):t=n[4],t}let egY=(0,E.memo)(function(e){var t,n;let{mode:r}=e,i=A6(),a=(0,I.usePortal)(),{comments:o,getComment:l,mentionOptions:s,onCommentsOpen:c,operation:u,setStatus:d,status:p}=emQ(),{setSelectedPath:f,selectedPath:h}=ege(),{scrollToComment:m,scrollToGroup:g}=em9(),{handleOpenDialog:y}=egi(),v=(0,E.useRef)(null),b=(0,E.useRef)(!1),[x,C]=(0,E.useState)(null),[k,w]=(0,E.useState)(null),[T,D]=(0,E.useState)(null),[A,O]=(0,E.useState)(null),[P,M]=(0,E.useState)(null),[F,R]=(0,E.useState)(null),[B,N]=(0,E.useState)(!1),[L,z]=(0,E.useState)(null),[V,U]=(0,E.useState)(!1),[H,q]=(0,E.useState)(egq),Y=(0,E.useMemo)(()=>S.toString(e.path),[e.path]),K=(0,E.useCallback)(()=>{M(function(){let e=window.getSelection(),t=null;return e&&e.rangeCount>0&&(t=e.getRangeAt(0)),(null==t?void 0:t.getBoundingClientRect())||null}())},[]),G=(0,E.useCallback)(()=>{O(null),M(null),D(null),w(null),N(!1),C(null)},[]),$=(0,E.useCallback)(()=>{if("upsell"===r)return void y("pte");D(A)},[A,y,r]),Z=(0,E.useCallback)(()=>{G()},[G]),X=(0,E.useMemo)(()=>o.data.open.filter(e=>e.fieldPath===Y).filter(e=>efz(e.parentComment)).map(e=>e.parentComment),[o.data.open,Y]),J=(0,E.useCallback)(()=>v.current?hq.getFragment(v.current):egq,[]),Q=(0,E.useCallback)(()=>{if(!T||!v.current)return;let e=J()||egq,t=hq.getValue(v.current);if(!t)return;let n=function(e){let{fragment:t,value:n,selection:r}=e;if(!r)throw Error("Selection is required");let i=r.backward?{anchor:r.focus,focus:r.anchor}:r;return{type:"text",value:t.map(e=>{let t=n.find(t=>t._key===e._key);if(!(0,W.isPortableTextTextBlock)(t))return{_key:e._key,text:""};let r=(0,W.isKeySegment)(i.anchor.path[0])&&i.anchor.path[0]._key,a=(0,W.isKeySegment)(i.focus.path[0])&&i.focus.path[0]._key,o=(0,nF.toPlainText)([e]),l=(0,W.isPortableTextTextBlock)(e)?e.children[0]:void 0,s=(0,W.isPortableTextTextBlock)(e)?e.children[e.children.length-1]:void 0,c="",u=-1;if(r===t._key)for(let e of t.children){if(u++,e._key===(null==l?void 0:l._key)){c+=(0,W.isPortableTextSpan)(e)&&e.text.slice(0,Math.max(0,i.anchor.offset))||"";break}c+=e.text}let d="";if(a===t._key)for(let e of t.children.slice(u).reverse()){if(e._key===(null==s?void 0:s._key)){d=((0,W.isPortableTextSpan)(e)&&e.text.slice(i.focus.offset,e.text.length)||"")+d;break}d=e.text+d}return{_key:t._key,text:"".concat(c).concat(emB[0]).concat(o).concat(emB[1]).concat(d)}})}}({fragment:e,selection:T,value:t}),r=(0,h6.uuid)();u.create({type:"field",contentSnapshot:e,fieldPath:Y,message:k,parentCommentId:void 0,reactions:egq,selection:n,status:"open",threadId:r}),null==c||c(),"resolved"===p&&d("open"),f({fieldPath:Y,threadId:r,origin:"form"}),g(r),G()},[T,J,u,Y,k,c,p,f,g,G,d]),ee=(0,E.useCallback)(e=>{var t;let n=l(e);n&&(f({fieldPath:(null==(t=n.target.path)?void 0:t.field)||"",threadId:n.threadId,origin:"form"}),null==c||c(),m(n._id))},[l,c,m,f]),et=(0,E.useRef)(!1),en=(0,E.useCallback)(e=>{var t;let n=(null==e?void 0:e.anchor.offset)!==(null==e?void 0:e.focus.offset);if(!(null==(t=J())?void 0:t.every(W.isPortableTextTextBlock))||!n)return void N(!1);if(et.current){et.current=!1;return}b.current||K(),O(e),N(!0)},[J,K]),er=(0,E.useMemo)(()=>(0,nc.default)(en,200),[en]),ei=(0,E.useCallback)(()=>{b.current=!0},[]),ea=(0,E.useCallback)(()=>{b.current=!1,K()},[K]),eo=(0,E.useCallback)(e=>{var t;let{rangeDecoration:n,newSelection:r}=e,i=null==(t=n.payload)?void 0:t.commentId;q(e=>e.map(e=>{var t;return(null==(t=e.payload)?void 0:t.commentId)===i?{...n,selection:r,payload:{...n.payload,dirty:!0}}:e}))},[]),el=(0,E.useCallback)(()=>{let e=H.filter(e=>{var t;return null==(t=e.payload)?void 0:t.dirty});0!==e.length&&(e.forEach(e=>{var t,n,r,i,a;let o=l((null==(t=e.payload)?void 0:t.commentId)||"");if(!o||!v.current)return;let[s]=emz({comments:[o],value:hq.getValue(v.current)||egq}),c=(null==s?void 0:s.range)?[s.range]:egq,d=s?[...(null==(r=o.target.path)||null==(n=r.selection)?void 0:n.value.filter(e=>{var t;return e._key!==(null==(t=c[0])?void 0:t._key)}).concat(c).flat())||egq]:egq,p={target:{...o.target,path:{...null==(i=o.target)?void 0:i.path,field:(null==(a=o.target.path)?void 0:a.field)||"",selection:{type:"text",value:d}}}};u.update(o._id,p)}),q(t=>t.map(t=>{var n,r;return(null==(r=e.find(e=>{var n,r;return(null==(n=e.payload)?void 0:n.commentId)===(null==(r=t.payload)?void 0:r.commentId)}))||null==(n=r.payload)?void 0:n.dirty)?{...t,payload:{...t.payload,dirty:!1}}:t}).filter(e=>null!==e.selection)))},[H,l,u]),es=(0,E.useCallback)(e=>{if(!v.current)return egq;let t=hq.getValue(v.current)||egq,{comments:n,currentHoveredCommentId:r,onDecorationClick:i,onDecorationHoverEnd:a,onDecorationHoverStart:o,onDecorationMoved:l,selectedThreadId:s,value:c}={comments:e,currentHoveredCommentId:F,onDecorationClick:ee,onDecorationHoverEnd:R,onDecorationHoverStart:R,onDecorationMoved:eo,selectedThreadId:(null==h?void 0:h.threadId)||null,value:t};return emz({comments:n,value:c}).map(e=>{let{selection:t,comment:n,range:c}=e;return{component:e=>{let{children:t}=e;return(0,_.jsx)(emV,{commentId:n._id,currentHoveredCommentId:r,onClick:i,onHoverEnd:a,onHoverStart:o,selectedThreadId:s,threadId:n.threadId,children:t})},onMoved:l,selection:t,payload:{commentId:n._id,range:c}}})},[F,ee,eo,null==h?void 0:h.threadId]),ec=(0,E.useCallback)(e=>{"mutation"===e.type&&el(),"blur"===e.type&&(et.current=!0),"selection"===e.type&&er(e.selection)},[er,el]),eu=(0,E.useMemo)(()=>T?{component:e=>{let{children:t}=e;return(0,_.jsx)(ehP,{isAuthoring:!0,ref:C,children:t})},selection:T}:null,[T]),ed=(0,E.useMemo)(()=>[...(null==e?void 0:e.rangeDecorations)||egq,...eu?[eu]:egq,...H],[H,eu,null==e?void 0:e.rangeDecorations]),ep=(0,E.useMemo)(()=>!!A&&0!==H.length&&H.some(e=>{if(!v.current)return!1;let t=hq.isSelectionsOverlapping(v.current,A,e.selection),n=hq.isSelectionsOverlapping(v.current,e.selection,A);return t||n}),[H,A]),ef=V?document.body:(null==(t=a.elements)?void 0:t.documentScrollElement)||document.body,eh=V?(null==(n=a.elements)?void 0:n.documentScrollElement)||document.body:L,em=function(e){let t,n,r=(0,j.c)(6),{scrollElement:i,disabled:a,selector:o}=e;r[0]!==a||r[1]!==i||r[2]!==o?(t={scrollElement:i,disabled:a,selector:o},r[0]=a,r[1]=i,r[2]=o,r[3]=t):t=r[3];let l=function(e){let t,n,r,i,a=(0,j.c)(10),{scrollElement:o,disabled:l,selector:s}=e,[c,u]=(0,E.useState)(null);a[0]!==l||a[1]!==s?(t=()=>{var e;if(l)return;let t=null==(e=document)?void 0:e.querySelectorAll(s);t&&u(function(e){if(!e||!e.length)return null;let t=e.map(e=>e.getBoundingClientRect()),n=Math.min(...t.map(e=>e.x))||0,r=Math.min(...t.map(e=>e.y))||0,i=Math.max(...t.map(e=>e.right))||0,a=Math.max(...t.map(e=>e.bottom))||0;return{x:n,y:r,width:i-n,height:a-r,top:r,right:i,bottom:a,left:n}}(Array.from(t)))},a[0]=l,a[1]=s,a[2]=t):t=a[2];let d=t;return a[3]!==d?(n=[d],a[3]=d,a[4]=n):n=a[4],(0,E.useEffect)(d,n),a[5]!==l||a[6]!==d||a[7]!==o?(r=()=>{if(!(l||!o))return o.addEventListener("wheel",d),()=>{o.removeEventListener("wheel",d)}},i=[d,l,o],a[5]=l,a[6]=d,a[7]=o,a[8]=r,a[9]=i):(r=a[8],i=a[9]),(0,E.useEffect)(r,i),c}(t);e:{let e;if(!l){n=null;break e}r[4]!==l?(e={getBoundingClientRect:()=>l},r[4]=l,r[5]=e):e=r[5],n=e}return n}({scrollElement:ef,disabled:!T||!x,selector:'[data-inline-comment-state="authoring"]'}),eg=(0,E.useMemo)(()=>P?{getBoundingClientRect:()=>P}:null,[P]);(0,E.useEffect)(()=>{if(A)return null==ef||ef.addEventListener("wheel",K),()=>{null==ef||ef.removeEventListener("wheel",K)}},[A,ef,K]),(0,E.useEffect)(()=>{let e=es(X);q(t=>e.map(e=>{var n;let r=t.find(t=>{var n,r;return(null==(n=t.payload)?void 0:n.commentId)===(null==(r=e.payload)?void 0:r.commentId)});return(null==r||null==(n=r.payload)?void 0:n.dirty)?{...e,payload:{...e.payload,dirty:r.payload.dirty}}:e}))},[es,X]);let ey=!!(A&&B&&eg&&!b.current),ev=!!(T&&em);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.BoundaryElementProvider,{element:eh,children:(0,_.jsxs)(no.AnimatePresence,{children:[ev&&i&&(0,_.jsx)(egH,{currentUser:i,mentionOptions:s,onChange:w,onClickOutside:G,onDiscardConfirm:Z,onSubmit:Q,referenceElement:em,value:k}),ey&&!ev&&(0,_.jsx)(egN,{disabled:ep,onClick:$,onClickOutside:G,referenceElement:eg})]})}),(0,_.jsx)(I.Stack,{ref:z,onMouseDown:ei,onMouseUp:ea,children:e.renderDefault({...e,onEditorChange:ec,editorRef:v,rangeDecorations:ed,onFullScreenChange:U})})]})}),egK=F.styled.span(S9()),egG=F.styled.a(Ee()),eg$=(0,F.styled)(I.Card)({position:"relative",zIndex:"1"});function egZ(){let e,t,n,r,i,a,o=(0,j.c)(12),{t:l}=IO(efR);return o[0]!==l?(e=l("feature-feedback.title"),o[0]=l,o[1]=e):e=o[1],o[2]!==l?(t=l("feature-feedback.link"),o[2]=l,o[3]=t):t=o[3],o[4]!==t?(n=(0,_.jsxs)(egK,{children:[t," "]}),o[4]=t,o[5]=n):n=o[5],o[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(R.LaunchIcon,{}),o[6]=r):r=o[6],o[7]!==n?(i=(0,_.jsxs)(egG,{href:"https://snty.link/comments-beta-feedback",target:"_blank",rel:"noreferrer",children:[n," ",r]}),o[7]=n,o[8]=i):i=o[8],o[9]!==e||o[10]!==i?(a=(0,_.jsx)(eg$,{padding:4,children:(0,_.jsxs)(I.Text,{muted:!0,size:1,children:[e," ",i]})}),o[9]=e,o[10]=i,o[11]=a):a=o[11],a}let egX=(0,F.styled)(I.Card)({position:"relative",zIndex:"1",lineHeight:"0"}),egJ=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S=(0,j.c)(57),{t:E}=IO(efR),{onClose:T,onViewChange:D,view:A,mode:O}=e;S[0]!==D?(n=()=>D("open"),S[0]=D,S[1]=n):n=S[1];let P=n;S[2]!==D?(r=()=>D("resolved"),S[2]=D,S[3]=r):r=S[3];let M=r;S[4]!==E?(i=E("feature-name"),S[4]=E,S[5]=i):i=S[5],S[6]!==i?(a=(0,_.jsx)(I.Flex,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:(0,_.jsx)(I.Text,{as:"h1",size:1,weight:"medium",children:i})}),S[6]=i,S[7]=a):a=S[7],S[8]!==E||S[9]!==A?(o=E("open"===A?"status-filter.status-open":"status-filter.status-resolved"),S[8]=E,S[9]=A,S[10]=o):o=S[10],S[11]!==o?(l=(0,_.jsx)(B.Button,{text:o,mode:"bleed",iconRight:R.ChevronDownIcon}),S[11]=o,S[12]=l):l=S[12],S[13]===Symbol.for("react.memo_cache_sentinel")?(s={width:"180px"},S[13]=s):s=S[13];let F="open"===A?R.CheckmarkIcon:void 0;S[14]!==E?(c=E("status-filter.status-open-full"),S[14]=E,S[15]=c):c=S[15],S[16]!==P||S[17]!==F||S[18]!==c?(u=(0,_.jsx)(B.MenuItem,{iconRight:F,onClick:P,text:c}),S[16]=P,S[17]=F,S[18]=c,S[19]=u):u=S[19];let N="resolved"===A?R.CheckmarkIcon:void 0;S[20]!==E?(d=E("status-filter.status-resolved-full"),S[20]=E,S[21]=d):d=S[21],S[22]!==O||S[23]!==E?(p="upsell"===O?{content:E("status-filter.status-resolved-full-upsell")}:void 0,S[22]=O,S[23]=E,S[24]=p):p=S[24];let L="upsell"===O;return S[25]!==M||S[26]!==N||S[27]!==d||S[28]!==p||S[29]!==L?(f=(0,_.jsx)(B.MenuItem,{iconRight:N,onClick:M,text:d,tooltipProps:p,disabled:L}),S[25]=M,S[26]=N,S[27]=d,S[28]=p,S[29]=L,S[30]=f):f=S[30],S[31]!==f||S[32]!==u?(h=(0,_.jsxs)(I.Menu,{style:s,children:[u,f]}),S[31]=f,S[32]=u,S[33]=h):h=S[33],S[34]===Symbol.for("react.memo_cache_sentinel")?(m={placement:"bottom-end"},S[34]=m):m=S[34],S[35]!==h||S[36]!==l?(g=(0,_.jsx)(B.MenuButton,{id:"comment-status-menu-button",button:l,menu:h,popover:m}),S[35]=h,S[36]=l,S[37]=g):g=S[37],S[38]!==E?(y=E("close-pane-button-text-aria-label"),S[38]=E,S[39]=y):y=S[39],S[40]!==E?(v=E("close-pane-button-text"),S[40]=E,S[41]=v):v=S[41],S[42]!==v?(b={content:v},S[42]=v,S[43]=b):b=S[43],S[44]!==T||S[45]!==y||S[46]!==b?(x=(0,_.jsx)(B.Button,{"aria-label":y,icon:R.CloseIcon,mode:"bleed",onClick:T,tooltipProps:b}),S[44]=T,S[45]=y,S[46]=b,S[47]=x):x=S[47],S[48]!==g||S[49]!==x?(C=(0,_.jsxs)(I.Flex,{flex:"none",padding:1,gap:2,children:[g,x]}),S[48]=g,S[49]=x,S[50]=C):C=S[50],S[51]!==C||S[52]!==a?(k=(0,_.jsxs)(I.Flex,{padding:2,children:[a,C]}),S[51]=C,S[52]=a,S[53]=k):k=S[53],S[54]!==t||S[55]!==k?(w=(0,_.jsx)(egX,{ref:t,children:k}),S[54]=t,S[55]=k,S[56]=w):w=S[56],w}),egQ=(0,F.styled)(I.Layer)(Et());function eg1(e){let{t}=IO(efR),{onClose:n,mode:r}=e,[i,a]=(0,E.useState)(!1),[o,l]=(0,E.useState)(null),[s,c]=(0,E.useState)(!1),[u,d]=(0,E.useState)(null),p=(0,E.useRef)(null),f=A6(),{comments:h,getComment:m,isCreatingDataset:g,mentionOptions:y,setStatus:v,status:b,operation:x,selectedCommentId:C,getCommentLink:k,onClearSelectedComment:w,onPathOpen:T}=emQ(),O=(0,E.useRef)(C),P=(0,E.useRef)(!1),M=(0,A.useToast)().push,{isTopLayer:F}=(0,I.useLayer)(),{scrollToComment:R,scrollToField:B,scrollToInlineComment:N}=em9(),{selectedPath:L,setSelectedPath:z}=ege(),{isDismissed:V,setDismissed:U}=function(){let e=(0,E.useContext)(D.CommentsOnboardingContext);if(!e)throw Error("useCommentsOnboarding: missing context value");return e}(),H=function(){let e,t,n,r,i=(0,j.c)(10),a=(0,tp.useTelemetry)();i[0]!==a?(e=()=>{a.log(egt)},i[0]=a,i[1]=e):e=i[1];let o=e;i[2]!==a?(t=()=>{a.log(egn)},i[2]=a,i[3]=t):t=i[3];let l=t;i[4]!==a?(n=e=>{a.log(egr,{view:e})},i[4]=a,i[5]=n):n=i[5];let s=n;return i[6]!==o||i[7]!==s||i[8]!==l?(r={commentLinkCopied:o,commentListViewChanged:s,commentViewedFromLink:l},i[6]=o,i[7]=s,i[8]=l,i[9]=r):r=i[9],r}(),{upsellData:q,telemetryLogs:W}=egi(),Y=(0,E.useMemo)(()=>h.data[b],[h,b]),{loading:K}=h,G=(0,E.useCallback)(e=>{v(e),z(null),H.commentListViewChanged(e)},[z,v,H]),$=(0,E.useCallback)(()=>{n(),z(null)},[n,z]),Z=(0,E.useMemo)(()=>k?e=>{navigator.clipboard.writeText(k(e)).catch(()=>{M({closable:!0,status:"error",title:t("copy-link-error-message")})}),H.commentLinkCopied()}:void 0,[k,M,t,H]),X=(0,E.useCallback)(e=>{var t;let n=m(e);n&&x.create({type:"field",fieldPath:(null==(t=n.target.path)?void 0:t.field)||"",id:n._id,message:n.message,parentCommentId:n.parentCommentId,reactions:n.reactions||[],status:n.status,threadId:n.threadId})},[m,x]),J=(0,E.useCallback)(()=>{s||(a(!1),l(null))},[s]),Q=(0,E.useCallback)(e=>{if(z(e),null==e?void 0:e.fieldPath){let t=S.fromString(e.fieldPath);null==T||T(t),B(e.fieldPath),h.data.open.filter(t=>t.threadId===(null==e?void 0:e.threadId)).some(e=>efz(e.parentComment))&&e.threadId&&N(e.threadId)}},[h.data.open,T,B,N,z]),ee=(0,E.useCallback)(e=>{var t;let n=(null==e||null==(t=e.payload)?void 0:t.fieldPath)||"";x.create({type:"field",fieldPath:n,message:e.message,parentCommentId:e.parentCommentId,reactions:e.reactions,status:e.status,threadId:e.threadId}),z({fieldPath:n,origin:"inspector",threadId:e.threadId})},[x,z]),et=(0,E.useCallback)(e=>{var t;x.create({...e,type:"field",fieldPath:(null==e||null==(t=e.payload)?void 0:t.fieldPath)||""})},[x]),en=(0,E.useCallback)((e,t)=>{x.update(e,t)},[x]),er=(0,E.useCallback)(e=>{var t;let n=Y.find(t=>{var n;return(null==(n=t.parentComment)?void 0:n._id)===e}),r=!!(n&&(null==n||null==(t=n.replies)?void 0:t.length)>0);a(!0),l({commentId:e,isParent:r})},[Y]),ei=(0,E.useCallback)(async e=>{try{c(!0),await x.remove(e),J()}catch(e){d(e)}finally{c(!1)}},[J,x]),ea=(0,E.useCallback)((e,t)=>{if(x.update(e,{status:t}),"open"===t){var n;v("open");let t=m(e);t&&(z({fieldPath:(null==(n=t.target.path)?void 0:n.field)||null,origin:"inspector",threadId:t.threadId||null}),R(e))}},[m,x,R,z,v]),eo=(0,E.useCallback)((e,t)=>{x.react(e,t)},[x]),el=(0,E.useCallback)(()=>{L&&F&&z(null)},[F,L,z]);(0,I.useClickOutsideEvent)(e=>{var t;e.target instanceof HTMLElement&&(null==(t=e.target)?void 0:t.hasAttribute("data-slate-string"))||el()},()=>[p.current]);let[es,ec]=(0,E.useState)(!1);(0,E.useEffect)(()=>{if(!(es||"upsell"!==r))return ec(!0),(null==L?void 0:L.origin)==="form"?W.panelViewed("field_action"):O.current?W.panelViewed("link"):W.panelViewed("document_action"),()=>{W.panelDismissed()}},[es,r,null==L?void 0:L.origin,W]),(0,E.useEffect)(()=>{var e;let t=m(O.current||"");!K&&t&&!1===P.current&&(v(t.status||"open"),z({fieldPath:(null==(e=t.target.path)?void 0:e.field)||null,origin:"url",threadId:t.threadId||null}),R(t._id),P.current=!0,O.current=void 0,null==w||w(),H.commentViewedFromLink())},[m,K,w,R,z,v,H]);let eu=(0,E.useMemo)(()=>"upsell"===r&&q?(0,_.jsx)(emF,{data:q,onPrimaryClick:W.panelPrimaryClicked,onSecondaryClick:W.panelSecondaryClicked}):null,[r,W.panelPrimaryClicked,W.panelSecondaryClicked,q]);return(0,_.jsxs)(E.Fragment,{children:[o&&i&&(0,_.jsx)(efW,{...o,error:u,loading:s,onClose:J,onConfirm:ei}),(0,_.jsxs)(I.Flex,{direction:"column",flex:1,height:"fill",onClick:el,overflow:"hidden",ref:p,children:[(0,_.jsx)(emI,{onDismiss:U,open:!V,placement:"left-start",children:(0,_.jsx)(egJ,{onClose:$,onViewChange:G,view:b,mode:r})}),f&&(0,_.jsx)(emS,{beforeListNode:eu,comments:Y,currentUser:f,error:h.error,loading:K,mentionOptions:y,mode:r,onCopyLink:Z,onCreateRetry:X,onDelete:er,onEdit:en,onNewThreadCreate:ee,onPathSelect:Q,onReactionSelect:eo,onReply:et,onStatusChange:ea,readOnly:g,selectedPath:L,status:b}),"default"===r&&(0,_.jsx)(egZ,{})]})]})}function eg2(e){return(0,_.jsx)(egj,{children:e})}let eg0=eie({name:"sanity/comments",document:{inspectors:[{name:ehT,component:function(e){let t,n=(0,j.c)(3),{enabled:r,mode:i}=em1();return r?(n[0]!==i||n[1]!==e?(t=(0,_.jsx)(egQ,{children:(0,_.jsx)(eg1,{...e,mode:i})}),n[0]=i,n[1]=e,n[2]=t):t=n[2],t):null},useMenuItem:function(){let e,t,n=(0,j.c)(5),{t:r}=IO(efR),{enabled:i}=em1(),a=!i;return n[0]!==r?(e=r("feature-name"),n[0]=r,n[1]=e):e=n[1],n[2]!==a||n[3]!==e?(t={hidden:a,icon:R.CommentIcon,showAsAction:!0,title:e},n[2]=a,n[3]=e,n[4]=t):t=n[4],t}}],components:{unstable_layout:function(e){let t,n,r=(0,j.c)(8),{documentId:i,documentType:a}=e;if(null!==em1().mode){let t;return r[0]!==e?(t=(0,_.jsx)(egS,{...e}),r[0]=e,r[1]=t):t=r[1],t}return r[2]!==e?(t=(0,_.jsx)(egS,{...e}),r[2]=e,r[3]=t):t=r[3],r[4]!==i||r[5]!==a||r[6]!==t?(n=(0,_.jsx)(egx,{documentId:i,documentType:a,children:t}),r[4]=i,r[5]=a,r[6]=t,r[7]=n):n=r[7],n}}},form:{components:{field:function(e){let t,n=(0,j.c)(5),{enabled:r,mode:i}=em1();if(!r){let t;return n[0]!==e?(t=e.renderDefault(e),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==i||n[3]!==e?(t=(0,_.jsx)(egM,{...e,mode:i}),n[2]=i,n[3]=e,n[4]=t):t=n[4],t},input:function(e){let t,n=(0,j.c)(4);if((0,W.isArrayOfBlocksSchemaType)(e.schemaType)){let t;return n[0]!==e?(t=(0,_.jsx)(egW,{...e}),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==e?(t=e.renderDefault(e),n[2]=e,n[3]=t):t=n[3],t}}},studio:{components:{layout:function(e){let t,n,r=(0,j.c)(5),{enabled:i,isLoading:a}=eiN("studioComments"),o=!i&&!a;return r[0]!==e?(t=e.renderDefault(e),r[0]=e,r[1]=t):t=r[1],r[2]!==o||r[3]!==t?(n=(0,_.jsx)(ek5,{children:(0,_.jsx)(egw,{children:(0,_.jsx)(B.ConditionalWrapper,{condition:o,wrapper:eg2,children:t})})}),r[2]=o,r[3]=t,r[4]=n):n=r[4],n}}},i18n:{bundles:[{locale:"en-US",namespace:efR,resources:()=>e.A(691051)}]}}),eg5="u">typeof __SANITY_STAGING__&&!0===__SANITY_STAGING__,eg7="create",eg3={locale:"en-US",namespace:eg7,resources:()=>e.A(966429)},eg8=(0,tc.defineEvent)({name:"Create Document Link CTA Clicked",version:1,description:'The "Start in Sanity Create" button is clicked.'}),eg4=(0,tc.defineEvent)({name:"Create Document Link Accepted",version:1,description:'Continue in the "Start in Sanity Create" dialog was pressed, or auto-confirm was enabled.'}),eg6=(0,tc.defineEvent)({name:"Create Document Unlink CTA Clicked",version:1,description:"The Unlink action was clicked"}),eg9=(0,tc.defineEvent)({name:"Create Document Unlink Approved",version:1,description:"User confirmed that they want the Studio document unlinked"}),eye=(0,tc.defineEvent)({name:"Create Document Opened",version:1,description:'User clicked "Edit in Create"'});function eyt(){let e,t,n,r,i,a,o=(0,j.c)(16),l=(0,tp.useTelemetry)();o[0]!==l?(e=()=>l.log(eg8),o[0]=l,o[1]=e):e=o[1];let s=e;o[2]!==l?(t=()=>l.log(eg4),o[2]=l,o[3]=t):t=o[3];let c=t;o[4]!==l?(n=()=>l.log(eg6),o[4]=l,o[5]=n):n=o[5];let u=n;o[6]!==l?(r=()=>l.log(eg9),o[6]=l,o[7]=r):r=o[7];let d=r;o[8]!==l?(i=()=>l.log(eye),o[8]=l,o[9]=i):i=o[9];let p=i;return o[10]!==p||o[11]!==c||o[12]!==s||o[13]!==d||o[14]!==u?(a={linkCtaClicked:s,linkAccepted:c,unlinkCtaClicked:u,unlinkApproved:d,documentOpened:p},o[10]=p,o[11]=c,o[12]=s,o[13]=d,o[14]=u,o[15]=a):a=o[15],a}function eyn(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(40),{onClose:g,onDocumentChange:y,documentTitle:v}=e,b=(0,E.useId)(),[x,C]=(0,E.useState)(!1),{t:k}=IO(eg7),w=eyt();m[0]!==y||m[1]!==w?(t=()=>{C(!0),y(zU.from(LN(["_create"]))),w.unlinkApproved()},m[0]=y,m[1]=w,m[2]=t):t=m[2];let S=t;return m[3]!==k?(n=k("unlink-from-create-dialog.cancel.text"),m[3]=k,m[4]=n):n=m[4],m[5]!==g||m[6]!==n?(r={onClick:g,text:n},m[5]=g,m[6]=n,m[7]=r):r=m[7],m[8]!==k?(i=k("unlink-from-create-dialog.unlink.text"),m[8]=k,m[9]=i):i=m[9],m[10]!==i||m[11]!==S||m[12]!==x?(a={disabled:x,onClick:S,text:i,tone:"primary"},m[10]=i,m[11]=S,m[12]=x,m[13]=a):a=m[13],m[14]!==r||m[15]!==a?(o={cancelButton:r,confirmButton:a},m[14]=r,m[15]=a,m[16]=o):o=m[16],m[17]!==k?(l=k("unlink-from-create-dialog.header"),m[17]=k,m[18]=l):l=m[18],m[19]!==v||m[20]!==k?(s=v||k("unlink-from-create-dialog.document.untitled.text"),m[19]=v,m[20]=k,m[21]=s):s=m[21],m[22]!==s?(c={title:s},m[22]=s,m[23]=c):c=m[23],m[24]!==k||m[25]!==c?(u=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(IZ,{t:k,i18nKey:"unlink-from-create-dialog.first-paragraph",values:c})}),m[24]=k,m[25]=c,m[26]=u):u=m[26],m[27]!==k?(d=k("unlink-from-create-dialog.second-paragraph"),m[27]=k,m[28]=d):d=m[28],m[29]!==d?(p=(0,_.jsx)(I.Text,{size:1,children:d}),m[29]=d,m[30]=p):p=m[30],m[31]!==p||m[32]!==u?(f=(0,_.jsxs)(I.Stack,{space:4,children:[u,p]}),m[31]=p,m[32]=u,m[33]=f):f=m[33],m[34]!==b||m[35]!==g||m[36]!==f||m[37]!==o||m[38]!==l?(h=(0,_.jsx)(B.Dialog,{footer:o,id:b,header:l,onClose:g,children:f}),m[34]=b,m[35]=g,m[36]=f,m[37]=o,m[38]=l,m[39]=h):h=m[39],h}function eyr(e){let t,n=(0,j.c)(3),{children:r,portalElementId:i}=e,{element:a,elements:o}=(0,I.usePortal)(),l=(null==o?void 0:o[i])||a;return n[0]!==r||n[1]!==l?(t=(0,_.jsx)(I.PortalProvider,{element:l,children:r}),n[0]=r,n[1]=l,n[2]=t):t=n[2],t}function eyi(e){var t;let n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(27),{metadata:f,panelPortalElementId:h,onDocumentChange:m,documentTitle:g}=e,{t:y}=IO(eg7);p[0]!==f?(n="".concat((t=f.host,"https://".concat((null!=t?t:eg5)?"create-staging.sanity.build":"www.sanity.io","/app/create")),"/").concat(f.dataset,"/").concat(f._id),p[0]=f,p[1]=n):n=p[1];let v=n,b=eyt();p[2]!==b?(r=()=>b.documentOpened(),p[2]=b,p[3]=r):r=p[3];let x=r,[C,k]=(0,E.useState)(!1);p[4]!==b?(i=()=>{k(!0),b.unlinkCtaClicked()},p[4]=b,p[5]=i):i=p[5];let w=i;p[6]===Symbol.for("react.memo_cache_sentinel")?(a=()=>k(!1),p[6]=a):a=p[6];let S=a;return p[7]!==y?(o=y("edit-in-create-button.text"),p[7]=y,p[8]=o):o=p[8],p[9]!==v||p[10]!==x||p[11]!==o?(l=(0,_.jsx)(B.Button,{as:"a",text:o,iconRight:R.LaunchIcon,mode:"ghost",href:v,target:"_blank",onClick:x}),p[9]=v,p[10]=x,p[11]=o,p[12]=l):l=p[12],p[13]!==y?(s=y("unlink-from-create-button.text"),p[13]=y,p[14]=s):s=p[14],p[15]!==w||p[16]!==s?(c=(0,_.jsx)(B.Button,{text:s,onClick:w}),p[15]=w,p[16]=s,p[17]=c):c=p[17],p[18]!==g||p[19]!==m||p[20]!==h||p[21]!==C?(u=C&&(0,_.jsx)(eyr,{portalElementId:h,children:(0,_.jsx)(eyn,{onClose:S,onDocumentChange:m,documentTitle:g})}),p[18]=g,p[19]=m,p[20]=h,p[21]=C,p[22]=u):u=p[22],p[23]!==l||p[24]!==c||p[25]!==u?(d=(0,_.jsxs)(I.Flex,{gap:2,children:[l,c,u]}),p[23]=l,p[24]=c,p[25]=u,p[26]=d):d=p[26],d}let eya=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(5),{t:a}=IO(eg7);return i[0]!==a?(n=a("start-in-create-dialog.cta.learn-more"),i[0]=a,i[1]=n):n=i[1],i[2]!==t||i[3]!==n?(r=(0,_.jsx)(B.Button,{as:"a",href:"https://snty.link/create-docs?ref=studio",target:"_blank",ref:t,text:n,mode:"bleed",tone:"primary",iconRight:R.LaunchIcon}),i[2]=t,i[3]=n,i[4]=r):r=i[4],r});function eyo(){let e,t,n,r,i,a,o,l=(0,j.c)(7);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"block"},t=(0,_.jsxs)("g",{children:[(0,_.jsx)("rect",{width:"307",height:"201",fill:"url(#paint0_radial_38_7016)"}),(0,_.jsx)("path",{d:"M168.5 -0.5V-1H167.5V-0.5H168.5ZM167.646 174.854C167.842 175.049 168.158 175.049 168.354 174.854L171.536 171.672C171.731 171.476 171.731 171.16 171.536 170.964C171.34 170.769 171.024 170.769 170.828 170.964L168 173.793L165.172 170.964C164.976 170.769 164.66 170.769 164.464 170.964C164.269 171.16 164.269 171.476 164.464 171.672L167.646 174.854ZM167.5 -0.5V174.5H168.5V-0.5H167.5Z",fill:"url(#paint1_linear_38_7016)"}),(0,_.jsx)("path",{d:"M251 37.5H352C353.381 37.5 354.5 38.6193 354.5 40V64C354.5 65.3807 353.381 66.5 352 66.5H251C249.619 66.5 248.5 65.3807 248.5 64V40C248.5 38.6193 249.619 37.5 251 37.5Z",fill:"#181410",stroke:"#F9BC15"}),(0,_.jsx)("path",{d:"M251 104.5H352C353.381 104.5 354.5 105.619 354.5 107V210C354.5 211.381 353.381 212.5 352 212.5H251C249.619 212.5 248.5 211.381 248.5 210V107C248.5 105.619 249.619 104.5 251 104.5Z",fill:"#071715",stroke:"#0FF0A1"}),(0,_.jsx)("path",{d:"M58.7803 20C58.7803 16.6863 61.4666 14 64.7803 14H135.484C138.797 14 141.484 16.6863 141.484 20V23.1429C141.484 26.4566 138.797 29.1429 135.484 29.1429H64.7803C61.4666 29.1429 58.7803 26.4566 58.7803 23.1429V20Z",fill:"#0FF0A1"}),(0,_.jsx)("path",{d:"M25 50.2857C25 46.972 27.6863 44.2857 31 44.2857H148.297C151.61 44.2857 154.297 46.972 154.297 50.2857V53.4286C154.297 56.7423 151.61 59.4286 148.297 59.4286H31C27.6863 59.4286 25 56.7423 25 53.4286V50.2857Z",fill:"#F9BC15"}),(0,_.jsx)("path",{d:"M25 80.5714C25 77.2577 27.6863 74.5714 31 74.5714H141.308C144.621 74.5714 147.308 77.2577 147.308 80.5714V114C147.308 117.314 144.621 120 141.308 120H31C27.6863 120 25 117.314 25 114V80.5714Z",fill:"#0FF0A1"}),(0,_.jsx)("path",{d:"M28.4941 21.5714C28.4941 19.3198 30.3194 17.4945 32.5711 17.4945H51.2084C53.46 17.4945 55.2853 19.3198 55.2853 21.5714V21.5714C55.2853 23.8231 53.46 25.6484 51.2084 25.6484H32.5711C30.3194 25.6484 28.4941 23.8231 28.4941 21.5714V21.5714Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 82.1429C28.4941 79.8912 30.3194 78.0659 32.5711 78.0659H46.5491C48.8007 78.0659 50.626 79.8912 50.626 82.1429V82.1429C50.626 84.3945 48.8007 86.2198 46.5491 86.2198H32.5711C30.3194 86.2198 28.4941 84.3945 28.4941 82.1429V82.1429Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M62.2744 21.5714C62.2744 19.3198 64.0997 17.4945 66.3513 17.4945H100.132C102.383 17.4945 104.208 19.3198 104.208 21.5714V21.5714C104.208 23.8231 102.383 25.6484 100.132 25.6484H66.3513C64.0997 25.6484 62.2744 23.8231 62.2744 21.5714V21.5714Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M111.198 21.5714C111.198 19.3198 113.024 17.4945 115.275 17.4945H133.913C136.164 17.4945 137.989 19.3198 137.989 21.5714V21.5714C137.989 23.8231 136.164 25.6484 133.913 25.6484H115.275C113.024 25.6484 111.198 23.8231 111.198 21.5714V21.5714Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M28.4941 36.7143C28.4941 34.4627 30.3194 32.6374 32.5711 32.6374H86.1535C88.4051 32.6374 90.2304 34.4627 90.2304 36.7143V36.7143C90.2304 38.9659 88.4051 40.7912 86.1535 40.7912H32.5711C30.3194 40.7912 28.4941 38.9659 28.4941 36.7143V36.7143Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M97.2197 36.7143C97.2197 34.4627 99.045 32.6374 101.297 32.6374H131.582C133.834 32.6374 135.659 34.4627 135.659 36.7143V36.7143C135.659 38.9659 133.834 40.7912 131.582 40.7912H101.297C99.045 40.7912 97.2197 38.9659 97.2197 36.7143V36.7143Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 51.8571C28.4941 49.6055 30.3194 47.7802 32.5711 47.7802H66.3513C68.6029 47.7802 70.4282 49.6055 70.4282 51.8571V51.8571C70.4282 54.1088 68.6029 55.9341 66.3513 55.9341H32.5711C30.3194 55.9341 28.4941 54.1088 28.4941 51.8571V51.8571Z",fill:"#965908"}),(0,_.jsx)("path",{d:"M77.418 51.8571C77.418 49.6055 79.2433 47.7802 81.4949 47.7802H146.726C148.977 47.7802 150.803 49.6055 150.803 51.8571V51.8571C150.803 54.1088 148.977 55.9341 146.726 55.9341H81.4949C79.2433 55.9341 77.418 54.1088 77.418 51.8571V51.8571Z",fill:"#965908"}),(0,_.jsx)("path",{d:"M57.6152 82.1429C57.6152 79.8912 59.4405 78.0659 61.6922 78.0659H126.923C129.175 78.0659 131 79.8912 131 82.1429V82.1429C131 84.3945 129.175 86.2198 126.923 86.2198H61.6922C59.4405 86.2198 57.6152 84.3945 57.6152 82.1429V82.1429Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M28.4941 67C28.4941 64.7484 30.3194 62.9231 32.5711 62.9231H57.0326C59.2842 62.9231 61.1095 64.7484 61.1095 67V67C61.1095 69.2516 59.2842 71.0769 57.0326 71.0769H32.5711C30.3194 71.0769 28.4941 69.2516 28.4941 67V67Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 97.2857C28.4941 95.0341 30.3194 93.2088 32.5711 93.2088H93.1425C95.3941 93.2088 97.2194 95.0341 97.2194 97.2857V97.2857C97.2194 99.5373 95.3941 101.363 93.1425 101.363H32.5711C30.3194 101.363 28.4941 99.5373 28.4941 97.2857V97.2857Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M28.4941 112.429C28.4941 110.177 30.3194 108.352 32.5711 108.352H135.077C137.328 108.352 139.153 110.177 139.153 112.429V112.429C139.153 114.68 137.328 116.505 135.077 116.505H32.5711C30.3194 116.505 28.4941 114.68 28.4941 112.429V112.429Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M68.0986 67C68.0986 64.7484 69.9239 62.9231 72.1756 62.9231H109.45C111.702 62.9231 113.527 64.7484 113.527 67V67C113.527 69.2516 111.702 71.0769 109.45 71.0769H72.1756C69.9239 71.0769 68.0986 69.2516 68.0986 67V67Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M104.209 97.2857C104.209 95.0341 106.034 93.2088 108.286 93.2088H139.736C141.988 93.2088 143.813 95.0341 143.813 97.2857V97.2857C143.813 99.5373 141.988 101.363 139.736 101.363H108.286C106.034 101.363 104.209 99.5373 104.209 97.2857V97.2857Z",fill:"#015133"}),(0,_.jsx)("path",{d:"M120.517 67C120.517 64.7484 122.342 62.9231 124.594 62.9231H140.901C143.153 62.9231 144.978 64.7484 144.978 67V67C144.978 69.2516 143.153 71.0769 140.901 71.0769H124.594C122.342 71.0769 120.517 69.2516 120.517 67V67Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 203.143C28.4941 200.891 30.3194 199.066 32.5711 199.066H46.5491C48.8007 199.066 50.626 200.891 50.626 203.143V203.143C50.626 205.394 48.8007 207.22 46.5491 207.22H32.5711C30.3194 207.22 28.4941 205.394 28.4941 203.143V203.143Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 142.571C28.4941 140.32 30.3194 138.495 32.5711 138.495H133.912C136.163 138.495 137.988 140.32 137.988 142.571V142.571C137.988 144.823 136.163 146.648 133.912 146.648H32.5711C30.3194 146.648 28.4941 144.823 28.4941 142.571V142.571Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 157.714C28.4941 155.463 30.3194 153.637 32.5711 153.637H51.2082C53.4599 153.637 55.2852 155.463 55.2852 157.714V157.714C55.2852 159.966 53.4599 161.791 51.2082 161.791H32.5711C30.3194 161.791 28.4941 159.966 28.4941 157.714V157.714Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M63.1094 157.714C63.1094 155.463 64.9347 153.637 67.1863 153.637H140.902C143.153 153.637 144.979 155.463 144.979 157.714V157.714C144.979 159.966 143.153 161.791 140.902 161.791H67.1863C64.9347 161.791 63.1094 159.966 63.1094 157.714V157.714Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 172.857C28.4941 170.606 30.3194 168.78 32.5711 168.78H41.4231C43.6747 168.78 45.5 170.606 45.5 172.857V172.857C45.5 175.109 43.6747 176.934 41.4231 176.934H32.5711C30.3194 176.934 28.4941 175.109 28.4941 172.857V172.857Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M52.875 172.857C52.875 170.606 54.7003 168.78 56.9519 168.78H146.725C148.976 168.78 150.802 170.606 150.802 172.857V172.857C150.802 175.109 148.976 176.934 146.725 176.934H56.9519C54.7003 176.934 52.875 175.109 52.875 172.857V172.857Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M57.6152 203.143C57.6152 200.891 59.4405 199.066 61.6922 199.066H126.923C129.175 199.066 131 200.891 131 203.143V203.143C131 205.394 129.175 207.22 126.923 207.22H61.6922C59.4405 207.22 57.6152 205.394 57.6152 203.143V203.143Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M28.4941 188C28.4941 185.748 30.3194 183.923 32.5711 183.923H86.1537C88.4053 183.923 90.2306 185.748 90.2306 188V188C90.2306 190.252 88.4053 192.077 86.1537 192.077H32.5711C30.3194 192.077 28.4941 190.252 28.4941 188V188Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M97.2197 188C97.2197 185.748 99.045 183.923 101.297 183.923H138.571C140.823 183.923 142.648 185.748 142.648 188V188C142.648 190.252 140.823 192.077 138.571 192.077H101.297C99.045 192.077 97.2197 190.252 97.2197 188V188Z",fill:"#383D51"}),(0,_.jsx)("path",{d:"M254.062 29H251.145V19.5455H254.192C255.109 19.5455 255.894 19.7347 256.546 20.1133C257.199 20.4888 257.699 21.0289 258.047 21.7337C258.394 22.4354 258.568 23.2756 258.568 24.2543C258.568 25.2391 258.393 26.087 258.042 26.7979C257.691 27.5058 257.18 28.0505 256.509 28.4322C255.838 28.8107 255.023 29 254.062 29ZM252.29 27.9844H253.989C254.77 27.9844 255.418 27.8336 255.932 27.532C256.446 27.2304 256.829 26.801 257.082 26.244C257.334 25.6869 257.46 25.0237 257.46 24.2543C257.46 23.491 257.336 22.8339 257.086 22.283C256.837 21.729 256.465 21.3043 255.969 21.0089C255.474 20.7103 254.857 20.5611 254.118 20.5611H252.29V27.9844ZM263.314 29.1477C262.631 29.1477 262.041 28.9969 261.546 28.6953C261.053 28.3906 260.673 27.9659 260.406 27.4212C260.141 26.8733 260.009 26.2363 260.009 25.5099C260.009 24.7836 260.141 24.1435 260.406 23.5895C260.673 23.0324 261.046 22.5985 261.523 22.2876C262.003 21.9737 262.563 21.8168 263.203 21.8168C263.572 21.8168 263.937 21.8783 264.297 22.0014C264.657 22.1245 264.985 22.3246 265.281 22.6016C265.576 22.8755 265.811 23.2386 265.987 23.6911C266.162 24.1435 266.25 24.7005 266.25 25.3622V25.8239H260.784V24.8821H265.142C265.142 24.482 265.062 24.125 264.902 23.8111C264.745 23.4972 264.52 23.2494 264.228 23.0678C263.939 22.8862 263.597 22.7955 263.203 22.7955C262.769 22.7955 262.394 22.9032 262.077 23.1186C261.763 23.331 261.521 23.608 261.352 23.9496C261.183 24.2912 261.098 24.6574 261.098 25.0483V25.6761C261.098 26.2116 261.19 26.6656 261.375 27.038C261.563 27.4073 261.823 27.6889 262.155 27.8828C262.488 28.0736 262.874 28.169 263.314 28.169C263.6 28.169 263.859 28.129 264.089 28.049C264.323 27.9659 264.525 27.8428 264.694 27.6797C264.864 27.5135 264.994 27.3073 265.087 27.0611L266.139 27.3565C266.028 27.7135 265.842 28.0275 265.581 28.2983C265.319 28.5661 264.996 28.7753 264.611 28.9261C264.226 29.0739 263.794 29.1477 263.314 29.1477ZM272.93 23.4972L271.951 23.7741C271.89 23.611 271.799 23.4525 271.679 23.2987C271.562 23.1417 271.402 23.0124 271.199 22.9109C270.996 22.8093 270.736 22.7585 270.419 22.7585C269.985 22.7585 269.623 22.8585 269.334 23.0586C269.048 23.2556 268.904 23.5064 268.904 23.8111C268.904 24.0819 269.003 24.2958 269.2 24.4528C269.397 24.6097 269.705 24.7405 270.123 24.8452L271.176 25.1037C271.81 25.2576 272.282 25.493 272.593 25.81C272.904 26.1239 273.059 26.5286 273.059 27.0241C273.059 27.4304 272.942 27.7936 272.708 28.1136C272.478 28.4337 272.154 28.6861 271.739 28.8707C271.324 29.0554 270.84 29.1477 270.289 29.1477C269.566 29.1477 268.968 28.9908 268.494 28.6768C268.02 28.3629 267.72 27.9044 267.593 27.3011L268.627 27.0426C268.726 27.4242 268.912 27.7105 269.186 27.9013C269.463 28.0921 269.825 28.1875 270.271 28.1875C270.779 28.1875 271.182 28.0798 271.48 27.8643C271.782 27.6458 271.933 27.3842 271.933 27.0795C271.933 26.8333 271.847 26.6271 271.674 26.4609C271.502 26.2917 271.237 26.1655 270.88 26.0824L269.699 25.8054C269.049 25.6515 268.572 25.413 268.267 25.0898C267.966 24.7636 267.815 24.3558 267.815 23.8665C267.815 23.4664 267.927 23.1125 268.152 22.8047C268.38 22.4969 268.689 22.2553 269.08 22.0799C269.474 21.9045 269.92 21.8168 270.419 21.8168C271.12 21.8168 271.671 21.9706 272.071 22.2784C272.475 22.5862 272.761 22.9924 272.93 23.4972ZM277.58 29.1477C276.915 29.1477 276.343 28.9908 275.863 28.6768C275.383 28.3629 275.013 27.9305 274.755 27.3796C274.496 26.8287 274.367 26.1993 274.367 25.4915C274.367 24.7713 274.499 24.1358 274.764 23.5849C275.032 23.0309 275.404 22.5985 275.881 22.2876C276.361 21.9737 276.921 21.8168 277.562 21.8168C278.06 21.8168 278.509 21.9091 278.91 22.0938C279.31 22.2784 279.637 22.5369 279.893 22.8693C280.148 23.2017 280.307 23.5895 280.368 24.0327H279.279C279.196 23.7095 279.011 23.4233 278.725 23.174C278.442 22.9216 278.06 22.7955 277.58 22.7955C277.155 22.7955 276.783 22.9062 276.463 23.1278C276.146 23.3464 275.898 23.6557 275.72 24.0558C275.544 24.4528 275.456 24.919 275.456 25.4545C275.456 26.0024 275.543 26.4794 275.715 26.8857C275.89 27.2919 276.137 27.6074 276.454 27.832C276.774 28.0567 277.149 28.169 277.58 28.169C277.863 28.169 278.12 28.1198 278.351 28.0213C278.582 27.9228 278.777 27.7812 278.937 27.5966C279.097 27.4119 279.211 27.1903 279.279 26.9318H280.368C280.307 27.3504 280.154 27.7274 279.911 28.0629C279.671 28.3952 279.353 28.6599 278.956 28.8569C278.562 29.0508 278.103 29.1477 277.58 29.1477ZM281.961 29V21.9091H283.014V22.9801H283.087C283.217 22.6293 283.451 22.3446 283.789 22.1261C284.128 21.9076 284.509 21.7983 284.934 21.7983C285.014 21.7983 285.114 21.7998 285.234 21.8029C285.354 21.806 285.445 21.8106 285.506 21.8168V22.9247C285.47 22.9155 285.385 22.9016 285.253 22.8832C285.123 22.8616 284.986 22.8509 284.842 22.8509C284.497 22.8509 284.189 22.9232 283.918 23.0678C283.651 23.2094 283.438 23.4064 283.281 23.6587C283.127 23.908 283.051 24.1927 283.051 24.5128V29H281.961ZM286.798 29V21.9091H287.887V29H286.798ZM287.352 20.7273C287.14 20.7273 286.956 20.6549 286.803 20.5103C286.652 20.3656 286.576 20.1918 286.576 19.9886C286.576 19.7855 286.652 19.6116 286.803 19.467C286.956 19.3223 287.14 19.25 287.352 19.25C287.564 19.25 287.746 19.3223 287.897 19.467C288.051 19.6116 288.127 19.7855 288.127 19.9886C288.127 20.1918 288.051 20.3656 287.897 20.5103C287.746 20.6549 287.564 20.7273 287.352 20.7273ZM289.883 31.6591V21.9091H290.935V23.0355H291.065C291.145 22.9124 291.256 22.7554 291.397 22.5646C291.542 22.3707 291.748 22.1984 292.016 22.0476C292.287 21.8937 292.653 21.8168 293.114 21.8168C293.711 21.8168 294.238 21.966 294.693 22.2646C295.149 22.5631 295.504 22.9863 295.76 23.5341C296.015 24.0819 296.143 24.7282 296.143 25.473C296.143 26.224 296.015 26.8749 295.76 27.4258C295.504 27.9736 295.15 28.3983 294.698 28.6999C294.245 28.9985 293.724 29.1477 293.133 29.1477C292.677 29.1477 292.313 29.0723 292.039 28.9215C291.765 28.7676 291.554 28.5937 291.406 28.3999C291.259 28.2029 291.145 28.0398 291.065 27.9105H290.972V31.6591H289.883ZM290.954 25.4545C290.954 25.9901 291.032 26.4625 291.189 26.8718C291.346 27.2781 291.576 27.5966 291.877 27.8274C292.179 28.0552 292.548 28.169 292.985 28.169C293.441 28.169 293.821 28.049 294.125 27.8089C294.433 27.5658 294.664 27.2396 294.818 26.8303C294.975 26.4179 295.053 25.9593 295.053 25.4545C295.053 24.956 294.976 24.5066 294.823 24.1065C294.672 23.7034 294.442 23.3848 294.135 23.1509C293.83 22.9139 293.447 22.7955 292.985 22.7955C292.542 22.7955 292.17 22.9078 291.868 23.1325C291.566 23.354 291.339 23.6649 291.185 24.065C291.031 24.462 290.954 24.9252 290.954 25.4545ZM300.889 21.9091V22.8324H297.214V21.9091H300.889ZM298.285 20.2102H299.374V26.9688C299.374 27.2765 299.419 27.5073 299.508 27.6612C299.601 27.812 299.718 27.9136 299.859 27.9659C300.004 28.0152 300.156 28.0398 300.316 28.0398C300.436 28.0398 300.535 28.0336 300.612 28.0213C300.689 28.0059 300.75 27.9936 300.796 27.9844L301.018 28.9631C300.944 28.9908 300.841 29.0185 300.709 29.0462C300.576 29.0769 300.408 29.0923 300.205 29.0923C299.898 29.0923 299.596 29.0262 299.301 28.8938C299.008 28.7615 298.765 28.5599 298.571 28.2891C298.38 28.0182 298.285 27.6766 298.285 27.2642V20.2102ZM302.527 29V21.9091H303.617V29H302.527ZM303.081 20.7273C302.869 20.7273 302.686 20.6549 302.532 20.5103C302.381 20.3656 302.306 20.1918 302.306 19.9886C302.306 19.7855 302.381 19.6116 302.532 19.467C302.686 19.3223 302.869 19.25 303.081 19.25C303.294 19.25 303.475 19.3223 303.626 19.467C303.78 19.6116 303.857 19.7855 303.857 19.9886C303.857 20.1918 303.78 20.3656 303.626 20.5103C303.475 20.6549 303.294 20.7273 303.081 20.7273ZM308.493 29.1477C307.853 29.1477 307.291 28.9954 306.808 28.6907C306.328 28.386 305.952 27.9598 305.682 27.4119C305.414 26.8641 305.28 26.224 305.28 25.4915C305.28 24.7528 305.414 24.1081 305.682 23.5572C305.952 23.0063 306.328 22.5785 306.808 22.2738C307.291 21.9691 307.853 21.8168 308.493 21.8168C309.133 21.8168 309.693 21.9691 310.173 22.2738C310.657 22.5785 311.032 23.0063 311.3 23.5572C311.571 24.1081 311.706 24.7528 311.706 25.4915C311.706 26.224 311.571 26.8641 311.3 27.4119C311.032 27.9598 310.657 28.386 310.173 28.6907C309.693 28.9954 309.133 29.1477 308.493 29.1477ZM308.493 28.169C308.979 28.169 309.379 28.0444 309.693 27.7951C310.007 27.5458 310.24 27.218 310.39 26.8118C310.541 26.4055 310.617 25.9654 310.617 25.4915C310.617 25.0175 310.541 24.5759 310.39 24.1665C310.24 23.7572 310.007 23.4264 309.693 23.174C309.379 22.9216 308.979 22.7955 308.493 22.7955C308.007 22.7955 307.607 22.9216 307.293 23.174C306.979 23.4264 306.747 23.7572 306.596 24.1665C306.445 24.5759 306.369 25.0175 306.369 25.4915C306.369 25.9654 306.445 26.4055 306.596 26.8118C306.747 27.218 306.979 27.5458 307.293 27.7951C307.607 28.0444 308.007 28.169 308.493 28.169ZM314.459 24.7344V29H313.369V21.9091H314.422V23.017H314.514C314.68 22.657 314.933 22.3677 315.271 22.1491C315.61 21.9276 316.047 21.8168 316.582 21.8168C317.062 21.8168 317.483 21.9152 317.843 22.1122C318.203 22.3061 318.483 22.6016 318.683 22.9986C318.883 23.3925 318.983 23.8911 318.983 24.4943V29H317.893V24.5682C317.893 24.0111 317.749 23.5772 317.459 23.2663C317.17 22.9524 316.773 22.7955 316.268 22.7955C315.921 22.7955 315.61 22.8709 315.336 23.0217C315.065 23.1725 314.851 23.3925 314.694 23.6818C314.537 23.9711 314.459 24.322 314.459 24.7344Z",fill:"#F9BC15"}),(0,_.jsx)("path",{d:"M251.145 96V86.5455H254.45C255.109 86.5455 255.652 86.6593 256.08 86.8871C256.508 87.1117 256.826 87.4149 257.036 87.7965C257.245 88.1751 257.349 88.5952 257.349 89.0568C257.349 89.4631 257.277 89.7985 257.132 90.0632C256.991 90.3279 256.803 90.5372 256.569 90.6911C256.338 90.8449 256.088 90.9588 255.817 91.0327V91.125C256.106 91.1435 256.397 91.245 256.689 91.4297C256.982 91.6143 257.226 91.879 257.423 92.2237C257.62 92.5684 257.719 92.9901 257.719 93.4886C257.719 93.9626 257.611 94.3888 257.396 94.7674C257.18 95.146 256.84 95.446 256.375 95.6676C255.911 95.8892 255.306 96 254.561 96H251.145ZM252.29 94.9844H254.561C255.309 94.9844 255.84 94.8397 256.154 94.5504C256.471 94.258 256.629 93.9041 256.629 93.4886C256.629 93.1686 256.548 92.8731 256.385 92.6023C256.221 92.3284 255.989 92.1098 255.688 91.9467C255.386 91.7805 255.029 91.6974 254.616 91.6974H252.29V94.9844ZM252.29 90.7003H254.413C254.758 90.7003 255.069 90.6326 255.346 90.4972C255.626 90.3617 255.848 90.1709 256.011 89.9247C256.177 89.6785 256.26 89.3892 256.26 89.0568C256.26 88.6413 256.115 88.2889 255.826 87.9996C255.537 87.7073 255.078 87.5611 254.45 87.5611H252.29V90.7003ZM262.333 96.1477C261.693 96.1477 261.131 95.9954 260.648 95.6907C260.168 95.386 259.792 94.9598 259.521 94.4119C259.254 93.8641 259.12 93.224 259.12 92.4915C259.12 91.7528 259.254 91.1081 259.521 90.5572C259.792 90.0063 260.168 89.5785 260.648 89.2738C261.131 88.9691 261.693 88.8168 262.333 88.8168C262.973 88.8168 263.533 88.9691 264.013 89.2738C264.497 89.5785 264.872 90.0063 265.14 90.5572C265.411 91.1081 265.546 91.7528 265.546 92.4915C265.546 93.224 265.411 93.8641 265.14 94.4119C264.872 94.9598 264.497 95.386 264.013 95.6907C263.533 95.9954 262.973 96.1477 262.333 96.1477ZM262.333 95.169C262.819 95.169 263.219 95.0444 263.533 94.7951C263.847 94.5458 264.079 94.218 264.23 93.8118C264.381 93.4055 264.456 92.9654 264.456 92.4915C264.456 92.0175 264.381 91.5759 264.23 91.1665C264.079 90.7572 263.847 90.4264 263.533 90.174C263.219 89.9216 262.819 89.7955 262.333 89.7955C261.847 89.7955 261.447 89.9216 261.133 90.174C260.819 90.4264 260.586 90.7572 260.436 91.1665C260.285 91.5759 260.209 92.0175 260.209 92.4915C260.209 92.9654 260.285 93.4055 260.436 93.8118C260.586 94.218 260.819 94.5458 261.133 94.7951C261.447 95.0444 261.847 95.169 262.333 95.169ZM269.887 96.1477C269.296 96.1477 268.774 95.9985 268.322 95.6999C267.869 95.3983 267.515 94.9736 267.26 94.4258C267.004 93.8749 266.877 93.224 266.877 92.473C266.877 91.7282 267.004 91.0819 267.26 90.5341C267.515 89.9863 267.871 89.5631 268.326 89.2646C268.782 88.966 269.308 88.8168 269.905 88.8168C270.367 88.8168 270.731 88.8937 270.999 89.0476C271.27 89.1984 271.476 89.3707 271.618 89.5646C271.762 89.7554 271.875 89.9124 271.955 90.0355H272.047V86.5455H273.137V96H272.084V94.9105H271.955C271.875 95.0398 271.761 95.2029 271.613 95.3999C271.465 95.5937 271.255 95.7676 270.981 95.9215C270.707 96.0723 270.342 96.1477 269.887 96.1477ZM270.034 95.169C270.471 95.169 270.841 95.0552 271.142 94.8274C271.444 94.5966 271.673 94.2781 271.83 93.8718C271.987 93.4625 272.066 92.9901 272.066 92.4545C272.066 91.9252 271.989 91.462 271.835 91.065C271.681 90.6649 271.453 90.354 271.152 90.1325C270.85 89.9078 270.478 89.7955 270.034 89.7955C269.573 89.7955 269.188 89.9139 268.88 90.1509C268.576 90.3848 268.346 90.7034 268.192 91.1065C268.042 91.5066 267.966 91.956 267.966 92.4545C267.966 92.9593 268.043 93.4179 268.197 93.8303C268.354 94.2396 268.585 94.5658 268.889 94.8089C269.197 95.049 269.579 95.169 270.034 95.169ZM275.985 98.6591C275.8 98.6591 275.636 98.6437 275.491 98.6129C275.346 98.5852 275.246 98.5575 275.191 98.5298L275.468 97.5696C275.733 97.6373 275.967 97.6619 276.17 97.6435C276.373 97.625 276.553 97.5342 276.71 97.3711C276.87 97.2111 277.016 96.951 277.148 96.5909L277.351 96.0369L274.729 88.9091H275.911L277.869 94.5597H277.942L279.9 88.9091H281.082L278.072 97.0341C277.936 97.4003 277.768 97.7035 277.568 97.9435C277.368 98.1867 277.136 98.3667 276.871 98.4837C276.61 98.6006 276.314 98.6591 275.985 98.6591Z",fill:"#04B97A"}),(0,_.jsx)("path",{d:"M164 22C164 24.2091 165.791 26 168 26C170.209 26 172 24.2091 172 22C172 19.7909 170.209 18 168 18C165.791 18 164 19.7909 164 22ZM238.53 -14.9697C238.823 -15.2626 238.823 -15.7374 238.53 -16.0303L233.757 -20.8033C233.464 -21.0962 232.99 -21.0962 232.697 -20.8033C232.404 -20.5104 232.404 -20.0355 232.697 -19.7426L236.939 -15.5L232.697 -11.2574C232.404 -10.9645 232.404 -10.4896 232.697 -10.1967C232.99 -9.90381 233.464 -9.90381 233.757 -10.1967L238.53 -14.9697ZM168 22.75C168.007 22.75 168.013 22.75 168.02 22.75C168.026 22.75 168.033 22.75 168.039 22.75C168.046 22.75 168.052 22.75 168.059 22.75C168.066 22.75 168.072 22.75 168.079 22.75C168.086 22.75 168.092 22.75 168.099 22.75C168.106 22.75 168.112 22.75 168.119 22.75C168.126 22.75 168.133 22.75 168.139 22.75C168.146 22.75 168.153 22.75 168.16 22.75C168.167 22.75 168.173 22.75 168.18 22.75C168.187 22.75 168.194 22.75 168.201 22.75C168.208 22.75 168.215 22.75 168.222 22.75C168.229 22.75 168.235 22.75 168.242 22.75C168.249 22.75 168.256 22.75 168.263 22.75C168.27 22.75 168.277 22.75 168.284 22.75C168.291 22.75 168.298 22.75 168.306 22.75C168.313 22.75 168.32 22.75 168.327 22.75C168.334 22.75 168.341 22.75 168.348 22.75C168.355 22.75 168.362 22.75 168.37 22.75C168.377 22.75 168.384 22.75 168.391 22.75C168.398 22.75 168.406 22.75 168.413 22.75C168.42 22.75 168.427 22.75 168.435 22.75C168.442 22.75 168.449 22.75 168.457 22.75C168.464 22.75 168.471 22.75 168.479 22.75C168.486 22.75 168.493 22.75 168.501 22.75C168.508 22.75 168.516 22.75 168.523 22.75C168.53 22.75 168.538 22.75 168.545 22.75C168.553 22.75 168.56 22.75 168.568 22.75C168.575 22.75 168.583 22.75 168.59 22.75C168.598 22.75 168.605 22.75 168.613 22.75C168.621 22.75 168.628 22.75 168.636 22.75C168.643 22.75 168.651 22.75 168.659 22.75C168.666 22.75 168.674 22.75 168.682 22.75C168.689 22.75 168.697 22.75 168.705 22.75C168.712 22.75 168.72 22.75 168.728 22.75C168.736 22.75 168.743 22.75 168.751 22.75C168.759 22.75 168.767 22.75 168.775 22.75C168.782 22.75 168.79 22.75 168.798 22.75C168.806 22.75 168.814 22.75 168.822 22.75C168.83 22.75 168.838 22.75 168.845 22.75C168.853 22.75 168.861 22.75 168.869 22.75C168.877 22.75 168.885 22.75 168.893 22.75C168.901 22.75 168.909 22.75 168.917 22.75C168.925 22.75 168.933 22.75 168.941 22.75C168.949 22.75 168.958 22.75 168.966 22.75C168.974 22.75 168.982 22.75 168.99 22.75C168.998 22.75 169.006 22.75 169.014 22.75C169.023 22.75 169.031 22.75 169.039 22.75C169.047 22.75 169.055 22.75 169.064 22.75C169.072 22.75 169.08 22.75 169.088 22.75C169.097 22.75 169.105 22.75 169.113 22.75C169.122 22.75 169.13 22.75 169.138 22.75C169.147 22.75 169.155 22.75 169.163 22.75C169.172 22.75 169.18 22.75 169.188 22.75C169.197 22.75 169.205 22.75 169.214 22.75C169.222 22.75 169.231 22.75 169.239 22.75C169.248 22.75 169.256 22.75 169.265 22.75C169.273 22.75 169.282 22.75 169.29 22.75C169.299 22.75 169.307 22.75 169.316 22.75C169.324 22.75 169.333 22.75 169.342 22.75C169.35 22.75 169.359 22.75 169.367 22.75C169.376 22.75 169.385 22.75 169.393 22.75C169.402 22.75 169.411 22.75 169.419 22.75C169.428 22.75 169.437 22.75 169.446 22.75C169.454 22.75 169.463 22.75 169.472 22.75C169.481 22.75 169.489 22.75 169.498 22.75C169.507 22.75 169.516 22.75 169.525 22.75C169.534 22.75 169.542 22.75 169.551 22.75C169.56 22.75 169.569 22.75 169.578 22.75C169.587 22.75 169.596 22.75 169.605 22.75C169.614 22.75 169.623 22.75 169.632 22.75C169.641 22.75 169.65 22.75 169.659 22.75C169.668 22.75 169.677 22.75 169.686 22.75C169.695 22.75 169.704 22.75 169.713 22.75C169.722 22.75 169.731 22.75 169.74 22.75C169.749 22.75 169.758 22.75 169.767 22.75C169.776 22.75 169.786 22.75 169.795 22.75C169.804 22.75 169.813 22.75 169.822 22.75C169.832 22.75 169.841 22.75 169.85 22.75C169.859 22.75 169.868 22.75 169.878 22.75C169.887 22.75 169.896 22.75 169.906 22.75C169.915 22.75 169.924 22.75 169.933 22.75C169.943 22.75 169.952 22.75 169.961 22.75C169.971 22.75 169.98 22.75 169.99 22.75C169.999 22.75 170.008 22.75 170.018 22.75C170.027 22.75 170.037 22.75 170.046 22.75C170.056 22.75 170.065 22.75 170.075 22.75C170.084 22.75 170.093 22.75 170.103 22.75C170.113 22.75 170.122 22.75 170.132 22.75C170.141 22.75 170.151 22.75 170.16 22.75C170.17 22.75 170.179 22.75 170.189 22.75C170.199 22.75 170.208 22.75 170.218 22.75C170.228 22.75 170.237 22.75 170.247 22.75C170.257 22.75 170.266 22.75 170.276 22.75C170.286 22.75 170.295 22.75 170.305 22.75C170.315 22.75 170.325 22.75 170.334 22.75C170.344 22.75 170.354 22.75 170.364 22.75C170.373 22.75 170.383 22.75 170.393 22.75C170.403 22.75 170.413 22.75 170.423 22.75C170.432 22.75 170.442 22.75 170.452 22.75C170.462 22.75 170.472 22.75 170.482 22.75C170.492 22.75 170.502 22.75 170.512 22.75C170.522 22.75 170.532 22.75 170.542 22.75C170.552 22.75 170.562 22.75 170.572 22.75C170.582 22.75 170.592 22.75 170.602 22.75C170.612 22.75 170.622 22.75 170.632 22.75C170.642 22.75 170.652 22.75 170.662 22.75C170.672 22.75 170.682 22.75 170.692 22.75C170.703 22.75 170.713 22.75 170.723 22.75C170.733 22.75 170.743 22.75 170.753 22.75C170.764 22.75 170.774 22.75 170.784 22.75C170.794 22.75 170.804 22.75 170.815 22.75C170.825 22.75 170.835 22.75 170.845 22.75C170.856 22.75 170.866 22.75 170.876 22.75C170.887 22.75 170.897 22.75 170.907 22.75C170.918 22.75 170.928 22.75 170.938 22.75C170.949 22.75 170.959 22.75 170.969 22.75C170.98 22.75 170.99 22.75 171.001 22.75C171.011 22.75 171.022 22.75 171.032 22.75C171.042 22.75 171.053 22.75 171.063 22.75C171.074 22.75 171.084 22.75 171.095 22.75C171.105 22.75 171.116 22.75 171.127 22.75C171.137 22.75 171.148 22.75 171.158 22.75C171.169 22.75 171.179 22.75 171.19 22.75C171.201 22.75 171.211 22.75 171.222 22.75C171.232 22.75 171.243 22.75 171.254 22.75C171.264 22.75 171.275 22.75 171.286 22.75C171.296 22.75 171.307 22.75 171.318 22.75C171.329 22.75 171.339 22.75 171.35 22.75C171.361 22.75 171.371 22.75 171.382 22.75C171.393 22.75 171.404 22.75 171.415 22.75C171.425 22.75 171.436 22.75 171.447 22.75C171.458 22.75 171.469 22.75 171.48 22.75C171.49 22.75 171.501 22.75 171.512 22.75C171.523 22.75 171.534 22.75 171.545 22.75C171.556 22.75 171.567 22.75 171.578 22.75C171.589 22.75 171.6 22.75 171.611 22.75C171.621 22.75 171.632 22.75 171.643 22.75C171.654 22.75 171.665 22.75 171.677 22.75C171.688 22.75 171.699 22.75 171.71 22.75C171.721 22.75 171.732 22.75 171.743 22.75C171.754 22.75 171.765 22.75 171.776 22.75C171.787 22.75 171.798 22.75 171.809 22.75C171.821 22.75 171.832 22.75 171.843 22.75C171.854 22.75 171.865 22.75 171.876 22.75C171.888 22.75 171.899 22.75 171.91 22.75C171.921 22.75 171.932 22.75 171.944 22.75C171.955 22.75 171.966 22.75 171.977 22.75C171.989 22.75 172 22.75 172.011 22.75C172.023 22.75 172.034 22.75 172.045 22.75C172.057 22.75 172.068 22.75 172.079 22.75C172.091 22.75 172.102 22.75 172.113 22.75C172.125 22.75 172.136 22.75 172.148 22.75C172.159 22.75 172.17 22.75 172.182 22.75C172.193 22.75 172.205 22.75 172.216 22.75C172.228 22.75 172.239 22.75 172.251 22.75C172.262 22.75 172.274 22.75 172.285 22.75C172.297 22.75 172.308 22.75 172.32 22.75C172.331 22.75 172.343 22.75 172.354 22.75C172.366 22.75 172.377 22.75 172.389 22.75C172.401 22.75 172.412 22.75 172.424 22.75C172.435 22.75 172.447 22.75 172.459 22.75C172.47 22.75 172.482 22.75 172.494 22.75C172.505 22.75 172.517 22.75 172.529 22.75C172.54 22.75 172.552 22.75 172.564 22.75C172.576 22.75 172.587 22.75 172.599 22.75C172.611 22.75 172.623 22.75 172.634 22.75C172.646 22.75 172.658 22.75 172.67 22.75C172.681 22.75 172.693 22.75 172.705 22.75C172.717 22.75 172.729 22.75 172.741 22.75C172.752 22.75 172.764 22.75 172.776 22.75C172.788 22.75 172.8 22.75 172.812 22.75C172.824 22.75 172.836 22.75 172.848 22.75C172.86 22.75 172.872 22.75 172.883 22.75C172.895 22.75 172.907 22.75 172.919 22.75C172.931 22.75 172.943 22.75 172.955 22.75C172.967 22.75 172.979 22.75 172.991 22.75C173.003 22.75 173.015 22.75 173.027 22.75C173.04 22.75 173.052 22.75 173.064 22.75C173.076 22.75 173.088 22.75 173.1 22.75C173.112 22.75 173.124 22.75 173.136 22.75C173.148 22.75 173.161 22.75 173.173 22.75C173.185 22.75 173.197 22.75 173.209 22.75C173.221 22.75 173.234 22.75 173.246 22.75C173.258 22.75 173.27 22.75 173.282 22.75C173.295 22.75 173.307 22.75 173.319 22.75C173.331 22.75 173.344 22.75 173.356 22.75C173.368 22.75 173.38 22.75 173.393 22.75C173.405 22.75 173.417 22.75 173.43 22.75C173.442 22.75 173.454 22.75 173.467 22.75C173.479 22.75 173.491 22.75 173.504 22.75C173.516 22.75 173.529 22.75 173.541 22.75C173.553 22.75 173.566 22.75 173.578 22.75C173.591 22.75 173.603 22.75 173.615 22.75C173.628 22.75 173.64 22.75 173.653 22.75C173.665 22.75 173.678 22.75 173.69 22.75C173.703 22.75 173.715 22.75 173.728 22.75C173.74 22.75 173.753 22.75 173.765 22.75C173.778 22.75 173.79 22.75 173.803 22.75C173.816 22.75 173.828 22.75 173.841 22.75C173.853 22.75 173.866 22.75 173.878 22.75C173.891 22.75 173.904 22.75 173.916 22.75C173.929 22.75 173.942 22.75 173.954 22.75C173.967 22.75 173.98 22.75 173.992 22.75C174.005 22.75 174.018 22.75 174.03 22.75C174.043 22.75 174.056 22.75 174.068 22.75C174.081 22.75 174.094 22.75 174.107 22.75C174.119 22.75 174.132 22.75 174.145 22.75C174.158 22.75 174.17 22.75 174.183 22.75C174.196 22.75 174.209 22.75 174.222 22.75C174.234 22.75 174.247 22.75 174.26 22.75C174.273 22.75 174.286 22.75 174.299 22.75C174.312 22.75 174.324 22.75 174.337 22.75C174.35 22.75 174.363 22.75 174.376 22.75C174.389 22.75 174.402 22.75 174.415 22.75C174.428 22.75 174.441 22.75 174.454 22.75C174.466 22.75 174.479 22.75 174.492 22.75C174.505 22.75 174.518 22.75 174.531 22.75C174.544 22.75 174.557 22.75 174.57 22.75C174.583 22.75 174.596 22.75 174.609 22.75C174.623 22.75 174.636 22.75 174.649 22.75C174.662 22.75 174.675 22.75 174.688 22.75C174.701 22.75 174.714 22.75 174.727 22.75C174.74 22.75 174.753 22.75 174.766 22.75C174.78 22.75 174.793 22.75 174.806 22.75C174.819 22.75 174.832 22.75 174.845 22.75C174.859 22.75 174.872 22.75 174.885 22.75C174.898 22.75 174.911 22.75 174.924 22.75C174.938 22.75 174.951 22.75 174.964 22.75C174.977 22.75 174.991 22.75 175.004 22.75C175.017 22.75 175.03 22.75 175.044 22.75C175.057 22.75 175.07 22.75 175.084 22.75C175.097 22.75 175.11 22.75 175.123 22.75C175.137 22.75 175.15 22.75 175.163 22.75C175.177 22.75 175.19 22.75 175.203 22.75C175.217 22.75 175.23 22.75 175.244 22.75C175.257 22.75 175.27 22.75 175.284 22.75C175.297 22.75 175.311 22.75 175.324 22.75C175.337 22.75 175.351 22.75 175.364 22.75C175.378 22.75 175.391 22.75 175.405 22.75C175.418 22.75 175.432 22.75 175.445 22.75C175.459 22.75 175.472 22.75 175.486 22.75C175.499 22.75 175.513 22.75 175.526 22.75C175.54 22.75 175.553 22.75 175.567 22.75C175.58 22.75 175.594 22.75 175.607 22.75C175.621 22.75 175.635 22.75 175.648 22.75C175.662 22.75 175.675 22.75 175.689 22.75C175.702 22.75 175.716 22.75 175.73 22.75C175.743 22.75 175.757 22.75 175.771 22.75C175.784 22.75 175.798 22.75 175.812 22.75C175.825 22.75 175.839 22.75 175.853 22.75C175.866 22.75 175.88 22.75 175.894 22.75C175.907 22.75 175.921 22.75 175.935 22.75C175.949 22.75 175.962 22.75 175.976 22.75C175.99 22.75 176.004 22.75 176.017 22.75C176.031 22.75 176.045 22.75 176.059 22.75C176.072 22.75 176.086 22.75 176.1 22.75C176.114 22.75 176.128 22.75 176.141 22.75C176.155 22.75 176.169 22.75 176.183 22.75C176.197 22.75 176.211 22.75 176.224 22.75C176.238 22.75 176.252 22.75 176.266 22.75C176.28 22.75 176.294 22.75 176.308 22.75C176.322 22.75 176.336 22.75 176.349 22.75C176.363 22.75 176.377 22.75 176.391 22.75C176.405 22.75 176.419 22.75 176.433 22.75C176.447 22.75 176.461 22.75 176.475 22.75C176.489 22.75 176.503 22.75 176.517 22.75C176.531 22.75 176.545 22.75 176.559 22.75C176.573 22.75 176.587 22.75 176.601 22.75C176.615 22.75 176.629 22.75 176.643 22.75C176.657 22.75 176.671 22.75 176.685 22.75C176.699 22.75 176.713 22.75 176.727 22.75C176.742 22.75 176.756 22.75 176.77 22.75C176.784 22.75 176.798 22.75 176.812 22.75C176.826 22.75 176.84 22.75 176.854 22.75C176.869 22.75 176.883 22.75 176.897 22.75C176.911 22.75 176.925 22.75 176.939 22.75C176.954 22.75 176.968 22.75 176.982 22.75C176.996 22.75 177.01 22.75 177.025 22.75C177.039 22.75 177.053 22.75 177.067 22.75C177.081 22.75 177.096 22.75 177.11 22.75C177.124 22.75 177.138 22.75 177.153 22.75C177.167 22.75 177.181 22.75 177.196 22.75C177.21 22.75 177.224 22.75 177.238 22.75C177.253 22.75 177.267 22.75 177.281 22.75C177.296 22.75 177.31 22.75 177.324 22.75C177.339 22.75 177.353 22.75 177.367 22.75C177.382 22.75 177.396 22.75 177.41 22.75C177.425 22.75 177.439 22.75 177.454 22.75C177.468 22.75 177.482 22.75 177.497 22.75C177.511 22.75 177.526 22.75 177.54 22.75C177.554 22.75 177.569 22.75 177.583 22.75C177.598 22.75 177.612 22.75 177.627 22.75C177.641 22.75 177.655 22.75 177.67 22.75C177.684 22.75 177.699 22.75 177.713 22.75C177.728 22.75 177.742 22.75 177.757 22.75C177.771 22.75 177.786 22.75 177.8 22.75C177.815 22.75 177.829 22.75 177.844 22.75C177.858 22.75 177.873 22.75 177.888 22.75C177.902 22.75 177.917 22.75 177.931 22.75C177.946 22.75 177.96 22.75 177.975 22.75C177.99 22.75 178.004 22.75 178.019 22.75C178.033 22.75 178.048 22.75 178.063 22.75C178.077 22.75 178.092 22.75 178.106 22.75C178.121 22.75 178.136 22.75 178.15 22.75C178.165 22.75 178.18 22.75 178.194 22.75C178.209 22.75 178.224 22.75 178.238 22.75C178.253 22.75 178.268 22.75 178.282 22.75C178.297 22.75 178.312 22.75 178.326 22.75C178.341 22.75 178.356 22.75 178.371 22.75C178.385 22.75 178.4 22.75 178.415 22.75C178.43 22.75 178.444 22.75 178.459 22.75C178.474 22.75 178.489 22.75 178.503 22.75C178.518 22.75 178.533 22.75 178.548 22.75C178.563 22.75 178.577 22.75 178.592 22.75C178.607 22.75 178.622 22.75 178.637 22.75C178.651 22.75 178.666 22.75 178.681 22.75C178.696 22.75 178.711 22.75 178.726 22.75C178.74 22.75 178.755 22.75 178.77 22.75C178.785 22.75 178.8 22.75 178.815 22.75C178.83 22.75 178.844 22.75 178.859 22.75C178.874 22.75 178.889 22.75 178.904 22.75C178.919 22.75 178.934 22.75 178.949 22.75C178.964 22.75 178.979 22.75 178.994 22.75C179.009 22.75 179.023 22.75 179.038 22.75C179.053 22.75 179.068 22.75 179.083 22.75C179.098 22.75 179.113 22.75 179.128 22.75C179.143 22.75 179.158 22.75 179.173 22.75C179.188 22.75 179.203 22.75 179.218 22.75C179.233 22.75 179.248 22.75 179.263 22.75C179.278 22.75 179.293 22.75 179.308 22.75C179.323 22.75 179.338 22.75 179.353 22.75C179.369 22.75 179.384 22.75 179.399 22.75C179.414 22.75 179.429 22.75 179.444 22.75C179.459 22.75 179.474 22.75 179.489 22.75C179.504 22.75 179.519 22.75 179.534 22.75C179.55 22.75 179.565 22.75 179.58 22.75C179.595 22.75 179.61 22.75 179.625 22.75C179.64 22.75 179.655 22.75 179.671 22.75C179.686 22.75 179.701 22.75 179.716 22.75C179.731 22.75 179.746 22.75 179.761 22.75C179.777 22.75 179.792 22.75 179.807 22.75C179.822 22.75 179.837 22.75 179.853 22.75C179.868 22.75 179.883 22.75 179.898 22.75C179.913 22.75 179.929 22.75 179.944 22.75C179.959 22.75 179.974 22.75 179.99 22.75C180.005 22.75 180.02 22.75 180.035 22.75C180.051 22.75 180.066 22.75 180.081 22.75C180.096 22.75 180.112 22.75 180.127 22.75C180.142 22.75 180.157 22.75 180.173 22.75C180.188 22.75 180.203 22.75 180.219 22.75C180.234 22.75 180.249 22.75 180.265 22.75C180.28 22.75 180.295 22.75 180.311 22.75C180.326 22.75 180.341 22.75 180.357 22.75C180.372 22.75 180.387 22.75 180.403 22.75C180.418 22.75 180.433 22.75 180.449 22.75C180.464 22.75 180.479 22.75 180.495 22.75C180.51 22.75 180.526 22.75 180.541 22.75C180.556 22.75 180.572 22.75 180.587 22.75C180.603 22.75 180.618 22.75 180.633 22.75C180.649 22.75 180.664 22.75 180.68 22.75C180.695 22.75 180.71 22.75 180.726 22.75C180.741 22.75 180.757 22.75 180.772 22.75C180.788 22.75 180.803 22.75 180.819 22.75C180.834 22.75 180.85 22.75 180.865 22.75C180.88 22.75 180.896 22.75 180.911 22.75C180.927 22.75 180.942 22.75 180.958 22.75C180.973 22.75 180.989 22.75 181.004 22.75C181.02 22.75 181.035 22.75 181.051 22.75C181.066 22.75 181.082 22.75 181.097 22.75C181.113 22.75 181.129 22.75 181.144 22.75C181.16 22.75 181.175 22.75 181.191 22.75C181.206 22.75 181.222 22.75 181.237 22.75C181.253 22.75 181.269 22.75 181.284 22.75C181.3 22.75 181.315 22.75 181.331 22.75C181.346 22.75 181.362 22.75 181.378 22.75C181.393 22.75 181.409 22.75 181.424 22.75C181.44 22.75 181.456 22.75 181.471 22.75C181.487 22.75 181.503 22.75 181.518 22.75C181.534 22.75 181.549 22.75 181.565 22.75C181.581 22.75 181.596 22.75 181.612 22.75C181.628 22.75 181.643 22.75 181.659 22.75C181.675 22.75 181.69 22.75 181.706 22.75C181.722 22.75 181.737 22.75 181.753 22.75C181.769 22.75 181.784 22.75 181.8 22.75C181.816 22.75 181.831 22.75 181.847 22.75C181.863 22.75 181.878 22.75 181.894 22.75C181.91 22.75 181.926 22.75 181.941 22.75C181.957 22.75 181.973 22.75 181.989 22.75C182.004 22.75 182.02 22.75 182.036 22.75C182.051 22.75 182.067 22.75 182.083 22.75C182.099 22.75 182.114 22.75 182.13 22.75C182.146 22.75 182.162 22.75 182.178 22.75C182.193 22.75 182.209 22.75 182.225 22.75C182.241 22.75 182.256 22.75 182.272 22.75C182.288 22.75 182.304 22.75 182.32 22.75C182.335 22.75 182.351 22.75 182.367 22.75C182.383 22.75 182.399 22.75 182.414 22.75C182.43 22.75 182.446 22.75 182.462 22.75C182.478 22.75 182.494 22.75 182.509 22.75C182.525 22.75 182.541 22.75 182.557 22.75C182.573 22.75 182.589 22.75 182.604 22.75C182.62 22.75 182.636 22.75 182.652 22.75C182.668 22.75 182.684 22.75 182.7 22.75C182.715 22.75 182.731 22.75 182.747 22.75C182.763 22.75 182.779 22.75 182.795 22.75C182.811 22.75 182.827 22.75 182.843 22.75C182.858 22.75 182.874 22.75 182.89 22.75C182.906 22.75 182.922 22.75 182.938 22.75C182.954 22.75 182.97 22.75 182.986 22.75C183.002 22.75 183.018 22.75 183.034 22.75C183.049 22.75 183.065 22.75 183.081 22.75C183.097 22.75 183.113 22.75 183.129 22.75C183.145 22.75 183.161 22.75 183.177 22.75C183.193 22.75 183.209 22.75 183.225 22.75C183.241 22.75 183.257 22.75 183.273 22.75C183.289 22.75 183.305 22.75 183.321 22.75C183.337 22.75 183.353 22.75 183.369 22.75C183.385 22.75 183.401 22.75 183.417 22.75C183.433 22.75 183.449 22.75 183.465 22.75C183.481 22.75 183.497 22.75 183.513 22.75C183.529 22.75 183.545 22.75 183.561 22.75C183.577 22.75 183.593 22.75 183.609 22.75C183.625 22.75 183.641 22.75 183.657 22.75C183.673 22.75 183.689 22.75 183.705 22.75C183.721 22.75 183.737 22.75 183.753 22.75C183.769 22.75 183.785 22.75 183.801 22.75C183.817 22.75 183.833 22.75 183.849 22.75C183.865 22.75 183.882 22.75 183.898 22.75C183.914 22.75 183.93 22.75 183.946 22.75C183.962 22.75 183.978 22.75 183.994 22.75C184.01 22.75 184.026 22.75 184.042 22.75C184.058 22.75 184.074 22.75 184.091 22.75C184.107 22.75 184.123 22.75 184.139 22.75C184.155 22.75 184.171 22.75 184.187 22.75C184.203 22.75 184.219 22.75 184.236 22.75C184.252 22.75 184.268 22.75 184.284 22.75C184.3 22.75 184.316 22.75 184.332 22.75C184.348 22.75 184.365 22.75 184.381 22.75C184.397 22.75 184.413 22.75 184.429 22.75C184.445 22.75 184.461 22.75 184.478 22.75C184.494 22.75 184.51 22.75 184.526 22.75C184.542 22.75 184.558 22.75 184.574 22.75C184.591 22.75 184.607 22.75 184.623 22.75C184.639 22.75 184.655 22.75 184.671 22.75C184.688 22.75 184.704 22.75 184.72 22.75C184.736 22.75 184.752 22.75 184.768 22.75C184.785 22.75 184.801 22.75 184.817 22.75C184.833 22.75 184.849 22.75 184.866 22.75C184.882 22.75 184.898 22.75 184.914 22.75C184.93 22.75 184.947 22.75 184.963 22.75C184.979 22.75 184.995 22.75 185.011 22.75C185.028 22.75 185.044 22.75 185.06 22.75C185.076 22.75 185.093 22.75 185.109 22.75C185.125 22.75 185.141 22.75 185.157 22.75C185.174 22.75 185.19 22.75 185.206 22.75C185.222 22.75 185.239 22.75 185.255 22.75C185.271 22.75 185.287 22.75 185.304 22.75C185.32 22.75 185.336 22.75 185.352 22.75C185.369 22.75 185.385 22.75 185.401 22.75C185.417 22.75 185.434 22.75 185.45 22.75C185.466 22.75 185.482 22.75 185.499 22.75C185.515 22.75 185.531 22.75 185.547 22.75C185.564 22.75 185.58 22.75 185.596 22.75C185.612 22.75 185.629 22.75 185.645 22.75C185.661 22.75 185.678 22.75 185.694 22.75C185.71 22.75 185.726 22.75 185.743 22.75C185.759 22.75 185.775 22.75 185.792 22.75C185.808 22.75 185.824 22.75 185.84 22.75C185.857 22.75 185.873 22.75 185.889 22.75C185.906 22.75 185.922 22.75 185.938 22.75C185.954 22.75 185.971 22.75 185.987 22.75C186.003 22.75 186.02 22.75 186.036 22.75C186.052 22.75 186.069 22.75 186.085 22.75C186.101 22.75 186.118 22.75 186.134 22.75C186.15 22.75 186.166 22.75 186.183 22.75C186.199 22.75 186.215 22.75 186.232 22.75C186.248 22.75 186.264 22.75 186.281 22.75C186.297 22.75 186.313 22.75 186.33 22.75C186.346 22.75 186.362 22.75 186.379 22.75C186.395 22.75 186.411 22.75 186.428 22.75C186.444 22.75 186.46 22.75 186.477 22.75C186.493 22.75 186.509 22.75 186.526 22.75C186.542 22.75 186.558 22.75 186.575 22.75C186.591 22.75 186.608 22.75 186.624 22.75C186.64 22.75 186.657 22.75 186.673 22.75C186.689 22.75 186.706 22.75 186.722 22.75C186.738 22.75 186.755 22.75 186.771 22.75C186.787 22.75 186.804 22.75 186.82 22.75C186.836 22.75 186.853 22.75 186.869 22.75C186.886 22.75 186.902 22.75 186.918 22.75C186.935 22.75 186.951 22.75 186.967 22.75C186.984 22.75 187 22.75 187.017 22.75C187.033 22.75 187.049 22.75 187.066 22.75C187.082 22.75 187.098 22.75 187.115 22.75C187.131 22.75 187.148 22.75 187.164 22.75C187.18 22.75 187.197 22.75 187.213 22.75C187.229 22.75 187.246 22.75 187.262 22.75C187.279 22.75 187.295 22.75 187.311 22.75C187.328 22.75 187.344 22.75 187.36 22.75C187.377 22.75 187.393 22.75 187.41 22.75C187.426 22.75 187.442 22.75 187.459 22.75C187.475 22.75 187.492 22.75 187.508 22.75C187.524 22.75 187.541 22.75 187.557 22.75C187.574 22.75 187.59 22.75 187.606 22.75C187.623 22.75 187.639 22.75 187.656 22.75C187.672 22.75 187.688 22.75 187.705 22.75C187.721 22.75 187.738 22.75 187.754 22.75C187.77 22.75 187.787 22.75 187.803 22.75C187.82 22.75 187.836 22.75 187.852 22.75C187.869 22.75 187.885 22.75 187.902 22.75C187.918 22.75 187.934 22.75 187.951 22.75C187.967 22.75 187.984 22.75 188 22.75V21.25C187.984 21.25 187.967 21.25 187.951 21.25C187.934 21.25 187.918 21.25 187.902 21.25C187.885 21.25 187.869 21.25 187.852 21.25C187.836 21.25 187.82 21.25 187.803 21.25C187.787 21.25 187.77 21.25 187.754 21.25C187.738 21.25 187.721 21.25 187.705 21.25C187.688 21.25 187.672 21.25 187.656 21.25C187.639 21.25 187.623 21.25 187.606 21.25C187.59 21.25 187.574 21.25 187.557 21.25C187.541 21.25 187.524 21.25 187.508 21.25C187.492 21.25 187.475 21.25 187.459 21.25C187.442 21.25 187.426 21.25 187.41 21.25C187.393 21.25 187.377 21.25 187.36 21.25C187.344 21.25 187.328 21.25 187.311 21.25C187.295 21.25 187.279 21.25 187.262 21.25C187.246 21.25 187.229 21.25 187.213 21.25C187.197 21.25 187.18 21.25 187.164 21.25C187.148 21.25 187.131 21.25 187.115 21.25C187.098 21.25 187.082 21.25 187.066 21.25C187.049 21.25 187.033 21.25 187.017 21.25C187 21.25 186.984 21.25 186.967 21.25C186.951 21.25 186.935 21.25 186.918 21.25C186.902 21.25 186.886 21.25 186.869 21.25C186.853 21.25 186.836 21.25 186.82 21.25C186.804 21.25 186.787 21.25 186.771 21.25C186.755 21.25 186.738 21.25 186.722 21.25C186.706 21.25 186.689 21.25 186.673 21.25C186.657 21.25 186.64 21.25 186.624 21.25C186.608 21.25 186.591 21.25 186.575 21.25C186.558 21.25 186.542 21.25 186.526 21.25C186.509 21.25 186.493 21.25 186.477 21.25C186.46 21.25 186.444 21.25 186.428 21.25C186.411 21.25 186.395 21.25 186.379 21.25C186.362 21.25 186.346 21.25 186.33 21.25C186.313 21.25 186.297 21.25 186.281 21.25C186.264 21.25 186.248 21.25 186.232 21.25C186.215 21.25 186.199 21.25 186.183 21.25C186.166 21.25 186.15 21.25 186.134 21.25C186.118 21.25 186.101 21.25 186.085 21.25C186.069 21.25 186.052 21.25 186.036 21.25C186.02 21.25 186.003 21.25 185.987 21.25C185.971 21.25 185.954 21.25 185.938 21.25C185.922 21.25 185.906 21.25 185.889 21.25C185.873 21.25 185.857 21.25 185.84 21.25C185.824 21.25 185.808 21.25 185.792 21.25C185.775 21.25 185.759 21.25 185.743 21.25C185.726 21.25 185.71 21.25 185.694 21.25C185.678 21.25 185.661 21.25 185.645 21.25C185.629 21.25 185.612 21.25 185.596 21.25C185.58 21.25 185.564 21.25 185.547 21.25C185.531 21.25 185.515 21.25 185.499 21.25C185.482 21.25 185.466 21.25 185.45 21.25C185.434 21.25 185.417 21.25 185.401 21.25C185.385 21.25 185.369 21.25 185.352 21.25C185.336 21.25 185.32 21.25 185.304 21.25C185.287 21.25 185.271 21.25 185.255 21.25C185.239 21.25 185.222 21.25 185.206 21.25C185.19 21.25 185.174 21.25 185.157 21.25C185.141 21.25 185.125 21.25 185.109 21.25C185.093 21.25 185.076 21.25 185.06 21.25C185.044 21.25 185.028 21.25 185.011 21.25C184.995 21.25 184.979 21.25 184.963 21.25C184.947 21.25 184.93 21.25 184.914 21.25C184.898 21.25 184.882 21.25 184.866 21.25C184.849 21.25 184.833 21.25 184.817 21.25C184.801 21.25 184.785 21.25 184.768 21.25C184.752 21.25 184.736 21.25 184.72 21.25C184.704 21.25 184.688 21.25 184.671 21.25C184.655 21.25 184.639 21.25 184.623 21.25C184.607 21.25 184.591 21.25 184.574 21.25C184.558 21.25 184.542 21.25 184.526 21.25C184.51 21.25 184.494 21.25 184.478 21.25C184.461 21.25 184.445 21.25 184.429 21.25C184.413 21.25 184.397 21.25 184.381 21.25C184.365 21.25 184.348 21.25 184.332 21.25C184.316 21.25 184.3 21.25 184.284 21.25C184.268 21.25 184.252 21.25 184.236 21.25C184.219 21.25 184.203 21.25 184.187 21.25C184.171 21.25 184.155 21.25 184.139 21.25C184.123 21.25 184.107 21.25 184.091 21.25C184.074 21.25 184.058 21.25 184.042 21.25C184.026 21.25 184.01 21.25 183.994 21.25C183.978 21.25 183.962 21.25 183.946 21.25C183.93 21.25 183.914 21.25 183.898 21.25C183.882 21.25 183.865 21.25 183.849 21.25C183.833 21.25 183.817 21.25 183.801 21.25C183.785 21.25 183.769 21.25 183.753 21.25C183.737 21.25 183.721 21.25 183.705 21.25C183.689 21.25 183.673 21.25 183.657 21.25C183.641 21.25 183.625 21.25 183.609 21.25C183.593 21.25 183.577 21.25 183.561 21.25C183.545 21.25 183.529 21.25 183.513 21.25C183.497 21.25 183.481 21.25 183.465 21.25C183.449 21.25 183.433 21.25 183.417 21.25C183.401 21.25 183.385 21.25 183.369 21.25C183.353 21.25 183.337 21.25 183.321 21.25C183.305 21.25 183.289 21.25 183.273 21.25C183.257 21.25 183.241 21.25 183.225 21.25C183.209 21.25 183.193 21.25 183.177 21.25C183.161 21.25 183.145 21.25 183.129 21.25C183.113 21.25 183.097 21.25 183.081 21.25C183.065 21.25 183.049 21.25 183.034 21.25C183.018 21.25 183.002 21.25 182.986 21.25C182.97 21.25 182.954 21.25 182.938 21.25C182.922 21.25 182.906 21.25 182.89 21.25C182.874 21.25 182.858 21.25 182.843 21.25C182.827 21.25 182.811 21.25 182.795 21.25C182.779 21.25 182.763 21.25 182.747 21.25C182.731 21.25 182.715 21.25 182.7 21.25C182.684 21.25 182.668 21.25 182.652 21.25C182.636 21.25 182.62 21.25 182.604 21.25C182.589 21.25 182.573 21.25 182.557 21.25C182.541 21.25 182.525 21.25 182.509 21.25C182.494 21.25 182.478 21.25 182.462 21.25C182.446 21.25 182.43 21.25 182.414 21.25C182.399 21.25 182.383 21.25 182.367 21.25C182.351 21.25 182.335 21.25 182.32 21.25C182.304 21.25 182.288 21.25 182.272 21.25C182.256 21.25 182.241 21.25 182.225 21.25C182.209 21.25 182.193 21.25 182.178 21.25C182.162 21.25 182.146 21.25 182.13 21.25C182.114 21.25 182.099 21.25 182.083 21.25C182.067 21.25 182.051 21.25 182.036 21.25C182.02 21.25 182.004 21.25 181.989 21.25C181.973 21.25 181.957 21.25 181.941 21.25C181.926 21.25 181.91 21.25 181.894 21.25C181.878 21.25 181.863 21.25 181.847 21.25C181.831 21.25 181.816 21.25 181.8 21.25C181.784 21.25 181.769 21.25 181.753 21.25C181.737 21.25 181.722 21.25 181.706 21.25C181.69 21.25 181.675 21.25 181.659 21.25C181.643 21.25 181.628 21.25 181.612 21.25C181.596 21.25 181.581 21.25 181.565 21.25C181.549 21.25 181.534 21.25 181.518 21.25C181.503 21.25 181.487 21.25 181.471 21.25C181.456 21.25 181.44 21.25 181.424 21.25C181.409 21.25 181.393 21.25 181.378 21.25C181.362 21.25 181.346 21.25 181.331 21.25C181.315 21.25 181.3 21.25 181.284 21.25C181.269 21.25 181.253 21.25 181.237 21.25C181.222 21.25 181.206 21.25 181.191 21.25C181.175 21.25 181.16 21.25 181.144 21.25C181.129 21.25 181.113 21.25 181.097 21.25C181.082 21.25 181.066 21.25 181.051 21.25C181.035 21.25 181.02 21.25 181.004 21.25C180.989 21.25 180.973 21.25 180.958 21.25C180.942 21.25 180.927 21.25 180.911 21.25C180.896 21.25 180.88 21.25 180.865 21.25C180.85 21.25 180.834 21.25 180.819 21.25C180.803 21.25 180.788 21.25 180.772 21.25C180.757 21.25 180.741 21.25 180.726 21.25C180.71 21.25 180.695 21.25 180.68 21.25C180.664 21.25 180.649 21.25 180.633 21.25C180.618 21.25 180.603 21.25 180.587 21.25C180.572 21.25 180.556 21.25 180.541 21.25C180.526 21.25 180.51 21.25 180.495 21.25C180.479 21.25 180.464 21.25 180.449 21.25C180.433 21.25 180.418 21.25 180.403 21.25C180.387 21.25 180.372 21.25 180.357 21.25C180.341 21.25 180.326 21.25 180.311 21.25C180.295 21.25 180.28 21.25 180.265 21.25C180.249 21.25 180.234 21.25 180.219 21.25C180.203 21.25 180.188 21.25 180.173 21.25C180.157 21.25 180.142 21.25 180.127 21.25C180.112 21.25 180.096 21.25 180.081 21.25C180.066 21.25 180.051 21.25 180.035 21.25C180.02 21.25 180.005 21.25 179.99 21.25C179.974 21.25 179.959 21.25 179.944 21.25C179.929 21.25 179.913 21.25 179.898 21.25C179.883 21.25 179.868 21.25 179.853 21.25C179.837 21.25 179.822 21.25 179.807 21.25C179.792 21.25 179.777 21.25 179.761 21.25C179.746 21.25 179.731 21.25 179.716 21.25C179.701 21.25 179.686 21.25 179.671 21.25C179.655 21.25 179.64 21.25 179.625 21.25C179.61 21.25 179.595 21.25 179.58 21.25C179.565 21.25 179.55 21.25 179.534 21.25C179.519 21.25 179.504 21.25 179.489 21.25C179.474 21.25 179.459 21.25 179.444 21.25C179.429 21.25 179.414 21.25 179.399 21.25C179.384 21.25 179.369 21.25 179.353 21.25C179.338 21.25 179.323 21.25 179.308 21.25C179.293 21.25 179.278 21.25 179.263 21.25C179.248 21.25 179.233 21.25 179.218 21.25C179.203 21.25 179.188 21.25 179.173 21.25C179.158 21.25 179.143 21.25 179.128 21.25C179.113 21.25 179.098 21.25 179.083 21.25C179.068 21.25 179.053 21.25 179.038 21.25C179.023 21.25 179.009 21.25 178.994 21.25C178.979 21.25 178.964 21.25 178.949 21.25C178.934 21.25 178.919 21.25 178.904 21.25C178.889 21.25 178.874 21.25 178.859 21.25C178.844 21.25 178.83 21.25 178.815 21.25C178.8 21.25 178.785 21.25 178.77 21.25C178.755 21.25 178.74 21.25 178.726 21.25C178.711 21.25 178.696 21.25 178.681 21.25C178.666 21.25 178.651 21.25 178.637 21.25C178.622 21.25 178.607 21.25 178.592 21.25C178.577 21.25 178.563 21.25 178.548 21.25C178.533 21.25 178.518 21.25 178.503 21.25C178.489 21.25 178.474 21.25 178.459 21.25C178.444 21.25 178.43 21.25 178.415 21.25C178.4 21.25 178.385 21.25 178.371 21.25C178.356 21.25 178.341 21.25 178.326 21.25C178.312 21.25 178.297 21.25 178.282 21.25C178.268 21.25 178.253 21.25 178.238 21.25C178.224 21.25 178.209 21.25 178.194 21.25C178.18 21.25 178.165 21.25 178.15 21.25C178.136 21.25 178.121 21.25 178.106 21.25C178.092 21.25 178.077 21.25 178.063 21.25C178.048 21.25 178.033 21.25 178.019 21.25C178.004 21.25 177.99 21.25 177.975 21.25C177.96 21.25 177.946 21.25 177.931 21.25C177.917 21.25 177.902 21.25 177.888 21.25C177.873 21.25 177.858 21.25 177.844 21.25C177.829 21.25 177.815 21.25 177.8 21.25C177.786 21.25 177.771 21.25 177.757 21.25C177.742 21.25 177.728 21.25 177.713 21.25C177.699 21.25 177.684 21.25 177.67 21.25C177.655 21.25 177.641 21.25 177.627 21.25C177.612 21.25 177.598 21.25 177.583 21.25C177.569 21.25 177.554 21.25 177.54 21.25C177.526 21.25 177.511 21.25 177.497 21.25C177.482 21.25 177.468 21.25 177.454 21.25C177.439 21.25 177.425 21.25 177.41 21.25C177.396 21.25 177.382 21.25 177.367 21.25C177.353 21.25 177.339 21.25 177.324 21.25C177.31 21.25 177.296 21.25 177.281 21.25C177.267 21.25 177.253 21.25 177.238 21.25C177.224 21.25 177.21 21.25 177.196 21.25C177.181 21.25 177.167 21.25 177.153 21.25C177.138 21.25 177.124 21.25 177.11 21.25C177.096 21.25 177.081 21.25 177.067 21.25C177.053 21.25 177.039 21.25 177.025 21.25C177.01 21.25 176.996 21.25 176.982 21.25C176.968 21.25 176.954 21.25 176.939 21.25C176.925 21.25 176.911 21.25 176.897 21.25C176.883 21.25 176.869 21.25 176.854 21.25C176.84 21.25 176.826 21.25 176.812 21.25C176.798 21.25 176.784 21.25 176.77 21.25C176.756 21.25 176.742 21.25 176.727 21.25C176.713 21.25 176.699 21.25 176.685 21.25C176.671 21.25 176.657 21.25 176.643 21.25C176.629 21.25 176.615 21.25 176.601 21.25C176.587 21.25 176.573 21.25 176.559 21.25C176.545 21.25 176.531 21.25 176.517 21.25C176.503 21.25 176.489 21.25 176.475 21.25C176.461 21.25 176.447 21.25 176.433 21.25C176.419 21.25 176.405 21.25 176.391 21.25C176.377 21.25 176.363 21.25 176.349 21.25C176.336 21.25 176.322 21.25 176.308 21.25C176.294 21.25 176.28 21.25 176.266 21.25C176.252 21.25 176.238 21.25 176.224 21.25C176.211 21.25 176.197 21.25 176.183 21.25C176.169 21.25 176.155 21.25 176.141 21.25C176.128 21.25 176.114 21.25 176.1 21.25C176.086 21.25 176.072 21.25 176.059 21.25C176.045 21.25 176.031 21.25 176.017 21.25C176.004 21.25 175.99 21.25 175.976 21.25C175.962 21.25 175.949 21.25 175.935 21.25C175.921 21.25 175.907 21.25 175.894 21.25C175.88 21.25 175.866 21.25 175.853 21.25C175.839 21.25 175.825 21.25 175.812 21.25C175.798 21.25 175.784 21.25 175.771 21.25C175.757 21.25 175.743 21.25 175.73 21.25C175.716 21.25 175.702 21.25 175.689 21.25C175.675 21.25 175.662 21.25 175.648 21.25C175.635 21.25 175.621 21.25 175.607 21.25C175.594 21.25 175.58 21.25 175.567 21.25C175.553 21.25 175.54 21.25 175.526 21.25C175.513 21.25 175.499 21.25 175.486 21.25C175.472 21.25 175.459 21.25 175.445 21.25C175.432 21.25 175.418 21.25 175.405 21.25C175.391 21.25 175.378 21.25 175.364 21.25C175.351 21.25 175.337 21.25 175.324 21.25C175.311 21.25 175.297 21.25 175.284 21.25C175.27 21.25 175.257 21.25 175.244 21.25C175.23 21.25 175.217 21.25 175.203 21.25C175.19 21.25 175.177 21.25 175.163 21.25C175.15 21.25 175.137 21.25 175.123 21.25C175.11 21.25 175.097 21.25 175.084 21.25C175.07 21.25 175.057 21.25 175.044 21.25C175.03 21.25 175.017 21.25 175.004 21.25C174.991 21.25 174.977 21.25 174.964 21.25C174.951 21.25 174.938 21.25 174.924 21.25C174.911 21.25 174.898 21.25 174.885 21.25C174.872 21.25 174.859 21.25 174.845 21.25C174.832 21.25 174.819 21.25 174.806 21.25C174.793 21.25 174.78 21.25 174.766 21.25C174.753 21.25 174.74 21.25 174.727 21.25C174.714 21.25 174.701 21.25 174.688 21.25C174.675 21.25 174.662 21.25 174.649 21.25C174.636 21.25 174.623 21.25 174.609 21.25C174.596 21.25 174.583 21.25 174.57 21.25C174.557 21.25 174.544 21.25 174.531 21.25C174.518 21.25 174.505 21.25 174.492 21.25C174.479 21.25 174.466 21.25 174.454 21.25C174.441 21.25 174.428 21.25 174.415 21.25C174.402 21.25 174.389 21.25 174.376 21.25C174.363 21.25 174.35 21.25 174.337 21.25C174.324 21.25 174.312 21.25 174.299 21.25C174.286 21.25 174.273 21.25 174.26 21.25C174.247 21.25 174.234 21.25 174.222 21.25C174.209 21.25 174.196 21.25 174.183 21.25C174.17 21.25 174.158 21.25 174.145 21.25C174.132 21.25 174.119 21.25 174.107 21.25C174.094 21.25 174.081 21.25 174.068 21.25C174.056 21.25 174.043 21.25 174.03 21.25C174.018 21.25 174.005 21.25 173.992 21.25C173.98 21.25 173.967 21.25 173.954 21.25C173.942 21.25 173.929 21.25 173.916 21.25C173.904 21.25 173.891 21.25 173.878 21.25C173.866 21.25 173.853 21.25 173.841 21.25C173.828 21.25 173.816 21.25 173.803 21.25C173.79 21.25 173.778 21.25 173.765 21.25C173.753 21.25 173.74 21.25 173.728 21.25C173.715 21.25 173.703 21.25 173.69 21.25C173.678 21.25 173.665 21.25 173.653 21.25C173.64 21.25 173.628 21.25 173.615 21.25C173.603 21.25 173.591 21.25 173.578 21.25C173.566 21.25 173.553 21.25 173.541 21.25C173.529 21.25 173.516 21.25 173.504 21.25C173.491 21.25 173.479 21.25 173.467 21.25C173.454 21.25 173.442 21.25 173.43 21.25C173.417 21.25 173.405 21.25 173.393 21.25C173.38 21.25 173.368 21.25 173.356 21.25C173.344 21.25 173.331 21.25 173.319 21.25C173.307 21.25 173.295 21.25 173.282 21.25C173.27 21.25 173.258 21.25 173.246 21.25C173.234 21.25 173.221 21.25 173.209 21.25C173.197 21.25 173.185 21.25 173.173 21.25C173.161 21.25 173.148 21.25 173.136 21.25C173.124 21.25 173.112 21.25 173.1 21.25C173.088 21.25 173.076 21.25 173.064 21.25C173.052 21.25 173.04 21.25 173.027 21.25C173.015 21.25 173.003 21.25 172.991 21.25C172.979 21.25 172.967 21.25 172.955 21.25C172.943 21.25 172.931 21.25 172.919 21.25C172.907 21.25 172.895 21.25 172.883 21.25C172.872 21.25 172.86 21.25 172.848 21.25C172.836 21.25 172.824 21.25 172.812 21.25C172.8 21.25 172.788 21.25 172.776 21.25C172.764 21.25 172.752 21.25 172.741 21.25C172.729 21.25 172.717 21.25 172.705 21.25C172.693 21.25 172.681 21.25 172.67 21.25C172.658 21.25 172.646 21.25 172.634 21.25C172.623 21.25 172.611 21.25 172.599 21.25C172.587 21.25 172.576 21.25 172.564 21.25C172.552 21.25 172.54 21.25 172.529 21.25C172.517 21.25 172.505 21.25 172.494 21.25C172.482 21.25 172.47 21.25 172.459 21.25C172.447 21.25 172.435 21.25 172.424 21.25C172.412 21.25 172.401 21.25 172.389 21.25C172.377 21.25 172.366 21.25 172.354 21.25C172.343 21.25 172.331 21.25 172.32 21.25C172.308 21.25 172.297 21.25 172.285 21.25C172.274 21.25 172.262 21.25 172.251 21.25C172.239 21.25 172.228 21.25 172.216 21.25C172.205 21.25 172.193 21.25 172.182 21.25C172.17 21.25 172.159 21.25 172.148 21.25C172.136 21.25 172.125 21.25 172.113 21.25C172.102 21.25 172.091 21.25 172.079 21.25C172.068 21.25 172.057 21.25 172.045 21.25C172.034 21.25 172.023 21.25 172.011 21.25C172 21.25 171.989 21.25 171.977 21.25C171.966 21.25 171.955 21.25 171.944 21.25C171.932 21.25 171.921 21.25 171.91 21.25C171.899 21.25 171.888 21.25 171.876 21.25C171.865 21.25 171.854 21.25 171.843 21.25C171.832 21.25 171.821 21.25 171.809 21.25C171.798 21.25 171.787 21.25 171.776 21.25C171.765 21.25 171.754 21.25 171.743 21.25C171.732 21.25 171.721 21.25 171.71 21.25C171.699 21.25 171.688 21.25 171.677 21.25C171.665 21.25 171.654 21.25 171.643 21.25C171.632 21.25 171.621 21.25 171.611 21.25C171.6 21.25 171.589 21.25 171.578 21.25C171.567 21.25 171.556 21.25 171.545 21.25C171.534 21.25 171.523 21.25 171.512 21.25C171.501 21.25 171.49 21.25 171.48 21.25C171.469 21.25 171.458 21.25 171.447 21.25C171.436 21.25 171.425 21.25 171.415 21.25C171.404 21.25 171.393 21.25 171.382 21.25C171.371 21.25 171.361 21.25 171.35 21.25C171.339 21.25 171.329 21.25 171.318 21.25C171.307 21.25 171.296 21.25 171.286 21.25C171.275 21.25 171.264 21.25 171.254 21.25C171.243 21.25 171.232 21.25 171.222 21.25C171.211 21.25 171.201 21.25 171.19 21.25C171.179 21.25 171.169 21.25 171.158 21.25C171.148 21.25 171.137 21.25 171.127 21.25C171.116 21.25 171.105 21.25 171.095 21.25C171.084 21.25 171.074 21.25 171.063 21.25C171.053 21.25 171.042 21.25 171.032 21.25C171.022 21.25 171.011 21.25 171.001 21.25C170.99 21.25 170.98 21.25 170.969 21.25C170.959 21.25 170.949 21.25 170.938 21.25C170.928 21.25 170.918 21.25 170.907 21.25C170.897 21.25 170.887 21.25 170.876 21.25C170.866 21.25 170.856 21.25 170.845 21.25C170.835 21.25 170.825 21.25 170.815 21.25C170.804 21.25 170.794 21.25 170.784 21.25C170.774 21.25 170.764 21.25 170.753 21.25C170.743 21.25 170.733 21.25 170.723 21.25C170.713 21.25 170.703 21.25 170.692 21.25C170.682 21.25 170.672 21.25 170.662 21.25C170.652 21.25 170.642 21.25 170.632 21.25C170.622 21.25 170.612 21.25 170.602 21.25C170.592 21.25 170.582 21.25 170.572 21.25C170.562 21.25 170.552 21.25 170.542 21.25C170.532 21.25 170.522 21.25 170.512 21.25C170.502 21.25 170.492 21.25 170.482 21.25C170.472 21.25 170.462 21.25 170.452 21.25C170.442 21.25 170.432 21.25 170.423 21.25C170.413 21.25 170.403 21.25 170.393 21.25C170.383 21.25 170.373 21.25 170.364 21.25C170.354 21.25 170.344 21.25 170.334 21.25C170.325 21.25 170.315 21.25 170.305 21.25C170.295 21.25 170.286 21.25 170.276 21.25C170.266 21.25 170.257 21.25 170.247 21.25C170.237 21.25 170.228 21.25 170.218 21.25C170.208 21.25 170.199 21.25 170.189 21.25C170.179 21.25 170.17 21.25 170.16 21.25C170.151 21.25 170.141 21.25 170.132 21.25C170.122 21.25 170.113 21.25 170.103 21.25C170.093 21.25 170.084 21.25 170.075 21.25C170.065 21.25 170.056 21.25 170.046 21.25C170.037 21.25 170.027 21.25 170.018 21.25C170.008 21.25 169.999 21.25 169.99 21.25C169.98 21.25 169.971 21.25 169.961 21.25C169.952 21.25 169.943 21.25 169.933 21.25C169.924 21.25 169.915 21.25 169.906 21.25C169.896 21.25 169.887 21.25 169.878 21.25C169.868 21.25 169.859 21.25 169.85 21.25C169.841 21.25 169.832 21.25 169.822 21.25C169.813 21.25 169.804 21.25 169.795 21.25C169.786 21.25 169.776 21.25 169.767 21.25C169.758 21.25 169.749 21.25 169.74 21.25C169.731 21.25 169.722 21.25 169.713 21.25C169.704 21.25 169.695 21.25 169.686 21.25C169.677 21.25 169.668 21.25 169.659 21.25C169.65 21.25 169.641 21.25 169.632 21.25C169.623 21.25 169.614 21.25 169.605 21.25C169.596 21.25 169.587 21.25 169.578 21.25C169.569 21.25 169.56 21.25 169.551 21.25C169.542 21.25 169.534 21.25 169.525 21.25C169.516 21.25 169.507 21.25 169.498 21.25C169.489 21.25 169.481 21.25 169.472 21.25C169.463 21.25 169.454 21.25 169.446 21.25C169.437 21.25 169.428 21.25 169.419 21.25C169.411 21.25 169.402 21.25 169.393 21.25C169.385 21.25 169.376 21.25 169.367 21.25C169.359 21.25 169.35 21.25 169.342 21.25C169.333 21.25 169.324 21.25 169.316 21.25C169.307 21.25 169.299 21.25 169.29 21.25C169.282 21.25 169.273 21.25 169.265 21.25C169.256 21.25 169.248 21.25 169.239 21.25C169.231 21.25 169.222 21.25 169.214 21.25C169.205 21.25 169.197 21.25 169.188 21.25C169.18 21.25 169.172 21.25 169.163 21.25C169.155 21.25 169.147 21.25 169.138 21.25C169.13 21.25 169.122 21.25 169.113 21.25C169.105 21.25 169.097 21.25 169.088 21.25C169.08 21.25 169.072 21.25 169.064 21.25C169.055 21.25 169.047 21.25 169.039 21.25C169.031 21.25 169.023 21.25 169.014 21.25C169.006 21.25 168.998 21.25 168.99 21.25C168.982 21.25 168.974 21.25 168.966 21.25C168.958 21.25 168.949 21.25 168.941 21.25C168.933 21.25 168.925 21.25 168.917 21.25C168.909 21.25 168.901 21.25 168.893 21.25C168.885 21.25 168.877 21.25 168.869 21.25C168.861 21.25 168.853 21.25 168.845 21.25C168.838 21.25 168.83 21.25 168.822 21.25C168.814 21.25 168.806 21.25 168.798 21.25C168.79 21.25 168.782 21.25 168.775 21.25C168.767 21.25 168.759 21.25 168.751 21.25C168.743 21.25 168.736 21.25 168.728 21.25C168.72 21.25 168.712 21.25 168.705 21.25C168.697 21.25 168.689 21.25 168.682 21.25C168.674 21.25 168.666 21.25 168.659 21.25C168.651 21.25 168.643 21.25 168.636 21.25C168.628 21.25 168.621 21.25 168.613 21.25C168.605 21.25 168.598 21.25 168.59 21.25C168.583 21.25 168.575 21.25 168.568 21.25C168.56 21.25 168.553 21.25 168.545 21.25C168.538 21.25 168.53 21.25 168.523 21.25C168.516 21.25 168.508 21.25 168.501 21.25C168.493 21.25 168.486 21.25 168.479 21.25C168.471 21.25 168.464 21.25 168.457 21.25C168.449 21.25 168.442 21.25 168.435 21.25C168.427 21.25 168.42 21.25 168.413 21.25C168.406 21.25 168.398 21.25 168.391 21.25C168.384 21.25 168.377 21.25 168.37 21.25C168.362 21.25 168.355 21.25 168.348 21.25C168.341 21.25 168.334 21.25 168.327 21.25C168.32 21.25 168.313 21.25 168.306 21.25C168.298 21.25 168.291 21.25 168.284 21.25C168.277 21.25 168.27 21.25 168.263 21.25C168.256 21.25 168.249 21.25 168.242 21.25C168.235 21.25 168.229 21.25 168.222 21.25C168.215 21.25 168.208 21.25 168.201 21.25C168.194 21.25 168.187 21.25 168.18 21.25C168.173 21.25 168.167 21.25 168.16 21.25C168.153 21.25 168.146 21.25 168.139 21.25C168.133 21.25 168.126 21.25 168.119 21.25C168.112 21.25 168.106 21.25 168.099 21.25C168.092 21.25 168.086 21.25 168.079 21.25C168.072 21.25 168.066 21.25 168.059 21.25C168.052 21.25 168.046 21.25 168.039 21.25C168.033 21.25 168.026 21.25 168.02 21.25C168.013 21.25 168.007 21.25 168 21.25V22.75ZM188 22.75C190.117 22.75 191.864 22.2192 193.061 20.8733C194.239 19.5478 194.75 17.5766 194.75 15H193.25C193.25 17.4234 192.761 18.9522 191.939 19.8767C191.136 20.7808 189.883 21.25 188 21.25V22.75ZM194.75 15C194.75 14.9902 194.75 14.9804 194.75 14.9706C194.75 14.9608 194.75 14.9509 194.75 14.941C194.75 14.9312 194.75 14.9213 194.75 14.9113C194.75 14.9014 194.75 14.8914 194.75 14.8814C194.75 14.8714 194.75 14.8614 194.75 14.8514C194.75 14.8413 194.75 14.8312 194.75 14.8211C194.75 14.811 194.75 14.8009 194.75 14.7907C194.75 14.7806 194.75 14.7704 194.75 14.7602C194.75 14.7499 194.75 14.7397 194.75 14.7294C194.75 14.7192 194.75 14.7089 194.75 14.6985C194.75 14.6882 194.75 14.6778 194.75 14.6675C194.75 14.6571 194.75 14.6467 194.75 14.6362C194.75 14.6258 194.75 14.6153 194.75 14.6048C194.75 14.5943 194.75 14.5838 194.75 14.5733C194.75 14.5627 194.75 14.5521 194.75 14.5415C194.75 14.5309 194.75 14.5203 194.75 14.5097C194.75 14.499 194.75 14.4883 194.75 14.4776C194.75 14.4669 194.75 14.4562 194.75 14.4454C194.75 14.4346 194.75 14.4238 194.75 14.413C194.75 14.4022 194.75 14.3914 194.75 14.3805C194.75 14.3696 194.75 14.3587 194.75 14.3478C194.75 14.3369 194.75 14.3259 194.75 14.3149C194.75 14.304 194.75 14.293 194.75 14.2819C194.75 14.2709 194.75 14.2598 194.75 14.2488C194.75 14.2377 194.75 14.2266 194.75 14.2154C194.75 14.2043 194.75 14.1931 194.75 14.1819C194.75 14.1708 194.75 14.1595 194.75 14.1483C194.75 14.1371 194.75 14.1258 194.75 14.1145C194.75 14.1032 194.75 14.0919 194.75 14.0806C194.75 14.0692 194.75 14.0578 194.75 14.0464C194.75 14.0351 194.75 14.0236 194.75 14.0122C194.75 14.0007 194.75 13.9893 194.75 13.9778C194.75 13.9663 194.75 13.9547 194.75 13.9432C194.75 13.9317 194.75 13.9201 194.75 13.9085C194.75 13.8969 194.75 13.8853 194.75 13.8736C194.75 13.862 194.75 13.8503 194.75 13.8386C194.75 13.8269 194.75 13.8152 194.75 13.8034C194.75 13.7917 194.75 13.7799 194.75 13.7681C194.75 13.7563 194.75 13.7445 194.75 13.7326C194.75 13.7208 194.75 13.7089 194.75 13.697C194.75 13.6851 194.75 13.6732 194.75 13.6612C194.75 13.6493 194.75 13.6373 194.75 13.6253C194.75 13.6133 194.75 13.6013 194.75 13.5892C194.75 13.5772 194.75 13.5651 194.75 13.553C194.75 13.5409 194.75 13.5288 194.75 13.5166C194.75 13.5045 194.75 13.4923 194.75 13.4801C194.75 13.4679 194.75 13.4557 194.75 13.4435C194.75 13.4312 194.75 13.419 194.75 13.4067C194.75 13.3944 194.75 13.3821 194.75 13.3698C194.75 13.3574 194.75 13.3451 194.75 13.3327C194.75 13.3203 194.75 13.3079 194.75 13.2954C194.75 13.283 194.75 13.2706 194.75 13.2581C194.75 13.2456 194.75 13.2331 194.75 13.2206C194.75 13.208 194.75 13.1955 194.75 13.1829C194.75 13.1704 194.75 13.1578 194.75 13.1451C194.75 13.1325 194.75 13.1199 194.75 13.1072C194.75 13.0945 194.75 13.0818 194.75 13.0691C194.75 13.0564 194.75 13.0437 194.75 13.0309C194.75 13.0182 194.75 13.0054 194.75 12.9926C194.75 12.9798 194.75 12.967 194.75 12.9541C194.75 12.9413 194.75 12.9284 194.75 12.9155C194.75 12.9026 194.75 12.8897 194.75 12.8767C194.75 12.8638 194.75 12.8508 194.75 12.8378C194.75 12.8249 194.75 12.8118 194.75 12.7988C194.75 12.7858 194.75 12.7727 194.75 12.7597C194.75 12.7466 194.75 12.7335 194.75 12.7204C194.75 12.7072 194.75 12.6941 194.75 12.6809C194.75 12.6678 194.75 12.6546 194.75 12.6414C194.75 12.6282 194.75 12.6149 194.75 12.6017C194.75 12.5884 194.75 12.5752 194.75 12.5619C194.75 12.5486 194.75 12.5352 194.75 12.5219C194.75 12.5086 194.75 12.4952 194.75 12.4818C194.75 12.4684 194.75 12.455 194.75 12.4416C194.75 12.4282 194.75 12.4147 194.75 12.4013C194.75 12.3878 194.75 12.3743 194.75 12.3608C194.75 12.3473 194.75 12.3337 194.75 12.3202C194.75 12.3066 194.75 12.2931 194.75 12.2795C194.75 12.2659 194.75 12.2522 194.75 12.2386C194.75 12.225 194.75 12.2113 194.75 12.1976C194.75 12.1839 194.75 12.1702 194.75 12.1565C194.75 12.1428 194.75 12.129 194.75 12.1153C194.75 12.1015 194.75 12.0877 194.75 12.0739C194.75 12.0601 194.75 12.0463 194.75 12.0324C194.75 12.0186 194.75 12.0047 194.75 11.9908C194.75 11.9769 194.75 11.963 194.75 11.9491C194.75 11.9352 194.75 11.9212 194.75 11.9073C194.75 11.8933 194.75 11.8793 194.75 11.8653C194.75 11.8513 194.75 11.8372 194.75 11.8232C194.75 11.8091 194.75 11.7951 194.75 11.781C194.75 11.7669 194.75 11.7528 194.75 11.7386C194.75 11.7245 194.75 11.7104 194.75 11.6962C194.75 11.682 194.75 11.6678 194.75 11.6536C194.75 11.6394 194.75 11.6252 194.75 11.6109C194.75 11.5967 194.75 11.5824 194.75 11.5681C194.75 11.5538 194.75 11.5395 194.75 11.5252C194.75 11.5109 194.75 11.4965 194.75 11.4822C194.75 11.4678 194.75 11.4534 194.75 11.439C194.75 11.4246 194.75 11.4102 194.75 11.3957C194.75 11.3813 194.75 11.3668 194.75 11.3523C194.75 11.3379 194.75 11.3234 194.75 11.3088C194.75 11.2943 194.75 11.2798 194.75 11.2652C194.75 11.2507 194.75 11.2361 194.75 11.2215C194.75 11.2069 194.75 11.1923 194.75 11.1777C194.75 11.163 194.75 11.1484 194.75 11.1337C194.75 11.119 194.75 11.1044 194.75 11.0897C194.75 11.0749 194.75 11.0602 194.75 11.0455C194.75 11.0307 194.75 11.016 194.75 11.0012C194.75 10.9864 194.75 10.9716 194.75 10.9568C194.75 10.942 194.75 10.9272 194.75 10.9123C194.75 10.8975 194.75 10.8826 194.75 10.8677C194.75 10.8528 194.75 10.8379 194.75 10.823C194.75 10.8081 194.75 10.7931 194.75 10.7782C194.75 10.7632 194.75 10.7482 194.75 10.7332C194.75 10.7182 194.75 10.7032 194.75 10.6882C194.75 10.6732 194.75 10.6581 194.75 10.643C194.75 10.628 194.75 10.6129 194.75 10.5978C194.75 10.5827 194.75 10.5676 194.75 10.5524C194.75 10.5373 194.75 10.5222 194.75 10.507C194.75 10.4918 194.75 10.4766 194.75 10.4614C194.75 10.4462 194.75 10.431 194.75 10.4158C194.75 10.4005 194.75 10.3853 194.75 10.37C194.75 10.3547 194.75 10.3394 194.75 10.3241C194.75 10.3088 194.75 10.2935 194.75 10.2782C194.75 10.2628 194.75 10.2475 194.75 10.2321C194.75 10.2167 194.75 10.2014 194.75 10.1859C194.75 10.1705 194.75 10.1551 194.75 10.1397C194.75 10.1242 194.75 10.1088 194.75 10.0933C194.75 10.0779 194.75 10.0624 194.75 10.0469C194.75 10.0314 194.75 10.0158 194.75 10.0003C194.75 9.98477 194.75 9.96922 194.75 9.95365C194.75 9.93808 194.75 9.9225 194.75 9.9069C194.75 9.8913 194.75 9.87569 194.75 9.86005C194.75 9.84442 194.75 9.82878 194.75 9.81311C194.75 9.79745 194.75 9.78177 194.75 9.76608C194.75 9.75038 194.75 9.73468 194.75 9.71895C194.75 9.70322 194.75 9.68748 194.75 9.67173C194.75 9.65597 194.75 9.6402 194.75 9.62441C194.75 9.60863 194.75 9.59282 194.75 9.57701C194.75 9.56119 194.75 9.54536 194.75 9.52951C194.75 9.51366 194.75 9.4978 194.75 9.48192C194.75 9.46604 194.75 9.45015 194.75 9.43424C194.75 9.41833 194.75 9.40241 194.75 9.38647C194.75 9.37053 194.75 9.35458 194.75 9.33861C194.75 9.32265 194.75 9.30666 194.75 9.29067C194.75 9.27467 194.75 9.25866 194.75 9.24263C194.75 9.22661 194.75 9.21057 194.75 9.19451C194.75 9.17845 194.75 9.16239 194.75 9.1463C194.75 9.13022 194.75 9.11412 194.75 9.09801C194.75 9.08189 194.75 9.06577 194.75 9.04963C194.75 9.03348 194.75 9.01733 194.75 9.00116C194.75 8.98499 194.75 8.96881 194.75 8.95261C194.75 8.93641 194.75 8.9202 194.75 8.90397C194.75 8.88775 194.75 8.87151 194.75 8.85526C194.75 8.839 194.75 8.82274 194.75 8.80646C194.75 8.79018 194.75 8.77388 194.75 8.75757C194.75 8.74127 194.75 8.72495 194.75 8.70861C194.75 8.69228 194.75 8.67593 194.75 8.65957C194.75 8.6432 194.75 8.62683 194.75 8.61044C194.75 8.59405 194.75 8.57765 194.75 8.56123C194.75 8.54482 194.75 8.52839 194.75 8.51195C194.75 8.49551 194.75 8.47905 194.75 8.46259C194.75 8.44612 194.75 8.42964 194.75 8.41315C194.75 8.39665 194.75 8.38015 194.75 8.36363C194.75 8.34711 194.75 8.33058 194.75 8.31403C194.75 8.29749 194.75 8.28093 194.75 8.26436C194.75 8.24779 194.75 8.23121 194.75 8.21461C194.75 8.19802 194.75 8.18141 194.75 8.16479C194.75 8.14817 194.75 8.13153 194.75 8.11489C194.75 8.09824 194.75 8.08159 194.75 8.06492C194.75 8.04825 194.75 8.03157 194.75 8.01487C194.75 7.99818 194.75 7.98147 194.75 7.96475C194.75 7.94804 194.75 7.93131 194.75 7.91456C194.75 7.89782 194.75 7.88107 194.75 7.8643C194.75 7.84754 194.75 7.83076 194.75 7.81397C194.75 7.79718 194.75 7.78038 194.75 7.76357C194.75 7.74675 194.75 7.72993 194.75 7.71309C194.75 7.69626 194.75 7.67941 194.75 7.66255C194.75 7.64569 194.75 7.62882 194.75 7.61194C194.75 7.59505 194.75 7.57816 194.75 7.56126C194.75 7.54435 194.75 7.52744 194.75 7.51051C194.75 7.49358 194.75 7.47664 194.75 7.45969C194.75 7.44274 194.75 7.42578 194.75 7.40881C194.75 7.39184 194.75 7.37486 194.75 7.35787C194.75 7.34087 194.75 7.32387 194.75 7.30685C194.75 7.28984 194.75 7.27281 194.75 7.25578C194.75 7.23874 194.75 7.22169 194.75 7.20463C194.75 7.18758 194.75 7.17051 194.75 7.15343C194.75 7.13635 194.75 7.11926 194.75 7.10216C194.75 7.08506 194.75 7.06795 194.75 7.05083C194.75 7.03371 194.75 7.01658 194.75 6.99944C194.75 6.9823 194.75 6.96515 194.75 6.94799C194.75 6.93083 194.75 6.91365 194.75 6.89647C194.75 6.87929 194.75 6.8621 194.75 6.8449C194.75 6.8277 194.75 6.81049 194.75 6.79326C194.75 6.77604 194.75 6.75881 194.75 6.74157C194.75 6.72433 194.75 6.70708 194.75 6.68982C194.75 6.67256 194.75 6.65529 194.75 6.63801C194.75 6.62073 194.75 6.60344 194.75 6.58615C194.75 6.56885 194.75 6.55154 194.75 6.53422C194.75 6.51691 194.75 6.49958 194.75 6.48225C194.75 6.46491 194.75 6.44757 194.75 6.43021C194.75 6.41286 194.75 6.3955 194.75 6.37812C194.75 6.36075 194.75 6.34337 194.75 6.32598C194.75 6.30859 194.75 6.29119 194.75 6.27378C194.75 6.25638 194.75 6.23896 194.75 6.22153C194.75 6.20411 194.75 6.18667 194.75 6.16923C194.75 6.15179 194.75 6.13434 194.75 6.11688C194.75 6.09942 194.75 6.08195 194.75 6.06447C194.75 6.04699 194.75 6.02951 194.75 6.01202C194.75 5.99452 194.75 5.97702 194.75 5.95951C194.75 5.942 194.75 5.92448 194.75 5.90695C194.75 5.88943 194.75 5.87189 194.75 5.85435C194.75 5.8368 194.75 5.81925 194.75 5.80169C194.75 5.78413 194.75 5.76657 194.75 5.74899C194.75 5.73142 194.75 5.71383 194.75 5.69624C194.75 5.67865 194.75 5.66105 194.75 5.64345C194.75 5.62584 194.75 5.60823 194.75 5.59061C194.75 5.57298 194.75 5.55536 194.75 5.53772C194.75 5.52008 194.75 5.50244 194.75 5.48479C194.75 5.46714 194.75 5.44948 194.75 5.43181C194.75 5.41414 194.75 5.39647 194.75 5.37879C194.75 5.36111 194.75 5.34342 194.75 5.32573C194.75 5.30803 194.75 5.29033 194.75 5.27262C194.75 5.25491 194.75 5.23719 194.75 5.21947C194.75 5.20175 194.75 5.18402 194.75 5.16628C194.75 5.14854 194.75 5.1308 194.75 5.11305C194.75 5.0953 194.75 5.07754 194.75 5.05978C194.75 5.04202 194.75 5.02425 194.75 5.00647C194.75 4.98869 194.75 4.97091 194.75 4.95312C194.75 4.93533 194.75 4.91753 194.75 4.89973C194.75 4.88193 194.75 4.86412 194.75 4.8463C194.75 4.82849 194.75 4.81067 194.75 4.79284C194.75 4.77501 194.75 4.75718 194.75 4.73934C194.75 4.7215 194.75 4.70365 194.75 4.6858C194.75 4.66795 194.75 4.65009 194.75 4.63223C194.75 4.61437 194.75 4.5965 194.75 4.57862C194.75 4.56075 194.75 4.54287 194.75 4.52498C194.75 4.50709 194.75 4.4892 194.75 4.4713C194.75 4.4534 194.75 4.4355 194.75 4.41759C194.75 4.39968 194.75 4.38177 194.75 4.36385C194.75 4.34593 194.75 4.32801 194.75 4.31008C194.75 4.29215 194.75 4.27421 194.75 4.25627C194.75 4.23833 194.75 4.22038 194.75 4.20243C194.75 4.18448 194.75 4.16653 194.75 4.14856C194.75 4.1306 194.75 4.11264 194.75 4.09467C194.75 4.0767 194.75 4.05872 194.75 4.04074C194.75 4.02276 194.75 4.00477 194.75 3.98678C194.75 3.96879 194.75 3.9508 194.75 3.9328C194.75 3.9148 194.75 3.8968 194.75 3.87879C194.75 3.86078 194.75 3.84277 194.75 3.82475C194.75 3.80673 194.75 3.78871 194.75 3.77069C194.75 3.75266 194.75 3.73463 194.75 3.7166C194.75 3.69856 194.75 3.68052 194.75 3.66248C194.75 3.64444 194.75 3.62639 194.75 3.60834C194.75 3.59029 194.75 3.57224 194.75 3.55418C194.75 3.53612 194.75 3.51806 194.75 3.49999C194.75 3.48192 194.75 3.46385 194.75 3.44578C194.75 3.42771 194.75 3.40963 194.75 3.39155C194.75 3.37347 194.75 3.35538 194.75 3.33729C194.75 3.3192 194.75 3.30111 194.75 3.28302C194.75 3.26492 194.75 3.24682 194.75 3.22872C194.75 3.21062 194.75 3.19251 194.75 3.1744C194.75 3.15629 194.75 3.13818 194.75 3.12007C194.75 3.10195 194.75 3.08383 194.75 3.06571C194.75 3.04759 194.75 3.02947 194.75 3.01134C194.75 2.99321 194.75 2.97508 194.75 2.95695C194.75 2.93882 194.75 2.92068 194.75 2.90254C194.75 2.8844 194.75 2.86626 194.75 2.84812C194.75 2.82997 194.75 2.81183 194.75 2.79368C194.75 2.77553 194.75 2.75738 194.75 2.73922C194.75 2.72107 194.75 2.70291 194.75 2.68475C194.75 2.66659 194.75 2.64843 194.75 2.63027C194.75 2.61211 194.75 2.59394 194.75 2.57577C194.75 2.5576 194.75 2.53943 194.75 2.52126C194.75 2.50309 194.75 2.48491 194.75 2.46674C194.75 2.44856 194.75 2.43038 194.75 2.4122C194.75 2.39402 194.75 2.37584 194.75 2.35766C194.75 2.33947 194.75 2.32129 194.75 2.3031C194.75 2.28491 194.75 2.26672 194.75 2.24853C194.75 2.23034 194.75 2.21215 194.75 2.19396C194.75 2.17576 194.75 2.15757 194.75 2.13937C194.75 2.12117 194.75 2.10298 194.75 2.08478C194.75 2.06658 194.75 2.04838 194.75 2.03018C194.75 2.01197 194.75 1.99377 194.75 1.97557C194.75 1.95736 194.75 1.93916 194.75 1.92095C194.75 1.90274 194.75 1.88454 194.75 1.86633C194.75 1.84812 194.75 1.82991 194.75 1.8117C194.75 1.79349 194.75 1.77528 194.75 1.75707C194.75 1.73886 194.75 1.72065 194.75 1.70243C194.75 1.68422 194.75 1.66601 194.75 1.64779C194.75 1.62958 194.75 1.61137 194.75 1.59315C194.75 1.57494 194.75 1.55672 194.75 1.53851C194.75 1.52029 194.75 1.50207 194.75 1.48386C194.75 1.46564 194.75 1.44743 194.75 1.42921C194.75 1.41099 194.75 1.39278 194.75 1.37456C194.75 1.35634 194.75 1.33813 194.75 1.31991C194.75 1.30169 194.75 1.28348 194.75 1.26526C194.75 1.24704 194.75 1.22883 194.75 1.21061C194.75 1.1924 194.75 1.17418 194.75 1.15597C194.75 1.13775 194.75 1.11953 194.75 1.10132C194.75 1.08311 194.75 1.06489 194.75 1.04668C194.75 1.02846 194.75 1.01025 194.75 0.992039C194.75 0.973827 194.75 0.955615 194.75 0.937404C194.75 0.919193 194.75 0.900983 194.75 0.882773C194.75 0.864564 194.75 0.846355 194.75 0.828147C194.75 0.80994 194.75 0.791733 194.75 0.773527C194.75 0.755321 194.75 0.737117 194.75 0.718913C194.75 0.70071 194.75 0.682507 194.75 0.664306C194.75 0.646105 194.75 0.627905 194.75 0.609706C194.75 0.591507 194.75 0.57331 194.75 0.555114C194.75 0.536918 194.75 0.518724 194.75 0.500531C194.75 0.482338 194.75 0.464146 194.75 0.445956C194.75 0.427766 194.75 0.409578 194.75 0.391391C194.75 0.373205 194.75 0.35502 194.75 0.336837C194.75 0.318654 194.75 0.300473 194.75 0.282293C194.75 0.264114 194.75 0.245936 194.75 0.227761C194.75 0.209585 194.75 0.191412 194.75 0.173241C194.75 0.155069 194.75 0.1369 194.75 0.118733C194.75 0.100566 194.75 0.0824007 194.75 0.0642381C194.75 0.0460755 194.75 0.0279152 194.75 0.00975721C194.75 -0.00840074 194.75 -0.0265563 194.75 -0.0447094C194.75 -0.0628625 194.75 -0.0810131 194.75 -0.0991611C194.75 -0.117309 194.75 -0.135455 194.75 -0.153597C194.75 -0.17174 194.75 -0.18988 194.75 -0.208018C194.75 -0.226155 194.75 -0.244289 194.75 -0.262421C194.75 -0.280553 194.75 -0.298682 194.75 -0.316807C194.75 -0.334933 194.75 -0.353056 194.75 -0.371176C194.75 -0.389296 194.75 -0.407413 194.75 -0.425526C194.75 -0.44364 194.75 -0.46175 194.75 -0.479857C194.75 -0.497965 194.75 -0.516069 194.75 -0.534169C194.75 -0.55227 194.75 -0.570367 194.75 -0.588461C194.75 -0.606555 194.75 -0.624645 194.75 -0.642732C194.75 -0.660818 194.75 -0.678902 194.75 -0.696981C194.75 -0.715061 194.75 -0.733137 194.75 -0.751209C194.75 -0.769281 194.75 -0.78735 194.75 -0.805414C194.75 -0.823479 194.75 -0.84154 194.75 -0.859597C194.75 -0.877653 194.75 -0.895706 194.75 -0.913755C194.75 -0.931804 194.75 -0.949849 194.75 -0.96789C194.75 -0.985931 194.75 -1.00397 194.75 -1.022C194.75 -1.04003 194.75 -1.05806 194.75 -1.07608C194.75 -1.09411 194.75 -1.11213 194.75 -1.13014C194.75 -1.14816 194.75 -1.16617 194.75 -1.18417C194.75 -1.20218 194.75 -1.22018 194.75 -1.23818C194.75 -1.25618 194.75 -1.27417 194.75 -1.29216C194.75 -1.31014 194.75 -1.32813 194.75 -1.34611C194.75 -1.36408 194.75 -1.38206 194.75 -1.40003C194.75 -1.41799 194.75 -1.43596 194.75 -1.45392C194.75 -1.47187 194.75 -1.48983 194.75 -1.50778C194.75 -1.52573 194.75 -1.54367 194.75 -1.56161C194.75 -1.57955 194.75 -1.59748 194.75 -1.61541C194.75 -1.63333 194.75 -1.65126 194.75 -1.66917C194.75 -1.68709 194.75 -1.705 194.75 -1.72291C194.75 -1.74081 194.75 -1.75871 194.75 -1.77661C194.75 -1.79451 194.75 -1.81239 194.75 -1.83028C194.75 -1.84816 194.75 -1.86604 194.75 -1.88391C194.75 -1.90179 194.75 -1.91965 194.75 -1.93751C194.75 -1.95537 194.75 -1.97323 194.75 -1.99108C194.75 -2.00893 194.75 -2.02677 194.75 -2.04461C194.75 -2.06244 194.75 -2.08027 194.75 -2.0981C194.75 -2.11592 194.75 -2.13374 194.75 -2.15155C194.75 -2.16937 194.75 -2.18717 194.75 -2.20497C194.75 -2.22277 194.75 -2.24056 194.75 -2.25835C194.75 -2.27614 194.75 -2.29392 194.75 -2.31169C194.75 -2.32947 194.75 -2.34723 194.75 -2.36499C194.75 -2.38275 194.75 -2.40051 194.75 -2.41826C194.75 -2.436 194.75 -2.45374 194.75 -2.47148C194.75 -2.48921 194.75 -2.50694 194.75 -2.52466C194.75 -2.54238 194.75 -2.56009 194.75 -2.5778C194.75 -2.5955 194.75 -2.6132 194.75 -2.63089C194.75 -2.64858 194.75 -2.66627 194.75 -2.68395C194.75 -2.70162 194.75 -2.71929 194.75 -2.73696C194.75 -2.75462 194.75 -2.77228 194.75 -2.78992C194.75 -2.80757 194.75 -2.82521 194.75 -2.84285C194.75 -2.86048 194.75 -2.8781 194.75 -2.89572C194.75 -2.91334 194.75 -2.93095 194.75 -2.94855C194.75 -2.96616 194.75 -2.98375 194.75 -3.00134C194.75 -3.01893 194.75 -3.0365 194.75 -3.05408C194.75 -3.07165 194.75 -3.08921 194.75 -3.10677C194.75 -3.12432 194.75 -3.14187 194.75 -3.15941C194.75 -3.17695 194.75 -3.19448 194.75 -3.212C194.75 -3.22953 194.75 -3.24704 194.75 -3.26455C194.75 -3.28205 194.75 -3.29955 194.75 -3.31704C194.75 -3.33453 194.75 -3.35201 194.75 -3.36949C194.75 -3.38696 194.75 -3.40443 194.75 -3.42188C194.75 -3.43934 194.75 -3.45679 194.75 -3.47422C194.75 -3.49166 194.75 -3.50909 194.75 -3.52651C194.75 -3.54394 194.75 -3.56135 194.75 -3.57875C194.75 -3.59616 194.75 -3.61355 194.75 -3.63094C194.75 -3.64832 194.75 -3.6657 194.75 -3.68307C194.75 -3.70043 194.75 -3.71779 194.75 -3.73514C194.75 -3.75249 194.75 -3.76983 194.75 -3.78716C194.75 -3.8045 194.75 -3.82182 194.75 -3.83913C194.75 -3.85644 194.75 -3.87375 194.75 -3.89104C194.75 -3.90833 194.75 -3.92562 194.75 -3.94289C194.75 -3.96017 194.75 -3.97743 194.75 -3.99469C194.75 -4.01194 194.75 -4.02919 194.75 -4.04642C194.75 -4.06366 194.75 -4.08089 194.75 -4.0981C194.75 -4.11532 194.75 -4.13253 194.75 -4.14972C194.75 -4.16692 194.75 -4.18411 194.75 -4.20128C194.75 -4.21846 194.75 -4.23563 194.75 -4.25278C194.75 -4.26994 194.75 -4.28709 194.75 -4.30422C194.75 -4.32136 194.75 -4.33849 194.75 -4.3556C194.75 -4.37272 194.75 -4.38982 194.75 -4.40692C194.75 -4.42401 194.75 -4.4411 194.75 -4.45817C194.75 -4.47524 194.75 -4.49231 194.75 -4.50936C194.75 -4.52641 194.75 -4.54346 194.75 -4.56049C194.75 -4.57752 194.75 -4.59454 194.75 -4.61155C194.75 -4.62856 194.75 -4.64556 194.75 -4.66255C194.75 -4.67954 194.75 -4.69651 194.75 -4.71348C194.75 -4.73045 194.75 -4.7474 194.75 -4.76434C194.75 -4.78129 194.75 -4.79822 194.75 -4.81514C194.75 -4.83207 194.75 -4.84898 194.75 -4.86588C194.75 -4.88278 194.75 -4.89966 194.75 -4.91654C194.75 -4.93342 194.75 -4.95028 194.75 -4.96714C194.75 -4.98399 194.75 -5.00083 194.75 -5.01766C194.75 -5.03449 194.75 -5.05131 194.75 -5.06812C194.75 -5.08493 194.75 -5.10172 194.75 -5.11851C194.75 -5.13529 194.75 -5.15207 194.75 -5.16883C194.75 -5.18559 194.75 -5.20233 194.75 -5.21907C194.75 -5.23581 194.75 -5.25253 194.75 -5.26925C194.75 -5.28596 194.75 -5.30266 194.75 -5.31935C194.75 -5.33603 194.75 -5.35271 194.75 -5.36937C194.75 -5.38604 194.75 -5.40269 194.75 -5.41933C194.75 -5.43597 194.75 -5.4526 194.75 -5.46921C194.75 -5.48582 194.75 -5.50243 194.75 -5.51902C194.75 -5.53561 194.75 -5.55218 194.75 -5.56875C194.75 -5.58531 194.75 -5.60186 194.75 -5.6184C194.75 -5.63494 194.75 -5.65147 194.75 -5.66798C194.75 -5.68449 194.75 -5.70099 194.75 -5.71748C194.75 -5.73397 194.75 -5.75044 194.75 -5.7669C194.75 -5.78336 194.75 -5.79981 194.75 -5.81625C194.75 -5.83268 194.75 -5.84911 194.75 -5.86551C194.75 -5.88192 194.75 -5.89832 194.75 -5.9147C194.75 -5.93108 194.75 -5.94745 194.75 -5.96381C194.75 -5.98016 194.75 -5.99651 194.75 -6.01284C194.75 -6.02916 194.75 -6.04548 194.75 -6.06178C194.75 -6.07808 194.75 -6.09437 194.75 -6.11064C194.75 -6.12692 194.75 -6.14318 194.75 -6.15943C194.75 -6.17567 194.75 -6.1919 194.75 -6.20812C194.75 -6.22434 194.75 -6.24055 194.75 -6.25674C194.75 -6.27293 194.75 -6.28911 194.75 -6.30527C194.75 -6.32143 194.75 -6.33758 194.75 -6.35372C194.75 -6.36985 194.75 -6.38597 194.75 -6.40208C194.75 -6.41818 194.75 -6.43427 194.75 -6.45035C194.75 -6.46643 194.75 -6.48249 194.75 -6.49854C194.75 -6.51459 194.75 -6.53062 194.75 -6.54664C194.75 -6.56266 194.75 -6.57867 194.75 -6.59466C194.75 -6.61065 194.75 -6.62662 194.75 -6.64258C194.75 -6.65854 194.75 -6.67449 194.75 -6.69042C194.75 -6.70635 194.75 -6.72227 194.75 -6.73817C194.75 -6.75407 194.75 -6.76996 194.75 -6.78583C194.75 -6.8017 194.75 -6.81756 194.75 -6.8334C194.75 -6.84924 194.75 -6.86506 194.75 -6.88087C194.75 -6.89668 194.75 -6.91248 194.75 -6.92826C194.75 -6.94404 194.75 -6.9598 194.75 -6.97555C194.75 -6.9913 194.75 -7.00703 194.75 -7.02275C194.75 -7.03847 194.75 -7.05417 194.75 -7.06986C194.75 -7.08555 194.75 -7.10122 194.75 -7.11687C194.75 -7.13253 194.75 -7.14817 194.75 -7.16379C194.75 -7.17942 194.75 -7.19502 194.75 -7.21062C194.75 -7.22621 194.75 -7.24178 194.75 -7.25734C194.75 -7.2729 194.75 -7.28845 194.75 -7.30398C194.75 -7.3195 194.75 -7.33501 194.75 -7.35051C194.75 -7.36601 194.75 -7.38148 194.75 -7.39695C194.75 -7.41241 194.75 -7.42786 194.75 -7.44329C194.75 -7.45872 194.75 -7.47413 194.75 -7.48953C194.75 -7.50493 194.75 -7.52031 194.75 -7.53567C194.75 -7.55103 194.75 -7.56638 194.75 -7.58171C194.75 -7.59704 194.75 -7.61236 194.75 -7.62765C194.75 -7.64295 194.75 -7.65823 194.75 -7.67349C194.75 -7.68876 194.75 -7.704 194.75 -7.71923C194.75 -7.73446 194.75 -7.74968 194.75 -7.76487C194.75 -7.78007 194.75 -7.79524 194.75 -7.81041C194.75 -7.82557 194.75 -7.84071 194.75 -7.85584C194.75 -7.87096 194.75 -7.88607 194.75 -7.90117C194.75 -7.91626 194.75 -7.93133 194.75 -7.94639C194.75 -7.96145 194.75 -7.97648 194.75 -7.99151C194.75 -8.00653 194.75 -8.02153 194.75 -8.03652C194.75 -8.05151 194.75 -8.06647 194.75 -8.08143C194.75 -8.09638 194.75 -8.11131 194.75 -8.12623C194.75 -8.14114 194.75 -8.15604 194.75 -8.17092C194.75 -8.1858 194.75 -8.20066 194.75 -8.2155C194.75 -8.23035 194.75 -8.24517 194.75 -8.25998C194.75 -8.27479 194.75 -8.28958 194.75 -8.30435C194.75 -8.31912 194.75 -8.33387 194.75 -8.3486C194.75 -8.36334 194.75 -8.37805 194.75 -8.39275C194.75 -8.40745 194.75 -8.42213 194.75 -8.43679C194.75 -8.45145 194.75 -8.46609 194.75 -8.48071C194.75 -8.49534 194.75 -8.50994 194.75 -8.52453C194.75 -8.53911 194.75 -8.55368 194.75 -8.56823C194.75 -8.58278 194.75 -8.59731 194.75 -8.61182C194.75 -8.62633 194.75 -8.64082 194.75 -8.65529C194.75 -8.66976 194.75 -8.68422 194.75 -8.69865C194.75 -8.71308 194.75 -8.7275 194.75 -8.7419C194.75 -8.75629 194.75 -8.77067 194.75 -8.78503C194.75 -8.79938 194.75 -8.81372 194.75 -8.82804C194.75 -8.84236 194.75 -8.85666 194.75 -8.87094C194.75 -8.88522 194.75 -8.89948 194.75 -8.91372C194.75 -8.92796 194.75 -8.94218 194.75 -8.95638C194.75 -8.97058 194.75 -8.98476 194.75 -8.99892C194.75 -9.01308 194.75 -9.02722 194.75 -9.04135C194.75 -9.05547 194.75 -9.06957 194.75 -9.08365C194.75 -9.09773 194.75 -9.1118 194.75 -9.12584C194.75 -9.13988 194.75 -9.1539 194.75 -9.1679C194.75 -9.1819 194.75 -9.19588 194.75 -9.20984C194.75 -9.22381 194.75 -9.23775 194.75 -9.25167C194.75 -9.26559 194.75 -9.27949 194.75 -9.29337C194.75 -9.30724 194.75 -9.3211 194.75 -9.33494C194.75 -9.34878 194.75 -9.3626 194.75 -9.37639C194.75 -9.39019 194.75 -9.40397 194.75 -9.41772C194.75 -9.43148 194.75 -9.44521 194.75 -9.45893C194.75 -9.47264 194.75 -9.48633 194.75 -9.50001H193.25C193.25 -9.48633 193.25 -9.47264 193.25 -9.45893C193.25 -9.44521 193.25 -9.43148 193.25 -9.41772C193.25 -9.40397 193.25 -9.39019 193.25 -9.37639C193.25 -9.3626 193.25 -9.34878 193.25 -9.33494C193.25 -9.3211 193.25 -9.30724 193.25 -9.29337C193.25 -9.27949 193.25 -9.26559 193.25 -9.25167C193.25 -9.23775 193.25 -9.22381 193.25 -9.20984C193.25 -9.19588 193.25 -9.1819 193.25 -9.1679C193.25 -9.1539 193.25 -9.13988 193.25 -9.12584C193.25 -9.1118 193.25 -9.09773 193.25 -9.08365C193.25 -9.06957 193.25 -9.05547 193.25 -9.04135C193.25 -9.02722 193.25 -9.01308 193.25 -8.99892C193.25 -8.98476 193.25 -8.97058 193.25 -8.95638C193.25 -8.94218 193.25 -8.92796 193.25 -8.91372C193.25 -8.89948 193.25 -8.88522 193.25 -8.87094C193.25 -8.85666 193.25 -8.84236 193.25 -8.82804C193.25 -8.81372 193.25 -8.79938 193.25 -8.78503C193.25 -8.77067 193.25 -8.75629 193.25 -8.7419C193.25 -8.7275 193.25 -8.71308 193.25 -8.69865C193.25 -8.68422 193.25 -8.66976 193.25 -8.65529C193.25 -8.64082 193.25 -8.62633 193.25 -8.61182C193.25 -8.59731 193.25 -8.58278 193.25 -8.56823C193.25 -8.55368 193.25 -8.53911 193.25 -8.52453C193.25 -8.50994 193.25 -8.49534 193.25 -8.48071C193.25 -8.46609 193.25 -8.45145 193.25 -8.43679C193.25 -8.42213 193.25 -8.40745 193.25 -8.39275C193.25 -8.37805 193.25 -8.36334 193.25 -8.3486C193.25 -8.33387 193.25 -8.31912 193.25 -8.30435C193.25 -8.28958 193.25 -8.27479 193.25 -8.25998C193.25 -8.24517 193.25 -8.23035 193.25 -8.2155C193.25 -8.20066 193.25 -8.1858 193.25 -8.17092C193.25 -8.15604 193.25 -8.14114 193.25 -8.12623C193.25 -8.11131 193.25 -8.09638 193.25 -8.08143C193.25 -8.06647 193.25 -8.05151 193.25 -8.03652C193.25 -8.02153 193.25 -8.00653 193.25 -7.99151C193.25 -7.97648 193.25 -7.96145 193.25 -7.94639C193.25 -7.93133 193.25 -7.91626 193.25 -7.90117C193.25 -7.88607 193.25 -7.87096 193.25 -7.85584C193.25 -7.84071 193.25 -7.82557 193.25 -7.81041C193.25 -7.79524 193.25 -7.78007 193.25 -7.76487C193.25 -7.74968 193.25 -7.73446 193.25 -7.71923C193.25 -7.704 193.25 -7.68876 193.25 -7.67349C193.25 -7.65823 193.25 -7.64295 193.25 -7.62765C193.25 -7.61236 193.25 -7.59704 193.25 -7.58171C193.25 -7.56638 193.25 -7.55103 193.25 -7.53567C193.25 -7.52031 193.25 -7.50493 193.25 -7.48953C193.25 -7.47413 193.25 -7.45872 193.25 -7.44329C193.25 -7.42786 193.25 -7.41241 193.25 -7.39695C193.25 -7.38148 193.25 -7.36601 193.25 -7.35051C193.25 -7.33501 193.25 -7.3195 193.25 -7.30398C193.25 -7.28845 193.25 -7.2729 193.25 -7.25734C193.25 -7.24178 193.25 -7.22621 193.25 -7.21062C193.25 -7.19502 193.25 -7.17942 193.25 -7.16379C193.25 -7.14817 193.25 -7.13253 193.25 -7.11687C193.25 -7.10122 193.25 -7.08555 193.25 -7.06986C193.25 -7.05417 193.25 -7.03847 193.25 -7.02275C193.25 -7.00703 193.25 -6.9913 193.25 -6.97555C193.25 -6.9598 193.25 -6.94404 193.25 -6.92826C193.25 -6.91248 193.25 -6.89668 193.25 -6.88087C193.25 -6.86506 193.25 -6.84924 193.25 -6.8334C193.25 -6.81756 193.25 -6.8017 193.25 -6.78583C193.25 -6.76996 193.25 -6.75407 193.25 -6.73817C193.25 -6.72227 193.25 -6.70635 193.25 -6.69042C193.25 -6.67449 193.25 -6.65854 193.25 -6.64258C193.25 -6.62662 193.25 -6.61065 193.25 -6.59466C193.25 -6.57867 193.25 -6.56266 193.25 -6.54664C193.25 -6.53062 193.25 -6.51459 193.25 -6.49854C193.25 -6.48249 193.25 -6.46643 193.25 -6.45035C193.25 -6.43427 193.25 -6.41818 193.25 -6.40208C193.25 -6.38597 193.25 -6.36985 193.25 -6.35372C193.25 -6.33758 193.25 -6.32143 193.25 -6.30527C193.25 -6.28911 193.25 -6.27293 193.25 -6.25674C193.25 -6.24055 193.25 -6.22434 193.25 -6.20812C193.25 -6.1919 193.25 -6.17567 193.25 -6.15943C193.25 -6.14318 193.25 -6.12692 193.25 -6.11064C193.25 -6.09437 193.25 -6.07808 193.25 -6.06178C193.25 -6.04548 193.25 -6.02916 193.25 -6.01284C193.25 -5.99651 193.25 -5.98016 193.25 -5.96381C193.25 -5.94745 193.25 -5.93108 193.25 -5.9147C193.25 -5.89832 193.25 -5.88192 193.25 -5.86551C193.25 -5.84911 193.25 -5.83268 193.25 -5.81625C193.25 -5.79981 193.25 -5.78336 193.25 -5.7669C193.25 -5.75044 193.25 -5.73397 193.25 -5.71748C193.25 -5.70099 193.25 -5.68449 193.25 -5.66798C193.25 -5.65147 193.25 -5.63494 193.25 -5.6184C193.25 -5.60186 193.25 -5.58531 193.25 -5.56875C193.25 -5.55218 193.25 -5.53561 193.25 -5.51902C193.25 -5.50243 193.25 -5.48582 193.25 -5.46921C193.25 -5.4526 193.25 -5.43597 193.25 -5.41933C193.25 -5.40269 193.25 -5.38604 193.25 -5.36937C193.25 -5.35271 193.25 -5.33603 193.25 -5.31935C193.25 -5.30266 193.25 -5.28596 193.25 -5.26925C193.25 -5.25253 193.25 -5.23581 193.25 -5.21907C193.25 -5.20233 193.25 -5.18559 193.25 -5.16883C193.25 -5.15207 193.25 -5.13529 193.25 -5.11851C193.25 -5.10172 193.25 -5.08493 193.25 -5.06812C193.25 -5.05131 193.25 -5.03449 193.25 -5.01766C193.25 -5.00083 193.25 -4.98399 193.25 -4.96714C193.25 -4.95028 193.25 -4.93342 193.25 -4.91654C193.25 -4.89966 193.25 -4.88278 193.25 -4.86588C193.25 -4.84898 193.25 -4.83207 193.25 -4.81514C193.25 -4.79822 193.25 -4.78129 193.25 -4.76434C193.25 -4.7474 193.25 -4.73045 193.25 -4.71348C193.25 -4.69651 193.25 -4.67954 193.25 -4.66255C193.25 -4.64556 193.25 -4.62856 193.25 -4.61155C193.25 -4.59454 193.25 -4.57752 193.25 -4.56049C193.25 -4.54346 193.25 -4.52641 193.25 -4.50936C193.25 -4.49231 193.25 -4.47524 193.25 -4.45817C193.25 -4.4411 193.25 -4.42401 193.25 -4.40692C193.25 -4.38982 193.25 -4.37272 193.25 -4.3556C193.25 -4.33849 193.25 -4.32136 193.25 -4.30422C193.25 -4.28709 193.25 -4.26994 193.25 -4.25278C193.25 -4.23563 193.25 -4.21846 193.25 -4.20128C193.25 -4.18411 193.25 -4.16692 193.25 -4.14972C193.25 -4.13253 193.25 -4.11532 193.25 -4.0981C193.25 -4.08089 193.25 -4.06366 193.25 -4.04642C193.25 -4.02919 193.25 -4.01194 193.25 -3.99469C193.25 -3.97743 193.25 -3.96017 193.25 -3.94289C193.25 -3.92562 193.25 -3.90833 193.25 -3.89104C193.25 -3.87375 193.25 -3.85644 193.25 -3.83913C193.25 -3.82182 193.25 -3.8045 193.25 -3.78716C193.25 -3.76983 193.25 -3.75249 193.25 -3.73514C193.25 -3.71779 193.25 -3.70043 193.25 -3.68307C193.25 -3.6657 193.25 -3.64832 193.25 -3.63094C193.25 -3.61355 193.25 -3.59616 193.25 -3.57875C193.25 -3.56135 193.25 -3.54394 193.25 -3.52651C193.25 -3.50909 193.25 -3.49166 193.25 -3.47422C193.25 -3.45679 193.25 -3.43934 193.25 -3.42188C193.25 -3.40443 193.25 -3.38696 193.25 -3.36949C193.25 -3.35201 193.25 -3.33453 193.25 -3.31704C193.25 -3.29955 193.25 -3.28205 193.25 -3.26455C193.25 -3.24704 193.25 -3.22953 193.25 -3.212C193.25 -3.19448 193.25 -3.17695 193.25 -3.15941C193.25 -3.14187 193.25 -3.12432 193.25 -3.10677C193.25 -3.08921 193.25 -3.07165 193.25 -3.05408C193.25 -3.0365 193.25 -3.01893 193.25 -3.00134C193.25 -2.98375 193.25 -2.96616 193.25 -2.94855C193.25 -2.93095 193.25 -2.91334 193.25 -2.89572C193.25 -2.8781 193.25 -2.86048 193.25 -2.84285C193.25 -2.82521 193.25 -2.80757 193.25 -2.78992C193.25 -2.77228 193.25 -2.75462 193.25 -2.73696C193.25 -2.71929 193.25 -2.70162 193.25 -2.68395C193.25 -2.66627 193.25 -2.64858 193.25 -2.63089C193.25 -2.6132 193.25 -2.5955 193.25 -2.5778C193.25 -2.56009 193.25 -2.54238 193.25 -2.52466C193.25 -2.50694 193.25 -2.48921 193.25 -2.47148C193.25 -2.45374 193.25 -2.436 193.25 -2.41826C193.25 -2.40051 193.25 -2.38275 193.25 -2.36499C193.25 -2.34723 193.25 -2.32947 193.25 -2.31169C193.25 -2.29392 193.25 -2.27614 193.25 -2.25835C193.25 -2.24056 193.25 -2.22277 193.25 -2.20497C193.25 -2.18717 193.25 -2.16937 193.25 -2.15155C193.25 -2.13374 193.25 -2.11592 193.25 -2.0981C193.25 -2.08027 193.25 -2.06244 193.25 -2.04461C193.25 -2.02677 193.25 -2.00893 193.25 -1.99108C193.25 -1.97323 193.25 -1.95537 193.25 -1.93751C193.25 -1.91965 193.25 -1.90179 193.25 -1.88391C193.25 -1.86604 193.25 -1.84816 193.25 -1.83028C193.25 -1.81239 193.25 -1.79451 193.25 -1.77661C193.25 -1.75871 193.25 -1.74081 193.25 -1.72291C193.25 -1.705 193.25 -1.68709 193.25 -1.66917C193.25 -1.65126 193.25 -1.63333 193.25 -1.61541C193.25 -1.59748 193.25 -1.57955 193.25 -1.56161C193.25 -1.54367 193.25 -1.52573 193.25 -1.50778C193.25 -1.48983 193.25 -1.47187 193.25 -1.45392C193.25 -1.43596 193.25 -1.41799 193.25 -1.40003C193.25 -1.38206 193.25 -1.36408 193.25 -1.34611C193.25 -1.32813 193.25 -1.31014 193.25 -1.29216C193.25 -1.27417 193.25 -1.25618 193.25 -1.23818C193.25 -1.22018 193.25 -1.20218 193.25 -1.18417C193.25 -1.16617 193.25 -1.14816 193.25 -1.13014C193.25 -1.11213 193.25 -1.09411 193.25 -1.07608C193.25 -1.05806 193.25 -1.04003 193.25 -1.022C193.25 -1.00397 193.25 -0.985931 193.25 -0.96789C193.25 -0.949849 193.25 -0.931804 193.25 -0.913755C193.25 -0.895706 193.25 -0.877653 193.25 -0.859597C193.25 -0.84154 193.25 -0.823479 193.25 -0.805414C193.25 -0.78735 193.25 -0.769281 193.25 -0.751209C193.25 -0.733137 193.25 -0.715061 193.25 -0.696981C193.25 -0.678902 193.25 -0.660818 193.25 -0.642732C193.25 -0.624645 193.25 -0.606555 193.25 -0.588461C193.25 -0.570367 193.25 -0.55227 193.25 -0.534169C193.25 -0.516069 193.25 -0.497965 193.25 -0.479857C193.25 -0.46175 193.25 -0.44364 193.25 -0.425526C193.25 -0.407413 193.25 -0.389296 193.25 -0.371176C193.25 -0.353056 193.25 -0.334933 193.25 -0.316807C193.25 -0.298682 193.25 -0.280553 193.25 -0.262421C193.25 -0.244289 193.25 -0.226155 193.25 -0.208018C193.25 -0.18988 193.25 -0.17174 193.25 -0.153597C193.25 -0.135455 193.25 -0.117309 193.25 -0.0991611C193.25 -0.0810131 193.25 -0.0628625 193.25 -0.0447094C193.25 -0.0265563 193.25 -0.00840074 193.25 0.00975721C193.25 0.0279152 193.25 0.0460755 193.25 0.0642381C193.25 0.0824007 193.25 0.100566 193.25 0.118733C193.25 0.1369 193.25 0.155069 193.25 0.173241C193.25 0.191412 193.25 0.209585 193.25 0.227761C193.25 0.245936 193.25 0.264114 193.25 0.282293C193.25 0.300473 193.25 0.318654 193.25 0.336837C193.25 0.35502 193.25 0.373205 193.25 0.391391C193.25 0.409578 193.25 0.427766 193.25 0.445956C193.25 0.464146 193.25 0.482338 193.25 0.500531C193.25 0.518724 193.25 0.536918 193.25 0.555114C193.25 0.57331 193.25 0.591507 193.25 0.609706C193.25 0.627905 193.25 0.646105 193.25 0.664306C193.25 0.682507 193.25 0.70071 193.25 0.718913C193.25 0.737117 193.25 0.755321 193.25 0.773527C193.25 0.791733 193.25 0.80994 193.25 0.828147C193.25 0.846355 193.25 0.864564 193.25 0.882773C193.25 0.900983 193.25 0.919193 193.25 0.937404C193.25 0.955615 193.25 0.973827 193.25 0.992039C193.25 1.01025 193.25 1.02846 193.25 1.04668C193.25 1.06489 193.25 1.08311 193.25 1.10132C193.25 1.11953 193.25 1.13775 193.25 1.15597C193.25 1.17418 193.25 1.1924 193.25 1.21061C193.25 1.22883 193.25 1.24704 193.25 1.26526C193.25 1.28348 193.25 1.30169 193.25 1.31991C193.25 1.33813 193.25 1.35634 193.25 1.37456C193.25 1.39278 193.25 1.41099 193.25 1.42921C193.25 1.44743 193.25 1.46564 193.25 1.48386C193.25 1.50207 193.25 1.52029 193.25 1.53851C193.25 1.55672 193.25 1.57494 193.25 1.59315C193.25 1.61137 193.25 1.62958 193.25 1.64779C193.25 1.66601 193.25 1.68422 193.25 1.70243C193.25 1.72065 193.25 1.73886 193.25 1.75707C193.25 1.77528 193.25 1.79349 193.25 1.8117C193.25 1.82991 193.25 1.84812 193.25 1.86633C193.25 1.88454 193.25 1.90274 193.25 1.92095C193.25 1.93916 193.25 1.95736 193.25 1.97557C193.25 1.99377 193.25 2.01197 193.25 2.03018C193.25 2.04838 193.25 2.06658 193.25 2.08478C193.25 2.10298 193.25 2.12117 193.25 2.13937C193.25 2.15757 193.25 2.17576 193.25 2.19396C193.25 2.21215 193.25 2.23034 193.25 2.24853C193.25 2.26672 193.25 2.28491 193.25 2.3031C193.25 2.32129 193.25 2.33947 193.25 2.35766C193.25 2.37584 193.25 2.39402 193.25 2.4122C193.25 2.43038 193.25 2.44856 193.25 2.46674C193.25 2.48491 193.25 2.50309 193.25 2.52126C193.25 2.53943 193.25 2.5576 193.25 2.57577C193.25 2.59394 193.25 2.61211 193.25 2.63027C193.25 2.64843 193.25 2.66659 193.25 2.68475C193.25 2.70291 193.25 2.72107 193.25 2.73922C193.25 2.75738 193.25 2.77553 193.25 2.79368C193.25 2.81183 193.25 2.82997 193.25 2.84812C193.25 2.86626 193.25 2.8844 193.25 2.90254C193.25 2.92068 193.25 2.93882 193.25 2.95695C193.25 2.97508 193.25 2.99321 193.25 3.01134C193.25 3.02947 193.25 3.04759 193.25 3.06571C193.25 3.08383 193.25 3.10195 193.25 3.12007C193.25 3.13818 193.25 3.15629 193.25 3.1744C193.25 3.19251 193.25 3.21062 193.25 3.22872C193.25 3.24682 193.25 3.26492 193.25 3.28302C193.25 3.30111 193.25 3.3192 193.25 3.33729C193.25 3.35538 193.25 3.37347 193.25 3.39155C193.25 3.40963 193.25 3.42771 193.25 3.44578C193.25 3.46385 193.25 3.48192 193.25 3.49999C193.25 3.51806 193.25 3.53612 193.25 3.55418C193.25 3.57224 193.25 3.59029 193.25 3.60834C193.25 3.62639 193.25 3.64444 193.25 3.66248C193.25 3.68052 193.25 3.69856 193.25 3.7166C193.25 3.73463 193.25 3.75266 193.25 3.77069C193.25 3.78871 193.25 3.80673 193.25 3.82475C193.25 3.84277 193.25 3.86078 193.25 3.87879C193.25 3.8968 193.25 3.9148 193.25 3.9328C193.25 3.9508 193.25 3.96879 193.25 3.98678C193.25 4.00477 193.25 4.02276 193.25 4.04074C193.25 4.05872 193.25 4.0767 193.25 4.09467C193.25 4.11264 193.25 4.1306 193.25 4.14856C193.25 4.16653 193.25 4.18448 193.25 4.20243C193.25 4.22038 193.25 4.23833 193.25 4.25627C193.25 4.27421 193.25 4.29215 193.25 4.31008C193.25 4.32801 193.25 4.34593 193.25 4.36385C193.25 4.38177 193.25 4.39968 193.25 4.41759C193.25 4.4355 193.25 4.4534 193.25 4.4713C193.25 4.4892 193.25 4.50709 193.25 4.52498C193.25 4.54287 193.25 4.56075 193.25 4.57862C193.25 4.5965 193.25 4.61437 193.25 4.63223C193.25 4.65009 193.25 4.66795 193.25 4.6858C193.25 4.70365 193.25 4.7215 193.25 4.73934C193.25 4.75718 193.25 4.77501 193.25 4.79284C193.25 4.81067 193.25 4.82849 193.25 4.8463C193.25 4.86412 193.25 4.88193 193.25 4.89973C193.25 4.91753 193.25 4.93533 193.25 4.95312C193.25 4.97091 193.25 4.98869 193.25 5.00647C193.25 5.02425 193.25 5.04202 193.25 5.05978C193.25 5.07754 193.25 5.0953 193.25 5.11305C193.25 5.1308 193.25 5.14854 193.25 5.16628C193.25 5.18402 193.25 5.20175 193.25 5.21947C193.25 5.23719 193.25 5.25491 193.25 5.27262C193.25 5.29033 193.25 5.30803 193.25 5.32573C193.25 5.34342 193.25 5.36111 193.25 5.37879C193.25 5.39647 193.25 5.41414 193.25 5.43181C193.25 5.44948 193.25 5.46714 193.25 5.48479C193.25 5.50244 193.25 5.52008 193.25 5.53772C193.25 5.55536 193.25 5.57298 193.25 5.59061C193.25 5.60823 193.25 5.62584 193.25 5.64345C193.25 5.66105 193.25 5.67865 193.25 5.69624C193.25 5.71383 193.25 5.73142 193.25 5.74899C193.25 5.76657 193.25 5.78413 193.25 5.80169C193.25 5.81925 193.25 5.8368 193.25 5.85435C193.25 5.87189 193.25 5.88943 193.25 5.90695C193.25 5.92448 193.25 5.942 193.25 5.95951C193.25 5.97702 193.25 5.99452 193.25 6.01202C193.25 6.02951 193.25 6.04699 193.25 6.06447C193.25 6.08195 193.25 6.09942 193.25 6.11688C193.25 6.13434 193.25 6.15179 193.25 6.16923C193.25 6.18667 193.25 6.20411 193.25 6.22153C193.25 6.23896 193.25 6.25638 193.25 6.27378C193.25 6.29119 193.25 6.30859 193.25 6.32598C193.25 6.34337 193.25 6.36075 193.25 6.37812C193.25 6.3955 193.25 6.41286 193.25 6.43021C193.25 6.44757 193.25 6.46491 193.25 6.48225C193.25 6.49958 193.25 6.51691 193.25 6.53422C193.25 6.55154 193.25 6.56885 193.25 6.58615C193.25 6.60344 193.25 6.62073 193.25 6.63801C193.25 6.65529 193.25 6.67256 193.25 6.68982C193.25 6.70708 193.25 6.72433 193.25 6.74157C193.25 6.75881 193.25 6.77604 193.25 6.79326C193.25 6.81049 193.25 6.8277 193.25 6.8449C193.25 6.8621 193.25 6.87929 193.25 6.89647C193.25 6.91365 193.25 6.93083 193.25 6.94799C193.25 6.96515 193.25 6.9823 193.25 6.99944C193.25 7.01658 193.25 7.03371 193.25 7.05083C193.25 7.06795 193.25 7.08506 193.25 7.10216C193.25 7.11926 193.25 7.13635 193.25 7.15343C193.25 7.17051 193.25 7.18758 193.25 7.20463C193.25 7.22169 193.25 7.23874 193.25 7.25578C193.25 7.27281 193.25 7.28984 193.25 7.30685C193.25 7.32387 193.25 7.34087 193.25 7.35787C193.25 7.37486 193.25 7.39184 193.25 7.40881C193.25 7.42578 193.25 7.44274 193.25 7.45969C193.25 7.47664 193.25 7.49358 193.25 7.51051C193.25 7.52744 193.25 7.54435 193.25 7.56126C193.25 7.57816 193.25 7.59505 193.25 7.61194C193.25 7.62882 193.25 7.64569 193.25 7.66255C193.25 7.67941 193.25 7.69626 193.25 7.71309C193.25 7.72993 193.25 7.74675 193.25 7.76357C193.25 7.78038 193.25 7.79718 193.25 7.81397C193.25 7.83076 193.25 7.84754 193.25 7.8643C193.25 7.88107 193.25 7.89782 193.25 7.91456C193.25 7.93131 193.25 7.94804 193.25 7.96475C193.25 7.98147 193.25 7.99818 193.25 8.01487C193.25 8.03157 193.25 8.04825 193.25 8.06492C193.25 8.08159 193.25 8.09824 193.25 8.11489C193.25 8.13153 193.25 8.14817 193.25 8.16479C193.25 8.18141 193.25 8.19802 193.25 8.21461C193.25 8.23121 193.25 8.24779 193.25 8.26436C193.25 8.28093 193.25 8.29749 193.25 8.31403C193.25 8.33058 193.25 8.34711 193.25 8.36363C193.25 8.38015 193.25 8.39665 193.25 8.41315C193.25 8.42964 193.25 8.44612 193.25 8.46259C193.25 8.47905 193.25 8.49551 193.25 8.51195C193.25 8.52839 193.25 8.54482 193.25 8.56123C193.25 8.57765 193.25 8.59405 193.25 8.61044C193.25 8.62683 193.25 8.6432 193.25 8.65957C193.25 8.67593 193.25 8.69228 193.25 8.70861C193.25 8.72495 193.25 8.74127 193.25 8.75757C193.25 8.77388 193.25 8.79018 193.25 8.80646C193.25 8.82274 193.25 8.839 193.25 8.85526C193.25 8.87151 193.25 8.88775 193.25 8.90397C193.25 8.9202 193.25 8.93641 193.25 8.95261C193.25 8.96881 193.25 8.98499 193.25 9.00116C193.25 9.01733 193.25 9.03348 193.25 9.04963C193.25 9.06577 193.25 9.08189 193.25 9.09801C193.25 9.11412 193.25 9.13022 193.25 9.1463C193.25 9.16239 193.25 9.17845 193.25 9.19451C193.25 9.21057 193.25 9.22661 193.25 9.24263C193.25 9.25866 193.25 9.27467 193.25 9.29067C193.25 9.30666 193.25 9.32265 193.25 9.33861C193.25 9.35458 193.25 9.37053 193.25 9.38647C193.25 9.40241 193.25 9.41833 193.25 9.43424C193.25 9.45015 193.25 9.46604 193.25 9.48192C193.25 9.4978 193.25 9.51366 193.25 9.52951C193.25 9.54536 193.25 9.56119 193.25 9.57701C193.25 9.59282 193.25 9.60863 193.25 9.62441C193.25 9.6402 193.25 9.65597 193.25 9.67173C193.25 9.68748 193.25 9.70322 193.25 9.71895C193.25 9.73468 193.25 9.75038 193.25 9.76608C193.25 9.78177 193.25 9.79745 193.25 9.81311C193.25 9.82878 193.25 9.84442 193.25 9.86005C193.25 9.87569 193.25 9.8913 193.25 9.9069C193.25 9.9225 193.25 9.93808 193.25 9.95365C193.25 9.96922 193.25 9.98477 193.25 10.0003C193.25 10.0158 193.25 10.0314 193.25 10.0469C193.25 10.0624 193.25 10.0779 193.25 10.0933C193.25 10.1088 193.25 10.1242 193.25 10.1397C193.25 10.1551 193.25 10.1705 193.25 10.1859C193.25 10.2014 193.25 10.2167 193.25 10.2321C193.25 10.2475 193.25 10.2628 193.25 10.2782C193.25 10.2935 193.25 10.3088 193.25 10.3241C193.25 10.3394 193.25 10.3547 193.25 10.37C193.25 10.3853 193.25 10.4005 193.25 10.4158C193.25 10.431 193.25 10.4462 193.25 10.4614C193.25 10.4766 193.25 10.4918 193.25 10.507C193.25 10.5222 193.25 10.5373 193.25 10.5524C193.25 10.5676 193.25 10.5827 193.25 10.5978C193.25 10.6129 193.25 10.628 193.25 10.643C193.25 10.6581 193.25 10.6732 193.25 10.6882C193.25 10.7032 193.25 10.7182 193.25 10.7332C193.25 10.7482 193.25 10.7632 193.25 10.7782C193.25 10.7931 193.25 10.8081 193.25 10.823C193.25 10.8379 193.25 10.8528 193.25 10.8677C193.25 10.8826 193.25 10.8975 193.25 10.9123C193.25 10.9272 193.25 10.942 193.25 10.9568C193.25 10.9716 193.25 10.9864 193.25 11.0012C193.25 11.016 193.25 11.0307 193.25 11.0455C193.25 11.0602 193.25 11.0749 193.25 11.0897C193.25 11.1044 193.25 11.119 193.25 11.1337C193.25 11.1484 193.25 11.163 193.25 11.1777C193.25 11.1923 193.25 11.2069 193.25 11.2215C193.25 11.2361 193.25 11.2507 193.25 11.2652C193.25 11.2798 193.25 11.2943 193.25 11.3088C193.25 11.3234 193.25 11.3379 193.25 11.3523C193.25 11.3668 193.25 11.3813 193.25 11.3957C193.25 11.4102 193.25 11.4246 193.25 11.439C193.25 11.4534 193.25 11.4678 193.25 11.4822C193.25 11.4965 193.25 11.5109 193.25 11.5252C193.25 11.5395 193.25 11.5538 193.25 11.5681C193.25 11.5824 193.25 11.5967 193.25 11.6109C193.25 11.6252 193.25 11.6394 193.25 11.6536C193.25 11.6678 193.25 11.682 193.25 11.6962C193.25 11.7104 193.25 11.7245 193.25 11.7386C193.25 11.7528 193.25 11.7669 193.25 11.781C193.25 11.7951 193.25 11.8091 193.25 11.8232C193.25 11.8372 193.25 11.8513 193.25 11.8653C193.25 11.8793 193.25 11.8933 193.25 11.9073C193.25 11.9212 193.25 11.9352 193.25 11.9491C193.25 11.963 193.25 11.9769 193.25 11.9908C193.25 12.0047 193.25 12.0186 193.25 12.0324C193.25 12.0463 193.25 12.0601 193.25 12.0739C193.25 12.0877 193.25 12.1015 193.25 12.1153C193.25 12.129 193.25 12.1428 193.25 12.1565C193.25 12.1702 193.25 12.1839 193.25 12.1976C193.25 12.2113 193.25 12.225 193.25 12.2386C193.25 12.2522 193.25 12.2659 193.25 12.2795C193.25 12.2931 193.25 12.3066 193.25 12.3202C193.25 12.3337 193.25 12.3473 193.25 12.3608C193.25 12.3743 193.25 12.3878 193.25 12.4013C193.25 12.4147 193.25 12.4282 193.25 12.4416C193.25 12.455 193.25 12.4684 193.25 12.4818C193.25 12.4952 193.25 12.5086 193.25 12.5219C193.25 12.5352 193.25 12.5486 193.25 12.5619C193.25 12.5752 193.25 12.5884 193.25 12.6017C193.25 12.6149 193.25 12.6282 193.25 12.6414C193.25 12.6546 193.25 12.6678 193.25 12.6809C193.25 12.6941 193.25 12.7072 193.25 12.7204C193.25 12.7335 193.25 12.7466 193.25 12.7597C193.25 12.7727 193.25 12.7858 193.25 12.7988C193.25 12.8118 193.25 12.8249 193.25 12.8378C193.25 12.8508 193.25 12.8638 193.25 12.8767C193.25 12.8897 193.25 12.9026 193.25 12.9155C193.25 12.9284 193.25 12.9413 193.25 12.9541C193.25 12.967 193.25 12.9798 193.25 12.9926C193.25 13.0054 193.25 13.0182 193.25 13.0309C193.25 13.0437 193.25 13.0564 193.25 13.0691C193.25 13.0818 193.25 13.0945 193.25 13.1072C193.25 13.1199 193.25 13.1325 193.25 13.1451C193.25 13.1578 193.25 13.1704 193.25 13.1829C193.25 13.1955 193.25 13.208 193.25 13.2206C193.25 13.2331 193.25 13.2456 193.25 13.2581C193.25 13.2706 193.25 13.283 193.25 13.2954C193.25 13.3079 193.25 13.3203 193.25 13.3327C193.25 13.3451 193.25 13.3574 193.25 13.3698C193.25 13.3821 193.25 13.3944 193.25 13.4067C193.25 13.419 193.25 13.4312 193.25 13.4435C193.25 13.4557 193.25 13.4679 193.25 13.4801C193.25 13.4923 193.25 13.5045 193.25 13.5166C193.25 13.5288 193.25 13.5409 193.25 13.553C193.25 13.5651 193.25 13.5772 193.25 13.5892C193.25 13.6013 193.25 13.6133 193.25 13.6253C193.25 13.6373 193.25 13.6493 193.25 13.6612C193.25 13.6732 193.25 13.6851 193.25 13.697C193.25 13.7089 193.25 13.7208 193.25 13.7326C193.25 13.7445 193.25 13.7563 193.25 13.7681C193.25 13.7799 193.25 13.7917 193.25 13.8034C193.25 13.8152 193.25 13.8269 193.25 13.8386C193.25 13.8503 193.25 13.862 193.25 13.8736C193.25 13.8853 193.25 13.8969 193.25 13.9085C193.25 13.9201 193.25 13.9317 193.25 13.9432C193.25 13.9547 193.25 13.9663 193.25 13.9778C193.25 13.9893 193.25 14.0007 193.25 14.0122C193.25 14.0236 193.25 14.0351 193.25 14.0464C193.25 14.0578 193.25 14.0692 193.25 14.0806C193.25 14.0919 193.25 14.1032 193.25 14.1145C193.25 14.1258 193.25 14.1371 193.25 14.1483C193.25 14.1595 193.25 14.1708 193.25 14.1819C193.25 14.1931 193.25 14.2043 193.25 14.2154C193.25 14.2266 193.25 14.2377 193.25 14.2488C193.25 14.2598 193.25 14.2709 193.25 14.2819C193.25 14.293 193.25 14.304 193.25 14.3149C193.25 14.3259 193.25 14.3369 193.25 14.3478C193.25 14.3587 193.25 14.3696 193.25 14.3805C193.25 14.3914 193.25 14.4022 193.25 14.413C193.25 14.4238 193.25 14.4346 193.25 14.4454C193.25 14.4562 193.25 14.4669 193.25 14.4776C193.25 14.4883 193.25 14.499 193.25 14.5097C193.25 14.5203 193.25 14.5309 193.25 14.5415C193.25 14.5521 193.25 14.5627 193.25 14.5733C193.25 14.5838 193.25 14.5943 193.25 14.6048C193.25 14.6153 193.25 14.6258 193.25 14.6362C193.25 14.6467 193.25 14.6571 193.25 14.6675C193.25 14.6778 193.25 14.6882 193.25 14.6985C193.25 14.7089 193.25 14.7192 193.25 14.7294C193.25 14.7397 193.25 14.7499 193.25 14.7602C193.25 14.7704 193.25 14.7806 193.25 14.7907C193.25 14.8009 193.25 14.811 193.25 14.8211C193.25 14.8312 193.25 14.8413 193.25 14.8514C193.25 14.8614 193.25 14.8714 193.25 14.8814C193.25 14.8914 193.25 14.9014 193.25 14.9113C193.25 14.9213 193.25 14.9312 193.25 14.941C193.25 14.9509 193.25 14.9608 193.25 14.9706C193.25 14.9804 193.25 14.9902 193.25 15H194.75ZM194.75 -9.50001C194.75 -11.1105 195.208 -12.3974 196.093 -13.2822C196.976 -14.1655 198.387 -14.75 200.5 -14.75V-16.25C198.113 -16.25 196.274 -15.5845 195.032 -14.3428C193.792 -13.1026 193.25 -11.3895 193.25 -9.50001H194.75ZM200.5 -14.75C200.511 -14.75 200.522 -14.75 200.533 -14.75C200.544 -14.75 200.555 -14.75 200.566 -14.75C200.578 -14.75 200.589 -14.75 200.6 -14.75C200.611 -14.75 200.623 -14.75 200.634 -14.75C200.646 -14.75 200.657 -14.75 200.669 -14.75C200.68 -14.75 200.692 -14.75 200.703 -14.75C200.715 -14.75 200.727 -14.75 200.739 -14.75C200.75 -14.75 200.762 -14.75 200.774 -14.75C200.786 -14.75 200.798 -14.75 200.81 -14.75C200.822 -14.75 200.834 -14.75 200.846 -14.75C200.859 -14.75 200.871 -14.75 200.883 -14.75C200.895 -14.75 200.908 -14.75 200.92 -14.75C200.932 -14.75 200.945 -14.75 200.957 -14.75C200.97 -14.75 200.982 -14.75 200.995 -14.75C201.008 -14.75 201.02 -14.75 201.033 -14.75C201.046 -14.75 201.059 -14.75 201.071 -14.75C201.084 -14.75 201.097 -14.75 201.11 -14.75C201.123 -14.75 201.136 -14.75 201.149 -14.75C201.162 -14.75 201.175 -14.75 201.189 -14.75C201.202 -14.75 201.215 -14.75 201.228 -14.75C201.242 -14.75 201.255 -14.75 201.269 -14.75C201.282 -14.75 201.295 -14.75 201.309 -14.75C201.323 -14.75 201.336 -14.75 201.35 -14.75C201.364 -14.75 201.377 -14.75 201.391 -14.75C201.405 -14.75 201.419 -14.75 201.432 -14.75C201.446 -14.75 201.46 -14.75 201.474 -14.75C201.488 -14.75 201.502 -14.75 201.516 -14.75C201.531 -14.75 201.545 -14.75 201.559 -14.75C201.573 -14.75 201.587 -14.75 201.602 -14.75C201.616 -14.75 201.631 -14.75 201.645 -14.75C201.659 -14.75 201.674 -14.75 201.688 -14.75C201.703 -14.75 201.718 -14.75 201.732 -14.75C201.747 -14.75 201.762 -14.75 201.776 -14.75C201.791 -14.75 201.806 -14.75 201.821 -14.75C201.836 -14.75 201.851 -14.75 201.866 -14.75C201.881 -14.75 201.896 -14.75 201.911 -14.75C201.926 -14.75 201.941 -14.75 201.956 -14.75C201.972 -14.75 201.987 -14.75 202.002 -14.75C202.017 -14.75 202.033 -14.75 202.048 -14.75C202.064 -14.75 202.079 -14.75 202.095 -14.75C202.11 -14.75 202.126 -14.75 202.141 -14.75C202.157 -14.75 202.173 -14.75 202.189 -14.75C202.204 -14.75 202.22 -14.75 202.236 -14.75C202.252 -14.75 202.268 -14.75 202.284 -14.75C202.3 -14.75 202.316 -14.75 202.332 -14.75C202.348 -14.75 202.364 -14.75 202.38 -14.75C202.396 -14.75 202.412 -14.75 202.429 -14.75C202.445 -14.75 202.461 -14.75 202.478 -14.75C202.494 -14.75 202.51 -14.75 202.527 -14.75C202.543 -14.75 202.56 -14.75 202.576 -14.75C202.593 -14.75 202.61 -14.75 202.626 -14.75C202.643 -14.75 202.66 -14.75 202.676 -14.75C202.693 -14.75 202.71 -14.75 202.727 -14.75C202.744 -14.75 202.761 -14.75 202.778 -14.75C202.795 -14.75 202.812 -14.75 202.829 -14.75C202.846 -14.75 202.863 -14.75 202.88 -14.75C202.897 -14.75 202.915 -14.75 202.932 -14.75C202.949 -14.75 202.967 -14.75 202.984 -14.75C203.001 -14.75 203.019 -14.75 203.036 -14.75C203.054 -14.75 203.071 -14.75 203.089 -14.75C203.106 -14.75 203.124 -14.75 203.142 -14.75C203.159 -14.75 203.177 -14.75 203.195 -14.75C203.213 -14.75 203.231 -14.75 203.248 -14.75C203.266 -14.75 203.284 -14.75 203.302 -14.75C203.32 -14.75 203.338 -14.75 203.356 -14.75C203.374 -14.75 203.392 -14.75 203.411 -14.75C203.429 -14.75 203.447 -14.75 203.465 -14.75C203.483 -14.75 203.502 -14.75 203.52 -14.75C203.538 -14.75 203.557 -14.75 203.575 -14.75C203.594 -14.75 203.612 -14.75 203.631 -14.75C203.649 -14.75 203.668 -14.75 203.687 -14.75C203.705 -14.75 203.724 -14.75 203.743 -14.75C203.761 -14.75 203.78 -14.75 203.799 -14.75C203.818 -14.75 203.837 -14.75 203.856 -14.75C203.874 -14.75 203.893 -14.75 203.912 -14.75C203.931 -14.75 203.95 -14.75 203.97 -14.75C203.989 -14.75 204.008 -14.75 204.027 -14.75C204.046 -14.75 204.065 -14.75 204.085 -14.75C204.104 -14.75 204.123 -14.75 204.143 -14.75C204.162 -14.75 204.182 -14.75 204.201 -14.75C204.22 -14.75 204.24 -14.75 204.259 -14.75C204.279 -14.75 204.299 -14.75 204.318 -14.75C204.338 -14.75 204.358 -14.75 204.377 -14.75C204.397 -14.75 204.417 -14.75 204.437 -14.75C204.457 -14.75 204.476 -14.75 204.496 -14.75C204.516 -14.75 204.536 -14.75 204.556 -14.75C204.576 -14.75 204.596 -14.75 204.616 -14.75C204.636 -14.75 204.656 -14.75 204.677 -14.75C204.697 -14.75 204.717 -14.75 204.737 -14.75C204.758 -14.75 204.778 -14.75 204.798 -14.75C204.819 -14.75 204.839 -14.75 204.859 -14.75C204.88 -14.75 204.9 -14.75 204.921 -14.75C204.941 -14.75 204.962 -14.75 204.982 -14.75C205.003 -14.75 205.024 -14.75 205.044 -14.75C205.065 -14.75 205.086 -14.75 205.107 -14.75C205.127 -14.75 205.148 -14.75 205.169 -14.75C205.19 -14.75 205.211 -14.75 205.232 -14.75C205.253 -14.75 205.274 -14.75 205.295 -14.75C205.316 -14.75 205.337 -14.75 205.358 -14.75C205.379 -14.75 205.4 -14.75 205.421 -14.75C205.442 -14.75 205.464 -14.75 205.485 -14.75C205.506 -14.75 205.527 -14.75 205.549 -14.75C205.57 -14.75 205.591 -14.75 205.613 -14.75C205.634 -14.75 205.656 -14.75 205.677 -14.75C205.699 -14.75 205.72 -14.75 205.742 -14.75C205.764 -14.75 205.785 -14.75 205.807 -14.75C205.829 -14.75 205.85 -14.75 205.872 -14.75C205.894 -14.75 205.915 -14.75 205.937 -14.75C205.959 -14.75 205.981 -14.75 206.003 -14.75C206.025 -14.75 206.047 -14.75 206.069 -14.75C206.091 -14.75 206.113 -14.75 206.135 -14.75C206.157 -14.75 206.179 -14.75 206.201 -14.75C206.223 -14.75 206.245 -14.75 206.268 -14.75C206.29 -14.75 206.312 -14.75 206.334 -14.75C206.357 -14.75 206.379 -14.75 206.401 -14.75C206.424 -14.75 206.446 -14.75 206.469 -14.75C206.491 -14.75 206.513 -14.75 206.536 -14.75C206.558 -14.75 206.581 -14.75 206.604 -14.75C206.626 -14.75 206.649 -14.75 206.671 -14.75C206.694 -14.75 206.717 -14.75 206.74 -14.75C206.762 -14.75 206.785 -14.75 206.808 -14.75C206.831 -14.75 206.854 -14.75 206.876 -14.75C206.899 -14.75 206.922 -14.75 206.945 -14.75C206.968 -14.75 206.991 -14.75 207.014 -14.75C207.037 -14.75 207.06 -14.75 207.083 -14.75C207.106 -14.75 207.13 -14.75 207.153 -14.75C207.176 -14.75 207.199 -14.75 207.222 -14.75C207.246 -14.75 207.269 -14.75 207.292 -14.75C207.315 -14.75 207.339 -14.75 207.362 -14.75C207.386 -14.75 207.409 -14.75 207.432 -14.75C207.456 -14.75 207.479 -14.75 207.503 -14.75C207.526 -14.75 207.55 -14.75 207.574 -14.75C207.597 -14.75 207.621 -14.75 207.644 -14.75C207.668 -14.75 207.692 -14.75 207.716 -14.75C207.739 -14.75 207.763 -14.75 207.787 -14.75C207.811 -14.75 207.834 -14.75 207.858 -14.75C207.882 -14.75 207.906 -14.75 207.93 -14.75C207.954 -14.75 207.978 -14.75 208.002 -14.75C208.026 -14.75 208.05 -14.75 208.074 -14.75C208.098 -14.75 208.122 -14.75 208.146 -14.75C208.17 -14.75 208.194 -14.75 208.219 -14.75C208.243 -14.75 208.267 -14.75 208.291 -14.75C208.316 -14.75 208.34 -14.75 208.364 -14.75C208.389 -14.75 208.413 -14.75 208.437 -14.75C208.462 -14.75 208.486 -14.75 208.511 -14.75C208.535 -14.75 208.559 -14.75 208.584 -14.75C208.608 -14.75 208.633 -14.75 208.658 -14.75C208.682 -14.75 208.707 -14.75 208.731 -14.75C208.756 -14.75 208.781 -14.75 208.805 -14.75C208.83 -14.75 208.855 -14.75 208.88 -14.75C208.904 -14.75 208.929 -14.75 208.954 -14.75C208.979 -14.75 209.004 -14.75 209.028 -14.75C209.053 -14.75 209.078 -14.75 209.103 -14.75C209.128 -14.75 209.153 -14.75 209.178 -14.75C209.203 -14.75 209.228 -14.75 209.253 -14.75C209.278 -14.75 209.303 -14.75 209.328 -14.75C209.354 -14.75 209.379 -14.75 209.404 -14.75C209.429 -14.75 209.454 -14.75 209.479 -14.75C209.505 -14.75 209.53 -14.75 209.555 -14.75C209.581 -14.75 209.606 -14.75 209.631 -14.75C209.657 -14.75 209.682 -14.75 209.707 -14.75C209.733 -14.75 209.758 -14.75 209.784 -14.75C209.809 -14.75 209.835 -14.75 209.86 -14.75C209.886 -14.75 209.911 -14.75 209.937 -14.75C209.962 -14.75 209.988 -14.75 210.014 -14.75C210.039 -14.75 210.065 -14.75 210.091 -14.75C210.116 -14.75 210.142 -14.75 210.168 -14.75C210.193 -14.75 210.219 -14.75 210.245 -14.75C210.271 -14.75 210.297 -14.75 210.322 -14.75C210.348 -14.75 210.374 -14.75 210.4 -14.75C210.426 -14.75 210.452 -14.75 210.478 -14.75C210.504 -14.75 210.53 -14.75 210.556 -14.75C210.582 -14.75 210.608 -14.75 210.634 -14.75C210.66 -14.75 210.686 -14.75 210.712 -14.75C210.738 -14.75 210.764 -14.75 210.79 -14.75C210.817 -14.75 210.843 -14.75 210.869 -14.75C210.895 -14.75 210.921 -14.75 210.948 -14.75C210.974 -14.75 211 -14.75 211.027 -14.75C211.053 -14.75 211.079 -14.75 211.106 -14.75C211.132 -14.75 211.158 -14.75 211.185 -14.75C211.211 -14.75 211.238 -14.75 211.264 -14.75C211.29 -14.75 211.317 -14.75 211.343 -14.75C211.37 -14.75 211.396 -14.75 211.423 -14.75C211.45 -14.75 211.476 -14.75 211.503 -14.75C211.529 -14.75 211.556 -14.75 211.583 -14.75C211.609 -14.75 211.636 -14.75 211.663 -14.75C211.689 -14.75 211.716 -14.75 211.743 -14.75C211.769 -14.75 211.796 -14.75 211.823 -14.75C211.85 -14.75 211.877 -14.75 211.903 -14.75C211.93 -14.75 211.957 -14.75 211.984 -14.75C212.011 -14.75 212.038 -14.75 212.065 -14.75C212.092 -14.75 212.119 -14.75 212.146 -14.75C212.172 -14.75 212.199 -14.75 212.226 -14.75C212.253 -14.75 212.28 -14.75 212.308 -14.75C212.335 -14.75 212.362 -14.75 212.389 -14.75C212.416 -14.75 212.443 -14.75 212.47 -14.75C212.497 -14.75 212.524 -14.75 212.552 -14.75C212.579 -14.75 212.606 -14.75 212.633 -14.75C212.66 -14.75 212.688 -14.75 212.715 -14.75C212.742 -14.75 212.769 -14.75 212.797 -14.75C212.824 -14.75 212.851 -14.75 212.879 -14.75C212.906 -14.75 212.933 -14.75 212.961 -14.75C212.988 -14.75 213.016 -14.75 213.043 -14.75C213.07 -14.75 213.098 -14.75 213.125 -14.75C213.153 -14.75 213.18 -14.75 213.208 -14.75C213.235 -14.75 213.263 -14.75 213.29 -14.75C213.318 -14.75 213.345 -14.75 213.373 -14.75C213.4 -14.75 213.428 -14.75 213.456 -14.75C213.483 -14.75 213.511 -14.75 213.539 -14.75C213.566 -14.75 213.594 -14.75 213.622 -14.75C213.649 -14.75 213.677 -14.75 213.705 -14.75C213.732 -14.75 213.76 -14.75 213.788 -14.75C213.816 -14.75 213.843 -14.75 213.871 -14.75C213.899 -14.75 213.927 -14.75 213.955 -14.75C213.982 -14.75 214.01 -14.75 214.038 -14.75C214.066 -14.75 214.094 -14.75 214.122 -14.75C214.15 -14.75 214.178 -14.75 214.206 -14.75C214.233 -14.75 214.261 -14.75 214.289 -14.75C214.317 -14.75 214.345 -14.75 214.373 -14.75C214.401 -14.75 214.429 -14.75 214.457 -14.75C214.485 -14.75 214.513 -14.75 214.541 -14.75C214.57 -14.75 214.598 -14.75 214.626 -14.75C214.654 -14.75 214.682 -14.75 214.71 -14.75C214.738 -14.75 214.766 -14.75 214.794 -14.75C214.823 -14.75 214.851 -14.75 214.879 -14.75C214.907 -14.75 214.935 -14.75 214.964 -14.75C214.992 -14.75 215.02 -14.75 215.048 -14.75C215.076 -14.75 215.105 -14.75 215.133 -14.75C215.161 -14.75 215.19 -14.75 215.218 -14.75C215.246 -14.75 215.275 -14.75 215.303 -14.75C215.331 -14.75 215.36 -14.75 215.388 -14.75C215.416 -14.75 215.445 -14.75 215.473 -14.75C215.501 -14.75 215.53 -14.75 215.558 -14.75C215.587 -14.75 215.615 -14.75 215.643 -14.75C215.672 -14.75 215.7 -14.75 215.729 -14.75C215.757 -14.75 215.786 -14.75 215.814 -14.75C215.843 -14.75 215.871 -14.75 215.9 -14.75C215.928 -14.75 215.957 -14.75 215.985 -14.75C216.014 -14.75 216.042 -14.75 216.071 -14.75C216.1 -14.75 216.128 -14.75 216.157 -14.75C216.185 -14.75 216.214 -14.75 216.243 -14.75C216.271 -14.75 216.3 -14.75 216.328 -14.75C216.357 -14.75 216.386 -14.75 216.414 -14.75C216.443 -14.75 216.472 -14.75 216.5 -14.75C216.529 -14.75 216.558 -14.75 216.586 -14.75C216.615 -14.75 216.644 -14.75 216.673 -14.75C216.701 -14.75 216.73 -14.75 216.759 -14.75C216.788 -14.75 216.816 -14.75 216.845 -14.75C216.874 -14.75 216.903 -14.75 216.931 -14.75C216.96 -14.75 216.989 -14.75 217.018 -14.75C217.047 -14.75 217.076 -14.75 217.104 -14.75C217.133 -14.75 217.162 -14.75 217.191 -14.75C217.22 -14.75 217.249 -14.75 217.277 -14.75C217.306 -14.75 217.335 -14.75 217.364 -14.75C217.393 -14.75 217.422 -14.75 217.451 -14.75C217.48 -14.75 217.509 -14.75 217.537 -14.75C217.566 -14.75 217.595 -14.75 217.624 -14.75C217.653 -14.75 217.682 -14.75 217.711 -14.75C217.74 -14.75 217.769 -14.75 217.798 -14.75C217.827 -14.75 217.856 -14.75 217.885 -14.75C217.914 -14.75 217.943 -14.75 217.972 -14.75C218.001 -14.75 218.03 -14.75 218.059 -14.75C218.088 -14.75 218.117 -14.75 218.146 -14.75C218.175 -14.75 218.204 -14.75 218.233 -14.75C218.262 -14.75 218.291 -14.75 218.32 -14.75C218.349 -14.75 218.379 -14.75 218.408 -14.75C218.437 -14.75 218.466 -14.75 218.495 -14.75C218.524 -14.75 218.553 -14.75 218.582 -14.75C218.611 -14.75 218.64 -14.75 218.669 -14.75C218.699 -14.75 218.728 -14.75 218.757 -14.75C218.786 -14.75 218.815 -14.75 218.844 -14.75C218.873 -14.75 218.902 -14.75 218.932 -14.75C218.961 -14.75 218.99 -14.75 219.019 -14.75C219.048 -14.75 219.077 -14.75 219.107 -14.75C219.136 -14.75 219.165 -14.75 219.194 -14.75C219.223 -14.75 219.252 -14.75 219.282 -14.75C219.311 -14.75 219.34 -14.75 219.369 -14.75C219.398 -14.75 219.428 -14.75 219.457 -14.75C219.486 -14.75 219.515 -14.75 219.544 -14.75C219.574 -14.75 219.603 -14.75 219.632 -14.75C219.661 -14.75 219.691 -14.75 219.72 -14.75C219.749 -14.75 219.778 -14.75 219.807 -14.75C219.837 -14.75 219.866 -14.75 219.895 -14.75C219.924 -14.75 219.954 -14.75 219.983 -14.75C220.012 -14.75 220.041 -14.75 220.071 -14.75C220.1 -14.75 220.129 -14.75 220.158 -14.75C220.188 -14.75 220.217 -14.75 220.246 -14.75C220.276 -14.75 220.305 -14.75 220.334 -14.75C220.363 -14.75 220.393 -14.75 220.422 -14.75C220.451 -14.75 220.48 -14.75 220.51 -14.75C220.539 -14.75 220.568 -14.75 220.598 -14.75C220.627 -14.75 220.656 -14.75 220.685 -14.75C220.715 -14.75 220.744 -14.75 220.773 -14.75C220.803 -14.75 220.832 -14.75 220.861 -14.75C220.89 -14.75 220.92 -14.75 220.949 -14.75C220.978 -14.75 221.008 -14.75 221.037 -14.75C221.066 -14.75 221.095 -14.75 221.125 -14.75C221.154 -14.75 221.183 -14.75 221.213 -14.75C221.242 -14.75 221.271 -14.75 221.3 -14.75C221.33 -14.75 221.359 -14.75 221.388 -14.75C221.418 -14.75 221.447 -14.75 221.476 -14.75C221.505 -14.75 221.535 -14.75 221.564 -14.75C221.593 -14.75 221.623 -14.75 221.652 -14.75C221.681 -14.75 221.71 -14.75 221.74 -14.75C221.769 -14.75 221.798 -14.75 221.828 -14.75C221.857 -14.75 221.886 -14.75 221.915 -14.75C221.945 -14.75 221.974 -14.75 222.003 -14.75C222.033 -14.75 222.062 -14.75 222.091 -14.75C222.12 -14.75 222.15 -14.75 222.179 -14.75C222.208 -14.75 222.237 -14.75 222.267 -14.75C222.296 -14.75 222.325 -14.75 222.354 -14.75C222.384 -14.75 222.413 -14.75 222.442 -14.75C222.471 -14.75 222.501 -14.75 222.53 -14.75C222.559 -14.75 222.588 -14.75 222.618 -14.75C222.647 -14.75 222.676 -14.75 222.705 -14.75C222.735 -14.75 222.764 -14.75 222.793 -14.75C222.822 -14.75 222.851 -14.75 222.881 -14.75C222.91 -14.75 222.939 -14.75 222.968 -14.75C222.998 -14.75 223.027 -14.75 223.056 -14.75C223.085 -14.75 223.114 -14.75 223.144 -14.75C223.173 -14.75 223.202 -14.75 223.231 -14.75C223.26 -14.75 223.289 -14.75 223.319 -14.75C223.348 -14.75 223.377 -14.75 223.406 -14.75C223.435 -14.75 223.464 -14.75 223.494 -14.75C223.523 -14.75 223.552 -14.75 223.581 -14.75C223.61 -14.75 223.639 -14.75 223.668 -14.75C223.698 -14.75 223.727 -14.75 223.756 -14.75C223.785 -14.75 223.814 -14.75 223.843 -14.75C223.872 -14.75 223.901 -14.75 223.93 -14.75C223.96 -14.75 223.989 -14.75 224.018 -14.75C224.047 -14.75 224.076 -14.75 224.105 -14.75C224.134 -14.75 224.163 -14.75 224.192 -14.75C224.221 -14.75 224.25 -14.75 224.279 -14.75C224.308 -14.75 224.337 -14.75 224.366 -14.75C224.395 -14.75 224.424 -14.75 224.453 -14.75C224.482 -14.75 224.511 -14.75 224.54 -14.75C224.569 -14.75 224.598 -14.75 224.627 -14.75C224.656 -14.75 224.685 -14.75 224.714 -14.75C224.743 -14.75 224.772 -14.75 224.801 -14.75C224.83 -14.75 224.859 -14.75 224.888 -14.75C224.917 -14.75 224.946 -14.75 224.975 -14.75C225.004 -14.75 225.033 -14.75 225.062 -14.75C225.09 -14.75 225.119 -14.75 225.148 -14.75C225.177 -14.75 225.206 -14.75 225.235 -14.75C225.264 -14.75 225.292 -14.75 225.321 -14.75C225.35 -14.75 225.379 -14.75 225.408 -14.75C225.437 -14.75 225.465 -14.75 225.494 -14.75C225.523 -14.75 225.552 -14.75 225.581 -14.75C225.609 -14.75 225.638 -14.75 225.667 -14.75C225.696 -14.75 225.724 -14.75 225.753 -14.75C225.782 -14.75 225.811 -14.75 225.839 -14.75C225.868 -14.75 225.897 -14.75 225.925 -14.75C225.954 -14.75 225.983 -14.75 226.011 -14.75C226.04 -14.75 226.069 -14.75 226.097 -14.75C226.126 -14.75 226.155 -14.75 226.183 -14.75C226.212 -14.75 226.241 -14.75 226.269 -14.75C226.298 -14.75 226.326 -14.75 226.355 -14.75C226.384 -14.75 226.412 -14.75 226.441 -14.75C226.469 -14.75 226.498 -14.75 226.526 -14.75C226.555 -14.75 226.583 -14.75 226.612 -14.75C226.64 -14.75 226.669 -14.75 226.697 -14.75C226.726 -14.75 226.754 -14.75 226.783 -14.75C226.811 -14.75 226.84 -14.75 226.868 -14.75C226.896 -14.75 226.925 -14.75 226.953 -14.75C226.982 -14.75 227.01 -14.75 227.038 -14.75C227.067 -14.75 227.095 -14.75 227.123 -14.75C227.152 -14.75 227.18 -14.75 227.208 -14.75C227.237 -14.75 227.265 -14.75 227.293 -14.75C227.322 -14.75 227.35 -14.75 227.378 -14.75C227.406 -14.75 227.435 -14.75 227.463 -14.75C227.491 -14.75 227.519 -14.75 227.547 -14.75C227.576 -14.75 227.604 -14.75 227.632 -14.75C227.66 -14.75 227.688 -14.75 227.716 -14.75C227.745 -14.75 227.773 -14.75 227.801 -14.75C227.829 -14.75 227.857 -14.75 227.885 -14.75C227.913 -14.75 227.941 -14.75 227.969 -14.75C227.997 -14.75 228.025 -14.75 228.053 -14.75C228.081 -14.75 228.109 -14.75 228.137 -14.75C228.165 -14.75 228.193 -14.75 228.221 -14.75C228.249 -14.75 228.277 -14.75 228.305 -14.75C228.333 -14.75 228.361 -14.75 228.389 -14.75C228.417 -14.75 228.444 -14.75 228.472 -14.75C228.5 -14.75 228.528 -14.75 228.556 -14.75C228.584 -14.75 228.611 -14.75 228.639 -14.75C228.667 -14.75 228.695 -14.75 228.722 -14.75C228.75 -14.75 228.778 -14.75 228.805 -14.75C228.833 -14.75 228.861 -14.75 228.889 -14.75C228.916 -14.75 228.944 -14.75 228.971 -14.75C228.999 -14.75 229.027 -14.75 229.054 -14.75C229.082 -14.75 229.109 -14.75 229.137 -14.75C229.165 -14.75 229.192 -14.75 229.22 -14.75C229.247 -14.75 229.275 -14.75 229.302 -14.75C229.33 -14.75 229.357 -14.75 229.384 -14.75C229.412 -14.75 229.439 -14.75 229.467 -14.75C229.494 -14.75 229.521 -14.75 229.549 -14.75C229.576 -14.75 229.603 -14.75 229.631 -14.75C229.658 -14.75 229.685 -14.75 229.713 -14.75C229.74 -14.75 229.767 -14.75 229.794 -14.75C229.822 -14.75 229.849 -14.75 229.876 -14.75C229.903 -14.75 229.93 -14.75 229.958 -14.75C229.985 -14.75 230.012 -14.75 230.039 -14.75C230.066 -14.75 230.093 -14.75 230.12 -14.75C230.147 -14.75 230.174 -14.75 230.201 -14.75C230.228 -14.75 230.255 -14.75 230.282 -14.75C230.309 -14.75 230.336 -14.75 230.363 -14.75C230.39 -14.75 230.417 -14.75 230.444 -14.75C230.471 -14.75 230.498 -14.75 230.525 -14.75C230.551 -14.75 230.578 -14.75 230.605 -14.75C230.632 -14.75 230.659 -14.75 230.685 -14.75C230.712 -14.75 230.739 -14.75 230.766 -14.75C230.792 -14.75 230.819 -14.75 230.846 -14.75C230.872 -14.75 230.899 -14.75 230.926 -14.75C230.952 -14.75 230.979 -14.75 231.005 -14.75C231.032 -14.75 231.059 -14.75 231.085 -14.75C231.112 -14.75 231.138 -14.75 231.165 -14.75C231.191 -14.75 231.217 -14.75 231.244 -14.75C231.27 -14.75 231.297 -14.75 231.323 -14.75C231.35 -14.75 231.376 -14.75 231.402 -14.75C231.429 -14.75 231.455 -14.75 231.481 -14.75C231.507 -14.75 231.534 -14.75 231.56 -14.75C231.586 -14.75 231.612 -14.75 231.638 -14.75C231.665 -14.75 231.691 -14.75 231.717 -14.75C231.743 -14.75 231.769 -14.75 231.795 -14.75C231.821 -14.75 231.847 -14.75 231.873 -14.75C231.899 -14.75 231.925 -14.75 231.951 -14.75C231.977 -14.75 232.003 -14.75 232.029 -14.75C232.055 -14.75 232.081 -14.75 232.107 -14.75C232.133 -14.75 232.159 -14.75 232.184 -14.75C232.21 -14.75 232.236 -14.75 232.262 -14.75C232.288 -14.75 232.313 -14.75 232.339 -14.75C232.365 -14.75 232.39 -14.75 232.416 -14.75C232.442 -14.75 232.467 -14.75 232.493 -14.75C232.518 -14.75 232.544 -14.75 232.57 -14.75C232.595 -14.75 232.621 -14.75 232.646 -14.75C232.672 -14.75 232.697 -14.75 232.722 -14.75C232.748 -14.75 232.773 -14.75 232.799 -14.75C232.824 -14.75 232.849 -14.75 232.875 -14.75C232.9 -14.75 232.925 -14.75 232.951 -14.75C232.976 -14.75 233.001 -14.75 233.026 -14.75C233.051 -14.75 233.077 -14.75 233.102 -14.75C233.127 -14.75 233.152 -14.75 233.177 -14.75C233.202 -14.75 233.227 -14.75 233.252 -14.75C233.277 -14.75 233.302 -14.75 233.327 -14.75C233.352 -14.75 233.377 -14.75 233.402 -14.75C233.427 -14.75 233.452 -14.75 233.477 -14.75C233.501 -14.75 233.526 -14.75 233.551 -14.75C233.576 -14.75 233.601 -14.75 233.625 -14.75C233.65 -14.75 233.675 -14.75 233.699 -14.75C233.724 -14.75 233.749 -14.75 233.773 -14.75C233.798 -14.75 233.822 -14.75 233.847 -14.75C233.872 -14.75 233.896 -14.75 233.921 -14.75C233.945 -14.75 233.969 -14.75 233.994 -14.75C234.018 -14.75 234.043 -14.75 234.067 -14.75C234.091 -14.75 234.116 -14.75 234.14 -14.75C234.164 -14.75 234.188 -14.75 234.213 -14.75C234.237 -14.75 234.261 -14.75 234.285 -14.75C234.309 -14.75 234.333 -14.75 234.358 -14.75C234.382 -14.75 234.406 -14.75 234.43 -14.75C234.454 -14.75 234.478 -14.75 234.502 -14.75C234.526 -14.75 234.55 -14.75 234.573 -14.75C234.597 -14.75 234.621 -14.75 234.645 -14.75C234.669 -14.75 234.693 -14.75 234.716 -14.75C234.74 -14.75 234.764 -14.75 234.788 -14.75C234.811 -14.75 234.835 -14.75 234.858 -14.75C234.882 -14.75 234.906 -14.75 234.929 -14.75C234.953 -14.75 234.976 -14.75 235 -14.75C235.023 -14.75 235.047 -14.75 235.07 -14.75C235.094 -14.75 235.117 -14.75 235.14 -14.75C235.164 -14.75 235.187 -14.75 235.21 -14.75C235.233 -14.75 235.257 -14.75 235.28 -14.75C235.303 -14.75 235.326 -14.75 235.349 -14.75C235.372 -14.75 235.396 -14.75 235.419 -14.75C235.442 -14.75 235.465 -14.75 235.488 -14.75C235.511 -14.75 235.534 -14.75 235.557 -14.75C235.579 -14.75 235.602 -14.75 235.625 -14.75C235.648 -14.75 235.671 -14.75 235.694 -14.75C235.716 -14.75 235.739 -14.75 235.762 -14.75C235.784 -14.75 235.807 -14.75 235.83 -14.75C235.852 -14.75 235.875 -14.75 235.897 -14.75C235.92 -14.75 235.942 -14.75 235.965 -14.75C235.987 -14.75 236.01 -14.75 236.032 -14.75C236.055 -14.75 236.077 -14.75 236.099 -14.75C236.122 -14.75 236.144 -14.75 236.166 -14.75C236.188 -14.75 236.211 -14.75 236.233 -14.75C236.255 -14.75 236.277 -14.75 236.299 -14.75C236.321 -14.75 236.343 -14.75 236.365 -14.75C236.387 -14.75 236.409 -14.75 236.431 -14.75C236.453 -14.75 236.475 -14.75 236.497 -14.75C236.519 -14.75 236.541 -14.75 236.562 -14.75C236.584 -14.75 236.606 -14.75 236.628 -14.75C236.649 -14.75 236.671 -14.75 236.693 -14.75C236.714 -14.75 236.736 -14.75 236.757 -14.75C236.779 -14.75 236.8 -14.75 236.822 -14.75C236.843 -14.75 236.865 -14.75 236.886 -14.75C236.907 -14.75 236.929 -14.75 236.95 -14.75C236.971 -14.75 236.993 -14.75 237.014 -14.75C237.035 -14.75 237.056 -14.75 237.077 -14.75C237.098 -14.75 237.12 -14.75 237.141 -14.75C237.162 -14.75 237.183 -14.75 237.204 -14.75C237.225 -14.75 237.246 -14.75 237.266 -14.75C237.287 -14.75 237.308 -14.75 237.329 -14.75C237.35 -14.75 237.371 -14.75 237.391 -14.75C237.412 -14.75 237.433 -14.75 237.453 -14.75C237.474 -14.75 237.495 -14.75 237.515 -14.75C237.536 -14.75 237.556 -14.75 237.577 -14.75C237.597 -14.75 237.617 -14.75 237.638 -14.75C237.658 -14.75 237.679 -14.75 237.699 -14.75C237.719 -14.75 237.739 -14.75 237.76 -14.75C237.78 -14.75 237.8 -14.75 237.82 -14.75C237.84 -14.75 237.86 -14.75 237.88 -14.75C237.9 -14.75 237.92 -14.75 237.94 -14.75C237.96 -14.75 237.98 -14.75 238 -14.75V-16.25C237.98 -16.25 237.96 -16.25 237.94 -16.25C237.92 -16.25 237.9 -16.25 237.88 -16.25C237.86 -16.25 237.84 -16.25 237.82 -16.25C237.8 -16.25 237.78 -16.25 237.76 -16.25C237.739 -16.25 237.719 -16.25 237.699 -16.25C237.679 -16.25 237.658 -16.25 237.638 -16.25C237.617 -16.25 237.597 -16.25 237.577 -16.25C237.556 -16.25 237.536 -16.25 237.515 -16.25C237.495 -16.25 237.474 -16.25 237.453 -16.25C237.433 -16.25 237.412 -16.25 237.391 -16.25C237.371 -16.25 237.35 -16.25 237.329 -16.25C237.308 -16.25 237.287 -16.25 237.266 -16.25C237.246 -16.25 237.225 -16.25 237.204 -16.25C237.183 -16.25 237.162 -16.25 237.141 -16.25C237.12 -16.25 237.098 -16.25 237.077 -16.25C237.056 -16.25 237.035 -16.25 237.014 -16.25C236.993 -16.25 236.971 -16.25 236.95 -16.25C236.929 -16.25 236.907 -16.25 236.886 -16.25C236.865 -16.25 236.843 -16.25 236.822 -16.25C236.8 -16.25 236.779 -16.25 236.757 -16.25C236.736 -16.25 236.714 -16.25 236.693 -16.25C236.671 -16.25 236.649 -16.25 236.628 -16.25C236.606 -16.25 236.584 -16.25 236.562 -16.25C236.541 -16.25 236.519 -16.25 236.497 -16.25C236.475 -16.25 236.453 -16.25 236.431 -16.25C236.409 -16.25 236.387 -16.25 236.365 -16.25C236.343 -16.25 236.321 -16.25 236.299 -16.25C236.277 -16.25 236.255 -16.25 236.233 -16.25C236.211 -16.25 236.188 -16.25 236.166 -16.25C236.144 -16.25 236.122 -16.25 236.099 -16.25C236.077 -16.25 236.055 -16.25 236.032 -16.25C236.01 -16.25 235.987 -16.25 235.965 -16.25C235.942 -16.25 235.92 -16.25 235.897 -16.25C235.875 -16.25 235.852 -16.25 235.83 -16.25C235.807 -16.25 235.784 -16.25 235.762 -16.25C235.739 -16.25 235.716 -16.25 235.694 -16.25C235.671 -16.25 235.648 -16.25 235.625 -16.25C235.602 -16.25 235.579 -16.25 235.557 -16.25C235.534 -16.25 235.511 -16.25 235.488 -16.25C235.465 -16.25 235.442 -16.25 235.419 -16.25C235.396 -16.25 235.372 -16.25 235.349 -16.25C235.326 -16.25 235.303 -16.25 235.28 -16.25C235.257 -16.25 235.233 -16.25 235.21 -16.25C235.187 -16.25 235.164 -16.25 235.14 -16.25C235.117 -16.25 235.094 -16.25 235.07 -16.25C235.047 -16.25 235.023 -16.25 235 -16.25C234.976 -16.25 234.953 -16.25 234.929 -16.25C234.906 -16.25 234.882 -16.25 234.858 -16.25C234.835 -16.25 234.811 -16.25 234.788 -16.25C234.764 -16.25 234.74 -16.25 234.716 -16.25C234.693 -16.25 234.669 -16.25 234.645 -16.25C234.621 -16.25 234.597 -16.25 234.573 -16.25C234.55 -16.25 234.526 -16.25 234.502 -16.25C234.478 -16.25 234.454 -16.25 234.43 -16.25C234.406 -16.25 234.382 -16.25 234.358 -16.25C234.333 -16.25 234.309 -16.25 234.285 -16.25C234.261 -16.25 234.237 -16.25 234.213 -16.25C234.188 -16.25 234.164 -16.25 234.14 -16.25C234.116 -16.25 234.091 -16.25 234.067 -16.25C234.043 -16.25 234.018 -16.25 233.994 -16.25C233.969 -16.25 233.945 -16.25 233.921 -16.25C233.896 -16.25 233.872 -16.25 233.847 -16.25C233.822 -16.25 233.798 -16.25 233.773 -16.25C233.749 -16.25 233.724 -16.25 233.699 -16.25C233.675 -16.25 233.65 -16.25 233.625 -16.25C233.601 -16.25 233.576 -16.25 233.551 -16.25C233.526 -16.25 233.501 -16.25 233.477 -16.25C233.452 -16.25 233.427 -16.25 233.402 -16.25C233.377 -16.25 233.352 -16.25 233.327 -16.25C233.302 -16.25 233.277 -16.25 233.252 -16.25C233.227 -16.25 233.202 -16.25 233.177 -16.25C233.152 -16.25 233.127 -16.25 233.102 -16.25C233.077 -16.25 233.051 -16.25 233.026 -16.25C233.001 -16.25 232.976 -16.25 232.951 -16.25C232.925 -16.25 232.9 -16.25 232.875 -16.25C232.849 -16.25 232.824 -16.25 232.799 -16.25C232.773 -16.25 232.748 -16.25 232.722 -16.25C232.697 -16.25 232.672 -16.25 232.646 -16.25C232.621 -16.25 232.595 -16.25 232.57 -16.25C232.544 -16.25 232.518 -16.25 232.493 -16.25C232.467 -16.25 232.442 -16.25 232.416 -16.25C232.39 -16.25 232.365 -16.25 232.339 -16.25C232.313 -16.25 232.288 -16.25 232.262 -16.25C232.236 -16.25 232.21 -16.25 232.184 -16.25C232.159 -16.25 232.133 -16.25 232.107 -16.25C232.081 -16.25 232.055 -16.25 232.029 -16.25C232.003 -16.25 231.977 -16.25 231.951 -16.25C231.925 -16.25 231.899 -16.25 231.873 -16.25C231.847 -16.25 231.821 -16.25 231.795 -16.25C231.769 -16.25 231.743 -16.25 231.717 -16.25C231.691 -16.25 231.665 -16.25 231.638 -16.25C231.612 -16.25 231.586 -16.25 231.56 -16.25C231.534 -16.25 231.507 -16.25 231.481 -16.25C231.455 -16.25 231.429 -16.25 231.402 -16.25C231.376 -16.25 231.35 -16.25 231.323 -16.25C231.297 -16.25 231.27 -16.25 231.244 -16.25C231.217 -16.25 231.191 -16.25 231.165 -16.25C231.138 -16.25 231.112 -16.25 231.085 -16.25C231.059 -16.25 231.032 -16.25 231.005 -16.25C230.979 -16.25 230.952 -16.25 230.926 -16.25C230.899 -16.25 230.872 -16.25 230.846 -16.25C230.819 -16.25 230.792 -16.25 230.766 -16.25C230.739 -16.25 230.712 -16.25 230.685 -16.25C230.659 -16.25 230.632 -16.25 230.605 -16.25C230.578 -16.25 230.551 -16.25 230.525 -16.25C230.498 -16.25 230.471 -16.25 230.444 -16.25C230.417 -16.25 230.39 -16.25 230.363 -16.25C230.336 -16.25 230.309 -16.25 230.282 -16.25C230.255 -16.25 230.228 -16.25 230.201 -16.25C230.174 -16.25 230.147 -16.25 230.12 -16.25C230.093 -16.25 230.066 -16.25 230.039 -16.25C230.012 -16.25 229.985 -16.25 229.958 -16.25C229.93 -16.25 229.903 -16.25 229.876 -16.25C229.849 -16.25 229.822 -16.25 229.794 -16.25C229.767 -16.25 229.74 -16.25 229.713 -16.25C229.685 -16.25 229.658 -16.25 229.631 -16.25C229.603 -16.25 229.576 -16.25 229.549 -16.25C229.521 -16.25 229.494 -16.25 229.467 -16.25C229.439 -16.25 229.412 -16.25 229.384 -16.25C229.357 -16.25 229.33 -16.25 229.302 -16.25C229.275 -16.25 229.247 -16.25 229.22 -16.25C229.192 -16.25 229.165 -16.25 229.137 -16.25C229.109 -16.25 229.082 -16.25 229.054 -16.25C229.027 -16.25 228.999 -16.25 228.971 -16.25C228.944 -16.25 228.916 -16.25 228.889 -16.25C228.861 -16.25 228.833 -16.25 228.805 -16.25C228.778 -16.25 228.75 -16.25 228.722 -16.25C228.695 -16.25 228.667 -16.25 228.639 -16.25C228.611 -16.25 228.584 -16.25 228.556 -16.25C228.528 -16.25 228.5 -16.25 228.472 -16.25C228.444 -16.25 228.417 -16.25 228.389 -16.25C228.361 -16.25 228.333 -16.25 228.305 -16.25C228.277 -16.25 228.249 -16.25 228.221 -16.25C228.193 -16.25 228.165 -16.25 228.137 -16.25C228.109 -16.25 228.081 -16.25 228.053 -16.25C228.025 -16.25 227.997 -16.25 227.969 -16.25C227.941 -16.25 227.913 -16.25 227.885 -16.25C227.857 -16.25 227.829 -16.25 227.801 -16.25C227.773 -16.25 227.745 -16.25 227.716 -16.25C227.688 -16.25 227.66 -16.25 227.632 -16.25C227.604 -16.25 227.576 -16.25 227.547 -16.25C227.519 -16.25 227.491 -16.25 227.463 -16.25C227.435 -16.25 227.406 -16.25 227.378 -16.25C227.35 -16.25 227.322 -16.25 227.293 -16.25C227.265 -16.25 227.237 -16.25 227.208 -16.25C227.18 -16.25 227.152 -16.25 227.123 -16.25C227.095 -16.25 227.067 -16.25 227.038 -16.25C227.01 -16.25 226.982 -16.25 226.953 -16.25C226.925 -16.25 226.896 -16.25 226.868 -16.25C226.84 -16.25 226.811 -16.25 226.783 -16.25C226.754 -16.25 226.726 -16.25 226.697 -16.25C226.669 -16.25 226.64 -16.25 226.612 -16.25C226.583 -16.25 226.555 -16.25 226.526 -16.25C226.498 -16.25 226.469 -16.25 226.441 -16.25C226.412 -16.25 226.384 -16.25 226.355 -16.25C226.326 -16.25 226.298 -16.25 226.269 -16.25C226.241 -16.25 226.212 -16.25 226.183 -16.25C226.155 -16.25 226.126 -16.25 226.097 -16.25C226.069 -16.25 226.04 -16.25 226.011 -16.25C225.983 -16.25 225.954 -16.25 225.925 -16.25C225.897 -16.25 225.868 -16.25 225.839 -16.25C225.811 -16.25 225.782 -16.25 225.753 -16.25C225.724 -16.25 225.696 -16.25 225.667 -16.25C225.638 -16.25 225.609 -16.25 225.581 -16.25C225.552 -16.25 225.523 -16.25 225.494 -16.25C225.465 -16.25 225.437 -16.25 225.408 -16.25C225.379 -16.25 225.35 -16.25 225.321 -16.25C225.292 -16.25 225.264 -16.25 225.235 -16.25C225.206 -16.25 225.177 -16.25 225.148 -16.25C225.119 -16.25 225.09 -16.25 225.062 -16.25C225.033 -16.25 225.004 -16.25 224.975 -16.25C224.946 -16.25 224.917 -16.25 224.888 -16.25C224.859 -16.25 224.83 -16.25 224.801 -16.25C224.772 -16.25 224.743 -16.25 224.714 -16.25C224.685 -16.25 224.656 -16.25 224.627 -16.25C224.598 -16.25 224.569 -16.25 224.54 -16.25C224.511 -16.25 224.482 -16.25 224.453 -16.25C224.424 -16.25 224.395 -16.25 224.366 -16.25C224.337 -16.25 224.308 -16.25 224.279 -16.25C224.25 -16.25 224.221 -16.25 224.192 -16.25C224.163 -16.25 224.134 -16.25 224.105 -16.25C224.076 -16.25 224.047 -16.25 224.018 -16.25C223.989 -16.25 223.96 -16.25 223.93 -16.25C223.901 -16.25 223.872 -16.25 223.843 -16.25C223.814 -16.25 223.785 -16.25 223.756 -16.25C223.727 -16.25 223.698 -16.25 223.668 -16.25C223.639 -16.25 223.61 -16.25 223.581 -16.25C223.552 -16.25 223.523 -16.25 223.494 -16.25C223.464 -16.25 223.435 -16.25 223.406 -16.25C223.377 -16.25 223.348 -16.25 223.319 -16.25C223.289 -16.25 223.26 -16.25 223.231 -16.25C223.202 -16.25 223.173 -16.25 223.144 -16.25C223.114 -16.25 223.085 -16.25 223.056 -16.25C223.027 -16.25 222.998 -16.25 222.968 -16.25C222.939 -16.25 222.91 -16.25 222.881 -16.25C222.851 -16.25 222.822 -16.25 222.793 -16.25C222.764 -16.25 222.735 -16.25 222.705 -16.25C222.676 -16.25 222.647 -16.25 222.618 -16.25C222.588 -16.25 222.559 -16.25 222.53 -16.25C222.501 -16.25 222.471 -16.25 222.442 -16.25C222.413 -16.25 222.384 -16.25 222.354 -16.25C222.325 -16.25 222.296 -16.25 222.267 -16.25C222.237 -16.25 222.208 -16.25 222.179 -16.25C222.15 -16.25 222.12 -16.25 222.091 -16.25C222.062 -16.25 222.033 -16.25 222.003 -16.25C221.974 -16.25 221.945 -16.25 221.915 -16.25C221.886 -16.25 221.857 -16.25 221.828 -16.25C221.798 -16.25 221.769 -16.25 221.74 -16.25C221.71 -16.25 221.681 -16.25 221.652 -16.25C221.623 -16.25 221.593 -16.25 221.564 -16.25C221.535 -16.25 221.505 -16.25 221.476 -16.25C221.447 -16.25 221.418 -16.25 221.388 -16.25C221.359 -16.25 221.33 -16.25 221.3 -16.25C221.271 -16.25 221.242 -16.25 221.213 -16.25C221.183 -16.25 221.154 -16.25 221.125 -16.25C221.095 -16.25 221.066 -16.25 221.037 -16.25C221.008 -16.25 220.978 -16.25 220.949 -16.25C220.92 -16.25 220.89 -16.25 220.861 -16.25C220.832 -16.25 220.803 -16.25 220.773 -16.25C220.744 -16.25 220.715 -16.25 220.685 -16.25C220.656 -16.25 220.627 -16.25 220.598 -16.25C220.568 -16.25 220.539 -16.25 220.51 -16.25C220.48 -16.25 220.451 -16.25 220.422 -16.25C220.393 -16.25 220.363 -16.25 220.334 -16.25C220.305 -16.25 220.276 -16.25 220.246 -16.25C220.217 -16.25 220.188 -16.25 220.158 -16.25C220.129 -16.25 220.1 -16.25 220.071 -16.25C220.041 -16.25 220.012 -16.25 219.983 -16.25C219.954 -16.25 219.924 -16.25 219.895 -16.25C219.866 -16.25 219.837 -16.25 219.807 -16.25C219.778 -16.25 219.749 -16.25 219.72 -16.25C219.691 -16.25 219.661 -16.25 219.632 -16.25C219.603 -16.25 219.574 -16.25 219.544 -16.25C219.515 -16.25 219.486 -16.25 219.457 -16.25C219.428 -16.25 219.398 -16.25 219.369 -16.25C219.34 -16.25 219.311 -16.25 219.282 -16.25C219.252 -16.25 219.223 -16.25 219.194 -16.25C219.165 -16.25 219.136 -16.25 219.107 -16.25C219.077 -16.25 219.048 -16.25 219.019 -16.25C218.99 -16.25 218.961 -16.25 218.932 -16.25C218.902 -16.25 218.873 -16.25 218.844 -16.25C218.815 -16.25 218.786 -16.25 218.757 -16.25C218.728 -16.25 218.699 -16.25 218.669 -16.25C218.64 -16.25 218.611 -16.25 218.582 -16.25C218.553 -16.25 218.524 -16.25 218.495 -16.25C218.466 -16.25 218.437 -16.25 218.408 -16.25C218.379 -16.25 218.349 -16.25 218.32 -16.25C218.291 -16.25 218.262 -16.25 218.233 -16.25C218.204 -16.25 218.175 -16.25 218.146 -16.25C218.117 -16.25 218.088 -16.25 218.059 -16.25C218.03 -16.25 218.001 -16.25 217.972 -16.25C217.943 -16.25 217.914 -16.25 217.885 -16.25C217.856 -16.25 217.827 -16.25 217.798 -16.25C217.769 -16.25 217.74 -16.25 217.711 -16.25C217.682 -16.25 217.653 -16.25 217.624 -16.25C217.595 -16.25 217.566 -16.25 217.537 -16.25C217.509 -16.25 217.48 -16.25 217.451 -16.25C217.422 -16.25 217.393 -16.25 217.364 -16.25C217.335 -16.25 217.306 -16.25 217.277 -16.25C217.249 -16.25 217.22 -16.25 217.191 -16.25C217.162 -16.25 217.133 -16.25 217.104 -16.25C217.076 -16.25 217.047 -16.25 217.018 -16.25C216.989 -16.25 216.96 -16.25 216.931 -16.25C216.903 -16.25 216.874 -16.25 216.845 -16.25C216.816 -16.25 216.788 -16.25 216.759 -16.25C216.73 -16.25 216.701 -16.25 216.673 -16.25C216.644 -16.25 216.615 -16.25 216.586 -16.25C216.558 -16.25 216.529 -16.25 216.5 -16.25C216.472 -16.25 216.443 -16.25 216.414 -16.25C216.386 -16.25 216.357 -16.25 216.328 -16.25C216.3 -16.25 216.271 -16.25 216.243 -16.25C216.214 -16.25 216.185 -16.25 216.157 -16.25C216.128 -16.25 216.1 -16.25 216.071 -16.25C216.042 -16.25 216.014 -16.25 215.985 -16.25C215.957 -16.25 215.928 -16.25 215.9 -16.25C215.871 -16.25 215.843 -16.25 215.814 -16.25C215.786 -16.25 215.757 -16.25 215.729 -16.25C215.7 -16.25 215.672 -16.25 215.643 -16.25C215.615 -16.25 215.587 -16.25 215.558 -16.25C215.53 -16.25 215.501 -16.25 215.473 -16.25C215.445 -16.25 215.416 -16.25 215.388 -16.25C215.36 -16.25 215.331 -16.25 215.303 -16.25C215.275 -16.25 215.246 -16.25 215.218 -16.25C215.19 -16.25 215.161 -16.25 215.133 -16.25C215.105 -16.25 215.076 -16.25 215.048 -16.25C215.02 -16.25 214.992 -16.25 214.964 -16.25C214.935 -16.25 214.907 -16.25 214.879 -16.25C214.851 -16.25 214.823 -16.25 214.794 -16.25C214.766 -16.25 214.738 -16.25 214.71 -16.25C214.682 -16.25 214.654 -16.25 214.626 -16.25C214.598 -16.25 214.57 -16.25 214.541 -16.25C214.513 -16.25 214.485 -16.25 214.457 -16.25C214.429 -16.25 214.401 -16.25 214.373 -16.25C214.345 -16.25 214.317 -16.25 214.289 -16.25C214.261 -16.25 214.233 -16.25 214.206 -16.25C214.178 -16.25 214.15 -16.25 214.122 -16.25C214.094 -16.25 214.066 -16.25 214.038 -16.25C214.01 -16.25 213.982 -16.25 213.955 -16.25C213.927 -16.25 213.899 -16.25 213.871 -16.25C213.843 -16.25 213.816 -16.25 213.788 -16.25C213.76 -16.25 213.732 -16.25 213.705 -16.25C213.677 -16.25 213.649 -16.25 213.622 -16.25C213.594 -16.25 213.566 -16.25 213.539 -16.25C213.511 -16.25 213.483 -16.25 213.456 -16.25C213.428 -16.25 213.4 -16.25 213.373 -16.25C213.345 -16.25 213.318 -16.25 213.29 -16.25C213.263 -16.25 213.235 -16.25 213.208 -16.25C213.18 -16.25 213.153 -16.25 213.125 -16.25C213.098 -16.25 213.07 -16.25 213.043 -16.25C213.016 -16.25 212.988 -16.25 212.961 -16.25C212.933 -16.25 212.906 -16.25 212.879 -16.25C212.851 -16.25 212.824 -16.25 212.797 -16.25C212.769 -16.25 212.742 -16.25 212.715 -16.25C212.688 -16.25 212.66 -16.25 212.633 -16.25C212.606 -16.25 212.579 -16.25 212.552 -16.25C212.524 -16.25 212.497 -16.25 212.47 -16.25C212.443 -16.25 212.416 -16.25 212.389 -16.25C212.362 -16.25 212.335 -16.25 212.308 -16.25C212.28 -16.25 212.253 -16.25 212.226 -16.25C212.199 -16.25 212.172 -16.25 212.146 -16.25C212.119 -16.25 212.092 -16.25 212.065 -16.25C212.038 -16.25 212.011 -16.25 211.984 -16.25C211.957 -16.25 211.93 -16.25 211.903 -16.25C211.877 -16.25 211.85 -16.25 211.823 -16.25C211.796 -16.25 211.769 -16.25 211.743 -16.25C211.716 -16.25 211.689 -16.25 211.663 -16.25C211.636 -16.25 211.609 -16.25 211.583 -16.25C211.556 -16.25 211.529 -16.25 211.503 -16.25C211.476 -16.25 211.45 -16.25 211.423 -16.25C211.396 -16.25 211.37 -16.25 211.343 -16.25C211.317 -16.25 211.29 -16.25 211.264 -16.25C211.238 -16.25 211.211 -16.25 211.185 -16.25C211.158 -16.25 211.132 -16.25 211.106 -16.25C211.079 -16.25 211.053 -16.25 211.027 -16.25C211 -16.25 210.974 -16.25 210.948 -16.25C210.921 -16.25 210.895 -16.25 210.869 -16.25C210.843 -16.25 210.817 -16.25 210.79 -16.25C210.764 -16.25 210.738 -16.25 210.712 -16.25C210.686 -16.25 210.66 -16.25 210.634 -16.25C210.608 -16.25 210.582 -16.25 210.556 -16.25C210.53 -16.25 210.504 -16.25 210.478 -16.25C210.452 -16.25 210.426 -16.25 210.4 -16.25C210.374 -16.25 210.348 -16.25 210.322 -16.25C210.297 -16.25 210.271 -16.25 210.245 -16.25C210.219 -16.25 210.193 -16.25 210.168 -16.25C210.142 -16.25 210.116 -16.25 210.091 -16.25C210.065 -16.25 210.039 -16.25 210.014 -16.25C209.988 -16.25 209.962 -16.25 209.937 -16.25C209.911 -16.25 209.886 -16.25 209.86 -16.25C209.835 -16.25 209.809 -16.25 209.784 -16.25C209.758 -16.25 209.733 -16.25 209.707 -16.25C209.682 -16.25 209.657 -16.25 209.631 -16.25C209.606 -16.25 209.581 -16.25 209.555 -16.25C209.53 -16.25 209.505 -16.25 209.479 -16.25C209.454 -16.25 209.429 -16.25 209.404 -16.25C209.379 -16.25 209.354 -16.25 209.328 -16.25C209.303 -16.25 209.278 -16.25 209.253 -16.25C209.228 -16.25 209.203 -16.25 209.178 -16.25C209.153 -16.25 209.128 -16.25 209.103 -16.25C209.078 -16.25 209.053 -16.25 209.028 -16.25C209.004 -16.25 208.979 -16.25 208.954 -16.25C208.929 -16.25 208.904 -16.25 208.88 -16.25C208.855 -16.25 208.83 -16.25 208.805 -16.25C208.781 -16.25 208.756 -16.25 208.731 -16.25C208.707 -16.25 208.682 -16.25 208.658 -16.25C208.633 -16.25 208.608 -16.25 208.584 -16.25C208.559 -16.25 208.535 -16.25 208.511 -16.25C208.486 -16.25 208.462 -16.25 208.437 -16.25C208.413 -16.25 208.389 -16.25 208.364 -16.25C208.34 -16.25 208.316 -16.25 208.291 -16.25C208.267 -16.25 208.243 -16.25 208.219 -16.25C208.194 -16.25 208.17 -16.25 208.146 -16.25C208.122 -16.25 208.098 -16.25 208.074 -16.25C208.05 -16.25 208.026 -16.25 208.002 -16.25C207.978 -16.25 207.954 -16.25 207.93 -16.25C207.906 -16.25 207.882 -16.25 207.858 -16.25C207.834 -16.25 207.811 -16.25 207.787 -16.25C207.763 -16.25 207.739 -16.25 207.716 -16.25C207.692 -16.25 207.668 -16.25 207.644 -16.25C207.621 -16.25 207.597 -16.25 207.574 -16.25C207.55 -16.25 207.526 -16.25 207.503 -16.25C207.479 -16.25 207.456 -16.25 207.432 -16.25C207.409 -16.25 207.386 -16.25 207.362 -16.25C207.339 -16.25 207.315 -16.25 207.292 -16.25C207.269 -16.25 207.246 -16.25 207.222 -16.25C207.199 -16.25 207.176 -16.25 207.153 -16.25C207.13 -16.25 207.106 -16.25 207.083 -16.25C207.06 -16.25 207.037 -16.25 207.014 -16.25C206.991 -16.25 206.968 -16.25 206.945 -16.25C206.922 -16.25 206.899 -16.25 206.876 -16.25C206.854 -16.25 206.831 -16.25 206.808 -16.25C206.785 -16.25 206.762 -16.25 206.74 -16.25C206.717 -16.25 206.694 -16.25 206.671 -16.25C206.649 -16.25 206.626 -16.25 206.604 -16.25C206.581 -16.25 206.558 -16.25 206.536 -16.25C206.513 -16.25 206.491 -16.25 206.469 -16.25C206.446 -16.25 206.424 -16.25 206.401 -16.25C206.379 -16.25 206.357 -16.25 206.334 -16.25C206.312 -16.25 206.29 -16.25 206.268 -16.25C206.245 -16.25 206.223 -16.25 206.201 -16.25C206.179 -16.25 206.157 -16.25 206.135 -16.25C206.113 -16.25 206.091 -16.25 206.069 -16.25C206.047 -16.25 206.025 -16.25 206.003 -16.25C205.981 -16.25 205.959 -16.25 205.937 -16.25C205.915 -16.25 205.894 -16.25 205.872 -16.25C205.85 -16.25 205.829 -16.25 205.807 -16.25C205.785 -16.25 205.764 -16.25 205.742 -16.25C205.72 -16.25 205.699 -16.25 205.677 -16.25C205.656 -16.25 205.634 -16.25 205.613 -16.25C205.591 -16.25 205.57 -16.25 205.549 -16.25C205.527 -16.25 205.506 -16.25 205.485 -16.25C205.464 -16.25 205.442 -16.25 205.421 -16.25C205.4 -16.25 205.379 -16.25 205.358 -16.25C205.337 -16.25 205.316 -16.25 205.295 -16.25C205.274 -16.25 205.253 -16.25 205.232 -16.25C205.211 -16.25 205.19 -16.25 205.169 -16.25C205.148 -16.25 205.127 -16.25 205.107 -16.25C205.086 -16.25 205.065 -16.25 205.044 -16.25C205.024 -16.25 205.003 -16.25 204.982 -16.25C204.962 -16.25 204.941 -16.25 204.921 -16.25C204.9 -16.25 204.88 -16.25 204.859 -16.25C204.839 -16.25 204.819 -16.25 204.798 -16.25C204.778 -16.25 204.758 -16.25 204.737 -16.25C204.717 -16.25 204.697 -16.25 204.677 -16.25C204.656 -16.25 204.636 -16.25 204.616 -16.25C204.596 -16.25 204.576 -16.25 204.556 -16.25C204.536 -16.25 204.516 -16.25 204.496 -16.25C204.476 -16.25 204.457 -16.25 204.437 -16.25C204.417 -16.25 204.397 -16.25 204.377 -16.25C204.358 -16.25 204.338 -16.25 204.318 -16.25C204.299 -16.25 204.279 -16.25 204.259 -16.25C204.24 -16.25 204.22 -16.25 204.201 -16.25C204.182 -16.25 204.162 -16.25 204.143 -16.25C204.123 -16.25 204.104 -16.25 204.085 -16.25C204.065 -16.25 204.046 -16.25 204.027 -16.25C204.008 -16.25 203.989 -16.25 203.97 -16.25C203.95 -16.25 203.931 -16.25 203.912 -16.25C203.893 -16.25 203.874 -16.25 203.856 -16.25C203.837 -16.25 203.818 -16.25 203.799 -16.25C203.78 -16.25 203.761 -16.25 203.743 -16.25C203.724 -16.25 203.705 -16.25 203.687 -16.25C203.668 -16.25 203.649 -16.25 203.631 -16.25C203.612 -16.25 203.594 -16.25 203.575 -16.25C203.557 -16.25 203.538 -16.25 203.52 -16.25C203.502 -16.25 203.483 -16.25 203.465 -16.25C203.447 -16.25 203.429 -16.25 203.411 -16.25C203.392 -16.25 203.374 -16.25 203.356 -16.25C203.338 -16.25 203.32 -16.25 203.302 -16.25C203.284 -16.25 203.266 -16.25 203.248 -16.25C203.231 -16.25 203.213 -16.25 203.195 -16.25C203.177 -16.25 203.159 -16.25 203.142 -16.25C203.124 -16.25 203.106 -16.25 203.089 -16.25C203.071 -16.25 203.054 -16.25 203.036 -16.25C203.019 -16.25 203.001 -16.25 202.984 -16.25C202.967 -16.25 202.949 -16.25 202.932 -16.25C202.915 -16.25 202.897 -16.25 202.88 -16.25C202.863 -16.25 202.846 -16.25 202.829 -16.25C202.812 -16.25 202.795 -16.25 202.778 -16.25C202.761 -16.25 202.744 -16.25 202.727 -16.25C202.71 -16.25 202.693 -16.25 202.676 -16.25C202.66 -16.25 202.643 -16.25 202.626 -16.25C202.61 -16.25 202.593 -16.25 202.576 -16.25C202.56 -16.25 202.543 -16.25 202.527 -16.25C202.51 -16.25 202.494 -16.25 202.478 -16.25C202.461 -16.25 202.445 -16.25 202.429 -16.25C202.412 -16.25 202.396 -16.25 202.38 -16.25C202.364 -16.25 202.348 -16.25 202.332 -16.25C202.316 -16.25 202.3 -16.25 202.284 -16.25C202.268 -16.25 202.252 -16.25 202.236 -16.25C202.22 -16.25 202.204 -16.25 202.189 -16.25C202.173 -16.25 202.157 -16.25 202.141 -16.25C202.126 -16.25 202.11 -16.25 202.095 -16.25C202.079 -16.25 202.064 -16.25 202.048 -16.25C202.033 -16.25 202.017 -16.25 202.002 -16.25C201.987 -16.25 201.972 -16.25 201.956 -16.25C201.941 -16.25 201.926 -16.25 201.911 -16.25C201.896 -16.25 201.881 -16.25 201.866 -16.25C201.851 -16.25 201.836 -16.25 201.821 -16.25C201.806 -16.25 201.791 -16.25 201.776 -16.25C201.762 -16.25 201.747 -16.25 201.732 -16.25C201.718 -16.25 201.703 -16.25 201.688 -16.25C201.674 -16.25 201.659 -16.25 201.645 -16.25C201.631 -16.25 201.616 -16.25 201.602 -16.25C201.587 -16.25 201.573 -16.25 201.559 -16.25C201.545 -16.25 201.531 -16.25 201.516 -16.25C201.502 -16.25 201.488 -16.25 201.474 -16.25C201.46 -16.25 201.446 -16.25 201.432 -16.25C201.419 -16.25 201.405 -16.25 201.391 -16.25C201.377 -16.25 201.364 -16.25 201.35 -16.25C201.336 -16.25 201.323 -16.25 201.309 -16.25C201.295 -16.25 201.282 -16.25 201.269 -16.25C201.255 -16.25 201.242 -16.25 201.228 -16.25C201.215 -16.25 201.202 -16.25 201.189 -16.25C201.175 -16.25 201.162 -16.25 201.149 -16.25C201.136 -16.25 201.123 -16.25 201.11 -16.25C201.097 -16.25 201.084 -16.25 201.071 -16.25C201.059 -16.25 201.046 -16.25 201.033 -16.25C201.02 -16.25 201.008 -16.25 200.995 -16.25C200.982 -16.25 200.97 -16.25 200.957 -16.25C200.945 -16.25 200.932 -16.25 200.92 -16.25C200.908 -16.25 200.895 -16.25 200.883 -16.25C200.871 -16.25 200.859 -16.25 200.846 -16.25C200.834 -16.25 200.822 -16.25 200.81 -16.25C200.798 -16.25 200.786 -16.25 200.774 -16.25C200.762 -16.25 200.75 -16.25 200.739 -16.25C200.727 -16.25 200.715 -16.25 200.703 -16.25C200.692 -16.25 200.68 -16.25 200.669 -16.25C200.657 -16.25 200.646 -16.25 200.634 -16.25C200.623 -16.25 200.611 -16.25 200.6 -16.25C200.589 -16.25 200.578 -16.25 200.566 -16.25C200.555 -16.25 200.544 -16.25 200.533 -16.25C200.522 -16.25 200.511 -16.25 200.5 -16.25V-14.75Z",fill:"url(#paint2_linear_38_7016)"}),(0,_.jsx)("path",{d:"M164 82C164 79.7909 165.791 78 168 78C170.209 78 172 79.7909 172 82C172 84.2091 170.209 86 168 86C165.791 86 164 84.2091 164 82ZM238.53 118.97C238.823 119.263 238.823 119.737 238.53 120.03L233.757 124.803C233.464 125.096 232.99 125.096 232.697 124.803C232.404 124.51 232.404 124.036 232.697 123.743L236.939 119.5L232.697 115.257C232.404 114.964 232.404 114.49 232.697 114.197C232.99 113.904 233.464 113.904 233.757 114.197L238.53 118.97ZM168 81.25C168.006 81.25 168.013 81.25 168.019 81.25C168.026 81.25 168.033 81.25 168.039 81.25C168.046 81.25 168.052 81.25 168.059 81.25C168.065 81.25 168.072 81.25 168.079 81.25C168.085 81.25 168.092 81.25 168.099 81.25C168.105 81.25 168.112 81.25 168.119 81.25C168.125 81.25 168.132 81.25 168.139 81.25C168.146 81.25 168.152 81.25 168.159 81.25C168.166 81.25 168.173 81.25 168.18 81.25C168.186 81.25 168.193 81.25 168.2 81.25C168.207 81.25 168.214 81.25 168.221 81.25C168.228 81.25 168.235 81.25 168.242 81.25C168.249 81.25 168.256 81.25 168.263 81.25C168.27 81.25 168.277 81.25 168.284 81.25C168.291 81.25 168.298 81.25 168.305 81.25C168.312 81.25 168.319 81.25 168.326 81.25C168.333 81.25 168.34 81.25 168.347 81.25C168.355 81.25 168.362 81.25 168.369 81.25C168.376 81.25 168.383 81.25 168.391 81.25C168.398 81.25 168.405 81.25 168.412 81.25C168.42 81.25 168.427 81.25 168.434 81.25C168.442 81.25 168.449 81.25 168.456 81.25C168.464 81.25 168.471 81.25 168.478 81.25C168.486 81.25 168.493 81.25 168.501 81.25C168.508 81.25 168.515 81.25 168.523 81.25C168.53 81.25 168.538 81.25 168.545 81.25C168.553 81.25 168.56 81.25 168.568 81.25C168.575 81.25 168.583 81.25 168.591 81.25C168.598 81.25 168.606 81.25 168.613 81.25C168.621 81.25 168.629 81.25 168.636 81.25C168.644 81.25 168.652 81.25 168.659 81.25C168.667 81.25 168.675 81.25 168.683 81.25C168.69 81.25 168.698 81.25 168.706 81.25C168.714 81.25 168.721 81.25 168.729 81.25C168.737 81.25 168.745 81.25 168.753 81.25C168.761 81.25 168.768 81.25 168.776 81.25C168.784 81.25 168.792 81.25 168.8 81.25C168.808 81.25 168.816 81.25 168.824 81.25C168.832 81.25 168.84 81.25 168.848 81.25C168.856 81.25 168.864 81.25 168.872 81.25C168.88 81.25 168.888 81.25 168.896 81.25C168.904 81.25 168.912 81.25 168.92 81.25C168.928 81.25 168.937 81.25 168.945 81.25C168.953 81.25 168.961 81.25 168.969 81.25C168.977 81.25 168.986 81.25 168.994 81.25C169.002 81.25 169.01 81.25 169.019 81.25C169.027 81.25 169.035 81.25 169.043 81.25C169.052 81.25 169.06 81.25 169.068 81.25C169.077 81.25 169.085 81.25 169.093 81.25C169.102 81.25 169.11 81.25 169.119 81.25C169.127 81.25 169.135 81.25 169.144 81.25C169.152 81.25 169.161 81.25 169.169 81.25C169.178 81.25 169.186 81.25 169.195 81.25C169.203 81.25 169.212 81.25 169.22 81.25C169.229 81.25 169.238 81.25 169.246 81.25C169.255 81.25 169.263 81.25 169.272 81.25C169.281 81.25 169.289 81.25 169.298 81.25C169.307 81.25 169.315 81.25 169.324 81.25C169.333 81.25 169.341 81.25 169.35 81.25C169.359 81.25 169.368 81.25 169.376 81.25C169.385 81.25 169.394 81.25 169.403 81.25C169.412 81.25 169.42 81.25 169.429 81.25C169.438 81.25 169.447 81.25 169.456 81.25C169.465 81.25 169.474 81.25 169.483 81.25C169.492 81.25 169.5 81.25 169.509 81.25C169.518 81.25 169.527 81.25 169.536 81.25C169.545 81.25 169.554 81.25 169.563 81.25C169.572 81.25 169.581 81.25 169.59 81.25C169.6 81.25 169.609 81.25 169.618 81.25C169.627 81.25 169.636 81.25 169.645 81.25C169.654 81.25 169.663 81.25 169.672 81.25C169.682 81.25 169.691 81.25 169.7 81.25C169.709 81.25 169.718 81.25 169.728 81.25C169.737 81.25 169.746 81.25 169.755 81.25C169.765 81.25 169.774 81.25 169.783 81.25C169.793 81.25 169.802 81.25 169.811 81.25C169.821 81.25 169.83 81.25 169.839 81.25C169.849 81.25 169.858 81.25 169.867 81.25C169.877 81.25 169.886 81.25 169.896 81.25C169.905 81.25 169.915 81.25 169.924 81.25C169.934 81.25 169.943 81.25 169.953 81.25C169.962 81.25 169.972 81.25 169.981 81.25C169.991 81.25 170 81.25 170.01 81.25C170.019 81.25 170.029 81.25 170.039 81.25C170.048 81.25 170.058 81.25 170.068 81.25C170.077 81.25 170.087 81.25 170.097 81.25C170.106 81.25 170.116 81.25 170.126 81.25C170.135 81.25 170.145 81.25 170.155 81.25C170.165 81.25 170.174 81.25 170.184 81.25C170.194 81.25 170.204 81.25 170.213 81.25C170.223 81.25 170.233 81.25 170.243 81.25C170.253 81.25 170.263 81.25 170.273 81.25C170.282 81.25 170.292 81.25 170.302 81.25C170.312 81.25 170.322 81.25 170.332 81.25C170.342 81.25 170.352 81.25 170.362 81.25C170.372 81.25 170.382 81.25 170.392 81.25C170.402 81.25 170.412 81.25 170.422 81.25C170.432 81.25 170.442 81.25 170.452 81.25C170.462 81.25 170.472 81.25 170.482 81.25C170.493 81.25 170.503 81.25 170.513 81.25C170.523 81.25 170.533 81.25 170.543 81.25C170.553 81.25 170.564 81.25 170.574 81.25C170.584 81.25 170.594 81.25 170.605 81.25C170.615 81.25 170.625 81.25 170.635 81.25C170.646 81.25 170.656 81.25 170.666 81.25C170.676 81.25 170.687 81.25 170.697 81.25C170.707 81.25 170.718 81.25 170.728 81.25C170.739 81.25 170.749 81.25 170.759 81.25C170.77 81.25 170.78 81.25 170.791 81.25C170.801 81.25 170.811 81.25 170.822 81.25C170.832 81.25 170.843 81.25 170.853 81.25C170.864 81.25 170.874 81.25 170.885 81.25C170.895 81.25 170.906 81.25 170.916 81.25C170.927 81.25 170.938 81.25 170.948 81.25C170.959 81.25 170.969 81.25 170.98 81.25C170.991 81.25 171.001 81.25 171.012 81.25C171.023 81.25 171.033 81.25 171.044 81.25C171.055 81.25 171.065 81.25 171.076 81.25C171.087 81.25 171.097 81.25 171.108 81.25C171.119 81.25 171.13 81.25 171.14 81.25C171.151 81.25 171.162 81.25 171.173 81.25C171.184 81.25 171.194 81.25 171.205 81.25C171.216 81.25 171.227 81.25 171.238 81.25C171.249 81.25 171.26 81.25 171.27 81.25C171.281 81.25 171.292 81.25 171.303 81.25C171.314 81.25 171.325 81.25 171.336 81.25C171.347 81.25 171.358 81.25 171.369 81.25C171.38 81.25 171.391 81.25 171.402 81.25C171.413 81.25 171.424 81.25 171.435 81.25C171.446 81.25 171.457 81.25 171.468 81.25C171.479 81.25 171.49 81.25 171.502 81.25C171.513 81.25 171.524 81.25 171.535 81.25C171.546 81.25 171.557 81.25 171.568 81.25C171.58 81.25 171.591 81.25 171.602 81.25C171.613 81.25 171.624 81.25 171.636 81.25C171.647 81.25 171.658 81.25 171.669 81.25C171.681 81.25 171.692 81.25 171.703 81.25C171.714 81.25 171.726 81.25 171.737 81.25C171.748 81.25 171.76 81.25 171.771 81.25C171.782 81.25 171.794 81.25 171.805 81.25C171.816 81.25 171.828 81.25 171.839 81.25C171.851 81.25 171.862 81.25 171.873 81.25C171.885 81.25 171.896 81.25 171.908 81.25C171.919 81.25 171.931 81.25 171.942 81.25C171.954 81.25 171.965 81.25 171.977 81.25C171.988 81.25 172 81.25 172.011 81.25C172.023 81.25 172.034 81.25 172.046 81.25C172.058 81.25 172.069 81.25 172.081 81.25C172.092 81.25 172.104 81.25 172.116 81.25C172.127 81.25 172.139 81.25 172.151 81.25C172.162 81.25 172.174 81.25 172.186 81.25C172.197 81.25 172.209 81.25 172.221 81.25C172.232 81.25 172.244 81.25 172.256 81.25C172.268 81.25 172.279 81.25 172.291 81.25C172.303 81.25 172.315 81.25 172.326 81.25C172.338 81.25 172.35 81.25 172.362 81.25C172.374 81.25 172.386 81.25 172.397 81.25C172.409 81.25 172.421 81.25 172.433 81.25C172.445 81.25 172.457 81.25 172.469 81.25C172.481 81.25 172.493 81.25 172.505 81.25C172.516 81.25 172.528 81.25 172.54 81.25C172.552 81.25 172.564 81.25 172.576 81.25C172.588 81.25 172.6 81.25 172.612 81.25C172.624 81.25 172.636 81.25 172.648 81.25C172.66 81.25 172.673 81.25 172.685 81.25C172.697 81.25 172.709 81.25 172.721 81.25C172.733 81.25 172.745 81.25 172.757 81.25C172.769 81.25 172.781 81.25 172.794 81.25C172.806 81.25 172.818 81.25 172.83 81.25C172.842 81.25 172.854 81.25 172.867 81.25C172.879 81.25 172.891 81.25 172.903 81.25C172.916 81.25 172.928 81.25 172.94 81.25C172.952 81.25 172.965 81.25 172.977 81.25C172.989 81.25 173.002 81.25 173.014 81.25C173.026 81.25 173.038 81.25 173.051 81.25C173.063 81.25 173.075 81.25 173.088 81.25C173.1 81.25 173.113 81.25 173.125 81.25C173.137 81.25 173.15 81.25 173.162 81.25C173.175 81.25 173.187 81.25 173.199 81.25C173.212 81.25 173.224 81.25 173.237 81.25C173.249 81.25 173.262 81.25 173.274 81.25C173.287 81.25 173.299 81.25 173.312 81.25C173.324 81.25 173.337 81.25 173.349 81.25C173.362 81.25 173.374 81.25 173.387 81.25C173.4 81.25 173.412 81.25 173.425 81.25C173.437 81.25 173.45 81.25 173.463 81.25C173.475 81.25 173.488 81.25 173.501 81.25C173.513 81.25 173.526 81.25 173.539 81.25C173.551 81.25 173.564 81.25 173.577 81.25C173.589 81.25 173.602 81.25 173.615 81.25C173.627 81.25 173.64 81.25 173.653 81.25C173.666 81.25 173.678 81.25 173.691 81.25C173.704 81.25 173.717 81.25 173.729 81.25C173.742 81.25 173.755 81.25 173.768 81.25C173.781 81.25 173.794 81.25 173.806 81.25C173.819 81.25 173.832 81.25 173.845 81.25C173.858 81.25 173.871 81.25 173.884 81.25C173.897 81.25 173.909 81.25 173.922 81.25C173.935 81.25 173.948 81.25 173.961 81.25C173.974 81.25 173.987 81.25 174 81.25C174.013 81.25 174.026 81.25 174.039 81.25C174.052 81.25 174.065 81.25 174.078 81.25C174.091 81.25 174.104 81.25 174.117 81.25C174.13 81.25 174.143 81.25 174.156 81.25C174.169 81.25 174.182 81.25 174.195 81.25C174.208 81.25 174.222 81.25 174.235 81.25C174.248 81.25 174.261 81.25 174.274 81.25C174.287 81.25 174.3 81.25 174.313 81.25C174.327 81.25 174.34 81.25 174.353 81.25C174.366 81.25 174.379 81.25 174.392 81.25C174.406 81.25 174.419 81.25 174.432 81.25C174.445 81.25 174.459 81.25 174.472 81.25C174.485 81.25 174.498 81.25 174.512 81.25C174.525 81.25 174.538 81.25 174.551 81.25C174.565 81.25 174.578 81.25 174.591 81.25C174.605 81.25 174.618 81.25 174.631 81.25C174.645 81.25 174.658 81.25 174.671 81.25C174.685 81.25 174.698 81.25 174.711 81.25C174.725 81.25 174.738 81.25 174.752 81.25C174.765 81.25 174.778 81.25 174.792 81.25C174.805 81.25 174.819 81.25 174.832 81.25C174.846 81.25 174.859 81.25 174.873 81.25C174.886 81.25 174.9 81.25 174.913 81.25C174.926 81.25 174.94 81.25 174.954 81.25C174.967 81.25 174.981 81.25 174.994 81.25C175.008 81.25 175.021 81.25 175.035 81.25C175.048 81.25 175.062 81.25 175.075 81.25C175.089 81.25 175.103 81.25 175.116 81.25C175.13 81.25 175.143 81.25 175.157 81.25C175.171 81.25 175.184 81.25 175.198 81.25C175.212 81.25 175.225 81.25 175.239 81.25C175.253 81.25 175.266 81.25 175.28 81.25C175.294 81.25 175.307 81.25 175.321 81.25C175.335 81.25 175.348 81.25 175.362 81.25C175.376 81.25 175.39 81.25 175.403 81.25C175.417 81.25 175.431 81.25 175.445 81.25C175.458 81.25 175.472 81.25 175.486 81.25C175.5 81.25 175.514 81.25 175.527 81.25C175.541 81.25 175.555 81.25 175.569 81.25C175.583 81.25 175.597 81.25 175.61 81.25C175.624 81.25 175.638 81.25 175.652 81.25C175.666 81.25 175.68 81.25 175.694 81.25C175.708 81.25 175.722 81.25 175.735 81.25C175.749 81.25 175.763 81.25 175.777 81.25C175.791 81.25 175.805 81.25 175.819 81.25C175.833 81.25 175.847 81.25 175.861 81.25C175.875 81.25 175.889 81.25 175.903 81.25C175.917 81.25 175.931 81.25 175.945 81.25C175.959 81.25 175.973 81.25 175.987 81.25C176.001 81.25 176.015 81.25 176.029 81.25C176.043 81.25 176.057 81.25 176.071 81.25C176.085 81.25 176.1 81.25 176.114 81.25C176.128 81.25 176.142 81.25 176.156 81.25C176.17 81.25 176.184 81.25 176.198 81.25C176.212 81.25 176.227 81.25 176.241 81.25C176.255 81.25 176.269 81.25 176.283 81.25C176.297 81.25 176.312 81.25 176.326 81.25C176.34 81.25 176.354 81.25 176.368 81.25C176.383 81.25 176.397 81.25 176.411 81.25C176.425 81.25 176.44 81.25 176.454 81.25C176.468 81.25 176.482 81.25 176.497 81.25C176.511 81.25 176.525 81.25 176.539 81.25C176.554 81.25 176.568 81.25 176.582 81.25C176.597 81.25 176.611 81.25 176.625 81.25C176.64 81.25 176.654 81.25 176.668 81.25C176.683 81.25 176.697 81.25 176.711 81.25C176.726 81.25 176.74 81.25 176.754 81.25C176.769 81.25 176.783 81.25 176.798 81.25C176.812 81.25 176.826 81.25 176.841 81.25C176.855 81.25 176.87 81.25 176.884 81.25C176.898 81.25 176.913 81.25 176.927 81.25C176.942 81.25 176.956 81.25 176.971 81.25C176.985 81.25 177 81.25 177.014 81.25C177.029 81.25 177.043 81.25 177.058 81.25C177.072 81.25 177.087 81.25 177.101 81.25C177.116 81.25 177.13 81.25 177.145 81.25C177.159 81.25 177.174 81.25 177.188 81.25C177.203 81.25 177.218 81.25 177.232 81.25C177.247 81.25 177.261 81.25 177.276 81.25C177.29 81.25 177.305 81.25 177.32 81.25C177.334 81.25 177.349 81.25 177.364 81.25C177.378 81.25 177.393 81.25 177.407 81.25C177.422 81.25 177.437 81.25 177.451 81.25C177.466 81.25 177.481 81.25 177.495 81.25C177.51 81.25 177.525 81.25 177.539 81.25C177.554 81.25 177.569 81.25 177.584 81.25C177.598 81.25 177.613 81.25 177.628 81.25C177.642 81.25 177.657 81.25 177.672 81.25C177.687 81.25 177.701 81.25 177.716 81.25C177.731 81.25 177.746 81.25 177.76 81.25C177.775 81.25 177.79 81.25 177.805 81.25C177.82 81.25 177.834 81.25 177.849 81.25C177.864 81.25 177.879 81.25 177.894 81.25C177.909 81.25 177.923 81.25 177.938 81.25C177.953 81.25 177.968 81.25 177.983 81.25C177.998 81.25 178.012 81.25 178.027 81.25C178.042 81.25 178.057 81.25 178.072 81.25C178.087 81.25 178.102 81.25 178.117 81.25C178.132 81.25 178.146 81.25 178.161 81.25C178.176 81.25 178.191 81.25 178.206 81.25C178.221 81.25 178.236 81.25 178.251 81.25C178.266 81.25 178.281 81.25 178.296 81.25C178.311 81.25 178.326 81.25 178.341 81.25C178.356 81.25 178.371 81.25 178.386 81.25C178.401 81.25 178.416 81.25 178.431 81.25C178.446 81.25 178.461 81.25 178.476 81.25C178.491 81.25 178.506 81.25 178.521 81.25C178.536 81.25 178.551 81.25 178.566 81.25C178.581 81.25 178.596 81.25 178.611 81.25C178.626 81.25 178.641 81.25 178.657 81.25C178.672 81.25 178.687 81.25 178.702 81.25C178.717 81.25 178.732 81.25 178.747 81.25C178.762 81.25 178.777 81.25 178.793 81.25C178.808 81.25 178.823 81.25 178.838 81.25C178.853 81.25 178.868 81.25 178.883 81.25C178.899 81.25 178.914 81.25 178.929 81.25C178.944 81.25 178.959 81.25 178.974 81.25C178.99 81.25 179.005 81.25 179.02 81.25C179.035 81.25 179.05 81.25 179.066 81.25C179.081 81.25 179.096 81.25 179.111 81.25C179.126 81.25 179.142 81.25 179.157 81.25C179.172 81.25 179.187 81.25 179.203 81.25C179.218 81.25 179.233 81.25 179.248 81.25C179.264 81.25 179.279 81.25 179.294 81.25C179.31 81.25 179.325 81.25 179.34 81.25C179.355 81.25 179.371 81.25 179.386 81.25C179.401 81.25 179.417 81.25 179.432 81.25C179.447 81.25 179.463 81.25 179.478 81.25C179.493 81.25 179.509 81.25 179.524 81.25C179.539 81.25 179.555 81.25 179.57 81.25C179.585 81.25 179.601 81.25 179.616 81.25C179.632 81.25 179.647 81.25 179.662 81.25C179.678 81.25 179.693 81.25 179.709 81.25C179.724 81.25 179.739 81.25 179.755 81.25C179.77 81.25 179.786 81.25 179.801 81.25C179.816 81.25 179.832 81.25 179.847 81.25C179.863 81.25 179.878 81.25 179.894 81.25C179.909 81.25 179.925 81.25 179.94 81.25C179.955 81.25 179.971 81.25 179.986 81.25C180.002 81.25 180.017 81.25 180.033 81.25C180.048 81.25 180.064 81.25 180.079 81.25C180.095 81.25 180.11 81.25 180.126 81.25C180.141 81.25 180.157 81.25 180.172 81.25C180.188 81.25 180.203 81.25 180.219 81.25C180.234 81.25 180.25 81.25 180.266 81.25C180.281 81.25 180.297 81.25 180.312 81.25C180.328 81.25 180.343 81.25 180.359 81.25C180.374 81.25 180.39 81.25 180.406 81.25C180.421 81.25 180.437 81.25 180.452 81.25C180.468 81.25 180.484 81.25 180.499 81.25C180.515 81.25 180.53 81.25 180.546 81.25C180.562 81.25 180.577 81.25 180.593 81.25C180.608 81.25 180.624 81.25 180.64 81.25C180.655 81.25 180.671 81.25 180.687 81.25C180.702 81.25 180.718 81.25 180.734 81.25C180.749 81.25 180.765 81.25 180.781 81.25C180.796 81.25 180.812 81.25 180.828 81.25C180.843 81.25 180.859 81.25 180.875 81.25C180.89 81.25 180.906 81.25 180.922 81.25C180.937 81.25 180.953 81.25 180.969 81.25C180.985 81.25 181 81.25 181.016 81.25C181.032 81.25 181.047 81.25 181.063 81.25C181.079 81.25 181.095 81.25 181.11 81.25C181.126 81.25 181.142 81.25 181.158 81.25C181.173 81.25 181.189 81.25 181.205 81.25C181.221 81.25 181.236 81.25 181.252 81.25C181.268 81.25 181.284 81.25 181.3 81.25C181.315 81.25 181.331 81.25 181.347 81.25C181.363 81.25 181.378 81.25 181.394 81.25C181.41 81.25 181.426 81.25 181.442 81.25C181.457 81.25 181.473 81.25 181.489 81.25C181.505 81.25 181.521 81.25 181.537 81.25C181.552 81.25 181.568 81.25 181.584 81.25C181.6 81.25 181.616 81.25 181.632 81.25C181.647 81.25 181.663 81.25 181.679 81.25C181.695 81.25 181.711 81.25 181.727 81.25C181.743 81.25 181.758 81.25 181.774 81.25C181.79 81.25 181.806 81.25 181.822 81.25C181.838 81.25 181.854 81.25 181.87 81.25C181.886 81.25 181.901 81.25 181.917 81.25C181.933 81.25 181.949 81.25 181.965 81.25C181.981 81.25 181.997 81.25 182.013 81.25C182.029 81.25 182.045 81.25 182.061 81.25C182.076 81.25 182.092 81.25 182.108 81.25C182.124 81.25 182.14 81.25 182.156 81.25C182.172 81.25 182.188 81.25 182.204 81.25C182.22 81.25 182.236 81.25 182.252 81.25C182.268 81.25 182.284 81.25 182.3 81.25C182.316 81.25 182.332 81.25 182.348 81.25C182.364 81.25 182.38 81.25 182.396 81.25C182.412 81.25 182.428 81.25 182.444 81.25C182.46 81.25 182.476 81.25 182.492 81.25C182.508 81.25 182.524 81.25 182.54 81.25C182.556 81.25 182.572 81.25 182.588 81.25C182.604 81.25 182.62 81.25 182.636 81.25C182.652 81.25 182.668 81.25 182.684 81.25C182.7 81.25 182.716 81.25 182.732 81.25C182.748 81.25 182.764 81.25 182.78 81.25C182.796 81.25 182.812 81.25 182.828 81.25C182.844 81.25 182.86 81.25 182.876 81.25C182.892 81.25 182.908 81.25 182.924 81.25C182.94 81.25 182.956 81.25 182.973 81.25C182.989 81.25 183.005 81.25 183.021 81.25C183.037 81.25 183.053 81.25 183.069 81.25C183.085 81.25 183.101 81.25 183.117 81.25C183.133 81.25 183.149 81.25 183.166 81.25C183.182 81.25 183.198 81.25 183.214 81.25C183.23 81.25 183.246 81.25 183.262 81.25C183.278 81.25 183.294 81.25 183.311 81.25C183.327 81.25 183.343 81.25 183.359 81.25C183.375 81.25 183.391 81.25 183.407 81.25C183.423 81.25 183.439 81.25 183.456 81.25C183.472 81.25 183.488 81.25 183.504 81.25C183.52 81.25 183.536 81.25 183.552 81.25C183.569 81.25 183.585 81.25 183.601 81.25C183.617 81.25 183.633 81.25 183.649 81.25C183.666 81.25 183.682 81.25 183.698 81.25C183.714 81.25 183.73 81.25 183.746 81.25C183.763 81.25 183.779 81.25 183.795 81.25C183.811 81.25 183.827 81.25 183.843 81.25C183.86 81.25 183.876 81.25 183.892 81.25C183.908 81.25 183.924 81.25 183.94 81.25C183.957 81.25 183.973 81.25 183.989 81.25C184.005 81.25 184.021 81.25 184.038 81.25C184.054 81.25 184.07 81.25 184.086 81.25C184.102 81.25 184.119 81.25 184.135 81.25C184.151 81.25 184.167 81.25 184.183 81.25C184.2 81.25 184.216 81.25 184.232 81.25C184.248 81.25 184.265 81.25 184.281 81.25C184.297 81.25 184.313 81.25 184.329 81.25C184.346 81.25 184.362 81.25 184.378 81.25C184.394 81.25 184.411 81.25 184.427 81.25C184.443 81.25 184.459 81.25 184.476 81.25C184.492 81.25 184.508 81.25 184.524 81.25C184.541 81.25 184.557 81.25 184.573 81.25C184.589 81.25 184.605 81.25 184.622 81.25C184.638 81.25 184.654 81.25 184.671 81.25C184.687 81.25 184.703 81.25 184.719 81.25C184.736 81.25 184.752 81.25 184.768 81.25C184.784 81.25 184.801 81.25 184.817 81.25C184.833 81.25 184.849 81.25 184.866 81.25C184.882 81.25 184.898 81.25 184.914 81.25C184.931 81.25 184.947 81.25 184.963 81.25C184.98 81.25 184.996 81.25 185.012 81.25C185.028 81.25 185.045 81.25 185.061 81.25C185.077 81.25 185.094 81.25 185.11 81.25C185.126 81.25 185.142 81.25 185.159 81.25C185.175 81.25 185.191 81.25 185.208 81.25C185.224 81.25 185.24 81.25 185.256 81.25C185.273 81.25 185.289 81.25 185.305 81.25C185.322 81.25 185.338 81.25 185.354 81.25C185.371 81.25 185.387 81.25 185.403 81.25C185.419 81.25 185.436 81.25 185.452 81.25C185.468 81.25 185.485 81.25 185.501 81.25C185.517 81.25 185.534 81.25 185.55 81.25C185.566 81.25 185.582 81.25 185.599 81.25C185.615 81.25 185.631 81.25 185.648 81.25C185.664 81.25 185.68 81.25 185.697 81.25C185.713 81.25 185.729 81.25 185.746 81.25C185.762 81.25 185.778 81.25 185.795 81.25C185.811 81.25 185.827 81.25 185.844 81.25C185.86 81.25 185.876 81.25 185.893 81.25C185.909 81.25 185.925 81.25 185.941 81.25C185.958 81.25 185.974 81.25 185.99 81.25C186.007 81.25 186.023 81.25 186.039 81.25C186.056 81.25 186.072 81.25 186.088 81.25C186.105 81.25 186.121 81.25 186.137 81.25C186.154 81.25 186.17 81.25 186.186 81.25C186.203 81.25 186.219 81.25 186.235 81.25C186.252 81.25 186.268 81.25 186.284 81.25C186.301 81.25 186.317 81.25 186.333 81.25C186.35 81.25 186.366 81.25 186.382 81.25C186.399 81.25 186.415 81.25 186.431 81.25C186.448 81.25 186.464 81.25 186.48 81.25C186.497 81.25 186.513 81.25 186.529 81.25C186.546 81.25 186.562 81.25 186.578 81.25C186.595 81.25 186.611 81.25 186.627 81.25C186.644 81.25 186.66 81.25 186.676 81.25C186.693 81.25 186.709 81.25 186.726 81.25C186.742 81.25 186.758 81.25 186.775 81.25C186.791 81.25 186.807 81.25 186.824 81.25C186.84 81.25 186.856 81.25 186.873 81.25C186.889 81.25 186.905 81.25 186.922 81.25C186.938 81.25 186.954 81.25 186.971 81.25C186.987 81.25 187.003 81.25 187.02 81.25C187.036 81.25 187.052 81.25 187.069 81.25C187.085 81.25 187.101 81.25 187.118 81.25C187.134 81.25 187.15 81.25 187.167 81.25C187.183 81.25 187.199 81.25 187.216 81.25C187.232 81.25 187.248 81.25 187.265 81.25C187.281 81.25 187.297 81.25 187.314 81.25C187.33 81.25 187.346 81.25 187.363 81.25C187.379 81.25 187.395 81.25 187.412 81.25C187.428 81.25 187.444 81.25 187.461 81.25C187.477 81.25 187.493 81.25 187.51 81.25C187.526 81.25 187.542 81.25 187.559 81.25C187.575 81.25 187.591 81.25 187.608 81.25C187.624 81.25 187.64 81.25 187.657 81.25C187.673 81.25 187.689 81.25 187.706 81.25C187.722 81.25 187.738 81.25 187.755 81.25C187.771 81.25 187.787 81.25 187.804 81.25C187.82 81.25 187.836 81.25 187.853 81.25C187.869 81.25 187.885 81.25 187.902 81.25C187.918 81.25 187.934 81.25 187.95 81.25C187.967 81.25 187.983 81.25 187.999 81.25C188.016 81.25 188.032 81.25 188.048 81.25C188.065 81.25 188.081 81.25 188.097 81.25C188.114 81.25 188.13 81.25 188.146 81.25C188.163 81.25 188.179 81.25 188.195 81.25C188.212 81.25 188.228 81.25 188.244 81.25C188.26 81.25 188.277 81.25 188.293 81.25C188.309 81.25 188.326 81.25 188.342 81.25V82.75C188.326 82.75 188.309 82.75 188.293 82.75C188.277 82.75 188.26 82.75 188.244 82.75C188.228 82.75 188.212 82.75 188.195 82.75C188.179 82.75 188.163 82.75 188.146 82.75C188.13 82.75 188.114 82.75 188.097 82.75C188.081 82.75 188.065 82.75 188.048 82.75C188.032 82.75 188.016 82.75 187.999 82.75C187.983 82.75 187.967 82.75 187.95 82.75C187.934 82.75 187.918 82.75 187.902 82.75C187.885 82.75 187.869 82.75 187.853 82.75C187.836 82.75 187.82 82.75 187.804 82.75C187.787 82.75 187.771 82.75 187.755 82.75C187.738 82.75 187.722 82.75 187.706 82.75C187.689 82.75 187.673 82.75 187.657 82.75C187.64 82.75 187.624 82.75 187.608 82.75C187.591 82.75 187.575 82.75 187.559 82.75C187.542 82.75 187.526 82.75 187.51 82.75C187.493 82.75 187.477 82.75 187.461 82.75C187.444 82.75 187.428 82.75 187.412 82.75C187.395 82.75 187.379 82.75 187.363 82.75C187.346 82.75 187.33 82.75 187.314 82.75C187.297 82.75 187.281 82.75 187.265 82.75C187.248 82.75 187.232 82.75 187.216 82.75C187.199 82.75 187.183 82.75 187.167 82.75C187.15 82.75 187.134 82.75 187.118 82.75C187.101 82.75 187.085 82.75 187.069 82.75C187.052 82.75 187.036 82.75 187.02 82.75C187.003 82.75 186.987 82.75 186.971 82.75C186.954 82.75 186.938 82.75 186.922 82.75C186.905 82.75 186.889 82.75 186.873 82.75C186.856 82.75 186.84 82.75 186.824 82.75C186.807 82.75 186.791 82.75 186.775 82.75C186.758 82.75 186.742 82.75 186.726 82.75C186.709 82.75 186.693 82.75 186.676 82.75C186.66 82.75 186.644 82.75 186.627 82.75C186.611 82.75 186.595 82.75 186.578 82.75C186.562 82.75 186.546 82.75 186.529 82.75C186.513 82.75 186.497 82.75 186.48 82.75C186.464 82.75 186.448 82.75 186.431 82.75C186.415 82.75 186.399 82.75 186.382 82.75C186.366 82.75 186.35 82.75 186.333 82.75C186.317 82.75 186.301 82.75 186.284 82.75C186.268 82.75 186.252 82.75 186.235 82.75C186.219 82.75 186.203 82.75 186.186 82.75C186.17 82.75 186.154 82.75 186.137 82.75C186.121 82.75 186.105 82.75 186.088 82.75C186.072 82.75 186.056 82.75 186.039 82.75C186.023 82.75 186.007 82.75 185.99 82.75C185.974 82.75 185.958 82.75 185.941 82.75C185.925 82.75 185.909 82.75 185.893 82.75C185.876 82.75 185.86 82.75 185.844 82.75C185.827 82.75 185.811 82.75 185.795 82.75C185.778 82.75 185.762 82.75 185.746 82.75C185.729 82.75 185.713 82.75 185.697 82.75C185.68 82.75 185.664 82.75 185.648 82.75C185.631 82.75 185.615 82.75 185.599 82.75C185.582 82.75 185.566 82.75 185.55 82.75C185.534 82.75 185.517 82.75 185.501 82.75C185.485 82.75 185.468 82.75 185.452 82.75C185.436 82.75 185.419 82.75 185.403 82.75C185.387 82.75 185.371 82.75 185.354 82.75C185.338 82.75 185.322 82.75 185.305 82.75C185.289 82.75 185.273 82.75 185.256 82.75C185.24 82.75 185.224 82.75 185.208 82.75C185.191 82.75 185.175 82.75 185.159 82.75C185.142 82.75 185.126 82.75 185.11 82.75C185.094 82.75 185.077 82.75 185.061 82.75C185.045 82.75 185.028 82.75 185.012 82.75C184.996 82.75 184.98 82.75 184.963 82.75C184.947 82.75 184.931 82.75 184.914 82.75C184.898 82.75 184.882 82.75 184.866 82.75C184.849 82.75 184.833 82.75 184.817 82.75C184.801 82.75 184.784 82.75 184.768 82.75C184.752 82.75 184.736 82.75 184.719 82.75C184.703 82.75 184.687 82.75 184.671 82.75C184.654 82.75 184.638 82.75 184.622 82.75C184.605 82.75 184.589 82.75 184.573 82.75C184.557 82.75 184.541 82.75 184.524 82.75C184.508 82.75 184.492 82.75 184.476 82.75C184.459 82.75 184.443 82.75 184.427 82.75C184.411 82.75 184.394 82.75 184.378 82.75C184.362 82.75 184.346 82.75 184.329 82.75C184.313 82.75 184.297 82.75 184.281 82.75C184.265 82.75 184.248 82.75 184.232 82.75C184.216 82.75 184.2 82.75 184.183 82.75C184.167 82.75 184.151 82.75 184.135 82.75C184.119 82.75 184.102 82.75 184.086 82.75C184.07 82.75 184.054 82.75 184.038 82.75C184.021 82.75 184.005 82.75 183.989 82.75C183.973 82.75 183.957 82.75 183.94 82.75C183.924 82.75 183.908 82.75 183.892 82.75C183.876 82.75 183.86 82.75 183.843 82.75C183.827 82.75 183.811 82.75 183.795 82.75C183.779 82.75 183.763 82.75 183.746 82.75C183.73 82.75 183.714 82.75 183.698 82.75C183.682 82.75 183.666 82.75 183.649 82.75C183.633 82.75 183.617 82.75 183.601 82.75C183.585 82.75 183.569 82.75 183.552 82.75C183.536 82.75 183.52 82.75 183.504 82.75C183.488 82.75 183.472 82.75 183.456 82.75C183.439 82.75 183.423 82.75 183.407 82.75C183.391 82.75 183.375 82.75 183.359 82.75C183.343 82.75 183.327 82.75 183.311 82.75C183.294 82.75 183.278 82.75 183.262 82.75C183.246 82.75 183.23 82.75 183.214 82.75C183.198 82.75 183.182 82.75 183.166 82.75C183.149 82.75 183.133 82.75 183.117 82.75C183.101 82.75 183.085 82.75 183.069 82.75C183.053 82.75 183.037 82.75 183.021 82.75C183.005 82.75 182.989 82.75 182.973 82.75C182.956 82.75 182.94 82.75 182.924 82.75C182.908 82.75 182.892 82.75 182.876 82.75C182.86 82.75 182.844 82.75 182.828 82.75C182.812 82.75 182.796 82.75 182.78 82.75C182.764 82.75 182.748 82.75 182.732 82.75C182.716 82.75 182.7 82.75 182.684 82.75C182.668 82.75 182.652 82.75 182.636 82.75C182.62 82.75 182.604 82.75 182.588 82.75C182.572 82.75 182.556 82.75 182.54 82.75C182.524 82.75 182.508 82.75 182.492 82.75C182.476 82.75 182.46 82.75 182.444 82.75C182.428 82.75 182.412 82.75 182.396 82.75C182.38 82.75 182.364 82.75 182.348 82.75C182.332 82.75 182.316 82.75 182.3 82.75C182.284 82.75 182.268 82.75 182.252 82.75C182.236 82.75 182.22 82.75 182.204 82.75C182.188 82.75 182.172 82.75 182.156 82.75C182.14 82.75 182.124 82.75 182.108 82.75C182.092 82.75 182.076 82.75 182.061 82.75C182.045 82.75 182.029 82.75 182.013 82.75C181.997 82.75 181.981 82.75 181.965 82.75C181.949 82.75 181.933 82.75 181.917 82.75C181.901 82.75 181.886 82.75 181.87 82.75C181.854 82.75 181.838 82.75 181.822 82.75C181.806 82.75 181.79 82.75 181.774 82.75C181.758 82.75 181.743 82.75 181.727 82.75C181.711 82.75 181.695 82.75 181.679 82.75C181.663 82.75 181.647 82.75 181.632 82.75C181.616 82.75 181.6 82.75 181.584 82.75C181.568 82.75 181.552 82.75 181.537 82.75C181.521 82.75 181.505 82.75 181.489 82.75C181.473 82.75 181.457 82.75 181.442 82.75C181.426 82.75 181.41 82.75 181.394 82.75C181.378 82.75 181.363 82.75 181.347 82.75C181.331 82.75 181.315 82.75 181.3 82.75C181.284 82.75 181.268 82.75 181.252 82.75C181.236 82.75 181.221 82.75 181.205 82.75C181.189 82.75 181.173 82.75 181.158 82.75C181.142 82.75 181.126 82.75 181.11 82.75C181.095 82.75 181.079 82.75 181.063 82.75C181.047 82.75 181.032 82.75 181.016 82.75C181 82.75 180.985 82.75 180.969 82.75C180.953 82.75 180.937 82.75 180.922 82.75C180.906 82.75 180.89 82.75 180.875 82.75C180.859 82.75 180.843 82.75 180.828 82.75C180.812 82.75 180.796 82.75 180.781 82.75C180.765 82.75 180.749 82.75 180.734 82.75C180.718 82.75 180.702 82.75 180.687 82.75C180.671 82.75 180.655 82.75 180.64 82.75C180.624 82.75 180.608 82.75 180.593 82.75C180.577 82.75 180.562 82.75 180.546 82.75C180.53 82.75 180.515 82.75 180.499 82.75C180.484 82.75 180.468 82.75 180.452 82.75C180.437 82.75 180.421 82.75 180.406 82.75C180.39 82.75 180.374 82.75 180.359 82.75C180.343 82.75 180.328 82.75 180.312 82.75C180.297 82.75 180.281 82.75 180.266 82.75C180.25 82.75 180.234 82.75 180.219 82.75C180.203 82.75 180.188 82.75 180.172 82.75C180.157 82.75 180.141 82.75 180.126 82.75C180.11 82.75 180.095 82.75 180.079 82.75C180.064 82.75 180.048 82.75 180.033 82.75C180.017 82.75 180.002 82.75 179.986 82.75C179.971 82.75 179.955 82.75 179.94 82.75C179.925 82.75 179.909 82.75 179.894 82.75C179.878 82.75 179.863 82.75 179.847 82.75C179.832 82.75 179.816 82.75 179.801 82.75C179.786 82.75 179.77 82.75 179.755 82.75C179.739 82.75 179.724 82.75 179.709 82.75C179.693 82.75 179.678 82.75 179.662 82.75C179.647 82.75 179.632 82.75 179.616 82.75C179.601 82.75 179.585 82.75 179.57 82.75C179.555 82.75 179.539 82.75 179.524 82.75C179.509 82.75 179.493 82.75 179.478 82.75C179.463 82.75 179.447 82.75 179.432 82.75C179.417 82.75 179.401 82.75 179.386 82.75C179.371 82.75 179.355 82.75 179.34 82.75C179.325 82.75 179.31 82.75 179.294 82.75C179.279 82.75 179.264 82.75 179.248 82.75C179.233 82.75 179.218 82.75 179.203 82.75C179.187 82.75 179.172 82.75 179.157 82.75C179.142 82.75 179.126 82.75 179.111 82.75C179.096 82.75 179.081 82.75 179.066 82.75C179.05 82.75 179.035 82.75 179.02 82.75C179.005 82.75 178.99 82.75 178.974 82.75C178.959 82.75 178.944 82.75 178.929 82.75C178.914 82.75 178.899 82.75 178.883 82.75C178.868 82.75 178.853 82.75 178.838 82.75C178.823 82.75 178.808 82.75 178.793 82.75C178.777 82.75 178.762 82.75 178.747 82.75C178.732 82.75 178.717 82.75 178.702 82.75C178.687 82.75 178.672 82.75 178.657 82.75C178.641 82.75 178.626 82.75 178.611 82.75C178.596 82.75 178.581 82.75 178.566 82.75C178.551 82.75 178.536 82.75 178.521 82.75C178.506 82.75 178.491 82.75 178.476 82.75C178.461 82.75 178.446 82.75 178.431 82.75C178.416 82.75 178.401 82.75 178.386 82.75C178.371 82.75 178.356 82.75 178.341 82.75C178.326 82.75 178.311 82.75 178.296 82.75C178.281 82.75 178.266 82.75 178.251 82.75C178.236 82.75 178.221 82.75 178.206 82.75C178.191 82.75 178.176 82.75 178.161 82.75C178.146 82.75 178.132 82.75 178.117 82.75C178.102 82.75 178.087 82.75 178.072 82.75C178.057 82.75 178.042 82.75 178.027 82.75C178.012 82.75 177.998 82.75 177.983 82.75C177.968 82.75 177.953 82.75 177.938 82.75C177.923 82.75 177.909 82.75 177.894 82.75C177.879 82.75 177.864 82.75 177.849 82.75C177.834 82.75 177.82 82.75 177.805 82.75C177.79 82.75 177.775 82.75 177.76 82.75C177.746 82.75 177.731 82.75 177.716 82.75C177.701 82.75 177.687 82.75 177.672 82.75C177.657 82.75 177.642 82.75 177.628 82.75C177.613 82.75 177.598 82.75 177.584 82.75C177.569 82.75 177.554 82.75 177.539 82.75C177.525 82.75 177.51 82.75 177.495 82.75C177.481 82.75 177.466 82.75 177.451 82.75C177.437 82.75 177.422 82.75 177.407 82.75C177.393 82.75 177.378 82.75 177.364 82.75C177.349 82.75 177.334 82.75 177.32 82.75C177.305 82.75 177.29 82.75 177.276 82.75C177.261 82.75 177.247 82.75 177.232 82.75C177.218 82.75 177.203 82.75 177.188 82.75C177.174 82.75 177.159 82.75 177.145 82.75C177.13 82.75 177.116 82.75 177.101 82.75C177.087 82.75 177.072 82.75 177.058 82.75C177.043 82.75 177.029 82.75 177.014 82.75C177 82.75 176.985 82.75 176.971 82.75C176.956 82.75 176.942 82.75 176.927 82.75C176.913 82.75 176.898 82.75 176.884 82.75C176.87 82.75 176.855 82.75 176.841 82.75C176.826 82.75 176.812 82.75 176.798 82.75C176.783 82.75 176.769 82.75 176.754 82.75C176.74 82.75 176.726 82.75 176.711 82.75C176.697 82.75 176.683 82.75 176.668 82.75C176.654 82.75 176.64 82.75 176.625 82.75C176.611 82.75 176.597 82.75 176.582 82.75C176.568 82.75 176.554 82.75 176.539 82.75C176.525 82.75 176.511 82.75 176.497 82.75C176.482 82.75 176.468 82.75 176.454 82.75C176.44 82.75 176.425 82.75 176.411 82.75C176.397 82.75 176.383 82.75 176.368 82.75C176.354 82.75 176.34 82.75 176.326 82.75C176.312 82.75 176.297 82.75 176.283 82.75C176.269 82.75 176.255 82.75 176.241 82.75C176.227 82.75 176.212 82.75 176.198 82.75C176.184 82.75 176.17 82.75 176.156 82.75C176.142 82.75 176.128 82.75 176.114 82.75C176.1 82.75 176.085 82.75 176.071 82.75C176.057 82.75 176.043 82.75 176.029 82.75C176.015 82.75 176.001 82.75 175.987 82.75C175.973 82.75 175.959 82.75 175.945 82.75C175.931 82.75 175.917 82.75 175.903 82.75C175.889 82.75 175.875 82.75 175.861 82.75C175.847 82.75 175.833 82.75 175.819 82.75C175.805 82.75 175.791 82.75 175.777 82.75C175.763 82.75 175.749 82.75 175.735 82.75C175.722 82.75 175.708 82.75 175.694 82.75C175.68 82.75 175.666 82.75 175.652 82.75C175.638 82.75 175.624 82.75 175.61 82.75C175.597 82.75 175.583 82.75 175.569 82.75C175.555 82.75 175.541 82.75 175.527 82.75C175.514 82.75 175.5 82.75 175.486 82.75C175.472 82.75 175.458 82.75 175.445 82.75C175.431 82.75 175.417 82.75 175.403 82.75C175.39 82.75 175.376 82.75 175.362 82.75C175.348 82.75 175.335 82.75 175.321 82.75C175.307 82.75 175.294 82.75 175.28 82.75C175.266 82.75 175.253 82.75 175.239 82.75C175.225 82.75 175.212 82.75 175.198 82.75C175.184 82.75 175.171 82.75 175.157 82.75C175.143 82.75 175.13 82.75 175.116 82.75C175.103 82.75 175.089 82.75 175.075 82.75C175.062 82.75 175.048 82.75 175.035 82.75C175.021 82.75 175.008 82.75 174.994 82.75C174.981 82.75 174.967 82.75 174.954 82.75C174.94 82.75 174.926 82.75 174.913 82.75C174.9 82.75 174.886 82.75 174.873 82.75C174.859 82.75 174.846 82.75 174.832 82.75C174.819 82.75 174.805 82.75 174.792 82.75C174.778 82.75 174.765 82.75 174.752 82.75C174.738 82.75 174.725 82.75 174.711 82.75C174.698 82.75 174.685 82.75 174.671 82.75C174.658 82.75 174.645 82.75 174.631 82.75C174.618 82.75 174.605 82.75 174.591 82.75C174.578 82.75 174.565 82.75 174.551 82.75C174.538 82.75 174.525 82.75 174.512 82.75C174.498 82.75 174.485 82.75 174.472 82.75C174.459 82.75 174.445 82.75 174.432 82.75C174.419 82.75 174.406 82.75 174.392 82.75C174.379 82.75 174.366 82.75 174.353 82.75C174.34 82.75 174.327 82.75 174.313 82.75C174.3 82.75 174.287 82.75 174.274 82.75C174.261 82.75 174.248 82.75 174.235 82.75C174.222 82.75 174.208 82.75 174.195 82.75C174.182 82.75 174.169 82.75 174.156 82.75C174.143 82.75 174.13 82.75 174.117 82.75C174.104 82.75 174.091 82.75 174.078 82.75C174.065 82.75 174.052 82.75 174.039 82.75C174.026 82.75 174.013 82.75 174 82.75C173.987 82.75 173.974 82.75 173.961 82.75C173.948 82.75 173.935 82.75 173.922 82.75C173.909 82.75 173.897 82.75 173.884 82.75C173.871 82.75 173.858 82.75 173.845 82.75C173.832 82.75 173.819 82.75 173.806 82.75C173.794 82.75 173.781 82.75 173.768 82.75C173.755 82.75 173.742 82.75 173.729 82.75C173.717 82.75 173.704 82.75 173.691 82.75C173.678 82.75 173.666 82.75 173.653 82.75C173.64 82.75 173.627 82.75 173.615 82.75C173.602 82.75 173.589 82.75 173.577 82.75C173.564 82.75 173.551 82.75 173.539 82.75C173.526 82.75 173.513 82.75 173.501 82.75C173.488 82.75 173.475 82.75 173.463 82.75C173.45 82.75 173.437 82.75 173.425 82.75C173.412 82.75 173.4 82.75 173.387 82.75C173.374 82.75 173.362 82.75 173.349 82.75C173.337 82.75 173.324 82.75 173.312 82.75C173.299 82.75 173.287 82.75 173.274 82.75C173.262 82.75 173.249 82.75 173.237 82.75C173.224 82.75 173.212 82.75 173.199 82.75C173.187 82.75 173.175 82.75 173.162 82.75C173.15 82.75 173.137 82.75 173.125 82.75C173.113 82.75 173.1 82.75 173.088 82.75C173.075 82.75 173.063 82.75 173.051 82.75C173.038 82.75 173.026 82.75 173.014 82.75C173.002 82.75 172.989 82.75 172.977 82.75C172.965 82.75 172.952 82.75 172.94 82.75C172.928 82.75 172.916 82.75 172.903 82.75C172.891 82.75 172.879 82.75 172.867 82.75C172.854 82.75 172.842 82.75 172.83 82.75C172.818 82.75 172.806 82.75 172.794 82.75C172.781 82.75 172.769 82.75 172.757 82.75C172.745 82.75 172.733 82.75 172.721 82.75C172.709 82.75 172.697 82.75 172.685 82.75C172.673 82.75 172.66 82.75 172.648 82.75C172.636 82.75 172.624 82.75 172.612 82.75C172.6 82.75 172.588 82.75 172.576 82.75C172.564 82.75 172.552 82.75 172.54 82.75C172.528 82.75 172.516 82.75 172.505 82.75C172.493 82.75 172.481 82.75 172.469 82.75C172.457 82.75 172.445 82.75 172.433 82.75C172.421 82.75 172.409 82.75 172.397 82.75C172.386 82.75 172.374 82.75 172.362 82.75C172.35 82.75 172.338 82.75 172.326 82.75C172.315 82.75 172.303 82.75 172.291 82.75C172.279 82.75 172.268 82.75 172.256 82.75C172.244 82.75 172.232 82.75 172.221 82.75C172.209 82.75 172.197 82.75 172.186 82.75C172.174 82.75 172.162 82.75 172.151 82.75C172.139 82.75 172.127 82.75 172.116 82.75C172.104 82.75 172.092 82.75 172.081 82.75C172.069 82.75 172.058 82.75 172.046 82.75C172.034 82.75 172.023 82.75 172.011 82.75C172 82.75 171.988 82.75 171.977 82.75C171.965 82.75 171.954 82.75 171.942 82.75C171.931 82.75 171.919 82.75 171.908 82.75C171.896 82.75 171.885 82.75 171.873 82.75C171.862 82.75 171.851 82.75 171.839 82.75C171.828 82.75 171.816 82.75 171.805 82.75C171.794 82.75 171.782 82.75 171.771 82.75C171.76 82.75 171.748 82.75 171.737 82.75C171.726 82.75 171.714 82.75 171.703 82.75C171.692 82.75 171.681 82.75 171.669 82.75C171.658 82.75 171.647 82.75 171.636 82.75C171.624 82.75 171.613 82.75 171.602 82.75C171.591 82.75 171.58 82.75 171.568 82.75C171.557 82.75 171.546 82.75 171.535 82.75C171.524 82.75 171.513 82.75 171.502 82.75C171.49 82.75 171.479 82.75 171.468 82.75C171.457 82.75 171.446 82.75 171.435 82.75C171.424 82.75 171.413 82.75 171.402 82.75C171.391 82.75 171.38 82.75 171.369 82.75C171.358 82.75 171.347 82.75 171.336 82.75C171.325 82.75 171.314 82.75 171.303 82.75C171.292 82.75 171.281 82.75 171.27 82.75C171.26 82.75 171.249 82.75 171.238 82.75C171.227 82.75 171.216 82.75 171.205 82.75C171.194 82.75 171.184 82.75 171.173 82.75C171.162 82.75 171.151 82.75 171.14 82.75C171.13 82.75 171.119 82.75 171.108 82.75C171.097 82.75 171.087 82.75 171.076 82.75C171.065 82.75 171.055 82.75 171.044 82.75C171.033 82.75 171.023 82.75 171.012 82.75C171.001 82.75 170.991 82.75 170.98 82.75C170.969 82.75 170.959 82.75 170.948 82.75C170.938 82.75 170.927 82.75 170.916 82.75C170.906 82.75 170.895 82.75 170.885 82.75C170.874 82.75 170.864 82.75 170.853 82.75C170.843 82.75 170.832 82.75 170.822 82.75C170.811 82.75 170.801 82.75 170.791 82.75C170.78 82.75 170.77 82.75 170.759 82.75C170.749 82.75 170.739 82.75 170.728 82.75C170.718 82.75 170.707 82.75 170.697 82.75C170.687 82.75 170.676 82.75 170.666 82.75C170.656 82.75 170.646 82.75 170.635 82.75C170.625 82.75 170.615 82.75 170.605 82.75C170.594 82.75 170.584 82.75 170.574 82.75C170.564 82.75 170.553 82.75 170.543 82.75C170.533 82.75 170.523 82.75 170.513 82.75C170.503 82.75 170.493 82.75 170.482 82.75C170.472 82.75 170.462 82.75 170.452 82.75C170.442 82.75 170.432 82.75 170.422 82.75C170.412 82.75 170.402 82.75 170.392 82.75C170.382 82.75 170.372 82.75 170.362 82.75C170.352 82.75 170.342 82.75 170.332 82.75C170.322 82.75 170.312 82.75 170.302 82.75C170.292 82.75 170.282 82.75 170.273 82.75C170.263 82.75 170.253 82.75 170.243 82.75C170.233 82.75 170.223 82.75 170.213 82.75C170.204 82.75 170.194 82.75 170.184 82.75C170.174 82.75 170.165 82.75 170.155 82.75C170.145 82.75 170.135 82.75 170.126 82.75C170.116 82.75 170.106 82.75 170.097 82.75C170.087 82.75 170.077 82.75 170.068 82.75C170.058 82.75 170.048 82.75 170.039 82.75C170.029 82.75 170.019 82.75 170.01 82.75C170 82.75 169.991 82.75 169.981 82.75C169.972 82.75 169.962 82.75 169.953 82.75C169.943 82.75 169.934 82.75 169.924 82.75C169.915 82.75 169.905 82.75 169.896 82.75C169.886 82.75 169.877 82.75 169.867 82.75C169.858 82.75 169.849 82.75 169.839 82.75C169.83 82.75 169.821 82.75 169.811 82.75C169.802 82.75 169.793 82.75 169.783 82.75C169.774 82.75 169.765 82.75 169.755 82.75C169.746 82.75 169.737 82.75 169.728 82.75C169.718 82.75 169.709 82.75 169.7 82.75C169.691 82.75 169.682 82.75 169.672 82.75C169.663 82.75 169.654 82.75 169.645 82.75C169.636 82.75 169.627 82.75 169.618 82.75C169.609 82.75 169.6 82.75 169.59 82.75C169.581 82.75 169.572 82.75 169.563 82.75C169.554 82.75 169.545 82.75 169.536 82.75C169.527 82.75 169.518 82.75 169.509 82.75C169.5 82.75 169.492 82.75 169.483 82.75C169.474 82.75 169.465 82.75 169.456 82.75C169.447 82.75 169.438 82.75 169.429 82.75C169.42 82.75 169.412 82.75 169.403 82.75C169.394 82.75 169.385 82.75 169.376 82.75C169.368 82.75 169.359 82.75 169.35 82.75C169.341 82.75 169.333 82.75 169.324 82.75C169.315 82.75 169.307 82.75 169.298 82.75C169.289 82.75 169.281 82.75 169.272 82.75C169.263 82.75 169.255 82.75 169.246 82.75C169.238 82.75 169.229 82.75 169.22 82.75C169.212 82.75 169.203 82.75 169.195 82.75C169.186 82.75 169.178 82.75 169.169 82.75C169.161 82.75 169.152 82.75 169.144 82.75C169.135 82.75 169.127 82.75 169.119 82.75C169.11 82.75 169.102 82.75 169.093 82.75C169.085 82.75 169.077 82.75 169.068 82.75C169.06 82.75 169.052 82.75 169.043 82.75C169.035 82.75 169.027 82.75 169.019 82.75C169.01 82.75 169.002 82.75 168.994 82.75C168.986 82.75 168.977 82.75 168.969 82.75C168.961 82.75 168.953 82.75 168.945 82.75C168.937 82.75 168.928 82.75 168.92 82.75C168.912 82.75 168.904 82.75 168.896 82.75C168.888 82.75 168.88 82.75 168.872 82.75C168.864 82.75 168.856 82.75 168.848 82.75C168.84 82.75 168.832 82.75 168.824 82.75C168.816 82.75 168.808 82.75 168.8 82.75C168.792 82.75 168.784 82.75 168.776 82.75C168.768 82.75 168.761 82.75 168.753 82.75C168.745 82.75 168.737 82.75 168.729 82.75C168.721 82.75 168.714 82.75 168.706 82.75C168.698 82.75 168.69 82.75 168.683 82.75C168.675 82.75 168.667 82.75 168.659 82.75C168.652 82.75 168.644 82.75 168.636 82.75C168.629 82.75 168.621 82.75 168.613 82.75C168.606 82.75 168.598 82.75 168.591 82.75C168.583 82.75 168.575 82.75 168.568 82.75C168.56 82.75 168.553 82.75 168.545 82.75C168.538 82.75 168.53 82.75 168.523 82.75C168.515 82.75 168.508 82.75 168.501 82.75C168.493 82.75 168.486 82.75 168.478 82.75C168.471 82.75 168.464 82.75 168.456 82.75C168.449 82.75 168.442 82.75 168.434 82.75C168.427 82.75 168.42 82.75 168.412 82.75C168.405 82.75 168.398 82.75 168.391 82.75C168.383 82.75 168.376 82.75 168.369 82.75C168.362 82.75 168.355 82.75 168.347 82.75C168.34 82.75 168.333 82.75 168.326 82.75C168.319 82.75 168.312 82.75 168.305 82.75C168.298 82.75 168.291 82.75 168.284 82.75C168.277 82.75 168.27 82.75 168.263 82.75C168.256 82.75 168.249 82.75 168.242 82.75C168.235 82.75 168.228 82.75 168.221 82.75C168.214 82.75 168.207 82.75 168.2 82.75C168.193 82.75 168.186 82.75 168.18 82.75C168.173 82.75 168.166 82.75 168.159 82.75C168.152 82.75 168.146 82.75 168.139 82.75C168.132 82.75 168.125 82.75 168.119 82.75C168.112 82.75 168.105 82.75 168.099 82.75C168.092 82.75 168.085 82.75 168.079 82.75C168.072 82.75 168.065 82.75 168.059 82.75C168.052 82.75 168.046 82.75 168.039 82.75C168.033 82.75 168.026 82.75 168.019 82.75C168.013 82.75 168.006 82.75 168 82.75V81.25ZM188.342 81.25C190.447 81.25 192.186 81.7816 193.375 83.1285C194.546 84.4539 195.053 86.4243 195.053 89H193.553C193.553 86.5757 193.067 85.0461 192.251 84.1215C191.453 83.2184 190.211 82.75 188.342 82.75V81.25ZM195.053 89C195.053 89.75 195.053 95.25 195.053 100.875C195.053 106.5 195.053 112.25 195.053 113.5H193.553C193.553 112.25 193.553 106.5 193.553 100.875C193.553 95.25 193.553 89.75 193.553 89H195.053ZM195.053 113.5C195.053 115.112 195.509 116.399 196.388 117.284C197.264 118.166 198.664 118.75 200.761 118.75V120.25C198.388 120.25 196.558 119.584 195.324 118.341C194.091 117.101 193.553 115.388 193.553 113.5H195.053ZM200.761 118.75C200.772 118.75 200.783 118.75 200.794 118.75C200.805 118.75 200.816 118.75 200.827 118.75C200.838 118.75 200.85 118.75 200.861 118.75C200.872 118.75 200.883 118.75 200.895 118.75C200.906 118.75 200.917 118.75 200.929 118.75C200.94 118.75 200.952 118.75 200.964 118.75C200.975 118.75 200.987 118.75 200.999 118.75C201.01 118.75 201.022 118.75 201.034 118.75C201.046 118.75 201.058 118.75 201.07 118.75C201.081 118.75 201.093 118.75 201.106 118.75C201.118 118.75 201.13 118.75 201.142 118.75C201.154 118.75 201.166 118.75 201.179 118.75C201.191 118.75 201.203 118.75 201.216 118.75C201.228 118.75 201.241 118.75 201.253 118.75C201.266 118.75 201.278 118.75 201.291 118.75C201.304 118.75 201.316 118.75 201.329 118.75C201.342 118.75 201.355 118.75 201.368 118.75C201.38 118.75 201.393 118.75 201.406 118.75C201.419 118.75 201.432 118.75 201.446 118.75C201.459 118.75 201.472 118.75 201.485 118.75C201.498 118.75 201.512 118.75 201.525 118.75C201.538 118.75 201.552 118.75 201.565 118.75C201.579 118.75 201.592 118.75 201.606 118.75C201.619 118.75 201.633 118.75 201.647 118.75C201.66 118.75 201.674 118.75 201.688 118.75C201.702 118.75 201.715 118.75 201.729 118.75C201.743 118.75 201.757 118.75 201.771 118.75C201.785 118.75 201.799 118.75 201.813 118.75C201.828 118.75 201.842 118.75 201.856 118.75C201.87 118.75 201.884 118.75 201.899 118.75C201.913 118.75 201.928 118.75 201.942 118.75C201.956 118.75 201.971 118.75 201.986 118.75C202 118.75 202.015 118.75 202.029 118.75C202.044 118.75 202.059 118.75 202.074 118.75C202.088 118.75 202.103 118.75 202.118 118.75C202.133 118.75 202.148 118.75 202.163 118.75C202.178 118.75 202.193 118.75 202.208 118.75C202.223 118.75 202.238 118.75 202.254 118.75C202.269 118.75 202.284 118.75 202.299 118.75C202.315 118.75 202.33 118.75 202.345 118.75C202.361 118.75 202.376 118.75 202.392 118.75C202.407 118.75 202.423 118.75 202.439 118.75C202.454 118.75 202.47 118.75 202.486 118.75C202.501 118.75 202.517 118.75 202.533 118.75C202.549 118.75 202.565 118.75 202.581 118.75C202.597 118.75 202.613 118.75 202.629 118.75C202.645 118.75 202.661 118.75 202.677 118.75C202.693 118.75 202.709 118.75 202.726 118.75C202.742 118.75 202.758 118.75 202.775 118.75C202.791 118.75 202.807 118.75 202.824 118.75C202.84 118.75 202.857 118.75 202.873 118.75C202.89 118.75 202.907 118.75 202.923 118.75C202.94 118.75 202.957 118.75 202.973 118.75C202.99 118.75 203.007 118.75 203.024 118.75C203.041 118.75 203.058 118.75 203.075 118.75C203.092 118.75 203.109 118.75 203.126 118.75C203.143 118.75 203.16 118.75 203.177 118.75C203.194 118.75 203.211 118.75 203.229 118.75C203.246 118.75 203.263 118.75 203.281 118.75C203.298 118.75 203.315 118.75 203.333 118.75C203.35 118.75 203.368 118.75 203.385 118.75C203.403 118.75 203.42 118.75 203.438 118.75C203.456 118.75 203.474 118.75 203.491 118.75C203.509 118.75 203.527 118.75 203.545 118.75C203.562 118.75 203.58 118.75 203.598 118.75C203.616 118.75 203.634 118.75 203.652 118.75C203.67 118.75 203.688 118.75 203.707 118.75C203.725 118.75 203.743 118.75 203.761 118.75C203.779 118.75 203.798 118.75 203.816 118.75C203.834 118.75 203.853 118.75 203.871 118.75C203.889 118.75 203.908 118.75 203.926 118.75C203.945 118.75 203.963 118.75 203.982 118.75C204.001 118.75 204.019 118.75 204.038 118.75C204.057 118.75 204.075 118.75 204.094 118.75C204.113 118.75 204.132 118.75 204.151 118.75C204.17 118.75 204.188 118.75 204.207 118.75C204.226 118.75 204.245 118.75 204.264 118.75C204.284 118.75 204.303 118.75 204.322 118.75C204.341 118.75 204.36 118.75 204.379 118.75C204.399 118.75 204.418 118.75 204.437 118.75C204.457 118.75 204.476 118.75 204.495 118.75C204.515 118.75 204.534 118.75 204.554 118.75C204.573 118.75 204.593 118.75 204.612 118.75C204.632 118.75 204.652 118.75 204.671 118.75C204.691 118.75 204.711 118.75 204.73 118.75C204.75 118.75 204.77 118.75 204.79 118.75C204.81 118.75 204.83 118.75 204.85 118.75C204.87 118.75 204.89 118.75 204.91 118.75C204.93 118.75 204.95 118.75 204.97 118.75C204.99 118.75 205.01 118.75 205.03 118.75C205.05 118.75 205.071 118.75 205.091 118.75C205.111 118.75 205.132 118.75 205.152 118.75C205.172 118.75 205.193 118.75 205.213 118.75C205.234 118.75 205.254 118.75 205.275 118.75C205.295 118.75 205.316 118.75 205.336 118.75C205.357 118.75 205.378 118.75 205.398 118.75C205.419 118.75 205.44 118.75 205.461 118.75C205.481 118.75 205.502 118.75 205.523 118.75C205.544 118.75 205.565 118.75 205.586 118.75C205.607 118.75 205.628 118.75 205.649 118.75C205.67 118.75 205.691 118.75 205.712 118.75C205.733 118.75 205.754 118.75 205.776 118.75C205.797 118.75 205.818 118.75 205.839 118.75C205.861 118.75 205.882 118.75 205.903 118.75C205.925 118.75 205.946 118.75 205.967 118.75C205.989 118.75 206.01 118.75 206.032 118.75C206.053 118.75 206.075 118.75 206.097 118.75C206.118 118.75 206.14 118.75 206.161 118.75C206.183 118.75 206.205 118.75 206.227 118.75C206.248 118.75 206.27 118.75 206.292 118.75C206.314 118.75 206.336 118.75 206.357 118.75C206.379 118.75 206.401 118.75 206.423 118.75C206.445 118.75 206.467 118.75 206.489 118.75C206.511 118.75 206.534 118.75 206.556 118.75C206.578 118.75 206.6 118.75 206.622 118.75C206.644 118.75 206.667 118.75 206.689 118.75C206.711 118.75 206.733 118.75 206.756 118.75C206.778 118.75 206.801 118.75 206.823 118.75C206.845 118.75 206.868 118.75 206.89 118.75C206.913 118.75 206.935 118.75 206.958 118.75C206.981 118.75 207.003 118.75 207.026 118.75C207.049 118.75 207.071 118.75 207.094 118.75C207.117 118.75 207.139 118.75 207.162 118.75C207.185 118.75 207.208 118.75 207.231 118.75C207.254 118.75 207.276 118.75 207.299 118.75C207.322 118.75 207.345 118.75 207.368 118.75C207.391 118.75 207.414 118.75 207.437 118.75C207.46 118.75 207.484 118.75 207.507 118.75C207.53 118.75 207.553 118.75 207.576 118.75C207.599 118.75 207.623 118.75 207.646 118.75C207.669 118.75 207.693 118.75 207.716 118.75C207.739 118.75 207.763 118.75 207.786 118.75C207.81 118.75 207.833 118.75 207.857 118.75C207.88 118.75 207.904 118.75 207.927 118.75C207.951 118.75 207.974 118.75 207.998 118.75C208.021 118.75 208.045 118.75 208.069 118.75C208.093 118.75 208.116 118.75 208.14 118.75C208.164 118.75 208.188 118.75 208.211 118.75C208.235 118.75 208.259 118.75 208.283 118.75C208.307 118.75 208.331 118.75 208.355 118.75C208.379 118.75 208.403 118.75 208.427 118.75C208.451 118.75 208.475 118.75 208.499 118.75C208.523 118.75 208.547 118.75 208.571 118.75C208.595 118.75 208.62 118.75 208.644 118.75C208.668 118.75 208.692 118.75 208.716 118.75C208.741 118.75 208.765 118.75 208.789 118.75C208.814 118.75 208.838 118.75 208.862 118.75C208.887 118.75 208.911 118.75 208.936 118.75C208.96 118.75 208.985 118.75 209.009 118.75C209.034 118.75 209.058 118.75 209.083 118.75C209.107 118.75 209.132 118.75 209.157 118.75C209.181 118.75 209.206 118.75 209.231 118.75C209.255 118.75 209.28 118.75 209.305 118.75C209.33 118.75 209.354 118.75 209.379 118.75C209.404 118.75 209.429 118.75 209.454 118.75C209.479 118.75 209.504 118.75 209.529 118.75C209.554 118.75 209.578 118.75 209.603 118.75C209.628 118.75 209.653 118.75 209.679 118.75C209.704 118.75 209.729 118.75 209.754 118.75C209.779 118.75 209.804 118.75 209.829 118.75C209.854 118.75 209.88 118.75 209.905 118.75C209.93 118.75 209.955 118.75 209.981 118.75C210.006 118.75 210.031 118.75 210.056 118.75C210.082 118.75 210.107 118.75 210.133 118.75C210.158 118.75 210.183 118.75 210.209 118.75C210.234 118.75 210.26 118.75 210.285 118.75C210.311 118.75 210.336 118.75 210.362 118.75C210.387 118.75 210.413 118.75 210.439 118.75C210.464 118.75 210.49 118.75 210.515 118.75C210.541 118.75 210.567 118.75 210.593 118.75C210.618 118.75 210.644 118.75 210.67 118.75C210.696 118.75 210.721 118.75 210.747 118.75C210.773 118.75 210.799 118.75 210.825 118.75C210.851 118.75 210.876 118.75 210.902 118.75C210.928 118.75 210.954 118.75 210.98 118.75C211.006 118.75 211.032 118.75 211.058 118.75C211.084 118.75 211.11 118.75 211.136 118.75C211.162 118.75 211.189 118.75 211.215 118.75C211.241 118.75 211.267 118.75 211.293 118.75C211.319 118.75 211.345 118.75 211.372 118.75C211.398 118.75 211.424 118.75 211.45 118.75C211.477 118.75 211.503 118.75 211.529 118.75C211.556 118.75 211.582 118.75 211.608 118.75C211.635 118.75 211.661 118.75 211.687 118.75C211.714 118.75 211.74 118.75 211.767 118.75C211.793 118.75 211.82 118.75 211.846 118.75C211.873 118.75 211.899 118.75 211.926 118.75C211.952 118.75 211.979 118.75 212.005 118.75C212.032 118.75 212.059 118.75 212.085 118.75C212.112 118.75 212.139 118.75 212.165 118.75C212.192 118.75 212.219 118.75 212.245 118.75C212.272 118.75 212.299 118.75 212.326 118.75C212.352 118.75 212.379 118.75 212.406 118.75C212.433 118.75 212.46 118.75 212.487 118.75C212.513 118.75 212.54 118.75 212.567 118.75C212.594 118.75 212.621 118.75 212.648 118.75C212.675 118.75 212.702 118.75 212.729 118.75C212.756 118.75 212.783 118.75 212.81 118.75C212.837 118.75 212.864 118.75 212.891 118.75C212.918 118.75 212.945 118.75 212.972 118.75C212.999 118.75 213.026 118.75 213.054 118.75C213.081 118.75 213.108 118.75 213.135 118.75C213.162 118.75 213.189 118.75 213.217 118.75C213.244 118.75 213.271 118.75 213.298 118.75C213.326 118.75 213.353 118.75 213.38 118.75C213.408 118.75 213.435 118.75 213.462 118.75C213.49 118.75 213.517 118.75 213.544 118.75C213.572 118.75 213.599 118.75 213.626 118.75C213.654 118.75 213.681 118.75 213.709 118.75C213.736 118.75 213.764 118.75 213.791 118.75C213.819 118.75 213.846 118.75 213.874 118.75C213.901 118.75 213.929 118.75 213.956 118.75C213.984 118.75 214.011 118.75 214.039 118.75C214.067 118.75 214.094 118.75 214.122 118.75C214.15 118.75 214.177 118.75 214.205 118.75C214.232 118.75 214.26 118.75 214.288 118.75C214.316 118.75 214.343 118.75 214.371 118.75C214.399 118.75 214.426 118.75 214.454 118.75C214.482 118.75 214.51 118.75 214.538 118.75C214.565 118.75 214.593 118.75 214.621 118.75C214.649 118.75 214.677 118.75 214.705 118.75C214.732 118.75 214.76 118.75 214.788 118.75C214.816 118.75 214.844 118.75 214.872 118.75C214.9 118.75 214.928 118.75 214.956 118.75C214.984 118.75 215.012 118.75 215.04 118.75C215.068 118.75 215.096 118.75 215.124 118.75C215.152 118.75 215.18 118.75 215.208 118.75C215.236 118.75 215.264 118.75 215.292 118.75C215.32 118.75 215.348 118.75 215.376 118.75C215.404 118.75 215.432 118.75 215.46 118.75C215.489 118.75 215.517 118.75 215.545 118.75C215.573 118.75 215.601 118.75 215.629 118.75C215.658 118.75 215.686 118.75 215.714 118.75C215.742 118.75 215.77 118.75 215.799 118.75C215.827 118.75 215.855 118.75 215.883 118.75C215.912 118.75 215.94 118.75 215.968 118.75C215.997 118.75 216.025 118.75 216.053 118.75C216.081 118.75 216.11 118.75 216.138 118.75C216.166 118.75 216.195 118.75 216.223 118.75C216.252 118.75 216.28 118.75 216.308 118.75C216.337 118.75 216.365 118.75 216.394 118.75C216.422 118.75 216.45 118.75 216.479 118.75C216.507 118.75 216.536 118.75 216.564 118.75C216.593 118.75 216.621 118.75 216.65 118.75C216.678 118.75 216.707 118.75 216.735 118.75C216.764 118.75 216.792 118.75 216.821 118.75C216.849 118.75 216.878 118.75 216.906 118.75C216.935 118.75 216.963 118.75 216.992 118.75C217.02 118.75 217.049 118.75 217.078 118.75C217.106 118.75 217.135 118.75 217.163 118.75C217.192 118.75 217.221 118.75 217.249 118.75C217.278 118.75 217.306 118.75 217.335 118.75C217.364 118.75 217.392 118.75 217.421 118.75C217.45 118.75 217.478 118.75 217.507 118.75C217.536 118.75 217.564 118.75 217.593 118.75C217.622 118.75 217.651 118.75 217.679 118.75C217.708 118.75 217.737 118.75 217.765 118.75C217.794 118.75 217.823 118.75 217.852 118.75C217.88 118.75 217.909 118.75 217.938 118.75C217.967 118.75 217.995 118.75 218.024 118.75C218.053 118.75 218.082 118.75 218.111 118.75C218.139 118.75 218.168 118.75 218.197 118.75C218.226 118.75 218.255 118.75 218.284 118.75C218.312 118.75 218.341 118.75 218.37 118.75C218.399 118.75 218.428 118.75 218.457 118.75C218.485 118.75 218.514 118.75 218.543 118.75C218.572 118.75 218.601 118.75 218.63 118.75C218.659 118.75 218.688 118.75 218.716 118.75C218.745 118.75 218.774 118.75 218.803 118.75C218.832 118.75 218.861 118.75 218.89 118.75C218.919 118.75 218.948 118.75 218.977 118.75C219.006 118.75 219.035 118.75 219.063 118.75C219.092 118.75 219.121 118.75 219.15 118.75C219.179 118.75 219.208 118.75 219.237 118.75C219.266 118.75 219.295 118.75 219.324 118.75C219.353 118.75 219.382 118.75 219.411 118.75C219.44 118.75 219.469 118.75 219.498 118.75C219.527 118.75 219.556 118.75 219.585 118.75C219.614 118.75 219.643 118.75 219.672 118.75C219.701 118.75 219.73 118.75 219.759 118.75C219.788 118.75 219.817 118.75 219.846 118.75C219.875 118.75 219.904 118.75 219.933 118.75C219.962 118.75 219.991 118.75 220.02 118.75C220.049 118.75 220.078 118.75 220.107 118.75C220.136 118.75 220.165 118.75 220.194 118.75C220.224 118.75 220.253 118.75 220.282 118.75C220.311 118.75 220.34 118.75 220.369 118.75C220.398 118.75 220.427 118.75 220.456 118.75C220.485 118.75 220.514 118.75 220.543 118.75C220.572 118.75 220.601 118.75 220.63 118.75C220.659 118.75 220.688 118.75 220.718 118.75C220.747 118.75 220.776 118.75 220.805 118.75C220.834 118.75 220.863 118.75 220.892 118.75C220.921 118.75 220.95 118.75 220.979 118.75C221.008 118.75 221.037 118.75 221.066 118.75C221.096 118.75 221.125 118.75 221.154 118.75C221.183 118.75 221.212 118.75 221.241 118.75C221.27 118.75 221.299 118.75 221.328 118.75C221.357 118.75 221.386 118.75 221.415 118.75C221.445 118.75 221.474 118.75 221.503 118.75C221.532 118.75 221.561 118.75 221.59 118.75C221.619 118.75 221.648 118.75 221.677 118.75C221.706 118.75 221.735 118.75 221.764 118.75C221.794 118.75 221.823 118.75 221.852 118.75C221.881 118.75 221.91 118.75 221.939 118.75C221.968 118.75 221.997 118.75 222.026 118.75C222.055 118.75 222.084 118.75 222.113 118.75C222.142 118.75 222.171 118.75 222.201 118.75C222.23 118.75 222.259 118.75 222.288 118.75C222.317 118.75 222.346 118.75 222.375 118.75C222.404 118.75 222.433 118.75 222.462 118.75C222.491 118.75 222.52 118.75 222.549 118.75C222.578 118.75 222.607 118.75 222.636 118.75C222.665 118.75 222.694 118.75 222.723 118.75C222.752 118.75 222.781 118.75 222.81 118.75C222.839 118.75 222.869 118.75 222.898 118.75C222.927 118.75 222.956 118.75 222.985 118.75C223.014 118.75 223.043 118.75 223.072 118.75C223.101 118.75 223.13 118.75 223.159 118.75C223.188 118.75 223.217 118.75 223.246 118.75C223.275 118.75 223.304 118.75 223.333 118.75C223.361 118.75 223.39 118.75 223.419 118.75C223.448 118.75 223.477 118.75 223.506 118.75C223.535 118.75 223.564 118.75 223.593 118.75C223.622 118.75 223.651 118.75 223.68 118.75C223.709 118.75 223.738 118.75 223.767 118.75C223.796 118.75 223.825 118.75 223.854 118.75C223.882 118.75 223.911 118.75 223.94 118.75C223.969 118.75 223.998 118.75 224.027 118.75C224.056 118.75 224.085 118.75 224.114 118.75C224.142 118.75 224.171 118.75 224.2 118.75C224.229 118.75 224.258 118.75 224.287 118.75C224.316 118.75 224.344 118.75 224.373 118.75C224.402 118.75 224.431 118.75 224.46 118.75C224.489 118.75 224.517 118.75 224.546 118.75C224.575 118.75 224.604 118.75 224.633 118.75C224.661 118.75 224.69 118.75 224.719 118.75C224.748 118.75 224.777 118.75 224.805 118.75C224.834 118.75 224.863 118.75 224.892 118.75C224.92 118.75 224.949 118.75 224.978 118.75C225.006 118.75 225.035 118.75 225.064 118.75C225.093 118.75 225.121 118.75 225.15 118.75C225.179 118.75 225.207 118.75 225.236 118.75C225.265 118.75 225.293 118.75 225.322 118.75C225.351 118.75 225.379 118.75 225.408 118.75C225.437 118.75 225.465 118.75 225.494 118.75C225.522 118.75 225.551 118.75 225.58 118.75C225.608 118.75 225.637 118.75 225.665 118.75C225.694 118.75 225.723 118.75 225.751 118.75C225.78 118.75 225.808 118.75 225.837 118.75C225.865 118.75 225.894 118.75 225.922 118.75C225.951 118.75 225.979 118.75 226.008 118.75C226.036 118.75 226.065 118.75 226.093 118.75C226.122 118.75 226.15 118.75 226.179 118.75C226.207 118.75 226.236 118.75 226.264 118.75C226.292 118.75 226.321 118.75 226.349 118.75C226.378 118.75 226.406 118.75 226.434 118.75C226.463 118.75 226.491 118.75 226.519 118.75C226.548 118.75 226.576 118.75 226.604 118.75C226.633 118.75 226.661 118.75 226.689 118.75C226.718 118.75 226.746 118.75 226.774 118.75C226.803 118.75 226.831 118.75 226.859 118.75C226.887 118.75 226.916 118.75 226.944 118.75C226.972 118.75 227 118.75 227.028 118.75C227.057 118.75 227.085 118.75 227.113 118.75C227.141 118.75 227.169 118.75 227.197 118.75C227.226 118.75 227.254 118.75 227.282 118.75C227.31 118.75 227.338 118.75 227.366 118.75C227.394 118.75 227.422 118.75 227.45 118.75C227.478 118.75 227.506 118.75 227.534 118.75C227.563 118.75 227.591 118.75 227.619 118.75C227.647 118.75 227.675 118.75 227.702 118.75C227.73 118.75 227.758 118.75 227.786 118.75C227.814 118.75 227.842 118.75 227.87 118.75C227.898 118.75 227.926 118.75 227.954 118.75C227.982 118.75 228.01 118.75 228.037 118.75C228.065 118.75 228.093 118.75 228.121 118.75C228.149 118.75 228.176 118.75 228.204 118.75C228.232 118.75 228.26 118.75 228.288 118.75C228.315 118.75 228.343 118.75 228.371 118.75C228.398 118.75 228.426 118.75 228.454 118.75C228.482 118.75 228.509 118.75 228.537 118.75C228.564 118.75 228.592 118.75 228.62 118.75C228.647 118.75 228.675 118.75 228.702 118.75C228.73 118.75 228.758 118.75 228.785 118.75C228.813 118.75 228.84 118.75 228.868 118.75C228.895 118.75 228.923 118.75 228.95 118.75C228.978 118.75 229.005 118.75 229.033 118.75C229.06 118.75 229.087 118.75 229.115 118.75C229.142 118.75 229.17 118.75 229.197 118.75C229.224 118.75 229.252 118.75 229.279 118.75C229.306 118.75 229.334 118.75 229.361 118.75C229.388 118.75 229.415 118.75 229.443 118.75C229.47 118.75 229.497 118.75 229.524 118.75C229.552 118.75 229.579 118.75 229.606 118.75C229.633 118.75 229.66 118.75 229.687 118.75C229.714 118.75 229.742 118.75 229.769 118.75C229.796 118.75 229.823 118.75 229.85 118.75C229.877 118.75 229.904 118.75 229.931 118.75C229.958 118.75 229.985 118.75 230.012 118.75C230.039 118.75 230.066 118.75 230.093 118.75C230.12 118.75 230.147 118.75 230.173 118.75C230.2 118.75 230.227 118.75 230.254 118.75C230.281 118.75 230.308 118.75 230.334 118.75C230.361 118.75 230.388 118.75 230.415 118.75C230.442 118.75 230.468 118.75 230.495 118.75C230.522 118.75 230.548 118.75 230.575 118.75C230.602 118.75 230.628 118.75 230.655 118.75C230.682 118.75 230.708 118.75 230.735 118.75C230.761 118.75 230.788 118.75 230.814 118.75C230.841 118.75 230.867 118.75 230.894 118.75C230.92 118.75 230.947 118.75 230.973 118.75C231 118.75 231.026 118.75 231.052 118.75C231.079 118.75 231.105 118.75 231.132 118.75C231.158 118.75 231.184 118.75 231.211 118.75C231.237 118.75 231.263 118.75 231.289 118.75C231.316 118.75 231.342 118.75 231.368 118.75C231.394 118.75 231.42 118.75 231.446 118.75C231.473 118.75 231.499 118.75 231.525 118.75C231.551 118.75 231.577 118.75 231.603 118.75C231.629 118.75 231.655 118.75 231.681 118.75C231.707 118.75 231.733 118.75 231.759 118.75C231.785 118.75 231.811 118.75 231.837 118.75C231.863 118.75 231.889 118.75 231.914 118.75C231.94 118.75 231.966 118.75 231.992 118.75C232.018 118.75 232.043 118.75 232.069 118.75C232.095 118.75 232.121 118.75 232.146 118.75C232.172 118.75 232.198 118.75 232.223 118.75C232.249 118.75 232.275 118.75 232.3 118.75C232.326 118.75 232.351 118.75 232.377 118.75C232.402 118.75 232.428 118.75 232.453 118.75C232.479 118.75 232.504 118.75 232.53 118.75C232.555 118.75 232.58 118.75 232.606 118.75C232.631 118.75 232.657 118.75 232.682 118.75C232.707 118.75 232.732 118.75 232.758 118.75C232.783 118.75 232.808 118.75 232.833 118.75C232.859 118.75 232.884 118.75 232.909 118.75C232.934 118.75 232.959 118.75 232.984 118.75C233.009 118.75 233.034 118.75 233.059 118.75C233.084 118.75 233.109 118.75 233.134 118.75C233.159 118.75 233.184 118.75 233.209 118.75C233.234 118.75 233.259 118.75 233.284 118.75C233.309 118.75 233.334 118.75 233.358 118.75C233.383 118.75 233.408 118.75 233.433 118.75C233.457 118.75 233.482 118.75 233.507 118.75C233.531 118.75 233.556 118.75 233.581 118.75C233.605 118.75 233.63 118.75 233.654 118.75C233.679 118.75 233.704 118.75 233.728 118.75C233.752 118.75 233.777 118.75 233.801 118.75C233.826 118.75 233.85 118.75 233.875 118.75C233.899 118.75 233.923 118.75 233.948 118.75C233.972 118.75 233.996 118.75 234.02 118.75C234.045 118.75 234.069 118.75 234.093 118.75C234.117 118.75 234.141 118.75 234.165 118.75C234.19 118.75 234.214 118.75 234.238 118.75C234.262 118.75 234.286 118.75 234.31 118.75C234.334 118.75 234.358 118.75 234.382 118.75C234.406 118.75 234.429 118.75 234.453 118.75C234.477 118.75 234.501 118.75 234.525 118.75C234.549 118.75 234.572 118.75 234.596 118.75C234.62 118.75 234.644 118.75 234.667 118.75C234.691 118.75 234.714 118.75 234.738 118.75C234.762 118.75 234.785 118.75 234.809 118.75C234.832 118.75 234.856 118.75 234.879 118.75C234.903 118.75 234.926 118.75 234.949 118.75C234.973 118.75 234.996 118.75 235.02 118.75C235.043 118.75 235.066 118.75 235.089 118.75C235.113 118.75 235.136 118.75 235.159 118.75C235.182 118.75 235.205 118.75 235.229 118.75C235.252 118.75 235.275 118.75 235.298 118.75C235.321 118.75 235.344 118.75 235.367 118.75C235.39 118.75 235.413 118.75 235.436 118.75C235.458 118.75 235.481 118.75 235.504 118.75C235.527 118.75 235.55 118.75 235.573 118.75C235.595 118.75 235.618 118.75 235.641 118.75C235.663 118.75 235.686 118.75 235.709 118.75C235.731 118.75 235.754 118.75 235.776 118.75C235.799 118.75 235.821 118.75 235.844 118.75C235.866 118.75 235.889 118.75 235.911 118.75C235.934 118.75 235.956 118.75 235.978 118.75C236.001 118.75 236.023 118.75 236.045 118.75C236.067 118.75 236.09 118.75 236.112 118.75C236.134 118.75 236.156 118.75 236.178 118.75C236.2 118.75 236.222 118.75 236.244 118.75C236.266 118.75 236.288 118.75 236.31 118.75C236.332 118.75 236.354 118.75 236.376 118.75C236.398 118.75 236.42 118.75 236.441 118.75C236.463 118.75 236.485 118.75 236.507 118.75C236.528 118.75 236.55 118.75 236.572 118.75C236.593 118.75 236.615 118.75 236.637 118.75C236.658 118.75 236.68 118.75 236.701 118.75C236.723 118.75 236.744 118.75 236.765 118.75C236.787 118.75 236.808 118.75 236.829 118.75C236.851 118.75 236.872 118.75 236.893 118.75C236.915 118.75 236.936 118.75 236.957 118.75C236.978 118.75 236.999 118.75 237.02 118.75C237.041 118.75 237.062 118.75 237.083 118.75C237.104 118.75 237.125 118.75 237.146 118.75C237.167 118.75 237.188 118.75 237.209 118.75C237.23 118.75 237.25 118.75 237.271 118.75C237.292 118.75 237.313 118.75 237.333 118.75C237.354 118.75 237.375 118.75 237.395 118.75C237.416 118.75 237.436 118.75 237.457 118.75C237.477 118.75 237.498 118.75 237.518 118.75C237.539 118.75 237.559 118.75 237.579 118.75C237.6 118.75 237.62 118.75 237.64 118.75C237.66 118.75 237.681 118.75 237.701 118.75C237.721 118.75 237.741 118.75 237.761 118.75C237.781 118.75 237.801 118.75 237.821 118.75C237.841 118.75 237.861 118.75 237.881 118.75C237.901 118.75 237.921 118.75 237.941 118.75C237.96 118.75 237.98 118.75 238 118.75V120.25C237.98 120.25 237.96 120.25 237.941 120.25C237.921 120.25 237.901 120.25 237.881 120.25C237.861 120.25 237.841 120.25 237.821 120.25C237.801 120.25 237.781 120.25 237.761 120.25C237.741 120.25 237.721 120.25 237.701 120.25C237.681 120.25 237.66 120.25 237.64 120.25C237.62 120.25 237.6 120.25 237.579 120.25C237.559 120.25 237.539 120.25 237.518 120.25C237.498 120.25 237.477 120.25 237.457 120.25C237.436 120.25 237.416 120.25 237.395 120.25C237.375 120.25 237.354 120.25 237.333 120.25C237.313 120.25 237.292 120.25 237.271 120.25C237.25 120.25 237.23 120.25 237.209 120.25C237.188 120.25 237.167 120.25 237.146 120.25C237.125 120.25 237.104 120.25 237.083 120.25C237.062 120.25 237.041 120.25 237.02 120.25C236.999 120.25 236.978 120.25 236.957 120.25C236.936 120.25 236.915 120.25 236.893 120.25C236.872 120.25 236.851 120.25 236.829 120.25C236.808 120.25 236.787 120.25 236.765 120.25C236.744 120.25 236.723 120.25 236.701 120.25C236.68 120.25 236.658 120.25 236.637 120.25C236.615 120.25 236.593 120.25 236.572 120.25C236.55 120.25 236.528 120.25 236.507 120.25C236.485 120.25 236.463 120.25 236.441 120.25C236.42 120.25 236.398 120.25 236.376 120.25C236.354 120.25 236.332 120.25 236.31 120.25C236.288 120.25 236.266 120.25 236.244 120.25C236.222 120.25 236.2 120.25 236.178 120.25C236.156 120.25 236.134 120.25 236.112 120.25C236.09 120.25 236.067 120.25 236.045 120.25C236.023 120.25 236.001 120.25 235.978 120.25C235.956 120.25 235.934 120.25 235.911 120.25C235.889 120.25 235.866 120.25 235.844 120.25C235.821 120.25 235.799 120.25 235.776 120.25C235.754 120.25 235.731 120.25 235.709 120.25C235.686 120.25 235.663 120.25 235.641 120.25C235.618 120.25 235.595 120.25 235.573 120.25C235.55 120.25 235.527 120.25 235.504 120.25C235.481 120.25 235.458 120.25 235.436 120.25C235.413 120.25 235.39 120.25 235.367 120.25C235.344 120.25 235.321 120.25 235.298 120.25C235.275 120.25 235.252 120.25 235.229 120.25C235.205 120.25 235.182 120.25 235.159 120.25C235.136 120.25 235.113 120.25 235.089 120.25C235.066 120.25 235.043 120.25 235.02 120.25C234.996 120.25 234.973 120.25 234.949 120.25C234.926 120.25 234.903 120.25 234.879 120.25C234.856 120.25 234.832 120.25 234.809 120.25C234.785 120.25 234.762 120.25 234.738 120.25C234.714 120.25 234.691 120.25 234.667 120.25C234.644 120.25 234.62 120.25 234.596 120.25C234.572 120.25 234.549 120.25 234.525 120.25C234.501 120.25 234.477 120.25 234.453 120.25C234.429 120.25 234.406 120.25 234.382 120.25C234.358 120.25 234.334 120.25 234.31 120.25C234.286 120.25 234.262 120.25 234.238 120.25C234.214 120.25 234.19 120.25 234.165 120.25C234.141 120.25 234.117 120.25 234.093 120.25C234.069 120.25 234.045 120.25 234.02 120.25C233.996 120.25 233.972 120.25 233.948 120.25C233.923 120.25 233.899 120.25 233.875 120.25C233.85 120.25 233.826 120.25 233.801 120.25C233.777 120.25 233.752 120.25 233.728 120.25C233.704 120.25 233.679 120.25 233.654 120.25C233.63 120.25 233.605 120.25 233.581 120.25C233.556 120.25 233.531 120.25 233.507 120.25C233.482 120.25 233.457 120.25 233.433 120.25C233.408 120.25 233.383 120.25 233.358 120.25C233.334 120.25 233.309 120.25 233.284 120.25C233.259 120.25 233.234 120.25 233.209 120.25C233.184 120.25 233.159 120.25 233.134 120.25C233.109 120.25 233.084 120.25 233.059 120.25C233.034 120.25 233.009 120.25 232.984 120.25C232.959 120.25 232.934 120.25 232.909 120.25C232.884 120.25 232.859 120.25 232.833 120.25C232.808 120.25 232.783 120.25 232.758 120.25C232.732 120.25 232.707 120.25 232.682 120.25C232.657 120.25 232.631 120.25 232.606 120.25C232.58 120.25 232.555 120.25 232.53 120.25C232.504 120.25 232.479 120.25 232.453 120.25C232.428 120.25 232.402 120.25 232.377 120.25C232.351 120.25 232.326 120.25 232.3 120.25C232.275 120.25 232.249 120.25 232.223 120.25C232.198 120.25 232.172 120.25 232.146 120.25C232.121 120.25 232.095 120.25 232.069 120.25C232.043 120.25 232.018 120.25 231.992 120.25C231.966 120.25 231.94 120.25 231.914 120.25C231.889 120.25 231.863 120.25 231.837 120.25C231.811 120.25 231.785 120.25 231.759 120.25C231.733 120.25 231.707 120.25 231.681 120.25C231.655 120.25 231.629 120.25 231.603 120.25C231.577 120.25 231.551 120.25 231.525 120.25C231.499 120.25 231.473 120.25 231.446 120.25C231.42 120.25 231.394 120.25 231.368 120.25C231.342 120.25 231.316 120.25 231.289 120.25C231.263 120.25 231.237 120.25 231.211 120.25C231.184 120.25 231.158 120.25 231.132 120.25C231.105 120.25 231.079 120.25 231.052 120.25C231.026 120.25 231 120.25 230.973 120.25C230.947 120.25 230.92 120.25 230.894 120.25C230.867 120.25 230.841 120.25 230.814 120.25C230.788 120.25 230.761 120.25 230.735 120.25C230.708 120.25 230.682 120.25 230.655 120.25C230.628 120.25 230.602 120.25 230.575 120.25C230.548 120.25 230.522 120.25 230.495 120.25C230.468 120.25 230.442 120.25 230.415 120.25C230.388 120.25 230.361 120.25 230.334 120.25C230.308 120.25 230.281 120.25 230.254 120.25C230.227 120.25 230.2 120.25 230.173 120.25C230.147 120.25 230.12 120.25 230.093 120.25C230.066 120.25 230.039 120.25 230.012 120.25C229.985 120.25 229.958 120.25 229.931 120.25C229.904 120.25 229.877 120.25 229.85 120.25C229.823 120.25 229.796 120.25 229.769 120.25C229.742 120.25 229.714 120.25 229.687 120.25C229.66 120.25 229.633 120.25 229.606 120.25C229.579 120.25 229.552 120.25 229.524 120.25C229.497 120.25 229.47 120.25 229.443 120.25C229.415 120.25 229.388 120.25 229.361 120.25C229.334 120.25 229.306 120.25 229.279 120.25C229.252 120.25 229.224 120.25 229.197 120.25C229.17 120.25 229.142 120.25 229.115 120.25C229.087 120.25 229.06 120.25 229.033 120.25C229.005 120.25 228.978 120.25 228.95 120.25C228.923 120.25 228.895 120.25 228.868 120.25C228.84 120.25 228.813 120.25 228.785 120.25C228.758 120.25 228.73 120.25 228.702 120.25C228.675 120.25 228.647 120.25 228.62 120.25C228.592 120.25 228.564 120.25 228.537 120.25C228.509 120.25 228.482 120.25 228.454 120.25C228.426 120.25 228.398 120.25 228.371 120.25C228.343 120.25 228.315 120.25 228.288 120.25C228.26 120.25 228.232 120.25 228.204 120.25C228.176 120.25 228.149 120.25 228.121 120.25C228.093 120.25 228.065 120.25 228.037 120.25C228.01 120.25 227.982 120.25 227.954 120.25C227.926 120.25 227.898 120.25 227.87 120.25C227.842 120.25 227.814 120.25 227.786 120.25C227.758 120.25 227.73 120.25 227.702 120.25C227.675 120.25 227.647 120.25 227.619 120.25C227.591 120.25 227.563 120.25 227.534 120.25C227.506 120.25 227.478 120.25 227.45 120.25C227.422 120.25 227.394 120.25 227.366 120.25C227.338 120.25 227.31 120.25 227.282 120.25C227.254 120.25 227.226 120.25 227.197 120.25C227.169 120.25 227.141 120.25 227.113 120.25C227.085 120.25 227.057 120.25 227.028 120.25C227 120.25 226.972 120.25 226.944 120.25C226.916 120.25 226.887 120.25 226.859 120.25C226.831 120.25 226.803 120.25 226.774 120.25C226.746 120.25 226.718 120.25 226.689 120.25C226.661 120.25 226.633 120.25 226.604 120.25C226.576 120.25 226.548 120.25 226.519 120.25C226.491 120.25 226.463 120.25 226.434 120.25C226.406 120.25 226.378 120.25 226.349 120.25C226.321 120.25 226.292 120.25 226.264 120.25C226.236 120.25 226.207 120.25 226.179 120.25C226.15 120.25 226.122 120.25 226.093 120.25C226.065 120.25 226.036 120.25 226.008 120.25C225.979 120.25 225.951 120.25 225.922 120.25C225.894 120.25 225.865 120.25 225.837 120.25C225.808 120.25 225.78 120.25 225.751 120.25C225.723 120.25 225.694 120.25 225.665 120.25C225.637 120.25 225.608 120.25 225.58 120.25C225.551 120.25 225.522 120.25 225.494 120.25C225.465 120.25 225.437 120.25 225.408 120.25C225.379 120.25 225.351 120.25 225.322 120.25C225.293 120.25 225.265 120.25 225.236 120.25C225.207 120.25 225.179 120.25 225.15 120.25C225.121 120.25 225.093 120.25 225.064 120.25C225.035 120.25 225.006 120.25 224.978 120.25C224.949 120.25 224.92 120.25 224.892 120.25C224.863 120.25 224.834 120.25 224.805 120.25C224.777 120.25 224.748 120.25 224.719 120.25C224.69 120.25 224.661 120.25 224.633 120.25C224.604 120.25 224.575 120.25 224.546 120.25C224.517 120.25 224.489 120.25 224.46 120.25C224.431 120.25 224.402 120.25 224.373 120.25C224.344 120.25 224.316 120.25 224.287 120.25C224.258 120.25 224.229 120.25 224.2 120.25C224.171 120.25 224.142 120.25 224.114 120.25C224.085 120.25 224.056 120.25 224.027 120.25C223.998 120.25 223.969 120.25 223.94 120.25C223.911 120.25 223.882 120.25 223.854 120.25C223.825 120.25 223.796 120.25 223.767 120.25C223.738 120.25 223.709 120.25 223.68 120.25C223.651 120.25 223.622 120.25 223.593 120.25C223.564 120.25 223.535 120.25 223.506 120.25C223.477 120.25 223.448 120.25 223.419 120.25C223.39 120.25 223.361 120.25 223.333 120.25C223.304 120.25 223.275 120.25 223.246 120.25C223.217 120.25 223.188 120.25 223.159 120.25C223.13 120.25 223.101 120.25 223.072 120.25C223.043 120.25 223.014 120.25 222.985 120.25C222.956 120.25 222.927 120.25 222.898 120.25C222.869 120.25 222.839 120.25 222.81 120.25C222.781 120.25 222.752 120.25 222.723 120.25C222.694 120.25 222.665 120.25 222.636 120.25C222.607 120.25 222.578 120.25 222.549 120.25C222.52 120.25 222.491 120.25 222.462 120.25C222.433 120.25 222.404 120.25 222.375 120.25C222.346 120.25 222.317 120.25 222.288 120.25C222.259 120.25 222.23 120.25 222.201 120.25C222.171 120.25 222.142 120.25 222.113 120.25C222.084 120.25 222.055 120.25 222.026 120.25C221.997 120.25 221.968 120.25 221.939 120.25C221.91 120.25 221.881 120.25 221.852 120.25C221.823 120.25 221.794 120.25 221.764 120.25C221.735 120.25 221.706 120.25 221.677 120.25C221.648 120.25 221.619 120.25 221.59 120.25C221.561 120.25 221.532 120.25 221.503 120.25C221.474 120.25 221.445 120.25 221.415 120.25C221.386 120.25 221.357 120.25 221.328 120.25C221.299 120.25 221.27 120.25 221.241 120.25C221.212 120.25 221.183 120.25 221.154 120.25C221.125 120.25 221.096 120.25 221.066 120.25C221.037 120.25 221.008 120.25 220.979 120.25C220.95 120.25 220.921 120.25 220.892 120.25C220.863 120.25 220.834 120.25 220.805 120.25C220.776 120.25 220.747 120.25 220.718 120.25C220.688 120.25 220.659 120.25 220.63 120.25C220.601 120.25 220.572 120.25 220.543 120.25C220.514 120.25 220.485 120.25 220.456 120.25C220.427 120.25 220.398 120.25 220.369 120.25C220.34 120.25 220.311 120.25 220.282 120.25C220.253 120.25 220.224 120.25 220.194 120.25C220.165 120.25 220.136 120.25 220.107 120.25C220.078 120.25 220.049 120.25 220.02 120.25C219.991 120.25 219.962 120.25 219.933 120.25C219.904 120.25 219.875 120.25 219.846 120.25C219.817 120.25 219.788 120.25 219.759 120.25C219.73 120.25 219.701 120.25 219.672 120.25C219.643 120.25 219.614 120.25 219.585 120.25C219.556 120.25 219.527 120.25 219.498 120.25C219.469 120.25 219.44 120.25 219.411 120.25C219.382 120.25 219.353 120.25 219.324 120.25C219.295 120.25 219.266 120.25 219.237 120.25C219.208 120.25 219.179 120.25 219.15 120.25C219.121 120.25 219.092 120.25 219.063 120.25C219.035 120.25 219.006 120.25 218.977 120.25C218.948 120.25 218.919 120.25 218.89 120.25C218.861 120.25 218.832 120.25 218.803 120.25C218.774 120.25 218.745 120.25 218.716 120.25C218.688 120.25 218.659 120.25 218.63 120.25C218.601 120.25 218.572 120.25 218.543 120.25C218.514 120.25 218.485 120.25 218.457 120.25C218.428 120.25 218.399 120.25 218.37 120.25C218.341 120.25 218.312 120.25 218.284 120.25C218.255 120.25 218.226 120.25 218.197 120.25C218.168 120.25 218.139 120.25 218.111 120.25C218.082 120.25 218.053 120.25 218.024 120.25C217.995 120.25 217.967 120.25 217.938 120.25C217.909 120.25 217.88 120.25 217.852 120.25C217.823 120.25 217.794 120.25 217.765 120.25C217.737 120.25 217.708 120.25 217.679 120.25C217.651 120.25 217.622 120.25 217.593 120.25C217.564 120.25 217.536 120.25 217.507 120.25C217.478 120.25 217.45 120.25 217.421 120.25C217.392 120.25 217.364 120.25 217.335 120.25C217.306 120.25 217.278 120.25 217.249 120.25C217.221 120.25 217.192 120.25 217.163 120.25C217.135 120.25 217.106 120.25 217.078 120.25C217.049 120.25 217.02 120.25 216.992 120.25C216.963 120.25 216.935 120.25 216.906 120.25C216.878 120.25 216.849 120.25 216.821 120.25C216.792 120.25 216.764 120.25 216.735 120.25C216.707 120.25 216.678 120.25 216.65 120.25C216.621 120.25 216.593 120.25 216.564 120.25C216.536 120.25 216.507 120.25 216.479 120.25C216.45 120.25 216.422 120.25 216.394 120.25C216.365 120.25 216.337 120.25 216.308 120.25C216.28 120.25 216.252 120.25 216.223 120.25C216.195 120.25 216.166 120.25 216.138 120.25C216.11 120.25 216.081 120.25 216.053 120.25C216.025 120.25 215.997 120.25 215.968 120.25C215.94 120.25 215.912 120.25 215.883 120.25C215.855 120.25 215.827 120.25 215.799 120.25C215.77 120.25 215.742 120.25 215.714 120.25C215.686 120.25 215.658 120.25 215.629 120.25C215.601 120.25 215.573 120.25 215.545 120.25C215.517 120.25 215.489 120.25 215.46 120.25C215.432 120.25 215.404 120.25 215.376 120.25C215.348 120.25 215.32 120.25 215.292 120.25C215.264 120.25 215.236 120.25 215.208 120.25C215.18 120.25 215.152 120.25 215.124 120.25C215.096 120.25 215.068 120.25 215.04 120.25C215.012 120.25 214.984 120.25 214.956 120.25C214.928 120.25 214.9 120.25 214.872 120.25C214.844 120.25 214.816 120.25 214.788 120.25C214.76 120.25 214.732 120.25 214.705 120.25C214.677 120.25 214.649 120.25 214.621 120.25C214.593 120.25 214.565 120.25 214.538 120.25C214.51 120.25 214.482 120.25 214.454 120.25C214.426 120.25 214.399 120.25 214.371 120.25C214.343 120.25 214.316 120.25 214.288 120.25C214.26 120.25 214.232 120.25 214.205 120.25C214.177 120.25 214.15 120.25 214.122 120.25C214.094 120.25 214.067 120.25 214.039 120.25C214.011 120.25 213.984 120.25 213.956 120.25C213.929 120.25 213.901 120.25 213.874 120.25C213.846 120.25 213.819 120.25 213.791 120.25C213.764 120.25 213.736 120.25 213.709 120.25C213.681 120.25 213.654 120.25 213.626 120.25C213.599 120.25 213.572 120.25 213.544 120.25C213.517 120.25 213.49 120.25 213.462 120.25C213.435 120.25 213.408 120.25 213.38 120.25C213.353 120.25 213.326 120.25 213.298 120.25C213.271 120.25 213.244 120.25 213.217 120.25C213.189 120.25 213.162 120.25 213.135 120.25C213.108 120.25 213.081 120.25 213.054 120.25C213.026 120.25 212.999 120.25 212.972 120.25C212.945 120.25 212.918 120.25 212.891 120.25C212.864 120.25 212.837 120.25 212.81 120.25C212.783 120.25 212.756 120.25 212.729 120.25C212.702 120.25 212.675 120.25 212.648 120.25C212.621 120.25 212.594 120.25 212.567 120.25C212.54 120.25 212.513 120.25 212.487 120.25C212.46 120.25 212.433 120.25 212.406 120.25C212.379 120.25 212.352 120.25 212.326 120.25C212.299 120.25 212.272 120.25 212.245 120.25C212.219 120.25 212.192 120.25 212.165 120.25C212.139 120.25 212.112 120.25 212.085 120.25C212.059 120.25 212.032 120.25 212.005 120.25C211.979 120.25 211.952 120.25 211.926 120.25C211.899 120.25 211.873 120.25 211.846 120.25C211.82 120.25 211.793 120.25 211.767 120.25C211.74 120.25 211.714 120.25 211.687 120.25C211.661 120.25 211.635 120.25 211.608 120.25C211.582 120.25 211.556 120.25 211.529 120.25C211.503 120.25 211.477 120.25 211.45 120.25C211.424 120.25 211.398 120.25 211.372 120.25C211.345 120.25 211.319 120.25 211.293 120.25C211.267 120.25 211.241 120.25 211.215 120.25C211.189 120.25 211.162 120.25 211.136 120.25C211.11 120.25 211.084 120.25 211.058 120.25C211.032 120.25 211.006 120.25 210.98 120.25C210.954 120.25 210.928 120.25 210.902 120.25C210.876 120.25 210.851 120.25 210.825 120.25C210.799 120.25 210.773 120.25 210.747 120.25C210.721 120.25 210.696 120.25 210.67 120.25C210.644 120.25 210.618 120.25 210.593 120.25C210.567 120.25 210.541 120.25 210.515 120.25C210.49 120.25 210.464 120.25 210.439 120.25C210.413 120.25 210.387 120.25 210.362 120.25C210.336 120.25 210.311 120.25 210.285 120.25C210.26 120.25 210.234 120.25 210.209 120.25C210.183 120.25 210.158 120.25 210.133 120.25C210.107 120.25 210.082 120.25 210.056 120.25C210.031 120.25 210.006 120.25 209.981 120.25C209.955 120.25 209.93 120.25 209.905 120.25C209.88 120.25 209.854 120.25 209.829 120.25C209.804 120.25 209.779 120.25 209.754 120.25C209.729 120.25 209.704 120.25 209.679 120.25C209.653 120.25 209.628 120.25 209.603 120.25C209.578 120.25 209.554 120.25 209.529 120.25C209.504 120.25 209.479 120.25 209.454 120.25C209.429 120.25 209.404 120.25 209.379 120.25C209.354 120.25 209.33 120.25 209.305 120.25C209.28 120.25 209.255 120.25 209.231 120.25C209.206 120.25 209.181 120.25 209.157 120.25C209.132 120.25 209.107 120.25 209.083 120.25C209.058 120.25 209.034 120.25 209.009 120.25C208.985 120.25 208.96 120.25 208.936 120.25C208.911 120.25 208.887 120.25 208.862 120.25C208.838 120.25 208.814 120.25 208.789 120.25C208.765 120.25 208.741 120.25 208.716 120.25C208.692 120.25 208.668 120.25 208.644 120.25C208.62 120.25 208.595 120.25 208.571 120.25C208.547 120.25 208.523 120.25 208.499 120.25C208.475 120.25 208.451 120.25 208.427 120.25C208.403 120.25 208.379 120.25 208.355 120.25C208.331 120.25 208.307 120.25 208.283 120.25C208.259 120.25 208.235 120.25 208.211 120.25C208.188 120.25 208.164 120.25 208.14 120.25C208.116 120.25 208.093 120.25 208.069 120.25C208.045 120.25 208.021 120.25 207.998 120.25C207.974 120.25 207.951 120.25 207.927 120.25C207.904 120.25 207.88 120.25 207.857 120.25C207.833 120.25 207.81 120.25 207.786 120.25C207.763 120.25 207.739 120.25 207.716 120.25C207.693 120.25 207.669 120.25 207.646 120.25C207.623 120.25 207.599 120.25 207.576 120.25C207.553 120.25 207.53 120.25 207.507 120.25C207.484 120.25 207.46 120.25 207.437 120.25C207.414 120.25 207.391 120.25 207.368 120.25C207.345 120.25 207.322 120.25 207.299 120.25C207.276 120.25 207.254 120.25 207.231 120.25C207.208 120.25 207.185 120.25 207.162 120.25C207.139 120.25 207.117 120.25 207.094 120.25C207.071 120.25 207.049 120.25 207.026 120.25C207.003 120.25 206.981 120.25 206.958 120.25C206.935 120.25 206.913 120.25 206.89 120.25C206.868 120.25 206.845 120.25 206.823 120.25C206.801 120.25 206.778 120.25 206.756 120.25C206.733 120.25 206.711 120.25 206.689 120.25C206.667 120.25 206.644 120.25 206.622 120.25C206.6 120.25 206.578 120.25 206.556 120.25C206.534 120.25 206.511 120.25 206.489 120.25C206.467 120.25 206.445 120.25 206.423 120.25C206.401 120.25 206.379 120.25 206.357 120.25C206.336 120.25 206.314 120.25 206.292 120.25C206.27 120.25 206.248 120.25 206.227 120.25C206.205 120.25 206.183 120.25 206.161 120.25C206.14 120.25 206.118 120.25 206.097 120.25C206.075 120.25 206.053 120.25 206.032 120.25C206.01 120.25 205.989 120.25 205.967 120.25C205.946 120.25 205.925 120.25 205.903 120.25C205.882 120.25 205.861 120.25 205.839 120.25C205.818 120.25 205.797 120.25 205.776 120.25C205.754 120.25 205.733 120.25 205.712 120.25C205.691 120.25 205.67 120.25 205.649 120.25C205.628 120.25 205.607 120.25 205.586 120.25C205.565 120.25 205.544 120.25 205.523 120.25C205.502 120.25 205.481 120.25 205.461 120.25C205.44 120.25 205.419 120.25 205.398 120.25C205.378 120.25 205.357 120.25 205.336 120.25C205.316 120.25 205.295 120.25 205.275 120.25C205.254 120.25 205.234 120.25 205.213 120.25C205.193 120.25 205.172 120.25 205.152 120.25C205.132 120.25 205.111 120.25 205.091 120.25C205.071 120.25 205.05 120.25 205.03 120.25C205.01 120.25 204.99 120.25 204.97 120.25C204.95 120.25 204.93 120.25 204.91 120.25C204.89 120.25 204.87 120.25 204.85 120.25C204.83 120.25 204.81 120.25 204.79 120.25C204.77 120.25 204.75 120.25 204.73 120.25C204.711 120.25 204.691 120.25 204.671 120.25C204.652 120.25 204.632 120.25 204.612 120.25C204.593 120.25 204.573 120.25 204.554 120.25C204.534 120.25 204.515 120.25 204.495 120.25C204.476 120.25 204.457 120.25 204.437 120.25C204.418 120.25 204.399 120.25 204.379 120.25C204.36 120.25 204.341 120.25 204.322 120.25C204.303 120.25 204.284 120.25 204.264 120.25C204.245 120.25 204.226 120.25 204.207 120.25C204.188 120.25 204.17 120.25 204.151 120.25C204.132 120.25 204.113 120.25 204.094 120.25C204.075 120.25 204.057 120.25 204.038 120.25C204.019 120.25 204.001 120.25 203.982 120.25C203.963 120.25 203.945 120.25 203.926 120.25C203.908 120.25 203.889 120.25 203.871 120.25C203.853 120.25 203.834 120.25 203.816 120.25C203.798 120.25 203.779 120.25 203.761 120.25C203.743 120.25 203.725 120.25 203.707 120.25C203.688 120.25 203.67 120.25 203.652 120.25C203.634 120.25 203.616 120.25 203.598 120.25C203.58 120.25 203.562 120.25 203.545 120.25C203.527 120.25 203.509 120.25 203.491 120.25C203.474 120.25 203.456 120.25 203.438 120.25C203.42 120.25 203.403 120.25 203.385 120.25C203.368 120.25 203.35 120.25 203.333 120.25C203.315 120.25 203.298 120.25 203.281 120.25C203.263 120.25 203.246 120.25 203.229 120.25C203.211 120.25 203.194 120.25 203.177 120.25C203.16 120.25 203.143 120.25 203.126 120.25C203.109 120.25 203.092 120.25 203.075 120.25C203.058 120.25 203.041 120.25 203.024 120.25C203.007 120.25 202.99 120.25 202.973 120.25C202.957 120.25 202.94 120.25 202.923 120.25C202.907 120.25 202.89 120.25 202.873 120.25C202.857 120.25 202.84 120.25 202.824 120.25C202.807 120.25 202.791 120.25 202.775 120.25C202.758 120.25 202.742 120.25 202.726 120.25C202.709 120.25 202.693 120.25 202.677 120.25C202.661 120.25 202.645 120.25 202.629 120.25C202.613 120.25 202.597 120.25 202.581 120.25C202.565 120.25 202.549 120.25 202.533 120.25C202.517 120.25 202.501 120.25 202.486 120.25C202.47 120.25 202.454 120.25 202.439 120.25C202.423 120.25 202.407 120.25 202.392 120.25C202.376 120.25 202.361 120.25 202.345 120.25C202.33 120.25 202.315 120.25 202.299 120.25C202.284 120.25 202.269 120.25 202.254 120.25C202.238 120.25 202.223 120.25 202.208 120.25C202.193 120.25 202.178 120.25 202.163 120.25C202.148 120.25 202.133 120.25 202.118 120.25C202.103 120.25 202.088 120.25 202.074 120.25C202.059 120.25 202.044 120.25 202.029 120.25C202.015 120.25 202 120.25 201.986 120.25C201.971 120.25 201.956 120.25 201.942 120.25C201.928 120.25 201.913 120.25 201.899 120.25C201.884 120.25 201.87 120.25 201.856 120.25C201.842 120.25 201.828 120.25 201.813 120.25C201.799 120.25 201.785 120.25 201.771 120.25C201.757 120.25 201.743 120.25 201.729 120.25C201.715 120.25 201.702 120.25 201.688 120.25C201.674 120.25 201.66 120.25 201.647 120.25C201.633 120.25 201.619 120.25 201.606 120.25C201.592 120.25 201.579 120.25 201.565 120.25C201.552 120.25 201.538 120.25 201.525 120.25C201.512 120.25 201.498 120.25 201.485 120.25C201.472 120.25 201.459 120.25 201.446 120.25C201.432 120.25 201.419 120.25 201.406 120.25C201.393 120.25 201.38 120.25 201.368 120.25C201.355 120.25 201.342 120.25 201.329 120.25C201.316 120.25 201.304 120.25 201.291 120.25C201.278 120.25 201.266 120.25 201.253 120.25C201.241 120.25 201.228 120.25 201.216 120.25C201.203 120.25 201.191 120.25 201.179 120.25C201.166 120.25 201.154 120.25 201.142 120.25C201.13 120.25 201.118 120.25 201.106 120.25C201.093 120.25 201.081 120.25 201.07 120.25C201.058 120.25 201.046 120.25 201.034 120.25C201.022 120.25 201.01 120.25 200.999 120.25C200.987 120.25 200.975 120.25 200.964 120.25C200.952 120.25 200.94 120.25 200.929 120.25C200.917 120.25 200.906 120.25 200.895 120.25C200.883 120.25 200.872 120.25 200.861 120.25C200.85 120.25 200.838 120.25 200.827 120.25C200.816 120.25 200.805 120.25 200.794 120.25C200.783 120.25 200.772 120.25 200.761 120.25V118.75Z",fill:"url(#paint3_linear_38_7016)"}),(0,_.jsx)("path",{d:"M164 52C164 49.7909 165.791 48 168 48C170.209 48 172 49.7909 172 52C172 54.2091 170.209 56 168 56C165.791 56 164 54.2091 164 52ZM238.53 51.4697C238.823 51.7626 238.823 52.2374 238.53 52.5303L233.757 57.3033C233.464 57.5962 232.99 57.5962 232.697 57.3033C232.404 57.0104 232.404 56.5355 232.697 56.2426L236.939 52L232.697 47.7574C232.404 47.4645 232.404 46.9896 232.697 46.6967C232.99 46.4038 233.464 46.4038 233.757 46.6967L238.53 51.4697ZM168 51.25C168.006 51.25 168.013 51.25 168.02 51.25C168.027 51.25 168.034 51.25 168.041 51.25C168.049 51.25 168.056 51.25 168.064 51.25C168.072 51.25 168.08 51.25 168.088 51.25C168.096 51.25 168.104 51.25 168.113 51.25C168.121 51.25 168.13 51.25 168.139 51.25C168.148 51.25 168.157 51.25 168.166 51.25C168.176 51.25 168.185 51.25 168.195 51.25C168.205 51.25 168.215 51.25 168.225 51.25C168.235 51.25 168.246 51.25 168.256 51.25C168.267 51.25 168.278 51.25 168.289 51.25C168.3 51.25 168.311 51.25 168.322 51.25C168.334 51.25 168.345 51.25 168.357 51.25C168.369 51.25 168.381 51.25 168.393 51.25C168.405 51.25 168.418 51.25 168.43 51.25C168.443 51.25 168.456 51.25 168.469 51.25C168.481 51.25 168.495 51.25 168.508 51.25C168.521 51.25 168.535 51.25 168.549 51.25C168.563 51.25 168.577 51.25 168.591 51.25C168.605 51.25 168.619 51.25 168.634 51.25C168.648 51.25 168.663 51.25 168.678 51.25C168.693 51.25 168.708 51.25 168.723 51.25C168.739 51.25 168.754 51.25 168.77 51.25C168.786 51.25 168.802 51.25 168.818 51.25C168.834 51.25 168.85 51.25 168.867 51.25C168.883 51.25 168.9 51.25 168.917 51.25C168.933 51.25 168.95 51.25 168.968 51.25C168.985 51.25 169.002 51.25 169.02 51.25C169.038 51.25 169.055 51.25 169.073 51.25C169.091 51.25 169.109 51.25 169.128 51.25C169.146 51.25 169.165 51.25 169.183 51.25C169.202 51.25 169.221 51.25 169.24 51.25C169.259 51.25 169.279 51.25 169.298 51.25C169.318 51.25 169.337 51.25 169.357 51.25C169.377 51.25 169.397 51.25 169.417 51.25C169.437 51.25 169.458 51.25 169.478 51.25C169.499 51.25 169.52 51.25 169.541 51.25C169.561 51.25 169.583 51.25 169.604 51.25C169.625 51.25 169.647 51.25 169.668 51.25C169.69 51.25 169.712 51.25 169.734 51.25C169.756 51.25 169.778 51.25 169.8 51.25C169.823 51.25 169.845 51.25 169.868 51.25C169.891 51.25 169.914 51.25 169.937 51.25C169.96 51.25 169.983 51.25 170.006 51.25C170.03 51.25 170.053 51.25 170.077 51.25C170.101 51.25 170.125 51.25 170.149 51.25C170.173 51.25 170.198 51.25 170.222 51.25C170.246 51.25 170.271 51.25 170.296 51.25C170.321 51.25 170.346 51.25 170.371 51.25C170.396 51.25 170.421 51.25 170.447 51.25C170.472 51.25 170.498 51.25 170.524 51.25C170.55 51.25 170.576 51.25 170.602 51.25C170.628 51.25 170.654 51.25 170.681 51.25C170.708 51.25 170.734 51.25 170.761 51.25C170.788 51.25 170.815 51.25 170.842 51.25C170.869 51.25 170.897 51.25 170.924 51.25C170.952 51.25 170.979 51.25 171.007 51.25C171.035 51.25 171.063 51.25 171.091 51.25C171.12 51.25 171.148 51.25 171.176 51.25C171.205 51.25 171.234 51.25 171.262 51.25C171.291 51.25 171.32 51.25 171.349 51.25C171.379 51.25 171.408 51.25 171.437 51.25C171.467 51.25 171.497 51.25 171.526 51.25C171.556 51.25 171.586 51.25 171.616 51.25C171.646 51.25 171.677 51.25 171.707 51.25C171.738 51.25 171.768 51.25 171.799 51.25C171.83 51.25 171.861 51.25 171.892 51.25C171.923 51.25 171.954 51.25 171.986 51.25C172.017 51.25 172.049 51.25 172.08 51.25C172.112 51.25 172.144 51.25 172.176 51.25C172.208 51.25 172.24 51.25 172.272 51.25C172.305 51.25 172.337 51.25 172.37 51.25C172.402 51.25 172.435 51.25 172.468 51.25C172.501 51.25 172.534 51.25 172.568 51.25C172.601 51.25 172.634 51.25 172.668 51.25C172.701 51.25 172.735 51.25 172.769 51.25C172.803 51.25 172.837 51.25 172.871 51.25C172.905 51.25 172.939 51.25 172.974 51.25C173.008 51.25 173.043 51.25 173.078 51.25C173.112 51.25 173.147 51.25 173.182 51.25C173.217 51.25 173.253 51.25 173.288 51.25C173.323 51.25 173.359 51.25 173.394 51.25C173.43 51.25 173.466 51.25 173.502 51.25C173.538 51.25 173.574 51.25 173.61 51.25C173.646 51.25 173.683 51.25 173.719 51.25C173.756 51.25 173.792 51.25 173.829 51.25C173.866 51.25 173.903 51.25 173.94 51.25C173.977 51.25 174.014 51.25 174.051 51.25C174.089 51.25 174.126 51.25 174.164 51.25C174.201 51.25 174.239 51.25 174.277 51.25C174.315 51.25 174.353 51.25 174.391 51.25C174.43 51.25 174.468 51.25 174.506 51.25C174.545 51.25 174.583 51.25 174.622 51.25C174.661 51.25 174.7 51.25 174.739 51.25C174.778 51.25 174.817 51.25 174.856 51.25C174.896 51.25 174.935 51.25 174.975 51.25C175.014 51.25 175.054 51.25 175.094 51.25C175.134 51.25 175.173 51.25 175.214 51.25C175.254 51.25 175.294 51.25 175.334 51.25C175.375 51.25 175.415 51.25 175.456 51.25C175.496 51.25 175.537 51.25 175.578 51.25C175.619 51.25 175.66 51.25 175.701 51.25C175.742 51.25 175.784 51.25 175.825 51.25C175.866 51.25 175.908 51.25 175.95 51.25C175.991 51.25 176.033 51.25 176.075 51.25C176.117 51.25 176.159 51.25 176.201 51.25C176.243 51.25 176.286 51.25 176.328 51.25C176.37 51.25 176.413 51.25 176.456 51.25C176.498 51.25 176.541 51.25 176.584 51.25C176.627 51.25 176.67 51.25 176.713 51.25C176.757 51.25 176.8 51.25 176.843 51.25C176.887 51.25 176.93 51.25 176.974 51.25C177.018 51.25 177.061 51.25 177.105 51.25C177.149 51.25 177.193 51.25 177.237 51.25C177.282 51.25 177.326 51.25 177.37 51.25C177.415 51.25 177.459 51.25 177.504 51.25C177.548 51.25 177.593 51.25 177.638 51.25C177.683 51.25 177.728 51.25 177.773 51.25C177.818 51.25 177.863 51.25 177.909 51.25C177.954 51.25 178 51.25 178.045 51.25C178.091 51.25 178.136 51.25 178.182 51.25C178.228 51.25 178.274 51.25 178.32 51.25C178.366 51.25 178.412 51.25 178.459 51.25C178.505 51.25 178.551 51.25 178.598 51.25C178.644 51.25 178.691 51.25 178.738 51.25C178.784 51.25 178.831 51.25 178.878 51.25C178.925 51.25 178.972 51.25 179.019 51.25C179.066 51.25 179.114 51.25 179.161 51.25C179.208 51.25 179.256 51.25 179.304 51.25C179.351 51.25 179.399 51.25 179.447 51.25C179.495 51.25 179.542 51.25 179.59 51.25C179.639 51.25 179.687 51.25 179.735 51.25C179.783 51.25 179.832 51.25 179.88 51.25C179.928 51.25 179.977 51.25 180.026 51.25C180.074 51.25 180.123 51.25 180.172 51.25C180.221 51.25 180.27 51.25 180.319 51.25C180.368 51.25 180.417 51.25 180.467 51.25C180.516 51.25 180.565 51.25 180.615 51.25C180.664 51.25 180.714 51.25 180.764 51.25C180.813 51.25 180.863 51.25 180.913 51.25C180.963 51.25 181.013 51.25 181.063 51.25C181.113 51.25 181.163 51.25 181.214 51.25C181.264 51.25 181.314 51.25 181.365 51.25C181.415 51.25 181.466 51.25 181.517 51.25C181.567 51.25 181.618 51.25 181.669 51.25C181.72 51.25 181.771 51.25 181.822 51.25C181.873 51.25 181.924 51.25 181.976 51.25C182.027 51.25 182.078 51.25 182.13 51.25C182.181 51.25 182.233 51.25 182.284 51.25C182.336 51.25 182.388 51.25 182.44 51.25C182.492 51.25 182.544 51.25 182.596 51.25C182.648 51.25 182.7 51.25 182.752 51.25C182.804 51.25 182.856 51.25 182.909 51.25C182.961 51.25 183.014 51.25 183.066 51.25C183.119 51.25 183.171 51.25 183.224 51.25C183.277 51.25 183.33 51.25 183.383 51.25C183.436 51.25 183.489 51.25 183.542 51.25C183.595 51.25 183.648 51.25 183.701 51.25C183.755 51.25 183.808 51.25 183.861 51.25C183.915 51.25 183.968 51.25 184.022 51.25C184.076 51.25 184.129 51.25 184.183 51.25C184.237 51.25 184.291 51.25 184.345 51.25C184.399 51.25 184.453 51.25 184.507 51.25C184.561 51.25 184.615 51.25 184.669 51.25C184.724 51.25 184.778 51.25 184.832 51.25C184.887 51.25 184.941 51.25 184.996 51.25C185.05 51.25 185.105 51.25 185.16 51.25C185.215 51.25 185.27 51.25 185.324 51.25C185.379 51.25 185.434 51.25 185.489 51.25C185.545 51.25 185.6 51.25 185.655 51.25C185.71 51.25 185.765 51.25 185.821 51.25C185.876 51.25 185.932 51.25 185.987 51.25C186.043 51.25 186.098 51.25 186.154 51.25C186.21 51.25 186.265 51.25 186.321 51.25C186.377 51.25 186.433 51.25 186.489 51.25C186.545 51.25 186.601 51.25 186.657 51.25C186.713 51.25 186.769 51.25 186.826 51.25C186.882 51.25 186.938 51.25 186.995 51.25C187.051 51.25 187.108 51.25 187.164 51.25C187.221 51.25 187.277 51.25 187.334 51.25C187.391 51.25 187.447 51.25 187.504 51.25C187.561 51.25 187.618 51.25 187.675 51.25C187.732 51.25 187.789 51.25 187.846 51.25C187.903 51.25 187.96 51.25 188.018 51.25C188.075 51.25 188.132 51.25 188.189 51.25C188.247 51.25 188.304 51.25 188.362 51.25C188.419 51.25 188.477 51.25 188.534 51.25C188.592 51.25 188.65 51.25 188.707 51.25C188.765 51.25 188.823 51.25 188.881 51.25C188.939 51.25 188.997 51.25 189.055 51.25C189.113 51.25 189.171 51.25 189.229 51.25C189.287 51.25 189.345 51.25 189.403 51.25C189.462 51.25 189.52 51.25 189.578 51.25C189.637 51.25 189.695 51.25 189.753 51.25C189.812 51.25 189.87 51.25 189.929 51.25C189.988 51.25 190.046 51.25 190.105 51.25C190.164 51.25 190.222 51.25 190.281 51.25C190.34 51.25 190.399 51.25 190.458 51.25C190.517 51.25 190.576 51.25 190.635 51.25C190.694 51.25 190.753 51.25 190.812 51.25C190.871 51.25 190.93 51.25 190.989 51.25C191.049 51.25 191.108 51.25 191.167 51.25C191.227 51.25 191.286 51.25 191.346 51.25C191.405 51.25 191.465 51.25 191.524 51.25C191.584 51.25 191.643 51.25 191.703 51.25C191.763 51.25 191.822 51.25 191.882 51.25C191.942 51.25 192.002 51.25 192.061 51.25C192.121 51.25 192.181 51.25 192.241 51.25C192.301 51.25 192.361 51.25 192.421 51.25C192.481 51.25 192.541 51.25 192.601 51.25C192.661 51.25 192.722 51.25 192.782 51.25C192.842 51.25 192.902 51.25 192.963 51.25C193.023 51.25 193.083 51.25 193.144 51.25C193.204 51.25 193.265 51.25 193.325 51.25C193.385 51.25 193.446 51.25 193.507 51.25C193.567 51.25 193.628 51.25 193.688 51.25C193.749 51.25 193.81 51.25 193.87 51.25C193.931 51.25 193.992 51.25 194.053 51.25C194.114 51.25 194.174 51.25 194.235 51.25C194.296 51.25 194.357 51.25 194.418 51.25C194.479 51.25 194.54 51.25 194.601 51.25C194.662 51.25 194.723 51.25 194.784 51.25C194.845 51.25 194.907 51.25 194.968 51.25C195.029 51.25 195.09 51.25 195.151 51.25C195.213 51.25 195.274 51.25 195.335 51.25C195.397 51.25 195.458 51.25 195.519 51.25C195.581 51.25 195.642 51.25 195.704 51.25C195.765 51.25 195.826 51.25 195.888 51.25C195.949 51.25 196.011 51.25 196.073 51.25C196.134 51.25 196.196 51.25 196.257 51.25C196.319 51.25 196.381 51.25 196.442 51.25C196.504 51.25 196.566 51.25 196.628 51.25C196.689 51.25 196.751 51.25 196.813 51.25C196.875 51.25 196.937 51.25 196.998 51.25C197.06 51.25 197.122 51.25 197.184 51.25C197.246 51.25 197.308 51.25 197.37 51.25C197.432 51.25 197.494 51.25 197.556 51.25C197.618 51.25 197.68 51.25 197.742 51.25C197.804 51.25 197.866 51.25 197.928 51.25C197.991 51.25 198.053 51.25 198.115 51.25C198.177 51.25 198.239 51.25 198.301 51.25C198.364 51.25 198.426 51.25 198.488 51.25C198.55 51.25 198.613 51.25 198.675 51.25C198.737 51.25 198.799 51.25 198.862 51.25C198.924 51.25 198.986 51.25 199.049 51.25C199.111 51.25 199.174 51.25 199.236 51.25C199.298 51.25 199.361 51.25 199.423 51.25C199.486 51.25 199.548 51.25 199.61 51.25C199.673 51.25 199.735 51.25 199.798 51.25C199.86 51.25 199.923 51.25 199.985 51.25C200.048 51.25 200.111 51.25 200.173 51.25C200.236 51.25 200.298 51.25 200.361 51.25C200.423 51.25 200.486 51.25 200.549 51.25C200.611 51.25 200.674 51.25 200.736 51.25C200.799 51.25 200.862 51.25 200.924 51.25C200.987 51.25 201.05 51.25 201.112 51.25C201.175 51.25 201.238 51.25 201.3 51.25C201.363 51.25 201.426 51.25 201.488 51.25C201.551 51.25 201.614 51.25 201.677 51.25C201.739 51.25 201.802 51.25 201.865 51.25C201.927 51.25 201.99 51.25 202.053 51.25C202.116 51.25 202.178 51.25 202.241 51.25C202.304 51.25 202.367 51.25 202.429 51.25C202.492 51.25 202.555 51.25 202.618 51.25C202.68 51.25 202.743 51.25 202.806 51.25C202.869 51.25 202.932 51.25 202.994 51.25C203.057 51.25 203.12 51.25 203.183 51.25C203.246 51.25 203.308 51.25 203.371 51.25C203.434 51.25 203.497 51.25 203.559 51.25C203.622 51.25 203.685 51.25 203.748 51.25C203.811 51.25 203.873 51.25 203.936 51.25C203.999 51.25 204.062 51.25 204.124 51.25C204.187 51.25 204.25 51.25 204.313 51.25C204.376 51.25 204.438 51.25 204.501 51.25C204.564 51.25 204.627 51.25 204.689 51.25C204.752 51.25 204.815 51.25 204.878 51.25C204.94 51.25 205.003 51.25 205.066 51.25C205.128 51.25 205.191 51.25 205.254 51.25C205.317 51.25 205.379 51.25 205.442 51.25C205.505 51.25 205.567 51.25 205.63 51.25C205.693 51.25 205.755 51.25 205.818 51.25C205.881 51.25 205.943 51.25 206.006 51.25C206.069 51.25 206.131 51.25 206.194 51.25C206.257 51.25 206.319 51.25 206.382 51.25C206.444 51.25 206.507 51.25 206.569 51.25C206.632 51.25 206.695 51.25 206.757 51.25C206.82 51.25 206.882 51.25 206.945 51.25C207.007 51.25 207.07 51.25 207.132 51.25C207.195 51.25 207.257 51.25 207.32 51.25C207.382 51.25 207.444 51.25 207.507 51.25C207.569 51.25 207.632 51.25 207.694 51.25C207.756 51.25 207.819 51.25 207.881 51.25C207.943 51.25 208.006 51.25 208.068 51.25C208.13 51.25 208.193 51.25 208.255 51.25C208.317 51.25 208.379 51.25 208.442 51.25C208.504 51.25 208.566 51.25 208.628 51.25C208.691 51.25 208.753 51.25 208.815 51.25C208.877 51.25 208.939 51.25 209.001 51.25C209.063 51.25 209.125 51.25 209.187 51.25C209.249 51.25 209.311 51.25 209.373 51.25C209.435 51.25 209.497 51.25 209.559 51.25C209.621 51.25 209.683 51.25 209.745 51.25C209.807 51.25 209.869 51.25 209.931 51.25C209.993 51.25 210.054 51.25 210.116 51.25C210.178 51.25 210.24 51.25 210.301 51.25C210.363 51.25 210.425 51.25 210.487 51.25C210.548 51.25 210.61 51.25 210.671 51.25C210.733 51.25 210.795 51.25 210.856 51.25C210.918 51.25 210.979 51.25 211.041 51.25C211.102 51.25 211.164 51.25 211.225 51.25C211.287 51.25 211.348 51.25 211.409 51.25C211.471 51.25 211.532 51.25 211.593 51.25C211.655 51.25 211.716 51.25 211.777 51.25C211.838 51.25 211.899 51.25 211.961 51.25C212.022 51.25 212.083 51.25 212.144 51.25C212.205 51.25 212.266 51.25 212.327 51.25C212.388 51.25 212.449 51.25 212.51 51.25C212.571 51.25 212.632 51.25 212.693 51.25C212.753 51.25 212.814 51.25 212.875 51.25C212.936 51.25 212.997 51.25 213.057 51.25C213.118 51.25 213.179 51.25 213.239 51.25C213.3 51.25 213.36 51.25 213.421 51.25C213.481 51.25 213.542 51.25 213.602 51.25C213.663 51.25 213.723 51.25 213.784 51.25C213.844 51.25 213.904 51.25 213.964 51.25C214.025 51.25 214.085 51.25 214.145 51.25C214.205 51.25 214.265 51.25 214.325 51.25C214.386 51.25 214.446 51.25 214.506 51.25C214.566 51.25 214.626 51.25 214.685 51.25C214.745 51.25 214.805 51.25 214.865 51.25C214.925 51.25 214.985 51.25 215.044 51.25C215.104 51.25 215.164 51.25 215.223 51.25C215.283 51.25 215.342 51.25 215.402 51.25C215.461 51.25 215.521 51.25 215.58 51.25C215.64 51.25 215.699 51.25 215.758 51.25C215.818 51.25 215.877 51.25 215.936 51.25C215.995 51.25 216.054 51.25 216.114 51.25C216.173 51.25 216.232 51.25 216.291 51.25C216.35 51.25 216.409 51.25 216.467 51.25C216.526 51.25 216.585 51.25 216.644 51.25C216.703 51.25 216.761 51.25 216.82 51.25C216.879 51.25 216.937 51.25 216.996 51.25C217.054 51.25 217.113 51.25 217.171 51.25C217.23 51.25 217.288 51.25 217.346 51.25C217.404 51.25 217.463 51.25 217.521 51.25C217.579 51.25 217.637 51.25 217.695 51.25C217.753 51.25 217.811 51.25 217.869 51.25C217.927 51.25 217.985 51.25 218.043 51.25C218.101 51.25 218.158 51.25 218.216 51.25C218.274 51.25 218.331 51.25 218.389 51.25C218.447 51.25 218.504 51.25 218.561 51.25C218.619 51.25 218.676 51.25 218.734 51.25C218.791 51.25 218.848 51.25 218.905 51.25C218.962 51.25 219.02 51.25 219.077 51.25C219.134 51.25 219.191 51.25 219.247 51.25C219.304 51.25 219.361 51.25 219.418 51.25C219.475 51.25 219.531 51.25 219.588 51.25C219.645 51.25 219.701 51.25 219.758 51.25C219.814 51.25 219.871 51.25 219.927 51.25C219.983 51.25 220.04 51.25 220.096 51.25C220.152 51.25 220.208 51.25 220.264 51.25C220.32 51.25 220.376 51.25 220.432 51.25C220.488 51.25 220.544 51.25 220.6 51.25C220.655 51.25 220.711 51.25 220.767 51.25C220.822 51.25 220.878 51.25 220.933 51.25C220.989 51.25 221.044 51.25 221.099 51.25C221.155 51.25 221.21 51.25 221.265 51.25C221.32 51.25 221.375 51.25 221.43 51.25C221.485 51.25 221.54 51.25 221.595 51.25C221.65 51.25 221.705 51.25 221.759 51.25C221.814 51.25 221.869 51.25 221.923 51.25C221.978 51.25 222.032 51.25 222.087 51.25C222.141 51.25 222.195 51.25 222.249 51.25C222.304 51.25 222.358 51.25 222.412 51.25C222.466 51.25 222.52 51.25 222.574 51.25C222.628 51.25 222.681 51.25 222.735 51.25C222.789 51.25 222.842 51.25 222.896 51.25C222.949 51.25 223.003 51.25 223.056 51.25C223.11 51.25 223.163 51.25 223.216 51.25C223.269 51.25 223.322 51.25 223.375 51.25C223.428 51.25 223.481 51.25 223.534 51.25C223.587 51.25 223.64 51.25 223.692 51.25C223.745 51.25 223.798 51.25 223.85 51.25C223.903 51.25 223.955 51.25 224.007 51.25C224.06 51.25 224.112 51.25 224.164 51.25C224.216 51.25 224.268 51.25 224.32 51.25C224.372 51.25 224.424 51.25 224.476 51.25C224.527 51.25 224.579 51.25 224.631 51.25C224.682 51.25 224.734 51.25 224.785 51.25C224.836 51.25 224.888 51.25 224.939 51.25C224.99 51.25 225.041 51.25 225.092 51.25C225.143 51.25 225.194 51.25 225.245 51.25C225.296 51.25 225.346 51.25 225.397 51.25C225.448 51.25 225.498 51.25 225.549 51.25C225.599 51.25 225.649 51.25 225.699 51.25C225.75 51.25 225.8 51.25 225.85 51.25C225.9 51.25 225.95 51.25 226 51.25C226.049 51.25 226.099 51.25 226.149 51.25C226.198 51.25 226.248 51.25 226.297 51.25C226.347 51.25 226.396 51.25 226.445 51.25C226.494 51.25 226.544 51.25 226.593 51.25C226.642 51.25 226.69 51.25 226.739 51.25C226.788 51.25 226.837 51.25 226.885 51.25C226.934 51.25 226.982 51.25 227.031 51.25C227.079 51.25 227.127 51.25 227.175 51.25C227.224 51.25 227.272 51.25 227.32 51.25C227.368 51.25 227.415 51.25 227.463 51.25C227.511 51.25 227.558 51.25 227.606 51.25C227.653 51.25 227.701 51.25 227.748 51.25C227.795 51.25 227.843 51.25 227.89 51.25C227.937 51.25 227.984 51.25 228.031 51.25C228.077 51.25 228.124 51.25 228.171 51.25C228.217 51.25 228.264 51.25 228.31 51.25C228.357 51.25 228.403 51.25 228.449 51.25C228.495 51.25 228.541 51.25 228.587 51.25C228.633 51.25 228.679 51.25 228.725 51.25C228.77 51.25 228.816 51.25 228.862 51.25C228.907 51.25 228.952 51.25 228.998 51.25C229.043 51.25 229.088 51.25 229.133 51.25C229.178 51.25 229.223 51.25 229.268 51.25C229.312 51.25 229.357 51.25 229.402 51.25C229.446 51.25 229.491 51.25 229.535 51.25C229.579 51.25 229.623 51.25 229.667 51.25C229.711 51.25 229.755 51.25 229.799 51.25C229.843 51.25 229.887 51.25 229.93 51.25C229.974 51.25 230.017 51.25 230.06 51.25C230.104 51.25 230.147 51.25 230.19 51.25C230.233 51.25 230.276 51.25 230.319 51.25C230.362 51.25 230.404 51.25 230.447 51.25C230.49 51.25 230.532 51.25 230.574 51.25C230.617 51.25 230.659 51.25 230.701 51.25C230.743 51.25 230.785 51.25 230.827 51.25C230.869 51.25 230.91 51.25 230.952 51.25C230.993 51.25 231.035 51.25 231.076 51.25C231.117 51.25 231.158 51.25 231.199 51.25C231.241 51.25 231.281 51.25 231.322 51.25C231.363 51.25 231.404 51.25 231.444 51.25C231.485 51.25 231.525 51.25 231.565 51.25C231.605 51.25 231.646 51.25 231.686 51.25C231.726 51.25 231.765 51.25 231.805 51.25C231.845 51.25 231.884 51.25 231.924 51.25C231.963 51.25 232.003 51.25 232.042 51.25C232.081 51.25 232.12 51.25 232.159 51.25C232.198 51.25 232.236 51.25 232.275 51.25C232.314 51.25 232.352 51.25 232.391 51.25C232.429 51.25 232.467 51.25 232.505 51.25C232.543 51.25 232.581 51.25 232.619 51.25C232.657 51.25 232.694 51.25 232.732 51.25C232.769 51.25 232.807 51.25 232.844 51.25C232.881 51.25 232.918 51.25 232.955 51.25C232.992 51.25 233.029 51.25 233.066 51.25C233.102 51.25 233.139 51.25 233.175 51.25C233.212 51.25 233.248 51.25 233.284 51.25C233.32 51.25 233.356 51.25 233.392 51.25C233.427 51.25 233.463 51.25 233.499 51.25C233.534 51.25 233.569 51.25 233.605 51.25C233.64 51.25 233.675 51.25 233.71 51.25C233.745 51.25 233.78 51.25 233.814 51.25C233.849 51.25 233.883 51.25 233.918 51.25C233.952 51.25 233.986 51.25 234.02 51.25C234.054 51.25 234.088 51.25 234.122 51.25C234.155 51.25 234.189 51.25 234.222 51.25C234.256 51.25 234.289 51.25 234.322 51.25C234.355 51.25 234.388 51.25 234.421 51.25C234.454 51.25 234.486 51.25 234.519 51.25C234.551 51.25 234.584 51.25 234.616 51.25C234.648 51.25 234.68 51.25 234.712 51.25C234.744 51.25 234.776 51.25 234.807 51.25C234.839 51.25 234.87 51.25 234.902 51.25C234.933 51.25 234.964 51.25 234.995 51.25C235.026 51.25 235.057 51.25 235.087 51.25C235.118 51.25 235.148 51.25 235.179 51.25C235.209 51.25 235.239 51.25 235.269 51.25C235.299 51.25 235.329 51.25 235.358 51.25C235.388 51.25 235.418 51.25 235.447 51.25C235.476 51.25 235.506 51.25 235.535 51.25C235.564 51.25 235.592 51.25 235.621 51.25C235.65 51.25 235.678 51.25 235.707 51.25C235.735 51.25 235.763 51.25 235.791 51.25C235.819 51.25 235.847 51.25 235.875 51.25C235.903 51.25 235.93 51.25 235.958 51.25C235.985 51.25 236.012 51.25 236.039 51.25C236.066 51.25 236.093 51.25 236.12 51.25C236.146 51.25 236.173 51.25 236.199 51.25C236.226 51.25 236.252 51.25 236.278 51.25C236.304 51.25 236.33 51.25 236.356 51.25C236.381 51.25 236.407 51.25 236.432 51.25C236.457 51.25 236.483 51.25 236.508 51.25C236.533 51.25 236.557 51.25 236.582 51.25C236.607 51.25 236.631 51.25 236.656 51.25C236.68 51.25 236.704 51.25 236.728 51.25C236.752 51.25 236.776 51.25 236.799 51.25C236.823 51.25 236.846 51.25 236.87 51.25C236.893 51.25 236.916 51.25 236.939 51.25C236.962 51.25 236.985 51.25 237.007 51.25C237.03 51.25 237.052 51.25 237.074 51.25C237.097 51.25 237.119 51.25 237.14 51.25C237.162 51.25 237.184 51.25 237.205 51.25C237.227 51.25 237.248 51.25 237.269 51.25C237.29 51.25 237.311 51.25 237.332 51.25C237.353 51.25 237.373 51.25 237.394 51.25C237.414 51.25 237.435 51.25 237.455 51.25C237.475 51.25 237.494 51.25 237.514 51.25C237.534 51.25 237.553 51.25 237.573 51.25C237.592 51.25 237.611 51.25 237.63 51.25C237.649 51.25 237.668 51.25 237.686 51.25C237.705 51.25 237.723 51.25 237.741 51.25C237.759 51.25 237.777 51.25 237.795 51.25C237.813 51.25 237.831 51.25 237.848 51.25C237.866 51.25 237.883 51.25 237.9 51.25C237.917 51.25 237.934 51.25 237.951 51.25C237.967 51.25 237.984 51.25 238 51.25V52.75C237.984 52.75 237.967 52.75 237.951 52.75C237.934 52.75 237.917 52.75 237.9 52.75C237.883 52.75 237.866 52.75 237.848 52.75C237.831 52.75 237.813 52.75 237.795 52.75C237.777 52.75 237.759 52.75 237.741 52.75C237.723 52.75 237.705 52.75 237.686 52.75C237.668 52.75 237.649 52.75 237.63 52.75C237.611 52.75 237.592 52.75 237.573 52.75C237.553 52.75 237.534 52.75 237.514 52.75C237.494 52.75 237.475 52.75 237.455 52.75C237.435 52.75 237.414 52.75 237.394 52.75C237.373 52.75 237.353 52.75 237.332 52.75C237.311 52.75 237.29 52.75 237.269 52.75C237.248 52.75 237.227 52.75 237.205 52.75C237.184 52.75 237.162 52.75 237.14 52.75C237.119 52.75 237.097 52.75 237.074 52.75C237.052 52.75 237.03 52.75 237.007 52.75C236.985 52.75 236.962 52.75 236.939 52.75C236.916 52.75 236.893 52.75 236.87 52.75C236.846 52.75 236.823 52.75 236.799 52.75C236.776 52.75 236.752 52.75 236.728 52.75C236.704 52.75 236.68 52.75 236.656 52.75C236.631 52.75 236.607 52.75 236.582 52.75C236.557 52.75 236.533 52.75 236.508 52.75C236.483 52.75 236.457 52.75 236.432 52.75C236.407 52.75 236.381 52.75 236.356 52.75C236.33 52.75 236.304 52.75 236.278 52.75C236.252 52.75 236.226 52.75 236.199 52.75C236.173 52.75 236.146 52.75 236.12 52.75C236.093 52.75 236.066 52.75 236.039 52.75C236.012 52.75 235.985 52.75 235.958 52.75C235.93 52.75 235.903 52.75 235.875 52.75C235.847 52.75 235.819 52.75 235.791 52.75C235.763 52.75 235.735 52.75 235.707 52.75C235.678 52.75 235.65 52.75 235.621 52.75C235.592 52.75 235.564 52.75 235.535 52.75C235.506 52.75 235.476 52.75 235.447 52.75C235.418 52.75 235.388 52.75 235.358 52.75C235.329 52.75 235.299 52.75 235.269 52.75C235.239 52.75 235.209 52.75 235.179 52.75C235.148 52.75 235.118 52.75 235.087 52.75C235.057 52.75 235.026 52.75 234.995 52.75C234.964 52.75 234.933 52.75 234.902 52.75C234.87 52.75 234.839 52.75 234.807 52.75C234.776 52.75 234.744 52.75 234.712 52.75C234.68 52.75 234.648 52.75 234.616 52.75C234.584 52.75 234.551 52.75 234.519 52.75C234.486 52.75 234.454 52.75 234.421 52.75C234.388 52.75 234.355 52.75 234.322 52.75C234.289 52.75 234.256 52.75 234.222 52.75C234.189 52.75 234.155 52.75 234.122 52.75C234.088 52.75 234.054 52.75 234.02 52.75C233.986 52.75 233.952 52.75 233.918 52.75C233.883 52.75 233.849 52.75 233.814 52.75C233.78 52.75 233.745 52.75 233.71 52.75C233.675 52.75 233.64 52.75 233.605 52.75C233.569 52.75 233.534 52.75 233.499 52.75C233.463 52.75 233.427 52.75 233.392 52.75C233.356 52.75 233.32 52.75 233.284 52.75C233.248 52.75 233.212 52.75 233.175 52.75C233.139 52.75 233.102 52.75 233.066 52.75C233.029 52.75 232.992 52.75 232.955 52.75C232.918 52.75 232.881 52.75 232.844 52.75C232.807 52.75 232.769 52.75 232.732 52.75C232.694 52.75 232.657 52.75 232.619 52.75C232.581 52.75 232.543 52.75 232.505 52.75C232.467 52.75 232.429 52.75 232.391 52.75C232.352 52.75 232.314 52.75 232.275 52.75C232.236 52.75 232.198 52.75 232.159 52.75C232.12 52.75 232.081 52.75 232.042 52.75C232.003 52.75 231.963 52.75 231.924 52.75C231.884 52.75 231.845 52.75 231.805 52.75C231.765 52.75 231.726 52.75 231.686 52.75C231.646 52.75 231.605 52.75 231.565 52.75C231.525 52.75 231.485 52.75 231.444 52.75C231.404 52.75 231.363 52.75 231.322 52.75C231.281 52.75 231.241 52.75 231.199 52.75C231.158 52.75 231.117 52.75 231.076 52.75C231.035 52.75 230.993 52.75 230.952 52.75C230.91 52.75 230.869 52.75 230.827 52.75C230.785 52.75 230.743 52.75 230.701 52.75C230.659 52.75 230.617 52.75 230.574 52.75C230.532 52.75 230.49 52.75 230.447 52.75C230.404 52.75 230.362 52.75 230.319 52.75C230.276 52.75 230.233 52.75 230.19 52.75C230.147 52.75 230.104 52.75 230.06 52.75C230.017 52.75 229.974 52.75 229.93 52.75C229.887 52.75 229.843 52.75 229.799 52.75C229.755 52.75 229.711 52.75 229.667 52.75C229.623 52.75 229.579 52.75 229.535 52.75C229.491 52.75 229.446 52.75 229.402 52.75C229.357 52.75 229.312 52.75 229.268 52.75C229.223 52.75 229.178 52.75 229.133 52.75C229.088 52.75 229.043 52.75 228.998 52.75C228.952 52.75 228.907 52.75 228.862 52.75C228.816 52.75 228.77 52.75 228.725 52.75C228.679 52.75 228.633 52.75 228.587 52.75C228.541 52.75 228.495 52.75 228.449 52.75C228.403 52.75 228.357 52.75 228.31 52.75C228.264 52.75 228.217 52.75 228.171 52.75C228.124 52.75 228.077 52.75 228.031 52.75C227.984 52.75 227.937 52.75 227.89 52.75C227.843 52.75 227.795 52.75 227.748 52.75C227.701 52.75 227.653 52.75 227.606 52.75C227.558 52.75 227.511 52.75 227.463 52.75C227.415 52.75 227.368 52.75 227.32 52.75C227.272 52.75 227.224 52.75 227.175 52.75C227.127 52.75 227.079 52.75 227.031 52.75C226.982 52.75 226.934 52.75 226.885 52.75C226.837 52.75 226.788 52.75 226.739 52.75C226.69 52.75 226.642 52.75 226.593 52.75C226.544 52.75 226.494 52.75 226.445 52.75C226.396 52.75 226.347 52.75 226.297 52.75C226.248 52.75 226.198 52.75 226.149 52.75C226.099 52.75 226.049 52.75 226 52.75C225.95 52.75 225.9 52.75 225.85 52.75C225.8 52.75 225.75 52.75 225.699 52.75C225.649 52.75 225.599 52.75 225.549 52.75C225.498 52.75 225.448 52.75 225.397 52.75C225.346 52.75 225.296 52.75 225.245 52.75C225.194 52.75 225.143 52.75 225.092 52.75C225.041 52.75 224.99 52.75 224.939 52.75C224.888 52.75 224.836 52.75 224.785 52.75C224.734 52.75 224.682 52.75 224.631 52.75C224.579 52.75 224.527 52.75 224.476 52.75C224.424 52.75 224.372 52.75 224.32 52.75C224.268 52.75 224.216 52.75 224.164 52.75C224.112 52.75 224.06 52.75 224.007 52.75C223.955 52.75 223.903 52.75 223.85 52.75C223.798 52.75 223.745 52.75 223.692 52.75C223.64 52.75 223.587 52.75 223.534 52.75C223.481 52.75 223.428 52.75 223.375 52.75C223.322 52.75 223.269 52.75 223.216 52.75C223.163 52.75 223.11 52.75 223.056 52.75C223.003 52.75 222.949 52.75 222.896 52.75C222.842 52.75 222.789 52.75 222.735 52.75C222.681 52.75 222.628 52.75 222.574 52.75C222.52 52.75 222.466 52.75 222.412 52.75C222.358 52.75 222.304 52.75 222.249 52.75C222.195 52.75 222.141 52.75 222.087 52.75C222.032 52.75 221.978 52.75 221.923 52.75C221.869 52.75 221.814 52.75 221.759 52.75C221.705 52.75 221.65 52.75 221.595 52.75C221.54 52.75 221.485 52.75 221.43 52.75C221.375 52.75 221.32 52.75 221.265 52.75C221.21 52.75 221.155 52.75 221.099 52.75C221.044 52.75 220.989 52.75 220.933 52.75C220.878 52.75 220.822 52.75 220.767 52.75C220.711 52.75 220.655 52.75 220.6 52.75C220.544 52.75 220.488 52.75 220.432 52.75C220.376 52.75 220.32 52.75 220.264 52.75C220.208 52.75 220.152 52.75 220.096 52.75C220.04 52.75 219.983 52.75 219.927 52.75C219.871 52.75 219.814 52.75 219.758 52.75C219.701 52.75 219.645 52.75 219.588 52.75C219.531 52.75 219.475 52.75 219.418 52.75C219.361 52.75 219.304 52.75 219.247 52.75C219.191 52.75 219.134 52.75 219.077 52.75C219.02 52.75 218.962 52.75 218.905 52.75C218.848 52.75 218.791 52.75 218.734 52.75C218.676 52.75 218.619 52.75 218.561 52.75C218.504 52.75 218.447 52.75 218.389 52.75C218.331 52.75 218.274 52.75 218.216 52.75C218.158 52.75 218.101 52.75 218.043 52.75C217.985 52.75 217.927 52.75 217.869 52.75C217.811 52.75 217.753 52.75 217.695 52.75C217.637 52.75 217.579 52.75 217.521 52.75C217.463 52.75 217.404 52.75 217.346 52.75C217.288 52.75 217.23 52.75 217.171 52.75C217.113 52.75 217.054 52.75 216.996 52.75C216.937 52.75 216.879 52.75 216.82 52.75C216.761 52.75 216.703 52.75 216.644 52.75C216.585 52.75 216.526 52.75 216.467 52.75C216.409 52.75 216.35 52.75 216.291 52.75C216.232 52.75 216.173 52.75 216.114 52.75C216.054 52.75 215.995 52.75 215.936 52.75C215.877 52.75 215.818 52.75 215.758 52.75C215.699 52.75 215.64 52.75 215.58 52.75C215.521 52.75 215.461 52.75 215.402 52.75C215.342 52.75 215.283 52.75 215.223 52.75C215.164 52.75 215.104 52.75 215.044 52.75C214.985 52.75 214.925 52.75 214.865 52.75C214.805 52.75 214.745 52.75 214.685 52.75C214.626 52.75 214.566 52.75 214.506 52.75C214.446 52.75 214.386 52.75 214.325 52.75C214.265 52.75 214.205 52.75 214.145 52.75C214.085 52.75 214.025 52.75 213.964 52.75C213.904 52.75 213.844 52.75 213.784 52.75C213.723 52.75 213.663 52.75 213.602 52.75C213.542 52.75 213.481 52.75 213.421 52.75C213.36 52.75 213.3 52.75 213.239 52.75C213.179 52.75 213.118 52.75 213.057 52.75C212.997 52.75 212.936 52.75 212.875 52.75C212.814 52.75 212.753 52.75 212.693 52.75C212.632 52.75 212.571 52.75 212.51 52.75C212.449 52.75 212.388 52.75 212.327 52.75C212.266 52.75 212.205 52.75 212.144 52.75C212.083 52.75 212.022 52.75 211.961 52.75C211.899 52.75 211.838 52.75 211.777 52.75C211.716 52.75 211.655 52.75 211.593 52.75C211.532 52.75 211.471 52.75 211.409 52.75C211.348 52.75 211.287 52.75 211.225 52.75C211.164 52.75 211.102 52.75 211.041 52.75C210.979 52.75 210.918 52.75 210.856 52.75C210.795 52.75 210.733 52.75 210.671 52.75C210.61 52.75 210.548 52.75 210.487 52.75C210.425 52.75 210.363 52.75 210.301 52.75C210.24 52.75 210.178 52.75 210.116 52.75C210.054 52.75 209.993 52.75 209.931 52.75C209.869 52.75 209.807 52.75 209.745 52.75C209.683 52.75 209.621 52.75 209.559 52.75C209.497 52.75 209.435 52.75 209.373 52.75C209.311 52.75 209.249 52.75 209.187 52.75C209.125 52.75 209.063 52.75 209.001 52.75C208.939 52.75 208.877 52.75 208.815 52.75C208.753 52.75 208.691 52.75 208.628 52.75C208.566 52.75 208.504 52.75 208.442 52.75C208.379 52.75 208.317 52.75 208.255 52.75C208.193 52.75 208.13 52.75 208.068 52.75C208.006 52.75 207.943 52.75 207.881 52.75C207.819 52.75 207.756 52.75 207.694 52.75C207.632 52.75 207.569 52.75 207.507 52.75C207.444 52.75 207.382 52.75 207.32 52.75C207.257 52.75 207.195 52.75 207.132 52.75C207.07 52.75 207.007 52.75 206.945 52.75C206.882 52.75 206.82 52.75 206.757 52.75C206.695 52.75 206.632 52.75 206.569 52.75C206.507 52.75 206.444 52.75 206.382 52.75C206.319 52.75 206.257 52.75 206.194 52.75C206.131 52.75 206.069 52.75 206.006 52.75C205.943 52.75 205.881 52.75 205.818 52.75C205.755 52.75 205.693 52.75 205.63 52.75C205.567 52.75 205.505 52.75 205.442 52.75C205.379 52.75 205.317 52.75 205.254 52.75C205.191 52.75 205.128 52.75 205.066 52.75C205.003 52.75 204.94 52.75 204.878 52.75C204.815 52.75 204.752 52.75 204.689 52.75C204.627 52.75 204.564 52.75 204.501 52.75C204.438 52.75 204.376 52.75 204.313 52.75C204.25 52.75 204.187 52.75 204.124 52.75C204.062 52.75 203.999 52.75 203.936 52.75C203.873 52.75 203.811 52.75 203.748 52.75C203.685 52.75 203.622 52.75 203.559 52.75C203.497 52.75 203.434 52.75 203.371 52.75C203.308 52.75 203.246 52.75 203.183 52.75C203.12 52.75 203.057 52.75 202.994 52.75C202.932 52.75 202.869 52.75 202.806 52.75C202.743 52.75 202.68 52.75 202.618 52.75C202.555 52.75 202.492 52.75 202.429 52.75C202.367 52.75 202.304 52.75 202.241 52.75C202.178 52.75 202.116 52.75 202.053 52.75C201.99 52.75 201.927 52.75 201.865 52.75C201.802 52.75 201.739 52.75 201.677 52.75C201.614 52.75 201.551 52.75 201.488 52.75C201.426 52.75 201.363 52.75 201.3 52.75C201.238 52.75 201.175 52.75 201.112 52.75C201.05 52.75 200.987 52.75 200.924 52.75C200.862 52.75 200.799 52.75 200.736 52.75C200.674 52.75 200.611 52.75 200.549 52.75C200.486 52.75 200.423 52.75 200.361 52.75C200.298 52.75 200.236 52.75 200.173 52.75C200.111 52.75 200.048 52.75 199.985 52.75C199.923 52.75 199.86 52.75 199.798 52.75C199.735 52.75 199.673 52.75 199.61 52.75C199.548 52.75 199.486 52.75 199.423 52.75C199.361 52.75 199.298 52.75 199.236 52.75C199.174 52.75 199.111 52.75 199.049 52.75C198.986 52.75 198.924 52.75 198.862 52.75C198.799 52.75 198.737 52.75 198.675 52.75C198.613 52.75 198.55 52.75 198.488 52.75C198.426 52.75 198.364 52.75 198.301 52.75C198.239 52.75 198.177 52.75 198.115 52.75C198.053 52.75 197.991 52.75 197.928 52.75C197.866 52.75 197.804 52.75 197.742 52.75C197.68 52.75 197.618 52.75 197.556 52.75C197.494 52.75 197.432 52.75 197.37 52.75C197.308 52.75 197.246 52.75 197.184 52.75C197.122 52.75 197.06 52.75 196.998 52.75C196.937 52.75 196.875 52.75 196.813 52.75C196.751 52.75 196.689 52.75 196.628 52.75C196.566 52.75 196.504 52.75 196.442 52.75C196.381 52.75 196.319 52.75 196.257 52.75C196.196 52.75 196.134 52.75 196.073 52.75C196.011 52.75 195.949 52.75 195.888 52.75C195.826 52.75 195.765 52.75 195.704 52.75C195.642 52.75 195.581 52.75 195.519 52.75C195.458 52.75 195.397 52.75 195.335 52.75C195.274 52.75 195.213 52.75 195.151 52.75C195.09 52.75 195.029 52.75 194.968 52.75C194.907 52.75 194.845 52.75 194.784 52.75C194.723 52.75 194.662 52.75 194.601 52.75C194.54 52.75 194.479 52.75 194.418 52.75C194.357 52.75 194.296 52.75 194.235 52.75C194.174 52.75 194.114 52.75 194.053 52.75C193.992 52.75 193.931 52.75 193.87 52.75C193.81 52.75 193.749 52.75 193.688 52.75C193.628 52.75 193.567 52.75 193.507 52.75C193.446 52.75 193.385 52.75 193.325 52.75C193.265 52.75 193.204 52.75 193.144 52.75C193.083 52.75 193.023 52.75 192.963 52.75C192.902 52.75 192.842 52.75 192.782 52.75C192.722 52.75 192.661 52.75 192.601 52.75C192.541 52.75 192.481 52.75 192.421 52.75C192.361 52.75 192.301 52.75 192.241 52.75C192.181 52.75 192.121 52.75 192.061 52.75C192.002 52.75 191.942 52.75 191.882 52.75C191.822 52.75 191.763 52.75 191.703 52.75C191.643 52.75 191.584 52.75 191.524 52.75C191.465 52.75 191.405 52.75 191.346 52.75C191.286 52.75 191.227 52.75 191.167 52.75C191.108 52.75 191.049 52.75 190.989 52.75C190.93 52.75 190.871 52.75 190.812 52.75C190.753 52.75 190.694 52.75 190.635 52.75C190.576 52.75 190.517 52.75 190.458 52.75C190.399 52.75 190.34 52.75 190.281 52.75C190.222 52.75 190.164 52.75 190.105 52.75C190.046 52.75 189.988 52.75 189.929 52.75C189.87 52.75 189.812 52.75 189.753 52.75C189.695 52.75 189.637 52.75 189.578 52.75C189.52 52.75 189.462 52.75 189.403 52.75C189.345 52.75 189.287 52.75 189.229 52.75C189.171 52.75 189.113 52.75 189.055 52.75C188.997 52.75 188.939 52.75 188.881 52.75C188.823 52.75 188.765 52.75 188.707 52.75C188.65 52.75 188.592 52.75 188.534 52.75C188.477 52.75 188.419 52.75 188.362 52.75C188.304 52.75 188.247 52.75 188.189 52.75C188.132 52.75 188.075 52.75 188.018 52.75C187.96 52.75 187.903 52.75 187.846 52.75C187.789 52.75 187.732 52.75 187.675 52.75C187.618 52.75 187.561 52.75 187.504 52.75C187.447 52.75 187.391 52.75 187.334 52.75C187.277 52.75 187.221 52.75 187.164 52.75C187.108 52.75 187.051 52.75 186.995 52.75C186.938 52.75 186.882 52.75 186.826 52.75C186.769 52.75 186.713 52.75 186.657 52.75C186.601 52.75 186.545 52.75 186.489 52.75C186.433 52.75 186.377 52.75 186.321 52.75C186.265 52.75 186.21 52.75 186.154 52.75C186.098 52.75 186.043 52.75 185.987 52.75C185.932 52.75 185.876 52.75 185.821 52.75C185.765 52.75 185.71 52.75 185.655 52.75C185.6 52.75 185.545 52.75 185.489 52.75C185.434 52.75 185.379 52.75 185.324 52.75C185.27 52.75 185.215 52.75 185.16 52.75C185.105 52.75 185.05 52.75 184.996 52.75C184.941 52.75 184.887 52.75 184.832 52.75C184.778 52.75 184.724 52.75 184.669 52.75C184.615 52.75 184.561 52.75 184.507 52.75C184.453 52.75 184.399 52.75 184.345 52.75C184.291 52.75 184.237 52.75 184.183 52.75C184.129 52.75 184.076 52.75 184.022 52.75C183.968 52.75 183.915 52.75 183.861 52.75C183.808 52.75 183.755 52.75 183.701 52.75C183.648 52.75 183.595 52.75 183.542 52.75C183.489 52.75 183.436 52.75 183.383 52.75C183.33 52.75 183.277 52.75 183.224 52.75C183.171 52.75 183.119 52.75 183.066 52.75C183.014 52.75 182.961 52.75 182.909 52.75C182.856 52.75 182.804 52.75 182.752 52.75C182.7 52.75 182.648 52.75 182.596 52.75C182.544 52.75 182.492 52.75 182.44 52.75C182.388 52.75 182.336 52.75 182.284 52.75C182.233 52.75 182.181 52.75 182.13 52.75C182.078 52.75 182.027 52.75 181.976 52.75C181.924 52.75 181.873 52.75 181.822 52.75C181.771 52.75 181.72 52.75 181.669 52.75C181.618 52.75 181.567 52.75 181.517 52.75C181.466 52.75 181.415 52.75 181.365 52.75C181.314 52.75 181.264 52.75 181.214 52.75C181.163 52.75 181.113 52.75 181.063 52.75C181.013 52.75 180.963 52.75 180.913 52.75C180.863 52.75 180.813 52.75 180.764 52.75C180.714 52.75 180.664 52.75 180.615 52.75C180.565 52.75 180.516 52.75 180.467 52.75C180.417 52.75 180.368 52.75 180.319 52.75C180.27 52.75 180.221 52.75 180.172 52.75C180.123 52.75 180.074 52.75 180.026 52.75C179.977 52.75 179.928 52.75 179.88 52.75C179.832 52.75 179.783 52.75 179.735 52.75C179.687 52.75 179.639 52.75 179.59 52.75C179.542 52.75 179.495 52.75 179.447 52.75C179.399 52.75 179.351 52.75 179.304 52.75C179.256 52.75 179.208 52.75 179.161 52.75C179.114 52.75 179.066 52.75 179.019 52.75C178.972 52.75 178.925 52.75 178.878 52.75C178.831 52.75 178.784 52.75 178.738 52.75C178.691 52.75 178.644 52.75 178.598 52.75C178.551 52.75 178.505 52.75 178.459 52.75C178.412 52.75 178.366 52.75 178.32 52.75C178.274 52.75 178.228 52.75 178.182 52.75C178.136 52.75 178.091 52.75 178.045 52.75C178 52.75 177.954 52.75 177.909 52.75C177.863 52.75 177.818 52.75 177.773 52.75C177.728 52.75 177.683 52.75 177.638 52.75C177.593 52.75 177.548 52.75 177.504 52.75C177.459 52.75 177.415 52.75 177.37 52.75C177.326 52.75 177.282 52.75 177.237 52.75C177.193 52.75 177.149 52.75 177.105 52.75C177.061 52.75 177.018 52.75 176.974 52.75C176.93 52.75 176.887 52.75 176.843 52.75C176.8 52.75 176.757 52.75 176.713 52.75C176.67 52.75 176.627 52.75 176.584 52.75C176.541 52.75 176.498 52.75 176.456 52.75C176.413 52.75 176.37 52.75 176.328 52.75C176.286 52.75 176.243 52.75 176.201 52.75C176.159 52.75 176.117 52.75 176.075 52.75C176.033 52.75 175.991 52.75 175.95 52.75C175.908 52.75 175.866 52.75 175.825 52.75C175.784 52.75 175.742 52.75 175.701 52.75C175.66 52.75 175.619 52.75 175.578 52.75C175.537 52.75 175.496 52.75 175.456 52.75C175.415 52.75 175.375 52.75 175.334 52.75C175.294 52.75 175.254 52.75 175.214 52.75C175.173 52.75 175.134 52.75 175.094 52.75C175.054 52.75 175.014 52.75 174.975 52.75C174.935 52.75 174.896 52.75 174.856 52.75C174.817 52.75 174.778 52.75 174.739 52.75C174.7 52.75 174.661 52.75 174.622 52.75C174.583 52.75 174.545 52.75 174.506 52.75C174.468 52.75 174.43 52.75 174.391 52.75C174.353 52.75 174.315 52.75 174.277 52.75C174.239 52.75 174.201 52.75 174.164 52.75C174.126 52.75 174.089 52.75 174.051 52.75C174.014 52.75 173.977 52.75 173.94 52.75C173.903 52.75 173.866 52.75 173.829 52.75C173.792 52.75 173.756 52.75 173.719 52.75C173.683 52.75 173.646 52.75 173.61 52.75C173.574 52.75 173.538 52.75 173.502 52.75C173.466 52.75 173.43 52.75 173.394 52.75C173.359 52.75 173.323 52.75 173.288 52.75C173.253 52.75 173.217 52.75 173.182 52.75C173.147 52.75 173.112 52.75 173.078 52.75C173.043 52.75 173.008 52.75 172.974 52.75C172.939 52.75 172.905 52.75 172.871 52.75C172.837 52.75 172.803 52.75 172.769 52.75C172.735 52.75 172.701 52.75 172.668 52.75C172.634 52.75 172.601 52.75 172.568 52.75C172.534 52.75 172.501 52.75 172.468 52.75C172.435 52.75 172.402 52.75 172.37 52.75C172.337 52.75 172.305 52.75 172.272 52.75C172.24 52.75 172.208 52.75 172.176 52.75C172.144 52.75 172.112 52.75 172.08 52.75C172.049 52.75 172.017 52.75 171.986 52.75C171.954 52.75 171.923 52.75 171.892 52.75C171.861 52.75 171.83 52.75 171.799 52.75C171.768 52.75 171.738 52.75 171.707 52.75C171.677 52.75 171.646 52.75 171.616 52.75C171.586 52.75 171.556 52.75 171.526 52.75C171.497 52.75 171.467 52.75 171.437 52.75C171.408 52.75 171.379 52.75 171.349 52.75C171.32 52.75 171.291 52.75 171.262 52.75C171.234 52.75 171.205 52.75 171.176 52.75C171.148 52.75 171.12 52.75 171.091 52.75C171.063 52.75 171.035 52.75 171.007 52.75C170.979 52.75 170.952 52.75 170.924 52.75C170.897 52.75 170.869 52.75 170.842 52.75C170.815 52.75 170.788 52.75 170.761 52.75C170.734 52.75 170.708 52.75 170.681 52.75C170.654 52.75 170.628 52.75 170.602 52.75C170.576 52.75 170.55 52.75 170.524 52.75C170.498 52.75 170.472 52.75 170.447 52.75C170.421 52.75 170.396 52.75 170.371 52.75C170.346 52.75 170.321 52.75 170.296 52.75C170.271 52.75 170.246 52.75 170.222 52.75C170.198 52.75 170.173 52.75 170.149 52.75C170.125 52.75 170.101 52.75 170.077 52.75C170.053 52.75 170.03 52.75 170.006 52.75C169.983 52.75 169.96 52.75 169.937 52.75C169.914 52.75 169.891 52.75 169.868 52.75C169.845 52.75 169.823 52.75 169.8 52.75C169.778 52.75 169.756 52.75 169.734 52.75C169.712 52.75 169.69 52.75 169.668 52.75C169.647 52.75 169.625 52.75 169.604 52.75C169.583 52.75 169.561 52.75 169.541 52.75C169.52 52.75 169.499 52.75 169.478 52.75C169.458 52.75 169.437 52.75 169.417 52.75C169.397 52.75 169.377 52.75 169.357 52.75C169.337 52.75 169.318 52.75 169.298 52.75C169.279 52.75 169.259 52.75 169.24 52.75C169.221 52.75 169.202 52.75 169.183 52.75C169.165 52.75 169.146 52.75 169.128 52.75C169.109 52.75 169.091 52.75 169.073 52.75C169.055 52.75 169.038 52.75 169.02 52.75C169.002 52.75 168.985 52.75 168.968 52.75C168.95 52.75 168.933 52.75 168.917 52.75C168.9 52.75 168.883 52.75 168.867 52.75C168.85 52.75 168.834 52.75 168.818 52.75C168.802 52.75 168.786 52.75 168.77 52.75C168.754 52.75 168.739 52.75 168.723 52.75C168.708 52.75 168.693 52.75 168.678 52.75C168.663 52.75 168.648 52.75 168.634 52.75C168.619 52.75 168.605 52.75 168.591 52.75C168.577 52.75 168.563 52.75 168.549 52.75C168.535 52.75 168.521 52.75 168.508 52.75C168.495 52.75 168.481 52.75 168.469 52.75C168.456 52.75 168.443 52.75 168.43 52.75C168.418 52.75 168.405 52.75 168.393 52.75C168.381 52.75 168.369 52.75 168.357 52.75C168.345 52.75 168.334 52.75 168.322 52.75C168.311 52.75 168.3 52.75 168.289 52.75C168.278 52.75 168.267 52.75 168.256 52.75C168.246 52.75 168.235 52.75 168.225 52.75C168.215 52.75 168.205 52.75 168.195 52.75C168.185 52.75 168.176 52.75 168.166 52.75C168.157 52.75 168.148 52.75 168.139 52.75C168.13 52.75 168.121 52.75 168.113 52.75C168.104 52.75 168.096 52.75 168.088 52.75C168.08 52.75 168.072 52.75 168.064 52.75C168.056 52.75 168.049 52.75 168.041 52.75C168.034 52.75 168.027 52.75 168.02 52.75C168.013 52.75 168.006 52.75 168 52.75V51.25Z",fill:"url(#paint4_linear_38_7016)"}),(0,_.jsx)("path",{d:"M258.724 115.263V114.091H266.906V115.263H263.476V125H262.155V115.263H258.724ZM270.912 125.17C270.173 125.17 269.525 124.995 268.968 124.643C268.414 124.292 267.98 123.8 267.668 123.168C267.359 122.536 267.205 121.797 267.205 120.952C267.205 120.099 267.359 119.355 267.668 118.72C267.98 118.084 268.414 117.591 268.968 117.239C269.525 116.887 270.173 116.712 270.912 116.712C271.651 116.712 272.297 116.887 272.851 117.239C273.408 117.591 273.842 118.084 274.151 118.72C274.463 119.355 274.619 120.099 274.619 120.952C274.619 121.797 274.463 122.536 274.151 123.168C273.842 123.8 273.408 124.292 272.851 124.643C272.297 124.995 271.651 125.17 270.912 125.17ZM270.912 124.041C271.473 124.041 271.935 123.897 272.297 123.61C272.659 123.322 272.927 122.944 273.101 122.475C273.275 122.006 273.362 121.499 273.362 120.952C273.362 120.405 273.275 119.895 273.101 119.423C272.927 118.951 272.659 118.569 272.297 118.278C271.935 117.987 271.473 117.841 270.912 117.841C270.351 117.841 269.889 117.987 269.527 118.278C269.165 118.569 268.897 118.951 268.723 119.423C268.549 119.895 268.462 120.405 268.462 120.952C268.462 121.499 268.549 122.006 268.723 122.475C268.897 122.944 269.165 123.322 269.527 123.61C269.889 123.897 270.351 124.041 270.912 124.041ZM279.628 125.17C278.946 125.17 278.344 124.998 277.822 124.654C277.3 124.306 276.892 123.816 276.597 123.184C276.302 122.548 276.155 121.797 276.155 120.93C276.155 120.071 276.302 119.325 276.597 118.693C276.892 118.061 277.302 117.573 277.827 117.228C278.353 116.884 278.96 116.712 279.649 116.712C280.182 116.712 280.603 116.8 280.911 116.978C281.224 117.152 281.462 117.351 281.625 117.575C281.792 117.795 281.922 117.976 282.014 118.118H282.121V114.091H283.378V125H282.163V123.743H282.014C281.922 123.892 281.79 124.08 281.62 124.308C281.449 124.531 281.206 124.732 280.89 124.909C280.574 125.083 280.153 125.17 279.628 125.17ZM279.798 124.041C280.302 124.041 280.729 123.91 281.077 123.647C281.425 123.381 281.689 123.013 281.87 122.544C282.051 122.072 282.142 121.527 282.142 120.909C282.142 120.298 282.053 119.764 281.876 119.306C281.698 118.844 281.435 118.485 281.087 118.23C280.739 117.971 280.31 117.841 279.798 117.841C279.266 117.841 278.822 117.978 278.467 118.251C278.115 118.521 277.85 118.888 277.673 119.354C277.499 119.815 277.412 120.334 277.412 120.909C277.412 121.491 277.501 122.021 277.678 122.496C277.859 122.969 278.126 123.345 278.477 123.626C278.832 123.903 279.273 124.041 279.798 124.041ZM288.262 125.192C287.744 125.192 287.273 125.094 286.851 124.899C286.428 124.7 286.093 124.414 285.844 124.041C285.595 123.665 285.471 123.21 285.471 122.678C285.471 122.209 285.563 121.829 285.748 121.538C285.933 121.243 286.18 121.012 286.489 120.845C286.797 120.678 287.138 120.554 287.511 120.472C287.888 120.387 288.266 120.32 288.646 120.27C289.143 120.206 289.546 120.158 289.855 120.126C290.168 120.091 290.395 120.032 290.537 119.95C290.682 119.869 290.755 119.727 290.755 119.524V119.482C290.755 118.956 290.611 118.548 290.324 118.256C290.04 117.965 289.608 117.82 289.029 117.82C288.429 117.82 287.959 117.951 287.618 118.214C287.277 118.477 287.037 118.757 286.899 119.055L285.706 118.629C285.919 118.132 286.203 117.745 286.558 117.468C286.916 117.187 287.307 116.992 287.73 116.882C288.156 116.768 288.575 116.712 288.987 116.712C289.25 116.712 289.551 116.744 289.892 116.808C290.237 116.868 290.569 116.994 290.888 117.186C291.212 117.377 291.48 117.667 291.693 118.054C291.906 118.441 292.012 118.96 292.012 119.609V125H290.755V123.892H290.691C290.606 124.07 290.464 124.26 290.265 124.462C290.066 124.664 289.802 124.837 289.472 124.979C289.141 125.121 288.738 125.192 288.262 125.192ZM288.454 124.062C288.951 124.062 289.37 123.965 289.711 123.77C290.056 123.574 290.315 123.322 290.489 123.013C290.666 122.704 290.755 122.379 290.755 122.038V120.888C290.702 120.952 290.585 121.01 290.404 121.064C290.226 121.113 290.02 121.158 289.786 121.197C289.555 121.232 289.329 121.264 289.109 121.293C288.893 121.317 288.717 121.339 288.582 121.357C288.255 121.399 287.95 121.468 287.666 121.564C287.385 121.657 287.158 121.797 286.984 121.985C286.813 122.17 286.728 122.422 286.728 122.741C286.728 123.178 286.89 123.509 287.213 123.732C287.54 123.952 287.953 124.062 288.454 124.062ZM294.824 128.068C294.61 128.068 294.42 128.05 294.254 128.015C294.087 127.983 293.971 127.951 293.907 127.919L294.227 126.811C294.532 126.889 294.802 126.918 295.037 126.896C295.271 126.875 295.479 126.77 295.66 126.582C295.844 126.397 296.013 126.097 296.166 125.682L296.4 125.043L293.375 116.818H294.738L296.997 123.338H297.082L299.341 116.818H300.704L297.231 126.193C297.075 126.616 296.881 126.966 296.651 127.243C296.42 127.523 296.152 127.731 295.846 127.866C295.544 128.001 295.203 128.068 294.824 128.068ZM303.726 123.509L303.641 124.084C303.58 124.489 303.488 124.922 303.364 125.384C303.243 125.845 303.117 126.28 302.985 126.689C302.854 127.097 302.746 127.422 302.66 127.663H301.702C301.748 127.436 301.808 127.136 301.883 126.763C301.957 126.39 302.032 125.973 302.106 125.511C302.185 125.053 302.248 124.585 302.298 124.105L302.362 123.509H303.726ZM312.127 125L309.634 116.818H310.955L312.724 123.082H312.809L314.556 116.818H315.899L317.624 123.061H317.71L319.478 116.818H320.799L318.306 125H317.07L315.281 118.714H315.153L313.363 125H312.127ZM325.613 125.17C324.825 125.17 324.145 124.996 323.573 124.648C323.005 124.297 322.566 123.807 322.257 123.178C321.952 122.546 321.799 121.811 321.799 120.973C321.799 120.135 321.952 119.396 322.257 118.757C322.566 118.114 322.996 117.614 323.546 117.255C324.1 116.893 324.747 116.712 325.485 116.712C325.911 116.712 326.332 116.783 326.748 116.925C327.163 117.067 327.541 117.298 327.882 117.617C328.223 117.933 328.495 118.352 328.697 118.874C328.9 119.396 329.001 120.039 329.001 120.803V121.335H322.694V120.249H327.723C327.723 119.787 327.63 119.375 327.446 119.013C327.264 118.651 327.005 118.365 326.668 118.155C326.334 117.946 325.94 117.841 325.485 117.841C324.985 117.841 324.551 117.965 324.186 118.214C323.823 118.459 323.545 118.778 323.349 119.173C323.154 119.567 323.056 119.989 323.056 120.44V121.165C323.056 121.783 323.163 122.306 323.376 122.736C323.593 123.162 323.893 123.487 324.276 123.711C324.66 123.931 325.105 124.041 325.613 124.041C325.943 124.041 326.242 123.995 326.508 123.903C326.778 123.807 327.011 123.665 327.206 123.477C327.401 123.285 327.552 123.047 327.659 122.763L328.873 123.104C328.745 123.516 328.53 123.878 328.229 124.19C327.927 124.499 327.554 124.741 327.11 124.915C326.666 125.085 326.167 125.17 325.613 125.17ZM332.021 114.091V115.05C332.021 115.341 331.968 115.652 331.861 115.982C331.758 116.309 331.606 116.626 331.403 116.935C331.204 117.241 330.963 117.507 330.679 117.734L329.997 117.18C330.221 116.861 330.414 116.529 330.578 116.184C330.745 115.836 330.828 115.465 330.828 115.071V114.091H332.021ZM333.36 125V116.818H334.574V118.054H334.659C334.808 117.649 335.078 117.321 335.469 117.069C335.86 116.816 336.3 116.69 336.79 116.69C336.882 116.69 336.998 116.692 337.136 116.696C337.275 116.699 337.379 116.705 337.45 116.712V117.99C337.408 117.979 337.31 117.963 337.157 117.942C337.008 117.917 336.85 117.905 336.683 117.905C336.286 117.905 335.931 117.988 335.618 118.155C335.309 118.319 335.064 118.546 334.883 118.837C334.705 119.125 334.617 119.453 334.617 119.822V125H333.36ZM342.122 125.17C341.334 125.17 340.654 124.996 340.082 124.648C339.514 124.297 339.075 123.807 338.766 123.178C338.461 122.546 338.308 121.811 338.308 120.973C338.308 120.135 338.461 119.396 338.766 118.757C339.075 118.114 339.505 117.614 340.055 117.255C340.609 116.893 341.256 116.712 341.994 116.712C342.42 116.712 342.841 116.783 343.257 116.925C343.672 117.067 344.05 117.298 344.391 117.617C344.732 117.933 345.004 118.352 345.206 118.874C345.409 119.396 345.51 120.039 345.51 120.803V121.335H339.203V120.249H344.231C344.231 119.787 344.139 119.375 343.954 119.013C343.773 118.651 343.514 118.365 343.177 118.155C342.843 117.946 342.449 117.841 341.994 117.841C341.493 117.841 341.06 117.965 340.694 118.214C340.332 118.459 340.053 118.778 339.858 119.173C339.663 119.567 339.565 119.989 339.565 120.44V121.165C339.565 121.783 339.672 122.306 339.885 122.736C340.101 123.162 340.401 123.487 340.785 123.711C341.169 123.931 341.614 124.041 342.122 124.041C342.452 124.041 342.751 123.995 343.017 123.903C343.287 123.807 343.519 123.665 343.715 123.477C343.91 123.285 344.061 123.047 344.167 122.763L345.382 123.104C345.254 123.516 345.039 123.878 344.737 124.19C344.436 124.499 344.063 124.741 343.619 124.915C343.175 125.085 342.676 125.17 342.122 125.17ZM354.048 125.192C353.53 125.192 353.059 125.094 352.637 124.899C352.214 124.7 351.879 124.414 351.63 124.041C351.382 123.665 351.257 123.21 351.257 122.678C351.257 122.209 351.35 121.829 351.534 121.538C351.719 121.243 351.966 121.012 352.275 120.845C352.584 120.678 352.925 120.554 353.297 120.472C353.674 120.387 354.052 120.32 354.432 120.27C354.929 120.206 355.332 120.158 355.641 120.126C355.954 120.091 356.181 120.032 356.323 119.95C356.469 119.869 356.541 119.727 356.541 119.524V119.482C356.541 118.956 356.398 118.548 356.11 118.256C355.826 117.965 355.394 117.82 354.816 117.82C354.215 117.82 353.745 117.951 353.404 118.214C353.063 118.477 352.823 118.757 352.685 119.055L351.492 118.629C351.705 118.132 351.989 117.745 352.344 117.468C352.703 117.187 353.093 116.992 353.516 116.882C353.942 116.768 354.361 116.712 354.773 116.712C355.036 116.712 355.338 116.744 355.678 116.808C356.023 116.868 356.355 116.994 356.675 117.186C356.998 117.377 357.266 117.667 357.479 118.054C357.692 118.441 357.798 118.96 357.798 119.609V125H356.541V123.892H356.477C356.392 124.07 356.25 124.26 356.051 124.462C355.852 124.664 355.588 124.837 355.258 124.979C354.927 125.121 354.524 125.192 354.048 125.192ZM354.24 124.062C354.737 124.062 355.156 123.965 355.497 123.77C355.842 123.574 356.101 123.322 356.275 123.013C356.453 122.704 356.541 122.379 356.541 122.038V120.888C356.488 120.952 356.371 121.01 356.19 121.064C356.012 121.113 355.806 121.158 355.572 121.197C355.341 121.232 355.116 121.264 354.895 121.293C354.679 121.317 354.503 121.339 354.368 121.357C354.041 121.399 353.736 121.468 353.452 121.564C353.171 121.657 352.944 121.797 352.77 121.985C352.6 122.17 352.514 122.422 352.514 122.741C352.514 123.178 352.676 123.509 352.999 123.732C353.326 123.952 353.74 124.062 354.24 124.062ZM361.35 120.078V125H360.093V116.818H361.307V118.097H361.414C361.606 117.681 361.897 117.347 362.288 117.095C362.678 116.839 363.182 116.712 363.8 116.712C364.354 116.712 364.839 116.825 365.255 117.053C365.67 117.276 365.993 117.617 366.224 118.075C366.455 118.53 366.57 119.105 366.57 119.801V125H365.313V119.886C365.313 119.244 365.146 118.743 364.812 118.384C364.479 118.022 364.021 117.841 363.438 117.841C363.037 117.841 362.678 117.928 362.362 118.102C362.05 118.276 361.803 118.53 361.622 118.864C361.441 119.197 361.35 119.602 361.35 120.078ZM262.453 151.239C261.846 151.239 261.324 151.161 260.887 151.004C260.45 150.852 260.086 150.649 259.795 150.397C259.507 150.148 259.278 149.882 259.108 149.598L260.109 148.895C260.223 149.044 260.367 149.214 260.541 149.406C260.715 149.602 260.953 149.77 261.255 149.912C261.56 150.058 261.96 150.131 262.453 150.131C263.114 150.131 263.659 149.971 264.088 149.651C264.518 149.332 264.733 148.831 264.733 148.149V146.487H264.626C264.534 146.636 264.403 146.821 264.232 147.041C264.065 147.258 263.824 147.451 263.508 147.622C263.195 147.789 262.773 147.872 262.24 147.872C261.58 147.872 260.987 147.716 260.461 147.403C259.939 147.091 259.525 146.636 259.22 146.04C258.918 145.443 258.767 144.719 258.767 143.866C258.767 143.028 258.914 142.299 259.209 141.677C259.504 141.052 259.914 140.569 260.44 140.228C260.965 139.884 261.572 139.712 262.261 139.712C262.794 139.712 263.217 139.8 263.529 139.978C263.845 140.152 264.087 140.351 264.254 140.575C264.424 140.795 264.555 140.976 264.648 141.118H264.776V139.818H265.99V148.234C265.99 148.938 265.83 149.509 265.511 149.95C265.195 150.393 264.768 150.718 264.232 150.924C263.7 151.134 263.107 151.239 262.453 151.239ZM262.411 146.743C262.915 146.743 263.341 146.627 263.689 146.397C264.037 146.166 264.301 145.834 264.483 145.401C264.664 144.967 264.754 144.449 264.754 143.845C264.754 143.256 264.665 142.735 264.488 142.284C264.31 141.833 264.048 141.48 263.7 141.224C263.352 140.969 262.922 140.841 262.411 140.841C261.878 140.841 261.434 140.976 261.079 141.246C260.727 141.516 260.463 141.878 260.285 142.332C260.111 142.787 260.024 143.291 260.024 143.845C260.024 144.413 260.113 144.916 260.29 145.353C260.472 145.786 260.738 146.127 261.089 146.375C261.445 146.62 261.885 146.743 262.411 146.743ZM268.291 148V139.818H269.548V148H268.291ZM268.93 138.455C268.685 138.455 268.474 138.371 268.297 138.204C268.123 138.037 268.036 137.837 268.036 137.602C268.036 137.368 268.123 137.167 268.297 137C268.474 136.833 268.685 136.75 268.93 136.75C269.175 136.75 269.385 136.833 269.559 137C269.737 137.167 269.825 137.368 269.825 137.602C269.825 137.837 269.737 138.037 269.559 138.204C269.385 138.371 269.175 138.455 268.93 138.455ZM278.541 139.818L275.516 148H274.237L271.212 139.818H272.575L274.834 146.338H274.919L277.177 139.818H278.541ZM280.2 148V139.818H281.457V148H280.2ZM280.84 138.455C280.595 138.455 280.383 138.371 280.206 138.204C280.032 138.037 279.945 137.837 279.945 137.602C279.945 137.368 280.032 137.167 280.206 137C280.383 136.833 280.595 136.75 280.84 136.75C281.085 136.75 281.294 136.833 281.468 137C281.646 137.167 281.734 137.368 281.734 137.602C281.734 137.837 281.646 138.037 281.468 138.204C281.294 138.371 281.085 138.455 280.84 138.455ZM285.017 143.078V148H283.76V139.818H284.974V141.097H285.081C285.273 140.681 285.564 140.347 285.955 140.095C286.345 139.839 286.849 139.712 287.467 139.712C288.021 139.712 288.506 139.825 288.922 140.053C289.337 140.276 289.66 140.617 289.891 141.075C290.122 141.53 290.237 142.105 290.237 142.801V148H288.98V142.886C288.98 142.244 288.813 141.743 288.479 141.384C288.146 141.022 287.688 140.841 287.105 140.841C286.704 140.841 286.345 140.928 286.029 141.102C285.717 141.276 285.47 141.53 285.289 141.864C285.108 142.197 285.017 142.602 285.017 143.078ZM295.837 151.239C295.23 151.239 294.708 151.161 294.271 151.004C293.834 150.852 293.47 150.649 293.179 150.397C292.891 150.148 292.662 149.882 292.492 149.598L293.493 148.895C293.607 149.044 293.751 149.214 293.925 149.406C294.099 149.602 294.337 149.77 294.638 149.912C294.944 150.058 295.343 150.131 295.837 150.131C296.497 150.131 297.043 149.971 297.472 149.651C297.902 149.332 298.117 148.831 298.117 148.149V146.487H298.01C297.918 146.636 297.786 146.821 297.616 147.041C297.449 147.258 297.208 147.451 296.892 147.622C296.579 147.789 296.157 147.872 295.624 147.872C294.963 147.872 294.37 147.716 293.845 147.403C293.323 147.091 292.909 146.636 292.604 146.04C292.302 145.443 292.151 144.719 292.151 143.866C292.151 143.028 292.298 142.299 292.593 141.677C292.888 141.052 293.298 140.569 293.823 140.228C294.349 139.884 294.956 139.712 295.645 139.712C296.178 139.712 296.6 139.8 296.913 139.978C297.229 140.152 297.47 140.351 297.637 140.575C297.808 140.795 297.939 140.976 298.032 141.118H298.159V139.818H299.374V148.234C299.374 148.938 299.214 149.509 298.894 149.95C298.578 150.393 298.152 150.718 297.616 150.924C297.083 151.134 296.49 151.239 295.837 151.239ZM295.794 146.743C296.299 146.743 296.725 146.627 297.073 146.397C297.421 146.166 297.685 145.834 297.866 145.401C298.047 144.967 298.138 144.449 298.138 143.845C298.138 143.256 298.049 142.735 297.872 142.284C297.694 141.833 297.431 141.48 297.083 141.224C296.735 140.969 296.306 140.841 295.794 140.841C295.262 140.841 294.818 140.976 294.463 141.246C294.111 141.516 293.847 141.878 293.669 142.332C293.495 142.787 293.408 143.291 293.408 143.845C293.408 144.413 293.497 144.916 293.674 145.353C293.855 145.786 294.122 146.127 294.473 146.375C294.828 146.62 295.269 146.743 295.794 146.743ZM309.452 139.818V140.884H305.212V139.818H309.452ZM306.448 137.858H307.705V145.656C307.705 146.011 307.756 146.278 307.859 146.455C307.966 146.629 308.101 146.746 308.264 146.807C308.431 146.864 308.607 146.892 308.791 146.892C308.93 146.892 309.044 146.885 309.132 146.871C309.221 146.853 309.292 146.839 309.345 146.828L309.601 147.957C309.516 147.989 309.397 148.021 309.244 148.053C309.092 148.089 308.898 148.107 308.664 148.107C308.309 148.107 307.96 148.03 307.62 147.877C307.282 147.725 307.002 147.492 306.778 147.18C306.558 146.867 306.448 146.473 306.448 145.997V137.858ZM312.776 143.078V148H311.519V137.091H312.776V141.097H312.882C313.074 140.674 313.362 140.338 313.745 140.09C314.132 139.838 314.647 139.712 315.29 139.712C315.848 139.712 316.336 139.824 316.755 140.047C317.174 140.267 317.499 140.607 317.73 141.065C317.964 141.519 318.081 142.098 318.081 142.801V148H316.824V142.886C316.824 142.237 316.655 141.734 316.318 141.379C315.984 141.02 315.521 140.841 314.928 140.841C314.516 140.841 314.147 140.928 313.82 141.102C313.497 141.276 313.241 141.53 313.053 141.864C312.868 142.197 312.776 142.602 312.776 143.078ZM323.811 148.17C323.023 148.17 322.343 147.996 321.771 147.648C321.203 147.297 320.765 146.807 320.456 146.178C320.15 145.546 319.998 144.811 319.998 143.973C319.998 143.135 320.15 142.396 320.456 141.757C320.765 141.114 321.194 140.614 321.745 140.255C322.299 139.893 322.945 139.712 323.684 139.712C324.11 139.712 324.531 139.783 324.946 139.925C325.362 140.067 325.74 140.298 326.081 140.617C326.422 140.933 326.693 141.352 326.896 141.874C327.098 142.396 327.199 143.039 327.199 143.803V144.335H320.892V143.249H325.921C325.921 142.787 325.828 142.375 325.644 142.013C325.463 141.651 325.203 141.365 324.866 141.155C324.532 140.946 324.138 140.841 323.684 140.841C323.183 140.841 322.75 140.965 322.384 141.214C322.022 141.459 321.743 141.778 321.548 142.173C321.352 142.567 321.255 142.989 321.255 143.44V144.165C321.255 144.783 321.361 145.306 321.574 145.736C321.791 146.162 322.091 146.487 322.474 146.711C322.858 146.931 323.304 147.041 323.811 147.041C324.142 147.041 324.44 146.995 324.706 146.903C324.976 146.807 325.209 146.665 325.404 146.477C325.599 146.285 325.75 146.047 325.857 145.763L327.071 146.104C326.944 146.516 326.729 146.878 326.427 147.19C326.125 147.499 325.752 147.741 325.308 147.915C324.864 148.085 324.365 148.17 323.811 148.17ZM262.709 162.818V163.884H258.469V162.818H262.709ZM259.705 160.858H260.962V168.656C260.962 169.011 261.013 169.278 261.116 169.455C261.223 169.629 261.358 169.746 261.521 169.807C261.688 169.864 261.864 169.892 262.048 169.892C262.187 169.892 262.3 169.885 262.389 169.871C262.478 169.853 262.549 169.839 262.602 169.828L262.858 170.957C262.773 170.989 262.654 171.021 262.501 171.053C262.348 171.089 262.155 171.107 261.92 171.107C261.565 171.107 261.217 171.03 260.876 170.877C260.539 170.725 260.259 170.492 260.035 170.18C259.815 169.867 259.705 169.473 259.705 168.997V160.858ZM264.6 171V162.818H265.814V164.054H265.9C266.049 163.649 266.319 163.321 266.709 163.069C267.1 162.816 267.54 162.69 268.03 162.69C268.123 162.69 268.238 162.692 268.376 162.696C268.515 162.699 268.62 162.705 268.691 162.712V163.99C268.648 163.979 268.55 163.963 268.398 163.942C268.249 163.917 268.091 163.905 267.924 163.905C267.526 163.905 267.171 163.988 266.858 164.155C266.549 164.319 266.304 164.546 266.123 164.837C265.946 165.125 265.857 165.453 265.857 165.822V171H264.6ZM275.337 167.655V162.818H276.594V171H275.337V169.615H275.252C275.06 170.031 274.762 170.384 274.357 170.675C273.952 170.963 273.441 171.107 272.823 171.107C272.312 171.107 271.857 170.995 271.459 170.771C271.062 170.544 270.749 170.203 270.522 169.748C270.294 169.29 270.181 168.713 270.181 168.017V162.818H271.438V167.932C271.438 168.528 271.605 169.004 271.939 169.359C272.276 169.714 272.706 169.892 273.228 169.892C273.54 169.892 273.858 169.812 274.181 169.652C274.508 169.493 274.781 169.248 275.002 168.917C275.225 168.587 275.337 168.166 275.337 167.655ZM284.692 164.651L283.563 164.97C283.492 164.782 283.387 164.599 283.249 164.422C283.114 164.24 282.929 164.091 282.695 163.974C282.46 163.857 282.16 163.798 281.794 163.798C281.294 163.798 280.876 163.914 280.543 164.145C280.212 164.372 280.047 164.661 280.047 165.013C280.047 165.325 280.161 165.572 280.388 165.753C280.615 165.934 280.971 166.085 281.453 166.206L282.668 166.504C283.4 166.682 283.945 166.953 284.303 167.319C284.662 167.681 284.841 168.148 284.841 168.72C284.841 169.189 284.706 169.608 284.436 169.977C284.17 170.347 283.797 170.638 283.318 170.851C282.838 171.064 282.281 171.17 281.645 171.17C280.811 171.17 280.12 170.989 279.573 170.627C279.026 170.265 278.68 169.736 278.534 169.04L279.728 168.741C279.841 169.182 280.056 169.512 280.372 169.732C280.692 169.952 281.109 170.062 281.624 170.062C282.21 170.062 282.675 169.938 283.02 169.69C283.368 169.437 283.542 169.136 283.542 168.784C283.542 168.5 283.442 168.262 283.243 168.07C283.044 167.875 282.739 167.729 282.327 167.634L280.963 167.314C280.214 167.136 279.664 166.861 279.312 166.488C278.964 166.112 278.79 165.641 278.79 165.077C278.79 164.615 278.92 164.207 279.179 163.852C279.442 163.496 279.799 163.218 280.25 163.015C280.704 162.813 281.219 162.712 281.794 162.712C282.604 162.712 283.24 162.889 283.701 163.244C284.167 163.599 284.497 164.068 284.692 164.651ZM290.292 162.818V163.884H286.052V162.818H290.292ZM287.288 160.858H288.545V168.656C288.545 169.011 288.596 169.278 288.699 169.455C288.806 169.629 288.941 169.746 289.104 169.807C289.271 169.864 289.447 169.892 289.631 169.892C289.77 169.892 289.883 169.885 289.972 169.871C290.061 169.853 290.132 169.839 290.185 169.828L290.441 170.957C290.356 170.989 290.237 171.021 290.084 171.053C289.931 171.089 289.738 171.107 289.503 171.107C289.148 171.107 288.8 171.03 288.459 170.877C288.122 170.725 287.842 170.492 287.618 170.18C287.398 169.867 287.288 169.473 287.288 168.997V160.858ZM294.036 171L291.544 162.818H292.865L294.633 169.082H294.718L296.465 162.818H297.808L299.534 169.061H299.619L301.387 162.818H302.708L300.215 171H298.98L297.19 164.714H297.062L295.272 171H294.036ZM307.416 171.17C306.677 171.17 306.029 170.995 305.472 170.643C304.918 170.292 304.484 169.8 304.172 169.168C303.863 168.536 303.708 167.797 303.708 166.952C303.708 166.099 303.863 165.355 304.172 164.72C304.484 164.084 304.918 163.591 305.472 163.239C306.029 162.887 306.677 162.712 307.416 162.712C308.154 162.712 308.801 162.887 309.355 163.239C309.912 163.591 310.346 164.084 310.654 164.72C310.967 165.355 311.123 166.099 311.123 166.952C311.123 167.797 310.967 168.536 310.654 169.168C310.346 169.8 309.912 170.292 309.355 170.643C308.801 170.995 308.154 171.17 307.416 171.17ZM307.416 170.041C307.977 170.041 308.439 169.897 308.801 169.61C309.163 169.322 309.431 168.944 309.605 168.475C309.779 168.006 309.866 167.499 309.866 166.952C309.866 166.405 309.779 165.895 309.605 165.423C309.431 164.951 309.163 164.569 308.801 164.278C308.439 163.987 307.977 163.841 307.416 163.841C306.855 163.841 306.393 163.987 306.031 164.278C305.669 164.569 305.401 164.951 305.227 165.423C305.053 165.895 304.966 166.405 304.966 166.952C304.966 167.499 305.053 168.006 305.227 168.475C305.401 168.944 305.669 169.322 306.031 169.61C306.393 169.897 306.855 170.041 307.416 170.041ZM313.042 171V162.818H314.257V164.054H314.342C314.491 163.649 314.761 163.321 315.152 163.069C315.542 162.816 315.983 162.69 316.473 162.69C316.565 162.69 316.68 162.692 316.819 162.696C316.957 162.699 317.062 162.705 317.133 162.712V163.99C317.09 163.979 316.993 163.963 316.84 163.942C316.691 163.917 316.533 163.905 316.366 163.905C315.968 163.905 315.613 163.988 315.301 164.155C314.992 164.319 314.747 164.546 314.566 164.837C314.388 165.125 314.299 165.453 314.299 165.822V171H313.042ZM322.694 162.818V163.884H318.454V162.818H322.694ZM319.69 160.858H320.947V168.656C320.947 169.011 320.998 169.278 321.101 169.455C321.208 169.629 321.343 169.746 321.506 169.807C321.673 169.864 321.849 169.892 322.034 169.892C322.172 169.892 322.286 169.885 322.375 169.871C322.463 169.853 322.534 169.839 322.588 169.828L322.843 170.957C322.758 170.989 322.639 171.021 322.486 171.053C322.334 171.089 322.14 171.107 321.906 171.107C321.551 171.107 321.203 171.03 320.862 170.877C320.524 170.725 320.244 170.492 320.02 170.18C319.8 169.867 319.69 169.473 319.69 168.997V160.858ZM326.018 166.078V171H324.761V160.091H326.018V164.097H326.125C326.316 163.674 326.604 163.338 326.987 163.09C327.375 162.838 327.889 162.712 328.532 162.712C329.09 162.712 329.578 162.824 329.997 163.047C330.416 163.267 330.741 163.607 330.972 164.065C331.206 164.519 331.323 165.098 331.323 165.801V171H330.066V165.886C330.066 165.237 329.898 164.734 329.56 164.379C329.226 164.02 328.763 163.841 328.17 163.841C327.758 163.841 327.389 163.928 327.062 164.102C326.739 164.276 326.483 164.53 326.295 164.864C326.11 165.197 326.018 165.602 326.018 166.078ZM262.474 194.17C261.736 194.17 261.088 193.995 260.53 193.643C259.976 193.292 259.543 192.8 259.23 192.168C258.922 191.536 258.767 190.797 258.767 189.952C258.767 189.099 258.922 188.355 259.23 187.72C259.543 187.084 259.976 186.591 260.53 186.239C261.088 185.887 261.736 185.712 262.474 185.712C263.213 185.712 263.859 185.887 264.413 186.239C264.971 186.591 265.404 187.084 265.713 187.72C266.026 188.355 266.182 189.099 266.182 189.952C266.182 190.797 266.026 191.536 265.713 192.168C265.404 192.8 264.971 193.292 264.413 193.643C263.859 193.995 263.213 194.17 262.474 194.17ZM262.474 193.041C263.036 193.041 263.497 192.897 263.859 192.61C264.222 192.322 264.49 191.944 264.664 191.475C264.838 191.006 264.925 190.499 264.925 189.952C264.925 189.405 264.838 188.895 264.664 188.423C264.49 187.951 264.222 187.569 263.859 187.278C263.497 186.987 263.036 186.841 262.474 186.841C261.913 186.841 261.452 186.987 261.089 187.278C260.727 187.569 260.459 187.951 260.285 188.423C260.111 188.895 260.024 189.405 260.024 189.952C260.024 190.499 260.111 191.006 260.285 191.475C260.459 191.944 260.727 192.322 261.089 192.61C261.452 192.897 261.913 193.041 262.474 193.041ZM268.101 197.068V185.818H269.315V187.118H269.464C269.557 186.976 269.685 186.795 269.848 186.575C270.015 186.351 270.253 186.152 270.562 185.978C270.874 185.8 271.297 185.712 271.829 185.712C272.518 185.712 273.126 185.884 273.651 186.228C274.177 186.573 274.587 187.061 274.882 187.693C275.176 188.325 275.324 189.071 275.324 189.93C275.324 190.797 275.176 191.548 274.882 192.184C274.587 192.816 274.179 193.306 273.657 193.654C273.134 193.998 272.533 194.17 271.851 194.17C271.325 194.17 270.904 194.083 270.588 193.909C270.272 193.732 270.029 193.531 269.859 193.308C269.688 193.08 269.557 192.892 269.464 192.743H269.358V197.068H268.101ZM269.337 189.909C269.337 190.527 269.427 191.072 269.608 191.544C269.789 192.013 270.054 192.381 270.402 192.647C270.75 192.91 271.176 193.041 271.68 193.041C272.206 193.041 272.644 192.903 272.996 192.626C273.351 192.345 273.617 191.969 273.795 191.496C273.976 191.021 274.067 190.491 274.067 189.909C274.067 189.334 273.978 188.815 273.8 188.354C273.626 187.888 273.362 187.521 273.007 187.251C272.655 186.978 272.213 186.841 271.68 186.841C271.169 186.841 270.739 186.971 270.391 187.23C270.043 187.485 269.78 187.844 269.603 188.306C269.425 188.764 269.337 189.298 269.337 189.909ZM280.672 194.17C279.883 194.17 279.203 193.996 278.632 193.648C278.063 193.297 277.625 192.807 277.316 192.178C277.011 191.546 276.858 190.811 276.858 189.973C276.858 189.135 277.011 188.396 277.316 187.757C277.625 187.114 278.055 186.614 278.605 186.255C279.159 185.893 279.805 185.712 280.544 185.712C280.97 185.712 281.391 185.783 281.806 185.925C282.222 186.067 282.6 186.298 282.941 186.617C283.282 186.933 283.554 187.352 283.756 187.874C283.958 188.396 284.06 189.039 284.06 189.803V190.335H277.753V189.249H282.781C282.781 188.787 282.689 188.375 282.504 188.013C282.323 187.651 282.064 187.365 281.726 187.155C281.393 186.946 280.998 186.841 280.544 186.841C280.043 186.841 279.61 186.965 279.244 187.214C278.882 187.459 278.603 187.778 278.408 188.173C278.213 188.567 278.115 188.989 278.115 189.44V190.165C278.115 190.783 278.222 191.306 278.435 191.736C278.651 192.162 278.951 192.487 279.335 192.711C279.718 192.931 280.164 193.041 280.672 193.041C281.002 193.041 281.3 192.995 281.567 192.903C281.837 192.807 282.069 192.665 282.264 192.477C282.46 192.285 282.611 192.047 282.717 191.763L283.932 192.104C283.804 192.516 283.589 192.878 283.287 193.19C282.985 193.499 282.612 193.741 282.169 193.915C281.725 194.085 281.226 194.17 280.672 194.17ZM285.972 194V185.818H287.186V187.054H287.272C287.421 186.649 287.691 186.321 288.081 186.069C288.472 185.816 288.912 185.69 289.402 185.69C289.495 185.69 289.61 185.692 289.748 185.696C289.887 185.699 289.992 185.705 290.063 185.712V186.99C290.02 186.979 289.922 186.963 289.77 186.942C289.621 186.917 289.463 186.905 289.296 186.905C288.898 186.905 288.543 186.988 288.23 187.155C287.921 187.319 287.676 187.546 287.495 187.837C287.318 188.125 287.229 188.453 287.229 188.822V194H285.972ZM293.961 194.192C293.442 194.192 292.972 194.094 292.549 193.899C292.126 193.7 291.791 193.414 291.542 193.041C291.294 192.665 291.169 192.21 291.169 191.678C291.169 191.209 291.262 190.829 291.446 190.538C291.631 190.243 291.878 190.012 292.187 189.845C292.496 189.678 292.837 189.554 293.21 189.472C293.586 189.387 293.964 189.32 294.344 189.27C294.841 189.206 295.244 189.158 295.553 189.126C295.866 189.091 296.093 189.032 296.235 188.95C296.381 188.869 296.453 188.727 296.453 188.524V188.482C296.453 187.956 296.31 187.548 296.022 187.256C295.738 186.965 295.306 186.82 294.728 186.82C294.127 186.82 293.657 186.951 293.316 187.214C292.975 187.477 292.735 187.757 292.597 188.055L291.404 187.629C291.617 187.132 291.901 186.745 292.256 186.468C292.615 186.187 293.005 185.992 293.428 185.882C293.854 185.768 294.273 185.712 294.685 185.712C294.948 185.712 295.25 185.744 295.591 185.808C295.935 185.868 296.267 185.994 296.587 186.186C296.91 186.377 297.178 186.667 297.391 187.054C297.604 187.441 297.711 187.96 297.711 188.609V194H296.453V192.892H296.39C296.304 193.07 296.162 193.26 295.963 193.462C295.765 193.664 295.5 193.837 295.17 193.979C294.839 194.121 294.436 194.192 293.961 194.192ZM294.152 193.062C294.65 193.062 295.069 192.965 295.409 192.77C295.754 192.574 296.013 192.322 296.187 192.013C296.365 191.704 296.453 191.379 296.453 191.038V189.888C296.4 189.952 296.283 190.01 296.102 190.064C295.924 190.113 295.718 190.158 295.484 190.197C295.253 190.232 295.028 190.264 294.808 190.293C294.591 190.317 294.415 190.339 294.28 190.357C293.953 190.399 293.648 190.468 293.364 190.564C293.083 190.657 292.856 190.797 292.682 190.985C292.512 191.17 292.426 191.422 292.426 191.741C292.426 192.178 292.588 192.509 292.911 192.732C293.238 192.952 293.652 193.062 294.152 193.062ZM303.563 185.818V186.884H299.323V185.818H303.563ZM300.559 183.858H301.816V191.656C301.816 192.011 301.868 192.278 301.971 192.455C302.077 192.629 302.212 192.746 302.375 192.807C302.542 192.864 302.718 192.892 302.903 192.892C303.041 192.892 303.155 192.885 303.244 192.871C303.332 192.853 303.403 192.839 303.457 192.828L303.712 193.957C303.627 193.989 303.508 194.021 303.356 194.053C303.203 194.089 303.009 194.107 302.775 194.107C302.42 194.107 302.072 194.03 301.731 193.877C301.394 193.725 301.113 193.492 300.889 193.18C300.669 192.867 300.559 192.473 300.559 191.997V183.858ZM305.454 194V185.818H306.711V194H305.454ZM306.093 184.455C305.848 184.455 305.637 184.371 305.46 184.204C305.286 184.037 305.199 183.837 305.199 183.602C305.199 183.368 305.286 183.167 305.46 183C305.637 182.833 305.848 182.75 306.093 182.75C306.339 182.75 306.548 182.833 306.722 183C306.9 183.167 306.988 183.368 306.988 183.602C306.988 183.837 306.9 184.037 306.722 184.204C306.548 184.371 306.339 184.455 306.093 184.455ZM312.338 194.17C311.599 194.17 310.951 193.995 310.393 193.643C309.839 193.292 309.406 192.8 309.094 192.168C308.785 191.536 308.63 190.797 308.63 189.952C308.63 189.099 308.785 188.355 309.094 187.72C309.406 187.084 309.839 186.591 310.393 186.239C310.951 185.887 311.599 185.712 312.338 185.712C313.076 185.712 313.723 185.887 314.277 186.239C314.834 186.591 315.267 187.084 315.576 187.72C315.889 188.355 316.045 189.099 316.045 189.952C316.045 190.797 315.889 191.536 315.576 192.168C315.267 192.8 314.834 193.292 314.277 193.643C313.723 193.995 313.076 194.17 312.338 194.17ZM312.338 193.041C312.899 193.041 313.36 192.897 313.723 192.61C314.085 192.322 314.353 191.944 314.527 191.475C314.701 191.006 314.788 190.499 314.788 189.952C314.788 189.405 314.701 188.895 314.527 188.423C314.353 187.951 314.085 187.569 313.723 187.278C313.36 186.987 312.899 186.841 312.338 186.841C311.777 186.841 311.315 186.987 310.953 187.278C310.591 187.569 310.322 187.951 310.148 188.423C309.974 188.895 309.887 189.405 309.887 189.952C309.887 190.499 309.974 191.006 310.148 191.475C310.322 191.944 310.591 192.322 310.953 192.61C311.315 192.897 311.777 193.041 312.338 193.041ZM319.221 189.078V194H317.964V185.818H319.179V187.097H319.285C319.477 186.681 319.768 186.347 320.159 186.095C320.549 185.839 321.054 185.712 321.671 185.712C322.225 185.712 322.71 185.825 323.126 186.053C323.541 186.276 323.864 186.617 324.095 187.075C324.326 187.53 324.441 188.105 324.441 188.801V194H323.184V188.886C323.184 188.244 323.017 187.743 322.684 187.384C322.35 187.022 321.892 186.841 321.309 186.841C320.908 186.841 320.549 186.928 320.233 187.102C319.921 187.276 319.674 187.53 319.493 187.864C319.312 188.197 319.221 188.602 319.221 189.078Z",fill:"#04B97A"}),(0,_.jsx)("path",{d:"M259.321 57V46.0909H265.905V47.2628H260.642V50.9489H265.564V52.1207H260.642V55.8281H265.99V57H259.321ZM273.698 60.0682V55.7429H273.591C273.499 55.892 273.368 56.0803 273.197 56.3075C273.027 56.5312 272.783 56.7319 272.467 56.9094C272.151 57.0835 271.73 57.1705 271.205 57.1705C270.523 57.1705 269.921 56.9982 269.399 56.6538C268.877 56.3058 268.469 55.8157 268.174 55.1836C267.879 54.5479 267.732 53.7969 267.732 52.9304C267.732 52.071 267.879 51.3253 268.174 50.6932C268.469 50.0611 268.879 49.5728 269.404 49.2283C269.93 48.8839 270.537 48.7116 271.226 48.7116C271.759 48.7116 272.18 48.8004 272.489 48.978C272.801 49.152 273.039 49.3509 273.202 49.5746C273.369 49.7947 273.499 49.9759 273.591 50.1179H273.74V48.8182H274.955V60.0682H273.698ZM271.375 56.0412C271.88 56.0412 272.306 55.9098 272.654 55.647C273.002 55.3807 273.266 55.0131 273.447 54.5444C273.629 54.0721 273.719 53.527 273.719 52.9091C273.719 52.2983 273.63 51.7638 273.453 51.3058C273.275 50.8441 273.012 50.4854 272.664 50.2298C272.316 49.9705 271.887 49.8409 271.375 49.8409C270.843 49.8409 270.399 49.9776 270.044 50.2511C269.692 50.521 269.428 50.8885 269.25 51.3537C269.076 51.8153 268.989 52.3338 268.989 52.9091C268.989 53.4915 269.078 54.0206 269.255 54.4964C269.436 54.9687 269.703 55.3452 270.054 55.6257C270.409 55.9027 270.85 56.0412 271.375 56.0412ZM282.412 53.6548V48.8182H283.669V57H282.412V55.6151H282.327C282.135 56.0305 281.837 56.3839 281.432 56.6751C281.027 56.9627 280.516 57.1065 279.898 57.1065C279.387 57.1065 278.932 56.9947 278.534 56.771C278.137 56.5437 277.824 56.2028 277.597 55.7482C277.37 55.2901 277.256 54.7131 277.256 54.017V48.8182H278.513V53.9318C278.513 54.5284 278.68 55.0043 279.014 55.3594C279.351 55.7145 279.781 55.892 280.303 55.892C280.615 55.892 280.933 55.8121 281.256 55.6523C281.583 55.4925 281.857 55.2475 282.077 54.9173C282.3 54.587 282.412 54.1662 282.412 53.6548ZM285.972 57V48.8182H287.229V57H285.972ZM286.611 47.4545C286.366 47.4545 286.155 47.3711 285.977 47.2042C285.803 47.0373 285.716 46.8366 285.716 46.6023C285.716 46.3679 285.803 46.1673 285.977 46.0004C286.155 45.8335 286.366 45.75 286.611 45.75C286.856 45.75 287.066 45.8335 287.24 46.0004C287.417 46.1673 287.506 46.3679 287.506 46.6023C287.506 46.8366 287.417 47.0373 287.24 47.2042C287.066 47.3711 286.856 47.4545 286.611 47.4545ZM289.531 60.0682V48.8182H290.746V50.1179H290.895C290.987 49.9759 291.115 49.7947 291.279 49.5746C291.445 49.3509 291.683 49.152 291.992 48.978C292.305 48.8004 292.727 48.7116 293.26 48.7116C293.949 48.7116 294.556 48.8839 295.082 49.2283C295.607 49.5728 296.018 50.0611 296.312 50.6932C296.607 51.3253 296.754 52.071 296.754 52.9304C296.754 53.7969 296.607 54.5479 296.312 55.1836C296.018 55.8157 295.609 56.3058 295.087 56.6538C294.565 56.9982 293.963 57.1705 293.281 57.1705C292.756 57.1705 292.335 57.0835 292.019 56.9094C291.703 56.7319 291.46 56.5312 291.289 56.3075C291.119 56.0803 290.987 55.892 290.895 55.7429H290.789V60.0682H289.531ZM290.767 52.9091C290.767 53.527 290.858 54.0721 291.039 54.5444C291.22 55.0131 291.485 55.3807 291.833 55.647C292.181 55.9098 292.607 56.0412 293.111 56.0412C293.637 56.0412 294.075 55.9027 294.427 55.6257C294.782 55.3452 295.048 54.9687 295.226 54.4964C295.407 54.0206 295.497 53.4915 295.497 52.9091C295.497 52.3338 295.409 51.8153 295.231 51.3537C295.057 50.8885 294.792 50.521 294.437 50.2511C294.086 49.9776 293.644 49.8409 293.111 49.8409C292.6 49.8409 292.17 49.9705 291.822 50.2298C291.474 50.4854 291.211 50.8441 291.034 51.3058C290.856 51.7638 290.767 52.2983 290.767 52.9091ZM298.672 60.0682V48.8182H299.887V50.1179H300.036C300.128 49.9759 300.256 49.7947 300.419 49.5746C300.586 49.3509 300.824 49.152 301.133 48.978C301.445 48.8004 301.868 48.7116 302.401 48.7116C303.09 48.7116 303.697 48.8839 304.222 49.2283C304.748 49.5728 305.158 50.0611 305.453 50.6932C305.748 51.3253 305.895 52.071 305.895 52.9304C305.895 53.7969 305.748 54.5479 305.453 55.1836C305.158 55.8157 304.75 56.3058 304.228 56.6538C303.706 56.9982 303.104 57.1705 302.422 57.1705C301.896 57.1705 301.476 57.0835 301.16 56.9094C300.844 56.7319 300.6 56.5312 300.43 56.3075C300.259 56.0803 300.128 55.892 300.036 55.7429H299.929V60.0682H298.672ZM299.908 52.9091C299.908 53.527 299.998 54.0721 300.18 54.5444C300.361 55.0131 300.625 55.3807 300.973 55.647C301.321 55.9098 301.747 56.0412 302.252 56.0412C302.777 56.0412 303.216 55.9027 303.567 55.6257C303.922 55.3452 304.189 54.9687 304.366 54.4964C304.547 54.0206 304.638 53.4915 304.638 52.9091C304.638 52.3338 304.549 51.8153 304.372 51.3537C304.198 50.8885 303.933 50.521 303.578 50.2511C303.226 49.9776 302.784 49.8409 302.252 49.8409C301.74 49.8409 301.311 49.9705 300.963 50.2298C300.615 50.4854 300.352 50.8441 300.174 51.3058C299.997 51.7638 299.908 52.2983 299.908 52.9091ZM311.243 57.1705C310.455 57.1705 309.775 56.9964 309.203 56.6484C308.635 56.2969 308.196 55.8068 307.887 55.1783C307.582 54.5462 307.429 53.8111 307.429 52.973C307.429 52.1349 307.582 51.3963 307.887 50.7571C308.196 50.1143 308.626 49.6136 309.176 49.255C309.73 48.8928 310.377 48.7116 311.115 48.7116C311.541 48.7116 311.962 48.7827 312.378 48.9247C312.793 49.0668 313.171 49.2976 313.512 49.6172C313.853 49.9332 314.125 50.3523 314.327 50.8743C314.53 51.3963 314.631 52.0391 314.631 52.8026V53.3352H308.324V52.2486H313.352C313.352 51.7869 313.26 51.375 313.075 51.0128C312.894 50.6506 312.635 50.3647 312.298 50.1552C311.964 49.9457 311.57 49.8409 311.115 49.8409C310.615 49.8409 310.181 49.9652 309.816 50.2138C309.453 50.4588 309.175 50.7784 308.979 51.1726C308.784 51.5668 308.686 51.9893 308.686 52.4403V53.1648C308.686 53.7827 308.793 54.3065 309.006 54.7362C309.222 55.1623 309.523 55.4872 309.906 55.7109C310.29 55.9311 310.735 56.0412 311.243 56.0412C311.573 56.0412 311.872 55.995 312.138 55.9027C312.408 55.8068 312.64 55.6648 312.836 55.4766C313.031 55.2848 313.182 55.0469 313.289 54.7628L314.503 55.1037C314.375 55.5156 314.16 55.8778 313.858 56.1903C313.557 56.4993 313.184 56.7408 312.74 56.9148C312.296 57.0852 311.797 57.1705 311.243 57.1705ZM319.633 57.1705C318.951 57.1705 318.349 56.9982 317.827 56.6538C317.305 56.3058 316.896 55.8157 316.602 55.1836C316.307 54.5479 316.16 53.7969 316.16 52.9304C316.16 52.071 316.307 51.3253 316.602 50.6932C316.896 50.0611 317.307 49.5728 317.832 49.2283C318.358 48.8839 318.965 48.7116 319.654 48.7116C320.187 48.7116 320.607 48.8004 320.916 48.978C321.229 49.152 321.467 49.3509 321.63 49.5746C321.797 49.7947 321.927 49.9759 322.019 50.1179H322.126V46.0909H323.383V57H322.168V55.7429H322.019C321.927 55.892 321.795 56.0803 321.625 56.3075C321.454 56.5312 321.211 56.7319 320.895 56.9094C320.579 57.0835 320.158 57.1705 319.633 57.1705ZM319.803 56.0412C320.307 56.0412 320.733 55.9098 321.081 55.647C321.43 55.3807 321.694 55.0131 321.875 54.5444C322.056 54.0721 322.147 53.527 322.147 52.9091C322.147 52.2983 322.058 51.7638 321.881 51.3058C321.703 50.8441 321.44 50.4854 321.092 50.2298C320.744 49.9705 320.314 49.8409 319.803 49.8409C319.27 49.8409 318.827 49.9776 318.471 50.2511C318.12 50.521 317.855 50.8885 317.678 51.3537C317.504 51.8153 317.417 52.3338 317.417 52.9091C317.417 53.4915 317.506 54.0206 317.683 54.4964C317.864 54.9687 318.131 55.3452 318.482 55.6257C318.837 55.9027 319.278 56.0412 319.803 56.0412Z",fill:"#D28A04"})]}),l[0]=e,l[1]=t):(e=l[0],t=l[1]),l[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsxs)("radialGradient",{id:"paint0_radial_38_7016",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(153.5 100.5) rotate(90) scale(158.5 242.087)",children:[(0,_.jsx)("stop",{stopColor:"#252837"}),(0,_.jsx)("stop",{offset:"1",stopColor:"#0D0E12"})]}),l[2]=n):n=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsxs)("linearGradient",{id:"paint1_linear_38_7016",x1:"168.5",y1:"-21.875",x2:"168.5",y2:"183",gradientUnits:"userSpaceOnUse",children:[(0,_.jsx)("stop",{stopColor:"#13141B"}),(0,_.jsx)("stop",{offset:"1",stopColor:"#9499AD"})]}),l[3]=r):r=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsxs)("linearGradient",{id:"paint2_linear_38_7016",x1:"241",y1:"3.25",x2:"163.5",y2:"3.25",gradientUnits:"userSpaceOnUse",children:[(0,_.jsx)("stop",{stopColor:"#A9F9DC"}),(0,_.jsx)("stop",{offset:"1",stopColor:"#0FF0A1"})]}),l[4]=i):i=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,_.jsxs)("linearGradient",{id:"paint3_linear_38_7016",x1:"241",y1:"108.25",x2:"168",y2:"108.25",gradientUnits:"userSpaceOnUse",children:[(0,_.jsx)("stop",{stopColor:"#A9F9DC"}),(0,_.jsx)("stop",{offset:"1",stopColor:"#0FF0A1"})]}),l[5]=a):a=l[5],l[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,_.jsxs)("svg",{height:"auto",width:"100%",viewBox:"0 0 307 201",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMin",style:e,children:[t,(0,_.jsxs)("defs",{children:[n,r,i,a,(0,_.jsxs)("linearGradient",{id:"paint4_linear_38_7016",x1:"241",y1:"63.25",x2:"168",y2:"63.25",gradientUnits:"userSpaceOnUse",children:[(0,_.jsx)("stop",{stopColor:"#F9E994"}),(0,_.jsx)("stop",{offset:"1",stopColor:"#F9BC15"})]})]})]}),l[6]=o):o=l[6],o}function eyl(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O=(0,j.c)(51),{metadata:P}=e,[M,F]=(0,E.useState)(!1),N=(0,E.useRef)(null),L=(0,E.useRef)(null),{t:z}=IO(eg7);O[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>F(eys),O[0]=t):t=O[0];let V=t;if(O[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>F(!1),r=()=>[N.current,L.current],O[1]=n,O[2]=r):(n=O[1],r=O[2]),(0,I.useClickOutsideEvent)(n,r),O[3]!==M?(i=e=>{"Escape"===e.key&&M&&F(!1)},O[3]=M,O[4]=i):i=O[4],(0,I.useGlobalKeyDown)(i),(null==P?void 0:P.ejected)!==!1)return null;O[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,_.jsx)(eyo,{}),O[5]=a):a=O[5],O[6]!==z?(o=z("create-link-info-popover.eyebrow-title"),O[6]=z,O[7]=o):o=O[7],O[8]!==o?(l=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:o}),O[8]=o,O[9]=l):l=O[9],O[10]!==z?(s=z("create-link-info-popover.eyebrow-badge"),O[10]=z,O[11]=s):s=O[11],O[12]!==s?(c=(0,_.jsx)(I.Badge,{fontSize:1,children:s}),O[12]=s,O[13]=c):c=O[13],O[14]!==l||O[15]!==c?(u=(0,_.jsxs)(I.Flex,{gap:1,align:"center",children:[l,c]}),O[14]=l,O[15]=c,O[16]=u):u=O[16],O[17]!==z?(d=z("create-link-info-popover.header"),O[17]=z,O[18]=d):d=O[18],O[19]!==d?(p=(0,_.jsx)(I.Heading,{size:2,children:d}),O[19]=d,O[20]=p):p=O[20],O[21]!==z?(f=z("create-link-info-popover.text"),O[21]=z,O[22]=f):f=O[22],O[23]!==f?(h=(0,_.jsx)(I.Text,{size:1,children:f}),O[23]=f,O[24]=h):h=O[24],O[25]===Symbol.for("react.memo_cache_sentinel")?(m=(0,_.jsx)(I.Flex,{flex:1,justify:"flex-end",children:(0,_.jsx)(eya,{})}),O[25]=m):m=O[25],O[26]!==p||O[27]!==h?(g=(0,_.jsxs)(I.Stack,{space:4,children:[p,h,m]}),O[26]=p,O[27]=h,O[28]=g):g=O[28],O[29]!==g||O[30]!==u?(y=(0,_.jsxs)(I.Card,{overflow:"hidden",radius:3,ref:N,children:[a,(0,_.jsxs)(I.Stack,{space:3,paddingX:4,paddingY:3,children:[u,g]})]}),O[29]=g,O[30]=u,O[31]=y):y=O[31];let U=y;return O[32]===Symbol.for("react.memo_cache_sentinel")?(v=(0,_.jsx)(I.Text,{size:0,weight:"medium",children:(0,_.jsx)(R.ReadOnlyIcon,{})}),O[32]=v):v=O[32],O[33]!==z?(b=z("studio-create-link-banner.text"),O[33]=z,O[34]=b):b=O[34],O[35]!==b?(x=(0,_.jsxs)(I.Flex,{gap:2,align:"center",children:[v,(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:b})})]}),O[35]=b,O[36]=x):x=O[36],O[37]===Symbol.for("react.memo_cache_sentinel")?(C={width:320},O[37]=C):C=O[37],O[38]===Symbol.for("react.memo_cache_sentinel")?(k=["bottom","bottom-end","right-start","right","right-end"],O[38]=k):k=O[38],O[39]===Symbol.for("react.memo_cache_sentinel")?(w={marginBottom:"-0.5em",marginTop:"-0.5em"},O[39]=w):w=O[39],O[40]!==z?(S=z("create-link-info.tooltip"),O[40]=z,O[41]=S):S=O[41],O[42]!==S?(T=(0,_.jsx)(B.Button,{ref:L,icon:R.InfoOutlineIcon,mode:"bleed",onClick:V,style:w,tooltipProps:{content:S}}),O[42]=S,O[43]=T):T=O[43],O[44]!==M||O[45]!==U||O[46]!==T?(D=(0,_.jsx)(B.Popover,{content:U,open:M,radius:3,style:C,tone:"default",placement:"bottom-start",fallbackPlacements:k,children:T}),O[44]=M,O[45]=U,O[46]=T,O[47]=D):D=O[47],O[48]!==x||O[49]!==D?(A=(0,_.jsxs)(I.Flex,{gap:1,align:"center",children:[x,D]}),O[48]=x,O[49]=D,O[50]=A):A=O[50],A}function eys(e){return!e}function eyc(e){var t;let n,r,i,a=(0,j.c)(8),{children:o}=e,{beta:l}=eii(),s=efv(),c=null==l?void 0:l.create,u=!!(null==l||null==(t=l.create)?void 0:t.startInCreateEnabled);a[0]===Symbol.for("react.memo_cache_sentinel")?(n={documentLinkedBannerContent:eyl,documentLinkedActions:eyi},a[0]=n):n=a[0],a[1]!==s||a[2]!==c||a[3]!==u?(r={...c,startInCreateEnabled:u,appIdCache:s,components:n},a[1]=s,a[2]=c,a[3]=u,a[4]=r):r=a[4];let d=r;return a[5]!==o||a[6]!==d?(i=(0,_.jsx)(D.SanityCreateConfigContext.Provider,{value:d,children:o}),a[5]=o,a[6]=d,a[7]=i):i=a[7],i}function eyu(e){let t,n,r=(0,j.c)(4);return r[0]!==e?(t=e.renderDefault(e),r[0]=e,r[1]=t):t=r[1],r[2]!==t?(n=(0,_.jsx)(eyc,{children:t}),r[2]=t,r[3]=n):n=r[3],n}let eyd=eie(()=>({name:"sanity/create-integration",studio:{components:{layout:eyu}},i18n:{bundles:[eg3]}})),eyp={publish:{actionName:"Publishing",badgeColor:"primary",badgeTone:"positive"},unpublish:{actionName:"Unpublishing",badgeColor:"danger",badgeTone:"critical"}},eyf={scheduled:{title:"Upcoming"},succeeded:{title:"Completed"},cancelled:{title:"Failed"}},eyh=Object.keys(eyf).filter(e=>!!e),eym="This document has validation errors that should be resolved before its publish date.",eyg="https://www.sanity.io/blog/introducing-content-releases",eyy={type:"scheduledPublishing"},eyv={used:!1,loading:!0},eyb=new Map;function eyx(e){let t,n,r,i=(0,j.c)(16),{children:a}=e,{enabled:o,isLoading:l,error:s}=eiN("scheduledPublishing"),{scheduledPublishing:c}=FU(),u=c.enabled,d=c.__internal__workspaceEnabled;i[0]!==d||i[1]!==u?(t={explicitEnabled:d,isWorkspaceEnabled:u},i[0]=d,i[1]=u,i[2]=t):t=i[2];let p=function(e){let t,n=(0,j.c)(4),{explicitEnabled:r,isWorkspaceEnabled:i}=e,a=eTt(AE),{projectId:o,dataset:l}=FU(),s="".concat(o,"-").concat(l);if(!eyb.get(s)){let e=(function(e){let{dataset:t,projectId:n}=e.config();return e.observable.request({uri:"/schedules/".concat(n,"/").concat(t,"?limit=1"),tag:"scheduled-publishing-used"}).pipe((0,Z.map)(e=>{var t;return{used:(null==(t=e.schedules)?void 0:t.length)>0,loading:!1}}),(0,J.catchError)(()=>(0,Y.of)({used:!1,loading:!1})))})(a).pipe((0,ep.shareReplay)());eyb.set(s,e)}e:{let e;if(r){let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)({used:!0,loading:!1}),n[0]=e):e=n[0],t=e;break e}if(!i){let e;n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Y.of)({used:!1,loading:!1}),n[1]=e):e=n[1],t=e;break e}n[2]!==s?(e=eyb.get(s)||(0,Y.of)(eyv),n[2]=s,n[3]=e):e=n[3],t=e}return(0,te.useObservable)(t,eyv)}(t);e:{let e;if(!u||l||s){let e;i[3]!==p?(e={enabled:!1,mode:null,hasUsedScheduledPublishing:p},i[3]=p,i[4]=e):e=i[4],n=e;break e}if(d){let e,t=o?"default":"upsell";i[5]!==p||i[6]!==t?(e={enabled:!0,mode:t,hasUsedScheduledPublishing:p},i[5]=p,i[6]=t,i[7]=e):e=i[7],n=e;break e}if(!p.used){let e;i[8]!==p?(e={enabled:!1,mode:null,hasUsedScheduledPublishing:p},i[8]=p,i[9]=e):e=i[9],n=e;break e}let t=o?"default":"upsell";i[10]!==p||i[11]!==t?(e={enabled:!0,mode:t,hasUsedScheduledPublishing:p},i[10]=p,i[11]=t,i[12]=e):e=i[12],n=e}let f=n;return i[13]!==a||i[14]!==f?(r=(0,_.jsx)(D.ScheduledPublishingEnabledContext.Provider,{value:f,children:a}),i[13]=a,i[14]=f,i[15]=r):r=i[15],r}function eyC(){return(0,E.useContext)(D.ScheduledPublishingEnabledContext)}let eyk=(0,F.styled)(I.ElementQuery)(En()),eyw=e=>{let t,n,r,i,a=(0,j.c)(8),{description:o,title:l}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Text,{size:2,children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),a[0]=t):t=a[0],a[1]!==l?(n=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:l}),a[1]=l,a[2]=n):n=a[2],a[3]!==o?(r=o&&(0,_.jsx)(I.Text,{size:1,children:o}),a[3]=o,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Card,{overflow:"hidden",padding:4,radius:2,shadow:1,tone:"critical",children:(0,_.jsxs)(I.Flex,{align:"center",gap:4,children:[t,(0,_.jsxs)(I.Inline,{space:2,children:[n,r]})]})}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},ey_=()=>{let e,t,n,r,i,a=(0,j.c)(5);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Text,{size:2,children:(0,_.jsx)(R.InfoOutlineIcon,{})}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:"Schedule Publishing is not enabled"}),a[1]=t):t=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsxs)(I.Text,{size:1,children:["We recommend using"," ",(0,_.jsx)("a",{target:"_blank",href:eyg,rel:"noreferrer",children:"Releases"}),"."]}),a[2]=n):n=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsxs)(I.Text,{size:1,children:["Scheduled Publishing is not enabled by default. It can be enabled in the config by setting ",(0,_.jsx)("code",{children:"scheduledPublishing.enabled = true"})]}),a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Card,{overflow:"hidden",padding:4,radius:2,shadow:1,tone:"suggest",children:(0,_.jsxs)(I.Flex,{align:"center",gap:4,children:[e,(0,_.jsxs)(I.Inline,{space:3,children:[t,(0,_.jsxs)(I.Stack,{space:3,marginTop:2,children:[n,r,(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)("a",{target:"_blank",href:"https://www.sanity.io/docs/scheduled-publishing",rel:"noreferrer",children:"Read the docs"})})]})]})]})}),a[4]=i):i=a[4],i},eyj=(0,F.styled)(R.ArrowRightIcon)(e=>{let{font:t}=(0,ne.getTheme_v2)(e.theme),{ascenderHeight:n,descenderHeight:r,lineHeight:i,iconSize:a}=t.text.sizes[0],o=(i-(n+r)-a)/2;return(0,F.css)(Er(),a,(0,I.rem)(o),(0,I.rem)(o))});function eyS(){let e,t,n,r,i,a,o=(0,j.c)(8),l=!((0,I.useMediaIndex)()>=2);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.WarningOutlineIcon,{}),o[0]=e):e=o[0],o[1]!==l?(t=(0,_.jsx)(I.Text,{hidden:l,children:e}),o[1]=l,o[2]=t):t=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:"You are running both the new Releases and Scheduled Publishing"}),o[3]=n):n=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(r={whiteSpace:"nowrap"},o[4]=r):r=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{size:1,style:r,children:(0,_.jsxs)("a",{href:eyg,target:"_blank",rel:"noreferrer",children:["Read more "," ",(0,_.jsx)(eyj,{})]})}),o[5]=i):i=o[5],o[6]!==t?(a=(0,_.jsx)(I.Card,{padding:4,tone:"caution",width:"fill",children:(0,_.jsxs)(I.Flex,{gap:3,align:"center",justify:"center",children:[t,n,i]})}),o[6]=t,o[7]=a):a=o[7],a}let eyE=()=>{},eyT=eyE(),eyD=Object,eyI=e=>e===eyT,eyA=(e,t)=>({...e,...t}),eyO=new WeakMap,eyP=0,eyM=e=>{let t,n,r=typeof e,i=e&&e.constructor,a=i==Date;if(eyD(e)!==e||a||i==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=eyO.get(e))return t;if(t=++eyP+"~",eyO.set(e,t),i==Array){for(t="@",n=0;n<e.length;n++)t+=eyM(e[n])+",";eyO.set(e,t)}if(i==eyD){t="#";let r=eyD.keys(e).sort();for(;!eyI(n=r.pop());)eyI(e[n])||(t+=n+":"+eyM(e[n])+",");eyO.set(e,t)}}return t},eyF=new WeakMap,eyR={},eyB={},eyN="undefined",eyL=typeof window!=eyN,eyz=typeof document!=eyN,eyV=(e,t)=>{let n=eyF.get(e);return[()=>!eyI(t)&&e.get(t)||eyR,r=>{if(!eyI(t)){let i=e.get(t);t in eyB||(eyB[t]=i),n[5](t,eyA(i,r),i||eyR)}},n[6],()=>!eyI(t)&&t in eyB?eyB[t]:!eyI(t)&&e.get(t)||eyR]},eyU=!0,[eyH,eyq]=eyL&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[eyE,eyE],eyW={initFocus:e=>(eyz&&document.addEventListener("visibilitychange",e),eyH("focus",e),()=>{eyz&&document.removeEventListener("visibilitychange",e),eyq("focus",e)}),initReconnect:e=>{let t=()=>{eyU=!0,e()},n=()=>{eyU=!1};return eyH("online",t),eyH("offline",n),()=>{eyq("online",t),eyq("offline",n)}}},eyY=!E.default.useId,eyK=!eyL||"Deno"in window,eyG=eyK?E.useEffect:E.useLayoutEffect,ey$="u">typeof navigator&&navigator.connection,eyZ=!eyK&&ey$&&(["slow-2g","2g"].includes(ey$.effectiveType)||ey$.saveData),eyX=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?eyM(e):"",t]},eyJ=0,eyQ=()=>++eyJ;var ey1={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function ey2(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i,a,o]=t,l=eyA({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),s=l.populateCache,c=l.rollbackOnError,u=l.optimisticData,d=l.throwOnError;if("function"==typeof i){let e=[];for(let t of r.keys())!/^\$(inf|sub)\$/.test(t)&&i(r.get(t)._k)&&e.push(t);return Promise.all(e.map(p))}return p(i);async function p(e){let[n]=eyX(e);if(!n)return;let[i,o]=eyV(r,n),[p,f,h,m]=eyF.get(r),g=()=>{let t=p[n];return("function"==typeof l.revalidate?l.revalidate(i().data,e):!1!==l.revalidate)&&(delete h[n],delete m[n],t&&t[0])?t[0](2).then(()=>i().data):i().data};if(t.length<3)return g();let y=a,v,b=eyQ();f[n]=[b,0];let x=!eyI(u),C=i(),k=C.data,w=C._c,_=eyI(w)?k:w;if(x&&o({data:u="function"==typeof u?u(_,k):u,_c:_}),"function"==typeof y)try{y=y(_)}catch(e){v=e}if(y&&"function"==typeof y.then)if(y=await y.catch(e=>{v=e}),b!==f[n][0]){if(v)throw v;return y}else{let e;v&&x&&(e=v,"function"==typeof c?c(e):!1!==c)&&(s=!0,o({data:_,_c:eyT}))}if(s&&!v&&("function"==typeof s?o({data:s(y,_),error:eyT,_c:eyT}):o({data:y,error:eyT,_c:eyT})),f[n][1]=eyQ(),Promise.resolve(g()).then(()=>{o({_c:eyT})}),v){if(d)throw v;return}return y}}let ey0=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},[ey5,ey7]=((e,t)=>{if(!eyF.has(e)){let n=eyA(eyW,t),r={},i=ey2.bind(eyT,e),a=eyE,o={},l=(e,t)=>{let n=o[e]||[];return o[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},s=(t,n,r)=>{e.set(t,n);let i=o[t];if(i)for(let e of i)e(n,r)},c=()=>{if(!eyF.has(e)&&(eyF.set(e,[r,{},{},{},i,s,l]),!eyK)){let t=n.initFocus(setTimeout.bind(eyT,ey0.bind(eyT,r,0))),i=n.initReconnect(setTimeout.bind(eyT,ey0.bind(eyT,r,1)));a=()=>{t&&t(),i&&i(),eyF.delete(e)}}};return c(),[e,i,c,a]}return[e,eyF.get(e)[4]]})(new Map),ey3=eyA({onLoadingSlow:eyE,onSuccess:eyE,onError:eyE,onErrorRetry:(e,t,n,r,i)=>{let a=n.errorRetryCount,o=i.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!eyI(a)&&o>a||setTimeout(r,l,i)},onDiscarded:eyE,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:eyZ?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:eyZ?5e3:3e3,compare:(e,t)=>eyM(e)==eyM(t),isPaused:()=>!1,cache:ey5,mutate:ey7,fallback:{}},{isOnline:()=>eyU,isVisible:()=>{let e=eyz&&document.visibilityState;return eyI(e)||"hidden"!==e}}),ey8=(0,E.createContext)({}),ey4=eyL&&window.__SWR_DEVTOOLS_USE__,ey6=(ey4?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,n,r)=>e(t,n&&function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];let[a]=eyX(t),[,,,o]=eyF.get(ey5);if(a.startsWith("$inf$"))return n(...r);let l=o[a];return eyI(l)?n(...r):(delete o[a],l)},r));ey4&&(window.__SWR_DEVTOOLS_REACT__=E.default);let ey9=E.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),eve={dedupe:!0},evt=(u=(e,t,n)=>{let{cache:r,compare:i,suspense:a,fallbackData:o,revalidateOnMount:l,revalidateIfStale:s,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:p}=n,[f,h,m,g]=eyF.get(r),[y,v]=eyX(e),b=(0,E.useRef)(!1),x=(0,E.useRef)(!1),C=(0,E.useRef)(y),k=(0,E.useRef)(t),w=(0,E.useRef)(n),_=()=>w.current.isVisible()&&w.current.isOnline(),[j,S,T,D]=eyV(r,y),I=(0,E.useRef)({}).current,A=eyI(o)?n.fallback[y]:o,O=(e,t)=>{for(let n in I)if("data"===n){if(!i(e[n],t[n])&&(!eyI(e[n])||!i(V,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},P=(0,E.useMemo)(()=>{let e=!!y&&!!t&&(eyI(l)?!w.current.isPaused()&&!a&&(!!eyI(s)||s):l),n=t=>{let n=eyA(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=j(),i=D(),o=n(r),c=r===i?o:n(i),u=o;return[()=>{let e=n(j());return O(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>c]},[r,y]),M=(0,mG.useSyncExternalStore)((0,E.useCallback)(e=>T(y,(t,n)=>{O(n,t)||e()}),[r,y]),P[0],P[1]),F=!b.current,R=f[y]&&f[y].length>0,B=M.data,N=eyI(B)?A:B,L=M.error,z=(0,E.useRef)(N),V=p?eyI(B)?z.current:B:N,U=(!R||!!eyI(L))&&(F&&!eyI(l)?l:!w.current.isPaused()&&(a?!eyI(N)&&s:eyI(N)||s)),H=!!(y&&t&&F&&U),q=eyI(M.isValidating)?H:M.isValidating,W=eyI(M.isLoading)?H:M.isLoading,Y=(0,E.useCallback)(async e=>{let t=k.current;if(!y||!t||x.current||w.current.isPaused())return!1;let r,a,o=!0,l=e||{},s=!m[y]||!l.dedupe,c=()=>eyY?!x.current&&y===C.current&&b.current:y===C.current,u={isValidating:!1,isLoading:!1},d=()=>{S(u)},p=()=>{let e=m[y];e&&e[1]===a&&delete m[y]},g={isValidating:!0};eyI(j().data)&&(g.isLoading=!0);try{if(s&&(S(g),n.loadingTimeout&&eyI(j().data)&&setTimeout(()=>{o&&c()&&w.current.onLoadingSlow(y,n)},n.loadingTimeout),m[y]=[t(v),eyQ()]),[r,a]=m[y],r=await r,s&&setTimeout(p,n.dedupingInterval),!m[y]||m[y][1]!==a)return s&&c()&&w.current.onDiscarded(y),!1;u.error=eyT;let e=h[y];if(!eyI(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return d(),s&&c()&&w.current.onDiscarded(y),!1;let l=j().data;u.data=i(l,r)?l:r,s&&c()&&w.current.onSuccess(r,y,n)}catch(n){p();let e=w.current,{shouldRetryOnError:t}=e;e.isPaused()||(u.error=n,s&&c()&&(e.onError(n,y,e),(!0===t||"function"==typeof t&&t(n))&&(!w.current.revalidateOnFocus||!w.current.revalidateOnReconnect||_())&&e.onErrorRetry(n,y,e,e=>{let t=f[y];t&&t[0]&&t[0](ey1.ERROR_REVALIDATE_EVENT,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return o=!1,d(),!0},[y,r]),K=(0,E.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ey2(r,C.current,...t)},[]);if(eyG(()=>{k.current=t,w.current=n,eyI(B)||(z.current=B)}),eyG(()=>{if(!y)return;let e=Y.bind(eyT,eve),t=0,n=((e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}})(y,f,function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n==ey1.FOCUS_EVENT){let n=Date.now();w.current.revalidateOnFocus&&n>t&&_()&&(t=n+w.current.focusThrottleInterval,e())}else if(n==ey1.RECONNECT_EVENT)w.current.revalidateOnReconnect&&_()&&e();else{if(n==ey1.MUTATE_EVENT)return Y();if(n==ey1.ERROR_REVALIDATE_EVENT)return Y(r)}});return x.current=!1,C.current=y,b.current=!0,S({_k:v}),U&&(eyI(N)||eyK?e():(e=>eyL&&typeof window.requestAnimationFrame!=eyN?window.requestAnimationFrame(e):setTimeout(e,1))(e)),()=>{x.current=!0,n()}},[y]),eyG(()=>{let e;function t(){let t="function"==typeof c?c(j().data):c;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!j().error&&(u||w.current.isVisible())&&(d||w.current.isOnline())?Y(eve).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[c,u,d,y]),(0,E.useDebugValue)(V),a&&eyI(N)&&y){if(!eyY&&eyK)throw Error("Fallback data is required when using suspense in SSR.");k.current=t,w.current=n,x.current=!1;let e=g[y];if(eyI(e)||ey9(K(e)),eyI(L)){let e=Y(eve);eyI(V)||(e.status="fulfilled",e.value=!0),ey9(e)}else throw L}return{mutate:K,get data(){return I.data=!0,V},get error(){return I.error=!0,L},get isValidating(){return I.isValidating=!0,q},get isLoading(){return I.isLoading=!0,W}}},function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=eyA(ey3,(0,E.useContext)(ey8)),[i,a,o]="function"==typeof t[1]?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}],l=((e,t)=>{let n=eyA(e,t);if(t){let{use:r,fallback:i}=e,{use:a,fallback:o}=t;r&&a&&(n.use=r.concat(a)),i&&o&&(n.fallback=eyA(i,o))}return n})(r,o),s=u,{use:c}=l,d=(c||[]).concat(ey6);for(let e=d.length;e--;)s=d[e](s);return s(i,a||l.fetcher||null,l)});function evn(e){return(null==e?void 0:e.executedAt)||(null==e?void 0:e.executeAt)}function evr(){let{reverseOrder:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reverseOrder:!1};return function(t,n){let r=evn(t),i=evn(n);return r===i?0:null===r?1:null===i?-1:(r>i?1:-1)*(e?-1:1)}}let evi=e=>{let t,n,r,i,a,o=(0,j.c)(10),{body:l,title:s}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(R.CalendarIcon,{}),o[0]=t):t=o[0],o[1]!==s?(n=s&&(0,_.jsx)(I.Text,{size:2,weight:"semibold",children:s}),o[1]=s,o[2]=n):n=o[2],o[3]!==n?(r=(0,_.jsxs)(I.Inline,{space:2,children:[t,n]}),o[3]=n,o[4]=r):r=o[4],o[5]!==l?(i=l&&(0,_.jsx)(I.Text,{size:1,children:l}),o[5]=l,o[6]=i):i=o[6],o[7]!==r||o[8]!==i?(a=(0,_.jsxs)(I.Stack,{paddingY:1,space:3,children:[r,i]}),o[7]=r,o[8]=i,o[9]=a):a=o[9],a};function eva(e){let t;return"object"==typeof e&&e&&"statusCode"in e&&"response"in e?t=403===e.response.statusCode?"Forbidden. Please check that your project has access to Scheduled Publishing.":e.message:(e instanceof Error&&(t=e.message),t=String(e)),t}let evo=KX("useScheduleOperation"),evl={create:"scheduleCreate",delete:"scheduleDelete",deleteMultiple:"scheduleDeleteMultiple",publish:"schedulePublish",update:"scheduleUpdate"};function evs(e,t){return"".concat(t," ").concat(e).concat(1===t?"":"s")}let evc=(e,t)=>new CustomEvent(e,t);function evu(){let e=(0,A.useToast)(),{formatDateTz:t}=K3({type:"scheduledPublishing"}),n=function(){let e,t,n=(0,j.c)(3);n[0]===Symbol.for("react.memo_cache_sentinel")?(e={apiVersion:"2022-09-01"},n[0]=e):e=n[0];let r=eTt(e);return n[1]!==r?(t=function(e){let{dataset:t,projectId:n}=e.config();function r(r){let{scheduleId:i}=r;return evo("_delete:",i),e.request({method:"DELETE",uri:"/schedules/".concat(n,"/").concat(t,"/").concat(i)})}return{create:function(r){let{date:i,documentId:a}=r;evo("_create:",a);let o=new Date(i);return o.setSeconds(0),o.setMilliseconds(0),e.request({body:{documents:[{documentId:a}],executeAt:o,name:o},method:"POST",uri:"/schedules/".concat(n,"/").concat(t)})},delete:r,deleteMultiple:function(e){let{scheduleIds:t}=e;return evo("_deleteMultiple:",t),Promise.allSettled(t.map(e=>r({scheduleId:e})))},publish:function(r){let{scheduleId:i}=r;return evo("_publish:",i),e.request({method:"POST",uri:"/schedules/".concat(n,"/").concat(t,"/").concat(i,"/publish")})},update:function(r){let{documentSchedule:i,scheduleId:a}=r;return evo("_update:",a,i),e.request({body:i,method:"PATCH",uri:"/schedules/".concat(n,"/").concat(t,"/").concat(a)})}}}(r),n[1]=r,n[2]=t):t=n[2],t}();return{createSchedule:async function(r){let{date:i,displayToast:a=!0,documentId:o}=r;try{let r=await n.create({date:i,documentId:o});window.dispatchEvent(evc(evl.create,{detail:{date:i,documentId:o}})),a&&(null==r?void 0:r.executeAt)&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:t({date:new Date(r.executeAt),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule created"}),duration:15e3,status:"success"})}catch(t){a&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:eva(t),title:"Unable to create schedule"}),duration:15e3,status:"error"})}},deleteSchedule:async function(t){let{displayToast:r=!0,schedule:i}=t;try{await n.delete({scheduleId:null==i?void 0:i.id}),window.dispatchEvent(evc(evl.delete,{detail:{scheduleId:null==i?void 0:i.id}})),r&&e.push({closable:!0,description:(0,_.jsx)(evi,{title:"Schedule deleted"}),status:"success"})}catch(t){r&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:eva(t),title:"Unable to delete schedule"}),duration:15e3,status:"error"})}},deleteSchedules:async function(t){let{displayToast:r=!0,schedules:i}=t;try{let t=i.map(e=>e.id),{fulfilledIds:a,rejectedReasons:o}=(await n.deleteMultiple({scheduleIds:t})).reduce((e,t,n)=>("fulfilled"===t.status&&e.fulfilledIds.push(i[n].id),"rejected"===t.status&&e.rejectedReasons.push("[".concat(i[n].id,"]: ").concat(t.reason)),e),{fulfilledIds:[],rejectedReasons:[]}),l=a.length,s=o.length;(null==a?void 0:a.length)>0&&window.dispatchEvent(evc(evl.deleteMultiple,{detail:{scheduleIds:a}})),r&&((null==a?void 0:a.length)>0&&e.push({closable:!0,description:(0,_.jsx)(evi,{title:"".concat(evs("schedule",l)," deleted")}),status:"success"}),(null==o?void 0:o.length)>0&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:null==o?void 0:o.toString(),title:"Unable to delete ".concat(evs("schedule",s))}),duration:15e3,status:"error"}))}catch(t){r&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:eva(t),title:"Unable to delete schedules"}),duration:15e3,status:"error"})}},publishSchedule:async function(t){let{displayToast:r=!0,schedule:i}=t;try{let t=i.id;await n.publish({scheduleId:t}),window.dispatchEvent(evc(evl.publish,{detail:{scheduleId:t}})),r&&e.push({closable:!0,description:(0,_.jsx)(evi,{title:"Document published"}),status:"success"})}catch(t){r&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:eva(t),title:"Unable to publish schedule"}),duration:15e3,status:"error"})}},updateSchedule:async function(r){let{date:i,displayToast:a=!0,scheduleId:o}=r;try{await n.update({documentSchedule:{executeAt:i},scheduleId:o}),window.dispatchEvent(evc(evl.update,{detail:{date:i,scheduleId:o}})),a&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:t({date:new Date(i),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule updated"}),duration:15e3,status:"success"})}catch(t){a&&e.push({closable:!0,description:(0,_.jsx)(evi,{body:eva(t),title:"Unable to update schedule"}),duration:15e3,status:"error"})}}}}let evd=[];function evp(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(32);h[0]!==e?(n=void 0===e?{}:e,h[0]=e,h[1]=n):n=h[1];let{documentId:m,state:g}=n,{mode:y,enabled:v}=eyC(),b="default"===y?1e4:void 0,x="default"===y,C="default"===y;h[2]!==b||h[3]!==x||h[4]!==C?(r={refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,refreshInterval:b,revalidateIfStale:x,revalidateOnReconnect:C},h[2]=b,h[3]=x,h[4]=C,h[5]=r):r=h[5];let k=r,w=function(){let e,t=(0,j.c)(1);t[0]===Symbol.for("react.memo_cache_sentinel")?(e={apiVersion:"2022-09-01"},t[0]=e):e=t[0];let{dataset:n,projectId:r}=eTt(e).config();return"/schedules/".concat(r,"/").concat(n)}();h[6]!==m||h[7]!==g?(i={documentIds:m,state:g},h[6]=m,h[7]=g,h[8]=i):i=h[8],h[9]!==i||h[10]!==w?(a={params:i,url:w},h[9]=i,h[10]=w,h[11]=a):a=h[11];let _=a,S=function(e){let t,n,r=(0,j.c)(5);r[0]===Symbol.for("react.memo_cache_sentinel")?(t={apiVersion:"2022-09-01"},r[0]=t):t=r[0];let i=eTt(t);return r[1]!==i||r[2]!==e.params||r[3]!==e.url?(n=()=>i.request({query:e.params,method:"GET",uri:e.url}),r[1]=i,r[2]=e.params,r[3]=e.url,r[4]=n):n=r[4],n}(_),{data:T,error:D,mutate:I}=evt(v?_:null,S,k);h[12]!==I?(o=e=>{I(t=>{var n;return{schedules:null==t||null==(n=t.schedules)?void 0:n.filter(t=>t.id!==e.detail.scheduleId)}},!0)},h[12]=I,h[13]=o):o=h[13];let A=o;h[14]!==I?(l=e=>{I(t=>{var n;return{schedules:null==t||null==(n=t.schedules)?void 0:n.filter(t=>!e.detail.scheduleIds.includes(t.id))}},!0)},h[14]=I,h[15]=l):l=h[15];let O=l;h[16]!==I?(s=e=>{I(t=>{let n=(null==t?void 0:t.schedules)||[],r=n.findIndex(t=>t.id===e.detail.scheduleId);return{schedules:[...n.slice(0,r),{...n[r],executeAt:new Date().toISOString(),state:"succeeded"},...n.slice(r+1)]}},!0)},h[16]=I,h[17]=s):s=h[17];let P=s;h[18]!==I?(c=e=>{I(t=>{let n=(null==t?void 0:t.schedules)||[],r=n.findIndex(t=>t.id===e.detail.scheduleId);return{schedules:[...n.slice(0,r),{...n[r],executeAt:e.detail.date},...n.slice(r+1)]}},!0)},h[18]=I,h[19]=c):c=h[19];let M=c;h[20]!==A||h[21]!==O||h[22]!==P||h[23]!==M?(u=()=>(window.addEventListener(evl.delete,A),window.addEventListener(evl.deleteMultiple,O),window.addEventListener(evl.publish,P),window.addEventListener(evl.update,M),()=>{window.removeEventListener(evl.delete,A),window.removeEventListener(evl.deleteMultiple,O),window.removeEventListener(evl.publish,P),window.removeEventListener(evl.update,M)}),d=[A,O,P,M],h[20]=A,h[21]=O,h[22]=P,h[23]=M,h[24]=u,h[25]=d):(u=h[24],d=h[25]),(0,E.useEffect)(u,d),h[26]!==(null==T?void 0:T.schedules)?(p=null==T||null==(t=T.schedules)?void 0:t.sort(evr()),h[26]=null==T?void 0:T.schedules,h[27]=p):p=h[27];let F=!D&&!T,R=p||evd;return h[28]!==D||h[29]!==F||h[30]!==R?(f={error:D,isInitialLoading:F,schedules:R},h[28]=D,h[29]=F,h[30]=R,h[31]=f):f=h[31],f}let evf=(0,mK.createContext)("sanity/_singletons/context/schedules",void 0),evh=[];function evm(e){let t,n,r,i,a,o,l=(0,j.c)(22),{children:s,value:c}=e,[u,d]=(0,E.useState)(c.sortBy||"executeAt");l[0]===Symbol.for("react.memo_cache_sentinel")?(t={type:"scheduledPublishing"},l[0]=t):t=l[0];let{utcToCurrentZoneDate:p}=K3(t);l[1]!==p?(n=e=>function(t){let n=evn(t);if(!n)return!1;let r=p(new Date(n));return(0,tR.isSameDay)(r,e)},l[1]=p,l[2]=n):n=l[2];let f=n;l[3]!==f||l[4]!==u||l[5]!==c.scheduleState||l[6]!==c.schedules||l[7]!==c.selectedDate?(r=c.schedules.filter(e=>c.selectedDate?f(c.selectedDate)(e):(function(e){return function(t){return t.state===e}})(c.scheduleState)(e)).sort((e,t)=>"createdAt"===u?e[u]<t[u]?1:-1:"executeAt"===u?evr({reverseOrder:!("scheduled"===c.scheduleState||c.selectedDate)})(e,t):1)||[],l[3]=f,l[4]=u,l[5]=c.scheduleState,l[6]=c.schedules,l[7]=c.selectedDate,l[8]=r):r=l[8];let h=r;l[9]!==f||l[10]!==c.schedules?(i=e=>c.schedules.filter(f(e)).sort(evr()),l[9]=f,l[10]=c.schedules,l[11]=i):i=l[11];let m=i,g=c.schedules||evh;l[12]!==h||l[13]!==m||l[14]!==u||l[15]!==g||l[16]!==c.scheduleState||l[17]!==c.selectedDate?(a={activeSchedules:h,schedules:g,schedulesByDate:m,scheduleState:c.scheduleState,selectedDate:c.selectedDate,setSortBy:d,sortBy:u},l[12]=h,l[13]=m,l[14]=u,l[15]=g,l[16]=c.scheduleState,l[17]=c.selectedDate,l[18]=a):a=l[18];let y=a;return l[19]!==s||l[20]!==y?(o=(0,_.jsx)(evf.Provider,{value:y,children:s}),l[19]=s,l[20]=y,l[21]=o):o=l[21],o}function evg(){let e=(0,E.useContext)(evf);if(void 0===e)throw Error("useSchedules must be used within a SchedulesProvider");return e}function evy(e,t){let n,r=(0,j.c)(5);if(r[0]!==t||r[1]!==e){let i;r[3]!==t?(i=e=>e.state===t,r[3]=t,r[4]=i):i=r[4],n=e.filter(i),r[0]=t,r[1]=e,r[2]=n}else n=r[2];return n}let evv=e=>{let t,n,r,i,a,o=(0,j.c)(16),{selected:l,schedules:s,state:c}=e,u=evy(s,c).length,d=u>0,p="cancelled"===c;o[0]!==c?(t={state:{state:c}},o[0]=c,o[1]=t):t=o[1];let{href:f,onClick:h}=(0,nr.useStateLink)(t),m=p?"critical":"default",g=eyf[c];return o[2]!==g.title?(n=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:g.title}),o[2]=g.title,o[3]=n):n=o[3],o[4]!==u||o[5]!==d?(r=d&&(0,_.jsx)(I.Text,{size:0,children:u}),o[4]=u,o[5]=d,o[6]=r):r=o[6],o[7]!==n||o[8]!==r?(i=(0,_.jsxs)(I.Flex,{gap:2,align:"center",children:[n,r]}),o[7]=n,o[8]=r,o[9]=i):i=o[9],o[10]!==f||o[11]!==h||o[12]!==l||o[13]!==m||o[14]!==i?(a=(0,_.jsx)(I.Button,{as:"a",href:f,mode:"bleed",onClick:h,selected:l,tone:m,padding:2,children:i}),o[10]=f,o[11]=h,o[12]=l,o[13]=m,o[14]=i,o[15]=a):a=o[15],a},evb=e=>{let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(26),{onClearDate:p,selectedDate:f}=e,{navigate:h}=(0,nr.useRouter)(),{schedules:m,scheduleState:g}=evg();d[0]!==h?(t=e=>{h(e)},d[0]=h,d[1]=t):t=d[1];let y=t,v=evy(m,g);return d[2]===Symbol.for("react.memo_cache_sentinel")?(n=["block","block","none"],d[2]=n):n=d[2],d[3]!==p||d[4]!==f?(r=f&&(0,_.jsx)(B.Button,{iconRight:R.CloseIcon,onClick:p,text:(0,tY.format)(f,"d MMMM yyyy"),tone:"primary"}),d[3]=p,d[4]=f,d[5]=r):r=d[5],d[6]!==(null==v?void 0:v.length)||d[7]!==y||d[8]!==g?(i=g&&(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{iconRight:R.SelectIcon,mode:"ghost",text:"".concat(eyf[g].title," (").concat((null==v?void 0:v.length)||0,")"),tone:"default"}),id:"state",menu:(0,_.jsx)(I.Menu,{style:{minWidth:"175px"},children:eyh.map(e=>(0,_.jsx)(B.MenuItem,{iconRight:e===g?R.CheckmarkIcon:void 0,onClick:y.bind(void 0,{state:e}),text:eyf[e].title},e))}),placement:"bottom"}),d[6]=null==v?void 0:v.length,d[7]=y,d[8]=g,d[9]=i):i=d[9],d[10]!==r||d[11]!==i?(a=(0,_.jsxs)(I.Box,{display:n,children:[r,i]}),d[10]=r,d[11]=i,d[12]=a):a=d[12],d[13]===Symbol.for("react.memo_cache_sentinel")?(o=["none","none","block"],d[13]=o):o=d[13],d[14]!==p||d[15]!==f?(l=f&&(0,_.jsx)(B.Button,{iconRight:R.CloseIcon,onClick:p,text:(0,tY.format)(f,"d MMMM yyyy"),tone:"primary"}),d[14]=p,d[15]=f,d[16]=l):l=d[16],d[17]!==g||d[18]!==m?(s=g&&(0,_.jsx)(I.Flex,{gap:2,children:eyh.map(e=>(0,_.jsx)(evv,{schedules:m,selected:g===e,state:e},e))}),d[17]=g,d[18]=m,d[19]=s):s=d[19],d[20]!==l||d[21]!==s?(c=(0,_.jsxs)(I.Box,{display:o,children:[l,s]}),d[20]=l,d[21]=s,d[22]=c):c=d[22],d[23]!==a||d[24]!==c?(u=(0,_.jsxs)(_.Fragment,{children:[a,c]}),d[23]=a,d[24]=c,d[25]=u):u=d[25],u};function evx(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(24),[u,d]=(0,E.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={dataUri:"/journey/scheduled-publishing",feature:"scheduled_publishing"},c[0]=t):t=c[0];let{upsellData:p,telemetryLogs:f}=eco(t);c[1]!==f?(n=()=>{f.dialogPrimaryClicked()},c[1]=f,c[2]=n):n=c[2];let h=n;c[3]!==f?(r=()=>{f.dialogSecondaryClicked()},c[3]=f,c[4]=r):r=c[4];let m=r;c[5]!==f?(i=()=>{d(!1),f.dialogDismissed()},c[5]=f,c[6]=i):i=c[6];let g=i;c[7]!==f?(a=e=>{d(!0),f.dialogViewed(e)},c[7]=f,c[8]=a):a=c[8];let y=a;c[9]!==y||c[10]!==f||c[11]!==p||c[12]!==u?(o={upsellDialogOpen:u,handleOpenDialog:y,upsellData:p,telemetryLogs:f},c[9]=y,c[10]=f,c[11]=p,c[12]=u,c[13]=o):o=c[13];let v=o;return c[14]!==g||c[15]!==h||c[16]!==m||c[17]!==p||c[18]!==u?(l=p&&u&&(0,_.jsx)(ecD,{data:p,onClose:g,onPrimaryClick:h,onSecondaryClick:m}),c[14]=g,c[15]=h,c[16]=m,c[17]=p,c[18]=u,c[19]=l):l=c[19],c[20]!==v||c[21]!==e.children||c[22]!==l?(s=(0,_.jsxs)(D.SchedulePublishUpsellContext.Provider,{value:v,children:[e.children,l]}),c[20]=v,c[21]=e.children,c[22]=l,c[23]=s):s=c[23],s}function evC(){return(0,E.useContext)(D.SchedulePublishUpsellContext)}let evk=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(15);return m[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)("path",{d:"M54 26C54 28.7614 49.0751 31 43 31C36.9249 31 32 28.7614 32 26C32 23.2386 36.9249 7 43 7C49.0751 7 54 23.2386 54 26Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),n=(0,_.jsx)("path",{d:"M65 71.5V57M65 71.5L60.5789 69.0132M65 71.5L60.5789 73.9868M65 57L57 52.5L54 54.1875M65 57V42.5M65 57L57 47M65 57L58.1586 60.8483M65 57L60.5789 67.5M65 42.5L57 38L54 39.6875M65 42.5L57 47M65 42.5V27.5M57 47L65 27.5M57 47L54 39.6875M57 47L54 45.3125M57 47L54 50.75M57 23L65 27.5M57 23L54 24.6875V39.6875M57 23V60M65 27.5L57 32L54 30.3125",stroke:"#7B8CA8",strokeWidth:"1.2"}),o=(0,_.jsx)("path",{d:"M54 76C54 78.7614 49.0751 81 43 81C36.9249 81 32 78.7614 32 76M54 76H60.5V63L54 57M54 76V57M32 76H25V63L32 57M32 76V57M32 26V57M54 26V57M54 45C54 47.7614 49.0751 50 43 50V35C49.0751 35 54 32.7614 54 30",stroke:"#7B8CA8",strokeWidth:"1.2"}),l=(0,_.jsx)("path",{d:"M43 45.5701H44.8976L45.8465 43.1981L46.9679 42.7335L49.3162 43.7399L50.658 42.3981L49.6516 40.0499L50.1161 38.9284L52.4882 37.9795V36.0819L50.1161 35.1331L49.6516 34.0116M47.1334 34.9653C47.5197 35.5597 47.7441 36.269 47.7441 37.0307C47.7441 39.1268 46.0449 40.826 43.9488 40.826C43.6212 40.826 43.3033 40.7845 43 40.7064",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinejoin:"round"}),s=(0,_.jsx)("path",{d:"M63.5464 78.6739L64.9606 78.0321L67.4355 78.5135L68.6174 78.2913L69.6174 77.1566H71.6174L72.6174 78.2913L73.7994 78.5135L76.2743 78.0321L77.6885 78.6739M63.5464 78.6739L64.607 79.7972L64.1174 80.3336L63.5464 80.4373M63.5464 78.6739V80.4373M77.6885 78.6739L76.6278 79.7972L77.1174 80.3336L77.6885 80.4373M77.6885 78.6739V80.4373M63.5464 80.4373L61.6174 80.7875V81.6952L64.1174 82.1491L64.607 82.6855L63.5464 83.8088L64.9606 84.4506L67.4355 83.9693L68.6174 84.1915L69.6174 85.3261H71.6174L72.6174 84.1915L73.7994 83.9693L76.2743 84.4506L77.6885 83.8088L76.6278 82.6855L77.1174 82.1491L79.6174 81.6952V80.7875L77.6885 80.4373",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c=(0,_.jsx)("path",{d:"M79.6174 81.4647V84.7162L77.6885 85.0664M76.2743 87.4716L77.6885 86.8298V85.0664M76.2743 87.4716L73.7994 86.9902L72.6174 87.2124L71.6174 88.3471M76.2743 87.4716V84.7162M61.6174 81.4647V84.7162L63.5464 85.0664M71.6174 88.3471H69.6174M71.6174 88.3471V85.3261M69.6174 88.3471L68.6174 87.2124L67.4355 86.9902L64.9606 87.4716M69.6174 88.3471V85.3261M64.9606 87.4716L64.2535 87.1507L63.5464 86.8298V85.0664M64.9606 87.4716V84.6825M63.5464 84.039V85.0664M77.6885 84.039V85.0664",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u=(0,_.jsx)("path",{d:"M73.6174 81.2412C73.6174 81.9932 72.2743 82.6028 70.6174 82.6028C68.9606 82.6028 67.6174 81.9932 67.6174 81.2412C67.6174 80.4892 68.9606 79.8796 70.6174 79.8796C72.2743 79.8796 73.6174 80.4892 73.6174 81.2412Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),d=(0,_.jsx)("path",{d:"M90 85.3616C90 86.1136 88.6569 86.7232 87 86.7232C85.3431 86.7232 84 86.1136 84 85.3616M90 85.3616C90 84.6096 88.6569 84 87 84C85.3431 84 84 84.6096 84 85.3616M90 85.3616V87.3616C90 88.1136 88.6569 88.7232 87 88.7232C85.3431 88.7232 84 88.1136 84 87.3616V85.3616",stroke:"#7B8CA8",strokeWidth:"1.2"}),p=(0,_.jsx)("path",{d:"M82 89.8648C82 90.3425 81.3284 90.7297 80.5 90.7297C79.6716 90.7297 79 90.3425 79 89.8648M82 89.8648C82 89.3872 81.3284 89 80.5 89C79.6716 89 79 89.3872 79 89.8648M82 89.8648V91.1352C82 91.6128 81.3284 92 80.5 92C79.6716 92 79 91.6128 79 91.1352V89.8648",stroke:"#7B8CA8",strokeWidth:"1.2"}),f=(0,_.jsx)("path",{d:"M52.7555 46.7289L52.5381 45.0136L51.2951 44.6903L50.2695 46.0824L49.4558 46.1956L48.0892 45.1364L46.9817 45.7867L47.2408 47.4962L46.7455 48.1517L45.0302 48.3691L44.7069 49.612M51.1084 47.9593C49.8968 47.6442 48.6622 48.2485 48.1434 49.3385",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),r=(0,_.jsx)("path",{d:"M39 80.5L38 83.5C38 84.8807 40.2386 86 43 86C45.7614 86 48 84.8807 48 83.5L47 80.5",stroke:"#7B8CA8",strokeWidth:"1.2"}),i=(0,_.jsx)("path",{d:"M32 77L31 80C31 81.3807 33.2386 82.5 36 82.5C36.9107 82.5 37.7646 82.3783 38.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),a=(0,_.jsx)("path",{d:"M54 77L55 80C55 81.3807 52.7614 82.5 50 82.5C49.0893 82.5 48.2354 82.3783 47.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),m[0]=t,m[1]=n,m[2]=r,m[3]=i,m[4]=a,m[5]=o,m[6]=l,m[7]=s,m[8]=c,m[9]=u,m[10]=d,m[11]=p,m[12]=f):(t=m[0],n=m[1],r=m[2],i=m[3],a=m[4],o=m[5],l=m[6],s=m[7],c=m[8],u=m[9],d=m[10],p=m[11],f=m[12]),m[13]!==e?(h=(0,_.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[t,n,o,l,s,c,u,d,p,f,r,i,a]}),m[13]=e,m[14]=h):h=m[14],h},evw=e=>{let t,n,r,i,a,o,l,s,c=(0,j.c)(9);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)("path",{d:"M35 84.5L41.7308 67H50V69.5M65 84.5L58.2692 67M32 65H42.5H50H57.5H81V23H19V65H24",stroke:"#7B8CA8",strokeWidth:"1.2"}),n=(0,_.jsx)("path",{d:"M84 16V23H16V16M84 16H16M84 16L82 14H18L16 16",stroke:"#7B8CA8",strokeWidth:"1.2"}),r=(0,_.jsx)("path",{d:"M24 65H18L17 67H83L82 65H32",stroke:"#7B8CA8",strokeWidth:"1.2"}),i=(0,_.jsx)("circle",{cx:"50",cy:"72",r:"2",stroke:"#7B8CA8",strokeWidth:"1.2"}),a=(0,_.jsx)("path",{d:"M24 63C24 61.8954 24.8954 61 26 61H30C31.1046 61 32 61.8954 32 63V67H24V63Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),o=(0,_.jsx)("path",{d:"M24 65C24 63.8954 24.8954 63 26 63H30C31.1046 63 32 63.8954 32 65V67H24V65Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),l=(0,_.jsx)("path",{d:"M28 44.9975C31.0617 44.62 33.5601 42.4793 35.2478 39.995C36.199 38.5947 36.9116 37.0761 36.9653 35.3597C36.9973 34.3355 36.8332 33.1459 35.8944 32.5454C35.3035 32.1675 34.4935 32.0285 33.8044 32.0022C32.7788 31.9631 32.1643 32.4357 31.8489 33.4197C30.3123 38.2145 33.0184 42.7025 36.3911 45.8977C38.1152 47.531 40.0746 48.9275 42.1179 50.1294C43.9867 51.2287 46.003 52.2595 48.1189 52.7885C48.9466 52.9954 50.4951 53.3913 51.3211 52.954C52.3579 52.4051 51.8285 49.7323 51.7091 48.9809C51.3862 46.9486 50.7293 45.0311 49.8726 43.1662C49.3791 42.0918 48.7948 40.8004 47.9999 39.8967C47.4959 39.3237 47.1331 39.4889 47.1101 40.2278C47.0699 41.5204 47.5768 42.7535 48.3103 43.7973C50.633 47.1024 54.4924 49.4656 58.2792 50.6985C59.9643 51.2471 61.8953 51.7306 63.6853 51.6193C65.3845 51.5137 65.6225 50.1321 65.7287 48.655C65.9958 44.9405 64.9629 40.7695 62.6403 37.7963C61.615 36.4839 60.3547 35.6334 58.6879 35.4476C57.7554 35.3437 56.665 35.3303 55.7391 35.5097C54.8073 35.6903 54.0162 36.297 54.3371 37.3462C54.6464 38.3572 55.8044 39.0666 56.6444 39.5759C57.983 40.3876 59.4813 40.9898 61.0262 41.2624C63.2658 41.6576 65.1745 41.1715 67.141 40.1346C67.9966 39.6835 68.8825 39.1795 69.4379 38.3861",stroke:"#7B8CA8",strokeWidth:"1.2"}),c[0]=t,c[1]=n,c[2]=r,c[3]=i,c[4]=a,c[5]=o,c[6]=l):(t=c[0],n=c[1],r=c[2],i=c[3],a=c[4],o=c[5],l=c[6]),c[7]!==e?(s=(0,_.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[t,n,r,i,a,o,l]}),c[7]=e,c[8]=s):s=c[8],s},ev_=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(16);return g[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)("path",{d:"M35.5034 34.5961C35.6531 34.1763 35.8628 33.792 36.1352 33.4478C37.6813 31.4827 40.9503 31.2145 44.9898 32.3554M35.5034 34.5961L24.12 78.5806C23.4656 81.1092 26.1309 83.2083 28.4357 81.9796L68.4485 60.6484M35.5034 34.5961C34.2315 38.1622 37.2902 44.2842 43.0792 50.0342M68.4485 60.6484C68.8174 60.4078 69.1391 60.118 69.4084 59.7777C70.9736 57.7883 70.4521 54.4677 68.3472 50.7308M68.4485 60.6484C65.1795 62.7806 58.1999 61.0522 51.0413 56.4338M49.3164 55.2667C48.6043 54.7622 47.8933 54.2299 47.1867 53.6707C46.3331 52.9953 45.5161 52.3044 44.7387 51.6037M49.3164 55.2667C49.8913 55.674 50.4669 56.0632 51.0413 56.4338M49.3164 55.2667C52.3445 53.1871 58.7283 49.8329 66.4965 47.8874M51.0413 56.4338C55.9305 53.432 62.4593 51.6876 68.3472 50.7308M43.0792 50.0342C43.6098 50.5612 44.1634 51.0852 44.7387 51.6037M43.0792 50.0342C44.4006 45.7138 45.8116 38.387 44.9898 32.3554M44.7387 51.6037C47.6743 44.2968 48.7135 38.3712 48.6643 33.6916M63.9622 36.487C63.2905 34.23 62.35 29.5386 63.9622 28.8293C65.9774 27.9426 68.5569 33.5045 70.8139 32.2148C73.0709 30.9251 69.4435 27.7814 70.8139 25.2019C72.1842 22.6224 79.6002 28.4262 81.2123 23.4285C82.502 19.4304 79.7614 16.6574 78.2298 15.7708M66.4965 47.8874C70.7697 46.8171 75.462 46.1731 80.2449 46.4019L80.2449 49.7068C77.5329 49.6936 73.1535 49.9498 68.3472 50.7308M66.4965 47.8874C64.45 45.1054 61.6564 42.2264 58.3003 39.5859C55.0633 37.039 51.7429 35.0416 48.6643 33.6916M48.6643 33.6916C48.5822 25.8794 45.4671 21.5396 43.0792 20.043L39.941 23.4285C42.9851 25.0774 44.4569 28.4441 44.9898 32.3554",stroke:"#7B8CA8",strokeWidth:"1.2"}),n=(0,_.jsx)("path",{d:"M32.2094 47.3001C31.0515 50.5465 34.6857 56.6214 40.9597 61.5862C47.2404 66.5562 53.9958 68.696 56.8839 66.8122",stroke:"#7B8CA8",strokeWidth:"1.2"}),l=(0,_.jsx)("path",{d:"M28.8867 60.1903C28.1245 62.3275 30.5169 66.3267 34.6472 69.595C38.7818 72.8669 43.229 74.2755 45.1303 73.0354",stroke:"#7B8CA8",strokeWidth:"1.2"}),s=(0,_.jsx)("path",{d:"M26.2718 70.2225C25.8147 71.5039 27.2491 73.9016 29.7254 75.8611C32.2044 77.8228 34.8707 78.6673 36.0106 77.9238",stroke:"#7B8CA8",strokeWidth:"1.2"}),c=(0,_.jsx)("path",{d:"M28.0529 44.1724C29.5354 43.1981 32.3735 40.6904 31.8652 38.4538C31.2298 35.6581 22.8425 38.9622 22.7155 36.5477C22.5884 34.1331 27.0361 30.575 26.909 28.6688C26.7819 26.7626 18.6489 30.8291 18.6489 26.8896C18.6489 23.738 21.36 22.1029 22.7155 21.6793",stroke:"#7B8CA8",strokeWidth:"1.2"}),u=(0,_.jsx)("rect",{x:"21.8833",y:"50.1122",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 21.8833 50.1122)",stroke:"#7B8CA8",strokeWidth:"1.2"}),d=(0,_.jsx)("rect",{x:"16.0527",y:"36.722",width:"3.03077",height:"3.03077",transform:"rotate(4.36851 16.0527 36.722)",stroke:"#7B8CA8",strokeWidth:"1.2"}),p=(0,_.jsx)("rect",{x:"27.9448",y:"22.8353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 27.9448 22.8353)",stroke:"#7B8CA8",strokeWidth:"1.2"}),f=(0,_.jsx)("rect",{x:"53.7065",y:"33.443",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 53.7065 33.443)",stroke:"#7B8CA8",strokeWidth:"1.2"}),h=(0,_.jsx)("rect",{x:"67.3447",y:"13.743",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 67.3447 13.743)",stroke:"#7B8CA8",strokeWidth:"1.2"}),r=(0,_.jsx)("rect",{x:"74.9219",y:"54.6584",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 74.9219 54.6584)",stroke:"#7B8CA8",strokeWidth:"1.2"}),i=(0,_.jsx)("rect",{x:"70.3755",y:"66.7814",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 70.3755 66.7814)",stroke:"#7B8CA8",strokeWidth:"1.2"}),a=(0,_.jsx)("rect",{x:"77.9526",y:"78.9045",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 77.9526 78.9045)",stroke:"#7B8CA8",strokeWidth:"1.2"}),o=(0,_.jsx)("rect",{x:"82.4985",y:"62.2353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 82.4985 62.2353)",stroke:"#7B8CA8",strokeWidth:"1.2"}),g[0]=t,g[1]=n,g[2]=r,g[3]=i,g[4]=a,g[5]=o,g[6]=l,g[7]=s,g[8]=c,g[9]=u,g[10]=d,g[11]=p,g[12]=f,g[13]=h):(t=g[0],n=g[1],r=g[2],i=g[3],a=g[4],o=g[5],l=g[6],s=g[7],c=g[8],u=g[9],d=g[10],p=g[11],f=g[12],h=g[13]),g[14]!==e?(m=(0,_.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[t,n,l,s,c,u,d,p,f,h,r,i,a,o]}),g[14]=e,g[15]=m):m=g[15],m},evj=e=>{let t,n,r,i,a,o,l,s,c,u=(0,j.c)(16),{scheduleState:d,selectedDate:p}=e;switch(d){case"succeeded":n="When a scheduled document is successfully published it moves to this list view.",r="No completed scheduled publications ... yet",t=evk;break;case"cancelled":n="Schedules can fail for several reasons, for example when their documents are deleted. When they do, they show up here.",r="No failed scheduled publications",t=ev_;break;case"scheduled":n="When editing a document, create a new scheduled publication from the menu next to the Publish button.",r="No upcoming scheduled publications",t=evw}if(p){let e;n="No schedules for this date.",u[0]!==p?(e=(0,tY.format)(p,"d MMMM yyyy"),u[0]=p,u[1]=e):e=u[1],r=e,t=evw}return u[2]!==t?(i=t&&(0,_.jsx)(t,{}),u[2]=t,u[3]=i):i=u[3],u[4]!==i?(a=(0,_.jsx)(I.Flex,{justify:"center",children:i}),u[4]=i,u[5]=a):a=u[5],u[6]!==r?(o=r&&(0,_.jsx)(I.Heading,{align:"center",size:1,children:r}),u[6]=r,u[7]=o):o=u[7],u[8]!==n?(l=n&&(0,_.jsx)(I.Text,{align:"center",size:1,children:n}),u[8]=n,u[9]=l):l=u[9],u[10]!==o||u[11]!==l?(s=(0,_.jsxs)(I.Stack,{space:4,children:[o,l]}),u[10]=o,u[11]=l,u[12]=s):s=u[12],u[13]!==a||u[14]!==s?(c=(0,_.jsx)(I.Card,{paddingX:6,paddingBottom:8,paddingTop:7,radius:2,shadow:1,children:(0,_.jsxs)(I.Stack,{space:4,children:[a,s]})}),u[13]=a,u[14]=s,u[15]=c):c=u[15],c};function evS(e){var t;return null==(t=e.documents)?void 0:t[0]}function evE(e){var t;return null==(t=evS(e))?void 0:t.documentId.replaceAll("drafts.","")}function evT(e){let t=evS(e),n=el3(),r=t.documentType;return(0,E.useMemo)(()=>{if(r)return n.get(r)},[r,n])}let evD=(0,F.styled)(I.ElementQuery)(Ei());function evI(e){let t,n=(0,j.c)(3),{children:r,value:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(D.DocumentActionPropsContext.Provider,{value:i,children:r}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}function evA(e){let[t,n]=(0,E.useState)(!1),[r,i]=(0,E.useState)(e&&(null==e?void 0:e.executeAt)?{date:e.executeAt}:null);return{formData:r,isDirty:t,onFormChange:(0,E.useCallback)(t=>{let r=(null==e?void 0:e.executeAt)&&new Date(e.executeAt).getTime()===new Date(null==t?void 0:t.date).getTime();i(t),n(!r)},[null==e?void 0:e.executeAt])}}function evO(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(27),{date:u,focused:d,isCurrentMonth:p,isToday:f,customValidation:h,onSelect:m,selected:g}=e;e:{let e;if(!h){t=!0;break e}c[0]!==h||c[1]!==u?(e=h((0,tQ.endOfDay)(u)),c[0]=h,c[1]=u,c[2]=e):e=c[2],t=e}let y=t;c[3]!==u||c[4]!==y||c[5]!==m?(n=()=>{y&&m(u)},c[3]=u,c[4]=y,c[5]=m,c[6]=n):n=c[6];let v=n;c[7]!==u?(r=u.toDateString(),c[7]=u,c[8]=r):r=c[8];let b=d?"true":"",x=!y,C=f||g?"primary":"default",k=!g&&!p;c[9]===Symbol.for("react.memo_cache_sentinel")?(i={textAlign:"center"},c[9]=i):i=c[9];let w=p?"medium":"regular";return c[10]!==u?(a=u.getDate(),c[10]=u,c[11]=a):a=c[11],c[12]!==k||c[13]!==w||c[14]!==a?(o=(0,_.jsx)(I.Text,{muted:k,style:i,weight:w,children:a}),c[12]=k,c[13]=w,c[14]=a,c[15]=o):o=c[15],c[16]!==v||c[17]!==g||c[18]!==o||c[19]!==r||c[20]!==b||c[21]!==x||c[22]!==C?(l=(0,_.jsx)(I.Card,{"aria-label":r,"aria-pressed":g,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":b,disabled:x,role:"button",tabIndex:-1,onClick:v,padding:3,radius:2,selected:g,tone:C,children:o}),c[16]=v,c[17]=g,c[18]=o,c[19]=r,c[20]=b,c[21]=x,c[22]=C,c[23]=l):l=c[23],c[24]!==g||c[25]!==l?(s=(0,_.jsx)("div",{"aria-selected":g,"data-ui":"CalendarDay",children:l}),c[24]=g,c[25]=l,c[26]=s):s=c[26],s}let evP=["January","February","March","April","May","June","July","August","September","October","November","December"],evM=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],evF=(0,mU.default)(0,24),evR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],evB=[1,2,3,4,5,6];function evN(e){let t,n,r,i,a,o=(0,j.c)(20),{customValidation:l,timeZoneScope:s}=e,{getCurrentZoneDate:c}=K3(s),u=e.hidden||!1;if(o[0]===Symbol.for("react.memo_cache_sentinel")?(t={gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},n=evM.map(evL),o[0]=t,o[1]=n):(t=o[0],n=o[1]),o[2]!==l||o[3]!==c||o[4]!==e.date||o[5]!==e.focused||o[6]!==e.onSelect||o[7]!==e.selected){let t;o[9]!==l||o[10]!==c||o[11]!==e.focused||o[12]!==e.onSelect||o[13]!==e.selected?(t=(t,n)=>t.days.map((t,r)=>{let i=e.focused&&(0,tR.isSameDay)(t,e.focused),a=e.selected&&(0,tR.isSameDay)(t,e.selected),o=(0,tR.isSameDay)(t,c()),s=e.focused&&(0,tB.isSameMonth)(t,e.focused);return(0,_.jsx)(evO,{date:t,focused:i,isCurrentMonth:s,isToday:o,customValidation:l,onSelect:e.onSelect,selected:a},"".concat(n,"-").concat(r))}),o[9]=l,o[10]=c,o[11]=e.focused,o[12]=e.onSelect,o[13]=e.selected,o[14]=t):t=o[14],r=(e=>{let t=(0,tO.startOfMonth)(e);return(0,tP.eachWeekOfInterval)({start:t,end:(0,tM.lastDayOfMonth)(t)})})(e.date).map(e=>[e,...evB.map(t=>(0,tA.addDays)(e,t))]).map(e=>({number:(0,tF.getWeek)(e[0]),days:e})).map(t),o[2]=l,o[3]=c,o[4]=e.date,o[5]=e.focused,o[6]=e.onSelect,o[7]=e.selected,o[8]=r}else r=o[8];return o[15]!==r?(i=(0,_.jsxs)(I.Grid,{gap:1,style:t,children:[n,r]}),o[15]=r,o[16]=i):i=o[16],o[17]!==u||o[18]!==i?(a=(0,_.jsx)(I.Box,{"aria-hidden":u,"data-ui":"CalendarMonth",children:i}),o[17]=u,o[18]=i,o[19]=a):a=o[19],a}function evL(e){return(0,_.jsx)(I.Box,{paddingY:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",style:{textAlign:"center"},children:e})},e)}let evz={timePresets:!1},evV=e=>{let t,n,r,i,a=(0,j.c)(8);a[0]!==e?({onChange:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t?(r=e=>{let n=parseInt(e.currentTarget.value,10);isNaN(n)||t(n)},a[3]=t,a[4]=r):r=a[4];let o=r;return a[5]!==o||a[6]!==n?(i=(0,_.jsx)(Gi,{"data-testid":"date-input",...n,onChange:o,inputMode:"numeric"}),a[5]=o,a[6]=n,a[7]=i):i=a[7],i},evU=(0,_.jsx)("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),evH=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P,M,F,R,B,N,L,z,V,U,H=(0,j.c)(95),{getCurrentZoneDate:q,zoneDateToUtc:W}=K3(e.timeZoneScope);H[0]!==e?({selectTime:o,onFocusedDateChange:r,selectedDate:l,focusedDate:s,timeStep:c,onSelect:i,customValidation:n,timeZoneScope:u,...a}=e,H[0]=e,H[1]=n,H[2]=r,H[3]=i,H[4]=a,H[5]=o,H[6]=l,H[7]=s,H[8]=c,H[9]=u):(n=H[1],r=H[2],i=H[3],a=H[4],o=H[5],l=H[6],s=H[7],c=H[8],u=H[9]),H[10]!==q||H[11]!==l?(d=void 0===l?q():l,H[10]=q,H[11]=l,H[12]=d):d=H[12];let Y=d,K=void 0===s?Y:s,G=void 0===c?1:c;H[13]!==r||H[14]!==W?(p=e=>r(W(e)),H[13]=r,H[14]=W,H[15]=p):p=H[15];let $=p;H[16]!==K||H[17]!==$?(f=e=>$((0,tN.setDate)((0,tL.setMonth)(K,e),1)),H[16]=K,H[17]=$,H[18]=f):f=H[18];let Z=f;H[19]!==Z?(h=e=>Z(Number(e.currentTarget.value)),H[19]=Z,H[20]=h):h=H[20];let X=h;H[21]!==K||H[22]!==$?(m=e=>$((0,tz.addMonths)(K,e)),H[21]=K,H[22]=$,H[23]=m):m=H[23];let J=m;H[24]!==K||H[25]!==$?(g=e=>$((0,tV.setYear)(K,e)),H[24]=K,H[25]=$,H[26]=g):g=H[26];let Q=g;H[27]!==i||H[28]!==Y||H[29]!==W?(y=e=>{i(W((0,tU.setMinutes)((0,tH.setHours)(e,Y.getHours()),Y.getMinutes())))},H[27]=i,H[28]=Y,H[29]=W,H[30]=y):y=H[30];let ee=y;H[31]!==i||H[32]!==Y||H[33]!==W?(v=e=>{let t=Number(e.currentTarget.value);i(W((0,tU.setMinutes)(Y,t)))},H[31]=i,H[32]=Y,H[33]=W,H[34]=v):v=H[34];let et=v;H[35]!==i||H[36]!==Y||H[37]!==W?(b=e=>{let t=Number(e.currentTarget.value);i(W((0,tH.setHours)(Y,t)))},H[35]=i,H[36]=Y,H[37]=W,H[38]=b):b=H[38];let en=b;H[39]!==i||H[40]!==Y||H[41]!==W?(x=(e,t)=>{i(W((0,tH.setHours)((0,tU.setMinutes)(Y,t),e)))},H[39]=i,H[40]=Y,H[41]=W,H[42]=x):x=H[42];let er=x,ei=(0,E.useRef)(null);H[43]===Symbol.for("react.memo_cache_sentinel")?(C=()=>ei.current,H[43]=C):C=H[43],(0,E.useImperativeHandle)(t,C),H[44]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{var e,t;null==(t=ei.current)||null==(e=t.querySelector('[data-focused="true"]'))||e.focus()},H[44]=k):k=H[44];let ea=k;H[45]!==K||H[46]!==r||H[47]!==W?(w=e=>{if(evR.includes(e.key)){var t,n;if(e.preventDefault(),e.currentTarget.hasAttribute("data-calendar-grid"))return void ea();"ArrowUp"===e.key&&r(W((0,tA.addDays)(K,-7))),"ArrowDown"===e.key&&r(W((0,tA.addDays)(K,7))),"ArrowLeft"===e.key&&r(W((0,tA.addDays)(K,-1))),"ArrowRight"===e.key&&r(W((0,tA.addDays)(K,1))),null==(n=ei.current)||null==(t=n.querySelector("[data-preserve-focus]"))||t.focus()}},H[45]=K,H[46]=r,H[47]=W,H[48]=w):w=H[48];let eo=w;H[49]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{ea()},T=[ea],H[49]=S,H[50]=T):(S=H[49],T=H[50]),(0,E.useEffect)(S,T),H[51]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{var e;(null==(e=document.activeElement)?void 0:e.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&ea()},H[51]=D):D=H[51],H[52]!==K?(A=[ei,ea,K],H[52]=K,H[53]=A):A=H[53],(0,E.useEffect)(D,A),H[54]!==i?(O=()=>i(new Date),H[54]=i,H[55]=O):O=H[55];let el=O;return H[56]!==K?(P=null==K?void 0:K.getMonth(),H[56]=K,H[57]=P):P=H[57],H[58]!==X||H[59]!==J||H[60]!==P?(M=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(evq,{moveFocusedDate:J,onChange:X,value:P})}),H[58]=X,H[59]=J,H[60]=P,H[61]=M):M=H[61],H[62]!==K?(F=K.getFullYear(),H[62]=K,H[63]=F):F=H[63],H[64]!==J||H[65]!==Q||H[66]!==F?(R=(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(evY,{moveFocusedDate:J,onChange:Q,value:F})}),H[64]=J,H[65]=Q,H[66]=F,H[67]=R):R=H[67],H[68]!==M||H[69]!==R?(B=(0,_.jsxs)(I.Flex,{children:[M,R]}),H[68]=M,H[69]=R,H[70]=B):B=H[70],H[71]!==n||H[72]!==K||H[73]!==ee||H[74]!==Y||H[75]!==u?(N=(0,_.jsx)(evN,{date:K,focused:K,customValidation:n,onSelect:ee,selected:Y,timeZoneScope:u}),H[71]=n,H[72]=K,H[73]=ee,H[74]=Y,H[75]=u,H[76]=N):N=H[76],H[77]!==eo||H[78]!==N?(L=(0,_.jsxs)(I.Box,{"data-calendar-grid":!0,onKeyDown:eo,marginTop:2,overflow:"hidden",tabIndex:0,children:[N,evU]}),H[77]=eo,H[78]=N,H[79]=L):L=H[79],H[80]!==B||H[81]!==L?(z=(0,_.jsxs)(I.Box,{padding:2,children:[B,L]}),H[80]=B,H[81]=L,H[82]=z):z=H[82],H[83]!==en||H[84]!==et||H[85]!==el||H[86]!==er||H[87]!==o||H[88]!==Y||H[89]!==G?(V=o&&(0,_.jsxs)(I.Box,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[(0,_.jsxs)(I.Flex,{align:"center",children:[(0,_.jsxs)(I.Flex,{align:"center",flex:1,children:[(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Select,{"aria-label":"Select hour",value:null==Y?void 0:Y.getHours(),onChange:en,children:evF.map(evK)})}),(0,_.jsx)(I.Box,{paddingX:1,children:(0,_.jsx)(I.Text,{children:":"})}),(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Select,{"aria-label":"Select minutes",value:null==Y?void 0:Y.getMinutes(),onChange:et,children:(0,mU.default)(0,60,G).map(evG)})})]}),(0,_.jsx)(I.Box,{marginLeft:2,children:(0,_.jsx)(I.Button,{text:"Set to current time",mode:"bleed",onClick:el})})]}),evz.timePresets]}),H[83]=en,H[84]=et,H[85]=el,H[86]=er,H[87]=o,H[88]=Y,H[89]=G,H[90]=V):V=H[90],H[91]!==a||H[92]!==z||H[93]!==V?(U=(0,_.jsxs)(I.Box,{"data-ui":"Calendar",...a,ref:ei,children:[z,V]}),H[91]=a,H[92]=z,H[93]=V,H[94]=U):U=H[94],U});function evq(e){let t,n,r,i,a,o,l,s=(0,j.c)(16),{moveFocusedDate:c,onChange:u,value:d}=e;s[0]!==c?(t=()=>c(-1),s[0]=c,s[1]=t):t=s[1];let p=t;s[2]!==c?(n=()=>c(1),s[2]=c,s[3]=n):n=s[3];let f=n;return s[4]!==p?(r=(0,_.jsx)(I.Button,{"aria-label":"Go to previous month",onClick:p,mode:"bleed",icon:R.ChevronLeftIcon,paddingX:2,radius:0}),s[4]=p,s[5]=r):r=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(i=evP.map(evW),s[6]=i):i=s[6],s[7]!==u||s[8]!==d?(a=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Select,{radius:0,value:d,onChange:u,children:i})}),s[7]=u,s[8]=d,s[9]=a):a=s[9],s[10]!==f?(o=(0,_.jsx)(I.Button,{"aria-label":"Go to next month",mode:"bleed",icon:R.ChevronRightIcon,onClick:f,paddingX:2,radius:0}),s[10]=f,s[11]=o):o=s[11],s[12]!==r||s[13]!==a||s[14]!==o?(l=(0,_.jsxs)(I.Flex,{flex:1,children:[r,a,o]}),s[12]=r,s[13]=a,s[14]=o,s[15]=l):l=s[15],l}function evW(e,t){return(0,_.jsx)("option",{value:t,children:e},t)}function evY(e){let t,n,r,i,a,o,l,s=(0,j.c)(16),{moveFocusedDate:c,onChange:u,value:d}=e;s[0]!==c?(t=()=>c(-12),s[0]=c,s[1]=t):t=s[1];let p=t;s[2]!==c?(n=()=>c(12),s[2]=c,s[3]=n):n=s[3];let f=n;return s[4]!==p?(r=(0,_.jsx)(I.Button,{"aria-label":"Previous year",onClick:p,mode:"bleed",icon:R.ChevronLeftIcon,paddingX:2,radius:0}),s[4]=p,s[5]=r):r=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(i={width:65},s[6]=i):i=s[6],s[7]!==u||s[8]!==d?(a=(0,_.jsx)(evV,{value:d,onChange:u,radius:0,style:i}),s[7]=u,s[8]=d,s[9]=a):a=s[9],s[10]!==f?(o=(0,_.jsx)(I.Button,{"aria-label":"Next year",onClick:f,mode:"bleed",icon:R.ChevronRightIcon,paddingX:2,radius:0}),s[10]=f,s[11]=o):o=s[11],s[12]!==r||s[13]!==a||s[14]!==o?(l=(0,_.jsxs)(I.Flex,{children:[r,a,o]}),s[12]=r,s[13]=a,s[14]=o,s[15]=l):l=s[15],l}function evK(e){return(0,_.jsx)("option",{value:e,children:"".concat(e).padStart(2,"0")},e)}function evG(e){return(0,_.jsx)("option",{value:e,children:"".concat(e).padStart(2,"0")},e)}let ev$=(0,E.forwardRef)(function(e,t){let{value:n=new Date,onChange:r,customValidation:i,timeZoneScope:a,...o}=e,{utcToCurrentZoneDate:l}=K3(a),[s,c]=(0,E.useState)(),u=(0,E.useCallback)(e=>{r(e),c(void 0)},[r]);return(0,_.jsx)(evH,{...o,ref:t,selectedDate:l(n),onSelect:u,focusedDate:l(s||n),onFocusedDateChange:c,customValidation:i,timeZoneScope:a})}),evZ=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C=(0,j.c)(32);C[0]!==e?({value:u,inputValue:r,customValidation:n,onInputChange:a,onChange:i,selectTime:l,timeStep:s,timeZoneScope:c,...o}=e,C[0]=e,C[1]=n,C[2]=r,C[3]=i,C[4]=a,C[5]=o,C[6]=l,C[7]=s,C[8]=c,C[9]=u):(n=C[1],r=C[2],i=C[3],a=C[4],o=C[5],l=C[6],s=C[7],c=C[8],u=C[9]);let k=(0,E.useRef)(null),w=(0,E.useRef)(null),S=(0,E.useRef)(null);C[10]===Symbol.for("react.memo_cache_sentinel")?(d=()=>w.current,C[10]=d):d=C[10],(0,E.useImperativeHandle)(t,d);let[T,D]=(0,E.useState)(!1),A=(0,I.usePortal)();C[11]===Symbol.for("react.memo_cache_sentinel")?(p=()=>D(!1),f=()=>[k.current],C[11]=p,C[12]=f):(p=C[11],f=C[12]),(0,I.useClickOutsideEvent)(p,f),C[13]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{var e,t;null==(e=w.current)||e.focus(),null==(t=w.current)||t.select()},C[13]=h):h=C[13];let O=h;C[14]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{"Escape"===e.key&&D(!1)},C[14]=m):m=C[14];let P=m;C[15]===Symbol.for("react.memo_cache_sentinel")?(g=()=>D(!0),C[15]=g):g=C[15];let M=g;C[16]===Symbol.for("react.memo_cache_sentinel")?(y={padding:"5px"},C[16]=y):y=C[16],C[17]===Symbol.for("react.memo_cache_sentinel")?(v=(0,_.jsx)(I.Box,{style:y,children:(0,_.jsx)(I.Button,{ref:S,icon:R.CalendarIcon,mode:"bleed",padding:2,onClick:M,style:{display:"block"},"data-testid":"select-date-button"})}),C[17]=v):v=C[17];let F=v;return C[18]!==n||C[19]!==T||C[20]!==i||C[21]!==A||C[22]!==l||C[23]!==s||C[24]!==c||C[25]!==u?(b=T?(0,_.jsx)(I.LayerProvider,{zOffset:1e3,children:(0,_.jsx)(B.Popover,{constrainSize:!0,content:(0,_.jsx)(I.Box,{overflow:"auto",children:(0,_.jsx)(ts.default,{onDeactivation:O,children:(0,_.jsx)(ev$,{selectTime:l,timeStep:s,onKeyUp:P,value:u,onChange:i,customValidation:n,timeZoneScope:c})})}),"data-testid":"date-input-dialog",fallbackPlacements:["bottom","bottom-start","top-end","top","top-start"],floatingBoundary:A.element,open:!0,placement:"bottom-end",portal:!0,radius:2,ref:k,children:F})}):F,C[18]=n,C[19]=T,C[20]=i,C[21]=A,C[22]=l,C[23]=s,C[24]=c,C[25]=u,C[26]=b):b=C[26],C[27]!==r||C[28]!==a||C[29]!==o||C[30]!==b?(x=(0,_.jsx)(Gi,{"data-testid":"date-input",ref:w,...o,value:r,onChange:a,suffix:b}),C[27]=r,C[28]=a,C[29]=o,C[30]=b,C[31]=x):x=C[31],x}),evX=(0,E.forwardRef)(function(e,t){let{value:n,markers:r,title:i,description:a,placeholder:o,parseInputValue:l,formatInputValue:s,deserialize:c,serialize:u,selectTime:d,timeStep:p,readOnly:f,level:h,onChange:m,customValidation:g,timeZoneScope:y,...v}=e,[b,x]=(0,E.useState)(null);(0,E.useEffect)(()=>{x(null)},[n]);let{zoneDateToUtc:C}=K3(y),k=typeof n>"u",w=(0,E.useCallback)(e=>{let t=e.currentTarget.value,n=""===t?null:l(t);null===n?(m(null),k&&b&&x(null)):n.isValid?m(u(C(n.date))):x(t)},[k,C,b,u,m,l]),j=(0,E.useCallback)(e=>{m(e?u(e):null)},[u,m]),S=(0,E.useRef)(null);(0,E.useImperativeHandle)(t,()=>S.current);let T=(0,E.useId)(),D=b?l(b):n?c(n):null,A=b||((null==D?void 0:D.isValid)?s(D.date):n),O=(0,E.useMemo)(()=>r.map(e=>{var t,n;return{level:e.level,path:e.path,message:null!=(n=e.message)?n:null==(t=e.item)?void 0:t.message}}),[r]);return(0,_.jsx)(Hq,{validation:(null==D?void 0:D.error)?[...O,{level:"error",message:D.error,path:[]}]:O,title:i,level:h,description:a,inputId:T,children:f?(0,_.jsx)(I.TextInput,{value:A,readOnly:!0}):(0,_.jsx)(evZ,{...v,id:T,selectTime:d,timeStep:p,placeholder:o||"e.g. ".concat(s(new Date)),ref:S,value:null==D?void 0:D.date,inputValue:A||"",readOnly:!!f,onInputChange:w,onChange:j,customValidity:null==D?void 0:D.error,customValidation:g,timeZoneScope:y})})});function evJ(e){return e.toISOString()}function evQ(e){let t=new Date(e);return t instanceof Date&&!isNaN(t.valueOf())?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}let ev1=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d=(0,j.c)(30);d[0]!==e?({type:a,onChange:n,timeZoneScope:i,...r}=e,d[0]=e,d[1]=n,d[2]=r,d[3]=i,d[4]=a):(n=d[1],r=d[2],i=d[3],a=d[4]);let{title:p,description:f,placeholder:h}=a,{scheduledPublishing:m}=FU(),g=m.inputDateTimeFormat,{getCurrentZoneDate:y,timeZone:v}=K3(i);d[5]!==a.options?(o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{customValidation:e.customValidation||function(){return!0},customValidationMessage:e.customValidationMessage||"Invalid date.",calendarTodayLabel:e.calendarTodayLabel||"Today",timeStep:"timeStep"in e&&Number(e.timeStep)||1}}(a.options),d[5]=a.options,d[6]=o):o=d[6];let{customValidation:b,customValidationMessage:x,timeStep:C}=o;d[7]!==n||d[8]!==C?(l=e=>{let t=e;null!==t&&C>1&&(t=function(e,t){if(!t||1===t)return e;let n=(0,tq.parseISO)(e),r=(0,tW.getMinutes)(n),i=r%t;return evJ(0!==i?(0,tU.setMinutes)(n,r-i):n)}(t,C)),n(t)},d[7]=n,d[8]=C,d[9]=l):l=d[9];let k=l;d[10]!==g||d[11]!==v.name?(s=e=>KY(e,v.name,"".concat(g)),d[10]=g,d[11]=v.name,d[12]=s):s=d[12];let w=s;d[13]!==b||d[14]!==x||d[15]!==y||d[16]!==g?(c=e=>{let t=(0,tk.parse)(e,"".concat(g),y());return(0,tC.isValid)(t)?b(t)?{isValid:!0,date:t}:{isValid:!1,error:x}:{isValid:!1,error:'Invalid date. Must be in the format "'.concat(g,'"')}},d[13]=b,d[14]=x,d[15]=y,d[16]=g,d[17]=c):c=d[17];let S=c;return d[18]!==b||d[19]!==f||d[20]!==w||d[21]!==t||d[22]!==k||d[23]!==S||d[24]!==h||d[25]!==r||d[26]!==C||d[27]!==i||d[28]!==p?(u=(0,_.jsx)(evX,{...r,onChange:k,ref:t,selectTime:!0,timeStep:C,title:p,description:f,placeholder:h,serialize:evJ,deserialize:evQ,formatInputValue:w,customValidation:b,parseInputValue:S,timeZoneScope:i}),d[18]=b,d[19]=f,d[20]=w,d[21]=t,d[22]=k,d[23]=S,d[24]=h,d[25]=r,d[26]=C,d[27]=i,d[28]=p,d[29]=u):u=d[29],u}),ev2=e=>{let t,n,r,i,a,o=(0,j.c)(11),{onChange:l,value:s}=e,{getCurrentZoneDate:c}=K3(eyy),[u,d]=(0,E.useState)();o[0]!==l?(t=e=>{e&&l&&(l({date:e}),d(e))},o[0]=l,o[1]=t):t=o[1];let p=t;o[2]!==c?(n=e=>e>c(),o[2]=c,o[3]=n):n=o[3];let f=n;o[4]===Symbol.for("react.memo_cache_sentinel")?(r=[],o[4]=r):r=o[4],o[5]!==f?(i={name:"date",options:{customValidation:f,customValidationMessage:"Date cannot be in the past."},title:"Date and time"},o[5]=f,o[6]=i):i=o[6];let h=void 0===u?null==s?void 0:s.date:u;return o[7]!==p||o[8]!==i||o[9]!==h?(a=(0,_.jsx)(I.Stack,{space:4,children:(0,_.jsx)(I.Card,{children:(0,_.jsx)(ev1,{level:0,markers:r,onChange:p,type:i,value:h,timeZoneScope:eyy})})}),o[7]=p,o[8]=i,o[9]=h,o[10]=a):a=o[10],a};function ev0(e){let t,n,r=(0,j.c)(6),{onChange:i,value:a}=e;return r[0]!==i||r[1]!==a?(t=(0,_.jsx)(ev2,{onChange:i,value:a}),r[0]=i,r[1]=a,r[2]=t):t=r[2],r[3]!==e.children||r[4]!==t?(n=(0,_.jsxs)(I.Stack,{space:4,children:[e.children,t]}),r[3]=e.children,r[4]=t,r[5]=n):n=r[5],n}let ev5=e=>{let t,n,r,i,a,o=(0,j.c)(12),{title:l,timeZoneScope:s}=e,{timeZone:c}=K3(s),{t:u}=IO();return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)("input",{style:{opacity:0,position:"absolute",width:0},tabIndex:-1,type:"button"}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(n={marginTop:"-1em",marginBottom:"-1em"},o[1]=n):n=o[1],o[2]!==u||o[3]!==c.alternativeName||o[4]!==c.offset?(r=u("time-zone.time-zone-tooltip-scheduled-publishing",{alternativeName:c.alternativeName,offset:c.offset}),o[2]=u,o[3]=c.alternativeName,o[4]=c.offset,o[5]=r):r=o[5],o[6]!==r||o[7]!==s?(i=(0,_.jsx)(I.Box,{marginLeft:2,style:n,children:(0,_.jsx)(GA,{tooltipContent:r,timeZoneScope:s,useElementQueries:!0})}),o[6]=r,o[7]=s,o[8]=i):i=o[8],o[9]!==i||o[10]!==l?(a=(0,_.jsx)(eyk,{children:(0,_.jsxs)(I.Flex,{align:"center",children:[l,t,i]})}),o[9]=i,o[10]=l,o[11]=a):a=o[11],a},ev7=e=>{let{onClose:t,schedule:n}=e,{updateSchedule:r}=evu(),{formData:i,isDirty:a,onFormChange:o}=evA(n),l=(0,E.useCallback)(()=>{(null==i?void 0:i.date)&&r({date:i.date,scheduleId:n.id}).then(t)},[n.id,r,t,null==i?void 0:i.date]);return(0,_.jsx)(B.Dialog,{footer:{confirmButton:{text:"Update",disabled:!a,onClick:l}},header:(0,_.jsx)(ev5,{timeZoneScope:eyy,title:"Edit schedule"}),id:"time-zone",onClose:t,width:1,children:(0,_.jsx)(ev0,{onChange:o,value:i})})};function ev3(e,t){let n,r,i=(0,j.c)(10),{visible:a,show:o,hide:l,timeZoneScope:s}=function(e){let t,n,r,i=(0,j.c)(5),[a,o]=(0,E.useState)(!1);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{o(!1)},i[0]=t):t=i[0];let l=t;i[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{o(!0)},i[1]=n):n=i[1];let s=n;return i[2]!==a||i[3]!==e?(r={visible:a,show:s,timeZoneScope:e,hide:l},i[2]=a,i[3]=e,i[4]=r):r=i[4],r}(t);i[0]!==l||i[1]!==e||i[2]!==a?(n={onClose:l,schedule:e,visible:a},i[0]=l,i[1]=e,i[2]=a,i[3]=n):n=i[3];let c=n,u=a?ev7:null;return i[4]!==c||i[5]!==l||i[6]!==o||i[7]!==u||i[8]!==s?(r={DialogScheduleEdit:u,dialogProps:c,timeZoneScope:s,dialogScheduleEditShow:o,hide:l},i[4]=c,i[5]=l,i[6]=o,i[7]=u,i[8]=s,i[9]=r):r=i[9],r}let ev8=e=>{let t,n,r,i=(0,j.c)(13),{currentUser:a,hasPermission:o,icon:l,onClick:s,permissionsOperationLabel:c,title:u,tone:d,disabled:p}=e;i[0]!==a||i[1]!==c?(t=(0,_.jsx)(I.Box,{paddingX:2,paddingY:1,children:(0,_.jsx)(es3,{currentUser:a,context:c})}),i[0]=a,i[1]=c,i[2]=t):t=i[2];let f=!o||p;return i[3]!==l||i[4]!==s||i[5]!==f||i[6]!==u||i[7]!==d?(n=(0,_.jsx)("div",{children:(0,_.jsx)(B.MenuItem,{disabled:f,icon:l,onClick:s,text:u,tone:d})}),i[3]=l,i[4]=s,i[5]=f,i[6]=u,i[7]=d,i[8]=n):n=i[8],i[9]!==o||i[10]!==t||i[11]!==n?(r=(0,_.jsx)(B.Tooltip,{content:t,disabled:o,placement:"left",portal:!0,children:n}),i[9]=o,i[10]=t,i[11]=n,i[12]=r):r=i[12],r},ev4=e=>{let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(43),{actions:p,onDelete:f,onEdit:h,schedule:m,schemaType:g}=e,{mode:y}=eyC();d[0]!==m?(t=evS(m),d[0]=m,d[1]=t):t=d[1];let v=t,b=A6(),x=null==g?void 0:g.name;d[2]!==v.documentId||d[3]!==x?(n={id:v.documentId,type:x,permission:"publish"},d[2]=v.documentId,d[3]=x,d[4]=n):n=d[4];let[C,k]=Mp(n),{deleteSchedule:w,publishSchedule:S}=evu(),E=!k&&!(null==C?void 0:C.granted);d[5]!==h?(r=()=>{null==h||h()},d[5]=h,d[6]=r):r=d[6];let T=r;d[7]!==w||d[8]!==f||d[9]!==m?(i=()=>{w({schedule:m}).then(()=>null==f?void 0:f())},d[7]=w,d[8]=f,d[9]=m,d[10]=i):i=d[10];let D=i;d[11]!==S||d[12]!==m?(a=()=>{S({schedule:m})},d[11]=S,d[12]=m,d[13]=a):a=d[13];let I=a;return b?(d[14]!==(null==p?void 0:p.edit)||d[15]!==b||d[16]!==T||d[17]!==E||d[18]!==y?(o=(null==p?void 0:p.edit)&&(0,_.jsx)(ev8,{currentUser:b,hasPermission:!E,icon:R.CalendarIcon,onClick:T,permissionsOperationLabel:"edit-schedules",title:"Edit schedule",disabled:"upsell"===y}),d[14]=null==p?void 0:p.edit,d[15]=b,d[16]=T,d[17]=E,d[18]=y,d[19]=o):o=d[19],d[20]!==(null==p?void 0:p.execute)||d[21]!==b||d[22]!==I||d[23]!==E||d[24]!==y?(l=(null==p?void 0:p.execute)&&(0,_.jsx)(ev8,{currentUser:b,hasPermission:!E,icon:R.PublishIcon,onClick:I,permissionsOperationLabel:"execute-schedules",title:"Publish now",disabled:"upsell"===y}),d[20]=null==p?void 0:p.execute,d[21]=b,d[22]=I,d[23]=E,d[24]=y,d[25]=l):l=d[25],d[26]!==(null==p?void 0:p.delete)||d[27]!==b||d[28]!==D||d[29]!==E||d[30]!==y?(s=(null==p?void 0:p.delete)&&(0,_.jsx)(ev8,{currentUser:b,hasPermission:!E,icon:R.TrashIcon,onClick:D,permissionsOperationLabel:"delete-schedules",title:"Delete schedule",tone:"critical",disabled:"upsell"===y}),d[26]=null==p?void 0:p.delete,d[27]=b,d[28]=D,d[29]=E,d[30]=y,d[31]=s):s=d[31],d[32]!==(null==p?void 0:p.clear)||d[33]!==b||d[34]!==D||d[35]!==E||d[36]!==y?(c=(null==p?void 0:p.clear)&&(0,_.jsx)(ev8,{currentUser:b,hasPermission:!E,icon:R.CheckmarkCircleIcon,onClick:D,permissionsOperationLabel:"delete-schedules",title:"Clear completed schedule",disabled:"upsell"===y}),d[32]=null==p?void 0:p.clear,d[33]=b,d[34]=D,d[35]=E,d[36]=y,d[37]=c):c=d[37],d[38]!==o||d[39]!==l||d[40]!==s||d[41]!==c?(u=(0,_.jsxs)(_.Fragment,{children:[o,l,s,c]}),d[38]=o,d[39]=l,d[40]=s,d[41]=c,d[42]=u):u=d[42],u):null},ev6=e=>{let t,n,r,i,a=(0,j.c)(10),{actions:o,onDelete:l,onEdit:s,schedule:c,schemaType:u}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(DO,{}),a[0]=t):t=a[0],a[1]!==o||a[2]!==l||a[3]!==s||a[4]!==c||a[5]!==u?(n=(0,_.jsx)(I.Menu,{children:(0,_.jsx)(ev4,{actions:o,onDelete:l,onEdit:s,schedule:c,schemaType:u})}),a[1]=o,a[2]=l,a[3]=s,a[4]=c,a[5]=u,a[6]=n):n=a[6],a[7]===Symbol.for("react.memo_cache_sentinel")?(r={portal:!0,tone:"default"},a[7]=r):r=a[7],a[8]!==n?(i=(0,_.jsx)(B.MenuButton,{button:t,id:"contextMenu",menu:n,placement:"left",popover:r}),a[8]=n,a[9]=i):i=a[9],i},ev9={validation:[],isValidating:!1};function ebe(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ev9.validation,t=e.filter(W.isValidationErrorMarker).length>0,n=e.filter(W.isValidationWarningMarker).length>0,r="default";return n&&(r="default"),t&&(r="critical"),{markers:e,validationTone:r,hasError:t,hasWarning:n}}(e),n[0]=e,n[1]=t):t=n[1],t}function ebt(e){let t,n,r=(0,j.c)(6),{schedule:i,updateValidation:a}=e,o=evT(i);r[0]!==i?(t=evE(i),r[0]=i,r[1]=t):t=r[1];let l=t;return l&&(null==o?void 0:o.name)?(r[2]!==l||r[3]!==o.name||r[4]!==a?(n=(0,_.jsx)(ebn,{id:l,schemaName:o.name,updateValidation:a}),r[2]=l,r[3]=o.name,r[4]=a,r[5]=n):n=r[5],n):null}function ebn(e){let t,n,r,i=(0,j.c)(6),{id:a,schemaName:o,updateValidation:l}=e,[s,c]=(0,E.useState)(!1);return(i[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=setTimeout(()=>{c(!0)},1500);return()=>{clearTimeout(e)}},n=[],i[0]=t,i[1]=n):(t=i[0],n=i[1]),(0,E.useEffect)(t,n),s)?(i[2]!==a||i[3]!==o||i[4]!==l?(r=(0,_.jsx)(ebr,{id:a,schemaName:o,updateValidation:l}),i[2]=a,i[3]=o,i[4]=l,i[5]=r):r=i[5],r):null}function ebr(e){let t,n,r=(0,j.c)(4),{id:i,schemaName:a,updateValidation:o}=e,l=euh(i,a);return r[0]!==o||r[1]!==l?(t=()=>{l.isValidating||o(l)},n=[o,l],r[0]=o,r[1]=l,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n),null}function ebi(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=e?e.replaceAll("drafts.",""):void 0,n[0]=e,n[1]=t):t=n[1],t}let eba=(0,F.styled)(I.Text)(Ea()),ebo={error:"critical",warning:"caution",info:"primary"};function ebl(e){var t,n;let r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(30),{marker:m,onClick:g,path:y,truncate:v}=e;h[0]!==m.path||h[1]!==g?(r=()=>{g&&g(m.path)},h[0]=m.path,h[1]=g,h[2]=r):r=h[2];let b=r,x=ebo[null==m?void 0:m.level]||void 0,C=null!=(n=m.message)?n:null==(t=m.item)?void 0:t.message;h[3]!==m.level?(i="error"===m.level&&(0,_.jsx)(R.ErrorOutlineIcon,{}),h[3]=m.level,h[4]=i):i=h[4],h[5]!==m.level?(a="warning"===m.level&&(0,_.jsx)(R.WarningOutlineIcon,{}),h[5]=m.level,h[6]=a):a=h[6],h[7]!==m.level?(o="info"===m.level&&(0,_.jsx)(R.InfoOutlineIcon,{}),h[7]=m.level,h[8]=o):o=h[8],h[9]!==i||h[10]!==a||h[11]!==o?(l=(0,_.jsx)(I.Box,{children:(0,_.jsxs)(I.Text,{size:1,children:[i,a,o]})}),h[9]=i,h[10]=a,h[11]=o,h[12]=l):l=h[12],h[13]!==y?(s=y&&(0,_.jsx)(eba,{size:1,weight:"semibold",children:y}),h[13]=y,h[14]=s):s=h[14],h[15]!==C||h[16]!==v?(c=C&&(0,_.jsx)(eba,{muted:!0,size:1,textOverflow:v?"ellipsis":void 0,children:C}),h[15]=C,h[16]=v,h[17]=c):c=h[17],h[18]!==s||h[19]!==c?(u=(0,_.jsxs)(I.Stack,{space:2,flex:1,paddingLeft:3,children:[s,c]}),h[18]=s,h[19]=c,h[20]=u):u=h[20],h[21]!==l||h[22]!==u?(d=(0,_.jsxs)(I.Flex,{children:[l,u]}),h[21]=l,h[22]=u,h[23]=d):d=h[23];let k=d;return h[24]!==k?(p=(0,_.jsx)(I.Box,{padding:2,children:k}),h[24]=k,h[25]=p):p=h[25],h[26]!==b||h[27]!==x||h[28]!==p?(f=(0,_.jsx)(I.MenuItem,{padding:1,onClick:b,radius:2,tone:x,children:p}),h[26]=b,h[27]=x,h[28]=p,h[29]=f):f=h[29],f}function ebs(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(27),{documentType:d,kind:p,validation:f,onFocus:h,onClose:m,truncate:g}=e;if(u[0]!==d||u[1]!==p||u[2]!==m||u[3]!==h||u[4]!==g||u[5]!==f){s=Symbol.for("react.early_return_sentinel");e:{let e,c,y=f.filter(W.isValidationErrorMarker),v=f.filter(W.isValidationWarningMarker),b=f.filter(W.isValidationInfoMarker);u[14]!==m||u[15]!==h?(e=e=>{h&&h(void 0===e?[]:e),m&&m()},u[14]=m,u[15]=h,u[16]=e):e=u[16];let x=e;u[17]!==d?(c=e=>{let t=d&&d.fields,n=t&&t.find(t=>t.name===e[0]);return n&&n.type.title||""},u[17]=d,u[18]=c):c=u[18];let C=c,k=y.length>0,w=v.length>0,j=b.length>0;if(!k&&!w&&!j){s=null;break e}t=I.Container,n=0,r=p,i="validation-list",a=k&&y.map((e,t)=>(0,_.jsx)(ebl,{truncate:g,path:C(e.path),marker:e,onClick:x},t)),o=w&&v.map((e,t)=>(0,_.jsx)(ebl,{truncate:g,path:C(e.path),marker:e,onClick:x},t)),l=j&&b.map((e,t)=>(0,_.jsx)(ebl,{truncate:g,path:C(e.path),marker:e,onClick:x},t))}u[0]=d,u[1]=p,u[2]=m,u[3]=h,u[4]=g,u[5]=f,u[6]=t,u[7]=n,u[8]=r,u[9]=i,u[10]=a,u[11]=o,u[12]=l,u[13]=s}else t=u[6],n=u[7],r=u[8],i=u[9],a=u[10],o=u[11],l=u[12],s=u[13];return s!==Symbol.for("react.early_return_sentinel")?s:(u[19]!==t||u[20]!==n||u[21]!==r||u[22]!==i||u[23]!==a||u[24]!==o||u[25]!==l?(c=(0,_.jsxs)(t,{width:n,"data-kind":r,"data-testid":i,children:[a,o,l]}),u[19]=t,u[20]=n,u[21]=r,u[22]=i,u[23]=a,u[24]=o,u[25]=l,u[26]=c):c=u[26],c)}let ebc={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0,placement:"bottom-end"};function ebu(e){let t,n,r,i,a,o,l,s=(0,j.c)(21),{type:c,markers:u,menuHeader:d,documentId:p}=e,f=(0,nr.useRouter)(),{hasError:h,hasWarning:m}=ebe(u),g=h||m?"visible":"hidden",y=(0,E.useId)()||"",v=ebi(p);s[0]!==v||s[1]!==f?(t=e=>{v&&f.navigateIntent("edit",{id:v,path:encodeURIComponent(S.toString(e))})},s[0]=v,s[1]=f,s[2]=t):t=s[2];let b=t,x=y||"";s[3]===Symbol.for("react.memo_cache_sentinel")?(n={content:"Show validation issues"},s[3]=n):n=s[3];let C=h?R.ErrorOutlineIcon:R.WarningOutlineIcon;s[4]!==g?(r={visibility:g},s[4]=g,s[5]=r):r=s[5];let k=h?"critical":"default";s[6]!==C||s[7]!==r||s[8]!==k?(i=(0,_.jsx)(B.Button,{tooltipProps:n,mode:"bleed","data-testid":"schedule-validation-list-button",icon:C,style:r,tone:k}),s[6]=C,s[7]=r,s[8]=k,s[9]=i):i=s[9];let w=null!=d?d:null;return s[10]!==u||s[11]!==b||s[12]!==c?(a=(0,_.jsx)(ebs,{documentType:c,validation:u,onFocus:b}),s[10]=u,s[11]=b,s[12]=c,s[13]=a):a=s[13],s[14]!==w||s[15]!==a?(o=(0,_.jsx)(I.Menu,{padding:1,children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsxs)(I.Stack,{space:1,children:[w,a]})})}),s[14]=w,s[15]=a,s[16]=o):o=s[16],s[17]!==x||s[18]!==o||s[19]!==i?(l=(0,_.jsx)(B.MenuButton,{id:x,button:i,menu:o,popover:ebc}),s[17]=x,s[18]=o,s[19]=i,s[20]=l):l=s[20],l}let ebd=e=>{let t,n,r,i,a,o,l,s,c=(0,j.c)(22),{date:u,useElementQueries:d}=e;c[0]===Symbol.for("react.memo_cache_sentinel")?(t={type:"scheduledPublishing"},c[0]=t):t=c[0];let{formatDateTz:p}=K3(t);c[1]!==u?(n=(0,t3.formatDistance)(u,new Date,{addSuffix:!0}),c[1]=u,c[2]=n):n=c[2];let f=n;c[3]!==u||c[4]!==p?(r=p({date:u,format:KG.LARGE}),c[3]=u,c[4]=p,c[5]=r):r=c[5];let h=r;c[6]!==u||c[7]!==p?(i=p({date:u,format:KG.MEDIUM}),c[6]=u,c[7]=p,c[8]=i):i=c[8];let m=i;c[9]!==u||c[10]!==p?(a=p({date:u,format:KG.SMALL}),c[9]=u,c[10]=p,c[11]=a):a=c[11];let g=a;return c[12]!==h||c[13]!==m||c[14]!==g||c[15]!==d?(o=d?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{className:"date-small",children:g}),(0,_.jsx)("span",{className:"date-medium",children:m}),(0,_.jsx)("span",{className:"date-large",children:h})]}):h,c[12]=h,c[13]=m,c[14]=g,c[15]=d,c[16]=o):o=c[16],c[17]!==o?(l=(0,_.jsx)("span",{children:o}),c[17]=o,c[18]=l):l=c[18],c[19]!==f||c[20]!==l?(s=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",children:(0,_.jsx)(B.Tooltip,{content:f,portal:!0,children:l})}),c[19]=f,c[20]=l,c[21]=s):s=c[21],s},ebp={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0},ebf=e=>{let t,n,r,i,a,o=(0,j.c)(6),{stateReason:l}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(B.Button,{tooltipProps:{content:"Schedule failed"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:R.ErrorOutlineIcon,tone:"critical"}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Text,{size:1,children:"This schedule failed to run."}),o[1]=n):n=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Text,{size:1,style:{color:z.red[700].hex},children:(0,_.jsx)(R.ErrorOutlineIcon,{})}),o[2]=r):r=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(i={color:z.red[700].hex},o[3]=i):i=o[3],o[4]!==l?(a=(0,_.jsx)(B.MenuButton,{id:"stateReason",button:t,menu:(0,_.jsx)(I.Menu,{padding:1,children:(0,_.jsxs)(I.Container,{padding:2,width:0,children:[n,(0,_.jsxs)(I.Flex,{gap:3,marginTop:4,padding:1,children:[r,(0,_.jsx)(I.Text,{size:1,style:i,weight:"medium",children:l})]})]})}),popover:ebp}),o[4]=l,o[5]=a):a=o[5],a},ebh=e=>{let t,n=(0,j.c)(2),{id:r}=e;return n[0]!==r?(t=(0,_.jsx)(Ri,{user:r,withTooltip:!0}),n[0]=r,n[1]=t):t=n[1],t},ebm=(0,F.styled)(I.Box)(Eo()),ebg=e=>{let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D,A,O,P,M,F,R,N,L,z,V,U,H,q,W,Y,K,G,$,Z,X,J,Q,ee,et,en,er,ei,ea,eo,el,es,ec,eu,ed,ep,ef,eh,em,eg,ey,ev,eb=(0,j.c)(163),{children:ex,contextMenu:eC,linkComponent:ek,onClick:ew,previewState:e_,publishedDocumentId:ej,schedule:eS,schemaType:eE,useElementQueries:eT}=e,{mode:eD}=eyC(),[eI,eA]=(0,E.useState)(ev9),{validation:eO}=eI,{hasError:eP,validationTone:eM}=ebe(eO);eb[0]===Symbol.for("react.memo_cache_sentinel")?(t={type:"scheduledPublishing"},eb[0]=t):t=eb[0];let{formatDateTz:eF}=K3(t);if(eb[1]!==ex||eb[2]!==eF||eb[3]!==ek||eb[4]!==eD||eb[5]!==ew||eb[6]!==(null==e_?void 0:e_.draft)||eb[7]!==(null==e_?void 0:e_.published)||eb[8]!==eS||eb[9]!==eM){let e=evn(eS);c=e?new Date(e):null,s=I.Card,P=1,M=2,F=1,N=eM,eb[49]!==eD||eb[50]!==eS.state?(L="upsell"===eD&&"scheduled"===eS.state?{opacity:.7}:void 0,eb[49]=eD,eb[50]=eS.state,eb[51]=L):L=eb[51],l=I.Flex,D="center",A=1,O="space-between",o=B.Tooltip,eb[52]===Symbol.for("react.memo_cache_sentinel")?(k={open:400},eb[52]=k):k=eb[52],w="bottom-end";let t=null==e_?void 0:e_.draft,j=null==e_?void 0:e_.published;eb[53]!==t||eb[54]!==j?(S=(0,_.jsx)(eTv,{draft:t,published:j}),eb[53]=t,eb[54]=j,eb[55]=S):S=eb[55],T=!(null==e_?void 0:e_.draft)&&!(null==e_?void 0:e_.published),a=I.Card,p=!0,f=ek||void 0,h=ew||ek?"a":void 0,m=1,g=ew,y=1,v=2,b=0,x=eM,i=I.Flex,V="center",U=3,H="flex-start",eb[56]!==ex?(q=ex?0:[1,2],eb[56]=ex,eb[57]=q):q=eb[57],eb[58]!==ex?(W=ex&&(0,_.jsx)(I.Box,{style:{flexBasis:"auto",flexGrow:1},children:ex}),eb[58]=ex,eb[59]=W):W=eb[59],eb[60]!==eS.action?(d="unpublish"===eS.action&&(0,_.jsx)(I.Flex,{style:{flexShrink:0},children:(0,_.jsx)(I.Badge,{fontSize:0,mode:"outline",tone:eyp[eS.action].badgeTone,children:eS.action})}),eb[60]=eS.action,eb[61]=d):d=eb[61],r=I.Box,eb[62]===Symbol.for("react.memo_cache_sentinel")?(R=["block","none"],z={flexShrink:0,width:"90px"},eb[62]=R,eb[63]=z):(R=eb[62],z=eb[63]),n=I.Stack,u=2,C=c?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Text,{size:1,children:eF({date:c,format:"dd/MM/yyyy"})}),(0,_.jsx)(I.Text,{size:1,children:eF({date:c,format:"p"})})]}):(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)("em",{children:"No date specified"})}),eb[1]=ex,eb[2]=eF,eb[3]=ek,eb[4]=eD,eb[5]=ew,eb[6]=null==e_?void 0:e_.draft,eb[7]=null==e_?void 0:e_.published,eb[8]=eS,eb[9]=eM,eb[10]=n,eb[11]=r,eb[12]=i,eb[13]=a,eb[14]=o,eb[15]=l,eb[16]=s,eb[17]=c,eb[18]=u,eb[19]=d,eb[20]=p,eb[21]=f,eb[22]=h,eb[23]=m,eb[24]=g,eb[25]=y,eb[26]=v,eb[27]=b,eb[28]=x,eb[29]=C,eb[30]=k,eb[31]=w,eb[32]=S,eb[33]=T,eb[34]=D,eb[35]=A,eb[36]=O,eb[37]=P,eb[38]=M,eb[39]=F,eb[40]=R,eb[41]=N,eb[42]=L,eb[43]=z,eb[44]=V,eb[45]=U,eb[46]=H,eb[47]=q,eb[48]=W}else n=eb[10],r=eb[11],i=eb[12],a=eb[13],o=eb[14],l=eb[15],s=eb[16],c=eb[17],u=eb[18],d=eb[19],p=eb[20],f=eb[21],h=eb[22],m=eb[23],g=eb[24],y=eb[25],v=eb[26],b=eb[27],x=eb[28],C=eb[29],k=eb[30],w=eb[31],S=eb[32],T=eb[33],D=eb[34],A=eb[35],O=eb[36],P=eb[37],M=eb[38],F=eb[39],R=eb[40],N=eb[41],L=eb[42],z=eb[43],V=eb[44],U=eb[45],H=eb[46],q=eb[47],W=eb[48];eb[64]!==n||eb[65]!==u||eb[66]!==C?(Y=(0,_.jsx)(n,{space:u,children:C}),eb[64]=n,eb[65]=u,eb[66]=C,eb[67]=Y):Y=eb[67],eb[68]!==r||eb[69]!==R||eb[70]!==Y||eb[71]!==z?(K=(0,_.jsx)(r,{display:R,style:z,children:Y}),eb[68]=r,eb[69]=R,eb[70]=Y,eb[71]=z,eb[72]=K):K=eb[72],eb[73]===Symbol.for("react.memo_cache_sentinel")?(G=["none","block"],eb[73]=G):G=eb[73];let eR=ex?"35%":"auto";eb[74]!==eR?($={flexShrink:0,maxWidth:"250px",width:eR},eb[74]=eR,eb[75]=$):$=eb[75],eb[76]!==c||eb[77]!==eT?(Z=c?(0,_.jsx)(ebd,{date:c,useElementQueries:eT}):(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)("em",{children:"No date specified"})}),eb[76]=c,eb[77]=eT,eb[78]=Z):Z=eb[78],eb[79]!==$||eb[80]!==Z?(X=(0,_.jsx)(I.Box,{display:G,style:$,children:Z}),eb[79]=$,eb[80]=Z,eb[81]=X):X=eb[81],eb[82]!==ex?(J=!ex&&(0,_.jsx)(I.Box,{style:{visibility:"hidden"},children:(0,_.jsx)(q8,{isPlaceholder:!0})}),eb[82]=ex,eb[83]=J):J=eb[83],eb[84]===Symbol.for("react.memo_cache_sentinel")?(Q={flexShrink:0,marginLeft:"auto"},eb[84]=Q):Q=eb[84],eb[85]===Symbol.for("react.memo_cache_sentinel")?(ee=["none","none","block"],eb[85]=ee):ee=eb[85],eb[86]===Symbol.for("react.memo_cache_sentinel")?(et={flexShrink:0},eb[86]=et):et=eb[86];let eB=null==eS?void 0:eS.author;return eb[87]!==eB?(en=(0,_.jsx)(I.Box,{display:ee,marginX:3,style:et,children:(0,_.jsx)(ebh,{id:eB})}),eb[87]=eB,eb[88]=en):en=eb[88],eb[89]===Symbol.for("react.memo_cache_sentinel")?(er=["none","block"],ei=[2,2,3],ea={flexShrink:0},eb[89]=er,eb[90]=ei,eb[91]=ea):(er=eb[89],ei=eb[90],ea=eb[91]),eb[92]!==ej?(eo=(0,_.jsx)(I.Box,{display:er,marginX:ei,style:ea,children:ej?(0,_.jsx)(eby,{publishedDocumentId:ej}):(0,_.jsx)(ebm,{})}),eb[92]=ej,eb[93]=eo):eo=eb[93],eb[94]!==en||eb[95]!==eo?(el=(0,_.jsxs)(I.Flex,{align:"center",style:Q,children:[en,eo]}),eb[94]=en,eb[95]=eo,eb[96]=el):el=eb[96],eb[97]!==i||eb[98]!==d||eb[99]!==K||eb[100]!==X||eb[101]!==J||eb[102]!==el||eb[103]!==V||eb[104]!==U||eb[105]!==H||eb[106]!==q||eb[107]!==W?(es=(0,_.jsxs)(i,{align:V,gap:U,justify:H,paddingLeft:q,children:[W,d,K,X,J,el]}),eb[97]=i,eb[98]=d,eb[99]=K,eb[100]=X,eb[101]=J,eb[102]=el,eb[103]=V,eb[104]=U,eb[105]=H,eb[106]=q,eb[107]=W,eb[108]=es):es=eb[108],eb[109]!==a||eb[110]!==p||eb[111]!==f||eb[112]!==h||eb[113]!==m||eb[114]!==g||eb[115]!==y||eb[116]!==v||eb[117]!==b||eb[118]!==x||eb[119]!==es?(ec=(0,_.jsx)(a,{__unstable_focusRing:p,as:f,"data-as":h,flex:m,onClick:g,padding:y,radius:v,tabIndex:b,tone:x,children:es}),eb[109]=a,eb[110]=p,eb[111]=f,eb[112]=h,eb[113]=m,eb[114]=g,eb[115]=y,eb[116]=v,eb[117]=b,eb[118]=x,eb[119]=es,eb[120]=ec):ec=eb[120],eb[121]!==o||eb[122]!==k||eb[123]!==w||eb[124]!==S||eb[125]!==T||eb[126]!==ec?(eu=(0,_.jsx)(o,{delay:k,placement:w,content:S,disabled:T,children:ec}),eb[121]=o,eb[122]=k,eb[123]=w,eb[124]=S,eb[125]=T,eb[126]=ec,eb[127]=eu):eu=eb[127],eb[128]===Symbol.for("react.memo_cache_sentinel")?(ed={width:"38px"},eb[128]=ed):ed=eb[128],eb[129]!==eP||eb[130]!==ej||eb[131]!==eS||eb[132]!==eE||eb[133]!==eO?(ep="scheduled"===eS.state&&(0,_.jsxs)(I.Box,{children:[(0,_.jsx)(ebt,{schedule:eS,updateValidation:eA}),(0,_.jsx)(ebu,{markers:eO,type:eE,documentId:ej,menuHeader:(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{size:1,children:eP?eym:"This document has validation warnings."})})})]}),eb[129]=eP,eb[130]=ej,eb[131]=eS,eb[132]=eE,eb[133]=eO,eb[134]=ep):ep=eb[134],eb[135]!==eS.state||eb[136]!==eS.stateReason?(ef="cancelled"===eS.state&&(0,_.jsx)(ebf,{stateReason:eS.stateReason}),eb[135]=eS.state,eb[136]=eS.stateReason,eb[137]=ef):ef=eb[137],eb[138]!==ep||eb[139]!==ef?(eh=(0,_.jsxs)(I.Flex,{justify:"center",style:ed,children:[ep,ef]}),eb[138]=ep,eb[139]=ef,eb[140]=eh):eh=eb[140],eb[141]!==eS.state||eb[142]!==eS.stateReason?(em="cancelled"===eS.state&&(0,_.jsx)(ebf,{stateReason:eS.stateReason}),eb[141]=eS.state,eb[142]=eS.stateReason,eb[143]=em):em=eb[143],eb[144]!==eC?(eg=eC&&(0,_.jsx)(I.Box,{style:{flexShrink:0},paddingRight:2,children:eC}),eb[144]=eC,eb[145]=eg):eg=eb[145],eb[146]!==l||eb[147]!==D||eb[148]!==A||eb[149]!==O||eb[150]!==eu||eb[151]!==eh||eb[152]!==em||eb[153]!==eg?(ey=(0,_.jsxs)(l,{align:D,gap:A,justify:O,children:[eu,eh,em,eg]}),eb[146]=l,eb[147]=D,eb[148]=A,eb[149]=O,eb[150]=eu,eb[151]=eh,eb[152]=em,eb[153]=eg,eb[154]=ey):ey=eb[154],eb[155]!==s||eb[156]!==P||eb[157]!==M||eb[158]!==F||eb[159]!==N||eb[160]!==L||eb[161]!==ey?(ev=(0,_.jsx)(s,{padding:P,radius:M,shadow:F,tone:N,style:L,children:ey}),eb[155]=s,eb[156]=P,eb[157]=M,eb[158]=F,eb[159]=N,eb[160]=L,eb[161]=ey,eb[162]=ev):ev=eb[162],ev};function eby(e){let t,n=(0,j.c)(3),{publishedDocumentId:r}=e,i=ea_(r);return n[0]!==i.draft||n[1]!==i.published?(t=(0,_.jsx)(z3,{draft:i.draft,published:i.published}),n[0]=i.draft,n[1]=i.published,n[2]=t):t=n[2],t}let ebv=e=>{let t,n,r,i,a,o,l=(0,j.c)(20),{schedule:s,schemaType:c}=e,{DialogScheduleEdit:u,dialogProps:d,dialogScheduleEditShow:p}=ev3(s,eyy),{onComplete:f}=function(){let e=(0,E.useContext)(D.DocumentActionPropsContext);if(void 0===e)throw Error("useDocumentActionProps must be used within a DocumentActionPropsProvider");return e}();l[0]!==s?(t=evE(s),l[0]=s,l[1]=t):t=l[1];let h=t;return l[2]!==u||l[3]!==d?(n=u&&(0,_.jsx)(u,{...d}),l[2]=u,l[3]=d,l[4]=n):n=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(r={delete:!0,edit:!0},l[5]=r):r=l[5],l[6]!==p||l[7]!==f||l[8]!==s||l[9]!==c?(i=(0,_.jsx)(ev6,{actions:r,onDelete:f,onEdit:p,schedule:s,schemaType:c}),l[6]=p,l[7]=f,l[8]=s,l[9]=c,l[10]=i):i=l[10],l[11]!==p||l[12]!==h||l[13]!==s||l[14]!==c||l[15]!==i?(a=(0,_.jsx)(ebg,{contextMenu:i,onClick:p,publishedDocumentId:h,schedule:s,schemaType:c}),l[11]=p,l[12]=h,l[13]=s,l[14]=c,l[15]=i,l[16]=a):a=l[16],l[17]!==n||l[18]!==a?(o=(0,_.jsxs)(_.Fragment,{children:[n,a]}),l[17]=n,l[18]=a,l[19]=o):o=l[19],o},ebb=e=>{let t,n,r,i,a,o=(0,j.c)(10),{onDelete:l,schedule:s}=e,{deleteSchedule:c}=evu();o[0]!==c||o[1]!==l||o[2]!==s?(t=()=>{c({schedule:s}).then(()=>null==l?void 0:l())},o[0]=c,o[1]=l,o[2]=s,o[3]=t):t=o[3];let u=t;return o[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(DO,{}),o[4]=n):n=o[4],o[5]!==u?(r=(0,_.jsx)(I.Menu,{children:(0,_.jsx)(B.MenuItem,{icon:R.TrashIcon,onClick:u,text:"Delete schedule",tone:"critical"})}),o[5]=u,o[6]=r):r=o[6],o[7]===Symbol.for("react.memo_cache_sentinel")?(i={portal:!0,tone:"default"},o[7]=i):i=o[7],o[8]!==r?(a=(0,_.jsx)(B.MenuButton,{button:n,id:"contextMenu",menu:r,placement:"left",popover:i}),o[8]=r,o[9]=a):a=o[9],a},ebx=e=>{let t,n,r,i=(0,j.c)(6),{schedule:a}=e;return i[0]!==a?(t=(0,_.jsx)(ebb,{schedule:a}),i[0]=a,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(q8,{icon:R.UnknownIcon,layout:"default",subtitle:(0,_.jsx)("em",{children:"It may have been deleted"}),title:(0,_.jsx)("em",{style:{color:z.red[600].hex},children:"Document not found"})}),i[2]=n):n=i[2],i[3]!==a||i[4]!==t?(r=(0,_.jsx)(ebg,{contextMenu:t,schedule:a,useElementQueries:!0,children:n}),i[3]=a,i[4]=t,i[5]=r):r=i[5],r},ebC=e=>{let t,n,r,i,a,o,l,s=(0,j.c)(30),{previewState:c,schedule:u,schemaType:d}=e,p=c.draft||c.published,f="succeeded"===u.state,h="scheduled"===u.state,{DialogScheduleEdit:m,dialogProps:g,dialogScheduleEditShow:y}=ev3(u,eyy),v=ebi(null==p?void 0:p._id);s[0]!==d||s[1]!==p?((t=(0,E.forwardRef)((e,t)=>(0,_.jsx)(nr.IntentLink,{...e,intent:"edit",params:{type:d.name,id:p&&(0,th.getPublishedId)(null==p?void 0:p._id)},ref:t}))).displayName="ForwardRef(LinkComponent)",s[0]=d,s[1]=p,s[2]=t):t=s[2];let b=t;s[3]!==m||s[4]!==g?(n=m&&(0,_.jsx)(m,{...g}),s[3]=m,s[4]=g,s[5]=n):n=s[5];let x=!f;return s[6]!==f||s[7]!==h||s[8]!==x?(r={clear:f,delete:x,edit:h,execute:h},s[6]=f,s[7]=h,s[8]=x,s[9]=r):r=s[9],s[10]!==y||s[11]!==u||s[12]!==d||s[13]!==r?(i=(0,_.jsx)(ev6,{actions:r,onEdit:y,schedule:u,schemaType:d}),s[10]=y,s[11]=u,s[12]=d,s[13]=r,s[14]=i):i=s[14],s[15]!==c.isLoading||s[16]!==d||s[17]!==p?(a=c.isLoading?(0,_.jsx)(q8,{icon:null==d?void 0:d.icon,isPlaceholder:c.isLoading,layout:"default"}):(0,_.jsx)(enW,{layout:"default",schemaType:d,value:p}),s[15]=c.isLoading,s[16]=d,s[17]=p,s[18]=a):a=s[18],s[19]!==b||s[20]!==c||s[21]!==v||s[22]!==u||s[23]!==d||s[24]!==i||s[25]!==a?(o=(0,_.jsx)(ebg,{contextMenu:i,linkComponent:b,previewState:c,publishedDocumentId:v,schedule:u,schemaType:d,useElementQueries:!0,children:a}),s[19]=b,s[20]=c,s[21]=v,s[22]=u,s[23]=d,s[24]=i,s[25]=a,s[26]=o):o=s[26],s[27]!==n||s[28]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[n,o]}),s[27]=n,s[28]=o,s[29]=l):l=s[29],l},ebk=e=>{let t,n,r,i=(0,j.c)(13),{schedule:a,type:o}=e;i[0]!==a?(t=evS(a),i[0]=a,i[1]=t):t=i[1];let l=t,s=evT(a),c=function(e,t){let n,r,i,a=(0,j.c)(6),o=Fu();a[0]===Symbol.for("react.memo_cache_sentinel")?(n={},a[0]=n):n=a[0];let[l,s]=(0,E.useState)(n);return a[1]!==e||a[2]!==o||a[3]!==t?(r=()=>{if(!t)return;let n=(function(e,t,n,r){let i=!0===t.liveEdit?(0,Y.of)({snapshot:null}):e.observeForPreview({_type:"reference",_ref:(0,th.getDraftId)(n)},t),a=e.observeForPreview({_type:"reference",_ref:(0,th.getPublishedId)(n)},t);return(0,ev.combineLatest)([i,a]).pipe((0,Z.map)(e=>{let[t,n]=e;return{draft:t.snapshot?{title:"",...t.snapshot}:null,isLoading:!1,published:n.snapshot?{title:"",...n.snapshot}:null}}),(0,eI.startWith)({draft:null,isLoading:!0,published:null}))})(o,t,e,"").subscribe(e=>{s(e)});return()=>{null==n||n.unsubscribe()}},i=[o,t,e],a[1]=e,a[2]=o,a[3]=t,a[4]=r,a[5]=i):(r=a[4],i=a[5]),(0,E.useEffect)(r,i),l}(null==l?void 0:l.documentId,s),u=!(c.draft||c.published)&&!c.isLoading;e:{if(!s||u){let e;i[2]!==a?(e=(0,_.jsx)(ebx,{schedule:a}),i[2]=a,i[3]=e):e=i[3],n=e;break e}if("document"===o){let e;i[4]!==a||i[5]!==s?(e=(0,_.jsx)(ebv,{schedule:a,schemaType:s}),i[4]=a,i[5]=s,i[6]=e):e=i[6],n=e;break e}if("tool"===o){let e;i[7]!==c||i[8]!==a||i[9]!==s?(e=(0,_.jsx)(ebC,{previewState:c,schedule:a,schemaType:s}),i[7]=c,i[8]=a,i[9]=s,i[10]=e):e=i[10],n=e;break e}n=null}let d=n;return i[11]!==d?(r=(0,_.jsx)(evD,{children:d}),i[11]=d,i[12]=r):r=i[12],r};function ebw(e){let{item:{content:t,virtualRow:n},measureElement:r}=e,i=(0,E.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(n.start,"px)")}),[n]);return(0,_.jsx)(I.Box,{"data-index":n.index,paddingBottom:2,ref:r,style:i,children:"string"==typeof t?(0,_.jsx)(ebj,{content:t}):(0,_.jsx)(eb_,{schedule:t})},n.key)}function eb_(e){let{schedule:t}=e,[n,r]=(0,E.useState)((0,_.jsx)(ebS,{}));return(0,E.useEffect)(()=>{let e=!0,n=setTimeout(()=>{e&&r((0,_.jsx)(ebk,{schedule:t,type:"tool"}))},200);return()=>{e=!1,clearTimeout(n)}},[t]),n}function ebj(e){let{content:t}=e;return(0,_.jsx)(I.Flex,{align:"flex-end",paddingBottom:2,paddingTop:4,children:(0,_.jsx)(I.Label,{muted:!0,size:1,children:t})})}function ebS(){return(0,_.jsx)(I.Card,{padding:1,radius:2,shadow:1,children:(0,_.jsx)(I.Card,{padding:1,children:(0,_.jsx)(q8,{isPlaceholder:!0})})})}function ebE(e){return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})}let ebT=()=>{let{activeSchedules:e,scheduleState:t,sortBy:n}=evg(),{measureElement:r,virtualList:i,totalSize:a,containerRef:o}=function(e,t){let n=(0,E.useRef)(null),r=(0,E.useMemo)(()=>{let n=[];return e.forEach((r,i)=>{if("executeAt"==t){let t=evn(e[i-1]),a=i>0&&t?ebE(t):null,o=evn(r),l=o?ebE(o):null;l!==a&&n.push(l||"No date specified")}n.push(r)}),n},[e,t]),i=(0,O.useVirtualizer)({count:r.length,getScrollElement:()=>n.current,estimateSize:()=>50,overscan:5}),a=i.getVirtualItems().map(e=>{let t=r[e.index];return{content:t,key:"string"==typeof t?t:t.id,virtualRow:e}});return{containerRef:n,measureElement:i.measureElement,totalSize:i.getTotalSize(),virtualList:a}}(e,n),{deleteSchedules:l}=evu();return(0,E.useEffect)(()=>{var e;null==o||null==(e=o.current)||e.scrollTo(0,0)},[t,n,o]),(0,_.jsxs)(I.Box,{paddingBottom:6,paddingTop:1,paddingX:4,ref:o,overflow:"hidden",children:[(0,_.jsx)(I.Box,{style:{height:"".concat(a,"px"),width:"100%",position:"relative"},children:i.map(e=>(0,_.jsx)(ebw,{item:e,measureElement:r},e.key))}),"succeeded"===t&&(0,_.jsx)(I.Flex,{justify:"center",marginTop:6,children:(0,_.jsx)(B.Button,{icon:R.CheckmarkCircleIcon,mode:"ghost",onClick:()=>{l({schedules:e||[]})},text:"Clear all completed schedules"})})]})},ebD=(0,F.styled)(I.Container)(El()),ebI=()=>{let e,t,n,r,i=(0,j.c)(13),{activeSchedules:a,selectedDate:o,scheduleState:l}=evg(),{upsellData:s,telemetryLogs:c}=evC(),{mode:u}=eyC(),d="upsell"===u&&"scheduled"===l;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e={height:"100%"},i[0]=e):e=i[0],i[1]!==u||i[2]!==c||i[3]!==s?(t="upsell"===u&&s&&(0,_.jsx)(ebD,{width:1,padding:4,paddingBottom:1,children:(0,_.jsx)(emM,{layout:"horizontal",data:s,onPrimaryClick:c.panelPrimaryClicked,onSecondaryClick:c.panelSecondaryClicked})}),i[1]=u,i[2]=c,i[3]=s,i[4]=t):t=i[4],i[5]!==a.length||i[6]!==l||i[7]!==o||i[8]!==d?(n=0===a.length?(0,_.jsx)(ebD,{width:1,padding:4,paddingTop:4,children:(0,_.jsx)(evj,{scheduleState:l,selectedDate:o})}):(0,_.jsxs)(_.Fragment,{children:[d&&(0,_.jsx)(I.Card,{margin:4,marginBottom:2,padding:3,tone:"caution",radius:3,shadow:1,children:(0,_.jsxs)(I.Flex,{gap:3,align:"center",children:[(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})}),(0,_.jsx)(I.Text,{size:1,children:"Your scheduled documents won't be published automatically unless you upgrade your plan. You can still publish them manually."})]})}),(0,_.jsx)(I.Box,{paddingTop:4*!d,children:(0,_.jsx)(ebT,{})})]}),i[5]=a.length,i[6]=l,i[7]=o,i[8]=d,i[9]=n):n=i[9],i[10]!==t||i[11]!==n?(r=(0,_.jsxs)(I.Box,{style:e,children:[t,n]}),i[10]=t,i[11]=n,i[12]=r):r=i[12],r},ebA=()=>{let e,t,n,r,i,a,o,l=(0,j.c)(15),{setSortBy:s,sortBy:c}=evg();l[0]!==s?(e=()=>s("createdAt"),l[0]=s,l[1]=e):e=l[1];let u=e;l[2]!==s?(t=()=>s("executeAt"),l[2]=s,l[3]=t):t=l[3];let d=t;l[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(DO,{}),l[4]=n):n=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:"250px"},l[5]=r):r=l[5];let p="createdAt"===c?R.CheckmarkIcon:void 0;l[6]!==u||l[7]!==p?(i=(0,_.jsx)(B.MenuItem,{icon:R.SortIcon,iconRight:p,onClick:u,text:"Sort by time added"}),l[6]=u,l[7]=p,l[8]=i):i=l[8];let f="executeAt"===c?R.CheckmarkIcon:void 0;return l[9]!==d||l[10]!==f?(a=(0,_.jsx)(B.MenuItem,{icon:R.SortIcon,iconRight:f,onClick:d,text:"Sort by time scheduled"}),l[9]=d,l[10]=f,l[11]=a):a=l[11],l[12]!==i||l[13]!==a?(o=(0,_.jsx)(B.MenuButton,{button:n,id:"sort",menu:(0,_.jsxs)(I.Menu,{style:r,children:[i,a]})}),l[12]=i,l[13]=a,l[14]=o):o=l[14],o},ebO=e=>{let t,n,r,i=(0,j.c)(8),{mode:a,selected:o}=e,l=void 0===a?"default":a;return i[0]!==l||i[1]!==o?(t="default"===l?{background:z.gray[o?100:300].hex}:{},i[0]=l,i[1]=o,i[2]=t):t=i[2],i[3]!==l?(n="failed"===l?{background:z.red[500].hex}:{},i[3]=l,i[4]=n):n=i[4],i[5]!==t||i[6]!==n?(r=(0,_.jsx)(I.Box,{style:{...t,...n,borderRadius:"2px",height:"2px",width:"100%"}}),i[5]=t,i[6]=n,i[7]=r):r=i[7],r};function ebP(e){let t,{date:n,focused:r,isCurrentMonth:i,isToday:a,onSelect:o,selected:l}=e,{schedulesByDate:s}=evg(),c=s(n),u=(0,E.useCallback)(()=>{o(l?void 0:n)},[n,o,l]);a||l?t="primary":((0,tX.isWeekend)(n),t="default");let d=c.length>0,{completed:p,failed:f,upcoming:h}=(0,E.useMemo)(()=>({completed:c.filter(e=>"succeeded"===e.state),failed:c.filter(e=>"cancelled"===e.state),upcoming:c.filter(e=>"scheduled"===e.state)}),[c]);return(0,_.jsx)("div",{"aria-selected":l,"data-ui":"CalendarDay",children:(0,_.jsx)(B.Tooltip,{content:(0,_.jsx)(ebM,{date:n,schedules:c}),disabled:!d,portal:!0,children:(0,_.jsxs)(I.Card,{"aria-label":n.toDateString(),"aria-pressed":l,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":r?"true":"",role:"button",tabIndex:-1,onClick:u,paddingX:3,paddingY:4,radius:2,selected:l,style:{position:"relative"},tone:t,children:[(0,_.jsx)(I.Text,{size:1,style:{opacity:l||i?1:.35,textAlign:"center"},children:l?(0,_.jsx)(R.CloseIcon,{}):n.getDate()}),(0,_.jsx)(I.Box,{style:{bottom:2,left:2,position:"absolute",right:2},children:(0,_.jsxs)(I.Flex,{align:"center",gap:1,justify:"center",children:[p.length>0&&(0,_.jsx)(ebO,{selected:l}),h.length>0&&(0,_.jsx)(ebO,{selected:l}),f.length>0&&(0,_.jsx)(ebO,{mode:"failed",selected:l})]})})]})})})}function ebM(e){let t,n,r,i,a,o=(0,j.c)(12),{date:l,schedules:s}=e;o[0]===Symbol.for("react.memo_cache_sentinel")?(t={type:"scheduledPublishing"},o[0]=t):t=o[0];let{formatDateTz:c}=K3(t),u=(void 0===s?[]:s).reduce(ebR,{cancelled:[],succeeded:[],scheduled:[]}),d=I.Box;o[1]!==l?(n=(0,tY.format)(l,"d MMMM yyyy"),o[1]=l,o[2]=n):n=o[2],o[3]!==n?(r=(0,_.jsx)(I.Box,{marginBottom:4,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:n})}),o[3]=n,o[4]=r):r=o[4];let p=I.Stack,f=Object.keys(u).map(e=>{let t=u[e];return 0===t.length?null:(0,_.jsxs)(I.Stack,{space:2,children:[(0,_.jsx)(I.Label,{muted:!0,size:0,children:eyf[e].title}),(0,_.jsx)(I.Stack,{space:1,children:t.filter(ebF).map(e=>{let t=evn(e);return t?(0,_.jsxs)(I.Inline,{space:2,children:[(0,_.jsx)(I.Box,{style:{width:"60px"},children:(0,_.jsx)(I.Text,{size:1,weight:"regular",children:c({date:new Date(t),format:"p"})})}),(0,_.jsx)(I.Flex,{align:"center",style:{flexShrink:0,opacity:+("unpublish"===e.action)},children:(0,_.jsx)(I.Badge,{fontSize:0,mode:"outline",tone:eyp[e.action].badgeTone,children:e.action})})]},e.id):null})})]},e)});return o[5]!==p||o[6]!==f?(i=(0,_.jsx)(p,{space:3,children:f}),o[5]=p,o[6]=f,o[7]=i):i=o[7],o[8]!==d||o[9]!==r||o[10]!==i?(a=(0,_.jsxs)(d,{padding:3,children:[r,i]}),o[8]=d,o[9]=r,o[10]=i,o[11]=a):a=o[11],a}function ebF(e){return e.executeAt}function ebR(e,t){return e[t.state].push(t),e}let ebB=e=>{let t,n,r,i=(0,j.c)(11),{onSelect:a,selectedDate:o,timeZoneScope:l}=e,{getCurrentZoneDate:s,utcToCurrentZoneDate:c}=K3(l);i[0]!==s||i[1]!==o?(t=o||s(),i[0]=s,i[1]=o,i[2]=t):t=i[2];let[u,d]=(0,E.useState)(t);i[3]!==c?(n=e=>{d(c(e))},i[3]=c,i[4]=n):n=i[4];let p=n;return i[5]!==u||i[6]!==p||i[7]!==a||i[8]!==o||i[9]!==l?(r=(0,_.jsx)(esm,{focusedDate:u,onFocusedDateChange:p,onSelect:a,selectedDate:o,renderCalendarDay:ebP,timeZoneScope:l}),i[5]=u,i[6]=p,i[7]=a,i[8]=o,i[9]=l,i[10]=r):r=i[10],r},ebN=(0,F.styled)(I.Box)(Es()),ebL=[],ebz="yyyy-MM-dd";function ebV(){let e,t=(0,j.c)(4),n=(0,nr.useRouter)(),r=esC();t[0]!==n?(e=n.resolveIntentLink(ecR,{view:"drafts"}),t[0]=n,t[1]=e):e=t[1];let i=e;if(r){let e;return t[2]!==i?(e=(0,_.jsx)(I.Card,{padding:4,tone:"caution",width:"fill",children:(0,_.jsx)(I.Flex,{gap:3,align:"center",justify:"center",children:(0,_.jsxs)(I.Text,{size:1,weight:"medium",children:["Scheduled Drafts is enabled for this Studio. All new Scheduled Drafts will be"," ",(0,_.jsx)(nr.Link,{href:i,children:"available here"})]})})}),t[2]=i,t[3]=e):e=t[3],e}}function ebU(){let e,t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D=(0,j.c)(64),A=(0,nr.useRouter)(),{scheduledPublishing:O}=FU(),P=ecN(),{sanity:M}=(0,I.useTheme)(),{error:F,isInitialLoading:R,schedules:B}=evp(),N=void 0===B?ebL:B,{t:L}=IO(),{enabled:z,hasUsedScheduledPublishing:V}=eyC(),U=(0,E.useRef)(void 0),H=A.state.state;D[0]!==A.state.date?(e=A.state.date?(0,tk.parse)(A.state.date,ebz,new Date):void 0,D[0]=A.state.date,D[1]=e):e=D[1];let q=e;D[2]!==A.state.state?(t=()=>{A.state.state&&(U.current=A.state.state)},n=[A.state.state],D[2]=A.state.state,D[3]=t,D[4]=n):(t=D[3],n=D[4]),(0,E.useEffect)(t,n),function(e,t,n){let r,i,a=(0,j.c)(5);a[0]!==t||a[1]!==e||a[2]!==n?(r=()=>{t||n||e.navigate({state:eyh[0]},{replace:!0})},i=[n,e,t],a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i):(r=a[3],i=a[4]),(0,E.useEffect)(r,i)}(A,H,q);let{formatDateTz:W,timeZone:Y}=K3(eyy);D[5]!==H||D[6]!==N||D[7]!==q?(r={schedules:N,scheduleState:H,selectedDate:q},D[5]=H,D[6]=N,D[7]=q,D[8]=r):r=D[8];let K=r;D[9]!==A?(i=()=>{A.navigate({state:(null==U?void 0:U.current)||eyh[0]})},D[9]=A,D[10]=i):i=D[10];let G=i;D[11]!==W||D[12]!==A?(a=e=>{e?A.navigate({date:W({date:e,format:ebz})}):A.navigate({state:(null==U?void 0:U.current)||eyh[0]})},D[11]=W,D[12]=A,D[13]=a):a=D[13];let $=a;if(!z){let e;if(O.__internal__workspaceEnabled){let e;return D[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Container,{width:1,paddingTop:4,children:(0,_.jsx)(I.Box,{paddingTop:4,paddingX:4,children:(0,_.jsx)(eyw,{description:"Something went wrong loading permissions, please try again.",title:"Permissions check failed"})})}),D[14]=e):e=D[14],e}return D[15]!==V.loading?(e=(0,_.jsx)(I.Container,{width:1,paddingTop:4,children:(0,_.jsx)(I.Box,{paddingTop:4,paddingX:4,children:V.loading?(0,_.jsx)(DU,{}):(0,_.jsx)(ey_,{})})}),D[15]=V.loading,D[16]=e):e=D[16],e}return D[17]!==P||D[18]!==O?(o=P&&O.showReleasesBanner&&(0,_.jsx)(eyS,{}),D[17]=P,D[18]=O,D[19]=o):o=D[19],D[20]===Symbol.for("react.memo_cache_sentinel")?(l=["none",null,null,"flex"],D[20]=l):l=D[20],D[21]===Symbol.for("react.memo_cache_sentinel")?(s={position:"sticky",top:0,width:"350px"},D[21]=s):s=D[21],D[22]!==$||D[23]!==q?(c=(0,_.jsx)(ebN,{display:l,style:s,children:(0,_.jsx)(ebB,{onSelect:$,timeZoneScope:eyy,selectedDate:q})}),D[22]=$,D[23]=q,D[24]=c):c=D[24],D[25]===Symbol.for("react.memo_cache_sentinel")?(u=(0,_.jsx)(ebV,{}),D[25]=u):u=D[25],D[26]!==M.color.card.enabled.bg?(d={background:M.color.card.enabled.bg,position:"sticky",top:0,zIndex:1},D[26]=M.color.card.enabled.bg,D[27]=d):d=D[27],D[28]===Symbol.for("react.memo_cache_sentinel")?(p={borderBottom:"1px solid var(--card-border-color)",minHeight:"".concat(55,"px")},D[28]=p):p=D[28],D[29]!==G||D[30]!==q?(f=(0,_.jsx)(evb,{onClearDate:G,selectedDate:q}),D[29]=G,D[30]=q,D[31]=f):f=D[31],D[32]!==L||D[33]!==Y.alternativeName||D[34]!==Y.offset?(h=L("time-zone.time-zone-tooltip-content-releases",{alternativeName:Y.alternativeName,offset:Y.offset}),D[32]=L,D[33]=Y.alternativeName,D[34]=Y.offset,D[35]=h):h=D[35],D[36]!==h?(m=(0,_.jsx)(GA,{tooltipContent:h,timeZoneScope:eyy,useElementQueries:!0}),D[36]=h,D[37]=m):m=D[37],D[38]===Symbol.for("react.memo_cache_sentinel")?(g=(0,_.jsx)(ebA,{}),D[38]=g):g=D[38],D[39]!==m?(y=(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[m,g]}),D[39]=m,D[40]=y):y=D[40],D[41]!==f||D[42]!==y?(v=(0,_.jsx)(I.Flex,{align:"center",paddingLeft:4,paddingRight:3,style:p,children:(0,_.jsxs)(I.Flex,{align:"center",flex:1,justify:"space-between",children:[f,y]})}),D[41]=f,D[42]=y,D[43]=v):v=D[43],D[44]!==d||D[45]!==v?(b=(0,_.jsx)(eyk,{style:d,children:v}),D[44]=d,D[45]=v,D[46]=b):b=D[46],D[47]!==F?(x=F&&(0,_.jsx)(I.Box,{paddingTop:4,paddingX:4,children:(0,_.jsx)(eyw,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."})}),D[47]=F,D[48]=x):x=D[48],D[49]!==R?(C=(0,_.jsx)(I.Box,{flex:1,overflow:"auto",children:R?(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Text,{muted:!0,children:"Loading..."})}):(0,_.jsx)(ebI,{})}),D[49]=R,D[50]=C):C=D[50],D[51]!==x||D[52]!==C?(k=(0,_.jsxs)(I.Flex,{direction:"column",flex:1,children:[x,C]}),D[51]=x,D[52]=C,D[53]=k):k=D[53],D[54]!==b||D[55]!==k?(w=(0,_.jsxs)(ebN,{display:"flex",flex:1,overflow:"hidden",children:[u,b,k]}),D[54]=b,D[55]=k,D[56]=w):w=D[56],D[57]!==c||D[58]!==w?(S=(0,_.jsx)(I.Flex,{direction:"column",height:"fill",flex:1,overflow:"hidden",children:(0,_.jsxs)(I.Flex,{flex:1,height:"fill",children:[c,w]})}),D[57]=c,D[58]=w,D[59]=S):S=D[59],D[60]!==K||D[61]!==S||D[62]!==o?(T=(0,_.jsxs)(evm,{value:K,children:[o,S]}),D[60]=K,D[61]=S,D[62]=o,D[63]=T):T=D[63],T}let ebH=e=>{let t,n,r,i=(0,j.c)(11),{buttonText:a,disabled:o,icon:l,onAction:s,onComplete:c,tone:u}=e,d=void 0===a?"Action":a,p=void 0===u?"positive":u;return i[0]!==c?(t=(0,_.jsx)(B.Button,{mode:"bleed",onClick:c,text:"Cancel"}),i[0]=c,i[1]=t):t=i[1],i[2]!==d||i[3]!==o||i[4]!==l||i[5]!==s||i[6]!==p?(n=s&&(0,_.jsx)(B.Button,{disabled:o,icon:l,onClick:s,text:d,tone:p}),i[2]=d,i[3]=o,i[4]=l,i[5]=s,i[6]=p,i[7]=n):n=i[7],i[8]!==t||i[9]!==n?(r=(0,_.jsxs)(I.Flex,{width:"full",gap:3,justify:"flex-end",children:[t,n]}),i[8]=t,i[9]=n,i[10]=r):r=i[10],r};function ebq(e){let t,n,r,i=(0,j.c)(5),{id:a,schemaType:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsxs)(I.Text,{size:1,children:["Schedule this document to be published at any time in the future.",(0,_.jsx)("br",{}),"Any edits in the meantime will be added to the scheduled document."]}),n=(0,_.jsx)(I.Text,{size:1,children:"Visit the Schedules page to get an overview of all schedules."}),i[0]=t,i[1]=n):(t=i[0],n=i[1]),i[2]!==a||i[3]!==o?(r=(0,_.jsxs)(I.Stack,{space:4,children:[t,n,(0,_.jsx)(ebW,{id:a,type:o})]}),i[2]=a,i[3]=o,i[4]=r):r=i[4],r}function ebW(e){let t,n,r,i=(0,j.c)(7),{id:a,type:o}=e,l=ebi(a),s=function(e){let t,n=(0,j.c)(3),r=el3();return n[0]!==r||n[1]!==e?(t=r.get(e),n[0]=r,n[1]=e,n[2]=t):t=n[2],t}(o),c=euh(l,o),{hasError:u}=ebe(c.validation);return u?(i[0]!==l||i[1]!==s||i[2]!==c.validation?(t=(0,_.jsx)(ebu,{markers:c.validation,type:s,documentId:l}),i[0]=l,i[1]=s,i[2]=c.validation,i[3]=t):t=i[3],i[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Text,{size:1,children:eym}),i[4]=n):n=i[4],i[5]!==t?(r=(0,_.jsx)(I.Card,{padding:2,radius:1,shadow:1,tone:"critical",children:(0,_.jsxs)(I.Flex,{gap:1,align:"center",children:[t,n]})}),i[5]=t,i[6]=r):r=i[6],r):null}let ebY=e=>{let t,n=(0,j.c)(2),{schedules:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Stack,{space:4,children:0===r.length?(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:"No schedules"})}):(0,_.jsx)(I.Stack,{space:2,children:r.map(ebK)})}),n[0]=r,n[1]=t):t=n[1],t};function ebK(e){return(0,_.jsx)(ebk,{schedule:e,type:"document"},e.id)}let ebG=KX("ScheduleAction"),eb$=e=>{let{draft:t,id:n,liveEdit:r,onComplete:i,published:a,type:o}=e,l=A6(),[s,c]=Mp({id:n,type:o,permission:"publish"}),{createSchedule:u}=evu(),{enabled:d,mode:p}=eyC(),{handleOpenDialog:f}=evC(),[h,m]=(0,E.useState)(!1),{formData:g,onFormChange:y}=evA(),{error:v,isInitialLoading:b,schedules:x}=evp({documentId:n,state:"scheduled"});ebG("schedules",x);let C=x&&x.length>0,k=null!==t||null!==a,w=!c&&!(null==s?void 0:s.granted),j=(0,E.useCallback)(()=>{"upsell"===p?f("document_action"):m(!0)},[p,f]),S=(0,E.useCallback)(()=>{(null==g?void 0:g.date)&&u({date:g.date,documentId:n}).then(i)},[i,u,n,null==g?void 0:g.date]),T=C?"Edit Schedule":"Schedule";if(w)return{disabled:!0,icon:R.CalendarIcon,label:T,title:(0,_.jsx)(es3,{currentUser:l,context:"edit-schedules"})};let D="This document doesn't exist yet";k&&(D=null),b&&(D="Loading schedules"),r&&(D="Live Edit is enabled for this content type and publishing happens automatically as you make changes");let A={content:v?(0,_.jsx)(eyw,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."}):(0,_.jsx)(evI,{value:e,children:C?(0,_.jsx)(ebY,{schedules:x}):(0,_.jsx)(ev0,{onChange:y,value:g,children:(0,_.jsx)(ebq,{id:n,schemaType:o})})}),footer:!C&&(0,_.jsx)(ebH,{buttonText:"Schedule",disabled:!(null==g?void 0:g.date),icon:R.ClockIcon,onAction:S,onComplete:i,tone:"primary"}),header:(0,_.jsx)(ev5,{timeZoneScope:eyy,title:T}),onClose:i,type:"dialog"};return d?{dialog:h&&A,disabled:b||!k||r,label:T,icon:R.CalendarIcon,onHandle:j,title:D&&(0,_.jsx)(I.Box,{style:{maxWidth:"315px"},children:(0,_.jsx)(I.Text,{size:1,children:D})})}:null};eb$.action="schedule";let ebZ=KX("ScheduledBadge"),ebX=e=>{let{schedules:t}=evp({documentId:e.id,state:"scheduled"});ebZ("schedules",t);let n=null==t?void 0:t[0];if(!n||!n.executeAt||!n.action)return null;let r=(0,tY.format)(new Date(n.executeAt),KG.LARGE);return{color:eyp[n.action].badgeColor,label:"Scheduled",title:"".concat(eyp[n.action].actionName," on ").concat(r," (local time)")}};function ebJ(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(24),{id:f,markers:h}=e,m=ebi(f),{hasError:g}=ebe(h);p[0]!==m?(t={documentId:m,state:"scheduled"},p[0]=m,p[1]=t):t=p[1];let{schedules:y}=evp(t),{mode:v}=eyC();if(!(y.length>0))return null;p[2]!==v?(n="upsell"===v&&(0,_.jsx)(I.Card,{tone:"caution",padding:3,radius:3,shadow:1,marginBottom:3,children:(0,_.jsxs)(I.Flex,{align:"center",gap:3,padding:1,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})}),(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"medium",children:"Scheduled publishing is not available on your current plan"})]})}),p[2]=v,p[3]=n):n=p[3];let b=g?"critical":"primary";return p[4]!==v?(r="upsell"===v?{opacity:.7}:void 0,p[4]=v,p[5]=r):r=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.CalendarIcon,{})}),p[6]=i):i=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,_.jsxs)(I.Flex,{align:"center",gap:3,marginBottom:1,padding:1,children:[i,(0,_.jsxs)(I.Text,{muted:!0,size:1,children:[(0,_.jsx)("span",{style:{fontWeight:600},children:"Upcoming schedule"})," (local time)"]})]}),p[7]=a):a=p[7],p[8]!==y?(o=y.map(ebQ),p[8]=y,p[9]=o):o=p[9],p[10]!==o?(l=(0,_.jsx)(I.Stack,{space:2,children:o}),p[10]=o,p[11]=l):l=p[11],p[12]!==g?(s=g&&(0,_.jsx)(I.Box,{marginTop:3,children:(0,_.jsx)(I.Text,{muted:!0,size:1,weight:"regular",children:eym})}),p[12]=g,p[13]=s):s=p[13],p[14]!==l||p[15]!==s?(c=(0,_.jsxs)(I.Stack,{space:2,children:[a,l,s]}),p[14]=l,p[15]=s,p[16]=c):c=p[16],p[17]!==b||p[18]!==r||p[19]!==c?(u=(0,_.jsx)(I.Card,{padding:3,radius:1,shadow:1,tone:b,style:r,children:c}),p[17]=b,p[18]=r,p[19]=c,p[20]=u):u=p[20],p[21]!==n||p[22]!==u?(d=(0,_.jsxs)(I.Box,{marginBottom:4,children:[n,u]}),p[21]=n,p[22]=u,p[23]=d):d=p[23],d}function ebQ(e){if(!e.executeAt)return null;let t=(0,tY.format)(new Date(e.executeAt),KG.LARGE);return(0,_.jsxs)(I.Inline,{space:2,children:[(0,_.jsx)(I.Text,{muted:!0,size:1,children:t}),(0,_.jsx)(I.Flex,{style:{opacity:+("unpublish"===e.action)},children:(0,_.jsx)(I.Badge,{fontSize:0,mode:"outline",children:e.action})})]},e.id)}function eb1(e){let t,n,r,i=(0,j.c)(8),{value:a,validation:o,children:l}=e;i[0]!==o?(t=o.map(eb2),i[0]=o,i[1]=t):t=i[1];let s=t;return i[2]!==a||i[3]!==s?(n=(null==a?void 0:a._id)?(0,_.jsx)(ebJ,{id:a._id,markers:s}):null,i[2]=a,i[3]=s,i[4]=n):n=i[4],i[5]!==l||i[6]!==n?(r=(0,_.jsxs)(_.Fragment,{children:[n,l]}),i[5]=l,i[6]=n,i[7]=r):r=i[7],r}function eb2(e){return{level:e.level,path:e.path,item:{message:e.message},message:e.message}}function eb0(e){let t,n,r=(0,j.c)(7),{enabled:i,mode:a}=eyC();if(!i){let t;return r[0]!==e?(t=e.renderDefault(e),r[0]=e,r[1]=t):t=r[1],t}let o="upsell"===a;return r[2]!==e?(t=e.renderDefault(e),r[2]=e,r[3]=t):t=r[3],r[4]!==o||r[5]!==t?(n=(0,_.jsx)(B.ConditionalWrapper,{condition:o,wrapper:eb5,children:t}),r[4]=o,r[5]=t,r[6]=n):n=r[6],n}function eb5(e){return(0,_.jsx)(evx,{children:e})}let eb7="sanity/scheduled-publishing",eb3=eie({name:eb7,document:{actions:(e,t)=>(function(e,t){return"published"===t.versionType?e:0>e.findIndex(e=>"publish"===e.action)?[eb$,...e]:e.flatMap(e=>"publish"===e.action?[e,eb$]:e)})(e,t),badges:e=>[...e,ebX]},form:{components:{input:e=>{let t,n=(0,j.c)(7),{schemaType:r}=e;if("document"===function e(t){return t.type?e(t.type):t}(r).name){let t,r;return n[0]!==e?(t=e.renderDefault(e),n[0]=e,n[1]=t):t=n[1],n[2]!==e||n[3]!==t?(r=(0,_.jsx)(eb1,{...e,children:t}),n[2]=e,n[3]=t,n[4]=r):r=n[4],r}return n[5]!==e?(t=e.renderDefault(e),n[5]=e,n[6]=t):t=n[6],t}}},studio:{components:{layout:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(eyx,{children:(0,_.jsx)(eb0,{...e})}),n[0]=e,n[1]=t):t=n[1],t}}},tools:e=>[...e,{name:"schedules",title:"Schedules",icon:R.CalendarIcon,component:ebU,router:nr.route.create("/",[nr.route.create("/state/:state"),nr.route.create("/date/:date")]),__internalApplicationType:"sanity/scheduled-publishing"}]}),eb8="tasks";function eb4(e){var t;let n,r,i=(0,j.c)(6),{children:a}=e,{enabled:o,isLoading:l,error:s}=eiN("sanityTasks"),c=null==(t=FU().tasks)?void 0:t.enabled;e:{let e;if(!c||l||s){let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e={enabled:!1,mode:null},i[0]=e):e=i[0],n=e;break e}let t=o?"default":"upsell";i[1]!==t?(e={enabled:!0,mode:t},i[1]=t,i[2]=e):e=i[2],n=e}let u=n;return i[3]!==a||i[4]!==u?(r=(0,_.jsx)(D.TasksEnabledContext.Provider,{value:u,children:a}),i[3]=a,i[4]=u,i[5]=r):r=i[5],r}function eb6(){return(0,E.useContext)(D.TasksEnabledContext)}function eb9(e){let t,n=(0,j.c)(3),{children:r,isLastPane:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(D.IsLastPaneContext.Provider,{value:i,children:r}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}function exe(e){let t,n,r,i=(0,j.c)(8),[a,o]=(0,E.useState)(null);i[0]!==a?(t={documentValue:a,permission:"read"},i[0]=a,i[1]=t):t=i[1];let l=eTy(t);i[2]!==l||i[3]!==a?(n={mentionOptions:l,selectedDocument:a,setSelectedDocument:o},i[2]=l,i[3]=a,i[4]=n):n=i[4];let s=n;return i[5]!==e.children||i[6]!==s?(r=(0,_.jsx)(D.MentionUserContext.Provider,{value:s,children:e.children}),i[5]=e.children,i[6]=s,i[7]=r):r=i[7],r}function ext(){let e=(0,E.useContext)(D.MentionUserContext);if(!e)throw Error("useMentionUser must be used within a MentionUserProvider");return e}let exn=(0,tc.defineEvent)({name:"Task Created",version:1,description:"A task is created"}),exr=(0,tc.defineEvent)({name:"Task Status Changed",version:1,description:"Task status changed"}),exi=(0,tc.defineEvent)({name:"Task Duplicated",version:1,description:"A task is duplicated"}),exa=(0,tc.defineEvent)({name:"Task Removed",version:1,description:"A task is removed"}),exo=(0,tc.defineEvent)({name:"Task Link Copied",version:1,description:"The link to a task is copied"}),exl=(0,tc.defineEvent)({name:"Task Link Opened",version:1,description:"User visited the studio through a link with a task"}),exs={viewMode:"list",selectedTask:null,activeTabId:"assigned",duplicateTaskValues:null,isOpen:!1};function exc(e,t){switch(t.type){case"TOGGLE_TASKS_VIEW":return!1===t.payload?{...exs,isOpen:t.payload}:{...e,isOpen:t.payload};case"CREATE_TASK":return{...e,viewMode:"create",selectedTask:(0,h6.uuid)()};case"EDIT_TASK":return{...e,viewMode:"edit",selectedTask:t.payload.id};case"EDIT_DRAFT":return{...e,viewMode:"draft",selectedTask:t.payload.id};case"DUPLICATE_TASK":return{...e,viewMode:"duplicate",selectedTask:(0,h6.uuid)(),duplicateTaskValues:t.payload.duplicateTaskValues};case"SET_ACTIVE_TAB":return{...e,viewMode:"list",activeTabId:t.payload};case"NAVIGATE_TO_LIST":return{...e,viewMode:"list"};default:return e}}let exu=e=>{let{children:t}=e,[n,r]=(0,E.useReducer)(exc,exs),i=(0,nr.useRouter)(),a=(0,A.useToast)(),o=(0,tp.useTelemetry)(),l=(0,E.useCallback)(e=>{switch(e.type){case"list":r({type:"NAVIGATE_TO_LIST"});break;case"create":r({type:"CREATE_TASK"});break;case"edit":r({type:"EDIT_TASK",payload:{id:e.id}});break;case"duplicate":r({type:"DUPLICATE_TASK",payload:{duplicateTaskValues:e.duplicateTaskValues}});break;case"draft":r({type:"EDIT_DRAFT",payload:{id:e.id}})}},[]),s=(0,E.useCallback)(e=>{r({type:"SET_ACTIVE_TAB",payload:e})},[]),c=(0,E.useCallback)(()=>{r({type:"TOGGLE_TASKS_VIEW",payload:!1})},[]),u=(0,E.useCallback)(()=>{r({type:"TOGGLE_TASKS_VIEW",payload:!0})},[]),d=(0,E.useCallback)(()=>{let e=new URL(window.location.href);e.searchParams.set("sidebar","tasks"),e.searchParams.set("viewMode",n.viewMode),n.selectedTask&&e.searchParams.set("selectedTask",n.selectedTask),navigator.clipboard.writeText(e.toString()).then(()=>{o.log(exo)}).catch(()=>{a.push({closable:!0,status:"error",title:"Failed to copy link to clipboard"})})},[n.selectedTask,n.viewMode,o,a]),p=new URLSearchParams(i.state._searchParams),f=p.get("sidebar"),h=p.get("viewMode"),m=p.get("selectedTask");(0,E.useEffect)(()=>{"tasks"===f&&(r({type:"TOGGLE_TASKS_VIEW",payload:!0}),"edit"===h&&m&&(r({type:"EDIT_TASK",payload:{id:m}}),o.log(exl)))},[m,f,o,h]);let g=(0,E.useMemo)(()=>({state:n,setViewMode:l,setActiveTab:s,handleCloseTasks:c,handleOpenTasks:u,handleCopyLinkToTask:d}),[c,d,u,s,l,n]);return(0,_.jsx)(D.TasksNavigationContext.Provider,{value:g,children:t})};function exd(){return(0,E.useContext)(D.TasksNavigationContext)||exp}let exp={state:{activeTabId:"assigned",viewMode:"list",selectedTask:null,isOpen:!1,duplicateTaskValues:null},setActiveTab:()=>null,setViewMode:()=>null,handleCloseTasks:()=>null,handleCopyLinkToTask:()=>null,handleOpenTasks:()=>null};function exf(e,t){switch(t.type){case"TASKS_SET":{let n=t.tasks.reduce((e,t)=>({...e,[t._id]:t}),{});return{...e,tasks:n}}case"TASK_ADDED":{let n=t.payload,r={[n._id]:{...e.tasks[n._id],...n,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};return{...e,tasks:{...e.tasks,...r}}}case"TASK_RECEIVED":{let n=t.payload;return{...e,tasks:{...e.tasks,[n._id]:n}}}case"TASK_DELETED":{let{[t.id]:n,...r}=e.tasks;return{...e,tasks:r}}case"TASK_UPDATED":{let n=t.payload,r=n._id,i={...e.tasks[r],...n};return{...e,tasks:{...e.tasks,[r]:i}}}default:return e}}let exh={tasks:{}},exm={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query",includeAllVersions:!0,tag:"tasks-store"},exg="order(".concat("_createdAt"," ").concat("desc",")"),exy="*[".concat('_type == "tasks.task"',"] ").concat("{\n  ...,\n}"," | ").concat(exg),exv=[];function exb(e){let t,n,r,i,a,o=(0,j.c)(11),{children:l}=e,[s,c]=(0,E.useState)(null);o[0]===Symbol.for("react.memo_cache_sentinel")?(t={},o[0]=t):t=o[0];let{data:u,isLoading:d}=function(e){let{client:t}=ek7(),{documentId:n}=e,[r,i]=(0,E.useReducer)(exf,exh),[a,o]=(0,E.useState)(null!==t),[l,s]=(0,E.useState)(null),c=(0,E.useMemo)(()=>({documentId:n?(0,th.getPublishedId)(n):null}),[n]),u=(0,E.useCallback)(async()=>{if(!t)return void o(!1);try{let e=await t.fetch(exy,c);i({type:"TASKS_SET",tasks:e}),o(!1)}catch(e){s(e)}},[t,c]),d=(0,E.useCallback)(async e=>{if("welcome"===e.type&&(o(!0),await u(),o(!1)),"reconnect"===e.type&&o(!0),"mutation"===e.type){if("appear"===e.transition){let t=e.result;t&&i({type:"TASK_RECEIVED",payload:t})}if("disappear"===e.transition&&i({type:"TASK_DELETED",id:e.documentId}),"update"===e.transition){let t=e.result;t&&i({type:"TASK_UPDATED",payload:t})}}},[u]),p=(0,E.useMemo)(()=>t?t.observable.listen(exy,c,exm).pipe((0,J.catchError)(e=>(s(e),(0,Y.of)(e)))):(0,Y.of)(),[t,c]);return(0,E.useEffect)(()=>{let e=p.subscribe(d);return()=>{null==e||e.unsubscribe()}},[d,p]),{data:(0,E.useMemo)(()=>Object.values(r.tasks),[r.tasks]),dispatch:i,error:l,isLoading:a}}(t),p=void 0===u?exv:u;o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,nc.default)(c,1e3),o[1]=n):n=o[1];let f=n;o[2]!==p?(r=null!=p?p:[],o[2]=p,o[3]=r):r=o[3],o[4]!==s||o[5]!==d||o[6]!==r?(i={activeDocument:s,setActiveDocument:f,isLoading:d,data:r},o[4]=s,o[5]=d,o[6]=r,o[7]=i):i=o[7];let h=i;return o[8]!==l||o[9]!==h?(a=(0,_.jsx)(D.TasksContext.Provider,{value:h,children:l}),o[8]=l,o[9]=h,o[10]=a):a=o[10],a}function exx(){let e=(0,j.c)(1),t=(0,E.useContext)(D.TasksContext);if(!t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={activeDocument:null,setActiveDocument:exC,data:[],isLoading:!1},e[0]=t):t=e[0],t}return t}function exC(){return null}function exk(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(24),[u,d]=(0,E.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={dataUri:"/journey/tasks",feature:"tasks"},c[0]=t):t=c[0];let{upsellData:p,telemetryLogs:f}=eco(t);c[1]!==f?(n=()=>{f.dialogPrimaryClicked()},c[1]=f,c[2]=n):n=c[2];let h=n;c[3]!==f?(r=()=>{f.dialogSecondaryClicked()},c[3]=f,c[4]=r):r=c[4];let m=r;c[5]!==f?(i=()=>{d(!1),f.dialogDismissed()},c[5]=f,c[6]=i):i=c[6];let g=i;c[7]!==f?(a=e=>{d(!0),f.dialogViewed(e)},c[7]=f,c[8]=a):a=c[8];let y=a;c[9]!==y||c[10]!==f||c[11]!==p||c[12]!==u?(o={upsellDialogOpen:u,handleOpenDialog:y,upsellData:p,telemetryLogs:f},c[9]=y,c[10]=f,c[11]=p,c[12]=u,c[13]=o):o=c[13];let v=o;return c[14]!==g||c[15]!==h||c[16]!==m||c[17]!==p||c[18]!==u?(l=p&&u&&(0,_.jsx)(ecD,{data:p,onClose:g,onPrimaryClick:h,onSecondaryClick:m}),c[14]=g,c[15]=h,c[16]=m,c[17]=p,c[18]=u,c[19]=l):l=c[19],c[20]!==v||c[21]!==e.children||c[22]!==l?(s=(0,_.jsxs)(D.TasksUpsellContext.Provider,{value:v,children:[e.children,l]}),c[20]=v,c[21]=e.children,c[22]=l,c[23]=s):s=c[23],s}function exw(){return(0,E.useContext)(D.TasksUpsellContext)||ex_}let ex_={upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}};function exj(){let e,t,n=(0,j.c)(14),{handleOpenTasks:r,setViewMode:i}=exd(),{enabled:a,mode:o}=eb6(),{handleOpenDialog:l}=exw();n[0]!==l||n[1]!==r||n[2]!==o||n[3]!==i?(e=()=>{"upsell"===o?l("document_action"):(r(),i({type:"create"}))},n[0]=l,n[1]=r,n[2]=o,n[3]=i,n[4]=e):e=n[4];let s=e,{t:c}=IO(eb8);e:{let e,r,i,o;if(!a){t=null;break e}n[5]!==c?(e=c("actions.create.text"),n[5]=c,n[6]=e):e=n[6],n[7]!==c?(r=c("actions.create.text"),n[7]=c,n[8]=r):r=n[8],n[9]===Symbol.for("react.memo_cache_sentinel")?(i=["paneActions"],n[9]=i):i=n[9],n[10]!==s||n[11]!==e||n[12]!==r?(o={icon:R.TaskIcon,label:e,title:r,group:i,onHandle:s},n[10]=s,n[11]=e,n[12]=r,n[13]=o):o=n[13],t=o}return t}function exS(e){let t,n,r=(0,j.c)(6),{documentId:i,documentType:a}=e,o=(0,E.useContext)(D.IsLastPaneContext),{setActiveDocument:l}=exx();return r[0]!==i||r[1]!==a||r[2]!==o||r[3]!==l?(t=()=>(i&&o&&a&&(null==l||l({documentId:(0,th.isVersionId)(i)?i:(0,th.getPublishedId)(i),documentType:a})),()=>{o&&(null==l||l(null))}),n=[i,a,o,l],r[0]=i,r[1]=a,r[2]=o,r[3]=l,r[4]=t,r[5]=n):(t=r[4],n=r[5]),(0,E.useEffect)(t,n),null}function exE(e){let t,n=(0,j.c)(2),{enabled:r}=eb6();return r?(n[0]!==e?(t=(0,_.jsx)(exS,{...e}),n[0]=e,n[1]=t):t=n[1],t):null}function exT(e){var t,n;let r,i,a,o=(0,j.c)(8),l=null==(t=e.value)?void 0:t._id,s=null==(n=e.value)?void 0:n._type;return o[0]!==l||o[1]!==s?(r=(0,_.jsx)(exE,{documentId:l,documentType:s}),o[0]=l,o[1]=s,o[2]=r):r=o[2],o[3]!==e?(i=e.renderDefault(e),o[3]=e,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(a=(0,_.jsxs)(_.Fragment,{children:[r,i]}),o[5]=r,o[6]=i,o[7]=a):a=o[7],a}exj.displayName="TaskCreateAction";let exD=F.styled.div(Ec());function exI(e){let{documentId:t,documentType:n,dataset:r,projectId:i}=e;return{documentType:n,document:{_ref:(0,th.getPublishedId)(t),_type:"crossDatasetReference",_dataset:r,_projectId:i,_weak:!0}}}function exA(e){if(!e)return[];let t=[];return null==e||e.forEach(e=>{(0,W.isPortableTextTextBlock)(e)&&e.children.forEach(e=>{"mention"!==e._type||"string"!=typeof e.userId||t.includes(e.userId)||t.push(e.userId)})}),t}let exO="2024-03-05",exP=[{value:"open",title:"To Do",icon:(0,_.jsx)(R.CircleIcon,{})},{value:"closed",title:"Done",icon:(0,_.jsx)(R.CheckmarkCircleIcon,{})}],exM=["title","status","assignedTo","dueBy","target","description"];function exF(){let{client:e,createAddonDataset:t}=ek7(),n=A6(),r=(0,E.useCallback)(async r=>{if(!n)throw Error("No current user found. Unable to create task.");let i={...r,authorId:n.id,_type:"tasks.task"};if(!e)try{let e=await t();if(!e)throw Error("No addon client found. Unable to create task.");return await e.create(i)}catch(e){throw e}try{return await e.create(i)}catch(e){throw e}},[e,t,n]),i=(0,E.useCallback)(async(t,n)=>{try{if(!e)throw Error("No client. Unable to create task.");return await e.patch(t).set(n).commit()}catch(e){throw e}},[e]),a=(0,E.useCallback)(async t=>{try{if(!e)throw Error("No client. Unable to create task.");await e.delete(t)}catch(e){throw e}},[e]);return(0,E.useMemo)(()=>({create:r,edit:i,remove:a}),[r,i,a])}function exR(e){let{id:t,onError:n,onRemoved:r}=e,[i,a]=(0,E.useState)("idle"),[o,l]=(0,E.useState)(!1),[s,c]=(0,E.useState)(null),u=exF(),d=(0,E.useCallback)(async()=>{try{a("loading"),await u.remove(t),null==r||r(),a("idle"),await new Promise(e=>setTimeout(e,300)),l(!1)}catch(e){null==n||n(e.message),c(e.message),a("error")}finally{a("idle")}},[t,u,n,r]);return{removeStatus:i,showDialog:o,error:s,handleRemove:d,handleOpenDialog:(0,E.useCallback)(()=>{l(!0)},[l]),handleCloseDialog:(0,E.useCallback)(()=>{l(!1)},[l])}}let exB={month:"long",day:"2-digit",minute:"2-digit",hour:"2-digit",second:"2-digit"},exN={minimal:!0,useTemporalPhrase:!0},exL=F.styled.strong(Eu()),exz=F.styled.span(Ed());function exV(e){let t,n=(0,j.c)(3),r=new Date(e),i=Rs(exB).format(r),a=Rp(r||"",exN);return n[0]!==i||n[1]!==a?(t={timeAgo:a,formattedDate:i},n[0]=i,n[1]=a,n[2]=t):t=n[2],t}function exU(e){let t,n=(0,j.c)(3),{userId:r}=e,[i,a]=A4(r);return n[0]!==a||n[1]!==(null==i?void 0:i.displayName)?(t=a?(0,_.jsx)(A.TextSkeleton,{style:{width:"15ch"}}):(0,_.jsx)(exL,{children:null==i?void 0:i.displayName}),n[0]=a,n[1]=null==i?void 0:i.displayName,n[2]=t):t=n[2],t}let exH={month:"short",day:"numeric"};function exq(e){let t,n=(0,j.c)(2),{date:r}=e,i=new Date(r),a=Rs(exH).format(i);return n[0]!==a?(t=(0,_.jsx)(exL,{children:(0,_.jsx)(exz,{children:a})}),n[0]=a,n[1]=t):t=n[1],t}let exW=F.styled.span(Ep());function exY(e){let t,n,r,i=(0,j.c)(11),{target:a}=e,o=el3(),l=a.document._ref,s=a.documentType,c=o.get(s),{perspectiveStack:u}=Ar();i[0]!==l||i[1]!==s||i[2]!==u?(t={documentId:l,documentType:s,perspectiveStack:u},i[0]=l,i[1]=s,i[2]=u,i[3]=t):t=i[3];let{isLoading:d,value:p}=eih(t);if(d){let e;return i[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{style:{width:"15ch"}}),i[4]=e):e=i[4],e}if(!c)return null;i[5]!==l||i[6]!==s?(n={id:l,type:s},i[5]=l,i[6]=s,i[7]=n):n=i[7];let f=null==p?void 0:p.title;return i[8]!==n||i[9]!==f?(r=(0,_.jsx)(exW,{children:(0,_.jsx)(nr.IntentLink,{intent:"edit",params:n,children:f})}),i[8]=n,i[9]=f,i[10]=r):r=i[10],r}let exK=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s=(0,j.c)(20),{activity:c}=e,{formattedDate:u,timeAgo:d}=exV(c.timestamp);s[0]!==c?(t=function(e){switch(e.field){case"status":{var t,n;let r=null==(t=exP.find(t=>t.value===e.to))?void 0:t.title;return{text:"changed status to",icon:(null==(n=exP.find(t=>t.value===e.to))?void 0:n.icon)||(0,_.jsx)(R.CircleIcon,{}),changeTo:(0,_.jsx)(exL,{children:r})}}case"target":return e.to?{text:"set target content to",icon:(0,_.jsx)(R.LinkIcon,{}),changeTo:(0,_.jsx)(exY,{target:e.to})}:{text:"removed target content",icon:(0,_.jsx)(R.LinkIcon,{}),changeTo:void 0};case"dueBy":return e.from?e.to?{text:"changed the due date to",icon:(0,_.jsx)(R.CalendarIcon,{}),changeTo:(0,_.jsx)(exq,{date:e.to})}:{text:"removed the due date",icon:(0,_.jsx)(R.CalendarIcon,{}),changeTo:void 0}:{text:"set the due date to",icon:(0,_.jsx)(R.CalendarIcon,{}),changeTo:(0,_.jsx)(exq,{date:e.to})};case"assignedTo":return e.to?{text:"assigned to",icon:(0,_.jsx)(R.UserIcon,{}),changeTo:(0,_.jsx)(exU,{userId:e.to})}:{text:"unassigned this task",icon:(0,_.jsx)(R.UserIcon,{}),changeTo:void 0};case"description":return{text:"updated the task description",icon:(0,_.jsx)(R.EditIcon,{}),changeTo:void 0};case"title":return{text:"updated the task title",icon:(0,_.jsx)(R.EditIcon,{}),changeTo:void 0};default:return{text:"",icon:(0,_.jsx)(R.CircleIcon,{})}}}(c),s[0]=c,s[1]=t):t=s[1];let{icon:p,text:f,changeTo:h}=t;return s[2]!==p?(n=(0,_.jsx)(I.Box,{marginTop:1,marginLeft:1,marginRight:3,children:(0,_.jsx)(I.Box,{marginRight:1,children:(0,_.jsx)(I.Text,{children:p})})}),s[2]=p,s[3]=n):n=s[3],s[4]!==c.author?(r=(0,_.jsx)(exU,{userId:c.author}),s[4]=c.author,s[5]=r):r=s[5],s[6]!==u||s[7]!==d?(i=(0,_.jsx)(exz,{children:(0,_.jsx)("time",{dateTime:u,children:d})}),s[6]=u,s[7]=d,s[8]=i):i=s[8],s[9]!==u||s[10]!==i?(a=(0,_.jsx)(B.Tooltip,{content:u,placement:"top-end",children:i}),s[9]=u,s[10]=i,s[11]=a):a=s[11],s[12]!==h||s[13]!==r||s[14]!==a||s[15]!==f?(o=(0,_.jsxs)(I.Text,{muted:!0,size:1,children:[r," ",f," ",h," •"," ",a]}),s[12]=h,s[13]=r,s[14]=a,s[15]=f,s[16]=o):o=s[16],s[17]!==n||s[18]!==o?(l=(0,_.jsxs)(I.Flex,{gap:1,children:[n,o]}),s[17]=n,s[18]=o,s[19]=l):l=s[19],l},(e,t)=>e.activity.timestamp===t.activity.timestamp),exG=F.styled.div(e=>{var t,n;let r=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Ef(),null==(t=r.avatar.sizes[e.$size])?void 0:t.size,null==(n=r.avatar.sizes[e.$size])?void 0:n.size,e.$border?"box-shadow: inset 0 0 0 1px var(--card-border-color);":"",e.$removeBg?"--card-avatar-gray-bg-color: transparent;":"")});function ex$(e){let t,n,r,i,a,o,l=(0,j.c)(27),{user:s,size:c,border:u}=e,d=void 0===c?0:c,p=void 0===u||u,[f,h]=A4((null==s?void 0:s.id)||"");if(h){let e;return l[0]!==d?(e=(0,_.jsx)(Re,{$size:d,animated:!0}),l[0]=d,l[1]=e):e=l[1],e}if(!s||!f){let e,t,n;return l[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(R.UserIcon,{}),l[2]=e):e=l[2],l[3]!==d?(t=(0,_.jsx)(I.Text,{size:d,children:e}),l[3]=d,l[4]=t):t=l[4],l[5]!==p||l[6]!==d||l[7]!==t?(n=(0,_.jsx)(exG,{$size:d,$border:p,children:t}),l[5]=p,l[6]=d,l[7]=t,l[8]=n):n=l[8],n}let m=!e.withTooltip;l[9]===Symbol.for("react.memo_cache_sentinel")?(t=["top","top-start"],l[9]=t):t=l[9];let g=!!(null==f?void 0:f.imageUrl);return l[10]!==f.imageUrl?(n=(null==f?void 0:f.imageUrl)?{color:void 0}:{},l[10]=f.imageUrl,l[11]=n):n=l[11],l[12]!==e.withTooltip?(r=e.withTooltip?{title:null}:{},l[12]=e.withTooltip,l[13]=r):r=l[13],l[14]!==f||l[15]!==d||l[16]!==n||l[17]!==r?(i=(0,_.jsx)(Ri,{user:f,size:d,...n,...r}),l[14]=f,l[15]=d,l[16]=n,l[17]=r,l[18]=i):i=l[18],l[19]!==d||l[20]!==g||l[21]!==i?(a=(0,_.jsx)(exG,{$size:d,$removeBg:g,children:i}),l[19]=d,l[20]=g,l[21]=i,l[22]=a):a=l[22],l[23]!==f.displayName||l[24]!==m||l[25]!==a?(o=(0,_.jsx)(B.Tooltip,{content:f.displayName,disabled:m,portal:!0,fallbackPlacements:t,placement:"top-end",children:a}),l[23]=f.displayName,l[24]=m,l[25]=a,l[26]=o):o=l[26],o}let exZ=(0,F.styled)(I.Flex)(Eh()),exX=F.styled.div(Em());function exJ(e){let t,n,r,i,a=(0,j.c)(10),{avatarPaddingTop:o,userId:l,children:s}=e,c=void 0===o?1:o;return a[0]!==l?(t=(0,_.jsx)(ex$,{user:{id:l},size:0}),a[0]=l,a[1]=t):t=a[1],a[2]!==c||a[3]!==t?(n=(0,_.jsx)(I.Box,{marginRight:3,paddingTop:c,children:t}),a[2]=c,a[3]=t,a[4]=n):n=a[4],a[5]!==s?(r=(0,_.jsx)(exZ,{align:"center",flex:1,children:(0,_.jsx)(exX,{children:s})}),a[5]=s,a[6]=r):r=a[6],a[7]!==n||a[8]!==r?(i=(0,_.jsxs)(I.Flex,{children:[n,r]}),a[7]=n,a[8]=r,a[9]=i):i=a[9],i}function exQ(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(25),{mentionOptions:d,currentUser:p,onSubmit:f}=e,{mode:h}=eb6(),[m,g]=(0,E.useState)(null),y=(0,E.useRef)(null);u[0]!==m?(t=efL(m),u[0]=m,u[1]=t):t=u[1];let v=t;u[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{g(e)},u[2]=n):n=u[2];let b=n;u[3]!==v||u[4]!==f||u[5]!==m?(r=()=>{v&&(f(m),g(null))},u[3]=v,u[4]=f,u[5]=m,u[6]=r):r=u[6];let x=r;u[7]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{var e;null==(e=y.current)||e.discardDialogController.close()},u[7]=i):i=u[7];let C=i;u[8]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{var e;null==(e=y.current)||e.discardDialogController.close(),g(null)},u[8]=a):a=u[8];let k=a;u[9]!==v?(o=e=>{var t,n;"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),v?null==(t=y.current)||t.discardDialogController.open():(null==(n=y.current)||n.discardDialogController.close(),g(null)))},u[9]=v,u[10]=o):o=u[10];let w=o,{t:S}=IO(eb8),T="upsell"===h;return u[11]!==h||u[12]!==S?(l=S("upsell"===h?"panel.comment.placeholder.upsell":"panel.comment.placeholder"),u[11]=h,u[12]=S,u[13]=l):l=u[13],u[14]!==p||u[15]!==w||u[16]!==x||u[17]!==d||u[18]!==T||u[19]!==l||u[20]!==m?(s=(0,_.jsx)(I.Card,{tone:"transparent",radius:3,padding:2,children:(0,_.jsx)(ehE,{withAvatar:!1,currentUser:p,expandOnFocus:!0,mentionOptions:d,onChange:b,onDiscardConfirm:k,onDiscardCancel:C,onKeyDown:w,onSubmit:x,readOnly:T,placeholder:l,ref:y,value:m})}),u[14]=p,u[15]=w,u[16]=x,u[17]=d,u[18]=T,u[19]=l,u[20]=m,u[21]=s):s=u[21],u[22]!==p.id||u[23]!==s?(c=(0,_.jsx)(exJ,{userId:p.id,avatarPaddingTop:3,children:s}),u[22]=p.id,u[23]=s,u[24]=c):c=u[24],c}let ex1={parentCommentAvatar:!1,threadCommentsAvatar:!0,replyAvatar:!0,avatarSize:0},ex2=F.styled.div(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Eg(),t.space[2],t.space[2])});function ex0(e){let t,n,r=(0,j.c)(6),{parentComment:i}=e,{mode:a}=eb6(),o=null!=a?a:"default";return r[0]!==e||r[1]!==o?(t=(0,_.jsx)(ex2,{children:(0,_.jsx)(emv,{...e,avatarConfig:ex1,canReply:!0,isSelected:!1,mode:o})}),r[0]=e,r[1]=o,r[2]=t):t=r[2],r[3]!==i.authorId||r[4]!==t?(n=(0,_.jsx)(exJ,{userId:i.authorId,avatarPaddingTop:3,children:t}),r[3]=i.authorId,r[4]=t,r[5]=n):n=r[5],n}let ex5=(0,F.styled)(A.TextSkeleton)(Ey()),ex7=(0,E.memo)(function(e){var t;let n,r,i,a,o,l,s,c,u=(0,j.c)(22),{createdAt:d,authorId:p}=e,[f,h]=A4(p),{timeAgo:m,formattedDate:g}=exV(d),{t:y}=IO(eb8);return u[0]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600},u[0]=n):n=u[0],u[1]!==h||u[2]!==y||u[3]!==(null==f?void 0:f.displayName)?(r=h?(0,_.jsx)(ex5,{}):null!=(t=null==f?void 0:f.displayName)?t:y("panel.activity.unknown-user"),u[1]=h,u[2]=y,u[3]=null==f?void 0:f.displayName,u[4]=r):r=u[4],u[5]!==r?(i=(0,_.jsxs)("strong",{style:n,children:[r," "]}),u[5]=r,u[6]=i):i=u[6],u[7]!==y?(a=y("panel.activity.created-fragment"),u[7]=y,u[8]=a):a=u[8],u[9]!==d||u[10]!==m?(o=(0,_.jsx)(exz,{children:(0,_.jsx)("time",{dateTime:d,children:m})}),u[9]=d,u[10]=m,u[11]=o):o=u[11],u[12]!==g||u[13]!==o?(l=(0,_.jsx)(B.Tooltip,{content:g,placement:"top-end",children:o}),u[12]=g,u[13]=o,u[14]=l):l=u[14],u[15]!==i||u[16]!==a||u[17]!==l?(s=(0,_.jsx)(I.Flex,{align:"center",paddingTop:1,children:(0,_.jsxs)(I.Text,{size:1,muted:!0,children:[i,a," •"," ",l]})}),u[15]=i,u[16]=a,u[17]=l,u[18]=s):s=u[18],u[19]!==p||u[20]!==s?(c=(0,_.jsx)(exJ,{userId:p,children:s}),u[19]=p,u[20]=s,u[21]=c):c=u[21],c},(e,t)=>e.createdAt===t.createdAt);function ex3(e){var t,n;let r,i,a,o,l=(0,j.c)(13),{value:s,onChange:c,path:u,currentUserId:d}=e,p=(null==(t=s.subscribers)?void 0:t.includes(d))?"Unsubscribe":"Subscribe";l[0]!==d||l[1]!==c||l[2]!==u||l[3]!==s.subscribers?(r=()=>{let e=s.subscribers||[];e.includes(d)||c(LB(e.concat(d),u)),e.includes(d)&&c(LB(e.filter(e=>e!==d),u))},l[0]=d,l[1]=c,l[2]=u,l[3]=s.subscribers,l[4]=r):r=l[4];let f=r;return l[5]!==p||l[6]!==f?(i=(0,_.jsx)(B.Button,{mode:"bleed",text:p,onClick:f}),l[5]=p,l[6]=f,l[7]=i):i=l[7],l[8]!==s.subscribers?(a=s.subscribers&&(null==(n=s.subscribers)?void 0:n.length)>0&&(0,_.jsx)(ex4,{subscriberIds:s.subscribers}),l[8]=s.subscribers,l[9]=a):a=l[9],l[10]!==i||l[11]!==a?(o=(0,_.jsxs)(I.Flex,{gap:1,align:"center",children:[i,a]}),l[10]=i,l[11]=a,l[12]=o):o=l[12],o}let ex8=[];function ex4(e){let{subscriberIds:t}=e,n=(0,E.useMemo)(()=>(null==t?void 0:t.filter(Boolean))||ex8,[t]);return(0,_.jsx)(no.AnimatePresence,{initial:!1,children:(0,_.jsx)(I.AvatarStack,{maxLength:3,size:0,children:n.map(e=>(0,_.jsx)(na.motion.div,{exit:{opacity:0,x:"2px",scale:.9},animate:{opacity:1,x:0,scale:1,transition:{type:"spring",visualDuration:.2}},initial:{opacity:0,x:"2px",scale:.9},children:(0,_.jsx)(ex$,{user:{id:e},size:0})},e))})})}let ex6=[],ex9={hidden:{opacity:0,x:0},visible:{opacity:1,x:0}},eCe=(0,F.styled)(na.motion.create(I.Stack))(Ev());function eCt(e){let{value:t,onChange:n,path:r,activityData:i=[]}=e,a=A6(),{title:o,basePath:l,name:s}=FU(),{comments:c,mentionOptions:u,operation:d,getComment:p}=emQ(),[f,h]=(0,E.useState)(null),[m,g]=(0,E.useState)(null),[y,v]=(0,E.useState)(!1),b=c.loading,x=c.data.open,C=(0,E.useCallback)((e,n)=>{let r=new URL("".concat(window.location.origin).concat(l?"".concat(l,"/"):""));r.searchParams.set("sidebar","tasks"),r.searchParams.set("selectedTask",null==t?void 0:t._id),r.searchParams.set("viewMode","edit"),r.searchParams.set("commentId",n);let i=exA(e),a=Array.from(new Set([...t.subscribers||[],...i]));return{documentTitle:t.title||"Sanity task",url:r.toString(),workspaceTitle:o,workspaceName:s,subscribers:a}},[l,null==t?void 0:t._id,t.title,o,t.subscribers,s]),k=(0,E.useCallback)(e=>{let t=(0,h6.uuid)(),r=C(e,t),i={id:t,type:"task",message:e,parentCommentId:void 0,reactions:ex6,status:"open",threadId:(0,h6.uuid)(),context:{notification:r}};n(LB(r.subscribers,["subscribers"])),d.create(i)},[d,C,n]),w=(0,E.useCallback)(e=>{let t=(0,h6.uuid)(),r=C(e.message,t);n(LB(r.subscribers,["subscribers"])),d.create({id:t,type:"task",message:e.message,parentCommentId:e.parentCommentId,reactions:ex6,status:"open",threadId:e.threadId,context:{notification:r}})},[d,C,n]),j=(0,E.useCallback)(e=>{let t=p(e);if(!t)return;let r=C(t.message,t._id);n(LB(r.subscribers,["subscribers"])),d.create({type:"task",id:t._id,message:t.message,parentCommentId:t.parentCommentId,reactions:t.reactions||ex6,status:t.status,threadId:t.threadId,context:{notification:r}})},[p,d,C,n]),S=(0,E.useCallback)((e,t)=>{d.react(e,t)},[d]),T=(0,E.useCallback)(e=>h(e),[]),D=(0,E.useCallback)(()=>h(null),[]),A=(0,E.useCallback)(async e=>{try{v(!0),g(null),await d.remove(e),h(null)}catch(e){g(e)}finally{v(!1)}},[d]),O=(0,E.useCallback)((e,t)=>{d.update(e,t)},[d]),P=(0,E.useMemo)(()=>{let e=i.map(e=>({_type:"activity",payload:e,timestamp:e.timestamp})),t=x.map(e=>({_type:"comment",payload:e,timestamp:e.parentComment._createdAt}));return e.concat(t).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())},[i,x]),{t:M}=IO(eb8),F=(0,E.useMemo)(()=>{var e;let t=x.find(e=>{var t;return(null==(t=e.parentComment)?void 0:t._id)===f});return!!(t&&(null==t||null==(e=t.replies)?void 0:e.length)>0)},[f,x]);return(0,_.jsxs)(_.Fragment,{children:[f&&(0,_.jsx)(efW,{commentId:f,error:m,isParent:F,loading:y,onClose:D,onConfirm:A}),(0,_.jsxs)(I.Stack,{space:5,children:[(0,_.jsxs)(I.Flex,{align:"center",children:[(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:2,weight:"semibold",children:M("panel.activity.title")})}),(null==a?void 0:a.id)&&(0,_.jsx)(ex3,{currentUserId:a.id,value:t,onChange:n,path:r})]}),b&&(0,_.jsx)(DU,{showText:!0,title:"Loading activity"}),(0,_.jsx)(no.AnimatePresence,{children:!b&&(0,_.jsxs)(eCe,{animate:"visible",initial:"hidden",space:4,variants:ex9,children:[t.createdByUser&&(0,_.jsx)(I.Stack,{paddingBottom:1,children:(0,_.jsx)(ex7,{createdAt:t.createdByUser,authorId:t.authorId})}),a&&(0,_.jsxs)(I.Stack,{space:4,marginTop:1,children:[P.map(e=>"activity"===e._type?(0,_.jsx)(exK,{activity:e.payload},e.timestamp):(0,_.jsx)(ex0,{currentUser:a,mentionOptions:u,onCreateRetry:j,onDelete:T,onEdit:O,onReactionSelect:S,onReply:w,parentComment:e.payload.parentComment,replies:e.payload.replies},e.payload.parentComment._id)),(0,_.jsx)(exQ,{currentUser:a,mentionOptions:u,onSubmit:k})]})]})})]})]})}function eCn(e){let t,n,r,i,a,o,l,s=(0,j.c)(21),{user:c,onSelect:u,pressed:d}=e,{t:p}=IO(eb8);s[0]!==u||s[1]!==c.id?(t=()=>u(c.id),s[0]=u,s[1]=c.id,s[2]=t):t=s[2];let f=t,h=!c.granted,m=c.id?c:void 0;return s[3]!==m?(n=(0,_.jsx)(ex$,{user:m,size:1}),s[3]=m,s[4]=n):n=s[4],s[5]!==c.displayName?(r=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",title:c.displayName,children:c.displayName}),s[5]=c.displayName,s[6]=r):r=s[6],s[7]!==n||s[8]!==r?(i=(0,_.jsxs)(I.Flex,{align:"center",gap:2,flex:1,children:[n,r]}),s[7]=n,s[8]=r,s[9]=i):i=s[9],s[10]!==p||s[11]!==c.granted?(a=!c.granted&&(0,_.jsx)(I.Badge,{fontSize:1,mode:"outline",children:p("form.input.assignee.unauthorized.text")}),s[10]=p,s[11]=c.granted,s[12]=a):a=s[12],s[13]!==i||s[14]!==a?(o=(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[i,a]}),s[13]=i,s[14]=a,s[15]=o):o=s[15],s[16]!==f||s[17]!==d||s[18]!==h||s[19]!==o?(l=(0,_.jsx)(I.MenuItem,{onClick:f,padding:1,disabled:h,pressed:d,children:o}),s[16]=f,s[17]=d,s[18]=h,s[19]=o,s[20]=l):l=s[20],l}let eCr=(0,F.styled)(I.Menu)(Eb()),eCi=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],eCa={id:"",displayName:"No assignee",granted:!0};function eCo(e){let{onSelect:t,value:n=""}=e,[r,i]=(0,E.useState)(""),{mentionOptions:a}=ext(),o=(0,E.useRef)(null),l=[eCa].concat(a.data||[]),s=(0,E.useCallback)(e=>{i(e.currentTarget.value)},[]),c=(0,E.useMemo)(()=>{var e,t;if(!r)return l||[];let n=(0,ga.default)(r).toLocaleLowerCase();return(null==l||null==(t=l.map(e=>({...e,searchName:(0,ga.default)(e.displayName||"").toLocaleLowerCase()})))||null==(e=t.filter(e=>null==e?void 0:e.searchName.includes(n)))?void 0:e.sort((e,t)=>{let r=e.searchName.startsWith(n),i=t.searchName.startsWith(n);return r&&!i?-1:!r&&i?1:0}))||[]},[l,r]),u=(0,E.useCallback)(e=>(0,_.jsx)(eCn,{user:e,onSelect:t,pressed:e.id===n},e.id),[t,n]),d=(0,E.useCallback)(e=>{var t;e.target!==o.current&&(eCi.includes(e.key)||null==(t=o.current)||t.focus())},[]),{t:p}=IO(eb8);return a.loading?(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(DU,{showText:!0})}):(0,_.jsxs)("div",{onKeyDown:d,children:[(0,_.jsx)(I.TextInput,{placeholder:p("form.input.assignee.search.placeholder"),autoFocus:!0,border:!1,onChange:s,value:r,fontSize:1,icon:R.UserIcon,ref:o,name:"assigneeSearch",autoComplete:"off"}),(0,_.jsx)("div",{style:{maxHeight:"320px",overflowY:"scroll",paddingTop:"8px"},children:0===c.length?(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Text,{align:"center",size:1,muted:!0,children:p("form.input.assignee.search.no-users.text")})}):(0,_.jsx)(I.VirtualList,{items:c,renderItem:u})})]})}function eCl(e){let t,n,r,i=(0,j.c)(7),{onSelect:a,menuButton:o,value:l}=e;return i[0]!==a||i[1]!==l?(t=(0,_.jsx)(eCr,{children:(0,_.jsx)(eCo,{onSelect:a,value:l})}),i[0]=a,i[1]=l,i[2]=t):t=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(n={placement:"bottom",fallbackPlacements:["bottom"],portal:!0,constrainSize:!0},i[3]=n):n=i[3],i[4]!==o||i[5]!==t?(r=(0,_.jsx)(B.MenuButton,{button:o,id:"assign-user-menu",menu:t,popover:n}),i[4]=o,i[5]=t,i[6]=r):r=i[6],r}let eCs=(0,F.styled)(I.Card)(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Ex(),t.color.input.default.enabled.placeholder)});function eCc(e){var t;let n,r,i,a,o,l,s,c,u,d=(0,j.c)(29),{value:p,onChange:f}=e,{mentionOptions:h}=ext();d[0]!==h.data||d[1]!==p?(n=null==(t=h.data)?void 0:t.find(e=>e.id===p),d[0]=h.data,d[1]=p,d[2]=n):n=d[2];let m=n;d[3]!==f?(r=e=>f(LB(e)),d[3]=f,d[4]=r):r=d[4];let g=r,{t:y}=IO(eb8);e:{let e;if(p){if(h.loading){let e;d[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{animated:!0,style:{width:"10ch"}}),d[5]=e):e=d[5],i=e;break e}if(m){i=m.displayName||m.email;break e}if(!m){let e;d[6]!==y?(e=y("form.input.assignee.user-not-found.text"),d[6]=y,d[7]=e):e=d[7],i=e;break e}}d[8]!==y?(e=y("form.input.assignee.search.placeholder"),d[8]=y,d[9]=e):e=d[9],i=e}let v=i;d[10]!==m?(a=(0,_.jsx)(ex$,{user:m,size:1,border:!1}),d[10]=m,d[11]=a):a=d[11];let b=!m;return d[12]!==v||d[13]!==b?(o=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",muted:b,children:v}),d[12]=v,d[13]=b,d[14]=o):o=d[14],d[15]!==a||d[16]!==o?(l=(0,_.jsxs)(I.Flex,{align:"center",gap:1,flex:1,children:[a,o]}),d[15]=a,d[16]=o,d[17]=l):l=d[17],d[18]!==m||d[19]!==y||d[20]!==p?(s=p&&m&&!m.granted&&(0,_.jsx)(I.Badge,{fontSize:1,mode:"outline",children:y("form.input.assignee.unauthorized.text")}),d[18]=m,d[19]=y,d[20]=p,d[21]=s):s=d[21],d[22]!==l||d[23]!==s?(c=(0,_.jsx)(eCs,{"data-as":"button",padding:1,radius:2,tabIndex:0,children:(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[l,s]})}),d[22]=l,d[23]=s,d[24]=c):c=d[24],d[25]!==g||d[26]!==c||d[27]!==p?(u=(0,_.jsx)(eCl,{onSelect:g,value:p,menuButton:c}),d[25]=g,d[26]=c,d[27]=p,d[28]=u):u=d[28],u}let eCu=(0,F.styled)(I.Button)(EC());function eCd(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(37),{value:m,onChange:g,path:y}=e;h[0]===Symbol.for("react.memo_cache_sentinel")?(n=["subscribers"],h[0]=n):n=h[0];let v=zB(n),{mentionOptions:b}=ext();h[1]!==b.data||h[2]!==m?(r=null==(t=b.data)?void 0:t.find(e=>e.id===m),h[1]=b.data,h[2]=m,h[3]=r):r=h[3];let x=r,{t:C}=IO(eb8);h[4]!==g||h[5]!==y||h[6]!==v?(i=e=>{g(LB(e,y)),v&&!v.includes(e)&&e&&g(LB([...v,e],["subscribers"]))},h[4]=g,h[5]=y,h[6]=v,h[7]=i):i=h[7];let k=i;e:{let e;if(m){if(b.loading){let e;h[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(A.TextSkeleton,{animated:!0,style:{width:"10ch"}}),h[8]=e):e=h[8],a=e;break e}if(x){a=x.displayName||x.email;break e}if(!x){let e;h[9]!==C?(e=C("form.input.assignee.user-not-found.text"),h[9]=C,h[10]=e):e=h[10],a=e;break e}}h[11]!==C?(e=C("form.input.assignee.no-user-assigned.text"),h[11]=C,h[12]=e):e=h[12],a=e}let w=a;return h[13]!==C||h[14]!==m?(o=C(m?"form.input.assignee.user-assigned.tooltip":"form.input.assignee.no-user-assigned.tooltip"),h[13]=C,h[14]=m,h[15]=o):o=h[15],h[16]!==x?(l=(0,_.jsx)(ex$,{user:x,size:0}),h[16]=x,h[17]=l):l=h[17],h[18]!==w?(s=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",children:w})}),h[18]=w,h[19]=s):s=h[19],h[20]!==l||h[21]!==s?(c=(0,_.jsxs)(I.Flex,{align:"center",gap:2,flex:1,children:[l,s]}),h[20]=l,h[21]=s,h[22]=c):c=h[22],h[23]!==x||h[24]!==C||h[25]!==m?(u=m&&x&&!x.granted&&(0,_.jsx)(I.Badge,{fontSize:1,mode:"outline",children:C("form.input.assignee.unauthorized.text")}),h[23]=x,h[24]=C,h[25]=m,h[26]=u):u=h[26],h[27]!==c||h[28]!==u?(d=(0,_.jsxs)(I.Flex,{align:"center",gap:3,children:[c,u]}),h[27]=c,h[28]=u,h[29]=d):d=h[29],h[30]!==o||h[31]!==d?(p=(0,_.jsx)(eCu,{mode:"ghost",padding:0,children:(0,_.jsx)(B.Tooltip,{content:o,children:d})}),h[30]=o,h[31]=d,h[32]=p):p=h[32],h[33]!==k||h[34]!==p||h[35]!==m?(f=(0,_.jsx)(eCl,{onSelect:k,value:m,menuButton:p}),h[33]=k,h[34]=p,h[35]=m,h[36]=f):f=h[36],f}function eCp(e){var t;let{value:n,onChange:r,path:i}=e,{t:a}=IO(),{t:o}=IO(eb8),[l,s]=(0,E.useState)(!1),c=(0,E.useRef)(null),u=(0,E.useRef)(null),d=Rs({dateStyle:"long"}),p=(0,E.useMemo)(()=>{if(!n)return{short:"----",full:"----"};let e=d.format(new Date(n)),[t]=e.split(",");return{short:t,full:e}},[d,n]);(0,I.useClickOutsideEvent)(()=>s(!1),()=>[c.current]);let f=(0,E.useCallback)(e=>{"Escape"===e.key&&s(!1)},[]),h=(0,E.useCallback)(()=>s(e=>!e),[]),m=(0,E.useMemo)(()=>GT(a),[a]),g=(0,E.useCallback)(e=>{r(e?LB((0,tm.format)(e,tm.DEFAULT_DATE_FORMAT),i):LN(i)),s(!1)},[r,i]),y=(0,tm.parse)(n||"",tm.DEFAULT_DATE_FORMAT),v=(0,E.useCallback)(()=>{var e;null==(e=u.current)||e.focus()},[u]),b=(null==y||null==(t=y.date)?void 0:t.getFullYear())===new Date().getFullYear();return(0,_.jsx)(B.Popover,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,ref:c,content:(0,_.jsx)(I.Box,{overflow:"auto",children:(0,_.jsxs)(ts.default,{onDeactivation:v,children:[(0,_.jsx)(G_,{calendarLabels:m,selectTime:!1,timeStep:1,onKeyUp:f,value:y.date,onChange:g,timeZoneScope:erR}),n&&(0,_.jsx)(I.Flex,{justify:"flex-start",padding:3,paddingTop:0,children:(0,_.jsx)(B.Button,{mode:"bleed",text:o("form.input.date.buttons.remove.text"),onClick:()=>g(null),tone:"critical"})})]})}),open:l,placement:"bottom",fallbackPlacements:["bottom-start","bottom-end"],children:(0,_.jsx)(B.Button,{icon:R.CalendarIcon,mode:"ghost",text:b?p.short:p.full,onClick:h,ref:u,tooltipProps:{content:o(n?"form.input.date.buttons.tooltip":"form.input.date.buttons.empty.tooltip")}})})}let eCf=(0,F.styled)(I.Text)(Ek());function eCh(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(I.Box,{paddingTop:2,paddingBottom:3,children:(0,_.jsx)(eCf,{size:1,children:r})}),n[0]=r,n[1]=t):t=n[1],t}let eCm=e=>{let{children:t}=e;return(0,_.jsx)(eCh,{children:t})},eCg=F.styled.div(e=>{let t=(0,ne.getTheme_v2)(e.theme),n="edit"===e.$mode?t.space[1]:t.space[3],r="edit"===e.$mode?120:200;return(0,F.css)(Ew(),"edit"===e.$mode?"".concat(n,"px 0px"):"".concat(n,"px ").concat(t.space[2],"px"),Math.max(e.$minHeight+n,r),"edit"===e.$mode?"none":"")});function eCy(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(23),{value:d,mode:p,inputProps:f}=e,{onChange:h}=f,m=A6(),{mentionOptions:g}=ext();u[0]!==h?(t=e=>h(LB(e)),u[0]=h,u[1]=t):t=u[1];let y=t,[v,b]=(0,E.useState)(null),[x,C]=(0,E.useState)(200);u[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{let t=e.querySelector('[role="textbox"]');t&&C(t.scrollHeight)},u[2]=n):n=u[2];let k=n;u[3]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{e&&(0,E.startTransition)(()=>{b(e)})},u[3]=r):r=u[3];let w=r,{t:S}=IO(eb8);return(u[4]!==v?(i=()=>{v&&k(v)},u[4]=v,u[5]=i):i=u[5],u[6]!==v||u[7]!==d?(a=[d,k,v],u[6]=v,u[7]=d,u[8]=a):a=u[8],(0,E.useEffect)(i,a),m)?(u[9]!==d?(o=null!=d?d:[],u[9]=d,u[10]=o):o=u[10],u[11]!==S?(l=S("form.input.description.placeholder"),u[11]=S,u[12]=l):l=u[12],u[13]!==m||u[14]!==y||u[15]!==g||u[16]!==o||u[17]!==l?(s=(0,_.jsx)(ehE,{expandOnFocus:!1,currentUser:m,mentionOptions:g,onChange:y,value:o,withAvatar:!1,placeholder:l,onDiscardConfirm:eCv,renderBlock:eCm}),u[13]=m,u[14]=y,u[15]=g,u[16]=o,u[17]=l,u[18]=s):s=u[18],u[19]!==p||u[20]!==s||u[21]!==x?(c=(0,_.jsx)(eCg,{$mode:p,ref:w,$minHeight:x,children:s}),u[19]=p,u[20]=s,u[21]=x,u[22]=c):c=u[22],c):null}function eCv(){return null}let eCb=F.styled.div(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(E_(),t.font.text.weights.regular)});function eCx(e){let t,n,r=(0,j.c)(4);return r[0]!==e?(t=e.renderDefault(e),r[0]=e,r[1]=t):t=r[1],r[2]!==t?(n=(0,_.jsx)(eCb,{children:t}),r[2]=t,r[3]=n):n=r[3],n}let eCC=(0,E.forwardRef)(function(e,t){var n;let r,i,a,o,l,s,c,u,d=(0,j.c)(21),{t:p}=IO(eb8);if(d[0]!==e?({value:a,options:r,...i}=e,d[0]=e,d[1]=r,d[2]=i,d[3]=a):(r=d[1],i=d[2],a=d[3]),d[4]!==r||d[5]!==a){let e;d[7]!==a?(e=e=>e.value===a,d[7]=a,d[8]=e):e=d[8],o=r.find(e),d[4]=r,d[5]=a,d[6]=o}else o=d[6];let f=o;d[9]!==a?(l=null==(n=exP.find(e=>e.value===a))?void 0:n.icon,d[9]=a,d[10]=l):l=d[10];let h=l;d[11]!==p?(s=p("form.input.status.button.tooltip"),d[11]=p,d[12]=s):s=d[12],d[13]!==s?(c={content:s},d[13]=s,d[14]=c):c=d[14];let m=(null==f?void 0:f.title)||a;return d[15]!==h||d[16]!==t||d[17]!==i||d[18]!==c||d[19]!==m?(u=(0,_.jsx)(B.Button,{...i,ref:t,tooltipProps:c,icon:h,text:m,tone:"default",mode:"ghost"}),d[15]=h,d[16]=t,d[17]=i,d[18]=c,d[19]=m,d[20]=u):u=d[20],u});function eCk(e){let t,n,r,i,a,o=(0,j.c)(20),{value:l,onChange:s,options:c,path:u}=e,d=(0,tp.useTelemetry)();o[0]!==s||o[1]!==u||o[2]!==d||o[3]!==l?(t=e=>{s(LB(e,u)),d.log(exr,{from:l,to:e})},o[0]=s,o[1]=u,o[2]=d,o[3]=l,o[4]=t):t=o[4];let p=t;if(o[5]!==c||o[6]!==l?(n=(0,_.jsx)(eCC,{value:l,options:c}),o[5]=c,o[6]=l,o[7]=n):n=o[7],o[8]!==p||o[9]!==c||o[10]!==l){let e;o[12]!==p||o[13]!==l?(e=e=>{var t;let n=l===e.value,r=null==(t=exP.find(t=>t.value===e.value))?void 0:t.icon;return(0,_.jsx)(B.MenuItem,{icon:"string"==typeof e.value&&r||R.CircleIcon,text:e.title||e.value,pressed:n,iconRight:n&&(0,_.jsx)(R.CheckmarkIcon,{}),onClick:()=>p(e.value)},e.title)},o[12]=p,o[13]=l,o[14]=e):e=o[14],r=c.map(e),o[8]=p,o[9]=c,o[10]=l,o[11]=r}else r=o[11];return o[15]!==r?(i=(0,_.jsx)(I.Menu,{children:r}),o[15]=r,o[16]=i):i=o[16],o[17]!==n||o[18]!==i?(a=(0,_.jsx)(B.MenuButton,{button:n,id:"reference-menuButton",menu:i}),o[17]=n,o[18]=i,o[19]=a):a=o[19],a}function eCw(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)("div",{children:"Config errors"}),t[0]=e):e=t[0],e}function eC_(e){let t,n=(0,j.c)(2),{children:r}=e;return n[0]!==r?(t=(0,_.jsx)(eE6,{LoadingComponent:DU,ConfigErrorsComponent:eCw,children:r}),n[0]=r,n[1]=t):t=n[1],t}let eCj=(0,F.styled)(I.Card)(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(Ej(),t.color.input.default.hovered.border)}),eCS=(0,F.styled)(I.Text)(e=>"\n      color: ".concat((0,ne.getTheme_v2)(e.theme).color.input.default.enabled.placeholder,";\n      margin-left: 3px;\n  ")),eCE=(0,F.styled)(I.Card)(ES()),eCT=(0,F.styled)(nr.IntentLink)(()=>(0,F.css)(EE()));function eCD(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(28),{value:u,handleRemove:d}=e,p=u.document._ref,f=u.documentType,h=el3();c[0]!==h||c[1]!==u.documentType?(t=h.get(u.documentType),c[0]=h,c[1]=u.documentType,c[2]=t):t=c[2];let m=t,g=Fb(p),{t:y}=IO(eb8);c[3]!==p||c[4]!==f?(n=(0,E.forwardRef)(function(e,t){let n=(0,th.getVersionFromId)(p);return(0,_.jsx)(eCT,{...e,intent:"edit",params:{id:(0,th.getPublishedId)(p),type:f},ref:t,searchParams:n?[["perspective",n]]:void 0})}),c[3]=p,c[4]=f,c[5]=n):n=c[5];let v=n;if(!m){let e,t;return c[6]!==y?(e=y("form.input.target.error.schema-not-found"),c[6]=y,c[7]=e):e=c[7],c[8]!==e?(t=(0,_.jsx)(I.Text,{children:e}),c[8]=e,c[9]=t):t=c[9],t}return c[10]!==g||c[11]!==f||c[12]!==m||c[13]!==u.document._ref?(r=(0,_.jsx)(elA,{documentType:f,documentId:u.document._ref,layout:"compact",presence:g,schemaType:m,showBadge:!1}),c[10]=g,c[11]=f,c[12]=m,c[13]=u.document._ref,c[14]=r):r=c[14],c[15]!==v||c[16]!==r?(i=(0,_.jsx)(I.Card,{as:v,radius:2,"data-as":"button",children:r}),c[15]=v,c[16]=r,c[17]=i):i=c[17],c[18]!==y?(a=y("form.input.target.buttons.remove.text"),c[18]=y,c[19]=a):a=c[19],c[20]!==a?(o={content:a},c[20]=a,c[21]=o):o=c[21],c[22]!==d||c[23]!==o?(l=(0,_.jsx)("div",{"data-ui":"show-on-hover",children:(0,_.jsx)(B.Button,{icon:R.CloseIcon,mode:"bleed",onClick:d,tooltipProps:o})}),c[22]=d,c[23]=o,c[24]=l):l=c[24],c[25]!==i||c[26]!==l?(s=(0,_.jsx)(eCE,{border:!0,radius:2,children:(0,_.jsxs)(I.Flex,{gap:1,align:"center",justify:"space-between",children:[i,l]})}),c[25]=i,c[26]=l,c[27]=s):s=c[27],s}function eCI(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(32),[f,h]=(0,E.useState)(!1),{dataset:m,projectId:g}=FU(),{mode:y,inputProps:v,value:b}=e,{onChange:x}=v;p[0]!==m||p[1]!==x||p[2]!==g?(t=e=>{x(LB(exI({documentId:e._id,documentType:e._type,dataset:m,projectId:g})))},p[0]=m,p[1]=x,p[2]=g,p[3]=t):t=p[3];let C=t;p[4]!==x?(n=()=>{x(LN())},p[4]=x,p[5]=n):n=p[5];let k=n;p[6]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{h(!0)},p[6]=r):r=p[6];let w=r;p[7]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{h(!1)},p[7]=i):i=p[7];let S=i;p[8]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{("Enter"===e.key||" "===e.key)&&h(!0)},p[8]=a):a=p[8];let T=a,{t:D}=IO(eb8),A="edit"===y,O=4*("edit"===y);return p[9]!==y||p[10]!==e.description||p[11]!==e.inputId||p[12]!==e.title||p[13]!==e.validation?(o="create"===y&&(0,_.jsx)(I.Box,{"data-ui":"fieldHeaderContentBox",children:(0,_.jsx)(HU,{description:e.description,inputId:e.inputId,title:e.title,validation:e.validation,deprecated:void 0})}),p[9]=y,p[10]=e.description,p[11]=e.inputId,p[12]=e.title,p[13]=e.validation,p[14]=o):o=p[14],p[15]!==k||p[16]!==D||p[17]!==b?(l=b?(0,_.jsx)(eCD,{value:b,handleRemove:k}):(0,_.jsx)(eCj,{border:!0,radius:2,paddingX:2,paddingY:3,onClick:w,onKeyDown:T,tabIndex:0,children:(0,_.jsxs)(I.Flex,{gap:1,justify:"flex-start",align:"center",children:[(0,_.jsx)(I.Box,{paddingX:1,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.DocumentIcon,{})})}),(0,_.jsx)(eCS,{size:1,children:D("form.input.target.search.placeholder")})]})}),p[15]=k,p[16]=D,p[17]=b,p[18]=l):l=p[18],p[19]!==o||p[20]!==l?(s=(0,_.jsxs)(I.Stack,{space:2,children:[o,l]}),p[19]=o,p[20]=l,p[21]=s):s=p[21],p[22]!==C||p[23]!==f?(c=(0,_.jsx)(elz,{open:f,onClose:S,onItemSelect:C,disableIntentLink:!0}),p[22]=C,p[23]=f,p[24]=c):c=p[24],p[25]!==s||p[26]!==c?(u=(0,_.jsx)(eCb,{children:(0,_.jsx)(I.LayerProvider,{zOffset:100,children:(0,_.jsx)(eC_,{children:(0,_.jsxs)(elJ,{children:[s,c]})})})}),p[25]=s,p[26]=c,p[27]=u):u=p[27],p[28]!==u||p[29]!==A||p[30]!==O?(d=(0,_.jsx)(I.Card,{borderBottom:A,paddingBottom:O,children:u}),p[28]=u,p[29]=A,p[30]=O,p[31]=d):d=p[31],d}let eCA=F.styled.div(e=>"\n      display: grid;\n      grid-template-columns: 1fr;\n      padding-top: ".concat((0,ne.getTheme_v2)(e.theme).space[3],"px;\n    ")),eCO=F.styled.textarea(e=>{let{color:t,font:n}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(ET(),n.text.family,n.text.weights.semibold,n.text.sizes[3].fontSize,n.text.sizes[3].lineHeight,t.input.default.enabled.fg,t.input.default.enabled.placeholder)});function eCP(e){let t,n,r,i,a=(0,j.c)(11),{value:o,onChange:l,placeholder:s,path:c}=e,u=(0,E.useRef)(null);a[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{u.current&&(u.current.style.height="auto",u.current.style.height="".concat(u.current.scrollHeight,"px"))},a[0]=t):t=a[0],a[1]!==o?(n=[o],a[1]=o,a[2]=n):n=a[2],(0,E.useEffect)(t,n),a[3]!==l||a[4]!==c?(r=e=>{let t=e.currentTarget.value;return t||l(LN(c)),l(LB(t.replace(/\n/g,""),c))},a[3]=l,a[4]=c,a[5]=r):r=a[5];let d=r,p=!o;return a[6]!==d||a[7]!==s||a[8]!==p||a[9]!==o?(i=(0,_.jsx)(eCA,{children:(0,_.jsx)(eCO,{ref:u,autoFocus:p,value:o,placeholder:s,onChange:d,rows:1})}),a[6]=d,a[7]=s,a[8]=p,a[9]=o,a[10]=i):i=a[10],i}function eCM(e){let t,n=(0,j.c)(4),{value:r,inputProps:i}=e,{onChange:a,schemaType:o}=i;return n[0]!==a||n[1]!==o.placeholder||n[2]!==r?(t=(0,_.jsx)(eCP,{value:r,onChange:a,placeholder:o.placeholder}),n[0]=a,n[1]=o.placeholder,n[2]=r,n[3]=t):t=n[3],t}function eCF(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k=(0,j.c)(67),[w,S]=(0,E.useState)(!1),{onChange:T}=e,{setViewMode:D,setActiveTab:O}=exd(),P=(0,A.useToast)(),M=(0,tp.useTelemetry)(),[F,N]=(0,E.useState)(!1);k[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>N(eCR),k[0]=t):t=k[0];let L=t,z=e.value;k[1]!==D?(n=()=>{D({type:"list"})},k[1]=D,k[2]=n):n=k[2];let V=n;k[3]!==V||k[4]!==z._id?(r={id:z._id,onRemoved:V},k[3]=V,k[4]=z._id,k[5]=r):r=k[5];let{handleRemove:U,removeStatus:H}=exR(r),{t:q}=IO(eb8),{data:W}=exx();if(k[6]!==W||k[7]!==z._id){let e;k[9]!==z._id?(e=e=>e._id===z._id,k[9]=z._id,k[10]=e):e=k[10],i=W.find(e),k[6]=W,k[7]=z._id,k[8]=i}else i=k[8];let Y=i;k[11]!==F||k[12]!==O||k[13]!==D||k[14]!==q||k[15]!==M||k[16]!==P?(a=()=>{M.log(exn),P.push({closable:!0,status:"success",title:q("form.status.success")}),S(!1),F?D({type:"create"}):O("subscribed")},k[11]=F,k[12]=O,k[13]=D,k[14]=q,k[15]=M,k[16]=P,k[17]=a):a=k[17];let K=(0,tu.useEffectEvent)(a);k[18]!==w||k[19]!==K||k[20]!==(null==Y?void 0:Y.createdByUser)?(o=()=>{w&&(null==Y?void 0:Y.createdByUser)&&K()},k[18]=w,k[19]=K,k[20]=null==Y?void 0:Y.createdByUser,k[21]=o):o=k[21];let G=null==Y?void 0:Y.createdByUser;k[22]!==w||k[23]!==G?(l=[w,G],k[22]=w,k[23]=G,k[24]=l):l=k[24],(0,E.useEffect)(o,l),k[25]!==q||k[26]!==P?(s=()=>{S(!1),P.push({closable:!0,status:"error",title:q("form.status.error.creation-failed")})},k[25]=q,k[26]=P,k[27]=s):s=k[27];let $=(0,tu.useEffectEvent)(s);k[28]!==w||k[29]!==$?(c=()=>{let e=null;return w&&(e=setTimeout(()=>$(),1e4)),()=>{e&&clearTimeout(e)}},k[28]=w,k[29]=$,k[30]=c):c=k[30],k[31]!==w?(u=[w],k[31]=w,k[32]=u):u=k[32],(0,E.useEffect)(c,u),k[33]!==T||k[34]!==q||k[35]!==P||k[36]!==z?(d=async()=>{if(S(!0),!(null==z?void 0:z.title))return void P.push({closable:!0,status:"error",title:q("form.status.error.title-required")});T([LB((e=>{let t=e.subscribers||[];return exA(e.description).forEach(e=>{t.includes(e)||t.push(e)}),e.assignedTo&&(t.includes(e.assignedTo)||t.push(e.assignedTo)),t})(z),["subscribers"]),LB(new Date().toISOString(),["createdByUser"])])},k[33]=T,k[34]=q,k[35]=P,k[36]=z,k[37]=d):d=k[37];let Z=d;return k[38]!==e?(p=e.renderDefault(e),k[38]=e,k[39]=p):p=k[39],k[40]!==U||k[41]!==H||k[42]!==q||k[43]!==z._rev?(f=z._rev&&(0,_.jsx)(B.Button,{onClick:U,mode:"bleed",icon:R.TrashIcon,tooltipProps:{content:q("buttons.discard.text")},disabled:"loading"===H,loading:"loading"===H}),k[40]=U,k[41]=H,k[42]=q,k[43]=z._rev,k[44]=f):f=k[44],k[45]!==F?(h=(0,_.jsx)(I.Switch,{onChange:L,checked:F}),k[45]=F,k[46]=h):h=k[46],k[47]!==q?(m=q("form.input.create-more.text"),k[47]=q,k[48]=m):m=k[48],k[49]!==m?(g=(0,_.jsx)(I.Text,{size:1,muted:!0,children:m}),k[49]=m,k[50]=g):g=k[50],k[51]!==h||k[52]!==g?(y=(0,_.jsxs)(I.Flex,{align:"center",gap:2,justify:"flex-end",flex:1,children:[h,g]}),k[51]=h,k[52]=g,k[53]=y):y=k[53],k[54]!==q?(v=q("buttons.create.text"),k[54]=q,k[55]=v):v=k[55],k[56]!==w||k[57]!==Z||k[58]!==v?(b=(0,_.jsx)(B.Button,{text:v,onClick:Z,disabled:w,loading:w}),k[56]=w,k[57]=Z,k[58]=v,k[59]=b):b=k[59],k[60]!==f||k[61]!==y||k[62]!==b?(x=(0,_.jsx)(I.Box,{paddingY:5,children:(0,_.jsxs)(I.Flex,{paddingTop:1,gap:4,children:[f,y,b]})}),k[60]=f,k[61]=y,k[62]=b,k[63]=x):x=k[63],k[64]!==p||k[65]!==x?(C=(0,_.jsxs)(_.Fragment,{children:[p,x]}),k[64]=p,k[65]=x,k[66]=C):C=k[66],C}function eCR(e){return!e}function eCB(e){let t=(0,j.c)(25),{handleCloseDialog:n,handleRemove:r,removeStatus:i,showDialog:a}=e,{t:o}=IO(eb8);if(a){let e,a,l,s,c,u,d,p,f;t[0]!==o?(e=o("dialog.remove-task.title"),t[0]=o,t[1]=e):e=t[1],t[2]!==o?(a=o("dialog.remove-task.buttons.cancel.text"),t[2]=o,t[3]=a):a=t[3],t[4]!==n||t[5]!==a?(l={text:a,onClick:n},t[4]=n,t[5]=a,t[6]=l):l=t[6],t[7]!==o?(s=o("dialog.remove-task.buttons.confirm.text"),t[7]=o,t[8]=s):s=t[8];let h="loading"===i;return t[9]!==r||t[10]!==s||t[11]!==h?(c={text:s,tone:"critical",onClick:r,loading:h},t[9]=r,t[10]=s,t[11]=h,t[12]=c):c=t[12],t[13]!==l||t[14]!==c?(u={cancelButton:l,confirmButton:c},t[13]=l,t[14]=c,t[15]=u):u=t[15],t[16]!==o?(d=o("dialog.remove-task.body"),t[16]=o,t[17]=d):d=t[17],t[18]!==d?(p=(0,_.jsx)(I.Stack,{space:3,children:(0,_.jsx)(I.Text,{as:"p",children:d})}),t[18]=d,t[19]=p):p=t[19],t[20]!==n||t[21]!==e||t[22]!==u||t[23]!==p?(f=(0,_.jsx)(B.Dialog,{id:"remove-task",header:e,onClose:n,footer:u,children:p}),t[20]=n,t[21]=e,t[22]=u,t[23]=p,t[24]=f):f=t[24],f}return null}let eCN=(0,F.styled)(I.Flex)(e=>{let t=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(ED(),t.space[2],t.space[3])});function eCL(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(42),{id:v,value:b}=e,{setViewMode:x,handleCopyLinkToTask:C}=exd(),{mode:k}=eb6(),w=(0,tp.useTelemetry)();y[0]!==x||y[1]!==w?(t=()=>{x({type:"list"}),w.log(exa)},y[0]=x,y[1]=w,y[2]=t):t=y[2];let S=t;y[3]!==v||y[4]!==S?(n={id:v,onRemoved:S},y[3]=v,y[4]=S,y[5]=n):n=y[5];let E=exR(n);y[6]!==x||y[7]!==w||y[8]!==b?(r=()=>{x({type:"duplicate",duplicateTaskValues:b}),w.log(exi)},y[6]=x,y[7]=w,y[8]=b,y[9]=r):r=y[9];let T=r,{t:D}=IO(eb8);y[10]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(DO,{}),y[10]=i):i=y[10],y[11]===Symbol.for("react.memo_cache_sentinel")?(a={placement:"bottom",fallbackPlacements:["bottom-end","bottom-start"]},y[11]=a):a=y[11],y[12]!==D?(o=D("menuitem.duplicate.text"),y[12]=D,y[13]=o):o=y[13],y[14]!==k||y[15]!==D?(l="upsell"===k?{content:D("menuitem.duplicate.upsell-tooltip")}:void 0,y[14]=k,y[15]=D,y[16]=l):l=y[16];let A="upsell"===k;return y[17]!==T||y[18]!==o||y[19]!==l||y[20]!==A?(s=(0,_.jsx)(B.MenuItem,{text:o,icon:R.CopyIcon,onClick:T,tooltipProps:l,disabled:A}),y[17]=T,y[18]=o,y[19]=l,y[20]=A,y[21]=s):s=y[21],y[22]!==D?(c=D("menuitem.copylink.text"),y[22]=D,y[23]=c):c=y[23],y[24]!==C||y[25]!==c?(u=(0,_.jsx)(B.MenuItem,{text:c,icon:R.LinkIcon,onClick:C}),y[24]=C,y[25]=c,y[26]=u):u=y[26],y[27]===Symbol.for("react.memo_cache_sentinel")?(d=(0,_.jsx)(I.MenuDivider,{}),y[27]=d):d=y[27],y[28]!==D?(p=D("menuitem.delete.text"),y[28]=D,y[29]=p):p=y[29],y[30]!==E.handleOpenDialog||y[31]!==p?(f=(0,_.jsx)(B.MenuItem,{text:p,icon:R.TrashIcon,onClick:E.handleOpenDialog,tone:"critical"}),y[30]=E.handleOpenDialog,y[31]=p,y[32]=f):f=y[32],y[33]!==u||y[34]!==f||y[35]!==s?(h=(0,_.jsx)(I.Box,{paddingTop:3,children:(0,_.jsx)(B.MenuButton,{id:"edit-task-menu",button:i,popover:a,menu:(0,_.jsxs)(I.Menu,{children:[s,u,d,f]})})}),y[33]=u,y[34]=f,y[35]=s,y[36]=h):h=y[36],y[37]!==E?(m=(0,_.jsx)(eCB,{...E}),y[37]=E,y[38]=m):m=y[38],y[39]!==h||y[40]!==m?(g=(0,_.jsxs)(_.Fragment,{children:[h,m]}),y[39]=h,y[40]=m,y[41]=g):g=y[41],g}function eCz(e){var t,n,r,i,a,o;let l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,D=(0,j.c)(52);D[0]!==e.schemaType.fields?(l=e.schemaType.fields.find(eCV),D[0]=e.schemaType.fields,D[1]=l):l=D[1];let A=l,O=e.value,P=A6(),{t:M}=IO(eb8),F=function(e){var t;let n,r,i,a,o,l,s,c,u=(0,j.c)(17);u[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],u[0]=n):n=u[0];let[d,p]=(0,E.useState)(n);u[1]===Symbol.for("react.memo_cache_sentinel")?(r={apiVersion:exO},u[1]=r):r=u[1];let f=eTt(r),h=null!=(t=null==e?void 0:e._id)?t:"";u[2]!==h?(i=(0,th.getPublishedId)(h),u[2]=h,u[3]=i):i=u[3];let m=i;u[4]!==f||u[5]!==m?(a=async e=>{try{if(!m)return;let t=await FW(f,m,{tag:"sanity.studio.tasks.history",effectFormat:"mendoza",reverse:!0}),n=await function(e,t,n){let r=function(e){let{_rev:t,...n}=e;return n}(e),i=[],a=r;for(let e of t){let{timestamp:t,effects:o}=e,l=o[e.documentIDs[0]];l&&l.revert&&(a=bQ(r,l.revert),n.forEach(n=>{(null==a?void 0:a[n])!==(null==r?void 0:r[n])&&i.push({field:n,from:null==a?void 0:a[n],to:null==r?void 0:r[n],timestamp:t,author:e.author})}),r=a)}let o=i.sort((e,t)=>e.timestamp.localeCompare(t.timestamp)),l=o.findIndex(e=>"createdByUser"===e.field);return function(e){let t=[];for(let n of e){let e=t[t.length-1];if(!e||!exM.includes(n.field)){t.push(n);continue}if(e.author===n.author&&e.field===n.field){let t=new Date(e.timestamp),r=new Date(n.timestamp);if(12e4>=Math.abs(t.getTime()-r.getTime())){e.to=n.to,e.timestamp=n.timestamp;continue}}t.push(n)}return t}(o.slice(l+1))}(e,[...t],["createdByUser","title","description","dueBy","assignedTo","status","target"]);p(n)}catch(e){console.error("Failed to fetch and parse activity log",e)}},u[4]=f,u[5]=m,u[6]=a):a=u[6];let g=a;u[7]!==g||u[8]!==e?(o=t=>g(e),u[7]=g,u[8]=e,u[9]=o):o=u[9];let y=(0,tu.useEffectEvent)(o);return u[10]!==y||u[11]!==e._rev?(l=()=>{y(e._rev)},u[10]=y,u[11]=e._rev,u[12]=l):l=u[12],u[13]!==e._rev?(s=[e._rev],u[13]=e._rev,u[14]=s):s=u[14],(0,E.useEffect)(l,s),u[15]!==d?(c={changes:d},u[15]=d,u[16]=c):c=u[16],c}(O).changes;D[2]!==P||D[3]!==e||D[4]!==O.subscribers?(s=t=>{let n=O.subscribers||[];e.onChange(t),P&&(n.includes(P.id)||e.onChange(LB([...n,P.id],["subscribers"])))},D[2]=P,D[3]=e,D[4]=O.subscribers,D[5]=s):s=D[5];let R=s;if(!A)throw Error("Status field not found");if(!(null==(t=e.value)?void 0:t._id)){let e;return D[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{}),D[6]=e):e=D[6],e}let N=null==(n=e.value)?void 0:n.title;D[7]===Symbol.for("react.memo_cache_sentinel")?(c=["title"],D[7]=c):c=D[7],D[8]!==M?(u=M("form.input.title.placeholder"),D[8]=M,D[9]=u):u=D[9],D[10]!==R||D[11]!==N||D[12]!==u?(d=(0,_.jsx)(I.Stack,{flex:1,children:(0,_.jsx)(eCP,{onChange:R,value:N,path:c,placeholder:u})}),D[10]=R,D[11]=N,D[12]=u,D[13]=d):d=D[13];let L=null==(r=e.value)?void 0:r._id;D[14]!==L||D[15]!==O?(p=(0,_.jsx)(eCL,{id:L,value:O}),D[14]=L,D[15]=O,D[16]=p):p=D[16],D[17]!==d||D[18]!==p?(f=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:3,children:[d,p]}),D[17]=d,D[18]=p,D[19]=f):f=D[19];let z=null==(i=e.value)?void 0:i.status;D[20]===Symbol.for("react.memo_cache_sentinel")?(h=["status"],D[20]=h):h=D[20],D[21]!==R||D[22]!==A.type.options.list||D[23]!==z?(m=(0,_.jsx)(eCk,{value:z,path:h,onChange:R,options:A.type.options.list}),D[21]=R,D[22]=A.type.options.list,D[23]=z,D[24]=m):m=D[24];let V=null==(a=e.value)?void 0:a.assignedTo;D[25]===Symbol.for("react.memo_cache_sentinel")?(g=["assignedTo"],D[25]=g):g=D[25],D[26]!==R||D[27]!==V?(y=(0,_.jsx)(eCd,{value:V,onChange:R,path:g}),D[26]=R,D[27]=V,D[28]=y):y=D[28];let U=null==(o=e.value)?void 0:o.dueBy;return D[29]===Symbol.for("react.memo_cache_sentinel")?(v=["dueBy"],D[29]=v):v=D[29],D[30]!==R||D[31]!==U?(b=(0,_.jsx)(eCp,{value:U,onChange:R,path:v}),D[30]=R,D[31]=U,D[32]=b):b=D[32],D[33]!==m||D[34]!==y||D[35]!==b?(x=(0,_.jsx)(I.Card,{borderTop:!0,marginTop:3,children:(0,_.jsx)(eCN,{paddingBottom:3,paddingTop:4,align:"flex-start",justify:"flex-start",wrap:"wrap",children:(0,_.jsxs)(B.TooltipDelayGroupProvider,{children:[m,y,b]})})}),D[33]=m,D[34]=y,D[35]=b,D[36]=x):x=D[36],D[37]!==e?(C=e.renderDefault(e),D[37]=e,D[38]=C):C=D[38],D[39]===Symbol.for("react.memo_cache_sentinel")?(k=["subscribers"],D[39]=k):k=D[39],D[40]!==F||D[41]!==e.onChange||D[42]!==O?(w=(0,_.jsx)(eC_,{children:(0,_.jsx)(I.Card,{borderTop:!0,paddingTop:4,marginTop:4,paddingBottom:6,children:(0,_.jsx)(eCt,{value:O,onChange:e.onChange,path:k,activityData:F})})}),D[40]=F,D[41]=e.onChange,D[42]=O,D[43]=w):w=D[43],D[44]!==w||D[45]!==O._id?(S=(0,_.jsx)(egb,{documentId:O._id,documentType:"tasks.task",sortOrder:"asc",type:"task",children:w}),D[44]=w,D[45]=O._id,D[46]=S):S=D[46],D[47]!==x||D[48]!==C||D[49]!==S||D[50]!==f?(T=(0,_.jsxs)(_.Fragment,{children:[f,x,C,S]}),D[47]=x,D[48]=C,D[49]=S,D[50]=f,D[51]=T):T=D[51],T}function eCV(e){return"status"===e.name}function eCU(e){let t=e.value,n=A6(),r=(0,E.useCallback)(e=>{if(!n||e.some(e=>"subscribers"===e.path[0])||e.some(e=>"context"===e.path[0]&&"notification"===e.path[1]))return e;let r=t.subscribers||[],i=[...r],a=e.find(e=>"assignedTo"===e.path[0]);a&&"set"===a.type&&"string"==typeof a.value&&!i.includes(a.value)&&i.push(a.value),i.includes(n.id)||i.push(n.id);let o=e.find(e=>"description"===e.path[0]&&"set"===e.type);if(o){let e=exA(t.description);exA("set"===o.type?o.value:void 0).filter(t=>!e.includes(t)).forEach(e=>{i.includes(e)||i.push(e)})}return i.length!==r.length&&e.push(LB(i,["subscribers"])),e},[n,t.subscribers,t.description]);return(0,_.jsx)(euC,{transform:r,children:(0,_.jsx)(eCz,{...e})})}function eCH(e){var t,n,r,i;let{inputProps:a}=e,{onChange:o}=a,l=(0,nr.useRouterState)((0,E.useCallback)(e=>"string"==typeof e.tool?e.tool:void 0,[])),{target:s,_id:c,context:u,_rev:d}=zB([]),{title:p,basePath:f,name:h}=FU(),m=eTt(AE),g=(0,E.useMemo)(()=>(0,ty.default)(m),[m]),y=null!=(r=null==s||null==(t=s.document)?void 0:t._ref)?r:"",v=null!=(i=null==s?void 0:s.documentType)?i:"",{perspectiveStack:b}=Ar(),{isLoading:x,value:C}=eih({documentId:y,documentType:v,perspectiveStack:b}),k=(null==C?void 0:C.title)||null,w=(0,tg.isImageSource)(null==C?void 0:C.media)?g.image(C.media).width(96).height(96).url():null,_=(0,E.useMemo)(()=>{var e;let t=null==u||null==(e=u.notification)?void 0:e.url;return{url:t&&IX?t:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=window.location.origin;t&&(r+=t),n&&(r+="/".concat(n));let i=new URL("".concat(r,"/"));return i.searchParams.set("sidebar","tasks"),i.searchParams.set("selectedTask",e),i.searchParams.set("viewMode","edit"),i.toString()}(c,f,l),workspaceTitle:p,targetContentImageUrl:w,targetContentTitle:k,workspaceName:h}},[null==u||null==(n=u.notification)?void 0:n.url,c,f,l,p,h,w,k]);return(0,E.useEffect)(()=>{y&&v&&x||d&&((0,T.default)(null==u?void 0:u.notification,_)||o(LB(_,["notification"])))},[d,u,y,v,_,x,o]),null}function eCq(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(eC_,{children:(0,_.jsx)(eCH,{...e})}),n[0]=e,n[1]=t):t=n[1],t}let eCW=e=>(0,W.defineField)({type:"object",name:"target",title:"Target",components:{field:t=>(0,_.jsx)(eCI,{...t,mode:e})},fields:[{name:"document",type:"crossDatasetReference",dataset:"playground",weak:!0,studioUrl:e=>{let{id:t,type:n}=e;return"intent/edit/id=".concat(t,";type=").concat(n,"/")},to:[{type:"any_document",preview:{select:{title:"title"}}}]},{name:"documentType",type:"string",title:"Document type"}]}),eCY=e=>(0,W.defineField)({type:"array",name:"description",title:"Description",components:{field:t=>(0,_.jsx)(eCy,{...t,mode:e})},of:[{type:"block",name:"block",of:[{name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}]});function eCK(e){let{children:t,mode:n,addonDataset:r}=e,i=eTt({apiVersion:exO}).config().apiHost,a=eii(),o=(0,E.useMemo)(()=>({basePath:"",dataset:r,name:"addon-dataset-".concat(r),projectId:a.projectId,apiHost:i,schema:{types:[(0,W.defineType)({type:"document",name:"tasks.task",liveEdit:!0,components:{input:"edit"===n?eCU:eCF},fields:[{type:"string",title:"Title",name:"title",placeholder:"Task title",components:{field:eCM},hidden:"edit"===n},..."edit"===n?[eCW(n),eCY(n)]:[eCY(n),eCW(n)],{type:"string",name:"assignedTo",title:"Assign to",placeholder:"Select assignee",components:{field:eCx,input:eCc},hidden:"edit"===n},{type:"date",name:"dueBy",title:"Deadline",placeholder:"yyyy-mm-dd",components:{field:eCx},hidden:"edit"===n},{type:"string",name:"authorId",hidden:!0},{type:"string",name:"createdByUser",hidden:!0},{type:"array",of:[{type:"string"}],name:"subscribers",hidden:!0},{type:"string",name:"status",title:"Status",options:{list:exP.map(e=>({value:e.value,title:e.title}))},hidden:!0},{type:"object",name:"context",components:{field:eCq},fields:[{type:"object",name:"notification",fields:[{type:"string",name:"url"},{type:"string",name:"workspaceTitle"},{type:"string",name:"targetContentImageUrl"},{type:"string",name:"targetContentTitle"}]}]}]})]}}),[a.projectId,n,i,r,""]),{workspaces:l}=(0,E.useMemo)(()=>ekG(o,{basePath:""}),[o,""]),s=eE5(l[0]);return s?(0,_.jsx)(FV,{workspace:s,children:(0,_.jsx)(eir,{source:s.unstable_sources[0],children:(0,_.jsx)(Fr,{children:t})})}):null}function eCG(e){let t,n,r,i,a=(0,j.c)(11),{client:o,ready:l,createAddonDataset:s}=ek7();a[0]!==o?(t=null==o?void 0:o.config().dataset,a[0]=o,a[1]=t):t=a[1];let c=t;if(a[2]!==c||a[3]!==s||a[4]!==l?(n=()=>{!c&&l&&s()},r=[c,l,s],a[2]=c,a[3]=s,a[4]=l,a[5]=n,a[6]=r):(n=a[5],r=a[6]),(0,E.useEffect)(n,r),!c){let e;return a[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{}),a[7]=e):e=a[7],e}return a[8]!==c||a[9]!==e?(i=(0,_.jsx)(eCK,{...e,addonDataset:c}),a[8]=c,a[9]=e,a[10]=i):i=a[10],i}let eC$={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2,delay:.2}}},eCZ=(0,F.styled)(na.motion.div)(e=>{let t=(0,ne.getTheme_v2)(e.theme);return"\n    // Update spacing for the form builder\n    & > [data-ui='Stack'] {\n      grid-gap: ".concat((0,I.rem)(t.space[4]),";\n    }\n")}),eCX=e=>{var t;let n,r,i,a,o,l=(0,j.c)(25),{documentId:s,initialValue:c}=e,[u]=(0,E.useState)(eCQ);l[0]!==c?(n=c?{loading:!1,value:c,error:null}:void 0,l[0]=c,l[1]=n):n=l[1],l[2]!==s||l[3]!==n?(r={documentId:s,documentType:"tasks.task",initialValue:n},l[2]=s,l[3]=n,l[4]=r):r=l[4];let{formState:d,onChange:p,onPathOpen:f,onFocus:h,onBlur:m,onSetActiveFieldGroup:g,onSetCollapsedFieldSet:y,onSetCollapsedPath:v,collapsedFieldSets:b,ready:x,collapsedPaths:C,schemaType:k,value:w}=eug(r),S=null===d||!x,{setSelectedDocument:T}=ext(),D=S||null==w?void 0:w.target,A=null==D||null==(t=D.document)?void 0:t._ref,O=null==D?void 0:D.documentType;return l[5]!==T||l[6]!==A||l[7]!==O?(i=()=>{T(A&&O?{_id:A,_type:O}:null)},a=[A,O,T],l[5]=T,l[6]=A,l[7]=O,l[8]=i,l[9]=a):(i=l[8],a=l[9]),(0,E.useEffect)(i,a),l[10]!==b||l[11]!==C||l[12]!==d||l[13]!==S||l[14]!==m||l[15]!==p||l[16]!==h||l[17]!==f||l[18]!==g||l[19]!==y||l[20]!==v||l[21]!==u||l[22]!==k||l[23]!==w?(o=(0,_.jsx)(I.Box,{children:S?(0,_.jsx)(DU,{showText:!0}):(0,_.jsx)(eCZ,{id:"wrapper",initial:"hidden",animate:"visible",variants:eC$,children:(0,_.jsx)(enp,{__internal_patchChannel:u,id:"root",onChange:p,onPathFocus:h,onPathOpen:f,onPathBlur:m,onFieldGroupSelect:g,onSetFieldSetCollapsed:y,onSetPathCollapsed:v,collapsedPaths:C,collapsedFieldSets:b,focusPath:d.focusPath,changed:d.changed,focused:d.focused,groups:d.groups,validation:d.validation,members:d.members,presence:d.presence,schemaType:k,value:w})})}),l[10]=b,l[11]=C,l[12]=d,l[13]=S,l[14]=m,l[15]=p,l[16]=h,l[17]=f,l[18]=g,l[19]=y,l[20]=v,l[21]=u,l[22]=k,l[23]=w,l[24]=o):o=l[24],o};function eCJ(){let e,t,n,r=(0,j.c)(23),i=A6(),{activeDocument:a}=exx(),{dataset:o,projectId:l}=FU(),{state:s}=exd(),{selectedTask:c,viewMode:u,duplicateTaskValues:d}=s;e:{if(!i||!c){e=void 0;break e}if("duplicate"===u){let t,n="".concat(null==d?void 0:d.title," (copy)");r[0]!==i.id||r[1]!==d||r[2]!==c||r[3]!==n?(t={...d,title:n,createdByUser:void 0,_id:c,_type:"tasks.task",authorId:i.id,status:"open"},r[0]=i.id,r[1]=d,r[2]=c,r[3]=n,r[4]=t):t=r[4],e=t;break e}if("create"===u){let t,n,s;r[5]!==i.id?(t=[i.id],r[5]=i.id,r[6]=t):t=r[6],r[7]!==a||r[8]!==o||r[9]!==l?(n=a?exI({documentId:a.documentId,documentType:a.documentType,dataset:o,projectId:l}):void 0,r[7]=a,r[8]=o,r[9]=l,r[10]=n):n=r[10],r[11]!==i.id||r[12]!==c||r[13]!==t||r[14]!==n?(s={_id:c,_type:"tasks.task",authorId:i.id,status:"open",subscribers:t,target:n},r[11]=i.id,r[12]=c,r[13]=t,r[14]=n,r[15]=s):s=r[15],e=s;break e}e=void 0}let p=e;if(!i){let e;return r[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{showText:!0,title:"Loading current user"}),r[16]=e):e=r[16],e}if(!c)return null;let f="edit"===u?"edit":"create";return r[17]!==p||r[18]!==c?(t=(0,_.jsx)(eCX,{documentId:c,initialValue:p}),r[17]=p,r[18]=c,r[19]=t):t=r[19],r[20]!==f||r[21]!==t?(n=(0,_.jsx)(exe,{children:(0,_.jsx)(eCG,{mode:f,children:t})}),r[20]=f,r[21]=t,r[22]=n):n=r[22],n}function eCQ(){return zV()}let eC1={open:{assigned:{heading:"empty-state.status.list.open.assigned.heading",text:"empty-state.status.list.open.assigned.text"},document:{heading:"empty-state.status.list.open.document.heading",text:""},subscribed:{heading:"empty-state.status.list.open.subscribed.heading",text:"empty-state.status.list.open.subscribed.text"}},closed:{assigned:{heading:"empty-state.status.list.closed.assigned.heading",text:"empty-state.status.list.closed.assigned.text"},document:{heading:"empty-state.status.list.closed.document.heading",text:""},subscribed:{heading:"empty-state.status.list.closed.subscribed.heading",text:"empty-state.status.list.closed.subscribed.text"}}};function eC2(e){let t,n,r,i,a,o=(0,j.c)(13),{status:l}=e,{state:s}=exd(),{activeTabId:c}=s,{t:u}=IO(eb8),{heading:d,text:p}=eC1[l][c];return o[0]!==d||o[1]!==u?(t=u(d),o[0]=d,o[1]=u,o[2]=t):t=o[2],o[3]!==t?(n=(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:t}),o[3]=t,o[4]=n):n=o[4],o[5]!==u||o[6]!==p?(r=u(p),o[5]=u,o[6]=p,o[7]=r):r=o[7],o[8]!==r?(i=(0,_.jsx)(I.Text,{size:1,children:r}),o[8]=r,o[9]=i):i=o[9],o[10]!==n||o[11]!==i?(a=(0,_.jsxs)(I.Stack,{space:3,children:[n,i]}),o[10]=n,o[11]=i,o[12]=a):a=o[12],a}let eC0={assigned:{heading:"empty-state.list.assigned.heading",text:"empty-state.list.assigned.text"},subscribed:{heading:"empty-state.list.subscribed.heading",text:"empty-state.list.subscribed.text"},document:{heading:"empty-state.list.document.heading",text:"empty-state.list.document.text"},noActiveDocument:{heading:"empty-state.list.no-active-document.heading",text:"empty-state.list.no-active-document.text"}},eC5=F.styled.div(EI()),eC7=(0,F.styled)(I.Text)(EA());function eC3(){let e,t,n,r,i,a,o,l=(0,j.c)(22),{activeDocument:s}=exx(),{mode:c}=eb6(),{state:u,setViewMode:d}=exd(),{activeTabId:p}=u,f=s||"document"!==p?p:"noActiveDocument",{heading:h,text:m}=eC0[f],{t:g}=IO(eb8);l[0]!==d?(e=()=>{d({type:"create"})},l[0]=d,l[1]=e):e=l[1];let y=e;return l[2]!==h||l[3]!==g?(t=g(h),l[2]=h,l[3]=g,l[4]=t):t=l[4],l[5]!==f||l[6]!==t?(n=(0,_.jsx)(eC7,{size:1,weight:"semibold",children:t},f),l[5]=f,l[6]=t,l[7]=n):n=l[7],l[8]!==g||l[9]!==m?(r=g(m),l[8]=g,l[9]=m,l[10]=r):r=l[10],l[11]!==f||l[12]!==r?(i=(0,_.jsx)(I.Box,{paddingBottom:6,paddingTop:1,children:(0,_.jsx)(eC7,{size:1,align:"center",children:r},f)}),l[11]=f,l[12]=r,l[13]=i):i=l[13],l[14]!==y||l[15]!==c||l[16]!==g?(a="upsell"!==c&&(0,_.jsx)(B.Button,{icon:R.AddIcon,text:g("empty-state.list.create-new"),onClick:y}),l[14]=y,l[15]=c,l[16]=g,l[17]=a):a=l[17],l[18]!==n||l[19]!==i||l[20]!==a?(o=(0,_.jsx)(eC5,{children:(0,_.jsxs)(I.Flex,{direction:"column",gap:3,align:"center",flex:1,justify:"center",children:[n,i,a]})}),l[18]=n,l[19]=i,l[20]=a,l[21]=o):o=l[21],o}let eC8=(0,F.styled)(nr.IntentLink)(e=>"\n  text-decoration: underline;\n  text-decoration-color: ".concat((0,ne.getTheme_v2)(e.theme).color.input.default.enabled.border,";\n  text-underline-offset: 2px;\n"));function eC4(e){let t,n,r,i,a=(0,j.c)(12),{documentId:o,documentType:l}=e,s=el3().get(l),{perspectiveStack:c}=Ar();a[0]!==o||a[1]!==l||a[2]!==c?(t={documentId:o,documentType:l,perspectiveStack:c},a[0]=o,a[1]=l,a[2]=c,a[3]=t):t=a[3];let{isLoading:u,value:d}=eih(t);a[4]!==o||a[5]!==l?(n=(0,E.forwardRef)(function(e,t){return(0,_.jsx)(eC8,{...e,intent:"edit",params:{id:o,type:l},ref:t})}),a[4]=o,a[5]=l,a[6]=n):n=a[6];let p=n;return s?(a[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.DocumentIcon,{})}),a[7]=r):r=a[7],a[8]!==p||a[9]!==u||a[10]!==(null==d?void 0:d.title)?(i=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[r,u?(0,_.jsx)(A.TextSkeleton,{size:1,muted:!0}):(0,_.jsx)(I.Text,{size:1,as:p,weight:"medium",style:{maxWidth:"20ch"},textOverflow:"ellipsis",children:(null==d?void 0:d.title)||"Untitled"})]}),a[8]=p,a[9]=u,a[10]=null==d?void 0:d.title,a[11]=i):i=a[11],i):null}function eC6(e){let t=exF(),{documentId:n,status:r}=e,[i,a]=(0,E.useState)("closed"===r),[o,l]=(0,E.useState)(!1),s=(0,E.useCallback)(async e=>{let r=e.target.checked;a(r),l(!0);try{r?await t.edit(n,{status:"closed"}):r||await t.edit(n,{status:"open"})}catch(e){console.error("An error occurred while updating the task status",e)}finally{l(!1)}},[n,t]);return(0,_.jsx)(I.Flex,{children:o?(0,_.jsx)("div",{style:{height:"17px",width:"17px"},children:(0,_.jsx)(I.Spinner,{style:{marginLeft:"3.5px",marginRight:"3.5px",marginTop:"3.5px"}})}):(0,_.jsx)(I.Checkbox,{onChange:s,checked:i,disabled:o})})}let eC9=(0,F.styled)(I.Button)(EO()),eke=(0,F.styled)(I.Flex)(EP());function ekt(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(27),{dueBy:h}=e;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={dateStyle:"medium"},f[0]=t):t=f[0];let m=Rs(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(n={month:"short",day:"numeric"},f[1]=n):n=f[1];let g=Rs(n);f[2]===Symbol.for("react.memo_cache_sentinel")?(r={weekday:"long"},f[2]=r):r=f[2];let y=Rs(r);if(f[3]!==y||f[4]!==h||f[5]!==m||f[6]!==g){let e=new Date(h);i=m.format(e),a=g.format(e),o=y.format(e),l=(0,t8.isToday)(e),s=(0,t4.isThisISOWeek)(e),f[3]=y,f[4]=h,f[5]=m,f[6]=g,f[7]=i,f[8]=a,f[9]=o,f[10]=l,f[11]=s}else i=f[7],a=f[8],o=f[9],l=f[10],s=f[11];f[12]!==i||f[13]!==a||f[14]!==o||f[15]!==l||f[16]!==s?(c={fullDate:i,monthAndDay:a,day:o,isDueByToday:l,isDueThisWeek:s},f[12]=i,f[13]=a,f[14]=o,f[15]=l,f[16]=s,f[17]=c):c=f[17];let{fullDate:v,monthAndDay:b,day:x,isDueByToday:C,isDueThisWeek:k}=c,w=C?"critical":"transparent",S=C?"Today":k?x:b;return f[18]!==h||f[19]!==S?(u=(0,_.jsx)(I.Flex,{align:"center",gap:2,children:(0,_.jsx)(I.Text,{as:"time",size:1,dateTime:h,muted:!0,children:S})}),f[18]=h,f[19]=S,f[20]=u):u=f[20],f[21]!==w||f[22]!==u?(d=(0,_.jsx)(I.Card,{tone:w,padding:1,radius:2,children:u}),f[21]=w,f[22]=u,f[23]=d):d=f[23],f[24]!==v||f[25]!==d?(p=(0,_.jsx)(B.Tooltip,{content:v,children:d}),f[24]=v,f[25]=d,f[26]=p):p=f[26],p}function ekn(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(24),{assignedTo:d,title:p,dueBy:f,target:h,onSelect:m,documentId:g,status:y}=e;u[0]!==h?(t=function(e){var t;if(null==e||null==(t=e.document)?void 0:t._ref)return{_ref:null==e?void 0:e.document._ref,_type:null==e?void 0:e.documentType}}(h),u[0]=h,u[1]=t):t=u[1];let v=t;u[2]!==g||u[3]!==y?(n=(0,_.jsx)(I.Box,{children:(0,_.jsx)(eC6,{documentId:g,status:y})}),u[2]=g,u[3]=y,u[4]=n):n=u[4];let b=p||"Untitled";return u[5]!==b?(r=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"semibold",children:b}),u[5]=b,u[6]=r):r=u[6],u[7]!==m||u[8]!==r?(i=(0,_.jsx)(I.Flex,{flex:1,children:(0,_.jsx)(eC9,{onClick:m,mode:"bleed",padding:2,children:r})}),u[7]=m,u[8]=r,u[9]=i):i=u[9],u[10]!==d?(a=d?{id:d}:void 0,u[10]=d,u[11]=a):a=u[11],u[12]!==a?(o=(0,_.jsx)(ex$,{user:a,withTooltip:!0}),u[12]=a,u[13]=o):o=u[13],u[14]!==n||u[15]!==i||u[16]!==o?(l=(0,_.jsxs)(I.Flex,{align:"center",gap:1,children:[n,i,o]}),u[14]=n,u[15]=i,u[16]=o,u[17]=l):l=u[17],u[18]!==f||u[19]!==v?(s=(f||v)&&(0,_.jsxs)(eke,{align:"center",gap:2,paddingX:0,children:[f&&(0,_.jsx)(ekt,{dueBy:f}),v&&(0,_.jsx)(I.Box,{marginLeft:1,children:(0,_.jsx)(eC4,{documentId:v._ref,documentType:v._type})})]}),u[18]=f,u[19]=v,u[20]=s):s=u[20],u[21]!==l||u[22]!==s?(c=(0,_.jsxs)(I.Stack,{space:3,children:[l,s]}),u[21]=l,u[22]=s,u[23]=c):c=u[23],c}let ekr=[],eki=(0,F.styled)(I.Flex)(EM()),eka=(0,F.styled)(I.Box)(EF());function eko(e){var t;let n,r,i,a,o,l,s,c=(0,j.c)(17),{status:u,tasks:d,onTaskSelect:p}=e,f="open"===u;return c[0]!==u?(n=null==(t=exP.find(e=>e.value===u))?void 0:t.title,c[0]=u,c[1]=n):n=c[1],c[2]!==n?(r=(0,_.jsx)(I.Text,{size:1,weight:"medium",muted:!0,children:n}),c[2]=n,c[3]=r):r=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(R.ChevronDownIcon,{"data-ui":"summary-icon"})}),c[4]=i):i=c[4],c[5]!==r?(a=(0,_.jsx)(eka,{forwardedAs:"summary",paddingY:1,children:(0,_.jsxs)(I.Flex,{align:"center",gap:1,paddingY:1,children:[r,i]})}),c[5]=r,c[6]=a):a=c[6],c[7]!==p||c[8]!==u||c[9]!==d?(o=(null==d?void 0:d.length)>0?d.map((e,t)=>{let n=t<d.length-1;return(0,_.jsxs)(E.Fragment,{children:[(0,_.jsx)(ekn,{documentId:e._id,title:e.title,dueBy:e.dueBy,assignedTo:e.assignedTo,target:e.target,onSelect:()=>p(e._id),status:e.status}),n&&(0,_.jsx)(I.MenuDivider,{})]},e._id)}):(0,_.jsx)(eC2,{status:u}),c[7]=p,c[8]=u,c[9]=d,c[10]=o):o=c[10],c[11]!==o?(l=(0,_.jsx)(I.Stack,{space:4,marginTop:3,paddingBottom:5,children:o}),c[11]=o,c[12]=l):l=c[12],c[13]!==f||c[14]!==a||c[15]!==l?(s=(0,_.jsxs)(eki,{forwardedAs:"details",direction:"column",open:f,children:[a,l]}),c[13]=f,c[14]=a,c[15]=l,c[16]=s):s=c[16],s}function ekl(e){var t,n;let r,i,a=(0,j.c)(8),{items:o,onTaskSelect:l}=e,s=void 0===o?ekr:o;a[0]!==s?(r=s.reduce(eks,{}),a[0]=s,a[1]=r):r=a[1];let c=r,u=(null==(t=c.open)?void 0:t.length)>0,d=(null==(n=c.closed)?void 0:n.length)>0;return a[2]!==d||a[3]!==u||a[4]!==l||a[5]!==c.closed||a[6]!==c.open?(i=(0,_.jsx)(I.Stack,{space:4,flex:1,children:u||d?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(eko,{status:"open",tasks:c.open,onTaskSelect:l}),(0,_.jsx)(eko,{status:"closed",tasks:c.closed,onTaskSelect:l})]}):(0,_.jsx)(eC3,{})}),a[2]=d,a[3]=u,a[4]=l,a[5]=c.closed,a[6]=c.open,a[7]=i):i=a[7],i}function eks(e,t){return e[t.status]||(e[t.status]=[]),e[t.status].push(t),e}function ekc(){let e,t=(0,j.c)(4),{upsellData:n,telemetryLogs:r}=exw(),{panelPrimaryClicked:i,panelSecondaryClicked:a}=r;return n?(t[0]!==n||t[1]!==i||t[2]!==a?(e=(0,_.jsx)(I.Container,{width:1,children:(0,_.jsx)(I.Box,{marginBottom:6,children:(0,_.jsx)(emM,{data:n,onPrimaryClick:i,onSecondaryClick:a})})}),t[0]=n,t[1]=i,t[2]=a,t[3]=e):e=t[3],e):null}let eku=F.styled.span(ER()),ekd=F.styled.a(EB());function ekp(e){let t,n,r,i=(0,j.c)(5);return i[0]!==e.children?(t=(0,_.jsx)(eku,{children:e.children}),i[0]=e.children,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(R.LaunchIcon,{}),i[2]=n):n=i[2],i[3]!==t?(r=(0,_.jsxs)(ekd,{href:"https://snty.link/tasks-feedback",target:"_blank",rel:"noreferrer",children:[t," ",n]}),i[3]=t,i[4]=r):r=i[4],r}function ekf(){let e,t,n=(0,j.c)(3),{t:r}=IO(eb8);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={Link:ekp},n[0]=e):e=n[0],n[1]!==r?(t=(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{i18nKey:"list.feedback.text",t:r,components:e})})}),n[1]=r,n[2]=t):t=n[2],t}let ekh={marginLeft:"-0.5em",justifyContent:"space-between",display:"flex"};function ekm(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(22),{activeTabId:d,onChange:p}=e,{t:f}=IO(eb8);u[0]!==f?(t=f("tab.assigned.label"),u[0]=f,u[1]=t):t=u[1],u[2]!==t?(n={id:"assigned",label:t},u[2]=t,u[3]=n):n=u[3],u[4]!==f?(r=f("tab.subscribed.label"),u[4]=f,u[5]=r):r=u[5],u[6]!==r?(i={id:"subscribed",label:r},u[6]=r,u[7]=i):i=u[7],u[8]!==f?(a=f("tab.document.label"),u[8]=f,u[9]=a):a=u[9],u[10]!==a?(o={id:"document",label:a},u[10]=a,u[11]=o):o=u[11],u[12]!==n||u[13]!==i||u[14]!==o?(l=[n,i,o],u[12]=n,u[13]=i,u[14]=o,u[15]=l):l=u[15];let h=l;u[16]!==p?(s=e=>{p(e.id)},u[16]=p,u[17]=s):s=u[17];let m=s;return u[18]!==d||u[19]!==m||u[20]!==h?(c=(0,_.jsx)(I.TabList,{space:2,style:ekh,children:h.map(e=>(0,_.jsx)(B.Tab,{"aria-controls":"".concat(e.id,"-panel"),id:"".concat(e.id,"-tab"),onClick:()=>m(e),selected:e.id===d,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:e.label})},"".concat(e.id,"-tab")))}),u[18]=d,u[19]=m,u[20]=h,u[21]=c):c=u[21],c}let ekg=F.styled.div(e=>"\n    height: 25px;\n    width: 1px;\n    background-color: ".concat((0,ne.getTheme_v2)(e.theme).color.input.default.enabled.border,";\n  "));function eky(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g=(0,j.c)(41),{items:y}=e,{state:v,setViewMode:b}=exd(),{selectedTask:x}=v;if(g[0]!==y||g[1]!==x){let e;t=y.filter(ekv),g[4]!==x?(e=e=>e._id===x,g[4]=x,g[5]=e):e=g[5],n=t.findIndex(e),g[0]=y,g[1]=x,g[2]=t,g[3]=n}else t=g[2],n=g[3];let C=n;g[6]!==C||g[7]!==t||g[8]!==b?(r=()=>{b({type:"edit",id:C>0?t[C-1]._id:t[t.length-1]._id})},g[6]=C,g[7]=t,g[8]=b,g[9]=r):r=g[9];let k=r;g[10]!==C||g[11]!==t||g[12]!==b?(i=()=>{b({type:"edit",id:C<t.length-1?t[C+1]._id:t[0]._id})},g[10]=C,g[11]=t,g[12]=b,g[13]=i):i=g[13];let w=i,{t:S}=IO(eb8);if(!t.length)return null;g[14]!==S?(a=S("buttons.previous.tooltip"),g[14]=S,g[15]=a):a=g[15],g[16]!==a?(o={content:a},g[16]=a,g[17]=o):o=g[17],g[18]!==k||g[19]!==o?(l=(0,_.jsx)(B.Button,{tooltipProps:o,mode:"bleed",icon:R.ChevronLeftIcon,onClick:k}),g[18]=k,g[19]=o,g[20]=l):l=g[20],g[21]!==S?(s=S("panel.navigation.tooltip"),g[21]=S,g[22]=s):s=g[22];let E=C+1;return g[23]!==t.length||g[24]!==E?(c=(0,_.jsx)(I.Box,{paddingY:2,children:(0,_.jsxs)(I.Text,{size:1,children:[E," / ",t.length]})}),g[23]=t.length,g[24]=E,g[25]=c):c=g[25],g[26]!==s||g[27]!==c?(u=(0,_.jsx)(B.Tooltip,{content:s,children:c}),g[26]=s,g[27]=c,g[28]=u):u=g[28],g[29]!==S?(d=S("buttons.next.tooltip"),g[29]=S,g[30]=d):d=g[30],g[31]!==d?(p={content:d},g[31]=d,g[32]=p):p=g[32],g[33]!==w||g[34]!==p?(f=(0,_.jsx)(B.Button,{tooltipProps:p,mode:"bleed",icon:R.ChevronRightIcon,onClick:w}),g[33]=w,g[34]=p,g[35]=f):f=g[35],g[36]===Symbol.for("react.memo_cache_sentinel")?(h=(0,_.jsx)(ekg,{}),g[36]=h):h=g[36],g[37]!==f||g[38]!==l||g[39]!==u?(m=(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsxs)(I.Flex,{gap:1,align:"center",children:[l,u,f,h]})}),g[37]=f,g[38]=l,g[39]=u,g[40]=m):m=g[40],m}function ekv(e){return"open"===e.status}let ekb={constrainSize:!0,fallbackPlacements:["bottom-end"],placement:"bottom-end",portal:!0},ekx=(0,F.styled)(I.Menu)(EN());function ekC(e){let t,n,r=(0,j.c)(8),{isSelected:i,item:a,onSelect:o}=e;r[0]!==a._id||r[1]!==o?(t=()=>{o(a._id)},r[0]=a._id,r[1]=o,r[2]=t):t=r[2];let l=t,s=i?R.CheckmarkIcon:void 0,c=a.title||"Untitled";return r[3]!==l||r[4]!==s||r[5]!==i||r[6]!==c?(n=(0,_.jsx)(B.MenuItem,{iconRight:s,onClick:l,pressed:i,selected:i,text:c}),r[3]=l,r[4]=s,r[5]=i,r[6]=c,r[7]=n):n=r[7],n}function ekk(){let{data:e}=exx(),{state:t,setViewMode:n}=exd(),{viewMode:r,selectedTask:i}=t,a=A6(),o=(0,E.useMemo)(()=>(null==a?void 0:a.id)?e.filter(e=>{let t=e.authorId===a.id,n=!e.createdByUser,o=e._updatedAt!==e._createdAt,l="create"!==r||e._id!==i;return t&&n&&l&&o}):[],[e,i,null==a?void 0:a.id,r]),l=(0,E.useCallback)(e=>{n({type:"draft",id:e})},[n]),{t:s}=IO(eb8);return o.length?(0,_.jsx)(B.MenuButton,{button:(0,_.jsx)(B.Button,{text:s("buttons.draft.text"),mode:"ghost",iconRight:R.ChevronDownIcon}),id:"edit-task-menu",menu:(0,_.jsxs)(ekx,{children:[(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:s("panel.drafts.title")})}),(0,_.jsx)(I.MenuDivider,{}),null==o?void 0:o.map(e=>(0,_.jsx)(ekC,{isSelected:i===e._id,item:e,onSelect:l},e._id))]}),popover:ekb}):null}function ekw(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(34),{items:f}=e,{mode:h}=eb6(),{state:m,setViewMode:g,handleCloseTasks:y}=exd(),{viewMode:v,activeTabId:b}=m;p[0]!==g?(t=()=>{g({type:"create"})},p[0]=g,p[1]=t):t=p[1];let x=t;p[2]!==g?(n=()=>{g({type:"list"})},p[2]=g,p[3]=n):n=p[3];let C=n,{t:k}=IO(eb8);return p[4]!==b||p[5]!==C||p[6]!==k||p[7]!==v?(r=(0,_.jsx)(I.Flex,{align:"center",flex:1,children:"list"===v?(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{size:2,weight:"semibold",children:k("panel.title")})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Button,{mode:"bleed",space:2,padding:2,onClick:C,children:(0,_.jsx)(I.Text,{size:1,children:k("panel.title")})}),(0,_.jsx)(R.ChevronRightIcon,{}),(0,_.jsx)(I.Box,{paddingX:2,children:(0,_.jsx)(I.Text,{size:1,weight:"semibold",style:{textTransform:"capitalize"},children:"create"===v||"draft"===v?k("panel.create.title"):b})})]})}),p[4]=b,p[5]=C,p[6]=k,p[7]=v,p[8]=r):r=p[8],p[9]!==v?(i=("create"===v||"draft"===v)&&(0,_.jsx)(ekk,{}),p[9]=v,p[10]=i):i=p[10],p[11]!==f||p[12]!==v?(a="edit"===v&&(0,_.jsx)(eky,{items:f}),p[11]=f,p[12]=v,p[13]=a):a=p[13],p[14]!==x||p[15]!==h||p[16]!==k||p[17]!==v?(o="list"===v&&(0,_.jsx)(B.Button,{icon:R.AddIcon,onClick:x,mode:"bleed",text:k("buttons.new.text"),disabled:"upsell"===h,tooltipProps:"upsell"===h?{content:k("buttons.new.upsell-tooltip")}:void 0}),p[14]=x,p[15]=h,p[16]=k,p[17]=v,p[18]=o):o=p[18],p[19]!==k?(l=k("panel.close.tooltip"),p[19]=k,p[20]=l):l=p[20],p[21]!==l?(s={content:l},p[21]=l,p[22]=s):s=p[22],p[23]!==y||p[24]!==s?(c=(0,_.jsx)(B.Button,{tooltipProps:s,iconRight:R.CloseIcon,mode:"bleed",onClick:y}),p[23]=y,p[24]=s,p[25]=c):c=p[25],p[26]!==o||p[27]!==c?(u=(0,_.jsxs)(I.Flex,{gap:1,children:[o,c]}),p[26]=o,p[27]=c,p[28]=u):u=p[28],p[29]!==r||p[30]!==i||p[31]!==a||p[32]!==u?(d=(0,_.jsxs)(I.Flex,{justify:"space-between",align:"center",gap:1,children:[r,i,a,u]}),p[29]=r,p[30]=i,p[31]=a,p[32]=u,p[33]=d):d=p[33],d}let ek_=na.motion.create(I.Card),ekj=(0,F.styled)(ek_)(EL()),ekS=(0,F.styled)(I.Stack)(Ez()),ekE=(0,F.styled)(I.Flex)(EV());function ekT(){let{mode:e}=eb6(),{activeDocument:t,data:n,isLoading:r}=exx(),{state:i,setActiveTab:a,setViewMode:o}=exd(),{activeTabId:l,viewMode:s,selectedTask:c}=i,u=A6(),d=(0,E.useCallback)(e=>o({type:"edit",id:e}),[o]),p=(0,E.useMemo)(()=>n.filter(e=>{var n,r;return!!e.createdByUser&&("assigned"===l?e.assignedTo===(null==u?void 0:u.id):"subscribed"===l?(null==u?void 0:u.id)&&(null==(n=e.subscribers)?void 0:n.includes(u.id)):"document"===l&&(null==t?void 0:t.documentId)&&(null==(r=e.target)?void 0:r.document._ref)===t.documentId)}),[null==t?void 0:t.documentId,l,n,u]),f=(0,E.useMemo)(()=>"list"!==s?(0,_.jsx)(eCJ,{},c):r?(0,_.jsx)(I.Flex,{align:"center",justify:"center",children:(0,_.jsx)(I.Spinner,{})}):(0,_.jsxs)(_.Fragment,{children:["upsell"===e&&(0,_.jsx)(ekc,{}),(0,_.jsx)(ekl,{items:p,onTaskSelect:d})]}),[p,r,d,c,s,e]);return(0,_.jsxs)(ekj,{display:"flex",height:"fill",flex:1,overflow:"hidden",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},children:[(0,_.jsxs)(ekS,{space:3,padding:3,sizing:"border",children:[(0,_.jsx)(ekw,{items:p}),"list"===s&&!r&&(0,_.jsx)(ekm,{activeTabId:l,onChange:a})]}),(0,_.jsx)(ekE,{direction:"column",flex:1,overflow:"auto",padding:3,paddingTop:4,paddingX:4,sizing:"border",children:f}),"list"===s&&(0,_.jsx)(ekf,{})]})}function ekD(){let e,t=(0,j.c)(1),{enabled:n}=eb6();return n?(t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(ekT,{}),t[0]=e):e=t[0],e):null}let ekI=(0,F.styled)(I.Flex)(e=>{let{theme:t}=e,n=t.sanity.media;return(0,F.css)(EU(),n[3])}),ekA=(0,F.styled)(I.Layer)(e=>{let{theme:t}=e,n=t.sanity.media;return(0,F.css)(EH(),n[3],n[1])});function ekO(e){let t,n,r,i,a,o=(0,j.c)(12),l=(0,I.useMediaIndex)(),{state:s}=exd(),{isOpen:c}=s,u=l<=1&&c?"hidden":"auto";return o[0]!==e?(t=e.renderDefault(e),o[0]=e,o[1]=t):t=o[1],o[2]!==u||o[3]!==t?(n=(0,_.jsx)(I.Box,{flex:1,height:"fill",overflow:u,children:t}),o[2]=u,o[3]=t,o[4]=n):n=o[4],o[5]!==c?(r=c&&(0,_.jsx)(ekA,{zOffset:100,height:"fill",children:(0,_.jsx)(ekD,{})}),o[5]=c,o[6]=r):r=o[6],o[7]!==r?(i=(0,_.jsx)(no.AnimatePresence,{initial:!1,children:r}),o[7]=r,o[8]=i):i=o[8],o[9]!==n||o[10]!==i?(a=(0,_.jsxs)(ekI,{sizing:"border",height:"fill",children:[n,i]}),o[9]=n,o[10]=i,o[11]=a):a=o[11],a}let ekP=e=>{let t,n,r,i=(0,j.c)(9),{enabled:a,mode:o}=eb6();if(!a){let t;return i[0]!==e?(t=e.renderDefault(e),i[0]=e,i[1]=t):t=i[1],t}let l="upsell"===o;return i[2]!==e?(t=e.renderDefault(e),i[2]=e,i[3]=t):t=i[3],i[4]!==t?(n=(0,_.jsx)(exb,{children:(0,_.jsx)(exu,{children:t})}),i[4]=t,i[5]=n):n=i[5],i[6]!==l||i[7]!==n?(r=(0,_.jsx)(ek5,{children:(0,_.jsx)(B.ConditionalWrapper,{condition:l,wrapper:ekM,children:n})}),i[6]=l,i[7]=n,i[8]=r):r=i[8],r};function ekM(e){return(0,_.jsx)(exk,{children:e})}let ekF=[],ekR=e=>{let t,n,r,i=(0,j.c)(8),{onClick:a,isOpen:o}=e,{t:l}=IO(eb8);return i[0]!==l?(t=l("toolbar.tooltip"),i[0]=l,i[1]=t):t=i[1],i[2]!==t?(n={content:t},i[2]=t,i[3]=n):n=i[3],i[4]!==o||i[5]!==a||i[6]!==n?(r=(0,_.jsx)(B.Button,{tooltipProps:n,icon:R.CheckmarkCircleIcon,mode:"bleed",onClick:a,selected:o,"data-testid":"tasks-toolbar"}),i[4]=o,i[5]=a,i[6]=n,i[7]=r):r=i[7],r};function ekB(e){let{handleOpenTasks:t,handleCloseTasks:n,state:{isOpen:r}}=exd(),{t:i}=IO(eb8),a=(0,E.useCallback)(()=>{r?n():t()},[r,t,n]),o=(0,E.useCallback)(()=>(0,_.jsx)(ekR,{onClick:a,isOpen:r}),[a,r]),l=(0,E.useMemo)(()=>[...(null==e?void 0:e.__internal_actions)||ekF,{location:"topbar",name:"tasks-topbar",render:o},{icon:R.CheckmarkCircleIcon,location:"sidebar",name:"tasks-sidebar",onAction:a,selected:r,title:i("actions.open.text")}],[a,r,null==e?void 0:e.__internal_actions,o,i]);return e.renderDefault({...e,__internal_actions:l})}let ekN="sanity/tasks",ekL=eie({name:ekN,__internal_tasks:{footerAction:(0,_.jsx)(function(){let{data:e,activeDocument:t}=exx(),{handleOpenTasks:n,setActiveTab:r}=exd(),i=(0,I.useMediaIndex)(),a=(0,E.useMemo)(()=>(null==t?void 0:t.documentId)?e.filter(e=>{var n;return(null==(n=e.target)?void 0:n.document._ref)===t.documentId&&"open"===e.status&&e.createdByUser}):[],[t,e]),o=(0,E.useCallback)(()=>{n(),r("document")},[n,r]),{t:l}=IO(eb8);return 0===a.length?null:i<3?(0,_.jsxs)(exD,{children:[(0,_.jsx)(B.Button,{mode:"bleed",icon:R.TaskIcon,size:"large",onClick:o,tooltipProps:{content:l("document.footer.open-tasks.placeholder",{count:a.length})}}),(0,_.jsx)(I.Badge,{"data-testid":"tasks-badge",tone:"primary",fontSize:0,children:a.length})]}):(0,_.jsx)(B.Button,{mode:"bleed",tooltipProps:{content:l("document.footer.open-tasks.placeholder",{count:a.length})},text:l("document.footer.open-tasks.text",{count:a.length}),onClick:o})},{})},document:{actions:e=>[...e,exj].filter(Boolean)},studio:{components:{layout:function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=(0,_.jsx)(eb4,{children:(0,_.jsx)(ekP,{...e})}),n[0]=e,n[1]=t):t=n[1],t},navbar:function(e){let t,n=(0,j.c)(4),{enabled:r}=eb6();if(!r){let t;return n[0]!==e?(t=e.renderDefault(e),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==e?(t=(0,_.jsx)(ekB,{...e}),n[2]=e,n[3]=t):t=n[3],t},activeToolLayout:function(e){let t,n=(0,j.c)(4),{enabled:r}=eb6();if(!r){let t;return n[0]!==e?(t=e.renderDefault(e),n[0]=e,n[1]=t):t=n[1],t}return n[2]!==e?(t=(0,_.jsx)(ekO,{...e}),n[2]=e,n[3]=t):t=n[3],t}}},form:{components:{input:e=>{var t;return"root"===e.id&&(null==(t=e.schemaType.type)?void 0:t.name)==="document"?(0,_.jsx)(exT,{...e}):e.renderDefault(e)}}},i18n:{bundles:[{locale:"en-US",namespace:eb8,resources:()=>e.A(120809)}]}}),ekz=[eg0(),ekL(),eb3(),eyd(),ecB(),efF(),ep5()];class ekV extends Error{constructor(e){super("SchemaError"),this.schema=e,this.name="SchemaError"}}let ekU=(0,tr.default)("sanity:config");async function ekH(e){var t,n;if("u">typeof C.default&&(null==(n=C.default)||null==(t=n.env)?void 0:t.SANITY_STUDIO_SCHEMA_DESCRIPTOR))return!0;let{projectId:r}=e.config();return!!r&&(0,ek.firstValueFrom)(eiB({projectId:r,versionedClient:e})).then(e=>e.includes("toggle.schema.upload")).catch(e=>(ekU("Fetching features failed. NOT sending schema to server.",{err:e}),!1))}async function ekq(e,t){if(!await ekH(t))return;let n=performance.now(),r=q0.get(e),i=performance.now()-n;i>1e3&&console.warn("Building schema for synchronization took more than 1 second (".concat(i,"ms)"));let a=r.set.id,{projectId:o="?",dataset:l="?"}=t.config(),s="dataset:".concat(o,":").concat(l);IX&&(s+="#dev");let c={descriptorId:a,contextKey:s},u=(await t.request({uri:"/descriptors/claim",method:"POST",body:c,headers:{"Client-Timing":"convertSchema;dur=".concat(i)}})).synchronization;for(let e=0;e<5;e++){let e=(0,nm.processSchemaSynchronization)(r,u);if(null===e)return a;u=await t.request({uri:"/descriptors/synchronize",method:"POST",body:e})}throw Error("Schema synchronization didn't succeed in ".concat(5," iterations"))}let ekW=(0,tr.default)("sanity:config"),ekY=e=>"error"===e.severity,ekK=new WeakMap;function ekG(e,t){var n;if(!Array.isArray(e)&&"missingConfigFile"in e)throw new euU({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});let r=function(e){let t=e||"";if("string"!=typeof t||t.length>0&&!t.startsWith("/"))throw new euU({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return"/"===t?"":t}(null==t?void 0:t.basePath),i=Array.isArray(e)?e:[{...e,name:null!=(n=e.name)?n:"default"}];try{!function(e){let{workspaces:t}=e;if(0===t.length)throw new DR("At least one workspace is required.");(function(e){let t=1===e.length,n=new Map;e.forEach((e,r)=>{let{name:i,title:a}=e,o=DM(a,r);if(!i&&!t)throw new DR("All workspaces must have a `name`, unless only a single workspace is defined. Workspace ".concat(o," did not define a `name`."),{workspace:e,index:r});let l=t&&typeof i>"u"?"default":i;if("string"!=typeof l)throw new DR("Workspace at index ".concat(r," defined an invalid `name` - must be a string."),{workspace:e,index:r});let s=l.toLowerCase(),c=n.get(s);if(c){let t=DM(c.workspace.title,c.index);throw new DR("`name`s must be unique. Workspace ".concat(t," and workspace ").concat(o," both have the `name` `").concat(l,"`"),{workspace:e,index:r})}if(n.set(s,{index:r,workspace:e}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new DR("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. Workspace ".concat(o," has the invalid name `").concat(l,"`"),{workspace:e,index:r})})})(t),function(e){e.length>1&&e.every(DB),e.every(DN);let[t,...n]=e,r=(t.basePath||"/").slice(1).split("/").filter(Boolean).length;n.forEach((e,n)=>{let i=(e.basePath||"/").slice(1).split("/").length;if(r!==i)throw new DR("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(DP(t,n),"` had ").concat(r," segment").concat(1===r?"":"s"," `").concat(t.basePath,"` but workspace `").concat(DP(e,n),"` had ").concat(i," segment").concat(1===i?"":"s"," `").concat(e.basePath,"`"),{workspace:e,index:n})});let i=new Map;e.forEach((e,t)=>{let n=(e.basePath||"").toLowerCase(),r=i.get(n);if(r)throw new DR("`basePath`s must be unique. Workspaces `".concat(r,"` and `").concat(DP(e,t),"` both have the `basePath` `").concat(n,"`"),{workspace:e,index:t});i.set(n,DP(e,t))})}(t)}({workspaces:i})}catch(e){throw new euU({name:"",type:"workspace",causes:[e.message]})}return{type:"prepared-config",workspaces:i.map(e=>{var t,n,i,a,o,l,s;if(ekK.has(e))return ekK.get(e);let c={tasks:{enabled:!0,...e.unstable_tasks,...e.tasks},scheduledPublishing:{enabled:!0,inputDateTimeFormat:"dd/MM/yyyy HH:mm",showReleasesBanner:!0,...e.scheduledPublishing,__internal__workspaceEnabled:null!=(a=null==(t=e.scheduledPublishing)?void 0:t.enabled)&&a},releases:{...e.releases,enabled:null==(o=null==(n=e.releases)?void 0:n.enabled)||o},apps:{canvas:{enabled:!0,...null==(i=e.apps)?void 0:i.canvas}},mediaLibrary:null==e?void 0:e.mediaLibrary},{unstable_sources:u=[],...d}=e,p=[d,...u].map(e=>{let{plugins:t,...n}=e;return{...n,plugins:[...null!=t?t:[],...ekz.filter(e=>{var n,r,i,a;return e.name===eb7?c.scheduledPublishing.enabled&&!!(null==t?void 0:t.length):e.name===ekN?c.tasks.enabled:e.name===ecP?c.releases.enabled:e.name===efM?null!=(a=null==(r=c.apps)||null==(n=r.canvas)?void 0:n.enabled)&&a:e.name!==ep0||(null==(i=c.mediaLibrary)?void 0:i.enabled)})].filter(e=>{let t="@sanity/assist"!==e.name||e.handlesGDR;return t||console.warn("Found an incompatible version of @sanity/assist plugin. It has been disabled.\nTo re-enable the plugin, please upgrade to https://github.com/sanity-io/assist/releases/tag/v3.2.2 or later."),t})}}).map(e=>{let t,{projectId:n,dataset:r}=e;try{t=function(e){let{config:t,context:n}=e;return edm({propertyName:"schema.types",config:t,context:n,initialValue:[],reducer:eu5})}({config:e,context:{projectId:n,dataset:r}})}catch(t){throw new euU({name:e.name,type:"source",causes:[t]})}let i=function(e){let t=(0,nm.validateSchema)(e.types).getTypes(),n=(0,nm.groupProblems)(t),r=n.some(e=>e.problems.some(q1)),i=cg.compile({name:e.name,types:r?[]:e.types.filter(Boolean),parent:q2});return i._validation=n,PT(i)}({name:e.name,types:t}),a=i._validation,o=null==a?void 0:a.filter(e=>e.problems.some(ekY));if(a&&(null==o?void 0:o.length))throw new ekV(i);let l=function(e){var t;if(Io(t=e.auth)&&"state"in t&&Io(t.state)&&"subscribe"in t.state&&"function"==typeof t.state.subscribe)return e.auth;let n=e.unstable_clientFactory||e8.createClient,{projectId:r,dataset:i,apiHost:a}=e;return AZ({apiHost:a,...e.auth,clientFactory:n,dataset:i,projectId:r})}(e),s=function(e){let{projectId:t,dataset:n,name:r}=e,i={projectId:t,dataset:n},a=edm({config:e,context:i,propertyName:"i18n.locales",reducer:eu4,initialValue:[DG]}),o=edm({config:e,context:i,propertyName:"i18n.bundles",reducer:eu6,initialValue:function(e){let t=[];for(let n of e){if(n.bundles&&!Array.isArray(n.bundles))throw Error("Resource bundle for locale ".concat(n.id," is not an array"));if(n.bundles)for(let e of n.bundles){if("locale"in e&&e.locale!==n.id)throw Error("Resource bundle inside locale ".concat(n.id," has mismatching locale id"));if(!e.namespace)throw Error("Resource bundle for locale ".concat(n.id," is missing namespace"));t.push("locale"in e?e:{...e,locale:n.id})}}return t}(a)});return function(e){let{locales:t,bundles:n,projectId:r,sourceName:i}=e,a=function(e,t,n,r){var i,a,o;let l=D$&&null!=(o=localStorage.getItem(DZ(e,t)))?o:void 0,s=n.find(e=>e.id===l),c=n[n.length-1],u=null!=(a=null!=(i=null==s?void 0:s.id)?i:c.id)?a:edb.lng;return{...edb,ns:Array.from(r),lng:u,supportedLngs:n.map(e=>e.id)}}(r,i,t,new Set(n.map(e=>e.namespace))),o=(0,tb.createInstance)().use(function(e){let{bundles:t}=e;return{type:"backend",init:function(){},read:function(e,n,r){let i=t.filter(t=>t.locale===e&&t.namespace===n);if(0===i.length)return void r('No translations found for namespace "'.concat(n,'", language "').concat(e,'"'),void 0);edg(i).then(e=>r(null,e)).catch(e=>r(e,!0))}}}({bundles:n})).use(q.initReactI18next);o.init(a).catch(e=>{console.error("Failed to initialize i18n backend: %s",e)});let l=t.map(edx);return{source:{get currentLocale(){var s;return null!=(s=l.find(e=>e.id===o.language))?s:DG},loadNamespaces(e){let t=e.filter(e=>!o.hasLoadedNamespace(e));return 0===t.length?Promise.resolve():o.loadNamespaces(t)},locales:l,t:II(o.t)},i18next:o}}({locales:a,bundles:o,projectId:t,sourceName:r})}(e),c=l.state.pipe((0,Z.map)(t=>{let{client:n,authenticated:r,currentUser:a}=t;return function(e){var t,n,r,i,a,o,l;let s,c,u,{config:d,client:p,currentUser:f,schema:h,authenticated:m,auth:g,i18n:y}=e,{dataset:v,projectId:b}=d,x=function(e,t){let{dataset:n,url:r,requestTagPrefix:i="sanity.studio"}=e.withConfig({apiVersion:"2022-06-30"}).config(),a="".concat("".concat(r.replace(/\/+$/,""),"/socket/").concat(n).replace(/^http/,"ws"),"?tag=").concat(i),o=t.token?{token$:t.token}:{};return(0,tn.fromUrl)(a,o)}(p,g),C=[],k={},w=e=>{if(!e||!e.apiVersion)throw Error("Missing required `apiVersion` option");return k[e.apiVersion]||(k[e.apiVersion]=p.withConfig(e)),k[e.apiVersion]},j={client:p,getClient:w,currentUser:f,dataset:v,projectId:b,schema:h,i18n:y.source,[esx]:(e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((e,t)=>{let{config:n}=t,r=n[esx];if(typeof r>"u")return e;if("boolean"==typeof r)return r;throw Error("Expected a boolean, but received ".concat(Bm(r)))},n)})({config:d,initialValue:!1})};j.client=[...Object.keys(p),...Object.keys(p.__proto__)].reduce((e,t)=>{let n=Object.hasOwnProperty.call(p,t)?p[t]:p.__proto__[t];return Object.defineProperty(e,t,{get:()=>(console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),n)})},{});let S=(i=d,{fileSource:QN({client:a=j.client,title:i.title||i.name}),imageSource:QB({client:a,title:i.title||i.name})}),E=(e=>{var t,n;let r=edd({config:e,initialValue:void 0});if(!edu({config:e,initialValue:!1}))return{fileSource:null,imageSource:null};return{fileSource:{name:(t={libraryId:r||null}).name||euz,i18nKey:t.i18nKey||"asset-sources.media-library.file.title",component:e=>(0,_.jsx)(euR,{...e,libraryId:t.libraryId}),icon:t.icon||R.DocumentIcon,Uploader:euL},imageSource:{name:(n={libraryId:r||null}).name||euz,i18nKey:n.i18nKey||"asset-sources.media-library.image.title",component:e=>(0,_.jsx)(euR,{...e,libraryId:n.libraryId}),icon:n.icon||R.ImageIcon,Uploader:euL}}})(d);try{s=edm({config:d,context:j,propertyName:"schema.templates",reducer:eu8,initialValue:h.getTypeNames().filter(e=>!e.startsWith("sanity.")).map(e=>h.get(e)).filter(D2).filter(e=>{var t;return(null==(t=e.type)?void 0:t.name)==="document"}).map(e=>({id:e.name,schemaType:e.name,title:e.title||e.name,icon:e.icon,value:e.initialValue||{_type:e.name}}))})}catch(e){throw new euU({name:d.name,type:"source",causes:[e]})}try{c=edm({config:d,context:j,initialValue:[],propertyName:"tools",reducer:eu3})}catch(e){throw new euU({name:d.name,type:"source",causes:[e]})}if(c.some(e=>{let{name:t}=e;return"tool"===t}))throw Error('A tool cannot have the name "tool". Please enter a different name.');let T=s.filter(e=>{var t;return!(null==(t=e.parameters)?void 0:t.length)}).map(e=>({templateId:e.id,description:e.description,icon:e.icon,title:e.title})),D=s.reduce((e,t)=>(e.set(t.id,t),e),new Map),I=e=>{let{schemaType:t}=e,n=edm({config:d,context:{...j,creationContext:e},initialValue:T,propertyName:"document.resolveNewDocumentOptions",reducer:edn}),r=[];if(r.length)throw new euU({name:d.name,type:"source",causes:r});return n.map((e,t)=>{let n=D.get(e.templateId);if(!n)throw Error("Could not find template with ID `".concat(e.templateId,"`"));let r=h.get(n.schemaType);if(!r)throw Error("Could not find matching schema type `".concat(n.schemaType,"` for template `").concat(n.id,"`"));let i=e.title||n.title,a=(null==r?void 0:r.title)===i||null==r?void 0:r.title;return{id:"".concat(e.templateId,"-").concat(t),templateId:e.templateId,type:"initialValueTemplateItem",title:i,i18n:e.i18n||n.i18n,subtitle:e.subtitle||a,description:e.description||n.description,icon:e.icon||n.icon||(null==r?void 0:r.icon),initialDocumentId:e.initialDocumentId,parameters:e.parameters,schemaType:n.schemaType}}).filter(n=>{var r;return!t||"document"===e.type||t===(null==(r=D.get(n.templateId))?void 0:r.schemaType)})};try{u=I({type:"global"})}catch(e){C.push(e)}if(C.length)throw new euU({name:d.name,type:"source",causes:C});return{type:"source",name:d.name,title:d.title||(0,ti.default)(d.name),schema:h,getClient:w,dataset:v,projectId:b,tools:c,currentUser:f,authenticated:m,templates:s,auth:g,i18n:y.source,__internal_tasks:(e=>{let{config:t}=e;return euQ(t,[]).reduce((e,t)=>{let{config:n}=t,r=n.__internal_tasks;if(!r)return e;if("object"==typeof r&&r.footerAction)return r;throw Error("Expected `__internal__tasks` to be an object with footerAction, but received ".concat(Bm(r)))},void 0)})({config:d}),document:{actions:e=>edm({config:d,context:{...j,...e},initialValue:eu2,propertyName:"document.actions",reducer:ede}),badges:e=>edm({config:d,context:{...j,...e},initialValue:eu1,propertyName:"document.badges",reducer:eu9}),drafts:{enabled:edm({config:d,context:j,reducer:edf,propertyName:"document.drafts.enabled",initialValue:!0})},unstable_fieldActions:e=>edm({config:d,context:{...j,...e},initialValue:euZ,propertyName:"document.unstable_fieldActions",reducer:eu$}),inspectors:e=>edm({config:d,context:{...j,...e},initialValue:Ie,propertyName:"document.inspectors",reducer:edl}),resolveProductionUrl:e=>edm({config:d,context:{...j,...e},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:eu7}),resolveNewDocumentOptions:I,unstable_languageFilter:e=>edm({config:d,context:{...j,...e},initialValue:eu0,propertyName:"document.unstable_languageFilter",reducer:edo}),unstable_comments:{enabled:e=>eds({context:e,config:d,initialValue:!0})},comments:{enabled:e=>eds({context:e,config:d,initialValue:!0})}},form:{file:{assetSources:edm({config:d,context:j,initialValue:E.fileSource?[E.fileSource,S.fileSource]:[S.fileSource],propertyName:"formBuilder.file.assetSources",reducer:edr}),directUploads:edi({config:d,schemaTypeName:"file"})},image:{assetSources:edm({config:d,context:j,initialValue:E.imageSource?[E.imageSource,S.imageSource]:[S.imageSource],propertyName:"formBuilder.image.assetSources",reducer:eda}),directUploads:edi({config:d,schemaTypeName:"image"})}},search:{filters:edC,operators:epE,unstable_partialIndexing:{enabled:(e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((e,t)=>{var n,r;let{config:i}=t,a=null==(r=i.search)||null==(n=r.unstable_partialIndexing)?void 0:n.enabled;if(!a&&"boolean"!=typeof a)return e;if("boolean"==typeof a)return a;throw Error("Expected `search.unstable_partialIndexing.enabled` to be a boolean, but received ".concat(Bm(a)))},n)})({config:d,initialValue:null!=(r=null==(n=d.search)||null==(t=n.unstable_partialIndexing)?void 0:t.enabled)&&r})},strategy:(e=>{var t;let{config:n,initialValue:r}=e,[i,a]=euQ(n,[]).reduce((e,t)=>{var n;let[r,i]=e,{enableLegacySearch:a,strategy:o}=null!=(n=t.config.search)?n:{};if("u">typeof o){if(!(0,W.isSearchStrategy)(o)){let e=new Intl.ListFormat("en-US",{type:"disjunction"}).format(W.searchStrategies.map(e=>'"'.concat(e,'"'))),t="string"==typeof o?'"'.concat(o,'"'):Bm(o);throw Error("Expected `search.strategy` to be ".concat(e,", but received ").concat(t))}return[r,o]}return"boolean"==typeof a?[a?"groqLegacy":"groq2024",i]:[r,i]},[void 0,void 0]);return null!=(t=null!=a?a:i)?t:r})({config:d,initialValue:"groqLegacy"}),enableLegacySearch:edm({config:d,context:j,reducer:edp,propertyName:"enableLegacySearch",initialValue:!0})},__internal:{bifur:x,i18next:y.i18next,staticInitialValueTemplateItems:u,options:d,schemaDescriptorId:m?(o=ekq(h,w(AE)),l=e=>{ekW("Uploading schema failed",{err:e})},o.catch(l),o):Promise.resolve(void 0)},onUncaughtError:(e,t)=>(e=>{let{config:t,context:n}=e;euQ(t,[]).forEach(e=>{let{config:t}=e,r=t.onUncaughtError;if("function"==typeof r)return r(n.error,n.errorInfo);if(r)throw Error("Expected `document.onUncaughtError` to be a a function, but received ".concat(Bm(r)))})})({config:d,context:{error:e,errorInfo:t}}),beta:{eventsAPI:{documents:edc({config:d,initialValue:!0,key:"documents"}),releases:edc({config:d,initialValue:!1,key:"releases"})},treeArrayEditing:{enabled:!1},create:{startInCreateEnabled:!1,fallbackStudioOrigin:void 0}},__internal_serverDocumentActions:{enabled:(e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((e,t)=>{var n;let{config:r}=t,i=null==(n=r.__internal_serverDocumentActions)?void 0:n.enabled;if(typeof i>"u")return e;if("boolean"==typeof i)return i;throw Error("Expected `__internal_serverDocumentActions` to be a boolean, but received ".concat(Bm(i)))},n)})({config:d,initialValue:void 0})},announcements:{enabled:(e=>{let{config:t,initialValue:n}=e;return euQ(t,[]).reduce((e,t)=>{var n;let{config:r}=t,i=null==(n=r.announcements)?void 0:n.enabled;if(!i&&"boolean"!=typeof i)return e;if("boolean"==typeof i)return i;throw Error("Expected `announcements.enabled` to be a boolean, but received ".concat(Bm(i)))},n)})({config:d,initialValue:!0})},mediaLibrary:{enabled:edu({config:d,initialValue:!1}),libraryId:edd({config:d,initialValue:void 0})},advancedVersionControl:{enabled:edm({config:d,context:j,reducer:edh,propertyName:"advancedVersionControl.enabled",initialValue:!1})},releases:d.releases?{enabled:d.releases.enabled,limit:d.releases.limit,actions:e=>edm({config:d,context:{...j,...e},initialValue:[],propertyName:"releases.actions",reducer:edt})}:void 0}}({config:e,client:n,currentUser:a,schema:i,authenticated:r,auth:l,i18n:s})}),(0,ep.shareReplay)(1));return{name:e.name,projectId:e.projectId,dataset:e.dataset,title:e.title||(0,ti.default)(e.name),auth:l,schema:i,i18n:s.source,source:c}}),f=d.title||(0,ti.default)(d.name),h={type:"workspace-summary",auth:p[0].auth,basePath:(l=r,s=d.basePath,"/".concat([l,s||""].map(e=>e.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/"))),dataset:d.dataset,schema:p[0].schema,i18n:p[0].i18n,customIcon:!!d.icon,icon:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,ta.isValidElementType)(e)?(0,_.jsx)(e,{}):(0,E.isValidElement)(e)?e:function(e,t){let n=euH("".concat(e," ").concat(t)),r=z.COLOR_HUES.filter(e=>"gray"!==e),i=r[Math.floor(n*r.length)],a=["300","400","500","600","700"],o=a[Math.floor(euH(n.toString())*a.length)],l=z.hues[i][o].hex,s=e.split(/\s/g).map(e=>e.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(e=>e.charAt(0).toUpperCase()),c=(0,V.darken)(l,.4),u=(0,V.lighten)(l,.4),d=(0,V.hasBadContrast)(l,"readable",c)?(0,V.hasBadContrast)(l,"readable",u)?(0,V.readableColor)(l):u:c;return(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[(0,_.jsx)("rect",{width:32,height:32,rx:2,fill:l}),(0,_.jsx)(euq,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:d,children:s})]})}(t,n)}(d.icon,f,"".concat(d.projectId," ").concat(d.dataset)),name:d.name||"default",projectId:d.projectId,theme:d.theme||I.studioTheme,title:f,subtitle:d.subtitle,__internal:{sources:p},...c};return ekK.set(e,h),h})}}function ek$(e){let t,n=(0,j.c)(7),{projectId:r,dataset:i,schema:a,currentUser:o,getClient:l,i18n:s}=e;return n[0]!==o||n[1]!==i||n[2]!==l||n[3]!==s||n[4]!==r||n[5]!==a?(t={projectId:r,dataset:i,schema:a,currentUser:o,getClient:l,i18n:s},n[0]=o,n[1]=i,n[2]=l,n[3]=s,n[4]=r,n[5]=a,n[6]=t):t=n[6],t}function ekZ(e){let{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}=e;return{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}}function ekX(e){let t,n,r,i=(0,j.c)(9),{config:a,children:o,basePath:l,LoadingComponent:s}=e,[c,u]=(0,E.useState)(null);if(i[0]!==l||i[1]!==a?(t=()=>{u(ekG(a,{basePath:l}).workspaces)},n=[l,a],i[0]=l,i[1]=a,i[2]=t,i[3]=n):(t=i[2],n=i[3]),(0,E.useEffect)(t,n),null===c){let e;return i[4]!==s?(e=(0,_.jsx)(s,{}),i[4]=s,i[5]=e):e=i[5],e}return i[6]!==o||i[7]!==c?(r=(0,_.jsx)(D.WorkspacesContext.Provider,{value:c,children:o}),i[6]=o,i[7]=c,i[8]=r):r=i[8],r}function ekJ(e){let t,n=(0,j.c)(3),{children:r,history:i}=e;return n[0]!==r||n[1]!==i?(t=(0,_.jsx)(D.RouterHistoryContext.Provider,{value:i,children:r}),n[0]=r,n[1]=i,n[2]=t):t=n[2],t}let ekQ=(0,E.memo)(function(e){let t,n,r,i=(0,j.c)(9),{children:a,history:o,activeWorkspace:l,setActiveWorkspace:s}=e;i[0]!==l||i[1]!==s?(t={activeWorkspace:l,setActiveWorkspace:s},i[0]=l,i[1]=s,i[2]=t):t=i[2];let c=t;return i[3]!==a||i[4]!==o?(n=(0,_.jsx)(ekJ,{history:o,children:a}),i[3]=a,i[4]=o,i[5]=n):n=i[5],i[6]!==n||i[7]!==c?(r=(0,_.jsx)(D.ActiveWorkspaceMatcherContext.Provider,{value:c,children:n}),i[6]=n,i[7]=c,i[8]=r):r=i[8],r});function ek1(e,t){if(e.type!==t.type)return!1;switch(e.type){case"match":return e.workspace===t.workspace;case"redirect":return e.pathname===t.pathname;case"not-found":return!0;default:throw Error("Unknown type: ".concat(e.type))}}function ek2(e){let t,n,r,i,a,o=(0,j.c)(25),{children:l,LoadingComponent:s,NotFoundComponent:c,unstable_history:u}=e,d=DF();o[0]!==u?(t=u||(typeof document>"u"?bo():bi()),o[0]=u,o[1]=t):t=o[1];let p=t;o[2]!==p||o[3]!==d?(n=e=>{let t=d.find(t=>t.name===e);t&&p.push(t.basePath)},o[2]=p,o[3]=d,o[4]=n):n=o[4];let f=n;o[5]!==f||o[6]!==d[0].name?(r=()=>{f(d[0].name)},o[5]=f,o[6]=d[0].name,o[7]=r):r=o[7];let h=r,m=function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(18),u=function(e){let t,n=(0,j.c)(2);return n[0]!==e?(t=e.map(e=>{let t=e.basePath||"/";return{workspace:e,name:e.name,basePath:t,basePathRegex:RegExp("^".concat((0,bh.default)(t),"(\\/|$)"),"i")}}),n[0]=e,n[1]=t):t=n[1],t}(t);c[0]!==u?(n=function(e){let t=e.map(e=>e.basePath.slice(1).split("/")).reduce((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!==t[n].toLowerCase())return e.slice(0,n);return e});return RegExp("^".concat(function e(t){let[n,...r]=t;return n?"(\\/".concat((0,bh.default)(n)).concat(e(r),"(\\/|$))?"):""}(t),"$"),"i")}(u),c[0]=u,c[1]=n):n=c[1];let d=n;c[2]!==e.location.pathname?(r=()=>e.location.pathname,c[2]=e.location.pathname,c[3]=r):r=c[3];let[p]=(0,E.useState)(r);c[4]!==e?(i=t=>e.listen(t),c[4]=e,c[5]=i):i=c[5],c[6]!==e.location.pathname?(a=()=>e.location.pathname,c[6]=e.location.pathname,c[7]=a):a=c[7],c[8]!==p?(o=()=>p,c[8]=p,c[9]=o):o=c[9],c[10]!==d||c[11]!==u?(l=e=>(function(e){let{pathname:t,workspaces:n,basePathRegex:r}=e,[i]=n;for(let{workspace:e,basePath:r,basePathRegex:i}of n)if(i.test(t)||"/"===r)return{type:"match",workspace:e};return"/"===t||r.test(t)?{type:"redirect",pathname:i.basePath}:{type:"not-found"}})({basePathRegex:d,pathname:e,workspaces:u}),c[10]=d,c[11]=u,c[12]=l):l=c[12],c[13]!==i||c[14]!==a||c[15]!==o||c[16]!==l?(s={subscribe:i,getSnapshot:a,getServerSnapshot:o,selector:l,isEqual:ek1},c[13]=i,c[14]=a,c[15]=o,c[16]=l,c[17]=s):s=c[17];let f=s;return(0,bf.useSyncExternalStoreWithSelector)(f.subscribe,f.getSnapshot,f.getServerSnapshot,f.selector,f.isEqual)}(p,d);switch(o[8]!==p||o[9]!==m.pathname||o[10]!==m.type?(i=()=>{"redirect"===m.type&&p.replace(m.pathname)},o[8]=p,o[9]=m.pathname,o[10]=m.type,o[11]=i):i=o[11],o[12]!==p||o[13]!==m?(a=[p,m],o[12]=p,o[13]=m,o[14]=a):a=o[14],(0,E.useEffect)(i,a),m.type){case"match":{let e;return o[15]!==l||o[16]!==p||o[17]!==m.workspace||o[18]!==f?(e=(0,_.jsx)(ekQ,{activeWorkspace:m.workspace,history:p,setActiveWorkspace:f,children:l}),o[15]=l,o[16]=p,o[17]=m.workspace,o[18]=f,o[19]=e):e=o[19],e}case"redirect":{let e;return o[20]!==s?(e=(0,_.jsx)(s,{}),o[20]=s,o[21]=e):e=o[21],e}case"not-found":{let e;return o[22]!==c||o[23]!==h?(e=(0,_.jsx)(c,{onNavigateToDefaultWorkspace:h}),o[22]=c,o[23]=h,o[24]=e):e=o[24],e}default:throw Error("Unknown type: ".concat(m.type))}}function ek0(e){let{children:t}=e,{dataset:n,projectId:r}=FU(),i=eTt(AE),[a,o]=(0,E.useState)(null),[l,s]=(0,E.useState)(!1),[c,u]=(0,E.useState)(!1),d=(0,E.useCallback)(async()=>{var e,t;return null==(t=await i.request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"}))||null==(e=t[0])?void 0:e.name},[n,i,r]),p=(0,E.useCallback)(e=>i.withConfig({dataset:e,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1}),[i,r]),f=(0,E.useCallback)(async()=>{s(!0);try{let e=await d();if(e){let t=p(e);return o(t),s(!1),t}}catch(e){}try{var e;let t=null==(e=await i.request({uri:"/comments/".concat(n,"/setup"),method:"POST"}))?void 0:e.datasetName;if(!t)return s(!1),null;let r=p(t);return o(r),r}catch(e){throw e}finally{s(!1)}},[n,d,p,i]);(0,E.useEffect)(()=>{d().then(e=>{e&&o(p(e))}).catch(e=>{}).finally(()=>{u(!0)})},[d,p]);let h=(0,E.useMemo)(()=>({client:a,createAddonDataset:f,isCreatingDataset:l,ready:c}),[a,f,l,c]);return(0,_.jsx)(D.AddonDatasetContext.Provider,{value:h,children:t})}function ek5(e){let t,n=(0,j.c)(2);return(0,E.useContext)(D.AddonDatasetContext)?e.children:(n[0]!==e?(t=(0,_.jsx)(ek0,{...e}),n[0]=e,n[1]=t):t=n[1],t)}function ek7(){let e=(0,E.useContext)(D.AddonDatasetContext);if(!e)throw Error("useAddonDataset: missing context value");return e}function ek3(e){switch(e){case"dark":case"light":return e;default:return"system"}}let ek8=new Set,ek4=e=>(c||(c=ek3(localStorage.getItem("sanityStudio:ui:colorScheme"))||"system"),ek8.add(e),()=>{ek8.delete(e)});function ek6(){return c}function ek9(e){for(let t of(c=ek3(e),ek8))t()}function ewe(){return(0,I.usePrefersDark)()?"dark":"light"}function ewt(e){let t,n=(0,j.c)(3),{children:r,scheme:i}=e,a=ewe(),o="system"===i?a:i;return n[0]!==r||n[1]!==o?(t=(0,_.jsx)(I.ThemeProvider,{scheme:o,theme:I.studioTheme,children:r}),n[0]=r,n[1]=o,n[2]=t):t=n[2],t}function ewn(e){let t,n=(0,j.c)(7),{children:r,onSchemeChange:i,scheme:a}=e;if(a){let e;return n[0]!==r||n[1]!==i||n[2]!==a?(e=(0,_.jsx)(ewa,{scheme:a,onSchemeChange:i,children:r}),n[0]=r,n[1]=i,n[2]=a,n[3]=e):e=n[3],e}return n[4]!==r||n[5]!==i?(t=(0,_.jsx)(ewr,{onSchemeChange:i,children:r}),n[4]=r,n[5]=i,n[6]=t):t=n[6],t}function ewr(e){let t,n,r,i,a=(0,j.c)(10),{children:o,onSchemeChange:l}=e,s=(0,E.useSyncExternalStore)(ek4,ek6,ewi);return a[0]!==l||a[1]!==s?(t=()=>{"function"==typeof l&&l(s),localStorage.setItem("sanityStudio:ui:colorScheme",s)},n=[l,s],a[0]=l,a[1]=s,a[2]=t,a[3]=n):(t=a[2],n=a[3]),(0,E.useEffect)(t,n),a[4]!==o||a[5]!==s?(r=(0,_.jsx)(ewt,{scheme:s,children:o}),a[4]=o,a[5]=s,a[6]=r):r=a[6],a[7]!==s||a[8]!==r?(i=(0,_.jsx)(D.ColorSchemeSetValueContext.Provider,{value:ek9,children:(0,_.jsx)(D.ColorSchemeValueContext.Provider,{value:s,children:r})}),a[7]=s,a[8]=r,a[9]=i):i=a[9],i}function ewi(){return"system"}function ewa(e){let t,n,r,i=(0,j.c)(9),{children:a,onSchemeChange:o,scheme:l}=e,s="function"==typeof o&&o;return i[0]!==a||i[1]!==l?(t=(0,_.jsx)(ewt,{scheme:l,children:a}),i[0]=a,i[1]=l,i[2]=t):t=i[2],i[3]!==l||i[4]!==t?(n=(0,_.jsx)(D.ColorSchemeValueContext.Provider,{value:l,children:t}),i[3]=l,i[4]=t,i[5]=n):n=i[5],i[6]!==s||i[7]!==n?(r=(0,_.jsx)(D.ColorSchemeSetValueContext.Provider,{value:s,children:n}),i[6]=s,i[7]=n,i[8]=r):r=i[8],r}function ewo(){let e=(0,E.useContext)(D.ColorSchemeSetValueContext);if(null===e)throw Error("Could not find `ColorSchemeSetValueContext` context");return e}function ewl(){let e=(0,E.useContext)(D.ColorSchemeValueContext);if(null===e)throw Error("Could not find `ColorSchemeValueContext` context");return e}function ews(){let e=ewl(),t=ewe();return"system"===e?t:e}function ewc(e,t){let n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(37),g=ewl();m[0]!==t?(n=t("user-menu.color-scheme.system-title"),m[0]=t,m[1]=n):n=m[1],m[2]!==t?(r=t("user-menu.color-scheme.system-description"),m[2]=t,m[3]=r):r=m[3];let y="system"===g;m[4]!==e?(i=()=>e("system"),m[4]=e,m[5]=i):i=m[5],m[6]!==n||m[7]!==r||m[8]!==y||m[9]!==i?(a={title:n,name:"system",label:r,selected:y,onSelect:i,icon:R.DesktopIcon},m[6]=n,m[7]=r,m[8]=y,m[9]=i,m[10]=a):a=m[10],m[11]!==t?(o=t("user-menu.color-scheme.dark-title"),m[11]=t,m[12]=o):o=m[12],m[13]!==t?(l=t("user-menu.color-scheme.dark-description"),m[13]=t,m[14]=l):l=m[14];let v="dark"===g;m[15]!==e?(s=()=>e("dark"),m[15]=e,m[16]=s):s=m[16],m[17]!==o||m[18]!==l||m[19]!==v||m[20]!==s?(c={title:o,name:"dark",label:l,selected:v,onSelect:s,icon:R.MoonIcon},m[17]=o,m[18]=l,m[19]=v,m[20]=s,m[21]=c):c=m[21],m[22]!==t?(u=t("user-menu.color-scheme.light-title"),m[22]=t,m[23]=u):u=m[23],m[24]!==t?(d=t("user-menu.color-scheme.light-description"),m[24]=t,m[25]=d):d=m[25];let b="light"===g;return m[26]!==e?(p=()=>e("light"),m[26]=e,m[27]=p):p=m[27],m[28]!==u||m[29]!==d||m[30]!==b||m[31]!==p?(f={title:u,name:"light",label:d,selected:b,onSelect:p,icon:R.SunIcon},m[28]=u,m[29]=d,m[30]=b,m[31]=p,m[32]=f):f=m[32],m[33]!==f||m[34]!==a||m[35]!==c?(h=[a,c,f],m[33]=f,m[34]=a,m[35]=c,m[36]=h):h=m[36],h}let ewu=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(12),{onClick:s}=e,{t:c}=IO();return l[0]!==c?(n=c("search.action-open-aria-label"),l[0]=c,l[1]=n):n=l[1],l[2]!==c?(r=c("search.button.tooltip"),l[2]=c,l[3]=r):r=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(i=[eaZ,"K"],l[4]=i):i=l[4],l[5]!==r?(a={content:r,hotkeys:i,portal:!0},l[5]=r,l[6]=a):a=l[6],l[7]!==s||l[8]!==t||l[9]!==n||l[10]!==a?(o=(0,_.jsx)(B.Button,{"aria-label":n,"data-testid":"studio-search",icon:R.SearchIcon,tooltipProps:a,onClick:s,mode:"bleed",ref:t}),l[7]=s,l[8]=t,l[9]=n,l[10]=a,l[11]=o):o=l[11],o}),ewd=(0,F.styled)(I.Card)(Eq()),ewp=(0,F.styled)(I.Box)(EW());function ewf(e){let t,n,r,i=(0,j.c)(15),{onClose:a,onOpen:o,open:l}=e,[s,c]=(0,E.useState)(null),u=ews(),{state:d}=eaJ(),{filtersVisible:p,terms:f}=d;i[0]!==f?(t=eaQ({terms:f}),i[0]=f,i[1]=t):t=i[1];let h=t;return i[2]!==p||i[3]!==h||i[4]!==s||i[5]!==a||i[6]!==l||i[7]!==u?(n=l&&(0,_.jsx)(I.Portal,{children:(0,_.jsx)(ts.default,{autoFocus:!IC,returnFocus:!0,children:(0,_.jsx)(ewp,{children:(0,_.jsxs)(ewd,{display:"flex",height:"fill",scheme:u,tone:"default",children:[(0,_.jsx)(elv,{onClose:a,ref:c}),p&&(0,_.jsx)(I.Card,{borderTop:!0,flex:"none",children:(0,_.jsx)(eoQ,{})}),h?(0,_.jsx)(elM,{inputElement:s}):(0,_.jsx)(elh,{inputElement:s})]})})})}),i[2]=p,i[3]=h,i[4]=s,i[5]=a,i[6]=l,i[7]=u,i[8]=n):n=i[8],i[9]!==h||i[10]!==a||i[11]!==o||i[12]!==l||i[13]!==n?(r=(0,_.jsx)(ea0,{hasValidTerms:h,onClose:a,onOpen:o,open:l,children:n}),i[9]=h,i[10]=a,i[11]=o,i[12]=l,i[13]=n,i[14]=r):r=i[14],r}let ewh=e=>{let t,n=(0,j.c)(1),{children:r,capability:i,condition:a}=e,o=void 0===a?"unavailable":a,l=Fm();n[0]===Symbol.for("react.memo_cache_sentinel")?(t={},n[0]=t):t=n[0];let s=!0===(0,te.useObservable)(l.capabilities,t)[i];return"available"===o&&!s||"unavailable"===o&&s?null:r},ewm=(0,E.forwardRef)(function(e,t){let n,r,i,a,o=(0,j.c)(9);o[0]!==e?({name:n,...r}=e,o[0]=e,o[1]=n,o[2]=r):(n=o[1],r=o[2]),o[3]!==n?(i=()=>({tool:n,[n]:void 0}),o[3]=n,o[4]=i):i=o[4];let l=(0,nr.useRouterState)(i);return o[5]!==t||o[6]!==r||o[7]!==l?(a=(0,_.jsx)(nr.StateLink,{state:l,...r,ref:t}),o[5]=t,o[6]=r,o[7]=l,o[8]=a):a=o[8],a}),ewg=(0,F.css)(EY()),ewy=F.styled.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),ewv=(0,F.styled)(ewm)(EK(),ewg);function ewb(){let e,t,n,r,i=(0,j.c)(10),{t:a}=IO(),{errorCount$:o}=Fz(),l=0!==(0,te.useObservable)(o),s=(0,nr.useRouterState)(ewx);i[0]!==a?(e=a("release.navbar.tooltip"),i[0]=a,i[1]=e):e=i[1];let c=s===ecM;return i[2]!==l?(t=l&&(0,_.jsx)(ewy,{"data-ui":"error-status-icon",style:{backgroundColor:"var(--card-badge-critical-dot-color)"}}),i[2]=l,i[3]=t):t=i[3],i[4]!==c||i[5]!==t?(n=(0,_.jsx)(I.Button,{as:ewv,name:ecM,"data-as":"a",icon:R.CalendarIcon,mode:"bleed",padding:2,radius:"full","data-testid":"releases-tool-link",selected:c,children:t}),i[4]=c,i[5]=t,i[6]=n):n=i[6],i[7]!==e||i[8]!==n?(r=(0,_.jsx)(B.Tooltip,{content:e,children:n}),i[7]=e,i[8]=n,i[9]=r):r=i[9],r}function ewx(e){return"string"==typeof e.tool?e.tool:void 0}let ewC=(0,F.styled)(nr.IntentLink)(EG(),ewg);function ewk(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(18),{children:p,text:f}=e,h=(0,E.useRef)(null),[m,g]=(0,E.useState)(null),[y,v]=(0,E.useState)(!1);d[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{h.current&&g(h.current.offsetWidth)},d[0]=t):t=d[0],d[1]!==f?(n=[f],d[1]=f,d[2]=n):n=d[2],(0,E.useLayoutEffect)(t,n),d[3]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{v(!0)},d[3]=r):r=d[3];let b=r;d[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{v(!1)},d[4]=i):i=d[4];let x=i,C=null===m?"auto":m,k=y?"hidden":"visible";d[5]!==C||d[6]!==k?(a={display:"inline-block",width:C,overflow:k},d[5]=C,d[6]=k,d[7]=a):a=d[7];let w=m||"auto";return d[8]!==w?(o={width:w},d[8]=w,d[9]=o):o=d[9],d[10]===Symbol.for("react.memo_cache_sentinel")?(l={type:"spring",bounce:0,duration:.3},d[10]=l):l=d[10],d[11]===Symbol.for("react.memo_cache_sentinel")?(s={display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},d[11]=s):s=d[11],d[12]!==p?(c=(0,_.jsx)("div",{ref:h,style:s,children:p}),d[12]=p,d[13]=c):c=d[13],d[14]!==c||d[15]!==a||d[16]!==o?(u=(0,_.jsx)(na.motion.div,{style:a,animate:o,transition:l,onAnimationStart:b,onAnimationComplete:x,children:c}),d[14]=c,d[15]=a,d[16]=o,d[17]=u):u=d[17],u}let eww=e=>{var t,n,r;let i,a,o,l,s=(0,j.c)(9),{selectedPerspective:c}=e,{t:u}=IO();s[0]!==c._id?(i=(0,E.forwardRef)(function(e,t){let{children:n,...r}=e;return(0,_.jsx)(ewC,{...r,ref:t,intent:ecF,params:{id:FF(c._id)},children:n})}),s[0]=c._id,s[1]=i):i=s[1];let d=i;return s[2]===Symbol.for("react.memo_cache_sentinel")?(a={maxWidth:"180px",textOverflow:"ellipsis"},s[2]=a):a=s[2],s[3]!==(null==(t=c.metadata)?void 0:t.title)||s[4]!==u?(o=(null==(n=c.metadata)?void 0:n.title)||u("release.placeholder-untitled-release"),s[3]=null==(r=c.metadata)?void 0:r.title,s[4]=u,s[5]=o):o=s[5],s[6]!==d||s[7]!==o?(l=(0,_.jsx)(I.Button,{as:d,"data-as":"a",rel:"noopener noreferrer",mode:"bleed",padding:2,radius:"full",style:a,text:o}),s[6]=d,s[7]=o,s[8]=l):l=s[8],l};function ew_(e){let t,n,r=(0,j.c)(6),{selectedPerspective:i}=e,{t:a}=IO(),o=Id(i)?i._id:i;return r[0]!==i||r[1]!==a?(t=R_(i)||Rj(i)?(0,_.jsx)(I.Box,{padding:2,style:{userSelect:"none",overflow:"hidden"},children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:a(R_(i)?"release.chip.published":"release.chip.global.drafts")})}):(0,_.jsx)(eww,{selectedPerspective:i}),r[0]=i,r[1]=a,r[2]=t):t=r[2],r[3]!==o||r[4]!==t?(n=(0,_.jsx)(ewk,{text:o,children:t}),r[3]=o,r[4]=t,r[5]=n):n=r[5],n}let ewj="--card-border-color",ewS=F.styled.div(e=>{let{$inRange:t,$last:n,$first:r,$isDefaultPerspective:i}=e;return(0,F.css)(EQ(),18,5,ewj,4,t&&!n&&(0,F.css)(E$(),i?"calc(var(--indicator-bottom) + 12px)":"var(--indicator-bottom)"),t&&(0,F.css)(EZ()),r&&(0,F.css)(EX(),5,5),n&&(0,F.css)(EJ(),5,5))}),ewE=(0,F.styled)(I.Box)(e=>{let{$withinRange:t}=e;return(0,F.css)(E2(),t&&(0,F.css)(E1(),18,4,5,ewj))}),ewT=(0,F.styled)(I.Button)(e=>{let{$visible:t}=e;return(0,F.css)(E0(),+!t)}),ewD=()=>{let e,t,n=(0,j.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={opacity:0},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.DotIcon,{style:e})})}),n[1]=t):t=n[1],t};function ewI(e,t){let{lastIndex:n}=e;if(0!==n){if(0===t)return"first";if(t===n)return"last";if(t>0&&t<n)return"within"}}let ewA=(0,E.forwardRef)((e,t)=>{var n;let r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S=(0,j.c)(71),{release:E,rangePosition:T}=e,{document:D}=FU(),{drafts:A}=D,{enabled:O}=A,P=O?Rm:Rg,{selectedPerspective:M,selectedPerspectiveName:F}=Ar(),N=erV(),{toggleExcludedPerspective:L,isPerspectiveExcluded:z}=function(){let e,t,n,r=(0,j.c)(9),{navigate:i}=(0,nr.useRouter)(),{excludedPerspectives:a}=Ar();r[0]!==a||r[1]!==i?(e=e=>{let t=a||[];i({stickyParams:{excludedPerspectives:(t.includes(e)?t.filter(t=>t!==e):[...t,e]).toString()}})},r[0]=a,r[1]=i,r[2]=e):e=r[2];let o=e;r[3]!==a?(t=e=>!!(null==a?void 0:a.includes(e)),r[3]=a,r[4]=t):t=r[4];let l=t;return r[5]!==a||r[6]!==l||r[7]!==o?(n={excludedPerspectives:a,toggleExcludedPerspective:o,isPerspectiveExcluded:l},r[5]=a,r[6]=l,r[7]=o,r[8]=n):n=r[8],n}();S[0]!==E?(r=Id(E)?FF(E._id):E,S[0]=E,S[1]=r):r=S[1];let V=r,U=E===P,H=F?V===F:U;S[2]!==z||S[3]!==V?(i=z(V),S[2]=z,S[3]=V,S[4]=i):i=S[4];let q=i,{t:W}=IO();e:{let e;if(R_(E)){let e;S[5]!==W?(e=W("release.navbar.published"),S[5]=W,S[6]=e):e=S[6],a=e;break e}if(Rj(E)){let e;S[7]!==W?(e=W("release.navbar.drafts"),S[7]=W,S[8]=e):e=S[8],a=e;break e}S[9]!==E.metadata.title||S[10]!==W?(e=E.metadata.title||W("release.placeholder-untitled-release"),S[9]=E.metadata.title,S[10]=W,S[11]=e):e=S[11],a=e}let Y=a;S[12]!==V||S[13]!==L?(o=e=>{e.stopPropagation(),L(V)},S[12]=V,S[13]=L,S[14]=o):o=S[14];let K=o;S[15]!==V||S[16]!==N?(l=()=>N(V),S[15]=V,S[16]=N,S[17]=l):l=S[17];let G=l;t:{let e;if("published"===E){s=!1;break t}if(Rj(E)){let e;S[18]!==M?(e=Id(M),S[18]=M,S[19]=e):e=S[19],s=e;break t}if(RS(E)){s=!1;break t}S[20]!==T?(e=T&&["first","within"].includes(T),S[20]=T,S[21]=e):e=S[21],s=e}let $=s,Z="first"===T,X="last"===T,J=!!T,Q="release-".concat(V);S[22]!==e.menuItemProps||S[23]!==E?(c=null==(n=e.menuItemProps)?void 0:n.call(e,{perspective:E}),S[22]=e.menuItemProps,S[23]=E,S[24]=c):c=S[24],S[25]===Symbol.for("react.memo_cache_sentinel")?(u={position:"relative",zIndex:1},S[25]=u):u=S[25],S[26]!==q||S[27]!==E?(d=(0,_.jsx)(I.Box,{flex:"none",style:u,children:(0,_.jsx)(I.Text,{size:1,children:q?(0,_.jsx)(ewD,{}):(0,_.jsx)(erX,{tone:RD(E)})})}),S[26]=q,S[27]=E,S[28]=d):d=S[28];let ee=q?.5:void 0;return S[29]!==ee?(p={opacity:ee},S[29]=ee,S[30]=p):p=S[30],S[31]!==Y?(f=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:Y}),S[31]=Y,S[32]=f):f=S[32],S[33]!==E?(h=Id(E)&&"u">typeof E.error&&"active"===E.state&&(0,_.jsx)(I.Text,{size:1,"data-testid":"release-error-icon",children:(0,_.jsx)(eiE,{icon:R.ErrorOutlineIcon,tone:"critical"})}),S[33]=E,S[34]=h):h=S[34],S[35]!==f||S[36]!==h?(m=(0,_.jsxs)(I.Flex,{gap:3,align:"center",children:[f,h]}),S[35]=f,S[36]=h,S[37]=m):m=S[37],S[38]!==E?(g=Id(E)&&"scheduled"===E.metadata.releaseType&&(E.publishAt||E.metadata.intendedPublishAt)&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:Rw(E)}),S[38]=E,S[39]=g):g=S[39],S[40]!==p||S[41]!==m||S[42]!==g?(y=(0,_.jsxs)(I.Stack,{flex:1,paddingY:2,paddingRight:2,space:2,style:p,children:[m,g]}),S[40]=p,S[41]=m,S[42]=g,S[43]=y):y=S[43],S[44]!==$||S[45]!==K||S[46]!==q||S[47]!==W?(v=$&&(0,_.jsx)(B.Tooltip,{portal:!0,content:W("release.layer.hide"),placement:"bottom",children:(0,_.jsx)(ewT,{$visible:!q,forwardedAs:"div",icon:q?R.EyeClosedIcon:R.EyeOpenIcon,mode:"bleed",onClick:K,padding:2,"data-testid":"release-toggle-visibility"})}),S[44]=$,S[45]=K,S[46]=q,S[47]=W,S[48]=v):v=S[48],S[49]!==E?(b=Id(E)&&RS(E)&&(0,_.jsx)(I.Box,{padding:2,children:(0,_.jsx)(I.Text,{size:1,"data-testid":"release-lock-icon",children:(0,_.jsx)(R.LockIcon,{})})}),S[49]=E,S[50]=b):b=S[50],S[51]!==v||S[52]!==b?(x=(0,_.jsxs)(I.Box,{flex:"none",children:[v,b]}),S[51]=v,S[52]=b,S[53]=x):x=S[53],S[54]!==d||S[55]!==y||S[56]!==x?(C=(0,_.jsxs)(I.Flex,{align:"flex-start",gap:1,children:[d,y,x]}),S[54]=d,S[55]=y,S[56]=x,S[57]=C):C=S[57],S[58]!==H||S[59]!==G||S[60]!==Q||S[61]!==c||S[62]!==C?(k=(0,_.jsx)(I.MenuItem,{onClick:G,padding:1,pressed:H,"data-testid":Q,...c,children:C}),S[58]=H,S[59]=G,S[60]=Q,S[61]=c,S[62]=C,S[63]=k):k=S[63],S[64]!==U||S[65]!==t||S[66]!==J||S[67]!==k||S[68]!==Z||S[69]!==X?(w=(0,_.jsx)(ewS,{$isDefaultPerspective:U,$first:Z,$last:X,$inRange:J,ref:t,children:k}),S[64]=U,S[65]=t,S[66]=J,S[67]=k,S[68]=Z,S[69]=X,S[70]=w):w=S[70],w});ewA.displayName="GlobalPerspectiveMenuItem";let ewO={asap:"release.type.asap",scheduled:"release.type.scheduled",undecided:"release.type.undecided"};function ewP(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(29),{releaseType:u,releases:d,range:p,currentGlobalBundleMenuItemRef:f,menuItemProps:h}=e,{t:m}=IO(),{selectedReleaseId:g}=Ar();c[0]!==f||c[1]!==g?(t=e=>g===e?f:void 0,c[0]=f,c[1]=g,c[2]=t):t=c[2];let y=t;if(0===d.length)return null;let{lastIndex:v,offsets:b}=p,x=b[u],C=x>0&&v>=x,k="asap"===u?1:4;c[3]===Symbol.for("react.memo_cache_sentinel")?(n={textTransform:"uppercase"},c[3]=n):n=c[3];let w=ewO[u];if(c[4]!==m||c[5]!==w?(r=m(w),c[4]=m,c[5]=w,c[6]=r):r=c[6],c[7]!==r?(i=(0,_.jsx)(I.Label,{muted:!0,style:n,size:1,children:r}),c[7]=r,c[8]=i):i=c[8],c[9]!==C||c[10]!==k||c[11]!==i?(a=(0,_.jsx)(ewE,{$withinRange:C,paddingRight:2,paddingTop:k,paddingBottom:2,children:i}),c[9]=C,c[10]=k,c[11]=i,c[12]=a):a=c[12],c[13]!==y||c[14]!==h||c[15]!==p||c[16]!==x||c[17]!==d){let e;c[19]!==y||c[20]!==h||c[21]!==p||c[22]!==x?(e=(e,t)=>(0,_.jsx)(ewA,{release:e,ref:y(FF(e._id)),rangePosition:ewI(p,x+t),menuItemProps:h},e._id),c[19]=y,c[20]=h,c[21]=p,c[22]=x,c[23]=e):e=c[23],o=d.map(e),c[13]=y,c[14]=h,c[15]=p,c[16]=x,c[17]=d,c[18]=o}else o=c[18];return c[24]!==o?(l=(0,_.jsx)(I.Flex,{direction:"column",gap:1,children:o}),c[24]=o,c[25]=l):l=c[25],c[26]!==l||c[27]!==a?(s=(0,_.jsxs)(_.Fragment,{children:[a,l]}),c[26]=l,c[27]=a,c[28]=s):s=c[28],s}let ewM=["asap","scheduled","undecided"],ewF=(0,F.styled)(I.Box)(E5()),ewR=(0,F.styled)(I.Box)(e=>{let{$reducePadding:t,$removePadding:n}=e;return(0,F.css)(E7(),n?"0px":t?"4px":"16px")});function ewB(e){let{areReleasesEnabled:t,setScrollContainer:n,onScroll:r,isRangeVisible:i,selectedReleaseId:a,setCreateBundleDialogOpen:o,scrollElementRef:l,menuItemProps:s}=e,{loading:c,data:u}=z0(),{selectedPerspectiveName:d}=Ar(),p=(0,E.useMemo)(()=>u.filter(e=>!Ip(e)),[u]),{document:{drafts:{enabled:f}}}=FU(),h=(0,E.useCallback)(()=>o(!0),[o]),m=(0,E.useMemo)(()=>ewM.reduce((e,t)=>({...e,[t]:p.filter(e=>{let{metadata:n}=e;return n.releaseType===t})}),{}),[p]),g=(0,E.useMemo)(()=>{let e=+(typeof d>"u"),t=[Rg,f?Rm:[]].flat(),{asap:n,scheduled:r}=m,i={asap:t.length,scheduled:t.length+n.length,undecided:t.length+n.length+r.length};return ewM.forEach(t=>{let n=m[t],r=i[t];n.forEach((t,n)=>{a===FF(t._id)&&(e=r+n)})}),{lastIndex:e,offsets:i}},[f,d,a,m]);return c?(0,_.jsx)(I.Flex,{padding:4,justify:"center","data-testid":"spinner",children:(0,_.jsx)(I.Spinner,{muted:!0})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(ewF,{ref:n,onScroll:r,children:[(0,_.jsxs)(ewR,{$reducePadding:!p.length||!t,$removePadding:!t,children:[(0,_.jsx)(ewA,{rangePosition:i?ewI(g,0):void 0,release:"published",menuItemProps:s}),f&&(0,_.jsx)(ewA,{rangePosition:i?ewI(g,1):void 0,release:Rm,menuItemProps:s})]}),t&&(0,_.jsx)(_.Fragment,{children:ewM.map(e=>(0,_.jsx)(ewP,{releaseType:e,releases:m[e],range:g,currentGlobalBundleMenuItemRef:l,menuItemProps:s},e))})]}),t&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.MenuDivider,{}),(0,_.jsx)(ecL,{onCreateRelease:h})]})]})}let ewN=(0,F.styled)(I.Menu)(E3()),ewL=(0,F.styled)(I.Button)(E8(),ewg);function ewz(e){let t,n,r,i,a,o,l,s=(0,j.c)(19),{selectedReleaseId:c,areReleasesEnabled:u,menuItemProps:d}=e,p=void 0===u||u,[f,h]=(0,E.useState)(!1),m=(0,E.useRef)(null),{isRangeVisible:g,onScroll:y,resetRangeVisibility:v,setScrollContainer:b,scrollElementRef:x}=(()=>{let e,t,n,r,i=(0,j.c)(5),a=(0,E.useRef)(null),o=(0,E.useRef)(null),[l,s]=(0,E.useState)(!0);i[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>s(function(e,t){if(!e||!t)return!0;let n=e.getBoundingClientRect();return t.getBoundingClientRect().top>=n.top+65}(a.current,o.current)),i[0]=e):e=i[0];let c=e;i[1]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{a.current=e},i[1]=t):t=i[1];let u=t;i[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>s(!0),i[2]=n):n=i[2];let d=n;return i[3]!==l?(r={resetRangeVisibility:d,onScroll:c,isRangeVisible:l,setScrollContainer:u,scrollElementRef:o},i[3]=l,i[4]=r):r=i[4],r})();s[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{h(!1)},s[0]=t):t=s[0];let C=t;return s[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(ewL,{"data-testid":"global-perspective-menu-button",iconRight:R.ChevronDownIcon,mode:"bleed",padding:2,radius:"full"}),s[1]=n):n=s[1],s[2]!==p||s[3]!==g||s[4]!==d||s[5]!==y||s[6]!==x||s[7]!==c||s[8]!==b?(r=(0,_.jsx)(ewN,{"data-testid":"release-menu",ref:m,children:(0,_.jsx)(ewB,{areReleasesEnabled:p,setScrollContainer:b,onScroll:y,isRangeVisible:g,scrollElementRef:x,selectedReleaseId:c,setCreateBundleDialogOpen:h,menuItemProps:d})}),s[2]=p,s[3]=g,s[4]=d,s[5]=y,s[6]=x,s[7]=c,s[8]=b,s[9]=r):r=s[9],s[10]===Symbol.for("react.memo_cache_sentinel")?(i={constrainSize:!0,fallbackPlacements:["bottom-end"],placement:"bottom-end",portal:!0,tone:"default",zOffset:3e3},s[10]=i):i=s[10],s[11]!==v||s[12]!==r?(a=(0,_.jsx)(B.MenuButton,{button:n,id:"releases-menu",onClose:v,menu:r,popover:i}),s[11]=v,s[12]=r,s[13]=a):a=s[13],s[14]!==f?(o=f&&(0,_.jsx)(esb,{onCancel:C,onSubmit:C,origin:"structure"}),s[14]=f,s[15]=o):o=s[15],s[16]!==a||s[17]!==o?(l=(0,_.jsxs)(_.Fragment,{children:[a,o]}),s[16]=a,s[17]=o,s[18]=l):l=s[18],l}let ewV=(0,F.styled)(I.Card)(E4()),ewU=e=>{let t,n,r,i,a=(0,j.c)(13),{withReleasesToolButton:o,menuItemProps:l}=e,s=ecN(),{selectedPerspective:c,selectedReleaseId:u}=Ar();return a[0]!==s||a[1]!==o?(t=o&&s&&(0,_.jsx)(ewb,{}),a[0]=s,a[1]=o,a[2]=t):t=a[2],a[3]!==c?(n=(0,_.jsx)(ew_,{selectedPerspective:c}),a[3]=c,a[4]=n):n=a[4],a[5]!==l||a[6]!==s||a[7]!==u?(r=(0,_.jsx)(ewz,{selectedReleaseId:u,areReleasesEnabled:s,menuItemProps:l}),a[5]=l,a[6]=s,a[7]=u,a[8]=r):r=a[8],a[9]!==t||a[10]!==n||a[11]!==r?(i=(0,_.jsxs)(ewV,{flex:"none",tone:"inherit",radius:"full","data-ui":"ReleasesNav",border:!0,children:[t,n,r]}),a[9]=t,a[10]=n,a[11]=r,a[12]=i):i=a[12],i};function ewH(e){let t,n=(0,j.c)(3),{activeTool:r}=e,i=r.component;return n[0]!==i||n[1]!==r?(t=(0,_.jsx)(i,{tool:r}),n[0]=i,n[1]=r,n[2]=t):t=n[2],t}function ewq(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(24),{children:u}=e,[d,p]=(0,E.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={dataUri:"/journey/document-limit",feature:"document-limits"},c[0]=t):t=c[0];let{upsellData:f,telemetryLogs:h}=eco(t);c[1]!==h?(n=e=>{p(!0),h.dialogViewed(e)},c[1]=h,c[2]=n):n=c[2];let m=n;c[3]!==h?(r=()=>{p(!1),h.dialogDismissed()},c[3]=h,c[4]=r):r=c[4];let g=r;c[5]!==h?(i=()=>{h.dialogPrimaryClicked()},c[5]=h,c[6]=i):i=c[6];let y=i;c[7]!==h?(a=()=>{h.dialogSecondaryClicked()},c[7]=h,c[8]=a):a=c[8];let v=a;c[9]!==m||c[10]!==h||c[11]!==f||c[12]!==d?(o={upsellDialogOpen:d,handleOpenDialog:m,upsellData:f,telemetryLogs:h},c[9]=m,c[10]=h,c[11]=f,c[12]=d,c[13]=o):o=c[13];let b=o;return c[14]!==g||c[15]!==y||c[16]!==v||c[17]!==f||c[18]!==d?(l=f&&d&&(0,_.jsx)(ecD,{data:f,onClose:g,onPrimaryClick:y,onSecondaryClick:v}),c[14]=g,c[15]=y,c[16]=v,c[17]=f,c[18]=d,c[19]=l):l=c[19],c[20]!==u||c[21]!==b||c[22]!==l?(s=(0,_.jsxs)(D.DocumentLimitUpsellContext.Provider,{value:b,children:[u,l]}),c[20]=u,c[21]=b,c[22]=l,c[23]=s):s=c[23],s}let ewW=()=>{let e=(0,E.useContext)(D.DocumentLimitUpsellContext);if(!e)throw Error("useDocumentLimitsUpsellContext must be used within a DocumentLimitUpsellProvider");return e};function ewY(){let e,t,n,r,i,a,o=(0,j.c)(12),{upsellData:l,telemetryLogs:s}=ewW();o[0]!==s?(e=()=>{s.panelPrimaryClicked()},o[0]=s,o[1]=e):e=o[1];let c=e;o[2]!==s?(t=()=>{s.panelSecondaryClicked()},o[2]=s,o[3]=t):t=o[3];let u=t;if(!l){let e;return o[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{title:"Loading documents limit",showText:!0}),o[4]=e):e=o[4],e}return o[5]===Symbol.for("react.memo_cache_sentinel")?(n={opacity:0,scale:.95},r={opacity:1,scale:1},i={duration:.2},o[5]=n,o[6]=r,o[7]=i):(n=o[5],r=o[6],i=o[7]),o[8]!==c||o[9]!==u||o[10]!==l?(a=(0,_.jsx)(I.Flex,{height:"fill",width:"fill",justify:"center",align:"center",padding:4,children:(0,_.jsx)(na.motion.div,{initial:n,animate:r,transition:i,children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(emM,{data:l,onPrimaryClick:c,onSecondaryClick:u})})})}),o[8]=c,o[9]=u,o[10]=l,o[11]=a):a=o[11],a}let ewK=e=>e instanceof e8.ClientError&&"documentLimitExceededError"===e.response.body.error.type,ewG=(0,B.generateHelpUrl)("http1-performance-issues");function ew$(){let e,t,n,r,i=(0,j.c)(4);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Text,{as:"h1",size:1,weight:"medium",children:"No configured tools"}),n=(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),i[1]=t,i[2]=n):(t=i[1],n=i[2]),i[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Card,{height:"fill",children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(I.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,_.jsxs)(I.Flex,{children:[e,(0,_.jsxs)(I.Stack,{flex:1,marginLeft:3,space:3,children:[t,n,(0,_.jsx)(I.Text,{as:"p",muted:!0,size:1,children:(0,_.jsx)("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})}),i[3]=r):r=i[3],r}function ewZ(e){let t,n,r=(0,j.c)(3),{reason:i}=e,a=void 0===i?"Redirecting…":i;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.DoubleChevronRightIcon,{})})}),r[0]=t):t=r[0],r[1]!==a?(n=(0,_.jsx)(I.Card,{height:"fill",children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(I.Card,{padding:4,radius:2,shadow:1,tone:"primary",children:(0,_.jsxs)(I.Flex,{children:[t,(0,_.jsx)(I.Stack,{flex:1,marginLeft:3,space:3,children:(0,_.jsx)(I.Text,{as:"h1",size:1,weight:"bold",children:a})})]})})})})}),r[1]=a,r[2]=n):n=r[2],n}function ewX(e){let t,n,r=(0,j.c)(3),{toolName:i}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.WarningOutlineIcon,{})})}),r[0]=t):t=r[0],r[1]!==i?(n=(0,_.jsx)(I.Card,{height:"fill",children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(I.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,_.jsxs)(I.Flex,{children:[t,(0,_.jsx)(I.Stack,{flex:1,marginLeft:3,space:3,children:(0,_.jsxs)(I.Text,{as:"h1",size:1,weight:"medium",children:["Tool not found: ",(0,_.jsx)("code",{children:i})]})})]})})})})}),r[1]=i,r[2]=n):n=r[2],n}let ewJ=()=>{let e;if(!(typeof document>"u")&&"querySelectorAll"in document)return Array.from(document.querySelectorAll('script[type="importmap"]')).some(t=>{if(!t.textContent)return!1;let n=JSON.parse(t.textContent).imports||{};return"sanity"in n&&(e=n.sanity,!0)}),e};function ewQ(e){let t=[],n,r=yd(e),i=async e=>r.send(e),a=async()=>{await Promise.all(t.map(i)).catch(e=>{console.error("Failed to send buffered events from transport: ",e)})};return{flush:async()=>r.flush(),send:async e=>n?i(e):(typeof n>"u"&&t.push(e),{}),setConsent:async e=>{n=e,e&&await a(),t=[]}}}let ew1="https://8914c8dde7e1ebce191f15af8bf6b7b9@sentry.sanity.io/4507342122123264",ew2=!("__sanityErrorChannel"in Ii),ew0=D$&&!!localStorage.getItem("SANITY_DEBUG_ERROR_REPORTING"),ew5="u">typeof window,ew7={dsn:ew1,release:e9.SANITY_VERSION,environment:"production",debug:ew0,enabled:ew5&&(!IX||ew0),transport:ewQ},ew3=[yH(),yY(),vi({eventTarget:!1}),vE({console:!1}),vL({onerror:!0,onunhandledrejection:!0}),vq(),vW(),function(){let e=[];return{name:"SanityDedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){for(let n of t){let t=ew9(e),r=ew9(n);if(t&&r&&t!==r)continue;let i=Math.floor(e.timestamp||0);if(300>Math.abs(i-Math.floor(n.timestamp||0)))return!0}return!1}(t,e))return ew0&&console.warn("[sanity/sentry] Dropping error from being reported because it is a duplicate"),null}catch(e){}return e.length>10&&e.shift(),e.push(t),t}}}(),v$()],ew8=Object.prototype.toString;function ew4(e){switch(ew8.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:var t=e,n=Error;try{return t instanceof n}catch(e){return!1}}}function ew6(e){return function(e){var t;for(let n of(null==(t=e.exception)?void 0:t.values)||[])n.mechanism&&(n.mechanism.handled=!1)}(e),e}function ew9(e){if(e.message)return e.message;if(e.exception){for(let t of e.exception.values||[])if(t.value)return t.value}}let e_e=function(){let e,t=[];function n(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t.push({error:n,options:r}),null;let{reactErrorInfo:i={},errorBoundary:a}=r,{componentStack:o}=i,l={};o&&(l.react={componentStack:o});let s={handled:"no"};a&&(s.errorBoundary=a);let c=null;return yB(()=>{if(o&&ew4(n)){let e=Error(n.message);e.name="".concat(a||"ErrorBoundary"," ").concat(n.name),e.stack=o,function(e,t){let n=new WeakMap;!function e(t,r){if(!n.has(t)){if(ew4(t.cause)){n.set(t,!0),e(t.cause,r);return}t.cause=r}}(e,t)}(n,e)}c=y3(n,{mechanism:{handled:!1},captureContext:{contexts:l,tags:s}})}),c?{eventId:c}:null}function r(e){return!!e&&"setConsent"in e&&"function"==typeof e.setConsent}return{initialize:function(){(function(){var t;if(e||!ew0&&!ewJ()||!ew0&&ew2)return;let n=!!yN(),r=n&&(null==(t=yN())?void 0:t.getOptions().dsn)===ew1;if(n&&!r){e=yN(),yF();return}if(r){e=new v2({...ew7,stackParser:v6,integrations:ew3,beforeSend:ew6,transport:ewQ}),new yT().setClient(e),e.init();return}(function(e){var t;let n={...e};v1(n,"react"),t={version:E.version},yR().setContext("react",t),function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={defaultIntegrations:function(e){let t=[yH(),yY(),vi(),vE(),vL(),vq(),vW(),v$()];return!1!==e.autoSessionTracking&&t.push({name:"BrowserSession",setupOnce(){if(void 0===gv.document){vS&&gw.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}y4({ignoreDuration:!0}),ve(),vv(e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(y4({ignoreDuration:!0}),ve())})}}),t}(e),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:gv.SENTRY_RELEASE&&gv.SENTRY_RELEASE.id?gv.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}(n);if(!r.skipBrowserExtensionCheck&&function(){let e=void 0!==gv.window&&gv;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=gv.location&&gv.location.href||"",a=!!r&&gv===gv.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(e=>i.startsWith("".concat(e,"//"))),o=void 0!==e.nw;return!!r&&!a&&!o}())return gk(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});vS&&!g_()&&gw.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");let i={...r,stackParser:Array.isArray(e=r.stackParser||v6)?g3(...e):e,integrations:function(e){let t,n=e.defaultIntegrations||[],r=e.integrations;if(n.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(r))t=[...n,...r];else if("function"==typeof r){let e=r(n);t=Array.isArray(e)?e:[e]}else t=n;let i=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(t),a=i.findIndex(e=>"Debug"===e.name);if(a>-1){let[e]=i.splice(a,1);i.push(e)}return i}(r),transport:r.transport||yd};!0===i.debug&&(gT?gw.enable():gk(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),yF().update(i.initialScope);let a=new v2(i);t=a,yF().setClient(t),a.init()}(n)})({...ew7,defaultIntegrations:!1,integrations:ew3,beforeSend:ew6}),e=yN(),yF()})(),e&&t.length>0&&(t.forEach(e=>{let{error:t,options:r}=e;return n(t,r)}),t.length=0)},reportError:n,enable:function(){let t=null==e?void 0:e.getTransport();r(t)&&t.setConsent(!0)},disable:function(){let t=null==e?void 0:e.getTransport();r(t)&&t.setConsent(!1)}}}(),e_t=["Failed to fetch dynamically imported module:","Importing a module script failed.","error loading dynamically imported module"];function e_n(e){return"TypeError"===e.name&&e_t.some(t=>e.message.toLowerCase().startsWith(t.toLowerCase()))}let e_r=D1(e=>(0,ev.combineLatest)(e.map(e=>e.auth.state.pipe((0,Z.map)(t=>[e.name,t])))).pipe((0,Z.map)(e=>Object.fromEntries(e)))),e_i={"logged-in":"","logged-out":"Signed out","no-access":""},e_a=F.styled.div(E6(),e=>"small"===e.$size?"25px":"41px",e=>"small"===e.$size?"25px":"41px"),e_o=e=>{let t,n,r=(0,j.c)(5),{icon:i,size:a}=e,o=void 0===a?"small":a;r[0]!==i?(t=e_l(i),r[0]=i,r[1]=t):t=r[1];let l=t;return r[2]!==l||r[3]!==o?(n=(0,_.jsx)(e_a,{$size:o,children:l}),r[2]=l,r[3]=o,r[4]=n):n=r[4],n},e_l=e=>(0,ta.isValidElementType)(e)?(0,_.jsx)(e,{}):(0,E.isValidElement)(e)?e:void 0;function e_s(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(21),{state:u,subtitle:d,selected:p,title:f,icon:h,iconRight:m}=e;c[0]!==m?(t=e_l(m),c[0]=m,c[1]=t):t=c[1];let g=t;return c[2]!==h?(n=(0,_.jsx)(e_o,{icon:h,size:"small"}),c[2]=h,c[3]=n):n=c[3],c[4]!==f?(r=(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:f}),c[4]=f,c[5]=r):r=c[5],c[6]!==d?(i=d&&(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",children:d}),c[6]=d,c[7]=i):i=c[7],c[8]!==r||c[9]!==i?(a=(0,_.jsxs)(I.Stack,{flex:1,space:2,children:[r,i]}),c[8]=r,c[9]=i,c[10]=a):a=c[10],c[11]!==u?(o=u&&e_i[u]&&(0,_.jsx)(I.Box,{paddingLeft:1,children:(0,_.jsx)(I.Text,{size:1,muted:!0,textOverflow:"ellipsis",children:e_i[u]})}),c[11]=u,c[12]=o):o=c[12],c[13]!==g||c[14]!==p?(l=(p||g)&&(0,_.jsxs)(I.Flex,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[p&&(0,_.jsx)(I.Text,{children:(0,_.jsx)(R.CheckmarkIcon,{})}),g&&(0,_.jsx)(I.Text,{muted:!0,children:g})]}),c[13]=g,c[14]=p,c[15]=l):l=c[15],c[16]!==n||c[17]!==a||c[18]!==o||c[19]!==l?(s=(0,_.jsxs)(I.Flex,{align:"center",flex:"none",gap:3,children:[n,a,o,l]}),c[16]=n,c[17]=a,c[18]=o,c[19]=l,c[20]=s):s=c[20],s}let e_c=[{url:"https://snty.link/community",i18nKey:"workspaces.community-title",title:"Community"},{url:"https://www.sanity.io/docs",i18nKey:"workspaces.docs-title",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",i18nKey:"workspaces.privacy-title",title:"Privacy"},{url:"https://www.sanity.io",i18nKey:"workspaces.sanity-io-title",title:"sanity.io"}],e_u=(0,F.styled)(I.Text)(E9());function e_d(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(23),{children:d,footer:p,header:f}=e,h=(0,I.usePrefersDark)();u[0]!==f?(t="object"==typeof f&&(0,_.jsx)(I.Box,{children:f}),u[0]=f,u[1]=t):t=u[1],u[2]!==f?(n="string"==typeof f&&(0,_.jsx)(I.Box,{paddingY:4,children:(0,_.jsx)(I.Heading,{align:"center",size:1,children:f})}),u[2]=f,u[3]=n):n=u[3];let m=!!f,g=!!p;return u[4]!==d||u[5]!==m||u[6]!==g?(r=(0,_.jsx)(I.Box,{paddingX:1,children:(0,_.jsx)(I.Card,{borderTop:m,borderBottom:g,children:d})}),u[4]=d,u[5]=m,u[6]=g,u[7]=r):r=u[7],u[8]!==p?(i=p&&(0,_.jsx)(I.Box,{children:p}),u[8]=p,u[9]=i):i=u[9],u[10]!==t||u[11]!==n||u[12]!==r||u[13]!==i?(a=(0,_.jsx)(I.Card,{border:!0,radius:3,overflow:"auto",children:(0,_.jsxs)(I.Stack,{children:[t,n,r,i]})}),u[10]=t,u[11]=n,u[12]=r,u[13]=i,u[14]=a):a=u[14],u[15]!==h?(o=(0,_.jsx)(I.Text,{size:3,children:(0,_.jsx)(bg,{dark:h})}),u[15]=h,u[16]=o):o=u[16],u[17]===Symbol.for("react.memo_cache_sentinel")?(l=(0,_.jsx)(I.Flex,{align:"center",gap:2,children:e_c.map(e_p)}),u[17]=l):l=u[17],u[18]!==o?(s=(0,_.jsxs)(I.Flex,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[o,l]}),u[18]=o,u[19]=s):s=u[19],u[20]!==a||u[21]!==s?(c=(0,_.jsxs)(I.Stack,{space:6,children:[a,s]}),u[20]=a,u[21]=s,u[22]=c):c=u[22],c}function e_p(e,t){return(0,_.jsxs)(E.Fragment,{children:[(0,_.jsx)(e_u,{muted:!0,size:1,children:(0,_.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title})}),t<e_c.length-1&&(0,_.jsx)(I.Text,{size:1,muted:!0,children:"•"})]},e.title)}function e_f(){var e;let t,n,r,i,a,o,l,s,c=(0,j.c)(46),u=DF(),{activeWorkspace:d,setActiveWorkspace:p}=eul(),[f]=e_r(u),[h,m]=(0,E.useState)((null==d?void 0:d.name)||null);c[0]!==h||c[1]!==u?(t=1===u.length?u[0]:u.find(e=>e.name===h),c[0]=h,c[1]=u,c[2]=t):t=c[2];let g=t,y=null==g||null==(e=g.auth)?void 0:e.LoginComponent;c[3]===Symbol.for("react.memo_cache_sentinel")?(n=()=>m(null),c[3]=n):n=c[3];let v=n,{t:b}=IO();if(!f){let e;return c[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{showText:!0}),c[4]=e):e=c[4],e}if(y&&g){let e,t,n,r,i,a;c[5]!==b||c[6]!==u.length?(e=u.length>1&&(0,_.jsx)(I.Flex,{children:(0,_.jsx)(B.Button,{icon:R.ArrowLeftIcon,mode:"bleed",onClick:v,text:b("workspaces.action.choose-another-workspace")})}),c[5]=b,c[6]=u.length,c[7]=e):e=c[7];let o=null==g?void 0:g.subtitle;return c[8]!==g.icon||c[9]!==g.title||c[10]!==o?(t=(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsx)(e_s,{icon:g.icon,title:g.title,subtitle:o})}),c[8]=g.icon,c[9]=g.title,c[10]=o,c[11]=t):t=c[11],c[12]!==g.basePath?(n=window.location.pathname.startsWith(g.basePath)?"".concat(window.location.pathname).concat(window.location.search):g.basePath,c[12]=g.basePath,c[13]=n):n=c[13],c[14]!==y||c[15]!==g.projectId||c[16]!==h||c[17]!==n?(r=(0,_.jsx)(I.Stack,{padding:2,paddingBottom:3,paddingTop:4,children:(0,_.jsx)(y,{projectId:g.projectId,redirectPath:n},h)}),c[14]=y,c[15]=g.projectId,c[16]=h,c[17]=n,c[18]=r):r=c[18],c[19]!==t||c[20]!==r?(i=(0,_.jsx)(e_d,{header:t,children:r}),c[19]=t,c[20]=r,c[21]=i):i=c[21],c[22]!==e||c[23]!==i?(a=(0,_.jsxs)(I.Stack,{space:2,children:[e,i]}),c[22]=e,c[23]=i,c[24]=a):a=c[24],a}if(c[25]!==b?(r=b("workspaces.choose-your-workspace-label"),c[25]=b,c[26]=r):r=c[26],c[27]!==b?(i=b("workspaces.action.add-workspace"),c[27]=b,c[28]=i):i=c[28],c[29]!==i?(a=(0,_.jsx)(I.Stack,{padding:1,children:(0,_.jsx)(B.Button,{as:"a",href:"https://www.sanity.io/docs/workspaces",icon:R.AddIcon,mode:"bleed",rel:"noopener noreferrer",size:"large",target:"__blank",text:i})}),c[29]=i,c[30]=a):a=c[30],c[31]!==d||c[32]!==f||c[33]!==p||c[34]!==u){let e;c[36]!==d||c[37]!==f||c[38]!==p?(e=e=>{let t=f[e.name].authenticated?"logged-in":e.auth.LoginComponent?"logged-out":"no-access";return(0,_.jsx)(I.Card,{as:"button",radius:2,padding:2,onClick:()=>{"logged-in"===t&&e.name!==d.name&&p(e.name),"logged-out"===t&&m(e.name)},children:(0,_.jsx)(e_s,{icon:null==e?void 0:e.icon,iconRight:R.ChevronRightIcon,state:t,subtitle:null==e?void 0:e.subtitle,title:(null==e?void 0:e.title)||e.name})},e.name)},c[36]=d,c[37]=f,c[38]=p,c[39]=e):e=c[39],o=u.map(e),c[31]=d,c[32]=f,c[33]=p,c[34]=u,c[35]=o}else o=c[35];return c[40]!==o?(l=(0,_.jsx)(I.Stack,{space:1,paddingX:1,paddingY:2,children:o}),c[40]=o,c[41]=l):l=c[41],c[42]!==r||c[43]!==a||c[44]!==l?(s=(0,_.jsx)(e_d,{header:r,footer:a,children:l}),c[42]=r,c[43]=a,c[44]=l,c[45]=s):s=c[45],s}let e_h=(0,F.styled)(I.Menu)(Te()),e_m={constrainSize:!0,fallbackPlacements:["bottom-end","bottom"],placement:"bottom-end",tone:"default"};function e_g(){let e,t,n,r,i,a,o,l,s=(0,j.c)(22),c=DF(),{activeWorkspace:u}=eul(),[d]=e_r(c),{t:p}=IO();if(!(c.length>1))return null;let f=!d;return s[0]!==p?(e=p("workspaces.select-workspace-tooltip"),s[0]=p,s[1]=e):e=s[1],s[2]!==u.title?(t=(0,_.jsx)(I.Box,{children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:u.title})}),s[2]=u.title,s[3]=t):t=s[3],s[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(I.Text,{size:1,children:(0,_.jsx)(R.ChevronDownIcon,{})}),s[4]=n):n=s[4],s[5]!==t?(r=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[t,n]}),s[5]=t,s[6]=r):r=s[6],s[7]!==f||s[8]!==r?(i=(0,_.jsx)(I.Button,{disabled:f,mode:"bleed",padding:2,width:"fill",children:r}),s[7]=f,s[8]=r,s[9]=i):i=s[9],s[10]!==f||s[11]!==e||s[12]!==i?(a=(0,_.jsx)(I.Flex,{children:(0,_.jsx)(B.Tooltip,{content:e,disabled:f,portal:!0,children:i})}),s[10]=f,s[11]=e,s[12]=i,s[13]=a):a=s[13],s[14]!==u.name||s[15]!==d||s[16]!==f||s[17]!==c?(o=!f&&d?(0,_.jsx)(e_h,{children:c.map(e=>{let t=d[e.name].authenticated?"logged-in":e.auth.LoginComponent?"logged-out":"no-access",n=e.name===u.name;return(0,_.jsx)(B.MenuItem,{as:"a",href:e.basePath,badgeText:e_i[t],iconRight:n?R.CheckmarkIcon:void 0,pressed:n,preview:(0,_.jsx)(e_o,{icon:e.icon,size:"small"}),selected:n,__unstable_subtitle:e.subtitle,__unstable_space:1,text:(null==e?void 0:e.title)||e.name},e.name)})}):void 0,s[14]=u.name,s[15]=d,s[16]=f,s[17]=c,s[18]=o):o=s[18],s[19]!==a||s[20]!==o?(l=(0,_.jsx)(B.MenuButton,{button:a,id:"workspace-menu",menu:o,popover:e_m}),s[19]=a,s[20]=o,s[21]=l):l=s[21],l}function e_y(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Card,{height:"fill",overflow:"auto",paddingX:4,children:(0,_.jsx)(I.Flex,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:(0,_.jsx)(I.Container,{width:0,children:(0,_.jsx)(e_f,{})})})}),t[0]=e):e=t[0],e}function e_v(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(_.Fragment,{children:"TODO: implement config errors screen"}),t[0]=e):e=t[0],e}let e_b=F.styled.label(Tt());function e_x(e){let t,n,r,i,a,o=(0,j.c)(9),{projectId:l,isStaging:s}=e,c=window.location.origin,u="/manage/project/".concat(l,"/api"),d=s?"https://sanity.work":"https://sanity.io";if(o[0]!==u||o[1]!==d){let e=new URL(u,d);e.searchParams.set("cors","add"),e.searchParams.set("origin",c),e.searchParams.set("credentials",""),t=e.toString(),o[0]=u,o[1]=d,o[2]=t}else t=o[2];let p=t;return o[3]===Symbol.for("react.memo_cache_sentinel")?(n=[],o[3]=n):n=o[3],(0,E.useEffect)(e_C,n),o[4]!==p?(r={confirmButton:{text:"Continue",iconRight:R.LaunchIcon,as:"a",href:p,target:"_blank",rel:"noopener noreferrer",tone:"primary"}},o[4]=p,o[5]=r):r=o[5],o[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsxs)(I.Stack,{space:4,children:[(0,_.jsxs)(I.Text,{children:["To access your content, you need to ",(0,_.jsx)("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),(0,_.jsx)(e_b,{"aria-hidden":"true",children:"CORS URL to be added"}),(0,_.jsx)(I.TextInput,{value:c,readOnly:!0})]}),o[6]=i):i=o[6],o[7]!==r?(a=(0,_.jsx)(I.Card,{height:"fill",children:(0,_.jsx)(B.Dialog,{id:"cors-error-dialog",header:"Before you continue...",width:1,footer:r,children:i})}),o[7]=r,o[8]=a):a=o[8],a}function e_C(){return window.addEventListener("focus",e_k),()=>{window.removeEventListener("focus",e_k)}}function e_k(){window.location.reload()}function e_w(){let e,t,n,r,i,a,o,l,s=(0,j.c)(18),[c,u]=(0,E.useState)(null),[d,p]=(0,E.useState)(null);if(d)throw d;let{activeWorkspace:f}=eul();s[0]!==f.auth?(e=()=>{var e,t;null==(e=(t=f.auth).logout)||e.call(t)},s[0]=f.auth,s[1]=e):e=s[1];let h=e;s[2]!==f.auth.state?(t=()=>{let e=f.auth.state.subscribe({next:e=>{let{currentUser:t}=e;u(t)},error:p});return()=>{e.unsubscribe()}},s[2]=f.auth.state,s[3]=t):t=s[3],s[4]!==f?(n=[f],s[4]=f,s[5]=n):n=s[5],(0,E.useEffect)(t,n);let m=AX(null==c?void 0:c.provider),g=m?" through ".concat(m):"";s[6]!==h?(r={confirmButton:{text:"Sign out",onClick:h,tone:"default"}},s[6]=h,s[7]=r):r=s[7],s[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{children:"You are not authorized to access this studio. Please contact someone with access to invite you to this project."}),s[8]=i):i=s[8];let y=null==c?void 0:c.name,v=null==c?void 0:c.email;return s[9]!==y||s[10]!==v?(a=(0,_.jsxs)("strong",{children:[y," (",v,")"]}),s[9]=y,s[10]=v,s[11]=a):a=s[11],s[12]!==g||s[13]!==a?(o=(0,_.jsxs)(I.Stack,{space:4,children:[i,(0,_.jsxs)(I.Text,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",a,g,"."]})]}),s[12]=g,s[13]=a,s[14]=o):o=s[14],s[15]!==r||s[16]!==o?(l=(0,_.jsx)(I.Card,{height:"fill",children:(0,_.jsx)(B.Dialog,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:r,children:o})}),s[15]=r,s[16]=o,s[17]=l):l=s[17],l}function e__(e){let t,n,r=(0,j.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Heading,{as:"h1",children:"Workspace not found"}),r[0]=t):t=r[0],r[1]!==e.onNavigateToDefaultWorkspace?(n=(0,_.jsx)(I.Card,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:(0,_.jsx)(I.Flex,{direction:"row",justify:"center",flex:1,align:"center",children:(0,_.jsxs)(I.Stack,{space:4,children:[t,(0,_.jsx)(I.Inline,{children:(0,_.jsx)(B.Button,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})}),r[1]=e.onNavigateToDefaultWorkspace,r[2]=n):n=r[2],n}function e_j(){let e,t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(50),[m,g]=(0,E.useState)(null),[y,v]=(0,E.useState)(),[b,x]=(0,E.useState)(),C=(0,A.useToast)(),[k,w]=(0,E.useState)(null),[S,T]=(0,E.useState)(),[D,O]=(0,E.useState)(!0),[P,M]=(0,E.useState)(!1),[F,R]=(0,E.useState)(!1),[N,L]=(0,E.useState)(!1),[z,V]=(0,E.useState)(!1),[U,H]=(0,E.useState)(!1),[q,W]=(0,E.useState)(),[Y,K]=(0,E.useState)(0),{activeWorkspace:G}=eul();h[0]!==G.auth?(e=()=>{var e,t;null==(e=(t=G.auth).logout)||e.call(t)},h[0]=G.auth,h[1]=e):e=h[1];let $=e;h[2]!==G.auth.state?(t=()=>{let e=G.auth.state.subscribe({next:e=>{let{client:t,currentUser:n}=e;x(t.config().projectId),v(t.withConfig({apiVersion:"2024-07-01"})),g(n)},error:w});return()=>{e.unsubscribe()}},h[2]=G.auth.state,h[3]=t):t=h[3],h[4]!==G?(n=[G],h[4]=G,h[5]=n):n=h[5],(0,E.useEffect)(t,n),h[6]!==y||h[7]!==b?(r=()=>{if(!y||!b)return e_D;let e=y.observable.request({url:"/access/requests/me",tag:"request-access"}).pipe((0,em.finalize)(()=>O(!1))).subscribe({next:e=>{if(!e||!e.length)return;let t=e.filter(e=>e.resourceId===b),n=t.find(e_T);return n&&(0,t1.isAfter)((0,t6.addWeeks)(new Date(n.createdAt),2),new Date)?void H(!0):t.find(e_E)?void R(!0):void(t.find(e_S)&&L(!0))},error:e=>{console.error(e),w(!0)}});return()=>{e.unsubscribe()}},i=[y,b],h[6]=y,h[7]=b,h[8]=r,h[9]=i):(r=h[8],i=h[9]),(0,E.useEffect)(r,i),h[10]!==y||h[11]!==q||h[12]!==b||h[13]!==C?(a=()=>{var e;y&&b&&(M(!0),y.request({url:"/access/project/".concat(b,"/requests"),method:"post",body:{note:q,requestUrl:null==(e=window)?void 0:e.location.href,type:"access"}}).then(e=>{e&&R(!0)}).catch(e=>{var t,n,r;let i=null==e||null==(t=e.response)?void 0:t.statusCode,a=null==e||null==(r=e.response)||null==(n=r.body)?void 0:n.message;429===i&&(V(!0),T(a)),409===i?(H(!0),T(a)):C.push({title:"There was a problem submitting your request.",status:"error"})}).finally(()=>{M(!1)}))},h[10]=y,h[11]=q,h[12]=b,h[13]=C,h[14]=a):a=h[14];let Z=a,X=AX(null==m?void 0:m.provider),J=X?" through ".concat(X):"";if(D){let e;return h[15]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{}),h[15]=e):e=h[15],e}if(k){let e;return h[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(e_w,{}),h[16]=e):e=h[16],e}let Q=null==m?void 0:m.name,ee=null==m?void 0:m.email;return h[17]!==Q||h[18]!==ee?(o=(0,_.jsxs)("strong",{children:[Q," (",ee,")"]}),h[17]=Q,h[18]=ee,h[19]=o):o=h[19],h[20]!==J||h[21]!==o?(l=(0,_.jsxs)(I.Text,{children:["You are not authorized to access this studio (currently signed in as"," ",o,J,")."]}),h[20]=J,h[21]=o,h[22]=l):l=h[22],h[23]!==Z||h[24]!==U||h[25]!==N||h[26]!==F||h[27]!==z||h[28]!==P||h[29]!==S||h[30]!==q||h[31]!==Y?(s=z||F||U?(0,_.jsx)(I.Card,{tone:F?"transparent":"caution",padding:3,radius:2,shadow:1,children:(0,_.jsxs)(I.Text,{size:1,children:[z&&!F&&(0,_.jsx)(_.Fragment,{children:null!=S?S:"You've reached the limit for access requests across all projects. Please wait\n                      before submitting more requests or contact an admin for assistance."}),F&&(0,_.jsx)(_.Fragment,{children:"Your request to access this project is pending approval."}),U&&(0,_.jsx)(_.Fragment,{children:null!=S?S:"Your request to access this project has been declined."})]})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Text,{children:N?(0,_.jsx)(_.Fragment,{children:"Your previous request has expired. You may again request access below with an optional note. The administrator(s) will receive an email letting them know that you are requesting access."}):(0,_.jsx)(_.Fragment,{children:"You can request access below with an optional note. The administrator(s) will receive an email letting them know that you are requesting access."})}),(0,_.jsxs)(I.Stack,{space:3,paddingBottom:0,children:[(0,_.jsx)(I.TextInput,{maxLength:150,disabled:P,onKeyDown:e=>{"Enter"===e.key&&Z()},onChange:e=>{W(e.currentTarget.value),K(e.currentTarget.value.length)},value:q,placeholder:"Add your note…"}),(0,_.jsx)(I.Text,{align:"right",muted:!0,size:1,children:"".concat(Y,"/").concat(150)})]})]}),h[23]=Z,h[24]=U,h[25]=N,h[26]=F,h[27]=z,h[28]=P,h[29]=S,h[30]=q,h[31]=Y,h[32]=s):s=h[32],h[33]!==s||h[34]!==l?(c=(0,_.jsxs)(I.Stack,{space:4,children:[l,s]}),h[33]=s,h[34]=l,h[35]=c):c=h[35],h[36]!==$?(u=(0,_.jsx)(B.Button,{mode:"bleed",text:"Sign out",tone:"default",onClick:$,size:"large"}),h[36]=$,h[37]=u):u=h[37],h[38]!==Z||h[39]!==U||h[40]!==F||h[41]!==z||h[42]!==P?(d=!z&&!U&&(0,_.jsx)(B.Button,{mode:"default",text:F?"Request sent":"Request access",disabled:F||P,loading:P,tone:"default",onClick:Z,size:"large"}),h[38]=Z,h[39]=U,h[40]=F,h[41]=z,h[42]=P,h[43]=d):d=h[43],h[44]!==u||h[45]!==d?(p=(0,_.jsxs)(I.Flex,{align:"center",justify:"space-between",paddingTop:4,children:[u,d]}),h[44]=u,h[45]=d,h[46]=p):p=h[46],h[47]!==c||h[48]!==p?(f=(0,_.jsx)(I.Card,{height:"fill",children:(0,_.jsx)(B.Dialog,{id:"not-authorized-dialog",header:"Not authorized",width:1,children:(0,_.jsxs)(I.Box,{children:[c,p]})})}),h[47]=c,h[48]=p,h[49]=f):f=h[49],f}function e_S(e){return"pending"===e.status&&(0,tK.isBefore)((0,t6.addWeeks)(new Date(e.createdAt),2),new Date)}function e_E(e){return"pending"===e.status&&(0,t1.isAfter)((0,t6.addWeeks)(new Date(e.createdAt),2),new Date)}function e_T(e){return"declined"===e.status}function e_D(){}function e_I(e){let t=e.path[0];return"type"===t.kind?{name:t.name||"<anonymous ".concat(t.type,">"),type:t.type}:null}let e_A={error:"critical",warning:"caution"},e_O=F.styled.code(Tn()),e_P=(0,F.styled)(I.Text)(Tr());function e_M(e){let{problemGroups:t}=e;IO();let n=(0,E.useMemo)(()=>{let e=[];for(let n of t)for(let t of n.problems)e.push({group:n,problem:t});return e},[t]);return(0,_.jsx)(I.Stack,{as:"ul",space:4,children:n.map((e,t)=>{let{group:n,problem:r}=e,i="error"===r.severity,a="warning"===r.severity,o=e_I(n);return(0,_.jsxs)(I.Card,{border:!0,padding:4,radius:2,tone:e_A[r.severity],children:[(0,_.jsxs)(I.Flex,{children:[(0,_.jsx)(I.Box,{marginRight:3,children:(0,_.jsxs)(I.Text,{muted:!0,size:1,children:[i&&(0,_.jsx)(R.ErrorOutlineIcon,{}),a&&(0,_.jsx)(R.WarningOutlineIcon,{})]})}),(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:o?(0,_.jsxs)(_.Fragment,{children:[(0,nT.default)(o.type),' type "',o.name,'"']}):null})})]}),(0,_.jsx)(I.Box,{marginTop:4,children:(0,_.jsx)(I.Card,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:(0,_.jsx)(A.Breadcrumbs,{separator:(0,_.jsx)(I.Text,{muted:!0,size:1,children:"→"}),children:n.path.map((e,t)=>{if("type"===e.kind){var n;let r="".concat((null==(n=e.name||"<anonymous ".concat(e.type,">"))?void 0:n.startsWith("<unnamed_type_@_index"))?"[".concat(n.slice(1,-1).split("_")[4],"]"):n,":").concat(e.type);return(0,_.jsx)(I.Text,{title:r,size:1,textOverflow:"ellipsis",children:(0,_.jsx)(e_O,{children:r})},t)}return"property"===e.kind?(0,_.jsx)(I.Text,{title:e.name,size:1,textOverflow:"ellipsis",children:(0,_.jsx)(e_O,{children:e.name})},t):null})})})}),(0,_.jsx)(I.Box,{as:"ul",marginTop:4,children:(0,_.jsx)(I.Box,{as:"li",children:(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(e_P,{muted:!0,size:1,children:r.message}),r.helpId&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)("a",{href:(0,B.generateHelpUrl)(r.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},t)})})}function e_F(e){var t;let n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(29),{schema:m}=e;h[0]!==m._validation?(n=(null==(t=m._validation)?void 0:t.filter(e_R))||[],h[0]=m._validation,h[1]=n):n=h[1];let g=n;h[2]!==m?(r=()=>(function(e){var t;let n=null==(t=e._validation)?void 0:t.filter(e=>e.problems.some(e=>"warning"===e.severity));(null==n?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(null==n?void 0:n.length," warnings")),null==n||n.forEach(e=>{let t=e.path.map(e=>"type"===e.kind?"".concat(e.name||"<unnamed>","(").concat(e.type,")"):"property"===e.kind?e.name:null).filter(Boolean).join(" > ");console.group("%cAt ".concat(t),"color: #FF7636"),e.problems.forEach(e=>{console.log(e.message)}),console.groupEnd()}),console.groupEnd())})(m),i=[m],h[2]=m,h[3]=r,h[4]=i):(r=h[3],i=h[4]),(0,E.useEffect)(r,i);let y=(0,A.useToast)(),{t:v}=IO("studio"),{t:b}=IO("copy-paste"),[,x]=function(){let e,t,n=(0,j.c)(3),[r,i]=(0,E.useState)(null);n[0]===Symbol.for("react.memo_cache_sentinel")?(e=async e=>{var t;if(!(null==(t=navigator)?void 0:t.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),i(e),!0}catch(e){return console.warn("Copy failed",e),i(null),!1}},n[0]=e):e=n[0];let a=e;return n[1]!==r?(t=[r,a],n[1]=r,n[2]=t):t=n[2],t}();h[5]!==x||h[6]!==g||h[7]!==v||h[8]!==b||h[9]!==y?(a=async()=>{let e=function(e){let t="# Schema errors\n\n";for(let n of(t+="There were errors while attempting to compile the configuration of your Sanity Studio Schema types.\n\n",e)){let e=e_I(n);e?t+="## ".concat((0,nT.default)(e.type),' type "').concat(e.name,'"\n\n'):t+="## Unknown type\n\n";let r=[];for(let e of n.path)"type"===e.kind?r.push("".concat(e.name||"<anonymous ".concat(e.type,">"),":").concat(e.type)):"property"===e.kind&&r.push("".concat(e.name));for(let e of(t+="Path: ".concat(r.join(" → "),"\n"),n.problems))t+="".concat((0,nT.default)(e.severity),": ").concat(e.message,"\n"),e.helpId&&(t+="[View documentation for this ".concat(e.severity,"](").concat((0,B.generateHelpUrl)(e.helpId),")\n"));t+="\n"}return t}(g);try{await x(e)?y.push({status:"success",title:v("about-dialog.version-info.copy-to-clipboard-button.copied-text","Copied to clipboard")}):y.push({status:"error",title:b("copy-paste.on-copy.validation.clipboard-not-supported.title","Clipboard not supported")})}catch(e){y.push({status:"error",title:b("copy-paste.on-copy.validation.clipboard-not-supported.title","Clipboard not supported")})}},h[5]=x,h[6]=g,h[7]=v,h[8]=b,h[9]=y,h[10]=a):a=h[10];let C=a;return h[11]===Symbol.for("react.memo_cache_sentinel")?(o=[4,5,6,7],h[11]=o):o=h[11],h[12]!==v?(l=v("schema-errors.title","Schema errors"),h[12]=v,h[13]=l):l=h[13],h[14]!==l?(s=(0,_.jsx)(I.Heading,{as:"h1",children:l}),h[14]=l,h[15]=s):s=h[15],h[16]!==v?(c=v("about-dialog.version-info.copy-to-clipboard-button.text","Copy to clipboard"),h[16]=v,h[17]=c):c=h[17],h[18]!==C||h[19]!==c?(u=(0,_.jsx)(B.Button,{text:c,onClick:C}),h[18]=C,h[19]=c,h[20]=u):u=h[20],h[21]!==s||h[22]!==u?(d=(0,_.jsxs)(I.Flex,{justify:"space-between",align:"center",gap:2,children:[s,u]}),h[21]=s,h[22]=u,h[23]=d):d=h[23],h[24]!==g?(p=(0,_.jsx)(e_M,{problemGroups:g}),h[24]=g,h[25]=p):p=h[25],h[26]!==d||h[27]!==p?(f=(0,_.jsx)(I.Card,{height:"fill",overflow:"auto",paddingY:o,paddingX:4,sizing:"border",children:(0,_.jsx)(I.Container,{width:1,children:(0,_.jsxs)(I.Stack,{space:5,children:[d,p]})})}),h[26]=d,h[27]=p,h[28]=f):f=h[28],f}function e_R(e){return e.problems.some(e_B)}function e_B(e){return"error"===e.severity}let e_N=(0,F.styled)(I.Box)(Ti());function e_L(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(19),{error:u,eventId:d,heading:p,onReset:f}=e,h=void 0===p?"An error occurred":p,m=null==u?void 0:u.message,g="string"==typeof(null==u?void 0:u.stack)&&(null==u?void 0:u.stack);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[4,5,6,7],c[0]=t):t=c[0],c[1]!==h?(n=(0,_.jsx)(I.Heading,{children:h}),c[1]=h,c[2]=n):n=c[2],c[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.Text,{children:"An error occurred that Sanity Studio was unable to recover from."}),i=(0,_.jsxs)(I.Text,{children:[(0,_.jsx)("strong",{children:"To report this error,"})," copy the error details and share them with your development team or Sanity Support."]}),c[3]=r,c[4]=i):(r=c[3],i=c[4]),c[5]!==d||c[6]!==m||c[7]!==g?(a=IX&&(0,_.jsx)(I.Card,{border:!0,radius:2,overflow:"auto",padding:4,tone:"critical",children:(0,_.jsxs)(I.Stack,{space:4,children:[m&&(0,_.jsx)(I.Code,{weight:"bold",size:1,children:m}),g&&(0,_.jsx)(I.Code,{size:1,children:g}),d&&(0,_.jsxs)(I.Code,{size:1,children:["Event ID: ",d]})]})}),c[5]=d,c[6]=m,c[7]=g,c[8]=a):a=c[8],c[9]!==n||c[10]!==a?(o=(0,_.jsxs)(I.Stack,{space:4,children:[n,r,i,a]}),c[9]=n,c[10]=a,c[11]=o):o=c[11],c[12]!==u||c[13]!==d||c[14]!==f?(l=(0,_.jsx)(eT_,{error:u,eventId:d,onRetry:f,size:"large"}),c[12]=u,c[13]=d,c[14]=f,c[15]=l):l=c[15],c[16]!==o||c[17]!==l?(s=(0,_.jsx)(I.Card,{height:"fill",overflow:"auto",paddingY:t,paddingX:4,sizing:"border",children:(0,_.jsx)(e_N,{display:"flex",height:"fill",children:(0,_.jsx)(I.Container,{width:3,children:(0,_.jsxs)(I.Stack,{space:6,children:[o,l]})})})}),c[16]=o,c[17]=l,c[18]=s):s=c[18],s}let e_z=(0,F.styled)(I.Box)(Ta());function e_V(){window.location.reload()}function e_U(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(21),{error:p,eventId:f,autoReload:h}=e;d[0]!==h?(t=h?(0,es.timer)(0,1e3).pipe((0,ee.take)(6),(0,Z.map)(e_H)):(0,Y.of)(0),d[0]=h,d[1]=t):t=d[1];let m=(0,te.useObservable)(t,5);d[2]!==h||d[3]!==m?(n=()=>{h&&m<1&&e_V()},r=[h,m],d[2]=h,d[3]=m,d[4]=n,d[5]=r):(n=d[4],r=d[5]),(0,E.useEffect)(n,r),d[6]===Symbol.for("react.memo_cache_sentinel")?(i=[4,5,6,7],d[6]=i):i=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,_.jsx)(I.Heading,{children:"Import error"}),o=(0,_.jsx)(I.Text,{children:"An error occurred during dynamic import."}),d[7]=a,d[8]=o):(a=d[7],o=d[8]),d[9]!==p||d[10]!==f?(l=IX&&(0,_.jsx)(I.Card,{border:!0,radius:2,overflow:"auto",padding:4,tone:"critical",children:(0,_.jsxs)(I.Stack,{space:4,children:[p.message&&(0,_.jsx)(I.Code,{weight:"bold",size:1,children:p.message}),p.stack&&(0,_.jsx)(I.Code,{size:1,children:p.stack}),f&&(0,_.jsxs)(I.Code,{size:1,children:["Event ID: ",f]})]})}),d[9]=p,d[10]=f,d[11]=l):l=d[11],d[12]!==h||d[13]!==m?(s=h?(0,_.jsxs)(I.Text,{muted:!0,children:["Reloading ",m<=0?"now":"in ".concat(m,"s"),"…"]}):null,d[12]=h,d[13]=m,d[14]=s):s=d[14];let g=h?"Reload now":"Reload";return d[15]!==g?(c=(0,_.jsx)(I.Inline,{space:3,children:(0,_.jsx)(B.Button,{onClick:e_V,text:g,tone:"primary",icon:R.SyncIcon,size:"large"})}),d[15]=g,d[16]=c):c=d[16],d[17]!==l||d[18]!==s||d[19]!==c?(u=(0,_.jsx)(I.Card,{height:"fill",overflow:"auto",paddingY:i,paddingX:4,sizing:"border",children:(0,_.jsx)(e_z,{display:"flex",height:"fill",children:(0,_.jsx)(I.Container,{width:3,children:(0,_.jsx)(I.Stack,{space:6,children:(0,_.jsxs)(I.Stack,{space:4,children:[a,o,l,s,c]})})})})}),d[17]=l,d[18]=s,d[19]=c,d[20]=u):u=d[20],u}function e_H(e){return 5-e}let e_q=(0,E.lazy)(()=>e.A(135807).then(e=>({default:e.DevServerStoppedErrorScreen})));function e_W(e){let{children:t,heading:n="An error occurred",getErrorScreen:r}=e,[i,a]=(0,E.useState)(),[o,l]=(0,E.useState)(),s=(0,E.useCallback)(()=>a(void 0),[]),c=(0,E.useCallback)(e=>{let t;try{var n;t=null==(n=e_e.reportError(e.error,{reactErrorInfo:e.info,errorBoundary:"StudioErrorBoundary"}))?void 0:n.eventId}catch(e){e.message="Encountered an additional error when reporting error: ".concat(e.message),console.error(e)}l(null==r?void 0:r(e.error)),a({error:e.error,componentStack:e.info.componentStack,eventId:t})},[r]);return bw(s),(null==i?void 0:i.error)?o||(i.error instanceof AI?(0,_.jsx)(e_x,{projectId:i.error.projectId,isStaging:i.error.isStaging}):i.error instanceof ekV?(0,_.jsx)(e_F,{schema:i.error.schema}):"ViteDevServerStoppedError"in i.error&&i.error.ViteDevServerStoppedError?(0,_.jsx)(e_q,{}):e_n(i.error)?(0,_.jsx)(e_U,{error:i.error,eventId:i.eventId,autoReload:!0}):(0,_.jsx)(e_L,{heading:n,error:i.error,eventId:i.eventId,onReset:s})):(0,_.jsx)(B.ErrorBoundary,{onCatch:c,children:t})}let e_Y=(0,E.lazy)(()=>e.A(135807).then(e=>({default:e.DetectViteDevServerStopped}))),e_K={get url(){return`file://${e.P("node_modules/sanity/lib/index.mjs")}`}}.hot&&!1,e_G=(0,F.styled)(I.Card)(To());function e_$(){let e,t=(0,j.c)(2),n=function(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:e_Z,pick:e_0},t[0]=e):e=t[0],Aa(e)}();return t[0]!==n?(e=(0,_.jsx)(n,{}),t[0]=n,t[1]=e):e=t[1],e}function e_Z(){var e;let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k=(0,j.c)(61),{name:w,title:S,tools:T}=FU();!function(){let{push:e}=(0,A.useToast)(),{t}=IO(),n=eTt({apiVersion:"2025-03-01"}),r=t("network-check.slow-protocol-warning.title"),[i,a]=(0,E.useState)(),[o,l]=function(e){let t,n,r,i=(0,j.c)(7);i[0]!==e?(t=()=>{let t=sessionStorage.getItem(e);return"string"==typeof t?t:void 0},i[0]=e,i[1]=t):t=i[1];let[a,o]=(0,E.useState)(t);i[2]!==e?(n=t=>{o(t),void 0===t?sessionStorage.removeItem(e):sessionStorage.setItem(e,t)},i[2]=e,i[3]=n):n=i[3];let l=n,s="string"==typeof a?a:void 0;return i[4]!==l||i[5]!==s?(r=[s,l],i[4]=l,i[5]=s,i[6]=r):r=i[6],r}("sanity-studio.network.check.snooze"),s=(0,E.useMemo)(()=>o?new Date(o):void 0,[o]),c=(0,E.useMemo)(()=>s&&new Date().getTime()-s.getTime()<864e5,[s]);(0,E.useEffect)(()=>{var e;let t=(c?(0,Y.of)(void 0):(e=n,typeof PerformanceObserver>"u"||typeof PerformanceResourceTiming>"u"?(0,Y.of)(void 0):function(e){let t=(0,ek.firstValueFrom)(new er.Observable(e=>{let t=new PerformanceObserver(t=>{for(let n of t.getEntries())e.next(n)});return t.observe({type:"resource",buffered:!0}),()=>t.disconnect()}).pipe((0,ew.filter)(t=>t instanceof PerformanceResourceTiming&&t.name===e),(0,ee.take)(1),(0,Z.map)(e=>{var t;return null!=(t=localStorage._sanity_debugProtocol)?t:e.nextHopProtocol})));return(0,G.defer)(()=>fetch(e)).pipe((0,eC.mergeMap)(()=>t),(0,eH.timeout)({first:2500,with:()=>(0,Y.of)(void 0)}))}("".concat(e.getUrl("/ping"),"?tag=sanity.studio.").concat("protocol-check"))).pipe((0,Z.map)(e=>{if(e)return e.startsWith("http/0")||e.startsWith("http/1")}))).subscribe(e=>a(e));return()=>t.unsubscribe()},[n,c,e,r,s]);let u=(0,E.useCallback)(()=>l(new Date().toISOString()),[l]);eTn({id:"network-protocol-check",status:"warning",enabled:i&&!c,title:r,description:(0,_.jsxs)(I.Stack,{space:4,paddingY:1,children:[(0,_.jsx)(I.Flex,{children:(0,_.jsxs)(I.Text,{size:1,children:[t("network-check.slow-protocol-warning.description")," "]})}),(0,_.jsxs)(I.Flex,{gap:3,children:[(0,_.jsx)(B.Button,{as:"a",href:ewG,target:"_blank",rel:"noreferrer",mode:"ghost",tone:"primary",size:"default",icon:R.LaunchIcon,tooltipProps:{content:t("network-check.slow-protocol-warning.learn-more-button.tooltip")},text:t("network-check.slow-protocol-warning.learn-more-button.text")}),(0,_.jsx)(B.Button,{mode:"bleed",tone:"neutral",size:"default",text:t("network-check.slow-protocol-warning.snooze-button.text"),onClick:u})]})]})})}();let O=(0,nr.useRouter)(),P=(0,nr.useRouterState)(e_Q);if(k[0]!==P||k[1]!==T){let e;k[3]!==P?(e=e=>e.name===P,k[3]=P,k[4]=e):e=k[4],t=T.find(e),k[0]=P,k[1]=T,k[2]=t}else t=k[2];let M=t,[F,N]=(0,E.useState)(!1),[L,z]=(0,E.useState)(null),[V,U]=(0,E.useState)(!1);e:{let e;k[5]!==w||k[6]!==S?(e=S||(0,ti.default)(w),k[5]=w,k[6]=S,k[7]=e):e=k[7];let t=e;if(P){n="".concat((0,ti.default)(P)," | ").concat(t);break e}n=t}let H=n,q=!!(null==M?void 0:M.controlsDocumentTitle);k[8]!==H||k[9]!==q?(r=()=>{q||(document.title=H)},i=[H,q],k[8]=H,k[9]=q,k[10]=r,k[11]=i):(r=k[10],i=k[11]),(0,E.useEffect)(r,i),k[12]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{N(e)},k[12]=a):a=k[12];let W=a;k[13]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{U(e)},k[13]=o):o=k[13];let K=o;k[14]!==F||k[15]!==L||k[16]!==V?(l={searchFullscreenOpen:F,searchFullscreenPortalEl:L,searchOpen:V,onSearchFullscreenOpenChange:W,onSearchOpenChange:K},k[14]=F,k[15]=L,k[16]=V,k[17]=l):l=k[17];let $=l,X=function(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:eSj,pick:e_2},t[0]=e):e=t[0],Aa(e)}(),J=function(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:ewH,pick:e_5},t[0]=e):e=t[0],Aa(e)}();k[18]!==M||k[19]!==P||k[20]!==T?(s=!M&&("desk"===P||!P)&&"u">typeof window&&/\/desk(\/|$)/.test(window.location.pathname)&&T.some(e_J),k[18]=M,k[19]=P,k[20]=T,k[21]=s):s=k[21];let Q=s;k[22]!==Q||k[23]!==O?(c=()=>{Q&&O.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},u=[Q,O],k[22]=Q,k[23]=O,k[24]=c,k[25]=u):(c=k[24],u=k[25]),(0,E.useEffect)(c,u),k[26]!==X?(d=(0,_.jsx)(X,{}),k[26]=X,k[27]=d):d=k[27],k[28]!==$||k[29]!==d?(p=(0,_.jsx)(D.NavbarContext.Provider,{value:$,children:d}),k[28]=$,k[29]=d,k[30]=p):p=k[30],k[31]!==Q?(f=Q&&(0,_.jsx)(ewZ,{}),k[31]=Q,k[32]=f):f=k[32],k[33]!==T.length?(h=0===T.length&&(0,_.jsx)(ew$,{}),k[33]=T.length,k[34]=h):h=k[34],k[35]!==M||k[36]!==P||k[37]!==Q||k[38]!==T.length?(m=T.length>0&&!M&&P&&!Q&&(0,_.jsx)(ewX,{toolName:P}),k[35]=M,k[36]=P,k[37]=Q,k[38]=T.length,k[39]=m):m=k[39],k[40]!==F?(g=F&&(0,_.jsx)(e_G,{ref:z,overflow:"auto"}),k[40]=F,k[41]=g):g=k[41];let et=null==M?void 0:M.name,en="The ".concat(null==M?void 0:M.name," tool crashed");return k[42]===Symbol.for("react.memo_cache_sentinel")?(y=e_K&&(0,_.jsx)(e_Y,{}),k[42]=y):y=k[42],k[43]!==J||k[44]!==M||k[45]!==P?(v=M&&P&&(0,_.jsx)(nr.RouteScope,{scope:P,__unsafe_disableScopedSearchParams:null==(e=M.router)?void 0:e.__unsafe_disableScopedSearchParams,children:(0,_.jsx)(E.Suspense,{fallback:(0,_.jsx)(DU,{showText:!0}),children:(0,_.jsx)(J,{activeTool:M})})}),k[43]=J,k[44]=M,k[45]=P,k[46]=v):v=k[46],k[47]!==F||k[48]!==v?(b=(0,_.jsx)(I.Card,{flex:1,hidden:F,children:v}),k[47]=F,k[48]=v,k[49]=b):b=k[49],k[50]!==et||k[51]!==en||k[52]!==b?(x=(0,_.jsxs)(e_W,{heading:en,getErrorScreen:e_X,children:[y,b]},et),k[50]=et,k[51]=en,k[52]=b,k[53]=x):x=k[53],k[54]!==p||k[55]!==f||k[56]!==h||k[57]!==m||k[58]!==g||k[59]!==x?(C=(0,_.jsxs)(I.Flex,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[p,f,h,m,g,x]}),k[54]=p,k[55]=f,k[56]=h,k[57]=m,k[58]=g,k[59]=x,k[60]=C):C=k[60],C}function e_X(e){return ewK(e)?(0,_.jsx)(ewY,{}):null}function e_J(e){return"structure"===e.name}function e_Q(e){return"string"==typeof e.tool?e.tool:void 0}function e_1(e){var t,n;return null==(n=e.studio)||null==(t=n.components)?void 0:t.toolMenu}function e_2(e){var t,n;return null==(n=e.studio)||null==(t=n.components)?void 0:t.navbar}function e_0(e){var t,n;return null==(n=e.studio)||null==(t=n.components)?void 0:t.layout}function e_5(e){var t,n;return null==(n=e.studio)||null==(t=n.components)?void 0:t.activeToolLayout}function e_7(){let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultComponent:eSF,pick:e_1},t[0]=e):e=t[0],Aa(e)}function e_3(){var e;let t,n,r,i,a,o,l,s,c,u=(0,j.c)(25),d=el3();u[0]!==d._validation?(t=(null==(e=d._validation)?void 0:e.filter(e_8))||[],u[0]=d._validation,u[1]=t):t=u[1];let p=t,f=ews(),{t:h}=IO(),m=(0,E.useId)(),[g,y]=(0,E.useState)(!1),[v,b]=(0,E.useState)(null);u[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>y(!0),u[2]=n):n=u[2];let x=n;u[3]!==v?(r=()=>{y(!1),v&&v.focus()},u[3]=v,u[4]=r):r=u[4];let C=r;return 0===p.length?null:(u[5]!==h?(i=h("configuration-issues.button.label"),u[5]=h,u[6]=i):i=u[6],u[7]!==h?(a=h("configuration-issues.button.tooltip"),u[7]=h,u[8]=a):a=u[8],u[9]!==f||u[10]!==a?(o={scheme:f,content:a},u[9]=f,u[10]=a,u[11]=o):o=u[11],u[12]!==g||u[13]!==i||u[14]!==o?(l=(0,_.jsx)(eDs,{icon:R.WarningOutlineIcon,mode:"bleed",onClick:x,ref:b,selected:g,tone:"caution","aria-label":i,tooltipProps:o}),u[12]=g,u[13]=i,u[14]=o,u[15]=l):l=u[15],u[16]!==m||u[17]!==p||u[18]!==C||u[19]!==g||u[20]!==f?(s=g&&(0,_.jsx)(B.Dialog,{header:"Configuration issues",width:2,onClickOutside:C,onClose:C,scheme:f,id:m,children:(0,_.jsxs)(I.Stack,{space:4,children:[(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsxs)(I.Text,{as:"h2",size:1,weight:"medium",children:["Found ",p.length," schema warnings"]})," ",(0,_.jsx)(I.Text,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),(0,_.jsx)(e_M,{problemGroups:p})]})}),u[16]=m,u[17]=p,u[18]=C,u[19]=g,u[20]=f,u[21]=s):s=u[21],u[22]!==l||u[23]!==s?(c=(0,_.jsxs)(_.Fragment,{children:[l,s]}),u[22]=l,u[23]=s,u[24]=c):c=u[24],c)}function e_8(e){return e.problems.some(e_4)}function e_4(e){return"warning"===e.severity}let e_6=(0,tc.defineEvent)({name:"Trial Dialog Viewed",version:1,description:"User viewed a dialog or popover related to free trial"}),e_9=(0,tc.defineEvent)({name:"Trial Dialog Dismissed",version:1,description:"User dismissed a dialog or popover related to free trial"}),eje=(0,tc.defineEvent)({name:"Trial Dialog CTA Clicked",version:1,description:"User clicked a CTA in a dialog or popover related to free trial"});function ejt(e){let{showOnLoad:t,dialogId:n}=e;return t&&"free-upgrade-popover"===n.toLowerCase()?"trialStarted":t&&"trial-ending-popover"===n.toLowerCase()?"trialEndingSoon":t&&"project-downgraded-to-free"===n.toLowerCase()?"trialEnded":t||"after-trial-upgrade"!==n.toLowerCase()?"trialActive":"postTrial"}let ejn=(0,tc.defineEvent)({name:"Upsell Dialog Viewed",version:1,description:"User viewed the upsell dialog"}),ejr=(0,tc.defineEvent)({name:"Upsell Dialog Dismissed",version:1,description:"User dismissed the upsell dialog"}),eji=(0,tc.defineEvent)({name:"Upsell Dialog Upgrade CTA Clicked",version:1,description:'User clicked the "Upgrade" CTA in the upsell dialog'}),eja=(0,tc.defineEvent)({name:"Upsell Dialog Learn More CTA Clicked",version:1,description:'User clicked the "Learn More" CTA in the upsell dialog'}),ejo=(0,F.styled)(B.Button)(Tl()),ejl=F.styled.img(Ts()),ejs=(0,F.styled)(B.Dialog)(Tc());function ejc(e){var t,n,r,i,a;let o,l,s,c,u,d,p,f,h,m,g,y,v,b=(0,j.c)(39),{onClose:x,onOpenNext:C,onOpenUrlCallback:k,content:w,open:S}=e;b[0]!==x?(o=function(){x("xClick")},b[0]=x,b[1]=o):o=b[1];let E=o;b[2]!==x?(l=function(){x("outsideClick")},b[2]=x,b[3]=l):l=b[3];let T=l;b[4]!==x?(s=function(){x("ctaClicked")},b[4]=x,b[5]=s):s=b[5];let D=s,A=ews();if(!S)return null;b[6]!==w.secondaryButton||b[7]!==E?(c=(null==(t=w.secondaryButton)?void 0:t.text)?{text:w.secondaryButton.text,mode:"bleed",tone:"default",onClick:E}:void 0,b[6]=w.secondaryButton,b[7]=E,b[8]=c):c=b[8];let O=null==(n=w.ctaButton)?void 0:n.text;return b[9]!==w.ctaButton||b[10]!==D||b[11]!==C||b[12]!==k?(u=(null==(r=w.ctaButton)?void 0:r.action)==="openUrl"?{href:w.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a",onClick:k}:{onClick:(null==(i=w.ctaButton)?void 0:i.action)==="openNext"?C:D},b[9]=w.ctaButton,b[10]=D,b[11]=C,b[12]=k,b[13]=u):u=b[13],b[14]!==O||b[15]!==u?(d={text:O,mode:"default",tone:"primary",...u},b[14]=O,b[15]=u,b[16]=d):d=b[16],b[17]!==c||b[18]!==d?(p={cancelButton:c,confirmButton:d},b[17]=c,b[18]=d,b[19]=p):p=b[19],b[20]!==E?(f=(0,_.jsx)(ejo,{icon:R.CloseIcon,mode:"bleed",tone:"default",onClick:E,tabIndex:-1,tooltipProps:null}),b[20]=E,b[21]=f):f=b[21],b[22]!==w.image?(h=w.image&&(0,_.jsx)(ejl,{src:w.image.asset.url,alt:null!=(a=w.image.asset.altText)?a:""}),b[22]=w.image,b[23]=h):h=b[23],b[24]!==w.headingText?(m=(0,_.jsx)(I.Box,{paddingX:2,marginTop:3,children:(0,_.jsx)(I.Heading,{size:2,children:w.headingText})}),b[24]=w.headingText,b[25]=m):m=b[25],b[26]!==w.descriptionText?(g=(0,_.jsx)(I.Box,{marginTop:4,paddingBottom:3,children:(0,_.jsx)(ec_,{blocks:w.descriptionText})}),b[26]=w.descriptionText,b[27]=g):g=b[27],b[28]!==m||b[29]!==g?(y=(0,_.jsxs)(I.Flex,{padding:3,direction:"column",children:[m,g]}),b[28]=m,b[29]=g,b[30]=y):y=b[30],b[31]!==T||b[32]!==x||b[33]!==A||b[34]!==h||b[35]!==y||b[36]!==p||b[37]!==f?(v=(0,_.jsxs)(ejs,{id:"free-trial-modal",onClose:x,onClickOutside:T,padding:!1,__unstable_hideCloseButton:!0,scheme:A,footer:p,children:[f,h,y]}),b[31]=T,b[32]=x,b[33]=A,b[34]=h,b[35]=y,b[36]=p,b[37]=f,b[38]=v):v=b[38],v}let eju=F.styled.div(Tu()),ejd=e=>{let t,n,r,i,a=(0,j.c)(8),{daysLeft:o,totalDays:l}=e,s=Math.round((l-o)/l*100),c=2*Math.PI*10,u=(100-s)/100*c;a[0]===Symbol.for("react.memo_cache_sentinel")?(t={transform:"rotate(-90deg)"},a[0]=t):t=a[0];let d=s>75?z.yellow[600].hex:z.purple[400].hex;return a[1]!==d?(n=(0,_.jsx)("circle",{r:10,cx:10.6,cy:10.6,fill:"transparent",strokeWidth:1.2,stroke:d}),a[1]=d,a[2]=n):n=a[2],a[3]!==u?(r=(0,_.jsx)("circle",{r:10,cx:10.6,cy:10.6,fill:"transparent",strokeWidth:1.2,stroke:"var(--card-border-color)",strokeDasharray:c,strokeDashoffset:u}),a[3]=u,a[4]=r):r=a[4],a[5]!==n||a[6]!==r?(i=(0,_.jsx)(I.Card,{children:(0,_.jsx)(eju,{children:(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:21.2,height:21.2,viewBox:"0 0 21.2 21.2",style:t,children:[n,r]})})}),a[5]=n,a[6]=r,a[7]=i):i=a[7],i},ejp=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(14),{toggleShowContent:s,daysLeft:c,totalDays:u}=e,{t:d}=IO();return l[0]!==c||l[1]!==d?(n=c?d("free-trial.tooltip.days-count",{count:c}):d("free-trial.tooltip.trial-finished"),l[0]=c,l[1]=d,l[2]=n):n=l[2],l[3]!==n?(r={content:n},l[3]=n,l[4]=r):r=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,_.jsx)(I.Text,{size:0,children:(0,_.jsx)(R.BoltIcon,{})}),l[5]=i):i=l[5],l[6]!==c||l[7]!==u?(a=c>0&&(0,_.jsx)(ejd,{daysLeft:c,totalDays:u}),l[6]=c,l[7]=u,l[8]=a):a=l[8],l[9]!==t||l[10]!==r||l[11]!==a||l[12]!==s?(o=(0,_.jsxs)(B.Button,{mode:"bleed",onClick:s,ref:t,tooltipProps:r,children:[i,a]}),l[9]=t,l[10]=r,l[11]=a,l[12]=s,l[13]=o):o=l[13],o}),ejf=(0,E.forwardRef)(function(e,t){let n,r,i=(0,j.c)(7),{toggleShowContent:a,daysLeft:o}=e,{t:l}=IO();return i[0]!==o||i[1]!==l?(n=o?l("user-menu.action.free-trial",{count:o}):l("user-menu.action.free-trial-finished"),i[0]=o,i[1]=l,i[2]=n):n=i[2],i[3]!==t||i[4]!==n||i[5]!==a?(r=(0,_.jsx)(B.Button,{ref:t,icon:R.BoltIcon,justify:"flex-start",mode:"bleed",size:"large",onClick:a,text:n}),i[3]=t,i[4]=n,i[5]=a,i[6]=r):r=i[6],r}),ejh=F.styled.img(Td());function ejm(e){var t,n,r,i,a;let o,l,s,c,u,d,p,f,h,m=(0,j.c)(26),{content:g,handleClose:y,handleOpenNext:v}=e;m[0]!==g.image?(o=g.image&&(0,_.jsx)(ejh,{src:g.image.asset.url,alt:null!=(a=g.image.asset.altText)?a:""}),m[0]=g.image,m[1]=o):o=m[1],m[2]!==g.headingText?(l=(0,_.jsx)(I.Box,{paddingX:2,marginTop:3,children:(0,_.jsx)(I.Heading,{size:1,children:g.headingText})}),m[2]=g.headingText,m[3]=l):l=m[3],m[4]!==g.descriptionText?(s=(0,_.jsx)(I.Box,{marginTop:4,children:(0,_.jsx)(ec_,{blocks:g.descriptionText})}),m[4]=g.descriptionText,m[5]=s):s=m[5],m[6]!==l||m[7]!==s?(c=(0,_.jsxs)(I.Flex,{padding:3,direction:"column",children:[l,s]}),m[6]=l,m[7]=s,m[8]=c):c=m[8],m[9]!==g.secondaryButton||m[10]!==y?(u=(null==(t=g.secondaryButton)?void 0:t.text)&&(0,_.jsx)(B.Button,{mode:"bleed",text:g.secondaryButton.text,tone:"default",onClick:()=>y("xClick")}),m[9]=g.secondaryButton,m[10]=y,m[11]=u):u=m[11];let b=null==(n=g.ctaButton)?void 0:n.text;return m[12]!==g.ctaButton||m[13]!==y||m[14]!==v?(d=(null==(r=g.ctaButton)?void 0:r.action)==="openUrl"?{href:g.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a"}:{onClick:(null==(i=g.ctaButton)?void 0:i.action)==="openNext"?v:()=>y("ctaClicked")},m[12]=g.ctaButton,m[13]=y,m[14]=v,m[15]=d):d=m[15],m[16]!==b||m[17]!==d?(p=(0,_.jsx)(B.Button,{mode:"default",tooltipProps:null,text:b,autoFocus:!0,tone:"primary",...d}),m[16]=b,m[17]=d,m[18]=p):p=m[18],m[19]!==u||m[20]!==p?(f=(0,_.jsxs)(I.Flex,{width:"full",gap:3,justify:"flex-end",padding:3,children:[u,p]}),m[19]=u,m[20]=p,m[21]=f):f=m[21],m[22]!==o||m[23]!==c||m[24]!==f?(h=(0,_.jsx)(I.Card,{radius:3,overflow:"hidden",width:0,children:(0,_.jsxs)(I.Container,{width:0,children:[o,c,f]})}),m[22]=o,m[23]=c,m[24]=f,m[25]=h):h=m[25],h}function ejg(e){let{type:t}=e,{data:n,showDialog:r,showOnLoad:i,toggleShowContent:a}=(()=>{let e=(0,E.useContext)(D.FreeTrialContext);if(!e)throw Error("useFreeTrial must be used within a FreeTrialProvider");return e})(),o=ews(),l=(0,tp.useTelemetry)(),[s,c]=(0,E.useState)(null),[u,d]=(0,E.useState)(!1);(0,E.useEffect)(()=>{s&&d(!0)},[s]);let p=(0,E.useCallback)(()=>a(!0),[a]),f=(0,E.useCallback)(()=>{null==s||s.focus(),a(!1)},[a,s]),h=(0,E.useCallback)(e=>t=>{let r=(null==n?void 0:n.showOnLoad)||(null==n?void 0:n.showOnClick);r&&l.log(e_9,{dialogId:r.id,dialogRevision:r._rev,dialogType:e,source:"studio",trialDaysLeft:n.daysLeft,dialogTrialStage:ejt({showOnLoad:i,dialogId:r.id}),dialogDismissAction:t}),f()},[n,f,i,l]),m=(0,E.useCallback)(e=>()=>{let t=(null==n?void 0:n.showOnLoad)||(null==n?void 0:n.showOnClick);t&&l.log(eje,{dialogId:t.id,dialogRevision:t._rev,dialogType:"modal",source:"studio",trialDaysLeft:n.daysLeft,dialogTrialStage:ejt({showOnLoad:i,dialogId:t.id}),dialogCtaType:"openURL"===e?"upgrade":"learnMore"}),p()},[n,p,l,i]),g=(0,E.useCallback)(()=>{(null==n?void 0:n.showOnLoad)&&l.log(eje,{dialogId:n.showOnLoad.id,dialogRevision:n.showOnLoad._rev,dialogType:"popover",source:"studio",trialDaysLeft:n.daysLeft,dialogTrialStage:ejt({showOnLoad:!0,dialogId:n.showOnLoad.id}),dialogCtaType:"learnMore"}),p()},[null==n?void 0:n.showOnLoad,null==n?void 0:n.daysLeft,p,l]),y=(0,E.useCallback)(()=>{(null==n?void 0:n.showOnClick)&&l.log(e_6,{dialogId:n.showOnClick.id,dialogRevision:n.showOnClick._rev,dialogTrigger:"fromClick",dialogType:"modal",source:"studio",trialDaysLeft:n.daysLeft,dialogTrialStage:ejt({showOnLoad:!0,dialogId:n.showOnClick.id})}),p()},[null==n?void 0:n.showOnClick,null==n?void 0:n.daysLeft,l,p]);if(!(null==n?void 0:n.id))return null;let v=i?n.showOnLoad:n.showOnClick;if(!v)return null;let b="sidebar"===t?(0,_.jsx)(ejf,{toggleShowContent:y,daysLeft:n.daysLeft,ref:c}):(0,_.jsx)(ejp,{toggleShowContent:y,daysLeft:n.daysLeft,totalDays:n.totalDays,ref:c});return(null==v?void 0:v.dialogType)==="popover"?(0,_.jsx)(B.Popover,{open:r&&u,size:0,scheme:o,radius:3,tone:"default",portal:!0,placement:"sidebar"===t?"top":"bottom-end",content:(0,_.jsx)(ejm,{content:v,handleClose:h("popover"),handleOpenNext:g}),children:b}):(0,_.jsxs)(_.Fragment,{children:[b,(0,_.jsx)(ejc,{content:v,onClose:h("modal"),onOpenNext:m("openNext"),onOpenUrlCallback:m("openURL"),open:r})]})}let ejy=e=>{var t;let{children:n}=e,r=(0,nr.useRouter)(),[i,a]=(0,E.useState)(null),[o,l]=(0,E.useState)(!1),[s,c]=(0,E.useState)(!1),u=eTt({apiVersion:"2023-12-11"}),d=(0,tp.useTelemetry)();(0,E.useEffect)(()=>{let e=null==i?void 0:i.showOnLoad;o&&s&&e&&d.log(e_6,{dialogId:e.id,dialogRevision:e._rev,dialogTrialStage:ejt({showOnLoad:s,dialogId:e.id}),dialogTrigger:s?"auto":"fromClick",dialogType:e.dialogType,source:"studio",trialDaysLeft:i.daysLeft})},[o,i,s,d]);let p=new URLSearchParams(r.state._searchParams),f=p.get("trialState"),h=p.get("seenBefore");(0,E.useEffect)(()=>{let e=new URLSearchParams;e.append("studioVersion",e9.SANITY_VERSION),f&&e.append("trialState",f),h&&e.append("seenBefore",h);let t=e.get("trialState")?"/journey/trial/override":"/journey/trial",n=u.observable.request({url:"".concat(t,"?").concat(e.toString())}).subscribe(e=>{a(e),(null==e?void 0:e.showOnLoad)&&(c(!0),l(!0))},()=>{});return()=>{n.unsubscribe()}},[u,h,f]);let m=(0,E.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s?(c(!1),l(t),(null==i||null==(e=i.showOnLoad)?void 0:e.id)&&u.request({url:"/journey/trial/".concat(null==i?void 0:i.showOnLoad.id),method:"POST"})):l(e=>!e)},[u,s,null==i||null==(t=i.showOnLoad)?void 0:t.id]),g=(0,E.useMemo)(()=>({data:i,showDialog:o,toggleShowContent:m,showOnLoad:s}),[i,o,s,m]);return(0,_.jsx)(D.FreeTrialContext.Provider,{value:g,children:n})},ejv=(0,F.styled)(I.Card).attrs({overflow:"hidden",radius:2})(Tp(),25,25),ejb=(0,F.styled)(I.Card)(Tf(),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[2])},e=>{let{theme:t}=e;return qp({base:t.sanity.color.base,focusRing:{...t.sanity.focusRing,offset:1}})});function ejx(){let e,t,n,r,i,a=(0,j.c)(12),o=DF(),{activeWorkspace:l}=eul();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={state:{}},a[0]=e):e=a[0];let{href:s,onClick:c}=(0,nr.useStateLink)(e),u=o.length>1;return a[1]!==l||a[2]!==u?(t=(0,_.jsx)(ejv,{children:(0,_.jsx)(I.Flex,{align:"center",height:"fill",justify:"center",children:u||l.customIcon?(0,_.jsx)(e_o,{icon:l.icon,size:"small"}):(0,_.jsx)(bv,{width:"100%",height:"100%"})})}),n=!u&&(0,_.jsx)(I.Box,{paddingX:2,children:(0,_.jsx)(I.Text,{size:1,weight:"medium",children:l.title})}),a[1]=l,a[2]=u,a[3]=t,a[4]=n):(t=a[3],n=a[4]),a[5]!==t||a[6]!==n?(r=(0,_.jsxs)(I.Flex,{align:"center",children:[t,n]}),a[5]=t,a[6]=n,a[7]=r):r=a[7],a[8]!==c||a[9]!==s||a[10]!==r?(i=(0,_.jsx)(ejb,{as:"a",href:s,onClick:c,children:r}),a[8]=c,a[9]=s,a[10]=r,a[11]=i):i=a[11],i}function ejC(e){let t,n,r=(0,j.c)(4),{setScheme:i}=e,{t:a}=IO(),o=ewc(i,a);return r[0]!==o?(t=o.map(ejk),r[0]=o,r[1]=t):t=r[1],r[2]!==t?(n=(0,_.jsx)(I.Card,{borderTop:!0,flex:"none",padding:2,overflow:"auto",children:(0,_.jsx)(I.Stack,{as:"ul",space:1,children:t})}),r[2]=t,r[3]=n):n=r[3],n}function ejk(e){let{icon:t,label:n,name:r,onSelect:i,selected:a,title:o}=e;return(0,_.jsx)(I.Stack,{as:"li",children:(0,_.jsx)(B.Button,{"aria-label":n,icon:t,iconRight:a&&(0,_.jsx)(R.CheckmarkIcon,{}),justify:"flex-start",mode:"bleed",onClick:i,selected:a,size:"large",text:o})},r)}function ejw(){return(0,j.c)(9),IR(),null}function ej_(){let{getClient:e}=FU();return e({apiVersion:"2025-08-15"}).config().apiHost.endsWith(".work")?"https://sanity.work":"https://sanity.io"}function ejj(){let e,t,n,r,i,a,o,l=(0,j.c)(19),{currentUser:s,projectId:c}=FU();l[0]!==s?(e=s&&IS(s,"administrator"),l[0]=s,l[1]=e):e=l[1];let u=!!e,{t:d}=IO(),p=ej_();l[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Stack,{as:"li",children:(0,_.jsx)(ejg,{type:"sidebar"})}),l[2]=t):t=l[2],l[3]!==d?(n=d("user-menu.action.manage-project-aria-label"),l[3]=d,l[4]=n):n=l[4];let f="".concat(p,"/manage/project/").concat(c);return l[5]!==d?(r=d("user-menu.action.manage-project"),l[5]=d,l[6]=r):r=l[6],l[7]!==n||l[8]!==f||l[9]!==r?(i=(0,_.jsx)(I.Stack,{as:"li",children:(0,_.jsx)(B.Button,{"aria-label":n,as:"a",href:f,icon:R.CogIcon,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r})}),l[7]=n,l[8]=f,l[9]=r,l[10]=i):i=l[10],l[11]!==p||l[12]!==u||l[13]!==c||l[14]!==d?(a=u&&(0,_.jsx)(I.Stack,{as:"li",children:(0,_.jsx)(B.Button,{"aria-label":d("user-menu.action.invite-members-aria-label"),as:"a",href:"".concat(p,"/manage/project/").concat(c,"/members?invite=true"),icon:R.AddUserIcon,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:d("user-menu.action.invite-members")})}),l[11]=p,l[12]=u,l[13]=c,l[14]=d,l[15]=a):a=l[15],l[16]!==i||l[17]!==a?(o=(0,_.jsx)(I.Card,{borderTop:!0,flex:"none",padding:2,children:(0,_.jsxs)(I.Stack,{as:"ul",space:1,children:[t,i,a]})}),l[16]=i,l[17]=a,l[18]=o):o=l[18],o}let ejS={bounce:0,damping:20,mass:.5,stiffness:200,type:"spring"},ejE={open:{opacity:1},closed:{opacity:0}},ejT={open:{x:"0%"},closed:{x:"-100%"}},ejD=(0,F.styled)(I.Layer)(Th()),ejI=(0,F.styled)(na.motion.create(I.Card))(Tm()),ejA=(0,F.styled)(na.motion.create(I.Card))(Tg()),ejO=(0,E.memo)(function(e){var t;let n,r,i,a,o,l=(0,j.c)(23),{__internal_actions:s,activeToolName:c,isOpen:u,onClose:d,tools:p}=e,f=ewo(),{auth:h,currentUser:m}=FU(),g=DF(),y=e_7(),{t:v}=IO();l[0]!==d?(n=e=>{"Escape"===e.key&&d()},l[0]=d,l[1]=n):n=l[1];let b=n;l[2]!==d?(r=e=>{null==e||e(),d()},l[2]=d,l[3]=r):r=l[3];let x=r;l[4]!==s||l[5]!==x?(i=null==s||null==(t=s.filter(ejP))?void 0:t.map(e=>{let{render:t}=e;return t?(0,_.jsx)(t,{},e.name):(0,_.jsx)(B.Button,{icon:null==e?void 0:e.icon,justify:"flex-start",mode:"bleed",onClick:()=>x(e.onAction),selected:e.selected,size:"large",text:e.title,width:"fill"},e.name)}),l[4]=s,l[5]=x,l[6]=i):i=l[6];let C=i;return l[7]!==y||l[8]!==C||l[9]!==c||l[10]!==h||l[11]!==(null==m?void 0:m.email)||l[12]!==(null==m?void 0:m.name)||l[13]!==b||l[14]!==u||l[15]!==d||l[16]!==f||l[17]!==v||l[18]!==p||l[19]!==g?(a=u&&(0,_.jsx)(ts.default,{returnFocus:!0,children:(0,_.jsxs)(ejD,{onKeyDown:b,children:[(0,_.jsx)(ejI,{animate:"open","data-open":u,exit:"closed",initial:"closed",onClick:d,transition:ejS,variants:ejE}),(0,_.jsxs)(ejA,{animate:"open","data-open":u,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:ejS,variants:ejT,children:[(0,_.jsx)(I.Card,{borderBottom:!0,children:(0,_.jsxs)(I.Stack,{space:3,padding:3,children:[(0,_.jsxs)(I.Flex,{align:"center",children:[(0,_.jsx)(I.Flex,{flex:1,align:"center",paddingRight:2,children:(0,_.jsx)(ewh,{capability:"globalUserMenu",children:(0,_.jsxs)(I.Flex,{flex:1,align:"center",children:[(0,_.jsx)(Ri,{size:1,user:"me"}),(0,_.jsx)(I.Box,{flex:1,marginLeft:3,title:(null==m?void 0:m.name)||(null==m?void 0:m.email),children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:(null==m?void 0:m.name)||(null==m?void 0:m.email)})})]})})}),(0,_.jsx)(B.Button,{icon:R.CloseIcon,mode:"bleed",onClick:d,tooltipProps:{content:v("user-menu.close-menu")}})]}),g.length>1&&(0,_.jsxs)(I.Flex,{flex:1,gap:1,children:[(0,_.jsx)(ejx,{}),(0,_.jsx)(e_g,{})]})]})}),(0,_.jsxs)(I.Flex,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[(0,_.jsx)(I.Card,{flex:"none",padding:2,children:(0,_.jsx)(y,{activeToolName:c,closeSidebar:d,context:"sidebar",isSidebarOpen:u,tools:p})}),(0,_.jsxs)(I.Flex,{direction:"column",children:[C&&(0,_.jsx)(I.Card,{flex:"none",padding:2,children:(0,_.jsx)(I.Stack,{space:1,children:C})}),f&&(0,_.jsx)(ejC,{setScheme:f}),(0,_.jsx)(ejw,{}),(0,_.jsx)(ejj,{})]})]}),h.logout&&(0,_.jsx)(I.Card,{flex:"none",padding:2,borderTop:!0,children:(0,_.jsx)(I.Stack,{children:(0,_.jsx)(B.Button,{iconRight:R.LeaveIcon,justify:"flex-start",mode:"bleed",onClick:h.logout,size:"large",text:v("user-menu.action.sign-out")})})})]})]})}),l[7]=y,l[8]=C,l[9]=c,l[10]=h,l[11]=null==m?void 0:m.email,l[12]=null==m?void 0:m.name,l[13]=b,l[14]=u,l[15]=d,l[16]=f,l[17]=v,l[18]=p,l[19]=g,l[20]=a):a=l[20],l[21]!==a?(o=(0,_.jsx)(no.AnimatePresence,{children:a}),l[21]=a,l[22]=o):o=l[22],o});function ejP(e){return"sidebar"===e.location}let ejM=(0,F.styled)(B.Popover)(()=>(0,F.css)(Ty(),e=>{let{theme:t}=e;return t.sanity.radius[3]})),ejF=(0,F.styled)(B.Dialog)(()=>(0,F.css)(Tv())),ejR=(0,F.styled)(I.Flex)(Tb()),ejB=(0,F.styled)(I.Card)(Tx()),ejN=(0,F.styled)(I.Card)(TC()),ejL=(0,F.styled)(I.Flex)(e=>{let{$maxDisplayedItems:t,$itemHeight:n}=e;return(0,F.css)(Tk(),n,t)});function ejz(e){let t,n,r,i,a,o,l,s=(0,j.c)(28),{option:c,currentUser:u,onClick:d,preview:p}=e,{selectedReleaseId:f}=Ar();s[0]!==c.schemaType||s[1]!==c.templateId||s[2]!==f?(t={template:c.templateId,type:c.schemaType,version:f},s[0]=c.schemaType,s[1]=c.templateId,s[2]=f,s[3]=t):t=s[3];let h=t;s[4]!==h?(n={intent:"create",params:h},s[4]=h,s[5]=n):n=s[5];let{onClick:m,href:g}=(0,nr.useIntentLink)(n);s[6]!==d||s[7]!==m||s[8]!==c?(r=e=>{m(e),d(c)},s[6]=d,s[7]=m,s[8]=c,s[9]=r):r=s[9];let y=r,{title:v}=IM(c);s[10]!==u?(i=(0,_.jsx)(es3,{currentUser:u,context:"create-document"}),s[10]=u,s[11]=i):i=s[11];let b=c.hasPermission?"a":"button",x="create-new-".concat(c.templateId),C=!c.hasPermission,k="inline"===p?3:4,w="inline"===p?1:void 0;return s[12]!==w||s[13]!==v?(a=(0,_.jsx)(I.Text,{size:w,children:v}),s[12]=w,s[13]=v,s[14]=a):a=s[14],s[15]!==y||s[16]!==g||s[17]!==b||s[18]!==x||s[19]!==C||s[20]!==k||s[21]!==a?(o=(0,_.jsx)("div",{children:(0,_.jsx)(I.Card,{as:b,"data-testid":x,disabled:C,href:g,marginBottom:1,onClick:y,padding:k,radius:2,children:a})}),s[15]=y,s[16]=g,s[17]=b,s[18]=x,s[19]=C,s[20]=k,s[21]=a,s[22]=o):o=s[22],s[23]!==c.hasPermission||s[24]!==c.id||s[25]!==o||s[26]!==i?(l=(0,_.jsx)(B.Tooltip,{disabled:c.hasPermission,portal:!0,content:i,children:o},c.id),s[23]=c.hasPermission,s[24]=c.id,s[25]=o,s[26]=i,s[27]=l):l=s[27],l}let ejV=(0,F.styled)(I.Flex)(Tw());function ejU(e){let t,n,r,i,a,o=(0,j.c)(27),{currentUser:l,loading:s,onDocumentClick:c,options:u,preview:d,searchQuery:p,textInputElement:f}=e,{t:h}=IO(),m=u.length>0&&!s;o[0]!==c?(t=()=>{c()},o[0]=c,o[1]=t):t=o[1];let g=t;o[2]!==u?(n=e=>{var t;return(null==(t=u[e])?void 0:t.hasPermission)===!1},o[2]=u,o[3]=n):n=o[3];let y=n;o[4]!==l||o[5]!==g||o[6]!==d?(r=e=>(0,_.jsx)(ejz,{currentUser:l,onClick:g,option:e,preview:d},e.id),o[4]=l,o[5]=g,o[6]=d,o[7]=r):r=o[7];let v=r;if(s){let e;return o[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{showText:!0}),o[8]=e):e=o[8],e}if(!m&&p){let e,t;return o[9]!==p?(e={searchQuery:p},o[9]=p,o[10]=e):e=o[10],o[11]!==h||o[12]!==e?(t=(0,_.jsx)(ejV,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:(0,_.jsx)(IZ,{t:h,i18nKey:"new-document.no-results",values:e})})}),o[11]=h,o[12]=e,o[13]=t):t=o[13],t}if(!m){let e,t;return o[14]!==h?(e=h("new-document.no-document-types-found"),o[14]=h,o[15]=e):e=o[15],o[16]!==e?(t=(0,_.jsx)(ejV,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:(0,_.jsx)(I.Text,{align:"center",muted:!0,size:1,children:e})}),o[16]=e,o[17]=t):t=o[17],t}o[18]!==h?(i=h("new-document.new-document"),o[18]=h,o[19]=i):i=o[19];let b="inline"===d?1:2;return o[20]!==y||o[21]!==u||o[22]!==v||o[23]!==i||o[24]!==b||o[25]!==f?(a=(0,_.jsx)(DD,{activeItemDataAttr:"data-hovered",ariaLabel:i,autoFocus:IC?void 0:"input",getItemDisabled:y,inputElement:f,itemHeight:33,items:u,overscan:5,padding:b,paddingBottom:0,renderItem:v}),o[20]=y,o[21]=u,o[22]=v,o[23]=i,o[24]=b,o[25]=f,o[26]=a):a=o[26],a}function ejH(e){let{canCreateDocument:t,modal:n="popover",loading:r,options:i}=e,[a,o]=(0,E.useState)(!1),[l,s]=(0,E.useState)(""),c=(0,E.useRef)(null),u=(0,E.useRef)(null),[d,p]=(0,E.useState)(null),[f,h]=(0,E.useState)(null),{t:m}=IO(),g=IP(i),y=ews(),v=A6(),b=el3(),x=i.length>0,C=!t||!x,k=m("new-document.filter-placeholder"),w=m("new-document.title"),j=m("new-document.open-dialog-aria-label"),S=(0,E.useMemo)(()=>i.filter(e=>{let t=b.get(e.schemaType);return t&&!(0,W.isDeprecatedSchemaType)(t)}),[i,b]),T=(0,E.useMemo)(()=>S.map(e=>({...e,title:g({...e,title:(null==e?void 0:e.title)||e.id}).title})).sort((e,t)=>e.title.localeCompare(t.title)).filter(e=>(function(e,t){let n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(e=>n.includes(e))})(l,e)).sort((e,t)=>(function(e,t,n){let r=t.title.toLowerCase(),i=n.title.toLowerCase(),a=e.trim().toLowerCase();return r.startsWith(a)&&!i.startsWith(a)?-1:i.startsWith(a)&&!r.startsWith(a)?1:r.includes(a)&&!i.includes(a)?-1:i.includes(a)&&!r.includes(a)?1:0})(l,e,t)),[S,l,g]),D=(0,E.useCallback)(e=>{s(e.currentTarget.value)},[]),A=(0,E.useCallback)(()=>o(e=>!e),[]),O=(0,E.useCallback)(()=>{o(!1),s(""),null==d||d.focus()},[d]),P=(0,E.useCallback)(e=>{"ArrowDown"!==e.key||a||o(!0)},[a]),M=(0,E.useCallback)(e=>{("Escape"===e.key||"Tab"===e.key)&&a&&O()},[O,a]);(0,I.useClickOutsideEvent)(a&&O,()=>[d,u.current,c.current]);let F=(0,E.useMemo)(()=>({currentUser:v,loading:r,onDocumentClick:A,options:T,searchQuery:l,preview:"popover"===n?"inline":"default",textInputElement:f}),[v,T,A,r,n,f,l]),N=(0,E.useMemo)(()=>({__unstable_disableFocusRing:!0,border:!1,"data-testid":"new-document-button-search-input",defaultValue:l,disabled:r,icon:R.SearchIcon,onChange:D,placeholder:k,ref:h}),[D,r,k,l]),L=(0,E.useMemo)(()=>({"aria-label":j,"data-testid":"new-document-button",disabled:C||r,icon:R.AddIcon,text:"",mode:"bleed",onClick:A,ref:p,selected:a}),[C,A,r,a,j]),z=(0,E.useMemo)(()=>x?t?(0,_.jsx)(I.Text,{size:1,children:m("new-document.create-new-document-label")}):(0,_.jsx)(es3,{currentUser:v,context:"create-any-document"}):(0,_.jsx)(I.Text,{size:1,children:m("new-document.no-document-types-label")}),[t,v,x,m]),V=(0,E.useMemo)(()=>({content:z,disabled:r||a,scheme:y}),[r,a,y,z]);return"dialog"===n?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.Tooltip,{...V,children:(0,_.jsx)("div",{children:(0,_.jsx)(B.Button,{...L})})}),a&&(0,_.jsx)(ejF,{header:w,id:"create-new-document-dialog",onClickOutside:O,onClose:O,ref:u,scheme:y,width:1,children:(0,_.jsxs)(ejR,{direction:"column",flex:1,height:"fill",children:[(0,_.jsx)(ejN,{padding:2,borderBottom:!0,children:(0,_.jsx)(I.TextInput,{"data-testid":"new-document-button-search-input",...N})}),(0,_.jsx)(I.Flex,{direction:"column",overflow:"hidden",children:(0,_.jsx)(ejU,{...F})})]})})]}):(0,_.jsx)(ejM,{constrainSize:!0,onKeyDown:M,open:a,tone:"default",portal:!0,radius:3,ref:c,scheme:y,content:(0,_.jsxs)(ejR,{direction:"column",flex:1,forwardedAs:ts.default,height:"fill",returnFocus:!0,children:[(0,_.jsx)(ejB,{sizing:"border",children:(0,_.jsx)(I.Stack,{children:(0,_.jsx)(I.Card,{borderBottom:!0,padding:1,children:(0,_.jsx)(I.TextInput,{...N,fontSize:1,radius:1})})})}),(0,_.jsx)(ejL,{$itemHeight:33,$maxDisplayedItems:10,direction:"column",overflow:"hidden",children:(0,_.jsx)(ejU,{...F})})]}),children:(0,_.jsx)("div",{children:(0,_.jsx)(B.Tooltip,{...V,children:(0,_.jsx)("div",{children:(0,_.jsx)(B.Button,{...L,"aria-expanded":a,"aria-haspopup":"true",onKeyDown:P})})})})})}let ejq=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(31),{locations:u,user:d,focused:p,onFocus:f}=e,[h,m]=(0,E.useState)(null),{t:g}=IO();c[0]!==p||c[1]!==h?(t=()=>{p&&h&&(h.focus(),h.setAttribute("data-selected","")),p||null==h||h.removeAttribute("data-selected")},n=[h,p],c[0]=p,c[1]=h,c[2]=t,c[3]=n):(t=c[2],n=c[3]),(0,E.useEffect)(t,n),c[4]!==f||c[5]!==d.id?(r=()=>{f(d.id)},c[4]=f,c[5]=d.id,c[6]=r):r=c[6];let y=r;if(c[7]!==y||c[8]!==u||c[9]!==d){a=Symbol.for("react.early_return_sentinel");e:{let e=(0,nd.default)(u||[],["lastActiveAt"],["desc"]).find(ejW);if(i=!!(null==e?void 0:e.documentId),e){let t,n,r=(0,th.getVersionFromId)(e.documentId),i={id:(0,th.getPublishedId)(e.documentId),path:S.toString(e.path)},o=r?[["perspective",r]]:[];c[12]!==d?(t=(0,_.jsx)(Ri,{size:1,user:d}),c[12]=d,c[13]=t):t=c[13],c[14]!==y||c[15]!==i||c[16]!==o||c[17]!==t||c[18]!==d.displayName?(n=(0,_.jsx)(B.MenuItem,{as:nr.IntentLink,intent:"edit",params:i,searchParams:o,"data-as":"a",onFocus:y,preview:t,ref:m,text:d.displayName}),c[14]=y,c[15]=i,c[16]=o,c[17]=t,c[18]=d.displayName,c[19]=n):n=c[19],a=n;break e}}c[7]=y,c[8]=u,c[9]=d,c[10]=i,c[11]=a}else i=c[10],a=c[11];if(a!==Symbol.for("react.early_return_sentinel"))return a;let v=!i;return c[20]!==i||c[21]!==g?(o=i?void 0:{content:g("presence.not-in-a-document"),placement:"left"},c[20]=i,c[21]=g,c[22]=o):o=c[22],c[23]!==d?(l=(0,_.jsx)(Ri,{size:1,user:d}),c[23]=d,c[24]=l):l=c[24],c[25]!==y||c[26]!==v||c[27]!==o||c[28]!==l||c[29]!==d.displayName?(s=(0,_.jsx)(B.MenuItem,{as:"div",disabled:v,tooltipProps:o,"data-as":"a",onFocus:y,preview:l,ref:m,text:d.displayName}),c[25]=y,c[26]=v,c[27]=o,c[28]=l,c[29]=d.displayName,c[30]=s):s=c[30],s});function ejW(e){return e.documentId}let ejY=(0,F.styled)(I.Menu)(T_()),ejK=(0,F.styled)(I.Stack)(Tj());function ejG(){let e,t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(40),v=function(){let e,t,n=(0,j.c)(2),[r,i]=(0,E.useReducer)(Fw,!1);n[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>(0,E.startTransition)(i),t=[],n[0]=e,n[1]=t):(e=n[0],t=n[1]),(0,E.useEffect)(e,t);let a=Fp();return(0,te.useObservable)(r?a.globalPresence$:Fk,FC)}(),{projectId:b}=FU(),x=ews(),{t:C}=IO(),k=v.length>0,[w,S]=(0,E.useState)();y[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{S(e)},y[0]=e):e=y[0];let T=e;y[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{S("")},y[1]=t):t=y[1];let D=t;y[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{S("")},y[2]=n):n=y[2];let A=n;y[3]!==C?(r=C("presence.aria-label"),y[3]=C,y[4]=r):r=y[4];let O=k?"positive":void 0;y[5]!==C?(i=C("presence.tooltip-content"),y[5]=C,y[6]=i):i=y[6],y[7]!==i?(a={content:i},y[7]=i,y[8]=a):a=y[8],y[9]!==r||y[10]!==O||y[11]!==a?(o=(0,_.jsx)(eDs,{icon:R.UsersIcon,"aria-label":r,mode:"bleed",tone:O,tooltipProps:a}),y[9]=r,y[10]=O,y[11]=a,y[12]=o):o=y[12];let P=o;y[13]===Symbol.for("react.memo_cache_sentinel")?(l=["bottom"],y[13]=l):l=y[13],y[14]!==x?(s={constrainSize:!0,fallbackPlacements:l,placement:"bottom",portal:!0,scheme:x,tone:"default"},y[14]=x,y[15]=s):s=y[15];let M=s,F=ej_();y[16]!==C?(c=C("presence.aria-label"),y[16]=C,y[17]=c):c=y[17],y[18]!==w||y[19]!==k||y[20]!==v?(u=k&&v.map(e=>(0,_.jsx)(ejq,{focused:w===e.user.id,onFocus:T,locations:e.locations,user:e.user},e.user.id)),y[18]=w,y[19]=k,y[20]=v,y[21]=u):u=y[21],y[22]!==k||y[23]!==C?(d=!k&&(0,_.jsx)(I.Box,{padding:3,children:(0,_.jsxs)(I.Stack,{space:3,children:[(0,_.jsx)(I.Text,{weight:"medium",size:1,children:C("presence.no-one-else-title")}),(0,_.jsx)(I.Text,{size:1,muted:!0,children:C("presence.no-one-else-description")})]})}),y[22]=k,y[23]=C,y[24]=d):d=y[24],y[25]===Symbol.for("react.memo_cache_sentinel")?(p=(0,_.jsx)(I.MenuDivider,{}),y[25]=p):p=y[25];let N="".concat(F,"/manage/project/").concat(b,"/members?invite=true");return y[26]!==C?(f=C("presence.action.manage-members"),y[26]=C,y[27]=f):f=y[27],y[28]!==N||y[29]!==f?(h=(0,_.jsxs)(ejK,{space:1,children:[p,(0,_.jsx)(B.MenuItem,{as:"a",href:N,icon:R.AddUserIcon,onFocus:D,rel:"noopener noreferrer",target:"_blank",text:f})]}),y[28]=N,y[29]=f,y[30]=h):h=y[30],y[31]!==u||y[32]!==d||y[33]!==h?(m=(0,_.jsxs)(ejY,{children:[u,d,h]}),y[31]=u,y[32]=d,y[33]=h,y[34]=m):m=y[34],y[35]!==P||y[36]!==M||y[37]!==c||y[38]!==m?(g=(0,_.jsx)(B.MenuButton,{button:P,"aria-label":c,id:"global-presence-menu",menu:m,onClose:A,popover:M}),y[35]=P,y[36]=M,y[37]=c,y[38]=m,y[39]=g):g=y[39],g}function ej$(){return(0,E.useContext)(D.PackageVersionInfoContext)}let ejZ=(0,tc.defineEvent)({name:"Product Announcement Card Seen",version:1,description:"User viewed the product announcement card"}),ejX=(0,tc.defineEvent)({name:"Product Announcement Card Clicked",version:1,description:"User clicked the product announcement card"}),ejJ=(0,tc.defineEvent)({name:"Product Announcement Card Dismissed",version:1,description:"User dismissed the product announcement card"}),ejQ=(0,tc.defineEvent)({name:"Product Announcement Viewed",version:1,description:"User viewed the product announcement"}),ej1=(0,tc.defineEvent)({name:"Product Announcement Link Clicked",version:1,description:"User clicked the link in the product announcement "}),ej2=(0,tc.defineEvent)({name:"Product Announcement Dismissed",version:1,description:"User dismissed the product announcement modal "}),ej0=(0,tc.defineEvent)({name:"Whats New Help Menu Item Clicked",version:1,description:'User clicked the "Whats new" help menu item'});function ej5(){}function ej7(e){var t,n,r,i,a,o;let l,s,c=(0,j.c)(9),{text:u}=e,{onDialogOpen:d,studioAnnouncements:p}=function(){let e=(0,j.c)(1),t=(0,E.useContext)(D.StudioAnnouncementContext);if(!t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={studioAnnouncements:[],unseenAnnouncements:[],onDialogOpen:ej5},e[0]=t):t=e[0],t}return t}(),f=(0,tp.useTelemetry)();c[0]!==d||c[1]!==(null==(t=p[0])?void 0:t._id)||c[2]!==(null==(n=p[0])?void 0:n.name)||c[3]!==(null==(r=p[0])?void 0:r.title)||c[4]!==f?(l=()=>{var e,t,n;d("help_menu"),f.log(ej0,{source:"studio",announcement_id:null==(e=p[0])?void 0:e._id,announcement_title:null==(t=p[0])?void 0:t.title,announcement_internal_name:null==(n=p[0])?void 0:n.name,studio_version:e9.SANITY_VERSION})},c[0]=d,c[1]=null==(i=p[0])?void 0:i._id,c[2]=null==(a=p[0])?void 0:a.name,c[3]=null==(o=p[0])?void 0:o.title,c[4]=f,c[5]=l):l=c[5];let h=l;return 0===p.length?null:(c[6]!==h||c[7]!==u?(s=(0,_.jsx)(B.MenuItem,{tone:"default",text:u,onClick:h}),c[6]=h,c[7]=u,c[8]=s):s=c[8],s)}let ej3=()=>{let e,t=(0,j.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(I.Text,{size:2,children:(0,_.jsx)(R.DotIcon,{style:{color:"var(--card-badge-primary-dot-color)"}})}),t[0]=e):e=t[0],e};function ej8(){document.location.reload()}function ej4(e){var t,n,r;let i,a,o,l,s,c,u,d,p,f,h,m,g,y,v=(0,j.c)(42),{error:b,isLoading:x,value:C,latestTaggedVersion:k,currentVersion:w,onOpenStudioVersionDialog:S,newAutoUpdateVersion:E}=e,T=null==C||null==(t=C.resources)?void 0:t.sectionArray,{t:D}=IO();if(x){let e;return v[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(DU,{showText:!0}),v[0]=e):e=v[0],e}let A=!!k&&(null!=(r=null==w||null==(n=w.compareMain)?void 0:n.call(w,k))?r:0)<0;v[1]!==D?(i=D("help-resources.action.join-our-community"),v[1]=D,v[2]=i):i=v[2],v[3]!==i?(a=(0,_.jsx)(B.MenuItem,{as:"a",text:i,href:"https://www.sanity.io/exchange/community",target:"_blank"}),v[3]=i,v[4]=a):a=v[4],v[5]!==D?(o=D("help-resources.action.help-and-support"),v[5]=D,v[6]=o):o=v[6],v[7]!==o?(l=(0,_.jsx)(B.MenuItem,{as:"a",text:o,href:"https://www.sanity.io/contact/support",target:"_blank"}),v[7]=o,v[8]=l):l=v[8],v[9]!==D?(s=D("help-resources.action.contact-sales"),v[9]=D,v[10]=s):s=v[10],v[11]!==s?(c=(0,_.jsx)(B.MenuItem,{as:"a",text:s,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank"}),v[11]=s,v[12]=c):c=v[12],v[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,_.jsx)(I.MenuDivider,{}),v[13]=u):u=v[13],v[14]!==a||v[15]!==l||v[16]!==c?(d=(0,_.jsxs)(_.Fragment,{children:[a,l,c,u]}),v[14]=a,v[15]=l,v[16]=c,v[17]=d):d=v[17];let O=d;return v[18]!==b||v[19]!==O||v[20]!==C?(p=(void 0===C||b)&&(0,_.jsx)("div",{children:O}),v[18]=b,v[19]=O,v[20]=C,v[21]=p):p=v[21],v[22]!==b||v[23]!==T?(f=!b&&(null==T?void 0:T.map(ej6)),v[22]=b,v[23]=T,v[24]=f):f=v[24],v[25]!==w.version||v[26]!==D?(h=D("help-resources.studio-version",{studioVersion:w.version}),v[25]=w.version,v[26]=D,v[27]=h):h=v[27],v[28]!==S||v[29]!==h?(m=(0,_.jsx)(B.MenuItem,{onClick:S,text:h}),v[28]=S,v[29]=h,v[30]=m):m=v[30],v[31]!==A||v[32]!==(null==k?void 0:k.version)||v[33]!==E||v[34]!==S||v[35]!==D?(g=E?(0,_.jsx)(B.MenuItem,{tone:"primary",onClick:ej8,"data-testid":"menu-item-update-studio-now",text:D("help-resources.studio-auto-update-now",{newVersion:E.version}),iconRight:ej3}):A?(0,_.jsx)(B.MenuItem,{tone:"primary",onClick:S,text:D("help-resources.latest-sanity-version",{latestVersion:null==k?void 0:k.version}),iconRight:ej3}):null,v[31]=A,v[32]=null==k?void 0:k.version,v[33]=E,v[34]=S,v[35]=D,v[36]=g):g=v[36],v[37]!==f||v[38]!==m||v[39]!==g||v[40]!==p?(y=(0,_.jsxs)(_.Fragment,{children:[p,f,m,g]}),v[37]=f,v[38]=m,v[39]=g,v[40]=p,v[41]=y):y=v[41],y}function ej6(e){return e?(0,_.jsx)(ej9,{subSection:e},e._key):null}function ej9(e){var t;let n,r,i,a=(0,j.c)(5),{subSection:o}=e;return a[0]!==(null==o?void 0:o.items)?(n=null==o||null==(t=o.items)?void 0:t.map(eSe),a[0]=null==o?void 0:o.items,a[1]=n):n=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.jsx)(I.MenuDivider,{}),a[2]=r):r=a[2],a[3]!==n?(i=(0,_.jsxs)(_.Fragment,{children:[n,r]}),a[3]=n,a[4]=i):i=a[4],i}function eSe(e){if(!e||!e.title)return null;switch(e._type){case"externalLink":return e.url?(0,_.jsx)(B.MenuItem,{as:"a",tone:"default",text:e.title,href:e.url,target:"_blank"},e._key):null;case"internalAction":return e.type?"studio-announcements-modal"===e.type?(0,_.jsx)(ej7,{text:e.title},e._key):"show-welcome-modal"===e.type&&(0,_.jsx)(B.MenuItem,{text:e.title},e._key):null;default:return null}}let eSt=(0,F.styled)(I.Card).attrs({overflow:"hidden",radius:4})(TS(),75,75);function eSn(){window.location.reload()}function eSr(e){return e.prerelease.length>0}let eSi=/^[0-9a-fA-F]+$/i;function eSa(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k=(0,j.c)(60),{t:w}=IO(),{onClose:S}=e,T=(0,E.useId)(),{projectId:D}=FU(),{isAutoUpdating:A,autoUpdatingVersion:O,currentVersion:P,latestTaggedVersion:M,versionCheckStatus:F,checkForUpdates:N}=ej$(),L=M&&P&&P.compareMain(M)>=0;k[0]!==P?(t=P&&eSr(P),k[0]=P,k[1]=t):t=k[1];let z=t;k[2]!==O||k[3]!==P?(n=!!P&&!!O&&bb.default.neq(P,O),k[2]=O,k[3]=P,k[4]=n):n=k[4];let V=n;k[5]!==N?(r=()=>{N();let e=setInterval(N,1e4);return()=>clearInterval(e)},i=[N],k[5]=N,k[6]=r,k[7]=i):(r=k[6],i=k[7]),(0,E.useEffect)(r,i),k[8]!==P?(a=function(e){let t=e.prerelease;return 0===t.length?"https://github.com/sanity-io/sanity/releases/tag/v".concat(e.version):"pr"===t[0]&&"number"==typeof t[1]?"https://github.com/sanity-io/sanity/pull/".concat(t[1]):"next"===t[0]&&1===e.build.length&&eSi.test(e.build[0])?"https://github.com/sanity-io/sanity/tree/".concat(e.build[0]):void 0}(P),k[8]=P,k[9]=a):a=k[9];let U=a,H=ej_();k[10]!==(null==F?void 0:F.checking)?(o=(null==F?void 0:F.checking)?(0,_.jsx)(I.Flex,{margin:2,padding:2,style:{position:"absolute",right:0},children:(0,_.jsx)(I.Spinner,{size:0})}):null,k[10]=null==F?void 0:F.checking,k[11]=o):o=k[11],k[12]===Symbol.for("react.memo_cache_sentinel")?(l=(0,_.jsx)(I.Flex,{align:"center",justify:"center",paddingY:4,children:(0,_.jsx)(eSt,{children:(0,_.jsx)(bv,{height:75,width:75})})}),k[12]=l):l=k[12],k[13]===Symbol.for("react.memo_cache_sentinel")?(s=(0,_.jsx)(I.Flex,{justify:"flex-end",align:"center",children:(0,_.jsx)(I.Text,{as:"h2",size:1,weight:"semibold",children:"Sanity Studio"})}),k[13]=s):s=k[13],k[14]!==z||k[15]!==w?(c=w(z?"about-dialog.version-info.tooltip.prerelease":"about-dialog.version-info.tooltip.up-to-date"),k[14]=z,k[15]=w,k[16]=c):c=k[16];let q=z?"suggest":"neutral";return k[17]!==P?(u=P?eSo(P.version):"unknown",k[17]=P,k[18]=u):u=k[18],k[19]!==u||k[20]!==q?(d=(0,_.jsx)(I.Badge,{tone:q,overflow:"hidden",children:u}),k[19]=u,k[20]=q,k[21]=d):d=k[21],k[22]!==d||k[23]!==c?(p=(0,_.jsx)(B.Tooltip,{content:c,children:d}),k[22]=d,k[23]=c,k[24]=p):p=k[24],k[25]!==U||k[26]!==w?(f=U&&(0,_.jsx)(B.Button,{as:"a",target:"_blank",rel:"noopener noreferrer",icon:R.GithubIcon,mode:"bleed",tooltipProps:{content:w("about-dialog.version-info.view-on-github")},href:U}),k[25]=U,k[26]=w,k[27]=f):f=k[27],k[28]!==p||k[29]!==f?(h=(0,_.jsxs)(I.Flex,{justify:"flex-start",align:"center",gap:2,children:[p,f]}),k[28]=p,k[29]=f,k[30]=h):h=k[30],k[31]!==O||k[32]!==z||k[33]!==A||k[34]!==L||k[35]!==M||k[36]!==V||k[37]!==w?(m=A&&V?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Flex,{justify:"flex-end",align:"center",children:(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:w("about-dialog.version-info.new-version.text")})}),(0,_.jsxs)(I.Flex,{justify:"flex-start",align:"center",gap:2,children:[(0,_.jsx)(I.Badge,{tone:"primary",children:O&&eSo(null==O?void 0:O.version)}),(0,_.jsx)(B.Button,{onClick:eSn,mode:"bleed",tone:"primary",text:O&&eSr(O)?void 0:w("about-dialog.version-info.update-button.text"),tooltipProps:{content:(0,_.jsx)(I.Text,{size:1,children:w("about-dialog.version-info.reload-to-update")})},icon:R.RefreshIcon})]})]}):!L||z?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.Flex,{justify:"flex-end",align:"center",children:(0,_.jsx)(I.Text,{size:1,weight:"semibold",children:w("about-dialog.version-info.latest-version.header")})}),(0,_.jsxs)(I.Flex,{justify:"flex-start",align:"center",gap:2,children:[(0,_.jsx)(I.Badge,{tone:"primary",children:M?eSo(M.version):"unknown"}),z?null:(0,_.jsx)(B.Button,{as:"a",href:"https://www.sanity.io/docs/upgrade",target:"_blank",rel:"noopener noreferrer",mode:"bleed",tooltipProps:{content:w("about-dialog.version-info.update-button.tooltip")},text:w("about-dialog.version-info.update-button.text"),iconRight:R.LaunchIcon})]})]}):null,k[31]=O,k[32]=z,k[33]=A,k[34]=L,k[35]=M,k[36]=V,k[37]=w,k[38]=m):m=k[38],k[39]!==h||k[40]!==m?(g=(0,_.jsxs)(I.Grid,{columns:2,gap:2,children:[s,h,m]}),k[39]=h,k[40]=m,k[41]=g):g=k[41],k[42]!==A||k[43]!==D||k[44]!==H||k[45]!==w?(y=A?(0,_.jsx)(I.Card,{tone:"transparent",padding:2,radius:3,marginX:2,children:(0,_.jsxs)(I.Flex,{align:"center",justify:"space-evenly",gap:2,children:[(0,_.jsx)(I.Text,{size:1,muted:!0,children:w("about-dialog.version-info.auto-updates.enabled")}),(0,_.jsx)(B.Button,{as:"a",href:"".concat(H,"/manage/project/").concat(D,"/studios?host=").concat(document.location.hostname),target:"_blank",rel:"noopener noreferrer",mode:"ghost",text:w("about-dialog.version-info.auto-updates.manage-version"),icon:R.CogIcon})]})}):(0,_.jsx)(I.Card,{tone:"transparent",padding:2,radius:3,marginX:2,children:(0,_.jsxs)(I.Flex,{align:"center",justify:"space-evenly",gap:2,children:[(0,_.jsx)(I.Text,{size:1,muted:!0,children:w("about-dialog.version-info.auto-updates.disabled")}),(0,_.jsx)(B.Button,{as:"a",href:"https://www.sanity.io/docs/auto-updating-studios",target:"_blank",rel:"noopener noreferrer",mode:"ghost",text:w("about-dialog.version-info.auto-updates.how-to-enable"),iconRight:R.LaunchIcon})]})}),k[42]=A,k[43]=D,k[44]=H,k[45]=w,k[46]=y):y=k[46],k[47]!==y?(v=(0,_.jsx)(I.Stack,{space:2,paddingY:3,children:y}),k[47]=y,k[48]=v):v=k[48],k[49]!==S?(b=(0,_.jsx)(I.Stack,{paddingX:3,children:(0,_.jsx)(B.Button,{tone:"primary",text:"OK",paddingY:3,onClick:S})}),k[49]=S,k[50]=b):b=k[50],k[51]!==g||k[52]!==v||k[53]!==b?(x=(0,_.jsxs)(I.Stack,{space:3,paddingY:3,children:[l,g,v,b]}),k[51]=g,k[52]=v,k[53]=b,k[54]=x):x=k[54],k[55]!==T||k[56]!==S||k[57]!==x||k[58]!==o?(C=(0,_.jsxs)(B.Dialog,{width:0,onClickOutside:S,id:T,padding:!1,children:[o,x]}),k[55]=T,k[56]=S,k[57]=x,k[58]=o,k[59]=C):C=k[59],C}function eSo(e){return e.startsWith("v")?e:"v".concat(e)}let eSl=(0,F.styled)(I.Menu)(TE());function eSs(){let e,t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(37),{t:g}=IO(),{value:y,error:v,isLoading:b}=function(){let e,t,n=(0,j.c)(4);n[0]===Symbol.for("react.memo_cache_sentinel")?(e={apiVersion:"1"},n[0]=e):e=n[0];let r=eTt(e),i=IF().id;return n[1]!==r||n[2]!==i?(t=r.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(e9.SANITY_VERSION)],locale:i},tag:"module.version-check",json:!0}),n[1]=r,n[2]=i,n[3]=t):t=n[3],Ij(t)}(),{autoUpdatingVersion:x,currentVersion:C,latestTaggedVersion:k}=ej$();if(m[0]!==x||m[1]!==C||m[2]!==k){let i;t=bb.default.parse(C),e=bb.default.parse(x)||void 0,m[7]!==k?(i=bb.default.parse(k)||void 0,m[7]=k,m[8]=i):i=m[8],n=i,r=!!t&&!!e&&bb.default.neq(t,e),m[0]=x,m[1]=C,m[2]=k,m[3]=e,m[4]=t,m[5]=n,m[6]=r}else e=m[3],t=m[4],n=m[5],r=m[6];let w=r,[S,T]=(0,E.useState)(!1);m[9]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{T(!1)},m[9]=i):i=m[9];let D=i;m[10]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{T(!0)},m[10]=a):a=m[10];let I=a;m[11]!==S?(o=S&&(0,_.jsx)(eSa,{onClose:D}),m[11]=S,m[12]=o):o=m[12];let A=w?"primary":void 0;m[13]!==g?(l=g("help-resources.title"),m[13]=g,m[14]=l):l=m[14],m[15]!==g?(s=g("help-resources.title"),m[15]=g,m[16]=s):s=m[16],m[17]!==s?(c={content:s},m[17]=s,m[18]=c):c=m[18],m[19]!==A||m[20]!==l||m[21]!==c?(u=(0,_.jsx)(eDs,{tone:A,"aria-label":l,icon:R.HelpCircleIcon,"data-testid":"button-resources-menu",mode:"bleed",tooltipProps:c}),m[19]=A,m[20]=l,m[21]=c,m[22]=u):u=m[22];let O=w?e:void 0;return m[23]!==t||m[24]!==v||m[25]!==b||m[26]!==n||m[27]!==O||m[28]!==y?(d=(0,_.jsx)(eSl,{"data-testid":"menu-button-resources",children:(0,_.jsx)(ej4,{currentVersion:t,latestTaggedVersion:n,newAutoUpdateVersion:O,error:v,isLoading:b,value:y,onOpenStudioVersionDialog:I})}),m[23]=t,m[24]=v,m[25]=b,m[26]=n,m[27]=O,m[28]=y,m[29]=d):d=m[29],m[30]===Symbol.for("react.memo_cache_sentinel")?(p={constrainSize:!0,tone:"default"},m[30]=p):p=m[30],m[31]!==d||m[32]!==u?(f=(0,_.jsx)(B.MenuButton,{button:u,id:"menu-button-resources",menu:d,popover:p}),m[31]=d,m[32]=u,m[33]=f):f=m[33],m[34]!==f||m[35]!==o?(h=(0,_.jsxs)(_.Fragment,{children:[o,f]}),m[34]=f,m[35]=o,m[36]=h):h=m[36],h}function eSc(){return(0,j.c)(10),IR(),null}function eSu(e){let t,n,r,i=(0,j.c)(5),{setScheme:a}=e,{t:o}=IO(),l=ewc(a,o);return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.MenuDivider,{}),i[0]=t):t=i[0],i[1]!==l?(n=l.map(eSd),i[1]=l,i[2]=n):n=i[2],i[3]!==n?(r=(0,_.jsxs)(_.Fragment,{children:[t,n]}),i[3]=n,i[4]=r):r=i[4],r}function eSd(e){let{icon:t,label:n,name:r,onSelect:i,selected:a,title:o}=e;return(0,_.jsx)(B.MenuItem,{"aria-label":n,icon:t,onClick:i,pressed:a,text:o,iconRight:a&&(0,_.jsx)(R.CheckmarkIcon,{}),"data-testid":"color-scheme-".concat(r)},r)}let eSp=F.styled.div(TT()),eSf=(0,_.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsxs)("g",{clipPath:"url(#clip0)",children:[(0,_.jsx)("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),(0,_.jsx)("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),(0,_.jsx)("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),(0,_.jsx)("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",{id:"clip0",children:(0,_.jsx)("rect",{width:"12",height:"12",fill:"white"})})})]}),eSh=(0,_.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("g",{clipPath:"url(#clip0)",children:(0,_.jsx)("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",{id:"clip0",children:(0,_.jsx)("rect",{width:"12",height:"12",fill:"white"})})})]}),eSm=(0,_.jsxs)("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),(0,_.jsx)("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),(0,_.jsx)("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),eSg=e=>{let t,n,r,i=(0,j.c)(10),{provider:a}=e;i[0]!==a?(t=null==a?void 0:a.startsWith("saml-"),i[0]=a,i[1]=t):t=i[1];let o=t,l=o?"saml":a,s="google"===a&&eSf,c="github"===a&&eSh;i[2]!==a?(n="sanity"===a&&(0,_.jsx)(bv,{}),i[2]=a,i[3]=n):n=i[3];let u=o&&eSm;return i[4]!==l||i[5]!==s||i[6]!==c||i[7]!==n||i[8]!==u?(r=(0,_.jsxs)(eSp,{"data-logo":l,children:[s,c,n,u]}),i[4]=l,i[5]=s,i[6]=c,i[7]=n,i[8]=u,i[9]=r):r=i[9],r};function eSy(){let e,t,n,r,i,a,o,l=(0,j.c)(19),{currentUser:s,projectId:c}=FU();l[0]!==s?(e=s&&IS(s,"administrator"),l[0]=s,l[1]=e):e=l[1];let u=!!e,{t:d}=IO(),p=ej_();l[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.MenuDivider,{}),l[2]=t):t=l[2],l[3]!==d?(n=d("user-menu.action.manage-project-aria-label"),l[3]=d,l[4]=n):n=l[4];let f="".concat(p,"/manage/project/").concat(c);return l[5]!==d?(r=d("user-menu.action.manage-project"),l[5]=d,l[6]=r):r=l[6],l[7]!==n||l[8]!==f||l[9]!==r?(i=(0,_.jsx)(B.MenuItem,{as:"a","aria-label":n,href:f,target:"_blank",text:r,icon:R.CogIcon}),l[7]=n,l[8]=f,l[9]=r,l[10]=i):i=l[10],l[11]!==p||l[12]!==u||l[13]!==c||l[14]!==d?(a=u&&(0,_.jsx)(B.MenuItem,{as:"a","aria-label":d("user-menu.action.invite-members-aria-label"),href:"".concat(p,"/manage/project/").concat(c,"/members?invite=true"),target:"_blank",text:d("user-menu.action.invite-members"),icon:R.AddUserIcon}),l[11]=p,l[12]=u,l[13]=c,l[14]=d,l[15]=a):a=l[15],l[16]!==i||l[17]!==a?(o=(0,_.jsxs)(_.Fragment,{children:[t,i,a]}),l[16]=i,l[17]=a,l[18]=o):o=l[18],o}let eSv=(0,F.styled)(I.Menu)(TD()),eSb=(0,F.styled)(I.Box)(TI(),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[2].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[2].size});function eSx(){let e,t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y=(0,j.c)(44),{currentUser:v,auth:b}=FU(),x=ews(),C=ewo(),k=AX(null==v?void 0:v.provider),{t:w}=IO();y[0]!==x?(e={placement:"bottom",portal:!0,preventOverflow:!0,scheme:x,constrainSize:!0,tone:"default"},y[0]=x,y[1]=e):e=y[1];let S=e,E=B.MenuButton;y[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(I.Button,{mode:"bleed",padding:0,radius:"full",children:(0,_.jsx)(Ri,{size:1,user:"me"})}),y[2]=t):t=y[2];let T=I.Card,D=I.Flex,A=B.Tooltip,O=!k,P=w("user-menu.login-provider",{providerTitle:k});y[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(Ri,{size:2,user:"me"}),y[3]=n):n=y[3],y[4]!==v?(r=(null==v?void 0:v.provider)&&(0,_.jsx)(eSg,{provider:v.provider}),y[4]=v,y[5]=r):r=y[5],y[6]!==r?(i=(0,_.jsxs)(eSb,{marginRight:3,children:[n,r]}),y[6]=r,y[7]=i):i=y[7],y[8]!==A||y[9]!==i||y[10]!==O||y[11]!==P?(a=(0,_.jsx)(A,{disabled:O,portal:!0,content:P,children:i}),y[8]=A,y[9]=i,y[10]=O,y[11]=P,y[12]=a):a=y[12];let M=null==v?void 0:v.name;y[13]!==M?(o=(0,_.jsx)(I.Text,{size:1,weight:"medium",textOverflow:"ellipsis",children:M}),y[13]=M,y[14]=o):o=y[14];let F=null==v?void 0:v.email;return y[15]!==F?(l=(0,_.jsx)(I.Text,{size:1,muted:!0,textOverflow:"ellipsis",children:F}),y[15]=F,y[16]=l):l=y[16],y[17]!==o||y[18]!==l?(s=(0,_.jsxs)(I.Stack,{space:2,flex:1,children:[o,l]}),y[17]=o,y[18]=l,y[19]=s):s=y[19],y[20]!==D||y[21]!==a||y[22]!==s?(c=(0,_.jsxs)(D,{align:"center",children:[a,s]}),y[20]=D,y[21]=a,y[22]=s,y[23]=c):c=y[23],y[24]!==T||y[25]!==c?(u=(0,_.jsx)(T,{padding:2,children:c}),y[24]=T,y[25]=c,y[26]=u):u=y[26],y[27]!==C?(d=C&&(0,_.jsx)(eSu,{setScheme:C}),y[27]=C,y[28]=d):d=y[28],y[29]===Symbol.for("react.memo_cache_sentinel")?(p=(0,_.jsx)(eSc,{}),f=(0,_.jsx)(eSy,{}),y[29]=p,y[30]=f):(p=y[29],f=y[30]),y[31]!==b.logout||y[32]!==w?(h=b.logout&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I.MenuDivider,{}),(0,_.jsx)(B.MenuItem,{iconRight:R.LeaveIcon,text:w("user-menu.action.sign-out"),disabled:!b.logout,...b.logout&&{onClick:b.logout}})]}),y[31]=b.logout,y[32]=w,y[33]=h):h=y[33],y[34]!==eSv||y[35]!==u||y[36]!==d||y[37]!==h?(m=(0,_.jsxs)(eSv,{"data-testid":"user-menu",children:[u,d,p,f,h]}),y[34]=eSv,y[35]=u,y[36]=d,y[37]=h,y[38]=m):m=y[38],y[39]!==E||y[40]!==S||y[41]!==t||y[42]!==m?(g=(0,_.jsx)(E,{button:t,id:"user-menu",menu:m,popover:S}),y[39]=E,y[40]=S,y[41]=t,y[42]=m,y[43]=g):g=y[43],g}let eSC=[],eSk=(0,F.styled)(I.Layer)(TA()),eSw=(0,F.styled)(I.Card)(TO()),eS_=(0,F.styled)(I.Grid)(TP(),e=>{let{theme:t}=e;return"".concat(t.sanity.media[4],"px")});function eSj(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,C,k,w,S,T,A,O,P,M,F,N,L,z,V,U,H,q,W=(0,j.c)(113),{__internal_actions:Y}=e,K=void 0===Y?eSC:Y,{name:G,tools:$}=FU(),Z=(0,nr.useRouterState)(),X=(0,I.useMediaIndex)(),J="string"==typeof Z.tool?Z.tool:void 0,Q=function(){let e,t,n,r,i=(0,j.c)(14),{__internal:a}=eii(),{staticInitialValueTemplateItems:o}=a;i[0]!==o?(e={templateItems:o},i[0]=o,i[1]=e):e=i[1];let[l,s]=MI(e);i[2]!==l||i[3]!==o?(t=(null==l?void 0:l.some(e=>o.some(t=>t.id===e.id)))||!1,i[2]=l,i[3]=o,i[4]=t):t=i[4];let c=t;if(i[5]!==l||i[6]!==o){let e;i[8]!==l?(e=e=>{var t;return{...e,title:(null==e?void 0:e.title)||e.id,hasPermission:(null==l||null==(t=l.find(t=>t.id===e.id))?void 0:t.granted)||!1}},i[8]=l,i[9]=e):e=i[9],n=o.map(e),i[5]=l,i[6]=o,i[7]=n}else n=i[7];let u=n;return i[10]!==c||i[11]!==s||i[12]!==u?(r={canCreateDocument:c,loading:s,options:u},i[10]=c,i[11]=s,i[12]=u,i[13]=r):r=i[13],r}(),{t:ee}=IO(),{onSearchFullscreenOpenChange:et,onSearchOpenChange:en,searchFullscreenOpen:er,searchFullscreenPortalEl:ei,searchOpen:ea}=(0,E.useContext)(D.NavbarContext),{selectedPerspective:eo,perspectiveStack:el}=Ar(),es=e_7(),[ec,eu]=(0,E.useState)(!1),ed=(0,E.useRef)(Z),ep=(0,E.useRef)(G);W[0]!==G||W[1]!==Z?(t=()=>{(ed.current.tool!==Z.tool||G!==ep.current)&&eu(!1),ed.current=Z,ep.current=G},n=[G,Z],W[0]=G,W[1]=Z,W[2]=t,W[3]=n):(t=W[2],n=W[3]),(0,E.useEffect)(t,n);let[ef,eh]=(0,E.useState)(null),[em,eg]=(0,E.useState)(null),ey=X>1,ev=X<=1,eb=X>1,ex=X<=1,eC=X>1&&IX,ek=X<=1,ew=X>=3;W[4]!==ey||W[5]!==ev||W[6]!==eb||W[7]!==ex||W[8]!==eC||W[9]!==ek||W[10]!==ew?(r={resources:ey,collapsedPresenceMenu:ev,loginStatus:eb,searchFullscreen:ex,configIssues:eC,newDocumentFullscreen:ek,tools:ew},W[4]=ey,W[5]=ev,W[6]=eb,W[7]=ex,W[8]=eC,W[9]=ek,W[10]=ew,W[11]=r):r=W[11];let e_=r;W[12]!==et||W[13]!==er?(i=()=>{et(er)},a=[er,et],W[12]=et,W[13]=er,W[14]=i,W[15]=a):(i=W[14],a=W[15]),(0,E.useEffect)(i,a),W[16]!==et||W[17]!==en||W[18]!==e_.searchFullscreen?(o=()=>{e_.searchFullscreen?en(!1):et(!1)},l=[et,en,e_.searchFullscreen],W[16]=et,W[17]=en,W[18]=e_.searchFullscreen,W[19]=o,W[20]=l):(o=W[19],l=W[20]),(0,E.useEffect)(o,l),W[21]!==en?(s=()=>{en(!0)},W[21]=en,W[22]=s):s=W[22];let ej=s;W[23]!==et?(c=()=>{et(!0)},W[23]=et,W[24]=c):c=W[24];let eS=c;W[25]!==en?(u=()=>{en(!1)},W[25]=en,W[26]=u):u=W[26];let eE=u;W[27]!==et||W[28]!==em?(d=()=>{et(!1),null==em||em.focus()},W[27]=et,W[28]=em,W[29]=d):d=W[29];let eT=d;W[30]!==ef?(p=()=>{eu(!1),null==ef||ef.focus()},W[30]=ef,W[31]=p):p=W[31];let eD=p;W[32]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{eu(!0)},W[32]=f):f=W[32];let eI=f;e:{var eA;let e;if(!e_.tools){h=null;break e}W[33]!==K?(e=null==K||null==(eA=K.filter(eSE))?void 0:eA.map(eSS),W[33]=K,W[34]=e):e=W[34],h=e}let eO=h;W[35]!==eo?(m=RD(eo),W[35]=eo,W[36]=m):m=W[36],W[37]!==e_.tools||W[38]!==ee?(g=!e_.tools&&(0,_.jsx)(B.Button,{mode:"bleed",icon:R.MenuIcon,onClick:eI,ref:eh,tooltipProps:{content:ee("user-menu.open-menu"),placement:"bottom"}}),W[37]=e_.tools,W[38]=ee,W[39]=g):g=W[39],W[40]===Symbol.for("react.memo_cache_sentinel")?(y=(0,_.jsxs)(I.Flex,{gap:1,children:[(0,_.jsx)(ejx,{}),(0,_.jsx)(e_g,{})]}),W[40]=y):y=W[40],W[41]!==g?(v=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[g,y]}),W[41]=g,W[42]=v):v=W[42];let eP=e_.newDocumentFullscreen?"dialog":"popover";return W[43]!==Q||W[44]!==eP?(b=(0,_.jsx)(ejH,{...Q,modal:eP}),W[43]=Q,W[44]=eP,W[45]=b):b=W[45],W[46]!==ej||W[47]!==e_.searchFullscreen?(x=!e_.searchFullscreen&&(0,_.jsx)(ewu,{onClick:ej,ref:eg}),W[46]=ej,W[47]=e_.searchFullscreen,W[48]=x):x=W[48],W[49]!==v||W[50]!==b||W[51]!==x?(C=(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsxs)(I.Flex,{align:"center",gap:2,justify:"flex-start",children:[v,b,x]})}),W[49]=v,W[50]=b,W[51]=x,W[52]=C):C=W[52],W[53]!==es||W[54]!==J||W[55]!==eD||W[56]!==e_.tools||W[57]!==$?(k=e_.tools&&(0,_.jsx)(es,{activeToolName:J,closeSidebar:eD,context:"topbar",isSidebarOpen:!1,tools:$}),W[53]=es,W[54]=J,W[55]=eD,W[56]=e_.tools,W[57]=$,W[58]=k):k=W[58],W[59]!==k?(w=(0,_.jsx)(I.Flex,{align:"center",justify:"center",children:k}),W[59]=k,W[60]=w):w=W[60],W[61]!==eE||W[62]!==eT||W[63]!==ej||W[64]!==eS||W[65]!==el||W[66]!==er||W[67]!==ei||W[68]!==ea||W[69]!==e_.searchFullscreen?(S=(0,_.jsx)(I.BoundaryElementProvider,{element:document.body,children:e_.searchFullscreen?(0,_.jsx)(I.PortalProvider,{element:ei,children:(0,_.jsx)(ewf,{onClose:eT,onOpen:eS,open:er})}):(0,_.jsx)(elz,{onClose:eE,onOpen:ej,open:ea,previewPerspective:el})}),W[61]=eE,W[62]=eT,W[63]=ej,W[64]=eS,W[65]=el,W[66]=er,W[67]=ei,W[68]=ea,W[69]=e_.searchFullscreen,W[70]=S):S=W[70],W[71]!==e_.searchFullscreen||W[72]!==S?(T=(0,_.jsx)(I.LayerProvider,{children:(0,_.jsx)(elJ,{fullscreen:e_.searchFullscreen,children:S})}),W[71]=e_.searchFullscreen,W[72]=S,W[73]=T):T=W[73],W[74]===Symbol.for("react.memo_cache_sentinel")?(A=(0,_.jsx)(ewU,{withReleasesToolButton:!0}),W[74]=A):A=W[74],W[75]!==e_.tools?(O=e_.tools&&(0,_.jsx)(ejg,{type:"topbar"}),W[75]=e_.tools,W[76]=O):O=W[76],W[77]===Symbol.for("react.memo_cache_sentinel")?(P=(0,_.jsx)(ejG,{}),W[77]=P):P=W[77],W[78]!==e_.configIssues?(M=e_.configIssues&&(0,_.jsx)(e_3,{}),W[78]=e_.configIssues,W[79]=M):M=W[79],W[80]!==e_.resources?(F=e_.resources&&(0,_.jsx)(eSs,{}),W[80]=e_.resources,W[81]=F):F=W[81],W[82]!==eS||W[83]!==e_.searchFullscreen?(N=e_.searchFullscreen&&(0,_.jsx)(ewu,{onClick:eS,ref:eg}),W[82]=eS,W[83]=e_.searchFullscreen,W[84]=N):N=W[84],W[85]!==e_.tools?(L=e_.tools&&(0,_.jsx)(ewh,{capability:"globalUserMenu",children:(0,_.jsx)(I.Box,{flex:"none",marginLeft:1,children:(0,_.jsx)(eSx,{})})}),W[85]=e_.tools,W[86]=L):L=W[86],W[87]!==eO||W[88]!==T||W[89]!==O||W[90]!==M||W[91]!==F||W[92]!==N||W[93]!==L?(z=(0,_.jsx)(B.TooltipDelayGroupProvider,{children:(0,_.jsxs)(I.Flex,{align:"center",gap:1,justify:"flex-end",children:[T,A,eO,O,P,M,F,N,L]})}),W[87]=eO,W[88]=T,W[89]=O,W[90]=M,W[91]=F,W[92]=N,W[93]=L,W[94]=z):z=W[94],W[95]!==C||W[96]!==w||W[97]!==z?(V=(0,_.jsxs)(eS_,{gap:1,children:[C,w,z]}),W[95]=C,W[96]=w,W[97]=z,W[98]=V):V=W[98],W[99]!==m||W[100]!==V?(U=(0,_.jsx)(eSw,{tone:m,borderBottom:!0,"data-testid":"studio-navbar","data-ui":"Navbar",padding:3,sizing:"border",children:V}),W[99]=m,W[100]=V,W[101]=U):U=W[101],W[102]!==K||W[103]!==J||W[104]!==ec||W[105]!==eD||W[106]!==e_.tools||W[107]!==$?(H=!e_.tools&&(0,_.jsx)(ejO,{__internal_actions:K,activeToolName:J,isOpen:ec,onClose:eD,tools:$}),W[102]=K,W[103]=J,W[104]=ec,W[105]=eD,W[106]=e_.tools,W[107]=$,W[108]=H):H=W[108],W[109]!==er||W[110]!==U||W[111]!==H?(q=(0,_.jsx)(ejy,{children:(0,_.jsxs)(eSk,{zOffset:100,"data-search-open":er,children:[U,H]})}),W[109]=er,W[110]=U,W[111]=H,W[112]=q):q=W[112],q}function eSS(e){let{render:t}=e;return t?(0,_.jsx)(t,{},e.name):(0,_.jsx)(B.Button,{iconRight:null==e?void 0:e.icon,mode:"bleed",onClick:null==e?void 0:e.onAction,selected:e.selected,text:e.title},e.name)}function eSE(e){return"topbar"===e.location}function eST(e){return!!e}let eSD=(0,F.styled)($9)(TM()),eSI=(0,F.styled)(I.Flex)(TF()),eSA=(0,E.forwardRef)(function(e,t){let{children:n,gap:r,menuButtonProps:i,disableRestoreFocusOnClose:a,onMenuClose:o,collapsed:l,...s}=e,[c,u]=(0,E.useState)(null),[d,p]=(0,E.useState)([]),[f,h]=(0,E.useState)(!1),m=(0,E.useMemo)(()=>E.Children.toArray(n).filter(eST),[n]),g=(0,E.useMemo)(()=>l||!f?null:m.filter(e=>!d.some(t=>t.key===e.key)),[m,l,d,f]),y=(0,E.useMemo)(()=>({root:c,threshold:1,rootMargin:"1px"}),[c]),v=(0,E.useMemo)(()=>(null==i?void 0:i.button)||(0,_.jsx)(DO,{}),[i]),b=(0,E.useMemo)(()=>l?m:m.filter(e=>{let{key:t}=e;return d.find(e=>e.key===t)}),[m,d,l]),x=(0,E.useCallback)((e,t)=>{let n=d.some(e=>e.key===t.key);f||h(!0);let r=e.isIntersecting;n||r||p(e=>[...e,t]),n&&r&&p(e=>e.filter(e=>e.key!==t.key))},[d,f,h,p]);return(0,_.jsxs)(I.Flex,{direction:"column",ref:t,sizing:"border",style:{position:"relative"},...s,children:[(0,_.jsxs)(I.Flex,{justify:"center",gap:r,flex:1,children:[g,(d.length>0||l)&&(0,_.jsx)($4,{disableRestoreFocusOnClose:a,menuButton:v,menuButtonProps:i,menuOptions:b,onMenuClose:o})]}),(0,_.jsxs)(eSI,{justify:"flex-start",gap:r,ref:u,"data-hidden":!0,"aria-hidden":"true",children:[(0,E.cloneElement)(v,{disabled:!0,"aria-hidden":!0}),null==m?void 0:m.map(e=>(0,_.jsx)(eSD,{options:y,onIntersectionChange:t=>x(t[0],e),children:(0,E.cloneElement)(e,{disabled:!0,"aria-hidden":!0,tabIndex:-1})},"".concat(e.key,"_observer")))]})]})});function eSO(e){let t,n,r,i,a,o=(0,j.c)(13),{activeToolName:l,tools:s}=e,c=ews(),[u,d]=(0,E.useState)(null);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=["arrows"],o[0]=t):t=o[0],o[1]!==u?(n={rootElement:u,navigation:t},o[1]=u,o[2]=n):n=o[2],eDa(n),o[3]!==c?(r={popover:{constrainSize:!0,portal:!0,scheme:c,tone:"default"}},o[3]=c,o[4]=r):r=o[4];let p=r;if(o[5]!==l||o[6]!==s){let e;o[8]!==l?(e=(e,t)=>{let n=(null==e?void 0:e.title)||(0,ti.default)(e.name),r=(0,E.forwardRef)(function(t,n){return(0,_.jsx)(ewm,{...t,ref:n,name:e.name,children:t.children})});return(0,_.jsx)(B.Button,{as:r,"data-as":"a",mode:"bleed",selected:l===e.name,text:n},"".concat(e.name,"-").concat(t))},o[8]=l,o[9]=e):e=o[9],i=s.map(e),o[5]=l,o[6]=s,o[7]=i}else i=o[7];let f=i;return o[10]!==f||o[11]!==p?(a=(0,_.jsx)(I.Flex,{justify:"center",marginX:4,children:(0,_.jsx)(eSA,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:p,ref:d,children:f})}),o[10]=f,o[11]=p,o[12]=a):a=o[12],a}function eSP(e){let t,n,r=(0,j.c)(9),{activeToolName:i,isVisible:a,tools:o}=e;if(r[0]!==i||r[1]!==a||r[2]!==o){let e;r[4]!==i||r[5]!==a?(e=e=>{let t=(null==e?void 0:e.title)||(0,ti.default)(e.name),n=(0,E.forwardRef)(function(t,n){return(0,_.jsx)(ewm,{...t,ref:n,name:e.name,children:t.children})});return(0,_.jsx)(I.Stack,{as:"li",children:(0,_.jsx)(B.Button,{as:n,justify:"flex-start",mode:"bleed",selected:i===e.name,size:"large",tabIndex:a?0:-1,text:t})},e.name)},r[4]=i,r[5]=a,r[6]=e):e=r[6],t=o.map(e),r[0]=i,r[1]=a,r[2]=o,r[3]=t}else t=r[3];return r[7]!==t?(n=(0,_.jsx)(I.Stack,{as:"ul",space:1,children:t}),r[7]=t,r[8]=n):n=r[8],n}let eSM=["releases"];function eSF(e){let t,n,r,i,a,o,l=(0,j.c)(17);l[0]!==e?({context:t,isSidebarOpen:n,tools:i,...r}=e,l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i):(t=l[1],n=l[2],r=l[3],i=l[4]);let{enabled:s}=eyC();if(l[5]!==s||l[6]!==i){let e;l[8]!==s?(e=e=>("schedules"!==e.name||!!s)&&!eSM.includes(e.name),l[8]=s,l[9]=e):e=l[9],a=i.filter(e),l[5]=s,l[6]=i,l[7]=a}else a=l[7];let c=a;if(c.length<=1)return null;if("sidebar"===t){let e;return l[10]!==n||l[11]!==r||l[12]!==c?(e=(0,_.jsx)(eSP,{isVisible:n,tools:c,...r}),l[10]=n,l[11]=r,l[12]=c,l[13]=e):e=l[13],e}return l[14]!==r||l[15]!==c?(o=(0,_.jsx)(eSO,{tools:c,...r}),l[14]=r,l[15]=c,l[16]=o):o=l[16],o}let eSR=(0,tc.defineEvent)({name:"Field Copied",version:1,description:'User clicked the "Copy field" button in the field action menu or used the Ctrl+C shortcut'}),eSB=(0,tc.defineEvent)({name:"Field Pasted",version:1,description:'User clicked the "Paste field" button in the field action menu or used the Ctrl+V shortcut'});function eSN(e,t,n){if(!e)return;let r=e;return t.forEach((e,i)=>{let a=t.slice(0,i+1);if((0,W.isKeySegment)(e)||(0,W.isIndexSegment)(e)){let e=YF(r,Ad(n,a));if(e){r=e;return}}let o=function e(t,n){if(!n)return;let r=(0,S.fromString)(n),i=r[0];if(i&&(0,W.isObjectSchemaType)(t)){var a;let n=null==t||null==(a=t.fields)?void 0:a.find(e=>e.name===i);if(n){let t=(0,S.toString)(r.slice(1));return t?e(n.type,t):n}}}(r,(0,S.toString)(a.length>1?a.slice(-1):a));(null==o?void 0:o.type)&&(r=o.type)}),r}let eSL="web application/vnd.sanity-clipboard-item+json",eSz="text/html",eSV="text/plain",eSU="u">typeof ClipboardItem&&"supports"in ClipboardItem&&ClipboardItem.supports(eSL),eSH="sanity-clipboard-base64";async function eSq(){for(let e of(await navigator.clipboard.read())){let t=await eSY(e);if(t)return t}return null}async function eSW(e){var t;let n=function e(t){return t?Il(t)?t:Number.isFinite(t)?t.toString():Array.isArray(t)?t.map(e).filter(Boolean).join(", "):"object"==typeof t?Object.entries(t).map(t=>{let[n,r]=t;return n.startsWith("_")?"":e(r)}).filter(Boolean).join(", "):"":""}(e.value),r=(t=n,new DOMParser().parseFromString(t,"text/html").documentElement.textContent),i=function(e){let t=new TextEncoder().encode(e),n="";for(let e=0;e<t.byteLength;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(JSON.stringify(e)),a=new ClipboardItem({...eSU&&{[eSL]:new Blob([JSON.stringify(e)],{type:eSL})},[eSz]:new Blob(["<p data-".concat(eSH,'="').concat(i,'">').concat(r,"</p>")],{type:eSz}),[eSV]:new Blob([n],{type:eSV})});try{return await navigator.clipboard.write([a]),!0}catch(e){return console.error("Failed to write to clipboard: ".concat(e.message),e),!1}}async function eSY(e){if(e.types.includes(eSL))return JSON.parse(await (await e.getType(eSL)).text());if(!e.types.includes(eSz))return null;let t=await (await e.getType(eSz)).text(),n=new DOMParser().parseFromString(t,"text/html");try{let e=n.querySelector("[data-".concat(eSH,"]"));if(!e)return null;let{sanityClipboardBase64:t}=e.dataset;return t?JSON.parse(function(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return new TextDecoder().decode(n)}(t)):null}catch(e){return null}}function eSK(e){return!!(null==e||Array.isArray(e)&&0===e.length)}function eSG(e){return!!(e instanceof HTMLElement&&e.isContentEditable||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)}function eS$(e){return 0===e.length||1===e.length&&""===e[0]}async function eSZ(e,t,n,r,i){if(!n.filter)return!0;let a=await UC(n,e,r,i);if(!a.filter)return!0;try{let e=a.params||{},n="*[".concat(a.filter,"]"),r=(0,bD.parse)(n,e),i=await (await (0,bD.evaluate)(r,{params:e,dataset:[t]})).get();return!eSK(i)}catch(e){return console.error("Error evaluating GROQ filter:",e),!1}}let eSX=()=>UE(12);async function eSJ(e){let{sourceRootSchemaType:t,sourcePath:n,sourceValue:r,sourceRootPath:i=[],targetRootSchemaType:a,targetRootValue:o,targetRootPath:l,targetValue:s,targetPath:c,keyGenerator:u=eSX,targetDocumentSchemaType:d,currentUser:p,options:f={validateReferences:!0,validateAssets:!0,client:void 0}}=e,h=[];if(!t)throw Error("Source root schema type is not defined");if(!a)throw Error("Target root schema type is not defined");let m=eSN(t,n,r),g=eSN(a,c,s);if(!m)throw Error("Could not find source schema type at path");if(!g)throw Error("Could not find target schema type at path");let y=ec7(a.readOnly,{value:o,parent:null,document:o,currentUser:p}),v=ec7(g.readOnly,{value:s,parent:null,document:o,currentUser:p}),b=function(e){let{path:t,value:n,schemaType:r,currentUser:i}=e;return!!t.find((e,a)=>{let o=eSN(r,t.slice(0,a+1),n);if(!o)throw Error("Could not find target schema type at path ".concat(t.join(".")));return ec7(o.readOnly,{value:n,parent:null,document:n,currentUser:i})})}({path:l,value:o,schemaType:d,currentUser:p});if(y||v||b)return{targetValue:void 0,errors:[{level:"error",sourceValue:r,i18n:{key:"copy-paste.on-paste.validation.read-only-target.description"}}]};if((0,W.isFileSchemaType)(m)&&(0,W.isImageSchemaType)(g)||(0,W.isImageSchemaType)(m)&&(0,W.isFileSchemaType)(g))return{targetValue:void 0,errors:[{level:"error",sourceValue:r,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:t.name,targetSchemaType:a.name}}}]};let x=m.jsonType,C=g.jsonType,k=(0,tf.default)(i),w="u">typeof k&&(0,W.isIndexSegment)(k),_=0===n.length&&"array"===x&&!Array.isArray(r)&&w,j=(["number","string","boolean"].includes(x)||_)&&(0,W.isArrayOfPrimitivesSchemaType)(g),S="object"===x&&(0,W.isArrayOfObjectsSchemaType)(g);if(!(x===C||function e(t,n){return Io(t)&&Io(n)&&("number"===t.jsonType&&"string"===n.jsonType||e(t.type,n.type))}(m,g)||function e(t,n){return Io(t)&&Io(n)&&("number"===t.jsonType&&(0,W.isArrayOfPrimitivesSchemaType)(n)&&n.of.map(e=>e.jsonType).includes("string")||e(t.type,n.type))}(m,g)||j||S))return{targetValue:void 0,errors:[{level:"error",sourceValue:r,i18n:{key:"copy-paste.on-paste.validation.schema-type-incompatible.description"}}]};let E=Ad(r,n);if("object"===m.jsonType&&"object"===g.jsonType)return eSQ({sourceValue:E,targetSchemaType:g,targetRootValue:o,targetRootPath:l,targetPath:[],errors:h,keyGenerator:u,options:f});if("array"===m.jsonType&&"array"===g.jsonType)return eS1({sourceValue:_&&!Array.isArray(E)?[E]:E,targetSchemaType:g,targetRootValue:o,targetRootPath:l,errors:h,options:f,keyGenerator:u});if(j||S){let e;e=S&&(0,W.isTypedObject)(E)&&"object"===E._type||!(0,W.isTypedObject)(E)?function(e){if(0===e.length)return"object";let t=e[e.length-1];return(0,W.isKeySegment)(t)||(0,W.isIndexSegment)(t)||(0,W.isIndexTuple)(t)?"object":t}(i):(0,W.isTypedObject)(E)?E._type:"object";let t=S&&!Array.isArray(E)?[{...E,_type:e,_key:u()}]:[E];return eS1({sourceValue:Array.isArray(E)?E:t,targetSchemaType:g,targetRootValue:o,targetRootPath:l,errors:h,options:f,keyGenerator:u})}return eS2({sourceValue:E,targetSchemaType:g,errors:h})}async function eSQ(e){var t,n,r,i;let{sourceValue:a,targetSchemaType:o,targetPath:l,targetRootValue:s,targetRootPath:c,errors:u,keyGenerator:d,options:p}=e;if(eSK(a))return{targetValue:void 0,errors:u};let f={_type:o.name,...a&&"object"==typeof a&&"_key"in a?{_key:d()}:{}},h=(0,tg.isAssetObjectStub)(a)&&(0,W.isReference)(a.asset)?a.asset._ref:void 0,m=(0,W.isTypedObject)(a)?a._type:void 0,g=h&&(0,tg.isImageAssetId)(h),y=h&&(0,tg.isFileAssetId)(h),v=("image"===m||g)&&!(0,W.isImageSchemaType)(o),b=("file"===m||y)&&!(0,W.isFileSchemaType)(o);if((0,W.isTypedObject)(a)&&(v||b))return u.push({level:"error",sourceValue:a,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:m,targetSchemaType:o.name}}}),{targetValue:void 0,errors:u};if((null==p?void 0:p.validateAssets)&&p.client&&((0,W.isImageSchemaType)(o)||(0,W.isFileSchemaType)(o))&&(null==(t=o.options)?void 0:t.accept)&&(0,tg.isAssetObjectStub)(a)&&(0,W.isReference)(a.asset)){let e=null==(n=a.asset)?void 0:n._ref;if(!e)return{targetValue:void 0,errors:u};try{let t=(0,W.isImageSchemaType)(o)?"sanity.imageAsset":"sanity.fileAsset",n=await p.client.fetch("*[_type == $type &&_id == $ref][0]{mimeType, originalFilename}",{ref:e,type:t});if(!n)return{targetValue:void 0,errors:u};let r={type:n.mimeType,name:n.originalFilename},i=n.mimeType;if(!UX(r,o.options.accept))return u.push({level:"error",sourceValue:a,i18n:{key:"copy-paste.on-paste.validation.mime-type-incompatible.description",args:{mimeType:i}}}),{targetValue:void 0,errors:u}}catch(e){return console.error("Error fetching asset document:",e),u.push({level:"error",sourceValue:a,i18n:{key:"copy-paste.on-paste.validation.mime-type-validation-failed.description"}}),{targetValue:void 0,errors:u}}}if((0,W.isReferenceSchemaType)(o)){let e=o.to.map(e=>e.name);if((null==p?void 0:p.validateReferences)&&p.client&&(0,W.isReference)(a))try{let t=(null==(r=o.options)?void 0:r.filter)?"*[_id in $ids]|order(_updatedAt)[0]":"*[_id in $ids]|order(_updatedAt)[0]{_id, _type}",{publishedId:n,draftId:l}=D0(a._ref),d=await p.client.fetch(t,{ids:[n,l]});if(!d&&!o.weak)return u.push({level:"error",sourceValue:a,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description",args:{ref:a._ref}}}),{targetValue:void 0,errors:u};if(d&&!e.includes(d._type))return u.push({level:"error",sourceValue:a,i18n:{key:"copy-paste.on-paste.validation.reference-type-incompatible.description",args:{sourceReferenceType:d._type,targetReferenceTypes:e.join(", ")}}}),{targetValue:void 0,errors:u};if(p.client&&(null==(i=o.options)?void 0:i.filter)&&!await eSZ(s||{},d,o.options,c,e=>p.client.withConfig(e)))return u.push({level:"error",sourceValue:a,i18n:{key:"copy-paste.on-paste.validation.reference-filter-incompatible.description"}}),{targetValue:void 0,errors:u}}catch(e){return console.error("Error fetching reference document:",e),u.push({level:"error",sourceValue:f,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description",args:{ref:a._ref}}}),{targetValue:void 0,errors:u}}}let x={},C=(0,W.isBlockSchemaType)(o)&&(0,W.isPortableTextTextBlock)(a)&&!eSK(a.markDefs);if(C){let e=a.markDefs||[];e.filter(e=>e._key).forEach(e=>{x[e._key]=d()}),f.markDefs=e.map(e=>({...e,_key:x[e._key]}))}for(let e of o.fields){let t=e.type,n=(0,W.isArraySchemaType)(t),r=(0,W.isObjectSchemaType)(t);if((0,W.isPrimitiveSchemaType)(t)){let n=eS2({sourceValue:a?a[e.name]:void 0,targetSchemaType:t,errors:u});eSK(n.targetValue)||(f[e.name]=n.targetValue)}else if(r){let n=await eSQ({sourceValue:Ad(a,l.concat(e.name)),targetPath:[],targetSchemaType:t,targetRootValue:s,targetRootPath:c,errors:u,options:p,keyGenerator:d});eSK(n.targetValue)||(f[e.name]=eS0(n.targetValue))}else if(n){let n=a?a[e.name]:void 0,r=await eS1({sourceValue:n,targetSchemaType:t,targetRootValue:s,targetRootPath:c,errors:u,options:p,keyGenerator:d});if(C&&"markDefs"===e.name&&!eSK(f.markDefs))continue;eSK(r.targetValue)||(f[e.name]=r.targetValue)}}let k=eS0(Ad(f,l));return Object.keys(x).length>0&&(0,W.isPortableTextTextBlock)(k)&&(k.children=k.children.map(e=>(0,W.isPortableTextSpan)(e)&&e.marks?{...e,marks:e.marks.map(e=>x[e]||e)}:e)),(0,W.isReferenceSchemaType)(o)&&(o.weak?k._weak=!0:delete k._weak),(0,W.isReferenceSchemaType)(o)&&(0,W.isReference)(a)&&a._strengthenOnPublish&&(k._weak=!0,k._strengthenOnPublish=a._strengthenOnPublish),{targetValue:k,errors:u}}async function eS1(e){let t,{sourceValue:n,targetSchemaType:r,targetRootValue:i,targetRootPath:a,errors:o,options:l,keyGenerator:s}=e;if(!n||!Array.isArray(n))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.array-type-incompatible.description",args:{type:typeof n}}}]};let c=(0,W.isArrayOfPrimitivesSchemaType)(r),u=(0,W.isArrayOfObjectsSchemaType)(r);if(c){let e=r.of.map(e=>e.jsonType),i=e.includes("number"),a=n.filter(t=>!!("string"==typeof t&&e.includes("string")||"number"==typeof t&&(e.includes("number")||e.includes("string"))||"boolean"==typeof t&&e.includes("boolean"))).map(e=>i||"number"!=typeof e?e:"".concat(e)),l=n.filter(e=>!a.includes(i||"number"!=typeof e?e:"".concat(e)));l.length>0&&l.forEach(e=>{o.push({level:a.length>0?"warning":"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:typeof e}}})}),a.length>0&&(t=a)}if(u){let e=n.filter(e=>r.of.some(t=>t.name===e._type)),c=n.filter(e=>!r.of.some(t=>t.name===e._type));t=0===e.length?void 0:(await Promise.all(e.map(e=>eSQ({sourceValue:e,targetSchemaType:r.of.find(t=>t.name===e._type),targetPath:[],targetRootValue:i,targetRootPath:a,errors:o,options:l,keyGenerator:s})))).map(e=>e.targetValue).filter(e=>!eSK(e)),c.length>0&&c.forEach(t=>{o.push({level:e.length>0?"warning":"error",sourceValue:t,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:t._type||typeof t}}})})}return{targetValue:t,errors:o}}function eS2(e){let t,{sourceValue:n,targetSchemaType:r,errors:i}=e;if(typeof n>"u")return{targetValue:void 0,errors:i};let a=r.jsonType===typeof n,o="number"==typeof n&&"string"===r.jsonType;if(a||o){let e="string"==typeof n||"number"==typeof n;if(((0,W.isNumberSchemaType)(r)||(0,W.isStringSchemaType)(r))&&e){var l,s;let e=(null==(s=r.options)||null==(l=s.list)?void 0:l.map(e=>"string"==typeof e||"number"==typeof e?e:e.value))||[];e.length>0&&!e.includes(n)&&i.push({level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.string-value-incompatible.description",args:{value:n,allowedStrings:e}}})}t=o?"".concat(n):n}else i.push({level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.primitive-type-incompatible.description",args:{type:typeof n}}});return{targetValue:t,errors:i}}function eS0(e){let t=new Set(["_id","_createdAt","_updatedAt","_rev"]);return Object.keys(e).reduce((n,r)=>t.has(r)?n:{...n,[r]:e[r]},{})}let eS5=e=>{let{children:t}=e,n=(0,A.useToast)(),r=(0,tp.useTelemetry)(),i=el3(),a=A6(),{t:o}=IO("copy-paste"),l=eTt(AE),[s,c]=(0,E.useState)(null),u=(0,E.useCallback)(e=>{let{documentId:t,documentType:n,schemaType:r,onChange:i}=e,a={documentId:(0,th.getPublishedId)(t),documentType:n,schemaType:r,onChange:i};c(e=>(0,e4.default)(e,a)?e:a)},[]),d=(0,E.useCallback)(async(e,t,i)=>{var a,l;if(!s)return;let{documentId:c,documentType:u,schemaType:d}=s,p=eSN(d,e,t);if(!p)return void n.push({status:"error",title:o("copy-paste.on-copy.validation.schema-type-incompatible.title",{path:S.toString(e)})});let f=(null==(a=p.type)?void 0:a.name)==="document",h=Ad(t,e);if(eSK(h))return void n.push({status:"warning",title:o("copy-paste.on-copy.validation.no-value.title")});let m=e.length>0?(0,tf.default)(e):void 0,g=m&&((0,W.isKeySegment)(m)||(0,W.isIndexSegment)(m)),y="arrayItem"===i.context.source||g||"append"===i.patchType,v=y&&g?e.slice(0,-1):e,b=g&&!Array.isArray(h),x={type:"sanityClipboardItem",documentId:c,documentType:u,isDocument:f,schemaTypeName:p.name,valuePath:v,value:b?[h]:h,patchType:y?"append":"replace"};r.log(eSR,{context:(null==i||null==(l=i.context)?void 0:l.source)||"unknown",schemaTypes:[p.jsonType]}),await eSW(x)||n.push({status:"error",title:o("copy-paste.on-copy.validation.clipboard-not-supported.title"),description:o("copy-paste.on-copy.validation.clipboard-not-supported.description")})},[s,r,n,o]),p=(0,E.useCallback)(async(e,t,c)=>{var u,d;if(!s)return;let{schemaType:p,onChange:f}=s,h=eSN(p,e,t),m=null;try{m=await eSq()}catch(e){"NotAllowedError"===e.name&&n.push({status:"error",title:o("copy-paste.on-copy.validation.clipboard-not-supported.title"),description:o("copy-paste.on-copy.validation.clipboard-not-supported.description")});return}if(!m)return void n.push({status:"info",title:o("copy-paste.on-paste.validation.clipboard-empty.title")});if(!m.documentType)return void n.push({status:"error",title:o("copy-paste.on-paste.validation.clipboard-invalid.title")});let g=i.get(m.documentType);if(!g)return void n.push({status:"error",title:o("copy-paste.on-paste.validation.clipboard-invalid.title")});let y=[],v=[],b=eSN(g,m.valuePath,t);if(!b)return void n.push({status:"error",title:o("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:S.toString(m.valuePath)})});if(!p)return void n.push({status:"error",title:o("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:S.toString(e)})});let x=h.title||h.name,C={targetDocumentSchemaType:p,sourceRootSchemaType:b,sourcePath:[],sourceRootPath:m.valuePath,sourceValue:m.value,targetRootSchemaType:h,targetPath:[],targetRootPath:e,targetRootValue:t,currentUser:a,options:{validateAssets:!0,validateReferences:!0,client:l}};v.push(b.jsonType);try{let{targetValue:t,errors:r}=await eSJ(C),i=r.filter(e=>"warning"!==e.level),a=eSK(t);if(i.length>0){let e=o(i[0].i18n.key,i[0].i18n.args);n.push({status:"error",title:o("copy-paste.on-paste.validation.clipboard-invalid.title"),description:e});return}if(r.length>0&&!a){let e=r.map(e=>o(e.i18n.key,e.i18n.args)).join(", ");n.push({status:"warning",title:o("copy-paste.on-paste.validation.partial-warning.title"),description:e})}if(a)return void n.push({status:"warning",title:o("copy-paste.on-paste.validation.clipboard-empty.title")});let l=(null==m?void 0:m.patchType)||"replace",s="array"!==m.schemaTypeName&&"array"===h.jsonType||"append"===l,c=s&&e.length>0&&"array"===h.jsonType,u=s&&e.length>0?[...e.slice(0,-1),"".concat(null==(d=e.slice(-1))?void 0:d[0],"[-1]")]:e,p="array"===h.jsonType?[LF([],e)]:[];y.push({patches:c?[...p,LR(t,"after",u)]:[...p,LB(t,e)],targetSchemaTypeTitle:x})}catch(e){n.push({status:"error",title:e.message});return}if(r.log(eSB,{context:(null==c||null==(u=c.context)?void 0:u.source)||"unknown",schemaTypes:v}),y.length){let e=(0,td.default)(y.map(e=>{let{patches:t}=e;return t}));f(zU.from(e))}},[s,i,a,l,r,n,o]),f=(0,E.useMemo)(()=>({setDocumentMeta:u,onCopy:d,onPaste:p}),[d,p,u]);return(0,_.jsx)(D.CopyPasteContext.Provider,{value:f,children:t})},eS7=()=>{let e=(0,E.useContext)(D.CopyPasteContext);if(!e)throw Error("useCopyPaste must be used within a CopyPasteProvider");return e},eS3=(0,F.createGlobalStyle)(e=>{let{color:t,font:n}=(0,ne.getTheme_v2)(e.theme);return(0,F.css)(TR(),function(e){let t=encodeURIComponent(e);return'url("data:image/svg+xml,'.concat("%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 8L8 1' stroke='".concat(t,"' stroke-linecap='round'/%3E%3Cpath d='M5 8L8 5' stroke='").concat(t,"' stroke-linecap='round'/%3E%3C/svg%3E%0A"),'")')}(t.icon),12,12,t.border,4,t.muted.fg,(0,ne.rgba)(t.focusRing,.3),t.bg,n.text.family,n.text.weights.medium,n.text.weights.medium)});function eS8(e){let t,n,r,i,a=(0,j.c)(21),{children:o,selectedPerspectiveName:l,excludedPerspectives:s}=e,c=void 0===s?Ie:s,{data:u}=z0(),{document:d}=FU(),{drafts:p}=d,{enabled:f}=p,h=f?Rm:Rg;a[0]!==u||a[1]!==l?(t=eum(l,u),a[0]=u,a[1]=l,a[2]=t):t=a[2];let m=t;a[3]!==c||a[4]!==f||a[5]!==u||a[6]!==l?(n=function(e){let{selectedPerspectiveName:t,releases:n,excludedPerspectives:r,isDraftModelEnabled:i}=e,a=i?zQ:z1;if(!t)return a;if("published"===t)return z1;let o=n.find(e=>FF(e._id)===t);if(o&&Ip(o))return[t].concat(a).filter(e=>!r.includes(e));let l=zJ(n).map(e=>FF(e._id)),s=l.indexOf(t);return -1===s?z2:l.slice(s).concat(a).filter(e=>!r.includes(e))}({releases:u,selectedPerspectiveName:l,excludedPerspectives:c,isDraftModelEnabled:f}),a[3]=c,a[4]=f,a[5]=u,a[6]=l,a[7]=n):n=a[7];let g=n;e:{let e;if(function(e,t){if(!e||R_(e))return null;let n=t.find(t=>FF(t._id)===e);return n&&Ip(n)?n:null}(l,u)){let e;a[8]!==h||a[9]!==c||a[10]!==g?(e={selectedPerspective:h,selectedPerspectiveName:void 0,selectedReleaseId:void 0,perspectiveStack:g,excludedPerspectives:c},a[8]=h,a[9]=c,a[10]=g,a[11]=e):e=a[11],r=e;break e}let t=D8(l)?void 0:l;a[12]!==c||a[13]!==g||a[14]!==m||a[15]!==l||a[16]!==t?(e={selectedPerspective:m,selectedPerspectiveName:l,selectedReleaseId:t,perspectiveStack:g,excludedPerspectives:c},a[12]=c,a[13]=g,a[14]=m,a[15]=l,a[16]=t,a[17]=e):e=a[17],r=e}let y=r;return a[18]!==o||a[19]!==y?(i=(0,_.jsx)(D.PerspectiveContext.Provider,{value:y,children:o}),a[18]=o,a[19]=y,a[20]=i):i=a[20],i}let eS4=()=>{let e,t,n=(0,j.c)(9),r=(0,A.useToast)(),{t:i}=IO(),{data:a,loading:o}=z0(),{data:l}=eit(),{selectedPerspectiveName:s}=Ar(),c=erV();return n[0]!==l||n[1]!==a||n[2]!==o||n[3]!==s||n[4]!==c||n[5]!==i||n[6]!==r?(e=()=>{if(!(o||!s||R_(s))&&!a.some(e=>FF(e._id)===s)){var e;c(Rm);let t=l.find(e=>FF(e._id)===s),{title:n,description:a}=(e=>e?"published"===e.state?{title:"release.toast.published-release.title",description:"release.toast.published-release.description"}:{title:"release.toast.archived-release.title",description:"release.toast.archived-release.description"}:{title:"release.toast.not-found-release.title"})(t);r.push({id:"bundle-deleted-toast-".concat(s),status:"warning",title:(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:i,i18nKey:n,values:{title:(null==t||null==(e=t.metadata)?void 0:e.title)||s}})}),description:a&&(0,_.jsx)(I.Text,{muted:!0,size:1,children:(0,_.jsx)(IZ,{t:i,i18nKey:a})}),duration:1e4})}},t=[l,s,a,o,c,r,i],n[0]=l,n[1]=a,n[2]=o,n[3]=s,n[4]=c,n[5]=i,n[6]=r,n[7]=e,n[8]=t):(e=n[7],t=n[8]),(0,E.useEffect)(e,t),null};function eS6(e){let{children:t}=e,n=(0,nr.useRouter)(),{data:r}=z0(),{document:{drafts:{enabled:i}}}=FU(),a=n.stickyParams.perspective;!i&&typeof a>"u"&&(a=Rg);let o=(0,E.useMemo)(()=>{var e;return(null==(e=n.stickyParams.excludedPerspectives)?void 0:e.split(","))||Ie},[n.stickyParams.excludedPerspectives]),l=(0,E.useMemo)(()=>eum(a,r),[a,r]),s=(0,E.useMemo)(()=>({selectedPerspective:l,selectedPerspectiveName:a,selectedReleaseId:D8(a)?void 0:a}),[l,a]);return(0,_.jsx)(D.RawPerspectiveContext.Provider,{value:s,children:(0,_.jsxs)(eS8,{selectedPerspectiveName:a,excludedPerspectives:o,children:[t,(0,_.jsx)(eS4,{})]})})}function eS9(e){let t,n,r,i,a,o=(0,j.c)(16),{children:l,AuthenticateComponent:s,LoadingComponent:c,NotAuthenticatedComponent:u}=e,d=void 0===s?e_y:s,p=void 0===c?DU:c,f=void 0===u?e_w:u,[h,m]=(0,E.useState)(null);if(h)throw h;let[g,y]=(0,E.useState)("loading"),[v,b]=(0,E.useState)(),{activeWorkspace:x}=eul();if(o[0]!==x.auth?(t=()=>{var e,t;null==(e=(t=x.auth).handleCallbackUrl)||e.call(t).catch(m)},n=[x.auth],o[0]=x.auth,o[1]=t,o[2]=n):(t=o[1],n=o[2]),(0,E.useEffect)(t,n),o[3]!==x.auth.state?(r=()=>{let e=x.auth.state.subscribe({next:e=>{var t;let{authenticated:n,currentUser:r}=e;if((null==r||null==(t=r.roles)?void 0:t.length)===0){y("unauthorized"),(null==r?void 0:r.provider)&&b(r.provider);return}y(n?"logged-in":"logged-out")},error:m});return()=>{e.unsubscribe()}},o[3]=x.auth.state,o[4]=r):r=o[4],o[5]!==x?(i=[x],o[5]=x,o[6]=i):i=o[6],(0,E.useEffect)(r,i),"loading"===g){let e;return o[7]!==p?(e=(0,_.jsx)(p,{}),o[7]=p,o[8]=e):e=o[8],e}if("unauthorized"===g){let e;if(!v||"sanity"===v){let e;return o[9]!==f?(e=(0,_.jsx)(f,{}),o[9]=f,o[10]=e):e=o[10],e}return o[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.jsx)(e_j,{}),o[11]=e):e=o[11],e}if("logged-out"===g){let e;return o[12]!==d?(e=(0,_.jsx)(d,{}),o[12]=d,o[13]=e):e=o[13],e}return o[14]!==l?(a=(0,_.jsx)(_.Fragment,{children:l}),o[14]=l,o[15]=a):a=o[15],a}let eEe=()=>((function(){let e,t,n=(0,j.c)(4),{node:r}=Fg(),{navigateUrl:i}=(0,nr.useRouter)();n[0]!==i||n[1]!==r?(e=()=>null==r?void 0:r.on("dashboard/v1/history/change-path",e=>{let{path:t}=e;i({path:t.replace(/^\/+/,"/"),replace:!1})}),t=[i,r],n[0]=i,n[1]=r,n[2]=e,n[3]=t):(e=n[2],t=n[3]),(0,E.useEffect)(e,t)})(),null),eEt={apiVersion:"2023-12-18"};function eEn(e){let t,n,r=(0,j.c)(6),{errorReporter:i}=e,a=eTt(eEt);return r[0]!==a.observable||r[1]!==i?(t=()=>{let e=a.observable.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.error-reporting"}).subscribe({next:e=>{(null==e?void 0:e.status)==="granted"?i.enable():i.disable()},error:eEr});return()=>e.unsubscribe()},r[0]=a.observable,r[1]=i,r[2]=t):t=r[2],r[3]!==a||r[4]!==i?(n=[a,i],r[3]=a,r[4]=i,r[5]=n):n=r[5],(0,E.useEffect)(t,n),null}function eEr(e){console.error("Error fetching telemetry status",e)}let eEi="u">typeof __SANITY_STAGING__&&!0===__SANITY_STAGING__,eEa="".concat(eEi?"https://sanity-cdn.work":"https://sanity-cdn.com","/").concat("v1","/modules"),eEo=async e=>{let{packageName:t,minVersion:n,appId:r}=e;try{let e="t".concat(Math.floor(Date.now()/1e3));return(await fetch("".concat(eEa,"/by-app/").concat(r,"/").concat(e,"/^").concat(n.version,"/").concat(t),{headers:{accept:"application/json"}})).json().then(e=>e.packageVersion)}catch(e){console.error(Error('Failed to fetch version for package "'.concat(t,'" (using appId=').concat(r,")"),{cause:e}));return}},eEl=async e=>{let{packageName:t,minVersion:n,tag:r="latest"}=e;try{let e="t".concat(Math.floor(Date.now()/1e3));return(await fetch("".concat(eEa,"/").concat(t,"/").concat(r,"/^").concat(n.version,"/").concat(e),{headers:{accept:"application/json"}})).json().then(e=>e.packageVersion)}catch(e){console.error("Failed to fetch version for package (using tag=".concat(r,")"),t,"Error:",e);return}},eEs=/^\/v1\/modules\/sanity\/[^/]+\/[^/]+\/[^/]+\/?$/,eEc=/^\/v1\/modules\/by-app\/[^/]+\/[^/]+\/[^/]+\/[^/]+\/?$/,eEu=()=>{},eEd=(0,e6.default)(()=>bb.default.parse(e9.SANITY_VERSION)),eEp=(0,e6.default)(()=>ewJ()),eEf=(0,e6.default)(()=>{let e=eEp();return e?function(e){let t=function(e){if(eEc.test(e.pathname)){let[,,,,t,,n]=e.pathname.split("/");return{valid:!0,appId:t,version:n}}if(eEs.test(e.pathname)){let[,,,,,t]=e.pathname.split("/");return{valid:!0,appId:void 0,version:t}}return{valid:!1,error:Error("Unable to parse module CDN URL: ".concat(e.pathname))}}(new URL(e,"https://example.com"));if(!t.valid)return t;let{appId:n,version:r}=t,i=decodeURIComponent(r);return bb.default.validRange(i)?{valid:!0,appId:n,minVersion:i}:{valid:!1,error:Error('Invalid minVersion "'.concat(i,'" in module cdn url: ').concat(e))}}(e):{valid:!1,error:Error('No import map entry for module "sanity" found in DOM')}});function eEh(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(18),{children:f}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?((t=eEf()).valid||console.warn(Error("Unable to extract version from import map, auto updates may not work as expected",{cause:t.error})),p[0]=t):t=p[0];let h=t;p[1]===Symbol.for("react.memo_cache_sentinel")?(n=eEd(),p[1]=n):n=p[1];let m=n,g=!!h.valid,y=(0,E.useRef)(void 0),[v,b]=(0,E.useState)(),[x,C]=(0,E.useState)();p[2]!==v?(r=v?bb.default.parse(v):void 0,p[2]=v,p[3]=r):r=p[3];let k=r;p[4]!==x?(i=x?bb.default.parse(x):void 0,p[4]=x,p[5]=i):i=p[5];let w=i;p[6]===Symbol.for("react.memo_cache_sentinel")?(a={lastCheckedAt:null,checking:!1},p[6]=a):a=p[6];let[S,T]=(0,E.useState)(a);p[7]===Symbol.for("react.memo_cache_sentinel")?(o=async()=>{y.current&&y.current+1e4>new Date().getTime()||(y.current=new Date().getTime(),T(eEm),Promise.all([g&&h.valid?eEo({packageName:"sanity",minVersion:bb.default.coerce(h.minVersion,{includePrerelease:!0}),appId:h.appId}):Promise.resolve(void 0),eEl({packageName:"sanity",minVersion:h.valid?bb.default.coerce(h.minVersion,{includePrerelease:!0}):m,tag:"latest"})]).then(e=>{let[t,n]=e;b(t),C(n)}).finally(()=>T({lastCheckedAt:new Date,checking:!1})))},p[7]=o):o=p[7];let I=o;p[8]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{let e=async function(){await I()};e();let t=setInterval(e,9e5);return()=>clearInterval(t)},s=[I],p[8]=l,p[9]=s):(l=p[8],s=p[9]),(0,E.useEffect)(l,s),p[10]===Symbol.for("react.memo_cache_sentinel")?(c=h.valid?bb.default.coerce(h.minVersion,{includePrerelease:!0}):void 0,p[10]=c):c=p[10],p[11]!==k||p[12]!==w||p[13]!==S?(u={isAutoUpdating:g,autoUpdatingVersion:k,baseVersion:c,latestTaggedVersion:w,currentVersion:m,checkForUpdates:g?I:eEu,versionCheckStatus:S},p[11]=k,p[12]=w,p[13]=S,p[14]=u):u=p[14];let A=u;return p[15]!==f||p[16]!==A?(d=(0,_.jsx)(D.PackageVersionInfoContext.Provider,{value:A,children:f}),p[15]=f,p[16]=A,p[17]=d):d=p[17],d}function eEm(e){return{...e,checking:!0}}let eEg=(0,F.keyframes)(TB()),eEy=F.styled.div(e=>{let t=(0,ne.getTheme_v2)(e.theme),n=t.color.selectable.default.hovered.bg,r=t.color.selectable.default.enabled.bg;return(0,F.css)(TN(),n,r,eEg,t.color.selectable.default.hovered.border)}),eEv=F.styled.div(TL());function eEb(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h,m=(0,j.c)(37),{title:g,id:y,isOpen:v,name:b,preHeader:x,onCardClick:C,onCardDismiss:k}=e,{t:w}=IO(),S=(0,tp.useTelemetry)();return m[0]!==y||m[1]!==v||m[2]!==b||m[3]!==S||m[4]!==g?(t=()=>{v&&S.log(ejZ,{announcement_id:y,announcement_title:g,announcement_internal_name:b,source:"studio",studio_version:e9.SANITY_VERSION})},n=[S,y,g,v,b],m[0]=y,m[1]=v,m[2]=b,m[3]=S,m[4]=g,m[5]=t,m[6]=n):(t=m[5],n=m[6]),(0,E.useEffect)(t,n),m[7]===Symbol.for("react.memo_cache_sentinel")?(r={bottom:12,left:12,top:"none"},m[7]=r):r=m[7],m[8]!==w?(i=w("announcement.floating-button.open-label"),m[8]=w,m[9]=i):i=m[9],m[10]!==x?(a=(0,_.jsx)(I.Box,{marginRight:6,children:(0,_.jsx)(I.Text,{as:"h3",size:1,muted:!0,children:x})}),m[10]=x,m[11]=a):a=m[11],m[12]!==g?(o=(0,_.jsx)(I.Text,{size:1,weight:"medium",children:g}),m[12]=g,m[13]=o):o=m[13],m[14]!==a||m[15]!==o?(l=(0,_.jsxs)(I.Stack,{space:3,children:[a,o]}),m[14]=a,m[15]=o,m[16]=l):l=m[16],m[17]!==C||m[18]!==i||m[19]!==l?(s=(0,_.jsx)(I.Card,{"data-ui":"whats-new-card",padding:3,radius:3,onClick:C,role:"button","aria-label":i,children:l}),m[17]=C,m[18]=i,m[19]=l,m[20]=s):s=m[20],m[21]!==w?(c=w("announcement.floating-button.dismiss-label"),m[21]=w,m[22]=c):c=m[22],m[23]!==w?(u=w("announcement.floating-button.dismiss"),m[23]=w,m[24]=u):u=m[24],m[25]!==u?(d={content:u},m[25]=u,m[26]=d):d=m[26],m[27]!==k||m[28]!==d||m[29]!==c?(p=(0,_.jsx)(eEv,{children:(0,_.jsx)(B.Button,{id:"close-floating-button",mode:"bleed",onClick:k,icon:R.CloseIcon,tone:"default","aria-label":c,tooltipProps:d})}),m[27]=k,m[28]=d,m[29]=c,m[30]=p):p=m[30],m[31]!==p||m[32]!==s?(f=(0,_.jsxs)(eEy,{"data-ui":"whats-new-root",children:[s,p]}),m[31]=p,m[32]=s,m[33]=f):f=m[33],m[34]!==v||m[35]!==f?(h=(0,_.jsx)(B.Popover,{open:v,shadow:3,portal:!0,style:r,width:0,placement:"bottom-start",content:f}),m[34]=v,m[35]=f,m[36]=h):h=m[36],h}let eEx=F.styled.hr(Tz(),e=>{let{$show:t}=e;return+!!t});function eEC(e){let t,n,r,i=(0,j.c)(5),{parentRef:a}=e,o=(0,E.useRef)(null),[l,s]=(0,E.useState)(!0);return i[0]!==a?(t=()=>{let e=o.current,t=a.current;if(!e||!t)return;let n=new IntersectionObserver(e=>{let[t]=e;s(t.isIntersecting)},{root:t,threshold:0,rootMargin:"-60px 0px 0px 0px"});return n.observe(e),()=>{n.disconnect()}},n=[a],i[0]=a,i[1]=t,i[2]=n):(t=i[1],n=i[2]),(0,E.useEffect)(t,n),i[3]!==l?(r=(0,_.jsx)(I.Box,{paddingBottom:4,children:(0,_.jsx)(I.Box,{paddingY:3,paddingX:3,children:(0,_.jsx)(eEx,{ref:o,$show:l})})}),i[3]=l,i[4]=r):r=i[4],r}let eEk={month:"short",day:"2-digit"},eEw=(0,F.styled)(I.Box)(TV()),eE_=(0,F.styled)(I.Grid)(TU()),eEj=(0,F.styled)(I.Box)(TH()),eES=(0,F.styled)(B.Button)(Tq());function eEE(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(35),{announcement:f,mode:h,isFirst:m,parentRef:g}=e,y=(0,tp.useTelemetry)(),v=Rs(eEk),b=(0,E.useRef)(null);e:{let e;if(!f.publishedDate){t="";break e}p[0]!==f.publishedDate||p[1]!==v?(e=v.format(new Date(f.publishedDate)),p[0]=f.publishedDate,p[1]=v,p[2]=e):e=p[2],t=e}let x=t;p[3]!==f._id||p[4]!==f.name||p[5]!==f.title||p[6]!==h||p[7]!==y?(n=e=>{let{url:t,linkTitle:n}=e;y.log(ej1,{announcement_id:f._id,announcement_title:f.title,announcement_internal_name:f.name,source:"studio",studio_version:e9.SANITY_VERSION,origin:h,link_url:t,link_title:n})},p[3]=f._id,p[4]=f.name,p[5]=f.title,p[6]=h,p[7]=y,p[8]=n):n=p[8];let C=n;p[9]!==f._id||p[10]!==f.name||p[11]!==f.title||p[12]!==h||p[13]!==y?(r=e=>{y.log(ejQ,{announcement_id:f._id,announcement_title:f.title,announcement_internal_name:f.name,source:"studio",studio_version:e9.SANITY_VERSION,scrolled_into_view:e,origin:h})},p[9]=f._id,p[10]=f.name,p[11]=f.title,p[12]=h,p[13]=y,p[14]=r):r=p[14];let k=r;return p[15]!==m||p[16]!==k||p[17]!==g?(i=()=>{if(m)return void k(!1);let e=b.current,t=g.current;if(!e||!t)return;let n=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&(k(!0),n.disconnect())},{root:t,threshold:1,rootMargin:"0px 0px -100px 0px"});return n.observe(e),()=>{n.disconnect()}},a=[k,g,m],p[15]=m,p[16]=k,p[17]=g,p[18]=i,p[19]=a):(i=p[18],a=p[19]),(0,E.useEffect)(i,a),p[20]!==x?(o=(0,_.jsx)(I.Box,{flex:"none",padding:2,paddingRight:0,children:(0,_.jsx)(I.Box,{paddingLeft:2,children:(0,_.jsx)(I.Text,{size:1,muted:!0,children:x})})}),p[20]=x,p[21]=o):o=p[21],p[22]!==f.title?(l=(0,_.jsx)(I.Flex,{flex:1,padding:2,justify:"center",ref:b,children:(0,_.jsx)(I.Text,{as:"h2",size:1,weight:"semibold",children:f.title})}),p[22]=f.title,p[23]=l):l=p[23],p[24]!==o||p[25]!==l?(s=(0,_.jsxs)(eE_,{padding:3,children:[o,l]}),p[24]=o,p[25]=l,p[26]=s):s=p[26],p[27]!==f.body?(c=f.body||[],p[27]=f.body,p[28]=c):c=p[28],p[29]!==C||p[30]!==c?(u=(0,_.jsx)(I.Box,{padding:4,children:(0,_.jsx)(ec_,{blocks:c,onLinkClick:C})}),p[29]=C,p[30]=c,p[31]=u):u=p[31],p[32]!==u||p[33]!==s?(d=(0,_.jsxs)(I.Box,{children:[s,u]}),p[32]=u,p[33]=s,p[34]=d):d=p[34],d}function eET(e){let t,n,r,i,a,o,l=(0,j.c)(18),{announcements:s,onClose:c,mode:u}=e,d=void 0===s?[]:s,p=(0,E.useRef)(null),{t:f}=IO(),h=B.Dialog,m=d.map((e,t)=>(0,_.jsxs)(E.Fragment,{children:[(0,_.jsx)(eEE,{announcement:e,mode:u,isFirst:0===t,parentRef:p}),t<d.length-1&&(0,_.jsx)(eEC,{parentRef:p})]},e._id));return l[0]!==f?(t=f("announcement.dialog.close-label"),l[0]=f,l[1]=t):t=l[1],l[2]!==f?(n=f("announcement.dialog.close"),l[2]=f,l[3]=n):n=l[3],l[4]!==n?(r={content:n},l[4]=n,l[5]=r):r=l[5],l[6]!==c||l[7]!==t||l[8]!==r?(i=(0,_.jsx)(eEj,{children:(0,_.jsx)(eES,{"aria-label":t,icon:R.CloseIcon,mode:"bleed",onClick:c,tooltipProps:r})}),l[6]=c,l[7]=t,l[8]=r,l[9]=i):i=l[9],l[10]!==eEw||l[11]!==i||l[12]!==m?(a=(0,_.jsxs)(eEw,{ref:p,height:"fill",children:[m,i]}),l[10]=eEw,l[11]=i,l[12]=m,l[13]=a):a=l[13],l[14]!==h||l[15]!==c||l[16]!==a?(o=(0,_.jsx)(h,{id:"in-app-communication-dialog",onClose:c,onClickOutside:c,width:1,bodyHeight:"fill",padding:!1,__unstable_hideCloseButton:!0,__unstable_autoFocus:!1,children:a}),l[14]=h,l[15]=c,l[16]=a,l[17]=o):o=l[17],o}let eED="studio.announcement.seen",eEI={value:null,error:null,loading:!0};function eEA(e){return(0,Y.of)({value:null,error:e,loading:!1})}function eEO(e){return{value:e,error:null,loading:!1}}let eEP=["administrator","editor","viewer","contributor","developer","custom"],eEM={apiVersion:"v2024-09-19"};function eEF(e){var t,n,r,i,a,o,l,s,c,u,d,p;let f,h,m,g,y,v,b,x,C,k,w,S=(0,j.c)(47),{children:T}=e,I=(0,tp.useTelemetry)(),[A,O]=(0,E.useState)(null),[P,M]=(0,E.useState)(!1),[F,R]=function(){let e,t,n,r,i,a,o=(0,j.c)(13),l=(0,nr.useRouter)(),s=Fh();o[0]!==s?(e=s.getKey(eED).pipe((0,Z.map)(eEO),(0,eI.startWith)(eEI),(0,J.catchError)(eEA)),o[0]=s,o[1]=e):e=o[1];let c=e;o[2]!==s?(t=e=>{s.setKey(eED,e)},o[2]=s,o[3]=t):t=o[3];let u=t;o[4]!==l.state._searchParams?(n=new URLSearchParams(l.state._searchParams).get("reset-announcements"),o[4]=l.state._searchParams,o[5]=n):n=o[5];let d=n;return o[6]!==d||o[7]!==u?(r=()=>{null!==d&&u(d?d.split(","):[])},i=[d,u],o[6]=d,o[7]=u,o[8]=r,o[9]=i):(r=o[8],i=o[9]),(0,E.useEffect)(r,i),o[10]!==c||o[11]!==u?(a=[c,u],o[10]=c,o[11]=u,o[12]=a):a=o[12],a}(),{currentUser:B}=FU(),N=eTt(eEM);if(S[0]!==N.observable||S[1]!==(null==B?void 0:B.roles)||S[2]!==F){let e;S[4]!==(null==B?void 0:B.roles)?(e=e=>e?e.filter(e=>{var t,n;return function(e,t){switch(e.audience){case"everyone":default:return!0;case"specific-version":return(0,bb.satisfies)(t,"= ".concat(e.studioVersion),{includePrerelease:!0});case"greater-than-or-equal-version":return(0,bb.satisfies)(t,">= ".concat(e.studioVersion),{includePrerelease:!0});case"less-than-or-equal-version":return(0,bb.satisfies)(t,"<= ".concat(e.studioVersion),{includePrerelease:!0})}}({audience:e.audience,studioVersion:e.studioVersion},e9.SANITY_VERSION)&&(t=e.audienceRole,n=null==B?void 0:B.roles,!t||!t.length||!!n&&!!n.length&&(!!n.some(e=>t.includes(e.name))||!!n.some(e=>!eEP.includes(e.name))&&t.includes("custom")))}):[],S[4]=null==B?void 0:B.roles,S[5]=e):e=S[5];let t=N.observable.request({url:"/journey/announcements"}).pipe((0,Z.map)(e),(0,J.catchError)(eEN),(0,eI.startWith)([]));f=(0,ev.combineLatest)([t,F]).pipe((0,Z.map)(eEB)),S[0]=N.observable,S[1]=null==B?void 0:B.roles,S[2]=F,S[3]=f}else f=S[3];let L=f;S[6]===Symbol.for("react.memo_cache_sentinel")?(h={unseen:[],all:[]},S[6]=h):h=S[6];let z=(0,te.useObservable)(L,h),V=z.unseen,U=z.all;S[7]!==R||S[8]!==U?(m=()=>{R(U.map(eER))},S[7]=R,S[8]=U,S[9]=m):m=S[9];let H=m;S[10]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{O(e),M(!0)},S[10]=g):g=S[10];let q=g;S[11]!==H||S[12]!==I||S[13]!==(null==(t=V[0])?void 0:t._id)||S[14]!==(null==(n=V[0])?void 0:n.name)||S[15]!==(null==(r=V[0])?void 0:r.title)?(y=()=>{var e,t,n;H(),M(!0),I.log(ejJ,{announcement_id:null==(e=V[0])?void 0:e._id,announcement_title:null==(t=V[0])?void 0:t.title,announcement_internal_name:null==(n=V[0])?void 0:n.name,source:"studio",studio_version:e9.SANITY_VERSION})},S[11]=H,S[12]=I,S[13]=null==(i=V[0])?void 0:i._id,S[14]=null==(a=V[0])?void 0:a.name,S[15]=null==(o=V[0])?void 0:o.title,S[16]=y):y=S[16];let W=y;S[17]!==I||S[18]!==(null==(l=V[0])?void 0:l._id)||S[19]!==(null==(s=V[0])?void 0:s.name)||S[20]!==(null==(c=V[0])?void 0:c.title)?(v=()=>{var e,t,n;q("card"),I.log(ejX,{announcement_id:null==(e=V[0])?void 0:e._id,announcement_title:null==(t=V[0])?void 0:t.title,announcement_internal_name:null==(n=V[0])?void 0:n.name,source:"studio",studio_version:e9.SANITY_VERSION})},S[17]=I,S[18]=null==(u=V[0])?void 0:u._id,S[19]=null==(d=V[0])?void 0:d.name,S[20]=null==(p=V[0])?void 0:p.title,S[21]=v):v=S[21];let Y=v;S[22]!==A||S[23]!==H||S[24]!==U[0]||S[25]!==I||S[26]!==V[0]?(b=()=>{let e="help_menu"===A?U[0]:V[0];I.log(ej2,{announcement_id:null==e?void 0:e._id,announcement_title:null==e?void 0:e.title,announcement_internal_name:null==e?void 0:e.name,source:"studio",studio_version:e9.SANITY_VERSION,origin:null!=A?A:"card"}),O(null),H()},S[22]=A,S[23]=H,S[24]=U[0],S[25]=I,S[26]=V[0],S[27]=b):b=S[27];let K=b;S[28]!==U||S[29]!==V?(x={studioAnnouncements:U,unseenAnnouncements:V,onDialogOpen:q},S[28]=U,S[29]=V,S[30]=x):x=S[30];let G=x;return S[31]!==Y||S[32]!==W||S[33]!==P||S[34]!==V[0]||S[35]!==V.length?(C=V.length>0&&(0,_.jsx)(eEb,{preHeader:V[0].preHeader,title:V[0].title,name:V[0].name,id:V[0]._id,onCardClick:Y,isOpen:!P,onCardDismiss:W}),S[31]=Y,S[32]=W,S[33]=P,S[34]=V[0],S[35]=V.length,S[36]=C):C=S[36],S[37]!==A||S[38]!==K||S[39]!==U||S[40]!==V?(k=A&&(0,_.jsx)(eET,{mode:A,announcements:"help_menu"===A?U:V,onClose:K}),S[37]=A,S[38]=K,S[39]=U,S[40]=V,S[41]=k):k=S[41],S[42]!==T||S[43]!==G||S[44]!==k||S[45]!==C?(w=(0,_.jsxs)(D.StudioAnnouncementContext.Provider,{value:G,children:[T,C,k]}),S[42]=T,S[43]=G,S[44]=k,S[45]=C,S[46]=w):w=S[46],w}function eER(e){return e._id}function eEB(e){let[t,n]=e;return n.loading||n.error?{unseen:[],all:t}:n.value?{unseen:t.filter(e=>{var t;return!(null==(t=n.value)?void 0:t.includes(e._id))}),all:t}:{unseen:t,all:t}}function eEN(){return[]}function eEL(e){var t;let n=(0,j.c)(2);if(null==(t=eii().announcements)?void 0:t.enabled){let t;return n[0]!==e?(t=(0,_.jsx)(eEF,{...e}),n[0]=e,n[1]=t):t=n[1],t}return e.children}let eEz=Ii.__sanityErrorChannel;function eEV(e){let{children:t}=e,[n,r]=(0,E.useState)(),i=(0,E.useCallback)(()=>r(void 0),[]),a=(0,A.useToast)();return bw(i),(0,E.useEffect)(()=>{if(eEz)return eEz.subscribe(e=>{let t;if(!ewK(e.error)&&e.error&&e.error instanceof Error){var n,i;if((n=e.error)instanceof ekV||n instanceof AI||n instanceof euU||(0,b_.default)(n)&&"ViteDevServerStoppedError"in n&&n.ViteDevServerStoppedError)return void r({error:e.error});try{t=null==(i=e_e.reportError(e.error))?void 0:i.eventId}catch(e){e.message="Encountered an additional error when reporting error: ".concat(e.message),console.error(e)}if(e_n(e.error))return void r({error:e.error,eventId:t});a.push({id:e.error.message,closable:!0,description:e.error.message,duration:5e3,title:"Uncaught error",status:"error"})}})},[a]),(null==n?void 0:n.error)?n.error instanceof AI?(0,_.jsx)(e_x,{projectId:n.error.projectId,isStaging:n.error.isStaging}):n.error instanceof ekV?(0,_.jsx)(e_F,{schema:n.error.schema}):e_n(n.error)?(0,_.jsx)(e_U,{error:n.error,eventId:n.eventId}):(0,_.jsx)(e_L,{error:n.error,eventId:n.eventId,onReset:i}):t}I.studioTheme.fonts.code.family,I.studioTheme.fonts.text.family,z.black.hex,z.white.hex,z.blue[500].hex,z.white.hex,z.black.hex,z.gray[500].hex,z.gray[500].hex,z.gray[500].hex,z.red[500].hex,z.blue[500].hex,z.green[500].hex,z.yellow[500].hex,z.blue[500].hex,z.blue[500].hex,z.green[500].hex,z.yellow[500].hex,z.red[500].hex,z.black.hex,z.white.hex;let eEU=(0,ne.buildTheme)();function eEH(e){var t,n;return{...eEU,v2:e.v2,fonts:!0===e.__themer?eEU.fonts:null!=(t=e.fonts)?t:eEU.fonts,color:null!=(n=e.color)?n:eEU.color}}function eEq(e){let t,n,r,i=(0,j.c)(18),{children:a}=e,o=eul().activeWorkspace.theme;if(o.__legacy){let e,t,n,r,l=o.__dark?"dark":"light";return i[0]!==o?(e=eEH(o),i[0]=o,i[1]=e):e=i[1],i[2]!==a?(t=(0,_.jsx)(I.LayerProvider,{children:a}),i[2]=a,i[3]=t):t=i[3],i[4]!==l||i[5]!==e||i[6]!==t?(n=(0,_.jsx)(I.ThemeProvider,{scheme:l,theme:e,children:t}),i[4]=l,i[5]=e,i[6]=t,i[7]=n):n=i[7],i[8]!==l||i[9]!==n?(r=(0,_.jsx)(D.ColorSchemeSetValueContext.Provider,{value:!1,children:(0,_.jsx)(D.ColorSchemeValueContext.Provider,{value:l,children:n})}),i[8]=l,i[9]=n,i[10]=r):r=i[10],r}return i[11]!==o?(t=eEH(o),i[11]=o,i[12]=t):t=i[12],i[13]!==a?(n=(0,_.jsx)(I.LayerProvider,{children:a}),i[13]=a,i[14]=n):n=i[14],i[15]!==t||i[16]!==n?(r=(0,_.jsx)(I.ThemeProvider,{theme:t,children:n}),i[15]=t,i[16]=n,i[17]=r):r=i[17],r}let eEW=(0,tc.defineEvent)({name:"Performance INP Measured",maxSampleRate:6e4,version:1,description:"Performance INP (Interaction to Next Paint) measurement happened"});function eEY(e){return function(){let e,t,n,r=(0,j.c)(5),i=(0,tp.useTelemetry)();r[0]!==i?(e=(e,t)=>{let n;for(let t of e.getEntries())"event"===t.entryType&&t.duration>((null==n?void 0:n.duration)||0)&&(n=t);n&&i.log(eEW,{target:function(e){if(!e)return null;if(!(e instanceof Element))return e.nodeName;let{nodeName:t,classList:n,id:r}=e;return t.toLowerCase()+(r?"#".concat(r):"")+(n?".".concat(n.value.replaceAll(" ",".")):"")}(n.target),attrs:function(e){if(!e||!(e instanceof Element))return;let t=e.getAttribute("data-ui")||void 0,n=e.getAttribute("data-testid")||void 0;return t||n?{ui:t,testId:n}:void 0}(n.target),interaction:n.name,duration:n.duration})},r[0]=i,r[1]=e):e=r[1];let a=e;r[2]!==a?(t=()=>{if(!("PerformanceObserver"in globalThis))return;let e=new PerformanceObserver(a);return e.observe({type:"event",buffered:!0}),()=>{e.disconnect()}},n=[a],r[2]=a,r[3]=t,r[4]=n):(t=r[3],n=r[4]),(0,E.useEffect)(t,n)}(),e.children}let eEK=(0,tc.createSessionId)(),eEG=!!("u">typeof C.default&&(null==(b=C.default.env)?void 0:b.SANITY_STUDIO_DEBUG_TELEMETRY)),eE$={flushInterval:1e3,resolveConsent:()=>Promise.resolve({status:"granted"}),sendEvents:async e=>{console.log("[telemetry] submit events (noop): %O",e)},sendBeacon:e=>(console.log("[telemetry] submit events (noop): %O",e),!0)};function eEZ(e){let t=eTt({apiVersion:"v2023-12-18"}),n=t.config().projectId,r=(0,E.useMemo)(()=>eEG?eE$:{flushInterval:3e4,resolveConsent:()=>t.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.studio"}),sendEvents:e=>t.request({uri:"/intake/batch",method:"POST",json:!0,body:{projectId:n,batch:e}}),sendBeacon:e=>navigator.sendBeacon(t.getUrl("/intake/batch"),JSON.stringify({projectId:n,batch:e}))},[t,n]),i=(0,E.useMemo)(()=>(0,tc.createBatchedStore)(eEK,r),[r]);return(0,E.useEffect)(()=>{let t=(0,bj.default)(e.config),n=[],r=[];t.forEach(e=>{n.push(e.dataset),r.push(e.name||"<unnamed>")}),i.logger.updateUserProperties({userAgent:navigator.userAgent,screen:{density:window.devicePixelRatio,height:window.screen.height,width:window.screen.width,innerHeight:window.innerHeight,innerWidth:window.innerWidth},reactVersion:E.version,studioVersion:e9.SANITY_VERSION,plugins:t.flatMap(e=>{var t;return(null==(t=e.plugins)?void 0:t.flatMap(e=>({name:e.name||"<unnamed>"})))||[]}),uniqueWorkspaceNames:new Set(r).size,uniqueDatasetNames:new Set(n).size,workspaceNames:r,datasetNames:n})},[e.config,i.logger]),(0,_.jsx)(tp.TelemetryProvider,{store:i,children:(0,_.jsx)(eEY,{children:e.children})})}function eEX(e){let t={},n=t.order||[],r=t.hidden||[];if(!n.length&&!r.length)return e;let i=e.reduce((e,t)=>{let r=t.title||"<unknown>";if(!t.name)return console.warn('Tool "'.concat(r,'" does not have the required "name" property')),e;if(e[t.name]){let n=e[t.name].tool.title;return console.warn('Tools with duplicate name "'.concat(t.name,'" found ("').concat(r,'" and "').concat(n,'")')),e}let i=n.indexOf(t.name);return e[t.name]={tool:t,index:-1===i?1/0:i},e},{}),a=e.filter(e=>-1===r.indexOf(e.name));return a.sort((e,t)=>{let n=i[e.name],r=i[t.name],a=n?n.index:1/0,o=r?r.index:1/0;return a===o?0:a-o}),a}(0,F.styled)(I.Flex)(TW()),(0,F.styled)(I.Box).attrs({padding:4})(TY());let eEJ=["template"],eEQ=["mode"];function eE1(e){let t,n,r=(0,j.c)(10),{children:i,LoadingComponent:a,workspace:o}=e,{basePath:l,tools:s}=o,c=function(){let e=(0,E.useContext)(D.RouterHistoryContext);if(!e)throw Error("Could not find `RouterHistoryProvider` context");return e}();r[0]!==l||r[1]!==s?(t=function(e){let{basePath:t="/",tools:n}=e,r=nr.route.create("/:tool",e=>{let t=n.find(t=>t.name===e.tool);return t||"desk"!==e.tool||(t=n.find(e=>"structure"===e.name)),t?nr.route.scope(t.name,"/",t.router):nr.route.create("/")});return nr.route.create(t,[nr.route.intents("/intent"),r])}({basePath:l,tools:s}),r[0]=l,r[1]=s,r[2]=t):t=r[2];let u=t,[d,p]=function(e,t,n){var r;let i=(0,E.useMemo)(()=>{let n=t.getBasePath(),r=RegExp("^".concat((0,bh.default)(n),"(\\/|\\?|$)"),"i");return{subscribe:t=>e.listen(t),getSnapshot:()=>"".concat(e.location.pathname).concat(e.location.search||""),getServerSnapshot:()=>null,selector:e=>"string"==typeof e&&("/"===n||r.test(e))?{type:"state",state:t.decode(e)||{},isNotFound:t.isNotFound(e)}:null}},[e,t]),a=(0,bf.useSyncExternalStoreWithSelector)(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,e4.default),o=(0,E.useRef)(a);(0,E.useEffect)(()=>{var r;if((null==a?void 0:a.type)==="state"&&!(null==(r=a.state)?void 0:r.intent)){let r=function(e,t){var n=t&&(eEX(e).find(e=>e.name===t.space)?{...t,tool:t.space,space:void 0}:t);let r=eEX(e)[0];return n&&!n.tool&&r?Object.assign({},n,{tool:r.name}):n}(n,a.state);r&&r!==a.state&&e.replace(t.encode(r))}},[null==a?void 0:a.state,null==a?void 0:a.type,e,t,n]),(0,E.useEffect)(()=>{let r=eE0(a,t,n,o);r?e.replace(r):o.current=a},[a,e,t,n]);let l=(0,E.useMemo)(()=>r=>{let{path:a,replace:l}=r,s=eE0(i.selector(a),t,n,o),c="string"==typeof s?s:a;l?e.replace(c):e.push(c)},[e,t,i,n]);return[null!=(r=null==a?void 0:a.state)?r:null,l]}(c,u,s);if(!d){let e;return r[3]!==a?(e=(0,_.jsx)(a,{}),r[3]=a,r[4]=e):e=r[4],e}return r[5]!==i||r[6]!==p||r[7]!==u||r[8]!==d?(n=(0,_.jsx)(B.ErrorBoundary,{onCatch:eE2,children:(0,_.jsx)(nr.RouterProvider,{onNavigate:p,router:u,state:d,children:i})}),r[5]=i,r[6]=p,r[7]=u,r[8]=d,r[9]=n):n=r[9],n}function eE2(e){let{error:t}=e;throw t}function eE0(e,t,n,r){var i,a;if((null==e?void 0:e.type)==="state"&&(null==(i=e.state)?void 0:i.intent)){let i=function(e,t,n){let{intent:r,params:i,payload:a}=n;if("string"!=typeof r)throw Error("intent must be a string");if(!Io(i))throw Error("intent params must be a string");let o=eEX(e),l=(null==t?void 0:t.tool)?o.find(e=>e.name===t.tool):null,s=l?o.filter(e=>e!==l):o,c=[];"create"===r?c=eEJ:"edit"===r&&(c=eEQ);let{tool:u}=(l?[l,...s]:o).reduce((e,n)=>{if(!n||"function"!=typeof n.canHandleIntent)return e;let a=n.canHandleIntent(r,i,t&&t[n.name]);if("boolean"==typeof a)return a&&e.score<0?{score:0,tool:n}:e;if(!Io(a))return e;let o=c.reduce((e,t)=>t in i&&!0===a[t]?e+1:e,0);return o>e.score?{score:o,tool:n}:e},{score:-1,tool:null});if(null==u?void 0:u.getIntentState){var d,p;let{_searchParams:e,...o}=u.getIntentState(r,i,t&&t[u.name],a),l={...t,_searchParams:n._searchParams,tool:u.name,[u.name]:o};return(null==(d=u.router)?void 0:d.__unsafe_disableScopedSearchParams)?l._searchParams=[...(null==(p=n._searchParams)?void 0:p.filter(e=>{let[t]=e;return nr.STICKY_PARAMS.includes(t)}))||[],...Array.isArray(e)?e:[]]:o._searchParams=e,{type:"state",isNotFound:!1,state:l}}return{type:"intent",isNotFound:!0,intent:{name:r,params:i}}}(n,(null==(a=r.current)?void 0:a.type)==="state"?r.current.state:{},e.state);if((null==i?void 0:i.type)==="state")return t.encode(i.state)}return null}function eE5(e){let t,n,r=(0,j.c)(3),[i,a]=(0,E.useState)(null);if(i)throw i;let[o,l]=(0,E.useState)(null);return r[0]!==e?(t=()=>{let t=(0,ev.combineLatest)(e.__internal.sources.map(eE3)).pipe((0,Z.map)(t=>{let n=t.filter(eE7);if(n.length)throw new euU({name:e.name,causes:n,type:"workspace"});return t}),(0,Z.map)(t=>{let[n,...r]=t,{releases:i,...a}=e;return{...a,...n,unstable_sources:[n,...r],type:"workspace"}})).subscribe({next:l,error:a});return()=>t.unsubscribe()},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,E.useEffect)(t,n),o}function eE7(e){return e instanceof euU}function eE3(e){let{source:t}=e;return t.pipe((0,J.catchError)(eE8))}function eE8(e){if(e instanceof euU)return(0,Y.of)(e);throw e}function eE4(e){let t,n,r,i=(0,j.c)(12),{children:a,LoadingComponent:o}=e,{activeWorkspace:l}=eul(),s=eE5(l);if(!s){let e;return i[0]!==o?(e=(0,_.jsx)(o,{}),i[0]=o,i[1]=e):e=i[1],e}return i[2]!==o||i[3]!==a||i[4]!==s?(t=(0,_.jsx)(eE1,{LoadingComponent:o,workspace:s,children:a}),i[2]=o,i[3]=a,i[4]=s,i[5]=t):t=i[5],i[6]!==t||i[7]!==s.unstable_sources[0]?(n=(0,_.jsx)(eir,{source:s.unstable_sources[0],children:t}),i[6]=t,i[7]=s.unstable_sources[0],i[8]=n):n=i[8],i[9]!==n||i[10]!==s?(r=(0,_.jsx)(FV,{workspace:s,children:n}),i[9]=n,i[10]=s,i[11]=r):r=i[11],r}function eE6(e){let t,n,r,i=(0,j.c)(5);if(i[0]!==e){let{ConfigErrorsComponent:n,...r}=e;t=r,i[0]=e,i[1]=t}else t=i[1];i[2]===Symbol.for("react.memo_cache_sentinel")?(n={error:null},i[2]=n):n=i[2];let[a,o]=(0,E.useState)(n),{error:l}=a;if(l)throw l;return i[3]!==t?(r=(0,_.jsx)(B.ErrorBoundary,{onCatch:o,children:(0,_.jsx)(eE4,{...t})}),i[3]=t,i[4]=r):r=i[4],r}function eE9(e){let t,n,r,i,a,o,l,s,c=(0,j.c)(21),{children:u,config:d,basePath:p,onSchemeChange:f,scheme:h,unstable_history:m,unstable_noAuthBoundary:g}=e;e_e.initialize(),c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(eEn,{errorReporter:e_e}),c[0]=t):t=c[0],c[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(eEe,{}),c[1]=n):n=c[1],c[2]!==u?(r=(0,_.jsx)(DX,{children:(0,_.jsxs)(eEh,{children:[t,(0,_.jsx)(Fr,{children:(0,_.jsxs)(efy,{children:[n,(0,_.jsx)(eEL,{children:(0,_.jsx)(eS6,{children:(0,_.jsx)(ewq,{children:u})})})]})})]})}),c[2]=u,c[3]=r):r=c[3],c[4]!==d||c[5]!==r?(i=(0,_.jsx)(eE6,{LoadingComponent:DU,ConfigErrorsComponent:e_v,children:(0,_.jsx)(eEZ,{config:d,children:r})}),c[4]=d,c[5]=r,c[6]=i):i=c[6];let y=i;return c[7]!==y||c[8]!==g?(a=(0,_.jsx)(eEq,{children:(0,_.jsx)(Aw,{children:g?y:(0,_.jsx)(eS9,{LoadingComponent:DU,AuthenticateComponent:e_y,NotAuthenticatedComponent:e_w,children:y})})}),c[7]=y,c[8]=g,c[9]=a):a=c[9],c[10]!==m||c[11]!==a?(o=(0,_.jsx)(ek2,{unstable_history:m,NotFoundComponent:e__,LoadingComponent:DU,children:a}),c[10]=m,c[11]=a,c[12]=o):o=c[12],c[13]!==p||c[14]!==d||c[15]!==o?(l=(0,_.jsx)(A.ToastProvider,{paddingY:7,zOffset:erF.toast,children:(0,_.jsx)(e_W,{children:(0,_.jsx)(eEV,{children:(0,_.jsx)(ekX,{config:d,basePath:p,LoadingComponent:DU,children:o})})})}),c[13]=p,c[14]=d,c[15]=o,c[16]=l):l=c[16],c[17]!==f||c[18]!==h||c[19]!==l?(s=(0,_.jsx)(ewn,{onSchemeChange:f,scheme:h,children:l}),c[17]=f,c[18]=h,c[19]=l,c[20]=s):s=c[20],s}function eTe(e){let t,n,r,i=(0,j.c)(11),{basePath:a,config:o,onSchemeChange:l,scheme:s,unstable_globalStyles:c,unstable_history:u,unstable_noAuthBoundary:d}=e;return i[0]!==c?(t=c&&(0,_.jsx)(eS3,{}),i[0]=c,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,_.jsx)(e_$,{}),i[2]=n):n=i[2],i[3]!==a||i[4]!==o||i[5]!==l||i[6]!==s||i[7]!==t||i[8]!==u||i[9]!==d?(r=(0,_.jsxs)(eE9,{basePath:a,config:o,onSchemeChange:l,scheme:s,unstable_history:u,unstable_noAuthBoundary:d,children:[t,n]}),i[3]=a,i[4]=o,i[5]=l,i[6]=s,i[7]=t,i[8]=u,i[9]=d,i[10]=r):r=i[10],r}function eTt(e){let t,n=(0,j.c)(5),r=eii();if(!e){let e;return console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next major version - please specify a date, e.g. `useClient({apiVersion: "2025-02-10"})`.'),n[0]!==r?(e=r.getClient({apiVersion:"v2025-02-07"}),n[0]=r,n[1]=e):e=n[1],e}return n[2]!==e||n[3]!==r?(t=r.getClient(e),n[2]=e,n[3]=r,n[4]=t):t=n[4],t}function eTn(e){var t;let n,r,i,a,o=(0,j.c)(8),l=(0,A.useToast)(),[s,c]=(0,E.useState)();o[0]!==e.enabled?(n=()=>{c(t=>e.enabled?t||new Date:void 0)},r=[e.enabled],o[0]=e.enabled,o[1]=n,o[2]=r):(n=o[1],r=o[2]),(0,E.useEffect)(n,r);let u=function(e){let t,n,r,i=(0,j.c)(4);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Date,i[0]=t):t=i[0];let[a,o]=(0,E.useState)(t);return 1e3!==i[1]?(n=()=>{let t=setInterval(()=>{o(new Date)},e);return()=>clearInterval(t)},r=[e],i[1]=e,i[2]=n,i[3]=r):(n=i[2],r=i[3]),(0,E.useEffect)(n,r),a}(1e3),d=s&&e.enabled&&u.getTime()-s.getTime()>(null!=(t=null==e?void 0:e.delay)?t:0);o[3]!==d||o[4]!==e||o[5]!==l?(i=()=>{if(d)return l.push({...e,duration:1/0}),()=>{l.push({...e,duration:.01})}},a=[e,l,d],o[3]=d,o[4]=e,o[5]=l,o[6]=i,o[7]=a):(i=o[6],a=o[7]),(0,E.useEffect)(i,a)}function eTr(e,t){let n,r=(0,j.c)(4),i=Fd();return r[0]!==t||r[1]!==i.pair||r[2]!==e?(n=i.pair.operationEvents(e,t),r[0]=t,r[1]=i.pair,r[2]=e,r[3]=n):n=r[3],(0,te.useObservable)(n)}(0,gs.registerLanguage)(gc),(0,gs.registerLanguage)(gd),(0,gs.registerLanguage)(gp),(0,gs.registerLanguage)(gh),(0,gs.registerLanguage)(gm);let eTi=(0,tl.isHotkey)("mod+c"),eTa=(0,tl.isHotkey)("mod+v");function eTo(e){let t,n,r,i=(0,j.c)(11),{value:a,element:o,focusPath:l}=e,{onCopy:s,onPaste:c}=eS7();i[0]!==l||i[1]!==s||i[2]!==c||i[3]!==a?(t=e=>{let t=e.target;if(eTi(e)){if(eSG(t)||function(){if(typeof window>"u"||!window.getSelection)return!1;let e=window.getSelection();return null!==e&&!e.isCollapsed}()||eS$(l))return;e.preventDefault(),e.stopPropagation(),s(l,a,{context:{source:"keyboardShortcut"}})}if(eTa(e)){var n;if(eSG(t)||eS$(l)||(null==t||null==(n=t.dataset)?void 0:n.isFileTarget)==="true")return;e.stopPropagation(),e.preventDefault(),c(l,a,{context:{source:"keyboardShortcut"}})}},i[0]=l,i[1]=s,i[2]=c,i[3]=a,i[4]=t):t=i[4];let u=(0,tu.useEffectEvent)(t);i[5]!==o||i[6]!==u?(n=()=>(null==o||o.addEventListener("keydown",u),()=>{null==o||o.removeEventListener("keydown",u)}),i[5]=o,i[6]=u,i[7]=n):n=i[7],i[8]!==o||i[9]!==c?(r=[o,c],i[8]=o,i[9]=c,i[10]=r):r=i[10],(0,E.useEffect)(n,r)}function eTl(e){var t;let{documentId:n,documentType:r,projectId:i,dataset:a,resourceId:o,resourceType:l,schemaName:s}=e,{node:c}=Fg();if("studio"===l&&(!i||!a))throw Error("projectId and dataset are required for studio resources");let u="studio"!==l||o?o:"".concat(i,".").concat(a);if(!u)throw Error("resourceId is required for media-library and canvas resources");let d=(0,E.useMemo)(()=>({documentId:n,documentType:r,resourceId:u,resourceType:l,schemaName:s}),[n,r,u,l,s]),p=(0,E.useMemo)(()=>(function(e){let t,{node:n,context:r}=e,i=new ea.Subject;return{state:(0,eD.iif)(()=>typeof n>"u",(0,Y.of)(eTs),(0,ei.merge)(i.pipe((0,ed.distinctUntilChanged)(),(0,ew.filter)(e=>"boolean"==typeof e),(0,eq.connect)(e=>(0,ei.merge)(e.pipe((0,Z.map)(e=>({type:"SET",payload:e}))),e.pipe((0,eW.debounceTime)(750),(0,ew.filter)(e=>!(typeof t>"u")&&e!==t),function(e){let{node:t,context:n}=e;return(0,eu.pipe)((0,eC.mergeMap)(e=>{if(typeof n.resourceId>"u"||typeof t>"u")return $.EMPTY;let r={eventType:e?"added":"removed",document:{id:n.documentId,type:n.documentType,resource:{id:n.resourceId,type:n.resourceType,...n.schemaName?{schemaName:n.schemaName}:{}}}};return(0,en.from)(t.fetch("dashboard/v1/events/favorite/mutate",r)).pipe((0,J.catchError)(e=>(console.error("Favorites service write error",e),ec.NEVER)),(0,Z.map)(t=>({success:"object"==typeof t&&null!==t&&"success"in t&&!!t.success,isFavorited:e})))},1))}({node:n,context:r}),(0,eh.tap)(e=>{let{success:n,isFavorited:r}=e;n&&(t=r)}),(0,Q.switchMap)(()=>$.EMPTY))))),(function(e){let{node:t,context:n}=e;if(typeof n.resourceId>"u"||typeof t>"u")return $.EMPTY;let r={document:{id:n.documentId,type:n.documentType,resource:{id:n.resourceId,type:n.resourceType,schemaName:n.schemaName}}};return(0,en.from)(t.fetch("dashboard/v1/events/favorite/query",r)).pipe((0,eH.timeout)({first:3e3,with:()=>(0,el.throwError)(()=>Error("Favorites service connection timeout"))}),(0,Z.map)(e=>({isFavorited:e.isFavorited})),(0,J.catchError)(e=>(console.error("Favorites service connection error",e),(0,Y.of)({isFavorited:!1}))))})({node:n,context:r}).pipe((0,Z.map)(e=>({type:"END_READ",payload:e})),(0,eh.tap)(e=>{let{payload:n}=e;t=n.isFavorited}),(0,eI.startWith)({type:"BEGIN_READ"}))).pipe((0,eO.scan)((e,t)=>{switch(t.type){case"BEGIN_READ":return{...e,isReady:!1};case"END_READ":return{...e,value:t.payload.isFavorited,isReady:!0};case"SET":return{...e,value:t.payload};default:return e}},eTs))),setState:e=>i.next(e)}})({node:c,context:d}),[d,c]),f=(0,te.useObservable)(p.state);return{favorite:(0,E.useCallback)(()=>p.setState(!0),[p]),unfavorite:(0,E.useCallback)(()=>p.setState(!1),[p]),isFavorited:null==f?void 0:f.value,isReady:null!=(t=null==f?void 0:f.isReady)&&t}}let eTs={value:void 0,isReady:!1},eTc=e=>{let t,n,r=(0,j.c)(5),{t:i}=IO();r[0]!==i?(t=i("common.reconnecting.toast.title"),r[0]=i,r[1]=t):t=r[1],r[2]!==e||r[3]!==t?(n={enabled:e,delay:2e3,id:"sanity/reconnecting",status:"warning",title:t},r[2]=e,r[3]=t,r[4]=n):n=r[4],eTn(n)},eTu=e=>{let t=ep9(),{studioApp:n,loading:r}=ef_({enabled:!0}),{activeWorkspace:i}=eul(),{value:a,loading:o}=ep4(),l=r||o,s=(null==t?void 0:t.name)==="coreUi",c=(0,E.useMemo)(()=>s&&!l&&(null==n?void 0:n.appId)&&a?(e=>{let{organizationId:t,appId:n,workspaceName:r}=e;return"".concat("https://www.sanity.io","/@").concat(t,"/studio/").concat(n,"/").concat(r)})({organizationId:a,appId:n.appId,workspaceName:i.name}):e||window.location.toString(),[i.name,e,s,l,a,null==n?void 0:n.appId]);return{buildStudioUrl:(0,E.useCallback)(e=>{var t;let{coreUi:n,studio:r}=e;return(null==(t=s?n:r)?void 0:t(c))||c},[s,c]),studioUrl:c}},eTd={isSyncing:!0},eTp={isSyncing:!1};function eTf(e,t,n){let r,i=(0,j.c)(5),a=Fd();return i[0]!==a.pair||i[1]!==t||i[2]!==e||i[3]!==n?(r=a.pair.consistencyStatus(e,t,n).pipe((0,Z.map)(eTh)),i[0]=a.pair,i[1]=t,i[2]=e,i[3]=n,i[4]=r):r=i[4],(0,te.useObservable)(r,eTp)}function eTh(e){return e?eTp:eTd}function eTm(){return eii().templates}let eTg={data:[],error:null,loading:!0};function eTy(e){let{documentValue:t,permission:n}=e,r=Ff(),i=Fl(),a=eTt(AE),[o,l]=(0,E.useState)(eTg),[s,c]=(0,E.useMemo)(()=>[r.get().pipe((0,Z.map)(e=>{var t;return null==(t=e.members)?void 0:t.filter(e=>!e.isRobot)})).pipe((0,ep.shareReplay)(1)).pipe((0,Q.switchMap)(async e=>{let t=e.map(e=>{let{id:t}=e;return t});return await i.getUsers(t)}),(0,Z.map)(e=>e.map(e=>({displayName:e.displayName,id:e.id,granted:!1})))),a.observable.fetch('*[_type == "system.group"]').pipe((0,ep.shareReplay)(1))],[a.observable,r,i]),u=(0,E.useMemo)(()=>(0,eL.forkJoin)([s,c]).pipe((0,eC.mergeMap)(async e=>{let[r,i]=e,a=null==r?void 0:r.map(async e=>{let r=[...i.map(t=>t.members.includes(e.id)?t.grants:[])].flat(),{granted:a}=await MT(e.id,r,n,t);return{...e,granted:a}});return await Promise.all(a||[])})).pipe((0,Z.map)(e=>({error:null,loading:!1,data:(0,nl.default)(e,"displayName")}))),[t,n,s,c]);return(0,E.useEffect)(()=>{let e=(0,Y.of)(eTg),t=(0,K.concat)(e,u).subscribe({next:l,error:e=>{l({data:[],error:e,loading:!1})}});return()=>{t.unsubscribe()}},[u]),o}function eTv(e){let{draft:t,published:n,versions:r,singleLine:i}=e,{data:a}=z0(),o=(0,E.useMemo)(()=>Object.entries(null!=r?r:{}),[r]),{t:l}=IO(),{document:{drafts:{enabled:s}}}=FU();return(0,_.jsxs)(I.Flex,{align:i?"center":"flex-start",direction:i?"row":"column",gap:3,wrap:"nowrap",children:[n&&(0,_.jsx)(eTx,{title:l("release.chip.published"),mode:"published",timestamp:n._updatedAt,tone:"positive"}),s&&t&&(0,_.jsx)(eTx,{title:l("release.chip.draft"),mode:"draft",timestamp:t._updatedAt,tone:"caution"}),o.map(e=>{let[t,n]=e;if(!n)return null;let r=null==a?void 0:a.find(e=>FF(e._id)===t);return(0,_.jsx)(eTx,{mode:(null==n?void 0:n._updatedAt)===(null==n?void 0:n._createdAt)?"created":"edited",title:(null==r?void 0:r.metadata.title)||l("release.placeholder-untitled-release"),timestamp:null==n?void 0:n._updatedAt,tone:r?RD(r):"default"},t)})]})}let eTb={draft:"document-status.edited",published:"document-status.date",edited:"document-status.edited",created:"document-status.created"},eTx=e=>{let t,n,r,i,a,o,l,s,c=(0,j.c)(19),{title:u,timestamp:d,mode:p,tone:f}=e,{t:h}=IO();c[0]===Symbol.for("react.memo_cache_sentinel")?(t={minimal:!0,useTemporalPhrase:!0},c[0]=t):t=c[0];let m=Rp(d||"",t);c[1]!==f?(n=(0,_.jsx)(erX,{tone:f,padding:0}),c[1]=f,c[2]=n):n=c[2],c[3]!==h||c[4]!==u?(r=u||h("release.placeholder-untitled-release"),c[3]=h,c[4]=u,c[5]=r):r=c[5],c[6]===Symbol.for("react.memo_cache_sentinel")?(i={color:"var(--card-muted-fg-color)"},c[6]=i):i=c[6];let g=eTb[p];return c[7]!==m||c[8]!==h||c[9]!==g?(a=h(g,{date:m}),c[7]=m,c[8]=h,c[9]=g,c[10]=a):a=c[10],c[11]!==a?(o=(0,_.jsx)("span",{style:i,children:a}),c[11]=a,c[12]=o):o=c[12],c[13]!==r||c[14]!==o?(l=(0,_.jsxs)(I.Text,{size:1,children:[r," ",o]}),c[13]=r,c[14]=o,c[15]=l):l=c[15],c[16]!==n||c[17]!==l?(s=(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[n,l]}),c[16]=n,c[17]=l,c[18]=s):s=c[18],s},eTC={"retry.title":"Retry","copy-error-details.description":"These technical details may be useful for developers.","copy-error-details.title":"Copy error details","copy-error-details.toast.get-failed":"Failed to get error details","copy-error-details.toast.copy-failed":"Failed to copy error details"},eTk="copyErrorDetails";function eTw(e){return navigator.clipboard.writeText(e)}let eT_=e=>{let t,n,r,i=(0,j.c)(10),{error:a,eventId:o,onRetry:l,isRetrying:s,size:c}=e,u=function(e,t){let n,r=(0,j.c)(4),i=(0,A.useToast)();return r[0]!==e||r[1]!==t||r[2]!==i?(n=()=>{(0,Y.of)({error:e,eventId:t}).pipe((0,Z.map)(e=>{let{error:t,eventId:n}=e;return JSON.stringify({error:Io(t)?(0,h3.default)(t,Object.getOwnPropertyNames(t)):void 0,eventId:n},null,2)}),(0,J.catchError)(e=>(console.error(e),i.push({status:"error",title:eTC["copy-error-details.toast.get-failed"],id:eTk}),$.EMPTY)),(0,eh.tap)(eTw),(0,J.catchError)(e=>(console.error(e),i.push({status:"error",title:eTC["copy-error-details.toast.copy-failed"],id:eTk}),$.EMPTY))).subscribe()},r[0]=e,r[1]=t,r[2]=i,r[3]=n):n=r[3],n}(a,o);return i[0]!==s||i[1]!==l||i[2]!==c?(t=l&&(0,_.jsx)(B.Button,{disabled:s,loading:s,onClick:l,text:eTC["retry.title"],tone:"primary",icon:R.SyncIcon,size:c}),i[0]=s,i[1]=l,i[2]=c,i[3]=t):t=i[3],i[4]!==u||i[5]!==c?(n=(0,_.jsx)(B.Tooltip,{content:eTC["copy-error-details.description"],children:(0,_.jsx)(B.Button,{onClick:u,text:eTC["copy-error-details.title"],tone:"default",mode:"ghost",icon:R.CopyIcon,size:c})}),i[4]=u,i[5]=c,i[6]=n):n=i[6],i[7]!==t||i[8]!==n?(r=(0,_.jsxs)(I.Inline,{space:3,children:[t,n]}),i[7]=t,i[8]=n,i[9]=r):r=i[9],r},eTj=(0,F.styled)(I.Container)(e=>{let{theme:t}=e,{container:n,media:r}=t.sanity;return(0,I._responsive)(r,e.$width,e=>({width:"auto"===e?"none":(0,I.rem)(n[e]),maxWidth:"100%"}))}),eTS=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l=(0,j.c)(11);l[0]!==e?({width:r,...n}=e,l[0]=e,l[1]=n,l[2]=r):(n=l[1],r=l[2]),l[3]!==r?(i=void 0===r?[]:r,l[3]=r,l[4]=i):i=l[4];let s=i;return l[5]!==s?(a=Array.isArray(s)?s:[s],l[5]=s,l[6]=a):a=l[6],l[7]!==t||l[8]!==n||l[9]!==a?(o=(0,_.jsx)(eTj,{...n,"data-ui":"PopoverContainer",$width:a,ref:t}),l[7]=t,l[8]=n,l[9]=a,l[10]=o):o=l[10],o}),eTE=(0,F.styled)(B.Popover)(()=>(0,F.css)(TK())),eTT=(0,F.styled)(I.Layer)(e=>{let t=e.theme.sanity.radius[3];return(0,F.css)(TG(),t,t)});function eTD(e){let t,n,r,i,a,o,l,s,c,u=(0,j.c)(23),{children:d,header:p,onClose:f,referenceElement:h,containerRef:m,width:g}=e;u[0]!==f||u[1]!==h?(t=()=>{f(),null==h||h.focus()},u[0]=f,u[1]=h,u[2]=t):t=u[2];let y=t;u[3]!==p?(n=(0,_.jsx)(I.Box,{flex:1,children:(0,_.jsx)(I.Text,{size:1,textOverflow:"ellipsis",weight:"medium",children:p})}),u[3]=p,u[4]=n):n=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(r={content:"Close"},u[5]=r):r=u[5],u[6]!==y?(i=(0,_.jsx)(B.Button,{icon:R.CloseIcon,mode:"bleed",onClick:y,tooltipProps:r}),u[6]=y,u[7]=i):i=u[7],u[8]!==n||u[9]!==i?(a=(0,_.jsx)(eTT,{children:(0,_.jsx)(I.Box,{padding:2,paddingLeft:4,children:(0,_.jsxs)(I.Flex,{align:"center",gap:2,children:[n,i]})})}),u[8]=n,u[9]=i,u[10]=a):a=u[10],u[11]!==d?(o=(0,_.jsx)(I.Box,{padding:4,children:d}),u[11]=d,u[12]=o):o=u[12],u[13]!==m||u[14]!==a||u[15]!==o?(l=(0,_.jsx)(ts.default,{autoFocus:!0,children:(0,_.jsxs)(I.Stack,{ref:m,children:[a,o]})}),u[13]=m,u[14]=a,u[15]=o,u[16]=l):l=u[16],u[17]!==l||u[18]!==g?(s=(0,_.jsx)(eTS,{width:g,children:l}),u[17]=l,u[18]=g,u[19]=s):s=u[19];let v=s;return u[20]!==v||u[21]!==h?(c=(0,_.jsx)(eTE,{portal:!0,constrainSize:!0,content:v,open:!0,referenceElement:h}),u[20]=v,u[21]=h,u[22]=c):c=u[22],c}let eTI=(0,F.styled)(I.Card)(()=>(0,F.css)(T$())),eTA=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c=(0,j.c)(16);c[0]!==e?({children:r,selected:a,as:n,...i}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=i,c[4]=a):(n=c[1],r=c[2],i=c[3],a=c[4]),c[5]!==a?(o={selected:a},c[5]=a,c[6]=o):o=c[6];let u=o;return c[7]!==r||c[8]!==u?(l=(0,_.jsx)(D.PreviewCardContext.Provider,{value:u,children:r}),c[7]=r,c[8]=u,c[9]=l):l=c[9],c[10]!==n||c[11]!==t||c[12]!==i||c[13]!==a||c[14]!==l?(s=(0,_.jsx)(eTI,{"data-ui":"PreviewCard",...i,forwardedAs:n,ref:t,selected:a,children:l}),c[10]=n,c[11]=t,c[12]=i,c[13]=a,c[14]=l,c[15]=s):s=c[15],s}),eTO=(0,F.styled)(eTA)(TZ()),eTP=F.styled.span(e=>{let{$dimensions:t,$layout:n,$radius:r,$responsive:i}=e,a=t.width||0,o=t.width||0,l=esV[n].icon;return(0,F.css)(TX(),i?"100%":(0,I.rem)(a),i?"100%":(0,I.rem)(o),i?void 0:(0,I.rem)(a),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[r])},l)});function eTM(e){let t,n,r,i=(0,j.c)(14),{border:a,dimensions:o,layout:l,media:s,radius:c,responsive:u,styles:d}=e,p=void 0===a||a,f=void 0===c?1:c,h=void 0!==u&&u,m=null==d?void 0:d.media;return i[0]!==o||i[1]!==l||i[2]!==s?(t=function(e){let{dimensions:t,layout:n,media:r,styles:i}=e;return(0,ta.isValidElementType)(r)?(0,_.jsx)(r,{dimensions:t,layout:n}):"string"==typeof r?(0,_.jsx)(I.Text,{as:"span",className:null==i?void 0:i.mediaString,size:1,children:r}):(0,E.isValidElement)(r)?r:null}({dimensions:o,layout:l,media:s}),i[0]=o,i[1]=l,i[2]=s,i[3]=t):t=i[3],i[4]!==p?(n=p&&(0,_.jsx)("span",{"data-border":!0}),i[4]=p,i[5]=n):n=i[5],i[6]!==o||i[7]!==l||i[8]!==f||i[9]!==h||i[10]!==m||i[11]!==t||i[12]!==n?(r=(0,_.jsxs)(eTP,{$dimensions:o,$layout:l,$radius:f,$responsive:h,className:m,"data-testid":"Media",children:[t,n]}),i[6]=o,i[7]=l,i[8]=f,i[9]=h,i[10]=m,i[11]=t,i[12]=n,i[13]=r):r=i[13],r}function eTF(e,t,n){return"string"==typeof e?e:(0,ta.isValidElementType)(e)?(0,_.jsx)(e,{layout:t}):e||n}eTP.displayName="Styled(MediaWrapper)";let eTR={...esV.compact.media,aspect:1,fit:"crop",dpr:(0,np.getDevicePixelRatio)()},eTB=(0,F.styled)(I.Flex)(TJ(),(0,I.rem)(esV.compact.media.height)),eTN=(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(TQ(),(0,I.rem)(160)),eTL={...esV.default.media,aspect:1,fit:"crop",dpr:(0,np.getDevicePixelRatio)()},eTz=(0,F.styled)(I.Flex)(T1(),(0,I.rem)(esV.default.media.height)),eTV=(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(T2(),(0,I.rem)(160)),eTU=(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(T0(),(0,I.rem)(120));function eTH(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(52),{title:m,subtitle:g,media:y,status:v,isPlaceholder:b,children:x,styles:C}=e,{t:k}=IO(),w=null==C?void 0:C.root,S=!!g&&(null==C?void 0:C.hasSubtitle);h[0]!==w||h[1]!==S?(t=(0,nf.default)(w,S),h[0]=w,h[1]=S,h[2]=t):t=h[2];let E=t;h[3]!==v||h[4]!==(null==C?void 0:C.status)?(n=v&&(0,_.jsx)(I.Box,{className:null==C?void 0:C.status,"data-testid":"default-preview__status",children:eTF(v,"default")}),h[3]=v,h[4]=null==C?void 0:C.status,h[5]=n):n=h[5];let T=n;if(b){let e,t,n,r,i,a=null==C?void 0:C.placeholder,o=y?2:3;return h[6]!==y?(e=y&&(0,_.jsx)(I.Box,{flex:"none",children:(0,_.jsx)(A.Skeleton,{animated:!0,delay:300,radius:1,style:esV.default.media})}),h[6]=y,h[7]=e):e=h[7],h[8]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsxs)(I.Stack,{"data-testid":"default-preview__heading",flex:1,space:2,children:[(0,_.jsx)(eTV,{delay:300}),(0,_.jsx)(eTU,{delay:300})]}),h[8]=t):t=h[8],h[9]!==T?(n=(0,_.jsx)(I.Box,{flex:"none",padding:1,children:T}),h[9]=T,h[10]=n):n=h[10],h[11]!==e||h[12]!==n?(r=(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:2,children:[e,t,n]}),h[11]=e,h[12]=n,h[13]=r):r=h[13],h[14]!==a||h[15]!==o||h[16]!==r?(i=(0,_.jsx)(eTz,{align:"center",className:a,"data-testid":"default-preview",padding:2,paddingLeft:o,children:r}),h[14]=a,h[15]=o,h[16]=r,h[17]=i):i=h[17],i}let D=y?2:3;h[18]!==y||h[19]!==C?(r=y&&(0,_.jsx)(I.Box,{flex:"none",children:(0,_.jsx)(eTM,{dimensions:eTL,layout:"default",media:y,styles:C})}),h[18]=y,h[19]=C,h[20]=r):r=h[20];let O=null==C?void 0:C.heading,P=null==C?void 0:C.title;return h[21]===Symbol.for("react.memo_cache_sentinel")?(i={color:"inherit"},h[21]=i):i=h[21],h[22]!==m?(a=m&&eTF(m,"default"),h[22]=m,h[23]=a):a=h[23],h[24]!==k||h[25]!==m?(o=!m&&(0,_.jsx)("span",{style:{color:"var(--card-muted-fg-color)"},children:k("preview.default.title-fallback")}),h[24]=k,h[25]=m,h[26]=o):o=h[26],h[27]!==o||h[28]!==P||h[29]!==a?(l=(0,_.jsxs)(I.Text,{className:P,size:1,style:i,textOverflow:"ellipsis",weight:"medium",children:[a,o]}),h[27]=o,h[28]=P,h[29]=a,h[30]=l):l=h[30],h[31]!==(null==C?void 0:C.subtitle)||h[32]!==g?(s=g&&(0,_.jsx)(I.Text,{muted:!0,size:1,textOverflow:"ellipsis",className:null==C?void 0:C.subtitle,children:eTF(g,"default")}),h[31]=null==C?void 0:C.subtitle,h[32]=g,h[33]=s):s=h[33],h[34]!==l||h[35]!==s||h[36]!==O?(c=(0,_.jsxs)(I.Stack,{className:O,"data-testid":"default-preview__header",flex:1,space:2,children:[l,s]}),h[34]=l,h[35]=s,h[36]=O,h[37]=c):c=h[37],h[38]!==T?(u=(0,_.jsx)(I.Box,{flex:"none",padding:1,children:T}),h[38]=T,h[39]=u):u=h[39],h[40]!==x||h[41]!==(null==C?void 0:C.children)?(d=x&&(0,_.jsx)("div",{className:null==C?void 0:C.children,children:x}),h[40]=x,h[41]=null==C?void 0:C.children,h[42]=d):d=h[42],h[43]!==c||h[44]!==u||h[45]!==d||h[46]!==r?(p=(0,_.jsxs)(I.Flex,{align:"center",flex:1,gap:2,children:[r,c,u,d]}),h[43]=c,h[44]=u,h[45]=d,h[46]=r,h[47]=p):p=h[47],h[48]!==E||h[49]!==p||h[50]!==D?(f=(0,_.jsx)(eTz,{align:"center",className:E,"data-testid":"default-preview",padding:2,paddingLeft:D,children:p}),h[48]=E,h[49]=p,h[50]=D,h[51]=f):f=h[51],f}let eTq={...esV.detail.media,fit:"crop",aspect:1,dpr:(0,np.getDevicePixelRatio)()},eTW=F.styled.svg(T5(),43,43),eTY=F.styled.circle(e=>{let{theme:t}=e,{color:n}=t.sanity;return(0,F.css)(T7(),z.hues.gray[n.dark?900:100].hex,3)}),eTK=F.styled.circle(e=>{let{theme:t}=e,{color:n}=t.sanity;return(0,F.css)(T3(),z.hues.blue[n.dark?400:500].hex,3)});function eTG(e){let t,n,r=(0,j.c)(3),{value:i}=e,a=Math.min(Math.max(i,0),100),o=2*Math.PI*20,l="".concat(21.5," ").concat(21.5," ").concat(43," ").concat(43);r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,_.jsx)(eTY,{cx:43,cy:43,r:20}),r[0]=t):t=r[0];let s="".concat((100-a)/100*o,"px");return r[1]!==s?(n=(0,_.jsxs)(eTW,{viewBox:l,children:[t,(0,_.jsx)(eTK,{cx:43,cy:43,r:20,style:{strokeDasharray:o,strokeDashoffset:s}})]}),r[1]=s,r[2]=n):n=r[2],n}let eT$=(0,F.styled)(I.Card)(T8()),eTZ=(0,F.styled)(I.Card)(e=>{let{theme:t}=e,{color:n}=t.sanity;return(0,F.css)(T4(),.5,z.hues.blue[n.dark?400:500].hex)});function eTX(e){let t,n=(0,j.c)(2),{value:r}=e,i="translate3d(".concat(r-100,"%, 0, 0)");return n[0]!==i?(t=(0,_.jsx)(eT$,{radius:5,children:(0,_.jsx)(eTZ,{radius:5,style:{transform:i}})}),n[0]=i,n[1]=t):t=n[1],t}let eTJ=(0,F.styled)(I.Box)(T6()),eTQ=(0,F.styled)(I.Flex).attrs({align:"center",justify:"center"})(T9()),eT1=(0,F.styled)(A.Skeleton).attrs({animated:!0,radius:2})(De()),eT2=(0,F.styled)(I.Flex).attrs({align:"center",justify:"center"})(Dt()),eT0=(0,F.styled)(I.Stack).attrs({space:2})(Dn(),(0,I.rem)(200)),eT5={...esV.media.media,aspect:1,fit:"crop",dpr:(0,np.getDevicePixelRatio)()},eT7=(0,F.styled)(I.Flex).attrs({align:"center"})(Dr(),(0,I.rem)(esV.block.media.height)),eT3=(0,F.styled)(I.Card)(Di(),e=>{let{$ratio:t}=e;return t}),eT8=(0,F.styled)(I.Box).attrs({overflow:"hidden"})(Da(),e=>{let{theme:t}=e;return t.sanity.radius[1]}),eT4={...esV.blockImage.media,fit:"fillmax",dpr:(0,np.getDevicePixelRatio)()},eT6={...esV.block.media,aspect:1,fit:"crop",dpr:(0,np.getDevicePixelRatio)()},eT9=(0,F.styled)(I.Flex).attrs({align:"center"})(Do(),(0,I.rem)(esV.block.media.height)),eDe=F.styled.span(Dl()),eDt=F.styled.span(Ds(),e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[1])},e=>{let{theme:t}=e;return(0,I.rem)(t.sanity.radius[1])}),eDn=(0,F.styled)(I.Text).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e,n=t.sanity.fonts.text,r=n.sizes[1];return(0,F.css)(Dc(),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),eDr={...esV.inline.media,fit:"crop",aspect:1,dpr:(0,np.getDevicePixelRatio)()};esV.default.media,(0,np.getDevicePixelRatio)(),(0,F.styled)(I.Box)(Du()),(0,F.styled)(I.Flex).attrs({align:"center"})(Dd(),(0,I.rem)(esV.default.media.height)),(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1})(Dp(),(0,I.rem)(160)),(0,F.styled)(A.TextSkeleton).attrs({animated:!0,radius:1,size:1})(Df(),(0,I.rem)(120));let eDi=["aria-hidden","disabled","href"];function eDa(e){let t,n,r,i,a,o,l,s,c,u,d,p,f,h=(0,j.c)(37),{direction:m,initialFocus:g,loop:y,navigation:v,pause:b,rootElement:x}=e,C=void 0===m?"horizontal":m,k=void 0===y||y;h[0]!==v?(t=void 0===v?["arrows"]:v,h[0]=v,h[1]=t):t=h[1];let w=t,_=void 0!==b&&b,[S,T]=(0,E.useState)(-1);h[2]===Symbol.for("react.memo_cache_sentinel")?(n=[],h[2]=n):n=h[2];let[D,I]=(0,E.useState)(n),A=D.length,O=A-1,P="horizontal"===C?"ArrowRight":"ArrowDown",M="horizontal"===C?"ArrowLeft":"ArrowUp";h[3]!==x?(r=()=>{x&&I([...x.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter(e=>!e.hasAttribute("disabled")&&"true"!==e.getAttribute("aria-hidden")))},h[3]=x,h[4]=r):r=h[4];let F=r;h[5]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{T(e)},h[5]=i):i=h[5];let R=i;h[6]!==A||h[7]!==O||h[8]!==k||h[9]!==w||h[10]!==P||h[11]!==_||h[12]!==M?(a=e=>{if(_)return;let t=()=>{e.preventDefault(),T(e=>{let t=(e+O)%A;return k||t!==O?t:e})},n=()=>{e.preventDefault(),T(e=>{let t=(e+1)%A;return k||0!==t?t:e})};"Tab"===e.key&&w.includes("tab")&&(e.shiftKey?t():n()),w.includes("arrows")&&(e.key===M&&t(),e.key===P&&n())},h[6]=A,h[7]=O,h[8]=k,h[9]=w,h[10]=P,h[11]=_,h[12]=M,h[13]=a):a=h[13];let B=a;h[14]!==F?(o=()=>{F()},h[14]=F,h[15]=o):o=h[15],h[16]!==C||h[17]!==F||h[18]!==g?(l=[F,g,C],h[16]=C,h[17]=F,h[18]=g,h[19]=l):l=h[19],(0,E.useEffect)(o,l),h[20]!==F||h[21]!==x?(s=()=>{let e=new MutationObserver(F);return x&&e.observe(x,{childList:!0,subtree:!0,attributeFilter:eDi}),()=>{e.disconnect()}},h[20]=F,h[21]=x,h[22]=s):s=h[22],h[23]!==D||h[24]!==F||h[25]!==x?(c=[D,F,x],h[23]=D,h[24]=F,h[25]=x,h[26]=c):c=h[26],(0,E.useEffect)(s,c),h[27]!==D||h[28]!==S||h[29]!==g||h[30]!==O?(u=()=>{var e;D.forEach((e,t)=>{t===S?(e.setAttribute("tabIndex","0"),e.setAttribute("aria-selected","true"),e.focus(),e.onfocus=()=>R(t),e.onblur=()=>R(-1)):(e.setAttribute("tabIndex","-1"),e.setAttribute("aria-selected","false"),e.onfocus=()=>R(t))}),-1===S&&D&&(null==(e=D["last"===g?O:0])||e.setAttribute("tabIndex","0"))},d=[D,S,R,g,O],h[27]=D,h[28]=S,h[29]=g,h[30]=O,h[31]=u,h[32]=d):(u=h[31],d=h[32]),(0,E.useEffect)(u,d),h[33]!==B||h[34]!==x?(p=()=>(null==x||x.addEventListener("keydown",B),()=>{null==x||x.removeEventListener("keydown",B)}),f=[B,x],h[33]=B,h[34]=x,h[35]=p,h[36]=f):(p=h[35],f=h[36]),(0,E.useEffect)(p,f)}let eDo=(0,F.styled)(B.Button)(Dh()),eDl=F.styled.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),eDs=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(22);p[0]!==e?({disabled:n,icon:r,"aria-label":i,mode:o,text:l,tone:s,...a}=e,p[0]=e,p[1]=n,p[2]=r,p[3]=i,p[4]=a,p[5]=o,p[6]=l,p[7]=s):(n=p[1],r=p[2],i=p[3],a=p[4],o=p[5],l=p[6],s=p[7]);let f=void 0===o?"bleed":o,h="var(--card-badge-".concat(s,"-dot-color)");p[8]!==h?(c={backgroundColor:h},p[8]=h,p[9]=c):c=p[9];let m=c,g=!!n;return p[10]!==m||p[11]!==s?(u=s&&(0,_.jsx)(eDl,{style:m}),p[10]=m,p[11]=s,p[12]=u):u=p[12],p[13]!==g||p[14]!==r||p[15]!==i||p[16]!==f||p[17]!==t||p[18]!==a||p[19]!==u||p[20]!==l?(d=(0,_.jsx)(eDo,{"data-ui":"StatusButton",...a,"aria-label":i,disabled:g,mode:f,ref:t,text:l,icon:r,children:u}),p[13]=g,p[14]=r,p[15]=i,p[16]=f,p[17]=t,p[18]=a,p[19]=u,p[20]=l,p[21]=d):d=p[21],d}),eDc=(0,E.forwardRef)(function(e,t){let n,r,i,a,o,l,s=(0,j.c)(13);s[0]!==e?({children:n,content:r,disabled:i,...a}=e,s[0]=e,s[1]=n,s[2]=r,s[3]=i,s[4]=a):(n=s[1],r=s[2],i=s[3],a=s[4]);let c=i||!r;return s[5]!==n?(o=(0,_.jsx)("div",{children:n}),s[5]=n,s[6]=o):o=s[6],s[7]!==r||s[8]!==t||s[9]!==a||s[10]!==c||s[11]!==o?(l=(0,_.jsx)(B.Tooltip,{...a,content:r,disabled:c,ref:t,children:o}),s[7]=r,s[8]=t,s[9]=a,s[10]=c,s[11]=o,s[12]=l):l=s[12],l});function eDu(){return(0,E.useContext)(D.ZIndexContext)}function eDd(e){let t,n=(0,j.c)(3),{children:r,zOffset:i}=e,a=eDu()[i];return n[0]!==r||n[1]!==a?(t=(0,_.jsx)(I.LayerProvider,{zOffset:a,children:r}),n[0]=r,n[1]=a,n[2]=t):t=n[2],t}(0,E.forwardRef)((e,t)=>{let n,r=(0,j.c)(2),{push:i}=(0,A.useToast)();return r[0]!==i?(n=()=>({push:i}),r[0]=i,r[1]=n):n=r[1],(0,E.useImperativeHandle)(t,n),null}).displayName="ForwardRef(ImperativeToast)";let eDp=e=>{let t,n,r,i,a,o,l=(0,j.c)(17),{path:s,hasRevertHover:c}=e,{onSetFocus:u}=(0,E.useContext)(D.ReviewChangesContext),d=eDu(),[p,f]=(0,E.useState)(!1);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{f(!0)},l[0]=t):t=l[0];let h=t;l[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{f(!1)},l[1]=n):n=l[1];let m=n,[g,y]=(0,E.useState)(null),v=g?"change-".concat(S.toString(s)):null;l[2]!==g||l[3]!==p||l[4]!==c||l[5]!==s||l[6]!==d.popover?(r=()=>({element:g,path:s,isChanged:!0,hasFocus:!1,hasHover:p,zIndex:Array.isArray(d.popover)?d.popover[0]:d.popover,hasRevertHover:c}),l[2]=g,l[3]=p,l[4]=c,l[5]=s,l[6]=d.popover,l[7]=r):r=l[7],L1(v,r,T.default),l[8]!==u||l[9]!==s?(i=e=>{var t,n,r;t=e,n=u,r=s,t.stopPropagation(),n(r)},l[8]=u,l[9]=s,l[10]=i):i=l[10];let b=i;return l[11]!==s?(a=!1,l[11]=s,l[12]=a):a=l[12],l[13]!==b||l[14]!==e.children||l[15]!==a?(o=(0,_.jsxs)("div",{ref:y,onClick:b,onMouseLeave:m,onMouseEnter:h,children:[a,e.children]}),l[13]=b,l[14]=e.children,l[15]=a,l[16]=o):o=l[16],o};function eDf(e,t,n){let r,i=t.slice(t.indexOf("-")+1)||"[]",a=S.fromString(i),o="".concat(e,"-").concat(S.toString(a));if(n.has(o))return n.get(o);if(a.length>0)for(let t=a.length-1;t>=0;t--){let r=a.slice(0,t),i="".concat(e,"-").concat(S.toString(r));if(n.has(i))return n.get(i)}for(let[t,i]of n){if(!("path"in i)||!t.startsWith(e))continue;let n=S.numEqualSegments(a,i.path),o=i.path[i.path.length-1],l=n===i.path.length-1&&(0,W.isKeyedObject)(o);if(0!==n&&!(n!==i.path.length&&!l)&&(r=i,n===a.length))break}return r}function eDh(e){let t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}let eDm=(e,t)=>{let n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth},i=!1,a=e;for(;a&&a!==t&&t.contains(a);)i&&(n.top+=a.offsetTop,n.left+=a.offsetLeft),eDh(a)&&(n.top=a.offsetTop,n.height=a.offsetHeight,n.left=a.offsetLeft,n.width=a.offsetWidth,i=!0),r.top+=a.offsetTop-a.scrollTop,r.left+=a.offsetLeft-a.scrollLeft,a=a.offsetParent;return{rect:r,bounds:n}};function eDg(e){var t;let n=e.element;if(!n)return;let r=n;for(;!(((t=r).scrollHeight!==t.offsetHeight||t.scrollWidth!==t.offsetWidth)&&eDh(t));)if(!(r=r.parentElement))return;r.scroll({top:r.scrollTop+e.rect.top-e.bounds.top+-15,left:0,behavior:"smooth"})}F.styled.rect(Dm());let eDy=F.styled.path(Dg()),eDv=F.styled.path(Dy()),eDb=(0,F.styled)(function(e){let t,n,r,i=(0,j.c)(9);i[0]!==e?({bounds:t,...n}=e,i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let a=Math.max(t.left,e.left),o=Math.max(e.top,t.top),l=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(a-e.left));return i[3]!==l||i[4]!==n||i[5]!==s||i[6]!==a||i[7]!==o?(r=(0,_.jsx)("rect",{...n,x:a,y:o,height:l,width:s}),i[3]=l,i[4]=n,i[5]=s,i[6]=a,i[7]=o,i[8]=r):r=i[8],r})(Dv());function eDx(e,t,n){return["M ".concat(e-4," ").concat(t-4*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+4," ").concat(t-4*n)].join("")}function eDC(e,t){return"M".concat(e," ").concat(t)}function eDk(e,t){return"L".concat(e," ").concat(t)}function eDw(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function eD_(e,t){let n=e.top+e.height/2,r=e.top+e.height<t.top+2,i=e.top>t.top+t.height-2;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+8,endY:e.top+e.height-8,isAbove:r,isBelow:i,outOfBounds:r||i}}let eDj=(0,E.memo)(function(e){let t,n,r,i,a,o,l,s,c,u,d,p,f=(0,j.c)(41),{from:h,to:m}=e;if(f[0]!==h||f[1]!==m){r=Symbol.for("react.early_return_sentinel");e:{if((t=function(e){let t={top:e.from.bounds.top+12,bottom:e.from.bounds.top+e.from.bounds.height-12,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-24},n=eD_(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;let r={top:e.to.bounds.top+12,bottom:e.to.bounds.top+e.to.bounds.height-12,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-24},i=eD_(e.to.rect,r),a=Math.max(i.startY,n.startY);return n.top=Math.min(a,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),i.top=Math.min(a,i.endY),i.top<t.top?i.top=Math.min(t.top,i.endY):i.top>t.bottom&&(i.top=Math.max(t.bottom,i.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),i.top=Math.min(Math.max(i.top,r.top),r.bottom),{from:n,to:i}}({from:h,to:m})).from.outOfBounds&&t.to.outOfBounds){r=null;break e}n=function(e){let{from:t,to:n}=e,{left:r,top:i}=t,{left:a,top:o}=n,l=[],s=Math.min(4,Math.abs(i-o)/2);return t.isAbove?l.push(eDC(r+8,i-12+2),eDk(r+8,i-4),eDw(r+8,i,r+8+4,i)):t.isBelow?l.push(eDC(r+8,i+12-2),eDk(r+8,i+4),eDw(r+8,i,r+8+4,i)):l.push(eDC(r,i)),n.isAbove?i<n.bounds.top?l.push(eDk(n.bounds.left-8-s,i),eDw(n.bounds.left-8,i,n.bounds.left-8,i+s),eDk(n.bounds.left-8,o-s),eDw(n.bounds.left-8,o,n.bounds.left-8+s,o),eDk(n.bounds.left+8-4,o),eDw(n.bounds.left+8,o,n.bounds.left+8,o-4),eDk(n.bounds.left+8,o-12+2)):l.push(eDk(n.bounds.left+8-4,i),eDw(n.bounds.left+8,i,n.bounds.left+8,i-4),eDk(n.bounds.left+8,o-12+2)):n.isBelow?i>n.bounds.top+n.bounds.height?l.push(eDk(n.bounds.left-8-s,i),eDw(n.bounds.left-8,i,n.bounds.left-8,i-s),eDk(n.bounds.left-8,o+s),eDw(n.bounds.left-8,o,n.bounds.left-8+s,o),eDk(n.bounds.left+8-4,o),eDw(n.bounds.left+8,o,n.bounds.left+8,o+4),eDk(n.bounds.left+8,o+12-2)):l.push(eDk(n.bounds.left+8-4,i),eDw(n.bounds.left+8,i,n.bounds.left+8,i+4),eDk(n.bounds.left+8,o+12-2)):i<o?l.push(eDk(n.bounds.left+8-s,i),eDw(n.bounds.left+8,i,n.bounds.left+8,i+s),eDk(n.bounds.left+8,o-s),eDw(n.bounds.left+8,o,n.bounds.left+8+s,o),eDk(a,o)):l.push(eDk(n.bounds.left+8-s,i),eDw(n.bounds.left+8,i,n.bounds.left+8,i-s),eDk(n.bounds.left+8,o+s),eDw(n.bounds.left+8,o,n.bounds.left+8+s,o),eDk(a,o)),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.join(t)}(l)}(t)}f[0]=h,f[1]=m,f[2]=t,f[3]=n,f[4]=r}else t=f[2],n=f[3],r=f[4];if(r!==Symbol.for("react.early_return_sentinel"))return r;let g=n;f[5]!==g?(i=(0,_.jsx)(eDv,{d:g,strokeWidth:16}),a=(0,_.jsx)(eDy,{d:g,strokeWidth:1}),f[5]=g,f[6]=i,f[7]=a):(i=f[6],a=f[7]);let y=m.rect.left-.5;return f[8]!==y||f[9]!==m.bounds||f[10]!==m.rect.height||f[11]!==m.rect.top?(o=(0,_.jsx)(eDb,{top:m.rect.top,left:y,height:m.rect.height,width:1,bounds:m.bounds}),f[8]=y,f[9]=m.bounds,f[10]=m.rect.height,f[11]=m.rect.top,f[12]=o):o=f[12],f[13]!==t.from.bounds||f[14]!==t.from.isAbove||f[15]!==t.from.left?(l=t.from.isAbove&&(0,_.jsx)(eDy,{d:eDx(t.from.left+8,t.from.bounds.top-12+2,-1),strokeWidth:1}),f[13]=t.from.bounds,f[14]=t.from.isAbove,f[15]=t.from.left,f[16]=l):l=f[16],f[17]!==t.from.bounds||f[18]!==t.from.isBelow||f[19]!==t.from.left?(s=t.from.isBelow&&(0,_.jsx)(eDy,{d:eDx(t.from.left+8,t.from.bounds.top+t.from.bounds.height+12-2,1),strokeWidth:1}),f[17]=t.from.bounds,f[18]=t.from.isBelow,f[19]=t.from.left,f[20]=s):s=f[20],f[21]!==t.to.bounds||f[22]!==t.to.isAbove?(c=t.to.isAbove&&(0,_.jsx)(eDy,{d:eDx(t.to.bounds.left+8,t.to.bounds.top-12+2,-1),strokeWidth:1}),f[21]=t.to.bounds,f[22]=t.to.isAbove,f[23]=c):c=f[23],f[24]!==t.to.bounds||f[25]!==t.to.isBelow?(u=t.to.isBelow&&(0,_.jsx)(eDy,{d:eDx(t.to.bounds.left+8,t.to.bounds.top+t.to.bounds.height+12-2,1),strokeWidth:1}),f[24]=t.to.bounds,f[25]=t.to.isBelow,f[26]=u):u=f[26],f[27]!==t.from.bounds||f[28]!==t.from.outOfBounds||f[29]!==t.to.bounds||f[30]!==t.to.outOfBounds?(d=!1,f[27]=t.from.bounds,f[28]=t.from.outOfBounds,f[29]=t.to.bounds,f[30]=t.to.outOfBounds,f[31]=d):d=f[31],f[32]!==u||f[33]!==d||f[34]!==i||f[35]!==a||f[36]!==o||f[37]!==l||f[38]!==s||f[39]!==c?(p=(0,_.jsxs)(_.Fragment,{children:[i,a,o,l,s,c,u,d]}),f[32]=u,f[33]=d,f[34]=i,f[35]=a,f[36]=o,f[37]=l,f[38]=s,f[39]=c,f[40]=p):p=f[40],p}),eDS=F.styled.svg(Db());function eDE(e,t,n,r){let i=[],a=[];for(let n of e){if("changePanel"===n[0]||!n[1].isChanged)continue;let[e,r]=n;if(e===t||r.hasHover){i.push(n);continue}if(r.hasFocus){a.push(n);continue}}let o=i.length>0;return{connectors:(o?i:a).map(e=>{let[t]=e,r=eDf("field",t,n),i=eDf("change",t,n);return r&&i?{field:{id:t,...r},change:{id:t,...i}}:null}).filter(e=>!!(null==e?void 0:e.field.element)&&!!(null==e?void 0:e.change.element)).map(e=>{let{field:t,change:n}=e;return{hasHover:t.hasHover||n.hasHover,hasFocus:t.hasFocus,hasRevertHover:n.hasRevertHover,field:{...t,...eDm(t.element,r)},change:{...n,...eDm(n.element,r)}}}),isHoverConnector:o}}function eDT(e){let t,n,r,i,a,o,l,s=(0,j.c)(23),{rootElement:c,onSetFocus:u}=e,[d,p]=(0,E.useState)(null),f=LQ(),{isReviewChangesOpen:h}=function(){let e,t=(0,j.c)(2),n=(0,E.useContext)(D.ReviewChangesContext);return t[0]!==n?(e={...n,changesOpen:n.isReviewChangesOpen},t[0]=n,t[1]=e):e=t[1],e}();s[0]!==f?(t=new Map(f),s[0]=f,s[1]=t):t=s[1];let m=t;s[2]!==f||s[3]!==m||s[4]!==d||s[5]!==c?(n=()=>eDE(f,d,m,c),s[2]=f,s[3]=m,s[4]=d,s[5]=c,s[6]=n):n=s[6];let[g,y]=(0,E.useState)(n),{connectors:v}=g;s[7]!==v?(r=v.sort(eDD),s[7]=v,s[8]=r):r=s[8];let b=r[0];s[9]!==f||s[10]!==m||s[11]!==d||s[12]!==h||s[13]!==c?(i=()=>{h&&y(eDE(f,d,m,c))},s[9]=f,s[10]=m,s[11]=d,s[12]=h,s[13]=c,s[14]=i):i=s[14];let x=i;(function(e,t){let n,r,i=(0,j.c)(4);i[0]!==e||i[1]!==t?(n=()=>Im.observe(e,t),r=[e,t],i[0]=e,i[1]=t,i[2]=n,i[3]=r):(n=i[2],r=i[3]),(0,E.useEffect)(n,r)})(c,x),function(e){let t,n,r=(0,j.c)(4),i=(0,E.useContext)(D.ScrollContext);r[0]!==e||r[1]!==i?(t=()=>null==i?void 0:i.subscribe(e),n=[e,i],r[0]=e,r[1]=i,r[2]=t,r[3]=n):(t=r[2],n=r[3]),(0,E.useEffect)(t,n)}(x);let C=b&&b.field.zIndex;return s[15]!==C?(a={zIndex:C},s[15]=C,s[16]=a):a=s[16],s[17]!==u||s[18]!==b?(o=(null==b?void 0:b.change)&&(0,_.jsx)(eDI,{field:b.field,change:b.change,onSetFocus:u,setHovered:p},b.field.id),s[17]=u,s[18]=b,s[19]=o):o=s[19],s[20]!==a||s[21]!==o?(l=(0,_.jsx)(eDS,{style:a,children:o}),s[20]=a,s[21]=o,s[22]=l):l=s[22],l}function eDD(e,t){return t.field.id.length-e.field.id.length}function eDI(e){let t,n,r,i,a,o,l,s,c,u,d,p=(0,j.c)(35),{change:f,field:h,onSetFocus:m,setHovered:g}=e;p[0]!==f||p[1]!==h||p[2]!==m?(t=()=>{eDg(h),eDg(f),m(h.path)},p[0]=f,p[1]=h,p[2]=m,p[3]=t):t=p[3];let y=t;p[4]!==h.id||p[5]!==g?(n=()=>g(h.id),p[4]=h.id,p[5]=g,p[6]=n):n=p[6];let v=n;p[7]!==g?(r=()=>g(null),p[7]=g,p[8]=r):r=p[8];let b=r,x=h.rect.left+3;p[9]!==h.rect||p[10]!==x?(i={...h.rect,left:x},p[9]=h.rect,p[10]=x,p[11]=i):i=p[11],p[12]!==h.bounds||p[13]!==i?(a={rect:i,bounds:h.bounds},p[12]=h.bounds,p[13]=i,p[14]=a):a=p[14];let C=a,k=f.rect.left+1;p[15]!==f.rect||p[16]!==k?(o={...f.rect,left:k},p[15]=f.rect,p[16]=k,p[17]=o):o=p[17],p[18]!==f.bounds||p[19]!==o?(l={rect:o,bounds:f.bounds},p[18]=f.bounds,p[19]=o,p[20]=l):l=p[20];let w=l;return p[21]!==C||p[22]!==w?(s=(0,_.jsx)(eDj,{from:C,to:w}),p[21]=C,p[22]=w,p[23]=s):s=p[23],p[24]!==v||p[25]!==b||p[26]!==y||p[27]!==s?(c=(0,_.jsx)("g",{onClick:y,onMouseEnter:v,onMouseLeave:b,children:s}),p[24]=v,p[25]=b,p[26]=y,p[27]=s,p[28]=c):c=p[28],p[29]!==f||p[30]!==h?(u=!1,p[29]=f,p[30]=h,p[31]=u):u=p[31],p[32]!==c||p[33]!==u?(d=(0,_.jsxs)(_.Fragment,{children:[c,u]}),p[32]=c,p[33]=u,p[34]=d):d=p[34],d}function eDA(e){let t,n,r,i,a,o,l,s,c,u,d=(0,j.c)(22);d[0]!==e?({children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:i,onSetFocus:a,...o}=e,d[0]=e,d[1]=t,d[2]=n,d[3]=r,d[4]=i,d[5]=a,d[6]=o):(t=d[1],n=d[2],r=d[3],i=d[4],a=d[5],o=d[6]);let[p,f]=(0,E.useState)();d[7]!==r||d[8]!==i||d[9]!==a?(l={isReviewChangesOpen:r,onOpenReviewChanges:i,onSetFocus:a},d[7]=r,d[8]=i,d[9]=a,d[10]=l):l=d[10];let h=l;return d[11]!==a||d[12]!==p?(s=p&&(0,_.jsx)(eDT,{rootElement:p,onSetFocus:a}),d[11]=a,d[12]=p,d[13]=s):s=d[13],d[14]!==t||d[15]!==n||d[16]!==o||d[17]!==s?(c=(0,_.jsx)(LX,{children:(0,_.jsxs)($l,{...o,ref:f,className:n,children:[t,s]})}),d[14]=t,d[15]=n,d[16]=o,d[17]=s,d[18]=c):c=d[18],d[19]!==h||d[20]!==c?(u=(0,_.jsx)(D.ReviewChangesContext.Provider,{value:h,children:c}),d[19]=h,d[20]=c,d[21]=u):u=d[21],u}function eDO(){let e=(0,E.useContext)(D.SanityCreateConfigContext);if(!e)throw Error("useSanityCreateConfig must be used within a SanityCreateConfigProvider");return e}function eDP(e){let{selectedPerspective:t,isDraftModelEnabled:n,schemaType:r}=e;return typeof r>"u"?{result:!1,reason:"INSUFFICIENT_DATA"}:Id(t)&&"active"!==t.state?{result:!1,reason:"RELEASE_NOT_ACTIVE"}:R_(t)&&!0!==r.liveEdit?{result:!1,reason:"PUBLISHED_NOT_WRITEABLE"}:Rj(t)&&!n&&!0!==r.liveEdit?{result:!1,reason:"DRAFTS_NOT_WRITEABLE"}:{result:!0}}}]);