(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58791,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(881933),i=e.i(271645),n=e.i(722249),s=e.i(827341),o=e.i(156363),u=e.i(993817),c=e.i(537152),r=e.i(926005),a=(0,i.memo)(e=>{let a,d,v,y,b,h,g,R=(0,t.c)(14),{comlink:E,perspective:w}=e;R[0]!==w?(a=(0,c.isReleasePerspective)(w)?c.RELEASES_STUDIO_CLIENT_OPTIONS:{apiVersion:r.API_VERSION},R[0]=w,R[1]=a):a=R[1];let P=(0,c.useClient)(a);return R[2]!==P||R[3]!==E?(d=()=>{let e=P.listen('*[!(_id in path("_.**"))]',{},{effectFormat:"mendoza",events:["welcome","mutation","reconnect"],includePreviousRevision:!1,includeResult:!1,includeAllVersions:!0,tag:"presentation-documents",visibility:"transaction"}).pipe((0,n.filter)(l)),t=e.pipe((0,n.filter)(p),(0,s.shareReplay)({bufferSize:1,refCount:!1})),i=E.on("visual-editing/snapshot-welcome",async()=>({event:await new Promise(e=>{t.pipe((0,o.first)()).subscribe(t=>{e(t)})})})),c=e.pipe((0,n.filter)(f)),r=e.pipe((0,n.filter)(m)),a=(0,u.merge)(t,r,c).subscribe(e=>{E.post("presentation/snapshot-event",{event:e})});return()=>{i(),a.unsubscribe()}},v=[P,E],R[2]=P,R[3]=E,R[4]=d,R[5]=v):(d=R[4],v=R[5]),(0,i.useEffect)(d,v),R[6]!==P||R[7]!==E?(y=()=>E.on("visual-editing/fetch-snapshot",async e=>({snapshot:await P.getDocument(e.documentId,{tag:"document.snapshots"})})),b=[P,E],R[6]=P,R[7]=E,R[8]=y,R[9]=b):(y=R[8],b=R[9]),(0,i.useEffect)(y,b),R[10]!==P||R[11]!==E?(h=()=>E.on("visual-editing/mutate",async e=>P.dataRequest("mutate",e,{visibility:"async",returnDocuments:!0})),g=[P,E],R[10]=P,R[11]=E,R[12]=h,R[13]=g):(h=R[12],g=R[13]),(0,i.useEffect)(h,g),null});function l(e){return"welcome"===e.type||"reconnect"===e.type||"mutation"===e.type}function p(e){return"welcome"===e.type}function f(e){return"reconnect"===e.type}function m(e){return"mutation"===e.type}}]);